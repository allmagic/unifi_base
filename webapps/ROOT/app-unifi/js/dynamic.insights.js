!function(){return function t(i,e,s){function n(a,r){if(!e[a]){if(!i[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var p=e[a]={exports:{}};i[a][0].call(p.exports,function(t){return n(i[a][1][t]||t)},p,p.exports,t,i,e,s)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}}()({1:[function(t,i,e){},{}],2:[function(t,i,e){"use strict";var s=Object.prototype.hasOwnProperty;function n(t,i){return Array.isArray(t)?function(t,i){for(var e,s="",o="",a=Array.isArray(i),r=0;r<t.length;r++)(e=n(t[r]))&&(a&&i[r]&&(e=l(e)),s=s+o+e,o=" ");return s}(t,i):t&&"object"==typeof t?function(t){var i="",e="";for(var n in t)n&&t[n]&&s.call(t,n)&&(i=i+e+n,e=" ");return i}(t):t||""}function o(t){if(!t)return"";if("object"==typeof t){var i="";for(var e in t)s.call(t,e)&&(i=i+e+":"+t[e]+";");return i}return t+""}function a(t,i,e,s){return!1!==i&&null!=i&&(i||"class"!==t&&"style"!==t)?!0===i?" "+(s?t:t+'="'+t+'"'):("function"==typeof i.toJSON&&(i=i.toJSON()),"string"==typeof i||(i=JSON.stringify(i),e||-1===i.indexOf('"'))?(e&&(i=l(i))," "+t+'="'+i+'"'):" "+t+"='"+i.replace(/'/g,"&#39;")+"'"):""}e.merge=function t(i,e){if(1===arguments.length){for(var s=i[0],n=1;n<i.length;n++)s=t(s,i[n]);return s}for(var a in e)if("class"===a){var r=i[a]||[];i[a]=(Array.isArray(r)?r:[r]).concat(e[a]||[])}else if("style"===a){var r=o(i[a]);r=r&&";"!==r[r.length-1]?r+";":r;var l=o(e[a]);l=l&&";"!==l[l.length-1]?l+";":l,i[a]=r+l}else i[a]=e[a];return i},e.classes=n,e.style=o,e.attr=a,e.attrs=function(t,i){var e="";for(var r in t)if(s.call(t,r)){var l=t[r];if("class"===r){l=n(l),e=a(r,l,!1,i)+e;continue}"style"===r&&(l=o(l)),e+=a(r,l,!1,i)}return e};var r=/["&<>]/;function l(t){var i=""+t,e=r.exec(i);if(!e)return t;var s,n,o,a="";for(s=e.index,n=0;s<i.length;s++){switch(i.charCodeAt(s)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}n!==s&&(a+=i.substring(n,s)),n=s+1,a+=o}return n!==s?a+i.substring(n,s):a}e.escape=l,e.rethrow=function i(e,s,n,o){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&s||o))throw e.message+=" on line "+n,e;try{o=o||t("fs").readFileSync(s,"utf8")}catch(t){i(e,null,n)}var a=3,r=o.split("\n"),l=Math.max(n-a,0),c=Math.min(r.length,n+a);var a=r.slice(l,c).map(function(t,i){var e=i+l+1;return(e==n?"  > ":"    ")+e+"| "+t}).join("\n");e.path=s;e.message=(s||"Pug")+":"+n+"\n"+a+"\n\n"+e.message;throw e}},{fs:1}],3:[function(t,i,e){"use strict";var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}();angular.module("app-unifi-manage-insights").controller("DynamicDnsStatsListController",["BasePaginatedListController","dynamicDnsStats","gatewayUtils","insightsStatesPrivilegesControllerMixin","listCollapsibleColumnControllerMixin","DynamicDnsFilter","dynamicDnsStatsListColumnStore",function(t,i,e,n,o,a,r){return new(function(l){function c(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return t.dynamicDnsStats=i,t.gatewayUtils=e,t.columnStore=r,t.filter=new a,t.collapsibleColumnKeyActions="collapse:dynamicDnsStatsList:actions",t.defaultSortBy="status",t.isColumnVisible=t.columnStore.isColumnVisible.bind(t.columnStore),t.isCustomized=t.columnStore.getCustomized.bind(t.columnStore),o(t),n(t),t}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(c,t),s(c,[{key:"initFilters",value:function(){this.isFiltered=this.filter.isFiltered.bind(this.filter)}},{key:"getCollection",value:function(){return i.repository.collection}},{key:"refreshColumns",value:function(){this.isStateChanging()||this.columnStore.setColumns()}},{key:"refresh",value:function(t){return this.refreshColumns(),function t(i,e,s){null===i&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,e);if(void 0===n){var o=Object.getPrototypeOf(i);return null===o?void 0:t(o,e,s)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(s):void 0}(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"refresh",this).call(this,t)}}]),c}())}])},{}],4:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").directive("unifiDynamicDnsStatsList",["PaginatedListDirective",function(i){return new i("dynamicDnsStats",t("./dynamicDnsStatsList.pug")())}])},{"./dynamicDnsStatsList.pug":5}],5:[function(t,i,e){t("pug-runtime");i.exports=function(t){var i="";return i=i+'<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="dynamicDnsStatsListCtrl.statesWithPermission"></unifi-state-switcher></div></div></div><div class="appActionBar__right"><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="dynamicDnsStatsListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="dynamicDnsStatsListCtrl.view.isRefreshing()"></unifi-search></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="dynamicDnsStatsTable" collection-view-sort="dynamicDnsStatsListCtrl.view" ng-class="{          \'is-not-responsive\': dynamicDnsStatsListCtrl.columnStore.getCustomized() || !dynamicDnsStatsListCtrl.isResponsive()        }" unifi-condensed="appTable--condensed"><thead><tr><th class="dynamicDnsStatsService" collection-view-sort-by="service" ng-if="dynamicDnsStatsListCtrl.isColumnVisible(\'service\')"><span translate="DYNAMIC_DNS_STATS_TABLE_HEADER_SERVICE"></span></th><th class="dynamicDnsStatsStatus" collection-view-sort-by="status" ng-if="dynamicDnsStatsListCtrl.isColumnVisible(\'status\')"><span translate="DYNAMIC_DNS_STATS_TABLE_HEADER_STATUS"></span></th><th class="dynamicDnsStatsHostname" collection-view-sort-by="host_name" ng-if="dynamicDnsStatsListCtrl.isColumnVisible(\'host_name\')"><span translate="DYNAMIC_DNS_STATS_TABLE_HEADER_HOSTNAME"></span></th><th class="dynamicDnsStatsLogin" collection-view-sort-by="login" ng-if="dynamicDnsStatsListCtrl.isColumnVisible(\'login\')"><span translate="DYNAMIC_DNS_STATS_TABLE_HEADER_USERNAME"></span></th><th class="dynamicDnsStatsServer" collection-view-sort-by="server" ng-if="dynamicDnsStatsListCtrl.isColumnVisible(\'server\')"><span translate="DYNAMIC_DNS_STATS_TABLE_HEADER_SERVER"></span></th><th class="dynamicDnsStatsIp" collection-view-sort-by="ip" ng-if="dynamicDnsStatsListCtrl.isColumnVisible(\'ip\')"><span translate="DYNAMIC_DNS_STATS_TABLE_HEADER_IP"></span></th><th class="dynamicDnsStatsLastUpdated" collection-view-sort-by="last_updated" ng-if="dynamicDnsStatsListCtrl.isColumnVisible(\'last_updated\')"><span translate="DYNAMIC_DNS_STATS_TABLE_HEADER_LAST_UPDATED"></span></th><th class="dynamicDnsStatsActions appTableCell--withAction" ng-if="dynamicDnsStatsListCtrl.isColumnVisible(\'actions\')"><span translate="DYNAMIC_DNS_STATS_TABLE_HEADER_ACTIONS"></span><span unifi-collapsible-table-icon="dynamicDnsStatsListCtrl.collapsibleColumnKeyActions"></span><unifi-list-column-selector unifi-list-column-selector-column-store="dynamicDnsStatsListCtrl.columnStore"></unifi-list-column-selector></th></tr></thead><tfoot ng-if="dynamicDnsStatsListCtrl.view.getModels().length"><tr><td colspan="{{dynamicDnsStatsListCtrl.columnStore.getColumns().length + (dynamicDnsStatsListCtrl.isColumnVisible(\'actions\') ? 0 : 1)}}"><unifi-list-pagination unifi-list-pagination-current-page="dynamicDnsStatsListCtrl.currentPage" unifi-list-pagination-rows-per-page="dynamicDnsStatsListCtrl.rowsPerPage" unifi-list-pagination-total-rows="dynamicDnsStatsListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in dynamicDnsStatsListCtrl.view.getModels(),              startFrom (dynamicDnsStatsListCtrl.currentPage - 1) * dynamicDnsStatsListCtrl.rowsPerPage,              limitTo dynamicDnsStatsListCtrl.rowsPerPage" collection-view-repeat-watch-all="dynamicDnsStatsListCtrl.columnStore.getColumns(); dynamicDnsStatsListCtrl.isColumnCollapsed(dynamicDnsStatsListCtrl.collapsibleColumnKeyActions)" data-id="{{::model.id}}"><td class="dynamicDnsStatsService" ng-if="::dynamicDnsStatsListCtrl.isColumnVisible(\'service\')">{{::model.get(\'service\')}}</td><td class="dynamicDnsStatsStatus" ng-if="::dynamicDnsStatsListCtrl.isColumnVisible(\'status\')">{{::model.get(\'status\')}}</td><td class="dynamicDnsStatsHostname" ng-if="::dynamicDnsStatsListCtrl.isColumnVisible(\'host_name\')">{{::model.get(\'host_name\')}}</td><td class="dynamicDnsStatsLogin" ng-if="::dynamicDnsStatsListCtrl.isColumnVisible(\'login\')">{{::model.get(\'login\')}}</td><td class="dynamicDnsStatsServer" ng-if="::dynamicDnsStatsListCtrl.isColumnVisible(\'server\')">{{::model.get(\'server\')}}</td><td class="dynamicDnsStatsIP" ng-if="::dynamicDnsStatsListCtrl.isColumnVisible(\'ip\')">{{::model.get(\'ip\')}}</td><td class="dynamicDnsStatsLastUpdated" ng-if="::dynamicDnsStatsListCtrl.isColumnVisible(\'last_updated\')">{{::model.get(\'last_updated\') | seconds}}</td><td class="clientActions appTableCell--actions" unifi-collapsible-table-cell="dynamicDnsStatsListCtrl.collapsibleColumnKeyActions" unifi-collapsible-table-cell-bind-once="true"><a class="appMainButton appMainButton--tertiary" ng-if="dynamicDnsStatsListCtrl.isColumnVisible(\'actions\')" ui-sref="manage.site.settings.services.dynamicdns({action: \'edit\', id: model.id})"><div'+(e="unifi-if-role-admin",n=!0,o=!0,a=!0,!1!==n&&null!=n&&(n||"class"!==e&&"style"!==e)?!0===n?" "+(a?e:e+'="'+e+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(t){var i=""+t,e=s.exec(i);if(!e)return t;var n,o,a,r="";for(n=e.index,o=0;n<i.length;n++){switch(i.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}o!==n&&(r+=i.substring(o,n)),o=n+1,r+=a}return o!==n?r+i.substring(o,n):r}(n))," "+e+'="'+n+'"'):" "+e+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' title="{{\'COMMON_ACTIONS_EDIT\' | translate}}"><span class="button__icon icon ubnt-icon--pencil"></span><span class="button__label" translate="COMMON_ACTIONS_EDIT"></span></div><div unifi-if-role-admin="false" title="{{\'COMMON_ACTIONS_VIEW\' | translate}}"><span class="button__icon icon ubnt-icon--eye2"></span><span class="button__label" translate="COMMON_ACTIONS_VIEW"></span></div></a></td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!dynamicDnsStatsListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="DYNAMIC_DNS_STATS_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="!dynamicDnsStatsListCtrl.isFiltered()" translate="DYNAMIC_DNS_STATS_TABLE_EMPTY_NO_DYNAMIC_DNS"></p><p class="noMarginBottom" ng-if="dynamicDnsStatsListCtrl.isFiltered()" translate="DYNAMIC_DNS_STATS_TABLE_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div></div></div>';var e,n,o,a};var s=/["&<>]/},{"pug-runtime":2}],6:[function(t,i,e){"use strict";var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}(),n=function t(i,e,s){null===i&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,e);if(void 0===n){var o=Object.getPrototypeOf(i);return null===o?void 0:t(o,e,s)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(s):void 0};angular.module("app-unifi-manage-insights").controller("KnownClientListController",["BaseClientListController","account","clients","insightsStatesPrivilegesControllerMixin","knownClients","KnownClientFilter","knownClientsComparator","knownClientListColumnStore","BatchClientModel","CacheableClientCollection","listBatchEditControllerMixin","listCollapsibleColumnControllerMixin",function(t,i,e,o,a,r,l,c,p,u,d,h){return new(function(g){function f(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,f);var t=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return t.account=i,t.clients=e,t.knownClients=a,t.comparator=l,t.columnStore=c,t.filter=new r,t.collapsibleColumnKeyActions="collapse:knowClient:actions",t.listeners={},d(t),t.initBatchEditModel("batch:sta","batch:sta",u,p),t.useBatchEditId("batch:sta"),h(t),o(t),t}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(f,t),s(f,[{key:"initView",value:function(){n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"initView",this).call(this),this.listeners.knownClients=a.repository.collection.onUpdate(this.updateAllCounts.bind(this)),this.setFilterCounts(),this.setViewFilterCounts()}},{key:"destroyView",value:function(){n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"destroyView",this).call(this),Object.keys(this.listeners).forEach(function(t){this.listeners[t].stopListening()}.bind(this))}},{key:"initFilters",value:function(){n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"initFilters",this).call(this);var t=this.listState.getFilter("configuration");this.filter.setConfigurationFilter(t&&"all"!==t?"configured"===t:void 0),this.filter.setBlockedFilter(!!this.listState.getFilter("blocked")||void 0),this.filter.setNotedFilter(!!this.listState.getFilter("noted")||void 0),this.filter.setStaticIpFilter(!!this.listState.getFilter("staticIp")||void 0),this.getConfigurationFilter=this.filter.getConfigurationFilter.bind(this.filter),this.hasConfigurationFilter=this.filter.hasConfigurationFilter.bind(this.filter),this.hasBlockedFilter=this.filter.hasBlockedFilter.bind(this.filter),this.hasNotedFilter=this.filter.hasNotedFilter.bind(this.filter),this.hasStaticIpFilter=this.filter.hasStaticIpFilter.bind(this.filter),this.initFilterView()}},{key:"initFilterView",value:function(){this.filterViewGroups=[],this.filterViewGroups.push({id:"knownClientWired",translationKey:"KNOWN_CLIENT_FILTER_TITLE_WIRED",items:[{id:"all",translationKey:"KNOWN_CLIENT_WIRED_FILTER_ALL",excludeFromSummary:!0,getCount:function(){return this.counts.sum.all}.bind(this),isSelected:function(){return!this.hasWiredFilter()}.bind(this),onSelect:function(){return this.clearWiredFilter()}.bind(this)},{id:"wireless",translationKey:"KNOWN_CLIENT_WIRED_FILTER_FALSE",getCount:function(){return this.counts.wireless.all}.bind(this),isSelected:function(){return!1===this.getWiredFilter()}.bind(this),onSelect:function(){return this.setWiredFilter(!1)}.bind(this)},{id:"wired",translationKey:"KNOWN_CLIENT_WIRED_FILTER_TRUE",getCount:function(){return this.counts.wired.all}.bind(this),isSelected:function(){return!0===this.getWiredFilter()}.bind(this),onSelect:function(){return this.setWiredFilter(!0)}.bind(this)}]}),this.filterViewGroups.push({id:"knownClientGuest",translationKey:"KNOWN_CLIENT_FILTER_TITLE_GUEST",items:[{id:"all",translationKey:"KNOWN_CLIENT_GUEST_FILTER_ALL",excludeFromSummary:!0,getCount:function(){return this.viewCounts.clients.all}.bind(this),isSelected:function(){return!this.hasGuestFilter()}.bind(this),onSelect:function(){return this.clearGuestFilter()}.bind(this)},{id:"user",translationKey:"KNOWN_CLIENT_GUEST_FILTER_FALSE",getCount:function(){return this.viewCounts.clients.users}.bind(this),isSelected:function(){return!1===this.getGuestFilter()}.bind(this),onSelect:function(){return this.setGuestFilter(!1)}.bind(this)},{id:"guest",translationKey:"KNOWN_CLIENT_GUEST_FILTER_TRUE",getCount:function(){return this.viewCounts.clients.guests}.bind(this),isSelected:function(){return!0===this.getGuestFilter()}.bind(this),onSelect:function(){return this.setGuestFilter(!0)}.bind(this)}]}),this.filterViewGroups.push({id:"knownClientConfiguration",translationKey:"KNOWN_CLIENT_FILTER_TITLE_CONFIGURATION",items:[{id:"all",translationKey:"KNOWN_CLIENT_CONFIGURATION_FILTER_ALL",excludeFromSummary:!0,isSelected:function(){return!this.hasConfigurationFilter()}.bind(this),onSelect:function(){return this.clearConfigurationFilter()}.bind(this)},{id:"user",translationKey:"KNOWN_CLIENT_CONFIGURATION_FILTER_TRUE",isSelected:function(){return!0===this.getConfigurationFilter()}.bind(this),onSelect:function(){return this.setConfigurationFilter(!0)}.bind(this)},{id:"guest",translationKey:"KNOWN_CLIENT_CONFIGURATION_FILTER_FALSE",isSelected:function(){return!1===this.getConfigurationFilter()}.bind(this),onSelect:function(){return this.setConfigurationFilter(!1)}.bind(this)}]}),this.filterViewGroups.push({id:"knownClientExtra",translationKey:"KNOWN_CLIENT_FILTER_TITLE_EXTRA",allowMultiple:!0,isVisible:function(){return!this.hasConfigurationFilter()}.bind(this),items:[{id:"blocked",translationKey:"KNOWN_CLIENT_BLOCKED_FILTER",isSelected:function(){return this.hasBlockedFilter()}.bind(this),onSelect:function(){return this.toggleBlockedFilter()}.bind(this)},{id:"noted",translationKey:"KNOWN_CLIENT_NOTED_FILTER",isSelected:function(){return this.hasNotedFilter()}.bind(this),onSelect:function(){return this.toggleNotedFilter()}.bind(this)},{id:"staticIp",translationKey:"KNOWN_CLIENT_STATIC_IP_FILTER",isSelected:function(){return this.hasStaticIpFilter()}.bind(this),onSelect:function(){return this.toggleStaticIpFilter()}.bind(this)}]})}},{key:"setFilterCounts",value:function(){this.counts={wired:{users:0,guests:0},wireless:{users:0,guests:0}},a.repository.collection.each(function(t){t.get("is_wired")?t.get("is_guest")?this.counts.wired.guests++:this.counts.wired.users++:t.get("is_guest")?this.counts.wireless.guests++:this.counts.wireless.users++}.bind(this)),this.counts.wireless.all=this.counts.wireless.users+this.counts.wireless.guests,this.counts.wired.all=this.counts.wired.users+this.counts.wired.guests,this.counts.sum={},this.counts.sum.users=this.counts.wired.users+this.counts.wireless.users,this.counts.sum.guests=this.counts.wired.guests+this.counts.wireless.guests,this.counts.sum.all=this.counts.sum.users+this.counts.sum.guests}},{key:"setViewFilterCounts",value:function(){this.viewCounts={clients:{}},this.hasWiredFilter()?this.getWiredFilter()?this.viewCounts.clients=this.counts.wired:this.viewCounts.clients=this.counts.wireless:this.viewCounts.clients=this.counts.sum}},{key:"updateAllCounts",value:function(){this.setFilterCounts(),this.setViewFilterCounts()}},{key:"setConfigurationFilter",value:function(t){this.beginStateChange(),this.listState.addFilter("configuration",t?"configured":"default"),this.filter.setConfigurationFilter(t),this.commitStateChange()}},{key:"clearConfigurationFilter",value:function(){this.beginStateChange(),this.listState.removeFilter("configuration"),this.filter.clearConfigurationFilter(),this.commitStateChange()}},{key:"toggleBlockedFilter",value:function(){this.beginStateChange(),this.hasBlockedFilter()?(this.listState.removeFilter("blocked"),this.filter.setBlockedFilter(void 0)):(this.listState.addFilter("blocked","blocked"),this.filter.setBlockedFilter(!0)),this.commitStateChange()}},{key:"toggleNotedFilter",value:function(){this.beginStateChange(),this.hasNotedFilter()?(this.listState.removeFilter("noted"),this.filter.setNotedFilter(void 0)):(this.listState.addFilter("noted","noted"),this.filter.setNotedFilter(!0)),this.commitStateChange()}},{key:"toggleStaticIpFilter",value:function(){this.beginStateChange(),this.hasStaticIpFilter()?(this.listState.removeFilter("staticIp"),this.filter.setStaticIpFilter(void 0)):(this.listState.addFilter("staticIp","static-ip"),this.filter.setStaticIpFilter(!0)),this.commitStateChange()}},{key:"commitStateChange",value:function(){n(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"commitStateChange",this).call(this).then(function(){this.setViewFilterCounts()}.bind(this))}},{key:"getCollection",value:function(){return a.repository.collection}},{key:"getWithin",value:function(){return a.getWithin()}},{key:"onUpdateWithin",value:function(t){this.beginStateChange(),this.listState.addFilter("within",t),a.updateWithin(t),this.commitStateChange(),this.showLoader=!0,a.repository.refresh().then(function(){this.showLoader=!1}.bind(this))}},{key:"isBatchEditAllowed",value:function(){return!0}}]),f}())}])},{}],7:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").directive("unifiKnownClientList",["PaginatedListDirective","listBatchEditDirectiveMixin",function(i,e){var s=new i("knownClient",t("./knownClientList.pug")());return s.addMixin(e),s}])},{"./knownClientList.pug":8}],8:[function(t,i,e){t("pug-runtime");function s(t,i,e,s){return!1!==i&&null!=i&&(i||"class"!==t&&"style"!==t)?!0===i?" "+(s?t:t+'="'+t+'"'):("function"==typeof i.toJSON&&(i=i.toJSON()),"string"==typeof i||(i=JSON.stringify(i),e||-1===i.indexOf('"'))?(e&&(i=function(t){var i=""+t,e=n.exec(i);if(!e)return t;var s,o,a,r="";for(s=e.index,o=0;s<i.length;s++){switch(i.charCodeAt(s)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}o!==s&&(r+=i.substring(o,s)),o=s+1,r+=a}return o!==s?r+i.substring(o,s):r}(i))," "+t+'="'+i+'"'):" "+t+"='"+i.replace(/'/g,"&#39;")+"'"):""}i.exports=function(t){var i="";return i=i+'<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="knownClientListCtrl.statesWithPermission"></unifi-state-switcher></div><div class="appActionBarFilter"><unifi-time-filter-dropdown unifi-time-filter-dropdown-default-hours="knownClientListCtrl.getWithin()" unifi-time-filter-dropdown-callback="knownClientListCtrl.onUpdateWithin(hours)" unifi-time-filter-dropdown-values="[24, 72, 168, 336, 720, 2880, 0]"></unifi-time-filter-dropdown></div><unifi-ui-list-filter-dropdown class="visible--mdDown" unifi-ui-list-filter-dropdown-config="knownClientListCtrl.filterViewGroups" unifi-ui-list-filter-dropdown-filter-by-label="{{\'COMMON_LABEL_FILTER_BY\' | translate}}" unifi-ui-list-filter-dropdown-filter-by-all-label="{{\'COMMON_LABEL_FILTER_ALL\' | translate}}"></unifi-ui-list-filter-dropdown><unifi-ui-list-filter-buttons class="visible--lgUp" unifi-ui-list-filter-buttons-config="knownClientListCtrl.filterViewGroups"></unifi-ui-list-filter-buttons></div></div><div class="appActionBar__right"><div class="appActionBarFilters"><div class="appActionBarFilter appActionBarFilter--noBorder visible--lgUp"><a class="appMainButton appMainButton--cozy appMainButton--primary editBatchDevices" ng-if="knownClientListCtrl.isBatchEditable() &amp;&amp; knownClientListCtrl.getBatchEditDestination().length" unifi-open-panel="knownClientListCtrl.getBatchEditModel()" unifi-open-panel-active-tab="\'configure\'"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT_SELECTED"></span></a></div><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="knownClientListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="knownClientListCtrl.view.isRefreshing()"></unifi-search></div></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><unifi-loading-status unifi-loading-status-is-loading="knownClientListCtrl.knownClients.repository.collection.isLoading &amp;&amp; knownClientListCtrl.showLoader" unifi-loading-status-is-medium="true"></unifi-loading-status><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped appForm appForm--cozy" id="knownClientsTable" collection-view-sort="knownClientListCtrl.view" ng-class="{          \'is-not-responsive\': !knownClientListCtrl.isResponsive()        }" unifi-condensed="appTable--condensed"><thead><tr><td class="clientCheckbox appTableCell--smash noPaddingTop"'+s("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="::knownClientListCtrl.isBatchEditable()"><input type="checkbox" name="knownClientListSelectAllBatchEdit" ng-checked="knownClientListCtrl.selectAllBatchEdit" ng-click="knownClientListCtrl.toggleSelectAllBatchEdit()" unifi-indeterminate-checkbox="knownClientListCtrl.isSelectAllBatchEditIndeterminate"></td><th class="clientName" collection-view-sort-by="name"><span translate="KNOWN_CLIENT_TABLE_HEADER_NAME"></span></th><th class="clientManufacturer" collection-view-sort-by="oui"><span translate="KNOWN_CLIENT_TABLE_HEADER_MANUFACTURER"></span></th><th class="clientFixedIp" collection-view-sort-by="fixed_ip"><span translate="KNOWN_CLIENT_TABLE_HEADER_FIXED_IP"></span></th><th class="clientType" collection-view-sort-by="is_guest"><span translate="KNOWN_CLIENT_TABLE_HEADER_USER_GUEST"></span></th><th class="clientDown visible--lgUp" collection-view-sort-by="tx_bytes"><span translate="KNOWN_CLIENT_TABLE_HEADER_DOWN"></span></th><th class="clientUp visible--lgUp" collection-view-sort-by="rx_bytes"><span translate="KNOWN_CLIENT_TABLE_HEADER_UP"></span></th><th class="clientFirstSeen visible--mdUp" collection-view-sort-by="first_seen"><span translate="KNOWN_CLIENT_TABLE_HEADER_FIRST_SEEN"></span></th><th class="clientLastSeen visible--mdUp" collection-view-sort-by="last_seen"><span translate="KNOWN_CLIENT_TABLE_HEADER_LAST_SEEN"></span></th><th class="clientActions appTableCell--withAction"'+s("unifi-if-role-admin",!0,!0,!0)+'><span translate="KNOWN_CLIENT_TABLE_HEADER_ACTIONS"></span><span unifi-collapsible-table-icon="knownClientListCtrl.collapsibleColumnKeyActions"></span><unifi-list-column-selector ng-if="knownClientListCtrl.allowBatchEdit" unifi-list-column-selector-with-batch-edit="knownClientListCtrl.account.isAdmin()" unifi-list-column-selector-column-store="knownClientListCtrl.columnStore"></unifi-list-column-selector></th></tr></thead><tfoot ng-if="knownClientListCtrl.view.getModels().length"><tr><td colspan="{{7 + (knownClientListCtrl.isBatchEditable() ? 1 : 0)}}"><a class="appMainButton appMainButton--tertiary appMainButton--condensed verticalRhythmTop--condensed horizontalRhythm--cozy editBatchClients" ng-if="knownClientListCtrl.isBatchEditable() &amp;&amp; knownClientListCtrl.getBatchEditDestination().length" unifi-open-panel="knownClientListCtrl.getBatchEditModel()" unifi-open-panel-active-tab="\'configure\'"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT_SELECTED"></span></a><unifi-list-pagination unifi-list-pagination-current-page="knownClientListCtrl.currentPage" unifi-list-pagination-rows-per-page="knownClientListCtrl.rowsPerPage" unifi-list-pagination-total-rows="knownClientListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="model in knownClientListCtrl.view.getModels(),              startFrom (knownClientListCtrl.currentPage - 1) * knownClientListCtrl.rowsPerPage,              limitTo knownClientListCtrl.rowsPerPage" collection-view-repeat-watch-all="knownClientListCtrl.isColumnCollapsed(knownClientListCtrl.collapsibleColumnKeyActions)" data-id="{{::model.id}}" data-is-wired="{{::model.get(\'is_wired\')}}" data-is-guest="{{::model.get(\'is_guest\')}}" data-is-blocked="{{::model.get(\'blocked\')}}" data-is-noted="{{::model.get(\'noted\')}}" data-is-static-ip="{{::model.get(\'use_fixedip\')}}" ng-class="{\'is-row-disabled\': model.get(\'blocked\')}" unifi-open-panel="model" unifi-open-panel-active-tab="\'details\'"><td class="clientCheckbox appTableCell--smash"'+s("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"::knownClientListCtrl.isBatchEditable()\"><input type=\"checkbox\" ng-checked=\"knownClientListCtrl.isBatchEditSelected(model)\" ng-click=\"knownClientListCtrl.toggleBatchEdit(model); $event.stopPropagation();\"></td><td class=\"clientName\" ng-attr-title=\"{{::model.get('mac')}}\">{{::model.getDisplayName()}}</td><td class=\"clientManufacturer\">{{::model.get('oui')}}</td><td class=\"clientFixedIp\">{{::model.get('use_fixedip') ? model.get('fixed_ip') : ''}}</td><td class=\"clientType\">{{::(model.get('is_guest') ? 'KNOWN_CLIENT_TABLE_VALUE_USER_GUEST_GUEST' : 'KNOWN_CLIENT_TABLE_VALUE_USER_GUEST_USER') | translate}}</td><td class=\"clientDown visible--lgUp unifiDownload\">{{::model.get('tx_bytes') | bytes}}</td><td class=\"clientUp visible--lgUp unifiUpload\">{{::model.get('rx_bytes') | bytes}}</td><td class=\"clientFirstSeen visible--mdUp\">{{::model.get('first_seen') * 1000 | moment: 'format': 'datetime'}}</td><td class=\"clientLastSeen visible--mdUp\">{{::model.get('last_seen') * 1000 | moment: 'format': 'datetime'}}</td><td class=\"clientActions appTableCell--actions\""+s("unifi-if-role-admin",!0,!0,!0)+' unifi-collapsible-table-cell="knownClientListCtrl.collapsibleColumnKeyActions" unifi-collapsible-table-cell-bind-once="true"><button class="appMainButton appMainButton--tertiary" unifi-client-button-block="::model" unifi-client-button-block-is-labeled="true" unifi-client-button-block-is-responsive="knownClientListCtrl.isResponsive()" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button><button class="appMainButton appMainButton--tertiary" unifi-client-button-forget="::model" unifi-client-button-forget-is-labeled="true" unifi-client-button-forget-is-responsive="knownClientListCtrl.isResponsive()" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button></td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!knownClientListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="KNOWN_CLIENT_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="!knownClientListCtrl.isFiltered()" translate="KNOWN_CLIENT_TABLE_EMPTY_NO_CLIENTS"></p><p class="noMarginBottom" ng-if="knownClientListCtrl.isFiltered()" translate="KNOWN_CLIENT_TABLE_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],9:[function(t,i,e){"use strict";var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}();angular.module("app-unifi-manage-insights").controller("LogsListController",["$element","$q","$scope","$translate","fileUtils","heyToasts","insightsStatesPrivilegesControllerMixin","UnifiFileBasePath","wsLogsAdapter","LOG_EVENTS",function(t,i,e,n,o,a,r,l,c,p){return new(function(){function i(){var t=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.isFetchingMore=!1,this.isOpenConnection=!1,this.logMessages=[],r(this),this.stickToBottom=!0,this.onScroll=function(){0===t.scrollableElement.scrollTop&&t.scrollableElement.scrollHeight!==t.scrollableElement.clientHeight&&t.fetchMore(),window.setTimeout(function(){t.stickToBottom=t.scrollableElement.scrollHeight-t.scrollableElement.scrollTop===t.scrollableElement.clientHeight},100)}}return s(i,[{key:"scrollToBottom",value:function(){this.scrollableElement.scrollTop=this.scrollableElement.scrollHeight}},{key:"$onInit",value:function(){var i=this;c.openConnection(),this.scrollableElement=t.find(".appVsRepeat")[0],this.scrollableElement.onscroll=this.onScroll,e.$on(p.LOGS_ADDED,function(t,s){e.$applyAsync(function(){i.updateLogMessages(s)})}),e.$on(p.LOGS_FETCHED,function(t,s){e.$applyAsync(function(){i.updateFetchedLogMessages(s)})})}},{key:"$onDestroy",value:function(){c.closeConnection()}},{key:"updateLogMessages",value:function(t){var i=this;this.isOpenConnection=!0,this.logMessages.push.apply(this.logMessages,t),this.stickToBottom&&window.setTimeout(function(){i.scrollToBottom()},100)}},{key:"updateFetchedLogMessages",value:function(t){var i=this;this.logMessages.unshift.apply(this.logMessages,t),a.pushSuccess(n.instant(t.length?"LOGS_MESSAGES_FETCHED_MORE_LOGS":"LOGS_MESSAGES_NO_MORE_LOGS"));var e=this.scrollableElement.scrollHeight-this.scrollableElement.scrollTop;window.setTimeout(function(){i.scrollableElement.scrollTop=i.scrollableElement.scrollHeight-e},100),this.isFetchingMore=!1}},{key:"fetchMore",value:function(){var t={messageType:"fetchMore",firstLine:this.logMessages[0],count:100};this.isFetchingMore=!0,c.send(t)}},{key:"downloadLogs",value:function(){var t=this;return this.isDownloadingLogs=!0,o.download(l+"/dl/logfile/server.log","latest").then(function(){return a.pushSuccess(n.instant("LOGS_MESSAGES_DOWNLOAD_LOGFILE_FILE_SUCCESS")),!0}).catch(function(t){return a.pushError(t),!1}).finally(function(){t.isDownloadingLogs=!1})}},{key:"onSearchQueryChange",value:function(t){this.logsListSearchQuery=t||void 0}}]),i}())}])},{}],10:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").component("unifiLogsList",{controller:"LogsListController",controllerAs:"logsListCtrl",template:t("./logsList.pug")()})},{"./logsList.pug":11}],11:[function(t,i,e){t("pug-runtime");function s(t,i,e,s){return!1!==i&&null!=i&&(i||"class"!==t&&"style"!==t)?!0===i?" "+(s?t:t+'="'+t+'"'):("function"==typeof i.toJSON&&(i=i.toJSON()),"string"==typeof i||(i=JSON.stringify(i),e||-1===i.indexOf('"'))?(e&&(i=function(t){var i=""+t,e=n.exec(i);if(!e)return t;var s,o,a,r="";for(s=e.index,o=0;s<i.length;s++){switch(i.charCodeAt(s)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}o!==s&&(r+=i.substring(o,s)),o=s+1,r+=a}return o!==s?r+i.substring(o,s):r}(i))," "+t+'="'+i+'"'):" "+t+"='"+i.replace(/'/g,"&#39;")+"'"):""}i.exports=function(t){var i="";return i=i+'<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel appView appView--panelLayout appView--dark appView--aura"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--centerPanel" style="background-color: #fff;"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="logsListCtrl.statesWithPermission"></unifi-state-switcher></div></div></div><div class="appActionBar__right"><div class="appActionBarFilters"><div class="appActionBarFilter appActionBarFilter--noBorder"><button class="appMainButton appMainButton--primary appMainButton--cozy appMainButton--iconOnly visible--mdDown"'+s("unifi-if-role-admin",!0,!0,!0)+' ng-click="logsListCtrl.fetchMore()" busy-toggle="logsListCtrl.isFetchingMore" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="!logsListCtrl.isOpenConnection"><span class="icon ubnt-icon--documentdouble"></span></button><button class="appMainButton appMainButton--primary appMainButton--cozy appMainButton--iconOnly visible--mdDown"'+s("unifi-if-role-admin",!0,!0,!0)+' ng-click="logsListCtrl.downloadLogs()" busy-toggle="logsListCtrl.isDownloadingLogs" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']"><span class="icon ubnt-icon--download-2"></span></button><button class="appMainButton appMainButton--primary appMainButton--cozy visible--lgUp"'+s("unifi-if-role-admin",!0,!0,!0)+' ng-click="logsListCtrl.fetchMore()" busy-toggle="logsListCtrl.isFetchingMore" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" translate="LOGS_MESSAGES_FETCH_MORE" ng-disabled="!logsListCtrl.isOpenConnection"></button><button class="appMainButton appMainButton--primary appMainButton--cozy visible--lgUp"'+s("unifi-if-role-admin",!0,!0,!0)+' ng-click="logsListCtrl.downloadLogs()" busy-toggle="logsListCtrl.isDownloadingLogs" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" translate="LOGS_MESSAGES_DOWNLOAD_LOG_FILE"></button></div><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="logsListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="false"></unifi-search></div></div></div></div></div><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!logsListCtrl.logMessages.length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox appInfoBox--cozy appInfoBox--dark verticalRhythmTop--breezy"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="LOGS_MESSAGES_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="LOGS_MESSAGES_EMPTY_WAITING_FOR_LOGS"></p></div></div></div></div></div></div><div class="flexFlag__body positionRelative"><div class="appVsRepeat appScrollable appScrollable--dark"'+s("vs-repeat",!0,!0,!0)+s("vs-auto-resize",!0,!0,!0)+'><pre ng-repeat-start="logEntry in logsListCtrl.logMessages | filter:logsListCtrl.logsListSearchQuery"'+s("ng-repeat-end",!0,!0,!0)+" ng-class=\"::{          'appType--dark': logEntry.level === 'DEBUG',          'warning': logEntry.level === 'WARN',          'danger': logEntry.level === 'ERROR'        }\">{{::logEntry.logMessage}}</pre></div></div></div>"};var n=/["&<>]/},{"pug-runtime":2}],12:[function(t,i,e){"use strict";var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}(),n=function t(i,e,s){null===i&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,e);if(void 0===n){var o=Object.getPrototypeOf(i);return null===o?void 0:t(o,e,s)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(s):void 0};angular.module("app-unifi-manage-insights").controller("NeighboringAccessPointListController",["BasePaginatedListController","devices","insightsStatesPrivilegesControllerMixin","listCollapsibleColumnControllerMixin","NeighboringAccessPointFilter","neighboringAccessPoints","neighboringAccessPointsComparator","neighboringAccessPointsUtils","resolveRepositoryGroupControllerMixin","RADIO_TYPES",function(t,i,e,o,a,r,l,c,p,u){return new(function(d){function h(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return t.devices=i,t.neighboringAccessPoints=r,t.RADIO_TYPES=u,t.filter=new a,t.getNeighboringApLocation=c.getNeighboringApLocation.bind(c),t.collapsibleColumnKeyActions="collapse:neighboringAp:actions",t.comparator=l,t.defaultSortDesc=!0,t.expandedAps={},t.listeners={},t.repositories=["neighboringAccessPoints"],o(t),e(t),p(t),t}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(h,t),s(h,[{key:"$onInit",value:function(){n(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"$onInit",this).call(this),this.defaultSortBy=this.hasRogueAps?"is_rogue":"last_seen"}},{key:"getCollection",value:function(){return r.repository.collection}},{key:"initView",value:function(){var t=this;n(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"initView",this).call(this),this.onUpdateListener=r.repository.collection.onEvent("update",this.onUpdate.bind(this),{leading:!1}),this.showLoader=!0,this.resolve().then(function(){t.setRogueApsView(),t.setFilterCounts()}).then(function(){t.showLoader=!1})}},{key:"destroyView",value:function(){n(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"destroyView",this).call(this),this.onUpdateListener.stopListening(),this.unregister()}},{key:"initFilters",value:function(){var t=this.listState.getFilter("radioType");"all"===t?this.filter.clearRadioTypeFilter():this.filter.setRadioTypeFilter(t),this.isFiltered=this.filter.isFiltered.bind(this.filter),this.getRadioTypeFilter=this.filter.getRadioTypeFilter.bind(this.filter),this.hasRadioTypeFilter=this.filter.hasRadioTypeFilter.bind(this.filter)}},{key:"onUpdate",value:function(){this.setRogueApsView(),this.setFilterCounts()}},{key:"toggleApDetails",value:function(t){var i=t.get("bssid");this.expandedAps[i]=!this.expandedAps[i]}},{key:"isApDetailsExpanded",value:function(t){var i=t.get("bssid");return!!this.expandedAps[i]}},{key:"clearRadioTypeFilter",value:function(){this.beginStateChange(),this.listState.removeFilter("radioType"),this.filter.clearRadioTypeFilter(),this.commitStateChange()}},{key:"setRadioTypeFilter",value:function(t){this.beginStateChange(),this.listState.addFilter("radioType",t),this.filter.setRadioTypeFilter(t),this.commitStateChange()}},{key:"setFilterCounts",value:function(){var t=this;this.counts={all:r.repository.collection.length,na:0,ng:0},this.neighboringAccessPoints.repository.collection.each(function(i){var e=i.get("radio");e===t.RADIO_TYPES.NA.type?t.counts.na++:e===t.RADIO_TYPES.NG.type&&t.counts.ng++})}},{key:"setRogueApsView",value:function(){this.hasRogueAps=!!r.repository.collection.find(function(t){return t.get("is_rogue")})}},{key:"getWithin",value:function(){return r.getWithin()}},{key:"onUpdateWithin",value:function(t){var i=this;this.listState.addFilter("within",t),r.updateWithin(t),this.showLoader=!0,r.repository.refresh().then(function(){i.showLoader=!1})}},{key:"getDevice",value:function(t){return i.repository.collection.get(t)}},{key:"isLoadingAps",value:function(){return!r.fetched}},{key:"renderRadioFilterCount",value:function(t){return this.showLoader&&this.isLoadingAps()?"":"("+this.counts[t]+")"}}]),h}())}])},{}],13:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").directive("unifiNeighboringAccessPointList",["PaginatedListDirective",function(i){return new i("neighboringAccessPoint",t("./neighboringAccessPointList.pug")())}])},{"./neighboringAccessPointList.pug":14}],14:[function(t,i,e){t("pug-runtime");function s(t,i,e,s){return!1!==i&&null!=i&&(i||"class"!==t&&"style"!==t)?!0===i?" "+(s?t:t+'="'+t+'"'):("function"==typeof i.toJSON&&(i=i.toJSON()),"string"==typeof i||(i=JSON.stringify(i),e||-1===i.indexOf('"'))?(e&&(i=function(t){var i=""+t,e=n.exec(i);if(!e)return t;var s,o,a,r="";for(s=e.index,o=0;s<i.length;s++){switch(i.charCodeAt(s)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}o!==s&&(r+=i.substring(o,s)),o=s+1,r+=a}return o!==s?r+i.substring(o,s):r}(i))," "+t+'="'+i+'"'):" "+t+"='"+i.replace(/'/g,"&#39;")+"'"):""}i.exports=function(t){var i="";return i=i+'<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--centerPanel appActionBar--transparent"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="neighboringAccessPointListCtrl.statesWithPermission"></unifi-state-switcher></div><div class="appActionBarFilter"><unifi-time-filter-dropdown unifi-time-filter-dropdown-default-hours="neighboringAccessPointListCtrl.getWithin()" unifi-time-filter-dropdown-callback="neighboringAccessPointListCtrl.onUpdateWithin(hours)" unifi-time-filter-dropdown-values="[1, 8, 12, 24, 72, 168, 336, 720, 2880, 0]"></unifi-time-filter-dropdown></div><div class="appActionBarFilter"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter appMainButtonGroup--cozy"><li class="button appMainButton appMainButton--cozy" id="neighboringAccessPoints2g5gFilterAll" ng-click="neighboringAccessPointListCtrl.clearRadioTypeFilter()" ng-class="{\'is-button-selected\': !neighboringAccessPointListCtrl.hasRadioTypeFilter()}">{{\'NEIGHBORING_ACCESS_POINT_RADIO_TYPE_FILTER_ALL\' | translate}} {{neighboringAccessPointListCtrl.renderRadioFilterCount(\'all\')}}</li><li class="button appMainButton appMainButton--cozy" id="neighboringAccessPoints2g5gFilter2g" ng-click="neighboringAccessPointListCtrl.setRadioTypeFilter(\'ng\')" ng-class="{\'is-button-selected\': neighboringAccessPointListCtrl.getRadioTypeFilter() === \'ng\'}">{{\'NEIGHBORING_ACCESS_POINT_RADIO_TYPE_FILTER_NG\' | translate}} {{neighboringAccessPointListCtrl.renderRadioFilterCount(\'ng\')}}</li><li class="button appMainButton appMainButton--cozy" id="neighboringAccessPoints2g5gFilter5g" ng-click="neighboringAccessPointListCtrl.setRadioTypeFilter(\'na\')" ng-class="{\'is-button-selected\': neighboringAccessPointListCtrl.getRadioTypeFilter() === \'na\'}">{{\'NEIGHBORING_ACCESS_POINT_RADIO_TYPE_FILTER_NA\' | translate}} {{neighboringAccessPointListCtrl.renderRadioFilterCount(\'na\')}}</li></ul></div></div></div><div class="appActionBar__right"><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="neighboringAccessPointListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="neighboringAccessPointListCtrl.view.isRefreshing()"></unifi-search></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><unifi-loading-status unifi-loading-status-is-loading="neighboringAccessPointListCtrl.isLoadingAps() &amp;&amp; neighboringAccessPointListCtrl.showLoader" unifi-loading-status-is-medium="true" unifi-loading-status-with-action-bar="true"></unifi-loading-status><table class="appTable--verticalAlignTop verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="neighboringAccessPointsTable" collection-view-sort="neighboringAccessPointListCtrl.view" ng-class="{          \'is-not-responsive\': !neighboringAccessPointListCtrl.isResponsive()        }" unifi-bind-notifier="{          table_refresh: neighboringAccessPointListCtrl.isColumnCollapsed(neighboringAccessPointListCtrl.collapsibleColumnKeyActions)        }" unifi-bind-notifier-collection="{          devices_refresh: neighboringAccessPointListCtrl.devices.repository.collection        }" unifi-condensed="appTable--condensed"><thead><tr><th class="neighboringAccessPointExpand appTableCell--smash"></th><th class="neighboringAccessPointBssidCount appTableCell--smash alignCenter" collection-view-sort-by="aps_count"></th><th class="neighboringAccessPointRogue appTableCell--smash" collection-view-sort-by="is_rogue" ng-if="neighboringAccessPointListCtrl.hasRogueAps"><span translate="NEIGHBORING_ACCESS_POINT_TABLE_HEADER_ROGUE"></span></th><th class="neighboringAccessPointEssid" collection-view-sort-by="essid"><span translate="NEIGHBORING_ACCESS_POINT_TABLE_HEADER_ESSID"></span></th><th class="neighboringAccessPointBssid visible--mdUp" collection-view-sort-by="bssid"><span translate="NEIGHBORING_ACCESS_POINT_TABLE_HEADER_BSSID"></span></th><th class="neighboringAccessPointChannel" collection-view-sort-by="channel"><span translate="NEIGHBORING_ACCESS_POINT_TABLE_HEADER_CHANNEL"></span></th><th class="neighboringAccessPointBandwidth" collection-view-sort-by="bw"><span class="noTextTransform" translate="NEIGHBORING_ACCESS_POINT_TABLE_HEADER_BANDWIDTH"></span></th><th class="neighboringAccessPointSecurity visible--lgUp" collection-view-sort-by="security"><span translate="NEIGHBORING_ACCESS_POINT_TABLE_HEADER_SECURITY"></span></th><th class="neighboringAccessPointManufacturer visible--mdUp" collection-view-sort-by="oui"><span translate="NEIGHBORING_ACCESS_POINT_TABLE_HEADER_MANUFACTURER"></span></th><th class="neighboringAccessPointLocation visible--mdUp" collection-view-sort-by="ap_mac"><span translate="NEIGHBORING_ACCESS_POINT_TABLE_HEADER_LOCATION"></span></th><th class="neighboringAccessPointSignal" collection-view-sort-by="rssi"><span translate="NEIGHBORING_ACCESS_POINT_TABLE_HEADER_SIGNAL"></span></th><th class="neighboringAccessPointLastSeen visible--smUp" collection-view-sort-by="last_seen"><span translate="NEIGHBORING_ACCESS_POINT_TABLE_HEADER_LAST_SEEN"></span></th><th class="neighboringAccessPointActions"'+s("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="neighboringAccessPointListCtrl.hasRogueAps"><span translate="NEIGHBORING_ACCESS_POINT_TABLE_HEADER_ACTIONS"></span><span unifi-collapsible-table-icon="neighboringAccessPointListCtrl.collapsibleColumnKeyActions"></span></th></tr></thead><tfoot ng-if="neighboringAccessPointListCtrl.view.getModels().length"><tr><td colspan="8"><unifi-list-pagination unifi-list-pagination-current-page="neighboringAccessPointListCtrl.currentPage" unifi-list-pagination-rows-per-page="neighboringAccessPointListCtrl.rowsPerPage" unifi-list-pagination-total-rows="neighboringAccessPointListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr ng-repeat="              entry in neighboringAccessPointListCtrl.view.getEntries()              | limitTo:(neighboringAccessPointListCtrl.rowsPerPage):((neighboringAccessPointListCtrl.currentPage - 1) * neighboringAccessPointListCtrl.rowsPerPage)              track by entry.model.id            " unifi-bind-notifier="{model_refresh: entry.model.version}" ng-init="model = entry.model" data-id="{{::model.id}}"><td class="appTableCell--smash appTableCell--withSmallIcon"><span ng-if="model.isGrouped()"><div class="appActionIcon" ng-click="neighboringAccessPointListCtrl.toggleApDetails(model)"><span class="icon" ng-class="{                      \'unifi-icon--default-collapse\': neighboringAccessPointListCtrl.isApDetailsExpanded(model),                      \'unifi-icon--default-expand\': !neighboringAccessPointListCtrl.isApDetailsExpanded(model)                    }"></span></div></span></td><td class="appTableCell--smash"><div class="count count--round appCount" ng-class="{                  \'appCount--primary\': model.isGrouped(),                  \'appCount--static\': !model.isGrouped()                }"><div class="count__value">{{model.get(\'aps\').length}}</div></div></td><td class="wrappable appTableCell--smash neighboringAccessPointRogue alignCenter" ng-if="neighboringAccessPointListCtrl.hasRogueAps"><div class="ubntTooltipContainer ubntTooltipContainer--hoverable" ng-if="model.get(\'is_rogue\')" style="--tooltip-width: 200px;"><div class="statusBall appStatusBall" ng-class="{                    \'appStatusBall--danger\': !model.get(\'is_known\'),                    \'appStatusBall--positive\': model.get(\'is_known\')                  }"><div class="ubntTooltip ubntTooltip--bottomRight" ng-if="!model.get(\'is_known\')" translate="NEIGHBORING_ACCESS_POINT_TOOLTIP_ROGUE"></div></div></div></td><td class="neighboringAccessPointEssid" ng-class="{\'appType--dark\': !model.get(\'essid\')}">{{:model_refresh: model.get(\'essid\') | essid}}</td><td class="neighboringAccessPointBssid visible--mdUp">{{:model_refresh: model.get(\'bssid\')}}</td><td class="neighboringAccessPointChannel">{{:model_refresh: model.get(\'channel\')}} ({{:model_refresh: model.get(\'radio\')}})</td><td class="neighboringAccessPointBandwidth"><span ng-if="model.get(\'bw\') &lt;= 0" ng-class="{\'appType--quiet\': model.get(\'bw\') &lt;= 0}">{{"DEVICE_PROPERTIES_VALUES_VERSION_NOT_AVAILABLE" | translate}}</span><span ng-if="model.get(\'bw\') &gt; 0">{{:model_refresh: model.get(\'bw\')}}</span></td><td class="neighboringAccessPointSecurity visible--lgUp"><span>{{:model_refresh: model.get(\'security\')}}</span><span ng-if="model.get(\'is_adhoc\')">&nbsp;({{ \'NEIGHBORING_ACCESS_POINT_AD_HOC\' | translate }})</span></td><td class="neighboringAccessPointManufacturer visible--mdUp">{{:model_refresh: model.get(\'oui\')}}</td><td class="neighboringAccessPointLocation visible--mdUp"><div ng-if="!neighboringAccessPointListCtrl.isApDetailsExpanded(model)" ng-switch="!!neighboringAccessPointListCtrl.getDevice(model.get(\'ap_mac\'))"><a ng-switch-when="true" ng-init="uplink = neighboringAccessPointListCtrl.getDevice(model.get(\'ap_mac\'))" ng-class="{\'is-link-disabled\': !uplink}" data-device-type="{{::uplink.get(\'type\')}}" data-id="{{::uplink.id}}" unifi-open-panel="uplink" unifi-open-panel-active-tab="\'details\'">{{:model_refresh:devices_refresh: neighboringAccessPointListCtrl.getNeighboringApLocation(model.get(\'ap_mac\'), model.isGrouped()) }}</a><span ng-switch-when="false">{{:model_refresh:devices_refresh: neighboringAccessPointListCtrl.getNeighboringApLocation(model.get(\'ap_mac\'), model.isGrouped()) }}</span></div><div class="appDisplayEmptyLine" ng-if="neighboringAccessPointListCtrl.isApDetailsExpanded(model)" ng-repeat="ap in model.get(\'aps\')" ng-switch="!!neighboringAccessPointListCtrl.getDevice(ap.ap_mac)"><a ng-switch-when="true" ng-init="uplink = neighboringAccessPointListCtrl.getDevice(ap.ap_mac)" ng-class="{\'is-link-disabled\': !uplink}" data-device-type="{{::uplink.get(\'type\')}}" data-id="{{::uplink.id}}" unifi-open-panel="uplink" unifi-open-panel-active-tab="\'details\'">{{:devices_refresh: neighboringAccessPointListCtrl.getNeighboringApLocation(ap.ap_mac) }}</a><span ng-switch-when="false">{{:devices_refresh: neighboringAccessPointListCtrl.getNeighboringApLocation(ap.ap_mac)}}</span></div></td><td class="neighboringAccessPointSignal"><span ng-if="model.get(\'rssi\') &amp;&amp; !neighboringAccessPointListCtrl.isApDetailsExpanded(model)" ng-class="{\'appType--quiet\': model.get(\'rssi_age\') &gt; 60}">{{:model_refresh: model.get(\'rssi\') | rssi}} ({{:model_refresh: model.get(\'rssi\') | rssiToDbm}})</span><div class="appDisplayEmptyLine" ng-if="neighboringAccessPointListCtrl.isApDetailsExpanded(model)" ng-repeat="ap in model.get(\'aps\')"><span ng-if="ap.rssi" ng-class="{\'appType--quiet\': ap.rssi_age &gt; 60}">{{::ap.rssi | rssi}} ({{::ap.rssi | rssiToDbm}})</span></div></td><td class="neighboringAccessPointLastSeen visible--smUp"><span ng-if="!neighboringAccessPointListCtrl.isApDetailsExpanded(model)">{{:model_refresh: model.get(\'last_seen\') * 1000 | moment: \'format\': \'datetime\'}}</span><div class="appDisplayEmptyLine" ng-if="neighboringAccessPointListCtrl.isApDetailsExpanded(model)" ng-repeat="ap in model.get(\'aps\')">{{::ap.last_seen * 1000 | moment: \'format\': \'datetime\'}}</div></td><td class="neighboringAccessPointActions appTableCell--actions"'+s("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="neighboringAccessPointListCtrl.hasRogueAps" unifi-collapsible-table-cell="neighboringAccessPointListCtrl.collapsibleColumnKeyActions" unifi-collapsible-table-cell-bind-once="false"><button class="appMainButton appMainButton--tertiary" ng-if="model.get(\'is_rogue\')" unifi-rogue-ap-button-mark="::model" unifi-rogue-ap-button-mark-is-labeled="true" unifi-rogue-ap-button-mark-is-responsive="neighboringAccessPointListCtrl.isResponsive()" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button></td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!neighboringAccessPointListCtrl.view.getModels().length &amp;&amp; !neighboringAccessPointListCtrl.isLoadingAps() &amp;&amp; !neighboringAccessPointListCtrl.showLoader"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="NEIGHBORING_ACCESS_POINT_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="!neighboringAccessPointListCtrl.isFiltered()" translate="NEIGHBORING_ACCESS_POINT_TABLE_EMPTY_NO_APS"></p><p class="noMarginBottom" ng-if="neighboringAccessPointListCtrl.isFiltered()" translate="NEIGHBORING_ACCESS_POINT_TABLE_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],15:[function(t,i,e){"use strict";var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}(),n=function t(i,e,s){null===i&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,e);if(void 0===n){var o=Object.getPrototypeOf(i);return null===o?void 0:t(o,e,s)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(s):void 0};angular.module("app-unifi-manage-insights").controller("PastConnectionListController",["BaseClientListController","$stateParams","clientUplinkUtils","clients","CollectionView","devices","insightsStatesPrivilegesControllerMixin","knownClients","PastConnectionFilter","pastConnections","pastConnectionsComparator",function(t,i,e,o,a,r,l,c,p,u,d){return new(function(a){function h(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return t.$stateParams=i,t.clientUplinkUtils=e,t.clients=o,t.devices=r,t.knownClients=c,t.getUplinkPropertyPanelState=e.getUplinkPropertyPanelState.bind(e),t.comparator=d,t.filter=new p,t.initDateInterval(),l(t),t}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(h,t),s(h,[{key:"getCollection",value:function(){return u.repository.collection}},{key:"initDateInterval",value:function(){this.start=u.getStart(),this.end=u.getEnd()}},{key:"initView",value:function(){n(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"initView",this).call(this),this.filterCountsListener=u.repository.collection.onEvent("update",this.setFilterCounts.bind(this),{leading:!1}),this.setFilterCounts()}},{key:"destroyView",value:function(){n(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"destroyView",this).call(this),this.filterCountsListener.stopListening()}},{key:"setFilterCounts",value:function(){this.counts={all:u.repository.collection.length,guest:0},u.repository.collection.each(function(t){t.get("is_guest")&&this.counts.guest++}.bind(this))}},{key:"getClient",value:function(t){return o.repository.collection.get(t.get("mac"))||c.repository.collection.get(t.get("mac"))||null}},{key:"doesClientExist",value:function(t){return null!==this.getClient(t)}},{key:"getUplinkDevice",value:function(t){return e.getUplink(t)||null}},{key:"getUplinkDeviceName",value:function(t){var i=e.getUplinkDisplayName(t);return i||e.getUplinkMac(t)}},{key:"doesDeviceExist",value:function(t){return null!==this.getUplinkDevice(t)}},{key:"updateDateInterval",value:function(t,i){u.updateDateInterval(t,i),this.showLoader=!0,u.repository.refresh().then(function(){this.showLoader=!1}.bind(this)),t===this.listState.getFilter("start")&&i===this.listState.getFilter("end")||(this.beginStateChange(),this.listState.addFilter("start",t),this.listState.addFilter("end",i),this.commitStateChange())}}]),h}())}])},{}],16:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").directive("unifiPastConnectionList",["PaginatedListDirective",function(i){return new i("pastConnection",t("./pastConnectionList.pug")())}])},{"./pastConnectionList.pug":17}],17:[function(t,i,e){t("pug-runtime");i.exports=function(t){var i="";return i+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="pastConnectionListCtrl.statesWithPermission"></unifi-state-switcher></div><div class="appActionBarFilter"><unifi-date-range-selector unifi-date-range-selector-start="pastConnectionListCtrl.start" unifi-date-range-selector-end="pastConnectionListCtrl.end" unifi-date-range-selector-on-change="pastConnectionListCtrl.updateDateInterval(start, end)" unifi-date-range-selector-position="bottomRight" unifi-date-range-selector-with-list="true"></unifi-date-range-selector></div><div class="appActionBarFilter"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter appMainButtonGroup--cozy"><li class="button appMainButton appMainButton--cozy" ng-click="pastConnectionListCtrl.clearGuestFilter()" ng-class="{\'is-button-selected\': !pastConnectionListCtrl.hasGuestFilter()}">{{\'PAST_CONNECTION_GUEST_FILTER_ALL\' | translate}} ({{pastConnectionListCtrl.counts.all}})</li><li class="button appMainButton appMainButton--cozy" ng-click="pastConnectionListCtrl.setGuestFilter(false)" ng-class="{\'is-button-selected\': pastConnectionListCtrl.getGuestFilter() === false}">{{\'PAST_CONNECTION_GUEST_FILTER_USERS\' | translate}} ({{pastConnectionListCtrl.counts.all - pastConnectionListCtrl.counts.guest}})</li><li class="button appMainButton appMainButton--cozy" ng-click="pastConnectionListCtrl.setGuestFilter(true)" ng-class="{\'is-button-selected\': pastConnectionListCtrl.getGuestFilter() === true}">{{\'PAST_CONNECTION_GUEST_FILTER_GUESTS\' | translate}} ({{pastConnectionListCtrl.counts.guest}})</li></ul></div></div></div><div class="appActionBar__right"><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="pastConnectionListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="pastConnectionListCtrl.view.isRefreshing()"></unifi-search></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><unifi-loading-status unifi-loading-status-is-loading="pastConnectionListCtrl.pastConnections.repository.collection.isLoading &amp;&amp; pastConnectionListCtrl.showLoader" unifi-loading-status-is-medium="true"></unifi-loading-status><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="pastConnectionsTable" collection-view-sort="pastConnectionListCtrl.view" ng-class="{          \'is-not-responsive\': !pastConnectionListCtrl.isResponsive()        }" unifi-condensed="appTable--condensed"><thead><tr><th class="pastConnectionName" collection-view-sort-by="name"><span translate="PAST_CONNECTION_TABLE_HEADER_NAME"></span></th><th class="pastConnectionClientType" collection-view-sort-by="is_guest"><span translate="PAST_CONNECTION_TABLE_HEADER_USER_GUEST"></span></th><th class="pastConnectionAssociated" collection-view-sort-by="assoc_time"><span translate="PAST_CONNECTION_TABLE_HEADER_ASSOCIATED"></span></th><th class="pastConnectionDuration visible--smUp" collection-view-sort-by="duration"><span translate="PAST_CONNECTION_TABLE_HEADER_DURATION"></span></th><th class="pastConnectionDownload visible--mdUp" collection-view-sort-by="tx_bytes"><span translate="PAST_CONNECTION_TABLE_HEADER_DOWNLOAD"></span></th><th class="pastConnectionUpload visible--mdUp" collection-view-sort-by="rx_bytes"><span translate="PAST_CONNECTION_TABLE_HEADER_UPLOAD"></span></th><th class="pastConnectionIp visible--smUp" collection-view-sort-by="ip"><span translate="PAST_CONNECTION_TABLE_HEADER_IP"></span></th><th class="pastConnectionLastAp visible--lgUp"><span translate="PAST_CONNECTION_TABLE_HEADER_LAST_AP"></span></th></tr></thead><tfoot ng-if="pastConnectionListCtrl.view.getModels().length"><tr><td colspan="8"><unifi-list-pagination unifi-list-pagination-current-page="pastConnectionListCtrl.currentPage" unifi-list-pagination-rows-per-page="pastConnectionListCtrl.rowsPerPage" unifi-list-pagination-total-rows="pastConnectionListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in pastConnectionListCtrl.view.getModels(),              startFrom (pastConnectionListCtrl.currentPage - 1) * pastConnectionListCtrl.rowsPerPage,              limitTo pastConnectionListCtrl.rowsPerPage" data-id="{{::model.id}}" ng-init="client = pastConnectionListCtrl.getClient(model)"><td class="pastConnectionName"><a ng-if="client" ng-attr-title="{{model.get(\'mac\')}}" data-id="{{::client.id}}" data-is-wired="{{::client.get(\'is_wired\')}}" data-is-guest="{{::client.get(\'is_guest\')}}" unifi-open-panel="client" unifi-open-panel-active-tab="\'details\'">{{::client.getDisplayName()}}</a><span ng-if="!client" ng-attr-title="{{model.get(\'mac\')}}">{{::model.getDisplayName()}}</span></td><td class="pastConnectionClientType">{{::(model.get(\'is_guest\') ? \'PAST_CONNECTION_TABLE_VALUE_USER_GUEST_GUEST\' : \'PAST_CONNECTION_TABLE_VALUE_USER_GUEST_USER\') | translate}}</td><td class="pastConnectionAssociated">{{::model.get(\'assoc_time\') * 1000 | moment: \'format\': \'datetime\'}}</td><td class="pastConnectionDuration visible--smUp">{{::model.get(\'duration\') | seconds}}</td><td class="pastConnectionDownload visible--mdUp unifiDownload">{{::model.get(\'tx_bytes\') | bytes}}</td><td class="pastConnectionUpload visible--mdUp unifiUpload">{{::model.get(\'rx_bytes\') | bytes}}</td><td class="pastConnectionIp visible--smUp">{{::model.get(\'ip\')}}</td><td class="pastConnectionLastAp visible--lgUp"><a ng-init="uplink = pastConnectionListCtrl.getUplinkDevice(model); states = pastConnectionListCtrl.getUplinkPropertyPanelState(model, uplink)" ng-class="{\'is-link-disabled\': !pastConnectionListCtrl.doesDeviceExist(model)}" data-id="{{::uplink.id}}" data-device-type="{{::uplink.get(\'type\')}}" unifi-open-panel="uplink" unifi-open-panel-active-tab="uplink.get(\'type\') === \'usw\' ? \'ports\' : \'details\'" unifi-open-panel-change-tab="true" unifi-open-panel-states="states">{{::pastConnectionListCtrl.getUplinkDeviceName(model)}}</a></td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!pastConnectionListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="PAST_CONNECTION_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="!pastConnectionListCtrl.isFiltered()" translate="PAST_CONNECTION_TABLE_EMPTY_NO_CONNECTIONS"></p><p class="noMarginBottom" ng-if="pastConnectionListCtrl.isFiltered()" translate="PAST_CONNECTION_TABLE_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div></div></div>'}},{"pug-runtime":2}],18:[function(t,i,e){"use strict";var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}();angular.module("app-unifi-manage-insights").controller("PastGuestAuthorizationListController",["BasePaginatedListController","clientUplinkUtils","clients","insightsStatesPrivilegesControllerMixin","PastGuestAuthorizationFilter","pastGuestAuthorizations",function(t,i,e,n,o,a){return new(function(r){function l(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return t.pastGuestAuthorizations=a,t.getUplinkPropertyPanelState=i.getUplinkPropertyPanelState.bind(i),t.filter=new o,t.defaultSortBy="name",t.initDateInterval(),n(t),t}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(l,t),s(l,[{key:"getCollection",value:function(){return a.repository.collection}},{key:"initDateInterval",value:function(){this.start=a.getStart(),this.end=a.getEnd()}},{key:"getClient",value:function(t){return e.repository.collection.get(t.get("mac"))||null}},{key:"getUplinkDevice",value:function(t){return i.getUplink(t)||null}},{key:"getUplinkDeviceName",value:function(t){var e=i.getUplinkDisplayName(t);return e||i.getUplinkMac(t)}},{key:"doesUplinkDeviceExist",value:function(t){return null!==this.getUplinkDevice(t)}},{key:"updateDateInterval",value:function(t,i){var e=this;a.updateDateInterval(t,i),this.showLoader=!0,a.repository.refresh().then(function(){e.showLoader=!1}),t===this.listState.getFilter("start")&&i===this.listState.getFilter("end")||(this.beginStateChange(),this.listState.addFilter("start",t),this.listState.addFilter("end",i),this.commitStateChange())}}]),l}())}])},{}],19:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").directive("unifiPastGuestAuthorizationList",["PaginatedListDirective",function(i){return new i("pastGuestAuthorization",t("./pastGuestAuthorizationList.pug")())}])},{"./pastGuestAuthorizationList.pug":20}],20:[function(t,i,e){t("pug-runtime");i.exports=function(t){var i="";return i+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="pastGuestAuthorizationListCtrl.statesWithPermission"></unifi-state-switcher></div><div class="appActionBarFilter"><unifi-date-range-selector unifi-date-range-selector-start="pastGuestAuthorizationListCtrl.start" unifi-date-range-selector-end="pastGuestAuthorizationListCtrl.end" unifi-date-range-selector-on-change="pastGuestAuthorizationListCtrl.updateDateInterval(start, end)" unifi-date-range-selector-position="bottomRight" unifi-date-range-selector-with-list="true"></unifi-date-range-selector></div></div></div><div class="appActionBar__right"><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="pastGuestAuthorizationListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="pastGuestAuthorizationListCtrl.view.isRefreshing()"></unifi-search></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><unifi-loading-status unifi-loading-status-is-loading="pastGuestAuthorizationListCtrl.pastGuestAuthorizations.repository.collection.isLoading &amp;&amp; pastGuestAuthorizationListCtrl.showLoader" unifi-loading-status-is-medium="true"></unifi-loading-status><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="pastGuestAuthorizationTable" collection-view-sort="pastGuestAuthorizationListCtrl.view" ng-class="{          \'is-not-responsive\': !pastGuestAuthorizationListCtrl.isResponsive()        }" unifi-condensed="appTable--condensed"><thead><tr><th class="pastGuestAuthorizationName" collection-view-sort-by="name"><span translate="PAST_GUEST_AUTHORIZATION_TABLE_HEADER_NAME"></span></th><th class="pastGuestAuthorizationPackage" collection-view-sort-by="package"><span translate="PAST_GUEST_AUTHORIZATION_TABLE_HEADER_PACKAGE"></span></th><th class="pastGuestAuthorizationAmount" collection-view-sort-by="amount"><span translate="PAST_GUEST_AUTHORIZATION_TABLE_HEADER_AMOUNT"></span></th><th class="pastGuestAuthorizationAuthorizedBy visible--lgUp" collection-view-sort-by="authorized_by"><span translate="PAST_GUEST_AUTHORIZATION_TABLE_HEADER_AUTHORIZED_BY"></span></th><th class="pastGuestAuthorizationStart visible--mdUp" collection-view-sort-by="start"><span translate="PAST_GUEST_AUTHORIZATION_TABLE_HEADER_START"></span></th><th class="pastGuestAuthorizationDuration visible--mdUp" collection-view-sort-by="duration"><span translate="PAST_GUEST_AUTHORIZATION_TABLE_HEADER_DURATION"></span></th><th class="pastGuestAuthorizationDownload visible--lgUp" collection-view-sort-by="tx_bytes"><span translate="PAST_GUEST_AUTHORIZATION_TABLE_HEADER_DOWNLOAD"></span></th><th class="pastGuestAuthorizationUpload visible--lgUp" collection-view-sort-by="rx_bytes"><span translate="PAST_GUEST_AUTHORIZATION_TABLE_HEADER_UPLOAD"></span></th><th class="pastGuestAuthorizationIp visible--mdUp" collection-view-sort-by="ip"><span translate="PAST_GUEST_AUTHORIZATION_TABLE_HEADER_IP"></span></th><th class="pastGuestAuthorizationLastAp visible--lgUp" collection-view-sort-by="ap_mac"><span translate="PAST_GUEST_AUTHORIZATION_TABLE_HEADER_LAST_AP"></span></th></tr></thead><tfoot ng-if="pastGuestAuthorizationListCtrl.view.getModels().length"><tr><td colspan="10"><unifi-list-pagination unifi-list-pagination-current-page="pastGuestAuthorizationListCtrl.currentPage" unifi-list-pagination-rows-per-page="pastGuestAuthorizationListCtrl.rowsPerPage" unifi-list-pagination-total-rows="pastGuestAuthorizationListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in pastGuestAuthorizationListCtrl.view.getModels(),                startFrom (pastGuestAuthorizationListCtrl.currentPage - 1) * pastGuestAuthorizationListCtrl.rowsPerPage,                limitTo pastGuestAuthorizationListCtrl.rowsPerPage" data-id="{{::model.id}}" ng-init="client = pastGuestAuthorizationListCtrl.getClient(model)"><td class="pastGuestAuthorizationName"><a ng-if="client" ng-attr-title="{{model.get(\'mac\')}}" data-id="{{::client.id}}" data-is-wired="{{::client.get(\'is_wired\')}}" data-is-guest="{{::client.get(\'is_guest\')}}" unifi-open-panel="client" unifi-open-panel-active-tab="\'details\'">{{::client.getDisplayName()}}</a><span ng-if="!client" ng-attr-title="{{model.get(\'mac\')}}">{{::model.getDisplayName()}}</span></td><td class="pastGuestAuthorizationPackage">{{::model.get(\'package\')}}</td><td class="pastGuestAuthorizationAmount">{{::model | currency}}</td><td class="pastGuestAuthorizationAuthorizedBy visible--lgUp">{{::model | guestAuthorization}}</td><td class="pastGuestAuthorizationStart visible--mdUp">{{::model.get(\'start\') * 1000 | moment: \'format\': \'datetime\'}}</td><td class="pastGuestAuthorizationDuration visible--mdUp">{{::model.get(\'duration\') | seconds}}</td><td class="pastConnectionDownload visible--lgUp">{{::model.get(\'tx_bytes\') | bytes}}</td><td class="pastConnectionUpload visible--lgUp">{{::model.get(\'rx_bytes\') | bytes}}</td><td class="ip visible--mdUp">{{::model.get(\'ip\')}}</td><td class="pastGuestAuthorizationLastAp visible--lgUp"><a ng-init="uplink = pastGuestAuthorizationListCtrl.getUplinkDevice(model); states = pastGuestAuthorizationListCtrl.getUplinkPropertyPanelState(model, uplink)" ng-class="{\'is-link-disabled\': !pastGuestAuthorizationListCtrl.doesUplinkDeviceExist(model)}" data-id="{{::uplink.id}}" data-device-type="{{::uplink.get(\'type\')}}" unifi-open-panel="uplink" unifi-open-panel-active-tab="uplink.get(\'type\') === \'usw\' ? \'ports\' : \'details\'" unifi-open-panel-change-tab="true" unifi-open-panel-states="states">{{::pastGuestAuthorizationListCtrl.getUplinkDeviceName(model)}}</a></td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!pastGuestAuthorizationListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="PAST_GUEST_AUTHORIZATION_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-show="!pastGuestAuthorizationListCtrl.isFiltered()" translate="PAST_GUEST_AUTHORIZATION_TABLE_EMPTY_NO_CONNECTIONS"></p><p class="noMarginBottom" ng-show="pastGuestAuthorizationListCtrl.isFiltered()" translate="PAST_GUEST_AUTHORIZATION_TABLE_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div></div></div>'}},{"pug-runtime":2}],21:[function(t,i,e){"use strict";var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}();angular.module("app-unifi-manage-insights").controller("PortForwardStatsListController",["BasePaginatedListController","$translate","CollectionView","frame","gatewayUtils","heyToasts","insightsStatesPrivilegesControllerMixin","listCollapsibleColumnControllerMixin","preferences","portForwardStats","PortForwardStatsFilter","portForwardStatsListColumnStore","portForwardStatsComparator",function(t,i,e,n,o,a,r,l,c,p,u,d,h){return new(function(e){function c(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return t.$translate=i,t.columnStore=d,t.frame=n,t.heyToasts=a,t.portForwardStats=p,t.getSiteGateway=o.getSiteGateway.bind(o),t.isColumnVisible=t.columnStore.isColumnVisible.bind(t.columnStore),t.isCustomized=t.columnStore.getCustomized.bind(t.columnStore),t.comparator=h,t.filter=new u,t.collapsibleColumnKeyActions="collapse:portForwardStats:actions",t.defaultSortBy="name",t.filterGroups=[],l(t),r(t),t}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(c,t),s(c,[{key:"initFilters",value:function(){var t=this.listState.getFilter("view");"all"!==t&&this.filter.setViewFilter(t),this.columnGroup=this.listState.getFilter("view"),this.isFiltered=this.filter.isFiltered.bind(this.filter),this.getViewFilter=this.filter.getViewFilter.bind(this.filter),this.hasViewFilter=this.filter.hasViewFilter.bind(this.filter),this.initFilterView()}},{key:"initFilterView",value:function(){this.filterGroups.push({id:"columnGroup",translationKey:"PORT_FORWARD_STATS_TITLE_VIEW",excludeFromSummary:!1,items:[{id:"all",translationKey:"PORT_FORWARD_STATS_VIEW_ALL",isSelected:function(){return"all"===this.getColumnGroup()}.bind(this),onSelect:function(){return this.filter.clearViewFilter(),this.setColumnGroup("all")}.bind(this)},{id:"userdefined",translationKey:"PORT_FORWARD_STATS_VIEW_USER_DEFINED",isSelected:function(){return"userdefined"===this.getColumnGroup()}.bind(this),onSelect:function(){return this.filter.setViewFilter("userdefined"),this.setColumnGroup("userdefined")}.bind(this)},{id:"upnp",translationKey:"PORT_FORWARD_STATS_VIEW_UPNP",isSelected:function(){return"upnp"===this.getColumnGroup()}.bind(this),onSelect:function(){return this.filter.setViewFilter("upnp"),this.setColumnGroup("upnp")}.bind(this)}]})}},{key:"getCollection",value:function(){return p.repository.collection}},{key:"getColumnGroup",value:function(){return this.columnGroup}},{key:"setColumnGroup",value:function(t){this.beginStateChange(),this.listState.addFilter("view",t),this.columnGroup=t,this.commitStateChange()}},{key:"refreshColumns",value:function(){this.isStateChanging()||(this.columnStore.setColumnGroup(this.columnGroup),this.columnStore.setColumns())}},{key:"refresh",value:function(t){return this.refreshColumns(),function t(i,e,s){null===i&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,e);if(void 0===n){var o=Object.getPrototypeOf(i);return null===o?void 0:t(o,e,s)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(s):void 0}(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"refresh",this).call(this,t)}}]),c}())}])},{}],22:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").directive("unifiPortForwardStatsList",["PaginatedListDirective",function(i){return new i("portForwardStats",t("./portForwardStatsList.pug")())}])},{"./portForwardStatsList.pug":23}],23:[function(t,i,e){t("pug-runtime");i.exports=function(t){var i="";return i=i+'<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="portForwardStatsListCtrl.statesWithPermission"></unifi-state-switcher></div><unifi-ui-list-filter-buttons class="visible--lgUp" unifi-ui-list-filter-buttons-config="portForwardStatsListCtrl.filterGroups"></unifi-ui-list-filter-buttons><unifi-ui-list-filter-dropdown class="visible--mdDown" unifi-ui-list-filter-dropdown-config="portForwardStatsListCtrl.filterGroups" unifi-ui-list-filter-dropdown-filter-by-label="{{\'COMMON_LABEL_FILTER_BY\' | translate}}" unifi-ui-list-filter-dropdown-filter-by-all-label="{{\'COMMON_LABEL_FILTER_ALL\' | translate}}"></unifi-ui-list-filter-dropdown></div></div><div class="appActionBar__right"><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="portForwardStatsListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="portForwardStatsListCtrl.view.isRefreshing()"></unifi-search></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="portForwardStatsListTable" ng-init="gateway = portForwardStatsListCtrl.getSiteGateway()" collection-view-sort="portForwardStatsListCtrl.view" ng-class="{          \'is-not-responsive\': portForwardStatsListCtrl.columnStore.getCustomized() || !portForwardStatsListCtrl.isResponsive()        }" unifi-condensed="appTable--condensed"><thead><tr><th class="portForwardStatsName" collection-view-sort-by="name" ng-if="portForwardStatsListCtrl.isColumnVisible(\'name\')"><span translate="PORT_FORWARD_STATS_TABLE_HEADER_NAME"></span></th><th class="portForwardStatsSrc" collection-view-sort-by="src" ng-if="portForwardStatsListCtrl.isColumnVisible(\'src\')"><span translate="PORT_FORWARD_STATS_TABLE_HEADER_SRC"></span></th><th class="portForwardStatsProto" collection-view-sort-by="proto" ng-if="portForwardStatsListCtrl.isColumnVisible(\'proto\')"><span translate="PORT_FORWARD_STATS_TABLE_HEADER_PROTOCOL"></span></th><th class="portForwardStatsDstPort" collection-view-sort-by="dst_port" ng-if="portForwardStatsListCtrl.isColumnVisible(\'dst_port\')"><span translate="PORT_FORWARD_STATS_TABLE_HEADER_DST_PORT"></span></th><th class="portForwardStatsForward" collection-view-sort-by="fwd" ng-if="portForwardStatsListCtrl.isColumnVisible(\'fwd\')"><span translate="PORT_FORWARD_STATS_TABLE_HEADER_FORWARD_IP"></span></th><th class="portForwardStatsForwardPort" collection-view-sort-by="fwd_port" ng-if="portForwardStatsListCtrl.isColumnVisible(\'fwd_port\')"><span translate="PORT_FORWARD_STATS_TABLE_HEADER_FORWARD_PORT"></span></th><th class="portForwardStatsRxPackets" collection-view-sort-by="rx_packets" ng-if="portForwardStatsListCtrl.isColumnVisible(\'rx_packets\')"><span translate="PORT_FORWARD_STATS_TABLE_HEADER_RX_PACKETS"></span></th><th class="portForwardStatsRxBytes" collection-view-sort-by="rx_bytes" ng-if="portForwardStatsListCtrl.isColumnVisible(\'rx_bytes\')"><span translate="PORT_FORWARD_STATS_TABLE_HEADER_RX_BYTES"></span></th><th class="portForwardStatsLeaseDuration" collection-view-sort-by="lease_duration" ng-if="portForwardStatsListCtrl.isColumnVisible(\'lease_duration\')"><span translate="PORT_FORWARD_STATS_TABLE_HEADER_LEASE_DURATION"></span></th><th class="portForwardStatsActions appTableCell--withAction"><div ng-if="portForwardStatsListCtrl.isColumnVisible(\'actions\')"><span translate="PORT_FORWARD_STATS_TABLE_HEADER_ACTIONS"></span><span unifi-collapsible-table-icon="portForwardStatsListCtrl.collapsibleColumnKeyActions"></span></div><unifi-list-column-selector unifi-list-column-selector-column-store="portForwardStatsListCtrl.columnStore"></unifi-list-column-selector></th></tr></thead><tfoot ng-if="portForwardStatsListCtrl.view.getModels().length"><tr><td colspan="{{portForwardStatsListCtrl.columnStore.getColumns().length + (portForwardStatsListCtrl.isColumnVisible(\'actions\') ? 0 : 1)}}"><unifi-list-pagination unifi-list-pagination-current-page="portForwardStatsListCtrl.currentPage" unifi-list-pagination-rows-per-page="portForwardStatsListCtrl.rowsPerPage" unifi-list-pagination-total-rows="portForwardStatsListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in portForwardStatsListCtrl.view.getModels(),                    startFrom (portForwardStatsListCtrl.currentPage - 1) * portForwardStatsListCtrl.rowsPerPage,                    limitTo portForwardStatsListCtrl.rowsPerPage" collection-view-repeat-watch-all="portForwardStatsListCtrl.columnStore.getColumns(); portForwardStatsListCtrl.isColumnCollapsed(portForwardStatsListCtrl.collapsibleColumnKeyActions)" data-id="{{::model.id}}"><td class="portForwardStatsName" ng-if="::portForwardStatsListCtrl.isColumnVisible(\'name\')">{{::model.get(\'name\')}}</td><td class="portForwardStatsSrc" ng-if="::portForwardStatsListCtrl.isColumnVisible(\'src\')">{{::model.get(\'src\') | portForwardSource}}</td><td class="portForwardStatsProto" ng-if="::portForwardStatsListCtrl.isColumnVisible(\'proto\')">{{::model.get(\'proto\') | portForwardProtocol}}</td><td class="portForwardStatsPort" ng-if="::portForwardStatsListCtrl.isColumnVisible(\'dst_port\')">{{::model.get(\'dst_port\')}}</td><td class="portForwardStatsForward" ng-if="::portForwardStatsListCtrl.isColumnVisible(\'fwd\')">{{::model.get(\'fwd\')}}</td><td class="portForwardStatsForwardPort" ng-if="::portForwardStatsListCtrl.isColumnVisible(\'fwd_port\')">{{::model.get(\'fwd_port\')}}</td><td class="portForwardStatsRxPackets" ng-if="::portForwardStatsListCtrl.isColumnVisible(\'rx_packets\')">{{::model.get(\'rx_packets\') | numberToString}}</td><td class="portForwardStatsRxBytes" ng-if="::portForwardStatsListCtrl.isColumnVisible(\'rx_bytes\')">{{::model.get(\'rx_bytes\') | bytes}}</td><td class="portForwardStatsLeaseduration" ng-if="::portForwardStatsListCtrl.isColumnVisible(\'lease_duration\')">{{::model.get(\'lease_duration\') | seconds}}</td><td class="switchStatsActions appTableCell--actions" unifi-collapsible-table-cell="portForwardStatsListCtrl.collapsibleColumnKeyActions" unifi-collapsible-table-cell-bind-once="true"><a class="appMainButton appMainButton--tertiary" ng-if="portForwardStatsListCtrl.isColumnVisible(\'actions\') &amp;&amp; !model.get(\'is_upnp\')" ui-sref="manage.site.settings.routingAndFirewall.portforward({action: \'edit\', id: model.id})" data-id="{{::gateway.id}}" data-device-type="{{::gateway.get(\'type\')}}"><div'+(e="unifi-if-role-admin",n=!0,o=!0,a=!0,!1!==n&&null!=n&&(n||"class"!==e&&"style"!==e)?!0===n?" "+(a?e:e+'="'+e+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(t){var i=""+t,e=s.exec(i);if(!e)return t;var n,o,a,r="";for(n=e.index,o=0;n<i.length;n++){switch(i.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}o!==n&&(r+=i.substring(o,n)),o=n+1,r+=a}return o!==n?r+i.substring(o,n):r}(n))," "+e+'="'+n+'"'):" "+e+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' title="{{\'COMMON_ACTIONS_EDIT\' | translate}}"><span class="button__icon icon ubnt-icon--pencil"></span><span class="button__label" translate="COMMON_ACTIONS_EDIT"></span></div><div unifi-if-role-admin="false" title="{{COMMON_ACTIONS_VIEW | translate}}"><span class="button__icon icon ubnt-icon--eye2"></span><span class="button__label" translate="COMMON_ACTIONS_VIEW"></span></div></a></td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!portForwardStatsListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="PORT_FORWARD_STATS_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="!portForwardStatsListCtrl.isFiltered()" translate="PORT_FORWARD_STATS_TABLE_EMPTY_NO_FORWARDS"></p><p class="noMarginBottom" ng-if="portForwardStatsListCtrl.isFiltered()" translate="PORT_FORWARD_STATS_TABLE_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div></div></div>';var e,n,o,a};var s=/["&<>]/},{"pug-runtime":2}],24:[function(t,i,e){"use strict";var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}();angular.module("app-unifi-manage-insights").controller("RemoteUserVpnListController",["BasePaginatedListController","$translate","frame","heyToasts","insightsStatesPrivilegesControllerMixin","listCollapsibleColumnControllerMixin","remoteUserVpn","remoteUserVpnUtils","remoteUserVpnListColumnStore","RemoteUserVpnFilter",function(t,i,e,n,o,a,r,l,c,p){return new(function(u){function d(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return t.remoteUserVpn=r,t.remoteUserVpnUtils=l,t.$translate=i,t.columnStore=c,t.frame=e,t.heyToasts=n,t.filter=new p,t.collapsibleColumnKeyActions="collapse:remoteUserVpn:actions",t.defaultSortBy="uptime",t.isColumnVisible=t.columnStore.isColumnVisible.bind(t.columnStore),t.isCustomized=t.columnStore.getCustomized.bind(t.columnStore),a(t),o(t),t}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(d,t),s(d,[{key:"terminate",value:function(t){return e.show("confirm",{title:function(){return i.instant("REMOTE_USER_VPN_TERMINATE_CONFIRM_TITLE")},message:function(){return i.instant("REMOTE_USER_VPN_TERMINATE_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return l.terminate(t).then(function(t){n.pushSuccess(t)}).catch(function(t){n.pushError(t)})})}},{key:"getCollection",value:function(){return r.repository.collection}},{key:"refreshColumns",value:function(){this.isStateChanging()||this.columnStore.setColumns()}},{key:"refresh",value:function(t){return this.refreshColumns(),function t(i,e,s){null===i&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,e);if(void 0===n){var o=Object.getPrototypeOf(i);return null===o?void 0:t(o,e,s)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(s):void 0}(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"refresh",this).call(this,t)}},{key:"initFilters",value:function(){this.isFiltered=this.filter.isFiltered.bind(this.filter)}}]),d}())}])},{}],25:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").directive("unifiRemoteUserVpnList",["PaginatedListDirective",function(i){return new i("remoteUserVpn",t("./remoteUserVpnList.pug")())}])},{"./remoteUserVpnList.pug":26}],26:[function(t,i,e){t("pug-runtime");function s(t,i,e,s){return!1!==i&&null!=i&&(i||"class"!==t&&"style"!==t)?!0===i?" "+(s?t:t+'="'+t+'"'):("function"==typeof i.toJSON&&(i=i.toJSON()),"string"==typeof i||(i=JSON.stringify(i),e||-1===i.indexOf('"'))?(e&&(i=function(t){var i=""+t,e=n.exec(i);if(!e)return t;var s,o,a,r="";for(s=e.index,o=0;s<i.length;s++){switch(i.charCodeAt(s)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}o!==s&&(r+=i.substring(o,s)),o=s+1,r+=a}return o!==s?r+i.substring(o,s):r}(i))," "+t+'="'+i+'"'):" "+t+"='"+i.replace(/'/g,"&#39;")+"'"):""}i.exports=function(t){var i="";return i=i+'<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="remoteUserVpnListCtrl.statesWithPermission"></unifi-state-switcher></div></div></div><div class="appActionBar__right"><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="remoteUserVpnListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="remoteUserVpnListCtrl.view.isRefreshing()"></unifi-search></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="knownClientsTable" collection-view-sort="remoteUserVpnListCtrl.view" ng-class="{          \'is-not-responsive\': remoteUserVpnListCtrl.columnStore.getCustomized() || !remoteUserVpnListCtrl.isResponsive()        }" unifi-condensed="appTable--condensed"><thead><tr><th class="remoteUserVpnInterface" collection-view-sort-by="interface" ng-if="remoteUserVpnListCtrl.isColumnVisible(\'interface\')"><span translate="REMOTE_USER_VPN_TABLE_HEADER_INTERFACE"></span></th><th class="remoteUserVpnRemoteIp" collection-view-sort-by="remote_ip" ng-if="remoteUserVpnListCtrl.isColumnVisible(\'remote_ip\')"><span translate="REMOTE_USER_VPN_TABLE_HEADER_REMOTE_IP"></span></th><th class="remoteUserVpnUser" collection-view-sort-by="user" ng-if="remoteUserVpnListCtrl.isColumnVisible(\'user\')"><span translate="REMOTE_USER_VPN_TABLE_HEADER_USER"></span></th><th class="remoteUserVpnDownPkts" collection-view-sort-by="rx_packets" ng-if="remoteUserVpnListCtrl.isColumnVisible(\'rx_packets\')"><span translate="REMOTE_USER_VPN_TABLE_HEADER_DOWN_PKTS"></span></th><th class="remoteUserDownBytes" collection-view-sort-by="rx_bytes" ng-if="remoteUserVpnListCtrl.isColumnVisible(\'rx_bytes\')"><span translate="REMOTE_USER_VPN_TABLE_HEADER_DOWN_BYTES"></span></th><th class="remoteUserUpPkts" collection-view-sort-by="tx_packets" ng-if="remoteUserVpnListCtrl.isColumnVisible(\'tx_packets\')"><span translate="REMOTE_USER_VPN_TABLE_HEADER_UP_PKTS"></span></th><th class="remoteUserVpnUpBytes" collection-view-sort-by="tx_bytes" ng-if="remoteUserVpnListCtrl.isColumnVisible(\'tx_bytes\')"><span translate="REMOTE_USER_VPN_TABLE_HEADER_UP_BYTES"></span></th><th class="remoteUserVpnUptime" collection-view-sort-by="uptime" ng-if="remoteUserVpnListCtrl.isColumnVisible(\'uptime\')"><span translate="REMOTE_USER_VPN_TABLE_HEADER_UPTIME"></span></th><th class="remoteUserVpnActions appTableCell--withAction"'+s("unifi-if-role-admin",!0,!0,!0)+'><div ng-if="remoteUserVpnListCtrl.isColumnVisible(\'actions\')"><span translate="REMOTE_USER_VPN_TABLE_HEADER_ACTIONS"></span><span unifi-collapsible-table-icon="remoteUserVpnListCtrl.collapsibleColumnKeyActions"></span></div><unifi-list-column-selector unifi-list-column-selector-column-store="remoteUserVpnListCtrl.columnStore"></unifi-list-column-selector></th></tr></thead><tfoot ng-if="remoteUserVpnListCtrl.view.getModels().length"><tr><td colspan="{{remoteUserVpnListCtrl.columnStore.getColumns().length + (remoteUserVpnListCtrl.isColumnVisible(\'actions\') ? 0 : 1)}}"><unifi-list-pagination unifi-list-pagination-current-page="remoteUserVpnListCtrl.currentPage" unifi-list-pagination-rows-per-page="remoteUserVpnListCtrl.rowsPerPage" unifi-list-pagination-total-rows="remoteUserVpnListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in remoteUserVpnListCtrl.view.getModels(),              startFrom (remoteUserVpnListCtrl.currentPage - 1) * remoteUserVpnListCtrl.rowsPerPage,              limitTo remoteUserVpnListCtrl.rowsPerPage" collection-view-repeat-watch-all="remoteUserVpnListCtrl.columnStore.getColumns(); remoteUserVpnListCtrl.isColumnCollapsed(remoteUserVpnListCtrl.collapsibleColumnKeyActions)" data-id="{{::model.id}}"><td class="remoteUserVpnInterface" ng-if="::remoteUserVpnListCtrl.isColumnVisible(\'interface\')">{{::model.get(\'interface\')}}</td><td class="remoteUserVpnRemoteIp" ng-if="::remoteUserVpnListCtrl.isColumnVisible(\'remote_ip\')">{{::model.get(\'remote_ip\')}}</td><td class="remoteUserVpnUser" ng-if="::remoteUserVpnListCtrl.isColumnVisible(\'user\')">{{::model.get(\'user\')}}</td><td class="remoteUserVpnDownPkts unifiDownload" ng-if="::remoteUserVpnListCtrl.isColumnVisible(\'rx_packets\')">{{::model.get(\'rx_packets\')}}</td><td class="remoteUserDownBytes unifiDownload" ng-if="::remoteUserVpnListCtrl.isColumnVisible(\'rx_bytes\')">{{::model.get(\'rx_bytes\') | bytes}}</td><td class="remoteUserVpnUpPkts unifiUpload" ng-if="::remoteUserVpnListCtrl.isColumnVisible(\'tx_packets\')">{{::model.get(\'tx_packets\')}}</td><td class="remoteUserUpBytes unifiUpload" ng-if="::remoteUserVpnListCtrl.isColumnVisible(\'tx_bytes\')">{{::model.get(\'tx_bytes\') | bytes}}</td><td class="remoteUserVpnUptime" ng-if="::remoteUserVpnListCtrl.isColumnVisible(\'uptime\')">{{::model.get(\'uptime\') | seconds}}</td><td class="clientActions appTableCell--actions"'+s("unifi-if-role-admin",!0,!0,!0)+' unifi-collapsible-table-cell="remoteUserVpnListCtrl.collapsibleColumnKeyActions" unifi-collapsible-table-cell-bind-once="true"><button class="appMainButton appMainButton--tertiary" ng-if="remoteUserVpnListCtrl.isColumnVisible(\'actions\')" ng-click="remoteUserVpnListCtrl.terminate(model)"><div title="{{\'REMOTE_USER_VPN_TABLE_ACTION_TERMINATE\' | translate}}"><span class="button__icon icon ubnt-icon--link-broken"></span><span class="button__label" translate="REMOTE_USER_VPN_TABLE_ACTION_TERMINATE"></span></div></button></td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!remoteUserVpnListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="REMOTE_USER_VPN_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="!remoteUserVpnListCtrl.isFiltered()" translate="REMOTE_USER_VPN_TABLE_EMPTY_NO_REMOTE_USER_VPN"></p><p class="noMarginBottom" ng-if="remoteUserVpnListCtrl.isFiltered()" translate="REMOTE_USER_VPN_TABLE_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],27:[function(t,i,e){"use strict";var s=lazyRequire.get("BaseButtonController");function n(t,i,e,n,o,a,r){this.$translate=t,this.$q=i,this.neighboringAccessPointsUtils=a,this.frame=n,this.heyToasts=o,this.preferences=r,s.call(this,e),this.isKnown=!1}n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.onModelChange=function(){this.isKnown=!(!this.model||!this.model.get("is_known"))},n.prototype.toggle=function(t){return t.preventDefault(),t.stopPropagation(),(!this.preferences.model.get("bypassConfirmBlock")&&!this.isKnown?this.frame.show("confirm",{title:function(){return this.$translate.instant("NEIGHBORING_ACCESS_POINT_ACTIONS_MARK_AS_KNOWN_CONFIRM_TITLE")}.bind(this),message:function(){return this.$translate.instant("NEIGHBORING_ACCESS_POINT_ACTIONS_MARK_AS_KNOWN_CONFIRM_MESSAGE",{essid:this.model.get("essid")||this.model.get("bssid")})}.bind(this),options:function(){return{bypassFlag:"bypassConfirmBlock"}}}):this.$q.when()).then(function(){return this.isPending=!0,this.neighboringAccessPointsUtils[this.isKnown?"removeFromKnown":"markAsKnown"](this.model).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isPending=!1}.bind(this))}.bind(this))},n.$inject=["$translate","$q","account","frame","heyToasts","neighboringAccessPointsUtils","preferences"],angular.module("app-unifi-manage-insights").controller("RogueApButtonMarkController",n)},{}],28:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").directive("unifiRogueApButtonMark",["updateModelDirectiveMixin",function(i){return{scope:{model:"=unifiRogueApButtonMark",isLabeled:"=unifiRogueApButtonMarkIsLabeled",isResponsive:"=unifiRogueApButtonMarkIsResponsive"},controller:"RogueApButtonMarkController",controllerAs:"rogueApButtonMarkCtrl",replace:!0,template:t("./rogueApButtonMark.pug")(),link:function(t,e,s,n){t.$on("$destroy",function(){n.removeEventHandlers()}),i.init(t,e,s,n,!0)}}}])},{"./rogueApButtonMark.pug":29}],29:[function(t,i,e){t("pug-runtime");i.exports=function(t){var i="";return i=i+'<div ng-click="rogueApButtonMarkCtrl.toggle($event)" ng-class="{\'is-responsive\': isResponsive}" title="{{(!rogueApButtonMarkCtrl.isKnown ? \'NEIGHBORING_ACCESS_POINT_ACTIONS_MARK_AS_KNOWN\' : \'NEIGHBORING_ACCESS_POINT_ACTIONS_REMOVE_FROM_KNOWN\') | translate}}"><span class="button__icon icon" ng-class="{      \'ubnt-icon--check-circle\': !rogueApButtonMarkCtrl.isKnown,      \'ubnt-icon--trashcan\': rogueApButtonMarkCtrl.isKnown,      \'ubnt-icon--clock-2\': rogueApButtonMarkCtrl.isPending    }"></span><span class="button__label" ng-if="::isLabeled"'+(e="translate",n=!0,o=!0,a=!0,!1!==n&&null!=n&&(n||"class"!==e&&"style"!==e)?!0===n?" "+(a?e:e+'="'+e+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(t){var i=""+t,e=s.exec(i);if(!e)return t;var n,o,a,r="";for(n=e.index,o=0;n<i.length;n++){switch(i.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}o!==n&&(r+=i.substring(o,n)),o=n+1,r+=a}return o!==n?r+i.substring(o,n):r}(n))," "+e+'="'+n+'"'):" "+e+"='"+n.replace(/'/g,"&#39;")+"'"):"")+">{{!rogueApButtonMarkCtrl.isKnown ? 'NEIGHBORING_ACCESS_POINT_ACTIONS_MARK_AS_KNOWN' : 'NEIGHBORING_ACCESS_POINT_ACTIONS_REMOVE_FROM_KNOWN'}}</span></div>";var e,n,o,a};var s=/["&<>]/},{"pug-runtime":2}],30:[function(t,i,e){"use strict";var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}();angular.module("app-unifi-manage-insights").controller("RoutingStatsListController",["BasePaginatedListController","insightsStatesPrivilegesControllerMixin","routingStats","RoutingStatsFilter",function(t,i,e,n){return new(function(o){function a(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t.routingStats=e,t.filter=new n,i(t),t}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(a,t),s(a,[{key:"getCollection",value:function(){return e.repository.collection}}]),a}())}])},{}],31:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").directive("unifiRoutingStatsList",["PaginatedListDirective",function(i){return new i("routingStats",t("./routingStatsList.pug")())}])},{"./routingStatsList.pug":32}],32:[function(t,i,e){t("pug-runtime");i.exports=function(t){var i="";return i+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="routingStatsListCtrl.statesWithPermission"></unifi-state-switcher></div></div></div><div class="appActionBar__right"><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="routingStatsListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="routingStatsListCtrl.view.isRefreshing()"></unifi-search></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="routingTable" collection-view-sort="routingStatsListCtrl.view" ng-class="{          \'is-not-responsive\': !routingStatsListCtrl.isResponsive()        }" unifi-condensed="appTable--condensed"><thead><tr><th class="routingPrefix" collection-view-sort-by="prefix"><span translate="ROUTING_TABLE_HEADER_PREFIX"></span></th><th class="routingType" collection-view-sort-by="type"><span translate="ROUTING_TABLE_HEADER_TYPE"></span></th><th class="routingInterface" collection-view-sort-by="interface"><span translate="ROUTING_TABLE_HEADER_INTERFACE"></span></th><th class="routingMetric" collection-view-sort-by="metric"><span translate="ROUTING_TABLE_HEADER_METRIC"></span></th><th class="routingVia" collection-view-sort-by="via"><span translate="ROUTING_TABLE_HEADER_VIA"></span></th></tr></thead><tfoot ng-if="routingStatsListCtrl.view.getModels().length"><tr><td colspan="5"><unifi-list-pagination unifi-list-pagination-current-page="routingStatsListCtrl.currentPage" unifi-list-pagination-rows-per-page="routingStatsListCtrl.rowsPerPage" unifi-list-pagination-total-rows="routingStatsListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in routingStatsListCtrl.view.getModels(),              startFrom (routingStatsListCtrl.currentPage - 1) * routingStatsListCtrl.rowsPerPage,              limitTo routingStatsListCtrl.rowsPerPage"><td class="routingPrefix">{{::model.get(\'prefix\')}}</td><td class="routingType">{{::model.get(\'type\')}}</td><td class="routingInterface">{{::model.get(\'interface\')}}</td><td class="routingMetric">{{::model.get(\'metric\')}}</td><td class="routingVia">{{::model.get(\'via\')}}</td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!routingStatsListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="ROUTING_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="!routingStatsListCtrl.isFiltered()" translate="ROUTING_TABLE_EMPTY_NO_ROUTES"></p><p class="noMarginBottom" ng-if="routingStatsListCtrl.isFiltered()" translate="ROUTING_TABLE_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div></div></div>'}},{"pug-runtime":2}],33:[function(t,i,e){"use strict";var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}();angular.module("app-unifi-manage-insights").controller("StreamsListController",["BasePaginatedListController","devices","heyToasts","insightsStatesPrivilegesControllerMixin","StreamDeviceFilter","streamDevicesComparator","streams","streamsListColumnStore",function(t,i,e,n,o,a,r,l){return new(function(c){function p(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return t.columnStore=l,t.isColumnVisible=t.columnStore.isColumnVisible.bind(t.columnStore),t.isCustomized=t.columnStore.getCustomized.bind(t.columnStore),t.comparator=a,t.filter=new o,t.filterGroups=[],t.defaultSortBy="streamId",t.columnStore.setColumns(),n(t),t}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(p,t),s(p,[{key:"initFilters",value:function(){var t=this.listState.getFilter("stream");"all"!==t&&this.filter.setStreamFilter(t),this.isFiltered=this.filter.isFiltered.bind(this.filter),this.getStreamFilter=this.filter.getStreamFilter.bind(this.filter),this.hasStreamFilter=this.filter.hasStreamFilter.bind(this.filter),this.initFilterView()}},{key:"initFilterView",value:function(){var t=this,i=this.getStreams();if(i.length>1){var e={id:"stream",translationKey:"STREAMS_FILTER_TITLE_STREAM",items:[{id:"all",translationKey:"STREAMS_FILTER_ALL_STREAMS",excludeFromSummary:!0,isSelected:function(){return!this.hasStreamFilter()}.bind(this),onSelect:function(){return this.clearStreamFilter()}.bind(this)}]};i.forEach(function(i){e.items.push({id:i.id,label:i.id,excludeFromSummary:!1,isSelected:function(){return this.getStreamFilter()===i.id}.bind(t),onSelect:function(){return this.setStreamFilter(i.id)}.bind(t)})}),this.filterGroups.push(e)}}},{key:"getCollection",value:function(){return r.streamDevicesCollection}},{key:"getStreamFilterGroup",value:function(){return this.filterGroups.find(function(t){return"stream"===t.id})}},{key:"getStreams",value:function(){return r.repository.collection}},{key:"getDevice",value:function(t){return i.repository.collection.get(t.get("mac"))}},{key:"getStream",value:function(t){return r.repository.collection.get(t.get("streamId"))}},{key:"terminateStream",value:function(t){var i=this;this.isTerminating=!0,r.terminateStream(t).then(function(t){e.pushSuccess(t)}).catch(function(t){e.pushError(t)}).finally(function(){i.isTerminating=!1})}},{key:"clearStreamFilter",value:function(){this.beginStateChange(),this.listState.removeFilter("stream"),this.filter.clearStreamFilter(),this.commitStateChange()}},{key:"setStreamFilter",value:function(t){this.beginStateChange(),this.listState.addFilter("stream",t),this.filter.setStreamFilter(t),this.commitStateChange()}}]),p}())}])},{}],34:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").directive("unifiStreamsList",["PaginatedListDirective",function(i){return new i("streams",t("./streamsList.pug")())}])},{"./streamsList.pug":35}],35:[function(t,i,e){t("pug-runtime");i.exports=function(t){var i="";return i+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="streamsListCtrl.statesWithPermission"></unifi-state-switcher></div><div ng-if="streamsListCtrl.getStreams().length &gt; 1"><unifi-ui-single-filter-dropdown class="visible--lgUp" unifi-ui-single-filter-dropdown-filter-group="streamsListCtrl.getStreamFilterGroup()" unifi-ui-single-filter-dropdown-filter-by-label="{{\'STREAMS_FILTER_TITLE_STREAM\' | translate}}" unifi-ui-single-filter-dropdown-filter-by-all-label="{{\'STREAMS_FILTER_ALL_STREAMS\' | translate}}"></unifi-ui-single-filter-dropdown><unifi-ui-list-filter-dropdown class="visible--mdDown" unifi-ui-list-filter-dropdown-config="streamsListCtrl.filterGroups" unifi-ui-list-filter-dropdown-filter-by-label="{{\'COMMON_LABEL_FILTER_BY\' | translate}}" unifi-ui-list-filter-dropdown-filter-by-all-label="{{\'COMMON_LABEL_FILTER_ALL\' | translate}}"></unifi-ui-list-filter-dropdown></div><div class="appActionBarFilter" ng-if="streamsListCtrl.getStreams().length &gt; 0"><div class="appMainButton appMainButton--primary appMainButton--cozy appMainButton--withDropdown visible--mdUp" on-outside-element-click="streamsListCtrl.terminateStreamDropdownVisible = false" ng-click="streamsListCtrl.terminateStreamDropdownVisible = !streamsListCtrl.terminateStreamDropdownVisible" ng-disabled="streamsListCtrl.isTerminating"><span class="button__icon icon ubnt-icon--link-broken"></span><span translate="STREAMS_ACTIONS_TERMINATE"></span><span class="button__icon button__icon--right icon ubnt-icon--pointer-down"></span><ul class="appDropdown appDropdown--inButton appDropdown--left appDropdown--scrollable appDropdown--medium" ng-class="streamsListCtrl.terminateStreamDropdownVisible ? \'is-dropdown-visible\' : \'\'"><li class="appDropdown__item" ng-repeat="stream in streamsListCtrl.getStreams().models" ng-click="streamsListCtrl.terminateStream(stream)">{{ stream.get(\'streamId\') }}</li></ul></div></div></div></div><div class="appActionBar__right"><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="streamsListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="streamsListCtrl.view.isRefreshing()"></unifi-search></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="streamsListTable" collection-view-sort="streamsListCtrl.view" ng-class="{          \'is-not-responsive\': streamsListCtrl.columnStore.getCustomized() || !streamsListCtrl.isResponsive()        }" unifi-condensed="appTable--condensed"><thead><tr><th class="streamsStateIcon"></th><th class="streamsDevice" collection-view-sort-by="device" ng-if="streamsListCtrl.isColumnVisible(\'device\')"><span translate="STREAMS_TABLE_HEADER_DEVICE"></span></th><th class="streamsStreamId" collection-view-sort-by="streamId" ng-if="streamsListCtrl.isColumnVisible(\'stream_id\')"><span translate="STREAMS_TABLE_HEADER_STREAM_ID"></span></th><th class="streamsReady" collection-view-sort-by="ready" ng-if="streamsListCtrl.isColumnVisible(\'ready\')"><span translate="STREAMS_TABLE_HEADER_READY"></span></th><th class="streamsStreaming" collection-view-sort-by="streaming" ng-if="streamsListCtrl.isColumnVisible(\'streaming\')"><span translate="STREAMS_TABLE_HEADER_STREAMING"></span></th><th class="streamsConnected" collection-view-sort-by="connected" ng-if="streamsListCtrl.isColumnVisible(\'connected\')"><span translate="STREAMS_TABLE_HEADER_CONNECTED"></span></th><th class="streamsActions appTableCell--withAction"><unifi-list-column-selector unifi-list-column-selector-column-store="streamsListCtrl.columnStore"></unifi-list-column-selector></th></tr></thead><tfoot ng-if="streamsListCtrl.view.getModels().length"><tr><td colspan="{{streamsListCtrl.columnStore.getColumns().length + (streamsListCtrl.isColumnVisible(\'actions\') ? 0 : 1)}}"><unifi-list-pagination unifi-list-pagination-current-page="streamsListCtrl.currentPage" unifi-list-pagination-rows-per-page="streamsListCtrl.rowsPerPage" unifi-list-pagination-total-rows="streamsListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in streamsListCtrl.view.getModels(),              startFrom (streamsListCtrl.currentPage - 1) * streamsListCtrl.rowsPerPage,              limitTo streamsListCtrl.rowsPerPage" collection-view-repeat-watch="streamsListCtrl.columnStore.getColumns()" data-id="{{::model.id}}" ng-init="device = streamsListCtrl.getDevice(model)"><td class="streamsStateIcon unifiDevicesTable__statusBall"><span unifi-device-icon="::device"></span></td><td class="streamsDevice" ng-if="::streamsListCtrl.isColumnVisible(\'device\')"><span ng-if="!device">{{::model.get(\'mac\')}}</span><a ng-if="device" data-id="{{::device.id}}" data-device-type="{{::device.get(\'type\')}}" unifi-open-panel="device" unifi-open-panel-active-tab="\'details\'">{{::device.getDisplayName()}}</a></td><td class="streamsStreamId" ng-if="::streamsListCtrl.isColumnVisible(\'stream_id\')"><a data-id="{{::model.get(\'streamId\')}}" unifi-open-panel="streamsListCtrl.getStream(model)" unifi-open-panel-active-tab="\'details\'">{{::model.get(\'streamId\')}}</a></td><td class="streamsReady" ng-if="::streamsListCtrl.isColumnVisible(\'ready\')"><unifi-yes-or-no-badge unifi-yes-or-no-badge-model="model.get(\'ready\')"></unifi-yes-or-no-badge></td><td class="streamsStreaming" ng-if="::streamsListCtrl.isColumnVisible(\'streaming\')"><unifi-yes-or-no-badge unifi-yes-or-no-badge-model="model.get(\'streaming\')"></unifi-yes-or-no-badge></td><td class="streamsConnected" ng-if="::streamsListCtrl.isColumnVisible(\'connected\')"><unifi-yes-or-no-badge unifi-yes-or-no-badge-model="model.get(\'connected\')"></unifi-yes-or-no-badge></td><td class="streamsActions appTableCell--actions"></td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!streamsListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="STREAMS_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="!streamsListCtrl.isFiltered()" translate="STREAMS_TABLE_EMPTY_NO_STREAMS"></p><p class="noMarginBottom" ng-if="streamsListCtrl.isFiltered()" translate="STREAMS_TABLE_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div></div></div>'}},{"pug-runtime":2}],36:[function(t,i,e){"use strict";var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}();angular.module("app-unifi-manage-insights").controller("SwitchStatsListController",["$translate","BasePaginatedListController","devices","frame","heyToasts","insightsStatesPrivilegesControllerMixin","listCollapsibleColumnControllerMixin","switchStats","switchStatsComparator","switchStatsListColumnStore","SwitchStatsFilter","switchUtils",function(t,i,e,n,o,a,r,l,c,p,u,d){return new(function(h){function g(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,g);var t=function(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return t.columnStore=p,t.switchUtils=d,t.isColumnVisible=t.columnStore.isColumnVisible.bind(t.columnStore),t.isCustomized=t.columnStore.getCustomized.bind(t.columnStore),t.isPowerDeviceDetected=d.isPowerDeviceDetected.bind(d),t.getDevice=d.getPortDevice.bind(d),t.getSwitchPortProfile=d.getPortProfile.bind(d),t.getSwitchPortOperationMode=d.getPortOperationMode.bind(d),t.getSwitchPortPoeDetection=d.getPortPoeDetection.bind(d),t.getSwitchPortPoeModeText=d.getPortPoeModeText.bind(d),t.getSwitchPortPoeVoltage=d.getPortPoeVoltage.bind(d),t.getSwitchPortStatus=d.getPortStatus.bind(d),t.getSwitchPortStpStatus=d.getPortStpStatus.bind(d),t.getRxLinkUsage=d.getRxLinkUsage.bind(d),t.getTxLinkUsage=d.getTxLinkUsage.bind(d),t.isAdoptedSwitch=d.isAdoptedSwitch.bind(d),t.comparator=c,t.filter=new u,t.collapsibleColumnKeyActions="collapse:switchStats:actions",t.defaultSortBy="port_idx",t.filterGroups=[],t.viewGroups=[],r(t),a(t),t}return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}(g,i),s(g,[{key:"initFilters",value:function(){var t=this.listState.getFilter("device");"all"!==t&&(this.filter.setSwitchFilter(t),this.selectedSwitch=e.repository.collection.get(t));var i=this.listState.getFilter("linkStatus");"all"!==i&&this.filter.setLinkStatusFilter(i),this.columnGroup=this.listState.getFilter("view"),this.isFiltered=this.filter.isFiltered.bind(this.filter),this.getSwitchFilter=this.filter.getSwitchFilter.bind(this.filter),this.hasSwitchFilter=this.filter.hasSwitchFilter.bind(this.filter),this.getLinkStatusFilter=this.filter.getLinkStatusFilter.bind(this.filter),this.hasLinkStatusFilter=this.filter.hasLinkStatusFilter.bind(this.filter),this.initFilterView()}},{key:"initFilterView",value:function(){var t=this,i=d.getAdoptedSwitches();if(i.length>1){var e={id:"switch",translationKey:"SWITCH_STATS_FILTER_TITLE_SWITCH",items:[{id:"all",translationKey:"SWITCH_STATS_FILTER_ALL_SWITCHES",excludeFromSummary:!0,isSelected:function(){return!this.hasSwitchFilter()}.bind(this),onSelect:function(){return this.clearSwitchFilter()}.bind(this)}]};i.forEach(function(i){e.items.push({id:i.id,label:i.getDisplayName(),excludeFromSummary:!1,isSelected:function(){return this.getSwitchFilter()===i.id}.bind(t),onSelect:function(){return this.setSwitchFilter(i.id)}.bind(t)})}),this.filterGroups.push(e)}this.linkStatuses=[{id:"all",translationKey:"SWITCH_STATS_FILTER_LINK_STATUS_ALL",excludeFromSummary:!0,isSelected:function(){return!this.hasLinkStatusFilter()}.bind(this),onSelect:function(){return this.clearLinkStatusFilter()}.bind(this)},{id:"connected",translationKey:"SWITCH_STATS_FILTER_LINK_STATUS_CONNECTED",excludeFromSummary:!1,isSelected:function(){return"connected"===this.getLinkStatusFilter()}.bind(this),onSelect:function(){return this.setLinkStatusFilter("connected")}.bind(this)},{id:"disconnected",translationKey:"SWITCH_STATS_FILTER_LINK_STATUS_DISCONNECTED",excludeFromSummary:!1,isSelected:function(){return"disconnected"===this.getLinkStatusFilter()}.bind(this),onSelect:function(){return this.setLinkStatusFilter("disconnected")}.bind(this)}],this.filterGroups.push({id:"linkStatus",translationKey:"SWITCH_STATS_FILTER_LINK_STATUS_TITLE",items:this.linkStatuses}),this.viewGroups.push({id:"columnGroup",translationKey:"SWITCH_STATS_TITLE_VIEW",excludeFromSummary:!0,isVisible:function(){return!this.columnStore.getCustomized()}.bind(this),items:[{id:"overview",translationKey:"SWITCH_STATS_PRESET_OVERVIEW",isSelected:function(){return"overview"===this.getColumnGroup()}.bind(this),onSelect:function(){return this.setColumnGroup("overview")}.bind(this)},{id:"poe",translationKey:"SWITCH_STATS_PRESET_POE",isSelected:function(){return"poe"===this.getColumnGroup()}.bind(this),onSelect:function(){return this.setColumnGroup("poe")}.bind(this)},{id:"counters",translationKey:"SWITCH_STATS_PRESET_COUNTERS",isSelected:function(){return"counters"===this.getColumnGroup()}.bind(this),onSelect:function(){return this.setColumnGroup("counters")}.bind(this)}]})}},{key:"getCollection",value:function(){return l.repository.collection}},{key:"getPortPropertyPanelState",value:function(t){return[{state:"port",value:t.get("port_idx"),overwrite:!0}]}},{key:"getEditPortPropertyPanelState",value:function(t){return[{state:"editPort",value:t.get("port_idx"),overwrite:!0}]}},{key:"getActiveLinkStatusTranslationData",value:function(){var i=this.hasLinkStatusFilter()?this.getLinkStatusFilter():"all",e=this.linkStatuses.find(function(t){return t.id===i});return{status:t.instant(e.translationKey)}}},{key:"clearSwitchFilter",value:function(){this.beginStateChange(),this.listState.removeFilter("device"),this.filter.clearSwitchFilter(),this.commitStateChange()}},{key:"setSwitchFilter",value:function(t){this.beginStateChange(),this.listState.addFilter("device",t),this.filter.setSwitchFilter(t),this.commitStateChange()}},{key:"clearLinkStatusFilter",value:function(){this.beginStateChange(),this.listState.removeFilter("linkStatus"),this.filter.clearLinkStatusFilter(),this.commitStateChange()}},{key:"setLinkStatusFilter",value:function(t){this.beginStateChange(),this.listState.addFilter("linkStatus",t),this.filter.setLinkStatusFilter(t),this.commitStateChange()}},{key:"getColumnGroup",value:function(){return this.columnGroup}},{key:"setColumnGroup",value:function(t){this.beginStateChange(),this.listState.addFilter("view",t),this.columnGroup=t,this.commitStateChange()}},{key:"isDeviceColumnVisible",value:function(){return!!this.isColumnVisible("device")&&(d.getAdoptedSwitches().length>1&&!this.filter.hasSwitchFilter()||this.isCustomized())}},{key:"refreshColumns",value:function(){this.isStateChanging()||(this.columnStore.setColumnGroup(this.columnGroup),this.columnStore.setColumns())}},{key:"refresh",value:function(t){return this.refreshColumns(),i.prototype.refresh.call(this,t)}},{key:"clearCounters",value:function(i){return n.show("confirm",{title:function(){return t.instant("DEVICE_ACTIONS_SWITCH_CLEAR_COUNTERS_CONFIRM_TITLE",{deviceName:i.getDisplayName()})},message:function(){return t.instant("DEVICE_ACTIONS_SWITCH_CLEAR_COUNTERS_CONFIRM_MESSAGE",{deviceName:i.getDisplayName()})},options:angular.noop}).then(function(){return d.clearCounters(i).then(function(t){return o.pushSuccess(t),!0}).catch(function(t){return o.pushError(t),!1})})}},{key:"clearAllCounters",value:function(){return n.show("confirm",{title:function(){return t.instant("DEVICE_ACTIONS_SWITCH_CLEAR_ALL_COUNTERS_CONFIRM_TITLE")},message:function(){return t.instant("DEVICE_ACTIONS_SWITCH_CLEAR_ALL_COUNTERS_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return d.clearAllCounters().then(function(t){return o.pushSuccess(t),!0}).catch(function(t){return o.pushError(t),!1})})}}]),g}())}])},{}],37:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").directive("unifiSwitchStatsList",["PaginatedListDirective",function(i){return new i("switchStats",t("./switchStatsList.pug")())}])},{"./switchStatsList.pug":38}],38:[function(t,i,e){t("pug-runtime");function s(t,i,e,s){return!1!==i&&null!=i&&(i||"class"!==t&&"style"!==t)?!0===i?" "+(s?t:t+'="'+t+'"'):("function"==typeof i.toJSON&&(i=i.toJSON()),"string"==typeof i||(i=JSON.stringify(i),e||-1===i.indexOf('"'))?(e&&(i=function(t){var i=""+t,e=n.exec(i);if(!e)return t;var s,o,a,r="";for(s=e.index,o=0;s<i.length;s++){switch(i.charCodeAt(s)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}o!==s&&(r+=i.substring(o,s)),o=s+1,r+=a}return o!==s?r+i.substring(o,s):r}(i))," "+t+'="'+i+'"'):" "+t+"='"+i.replace(/'/g,"&#39;")+"'"):""}i.exports=function(t){var i="";return i=i+'<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left" ng-init="switches = switchStatsListCtrl.switchUtils.getAdoptedSwitches();"><div class="appActionBarFilters visible--lgUp"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="switchStatsListCtrl.statesWithPermission"></unifi-state-switcher></div><unifi-ui-list-filter-buttons unifi-ui-list-filter-buttons-config="switchStatsListCtrl.viewGroups"></unifi-ui-list-filter-buttons><div class="appActionBarFilter" ng-if="switches.length &gt; 1"><unifi-select-device-dropdown-list class="unifiSelectDeviceDropdownList--wide" unifi-select-device-dropdown-list-selected-model="switchStatsListCtrl.selectedSwitch" unifi-select-device-dropdown-list-is-required="false" unifi-select-device-dropdown-list-device-filter="switchStatsListCtrl.isAdoptedSwitch(model)" unifi-select-device-dropdown-list-is-cozy="true" unifi-select-device-dropdown-list-on-select="switchStatsListCtrl.setSwitchFilter(model.id)"></unifi-select-device-dropdown-list></div><div class="appActionBarFilter"><div class="appMainButton appMainButton--filter appMainButton--cozy appMainButton--withDropdown" ng-click="switchStatsListCtrl.isLinkStatusDropdownVisible = !switchStatsListCtrl.isLinkStatusDropdownVisible" on-outside-element-click="switchStatsListCtrl.isLinkStatusDropdownVisible = false">{{\'SWITCH_STATS_FILTER_LINK_STATUS\' | translate:switchStatsListCtrl.getActiveLinkStatusTranslationData()}}<span class="button__icon button__icon--right icon ubnt-icon--pointer-down"></span><ul class="appDropdown appDropdown--left appDropdown--inButton" ng-class="{\'is-dropdown-visible\': switchStatsListCtrl.isLinkStatusDropdownVisible}"><li class="appDropdown__item" ng-repeat="linkStatus in switchStatsListCtrl.linkStatuses" ng-click="linkStatus.id !== \'all\' ? switchStatsListCtrl.setLinkStatusFilter(linkStatus.id) : switchStatsListCtrl.clearLinkStatusFilter()">{{linkStatus.translationKey | translate}}</li></ul></div></div></div><div class="appActionBarFilters visible--mdDown"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="switchStatsListCtrl.statesWithPermission"></unifi-state-switcher></div><unifi-ui-list-filter-dropdown unifi-ui-list-filter-dropdown-config="switchStatsListCtrl.filterGroups" unifi-ui-list-filter-dropdown-filter-by-label="{{\'COMMON_LABEL_FILTER_BY\' | translate}}" unifi-ui-list-filter-dropdown-filter-by-all-label="{{\'COMMON_LABEL_FILTER_ALL\' | translate}}"></unifi-ui-list-filter-dropdown></div></div><div class="appActionBar__right"><div class="appActionBarFilters"><div class="appActionBarFilter"><button class="appMainButton appMainButton--primary appMainButton--cozy"'+s("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="switches.length === 1" ng-click="switchStatsListCtrl.clearAllCounters()">{{\'SWITCH_STATS_FILTER_ACTIONS_CLEAR_COUNTERS_CLEAR_ALL\' | translate}}</button><div class="appMainButton appMainButton--primary appMainButton--cozy appMainButton--withDropdown"'+s("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="switches.length &gt; 1" ng-click="switchStatsListCtrl.isClearCountersDropdownVisible = !switchStatsListCtrl.isClearCountersDropdownVisible" on-outside-element-click="switchStatsListCtrl.isClearCountersDropdownVisible = false">{{\'SWITCH_STATS_FILTER_ACTIONS_CLEAR_COUNTERS\' | translate}}<span class="button__icon button__icon--right icon ubnt-icon--pointer-down"></span><ul class="appDropdown appDropdown--left appDropdown--inButton" ng-class="{\'is-dropdown-visible\': switchStatsListCtrl.isClearCountersDropdownVisible}"><li class="appDropdown__item" translate="SWITCH_STATS_FILTER_ACTIONS_CLEAR_COUNTERS_ALL" ng-click="switchStatsListCtrl.clearAllCounters()"></li><li class="appDropdown__item" ng-repeat="switch in switches" ng-click="switchStatsListCtrl.clearCounters(switch)">{{switch.getDisplayName()}}</li></ul></div></div><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="switchStatsListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="switchStatsListCtrl.view.isRefreshing()"></unifi-search></div></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="switchStatsListTable" collection-view-sort="switchStatsListCtrl.view" ng-class="{          \'is-not-responsive\': switchStatsListCtrl.columnStore.getCustomized() || !switchStatsListCtrl.isResponsive()        }" unifi-condensed="appTable--condensed"><thead><tr><th class="switchStatsPortStateIcon">&nbsp;</th><th class="switchStatsPort" collection-view-sort-by="port_idx"><span translate="SWITCH_STATS_TABLE_HEADER_PORT"></span></th><th class="switchStatsDevice" collection-view-sort-by="device" ng-if="switchStatsListCtrl.isDeviceColumnVisible()"><span translate="SWITCH_STATS_TABLE_HEADER_DEVICE"></span></th><th class="switchStatsName" collection-view-sort-by="name" ng-if="switchStatsListCtrl.isColumnVisible(\'name\')"><span translate="SWITCH_STATS_TABLE_HEADER_NAME"></span></th><th class="switchStatsPoeMode visible--mdUp" collection-view-sort-by="poe_mode" ng-if="switchStatsListCtrl.isColumnVisible(\'poeMode\')"><span translate="SWITCH_STATS_TABLE_HEADER_POE_MODE"></span></th><th class="switchStatsPoeDetection" collection-view-sort-by="poe_detection" ng-if="switchStatsListCtrl.isColumnVisible(\'poeDetection\')"><span translate="SWITCH_STATS_TABLE_HEADER_POE_DETECTION"></span></th><th class="switchStatsPoeClass" collection-view-sort-by="poe_class" ng-if="switchStatsListCtrl.isColumnVisible(\'poeClass\')"><span translate="SWITCH_STATS_TABLE_HEADER_POE_CLASS"></span></th><th class="switchStatsPoePower" collection-view-sort-by="poe_power" ng-if="switchStatsListCtrl.isColumnVisible(\'poePower\')"><span translate="SWITCH_STATS_TABLE_HEADER_POE_POWER"></span></th><th class="switchStatsPoeVoltage" collection-view-sort-by="poe_voltage" ng-if="switchStatsListCtrl.isColumnVisible(\'poeVoltage\')"><span translate="SWITCH_STATS_TABLE_HEADER_POE_VOLTAGE"></span></th><th class="switchStatsPoeCurrent" collection-view-sort-by="poe_current" ng-if="switchStatsListCtrl.isColumnVisible(\'poeCurrent\')"><span translate="SWITCH_STATS_TABLE_HEADER_POE_CURRENT"></span></th><th class="switchStatsOperationMode visible--lgUp" collection-view-sort-by="op_mode" ng-if="switchStatsListCtrl.isColumnVisible(\'operationMode\')"><span translate="SWITCH_STATS_TABLE_HEADER_OPERATION_MODE"></span></th><th class="switchStatsProfile visible--lgUp" collection-view-sort-by="profile" ng-if="switchStatsListCtrl.isColumnVisible(\'profile\')"><span translate="SWITCH_STATS_TABLE_HEADER_PROFILE"></span></th><th class="switchStatsLinkStatus visible--mdUp" collection-view-sort-by="link_status" ng-if="switchStatsListCtrl.isColumnVisible(\'linkStatus\')"><span translate="SWITCH_STATS_TABLE_HEADER_LINK_STATUS"></span></th><th class="switchStatsStp visible--lgUp" collection-view-sort-by="stp_state" ng-if="switchStatsListCtrl.isColumnVisible(\'stp\')"><span translate="SWITCH_STATS_TABLE_HEADER_STP"></span></th><th class="switchStatsTx" collection-view-sort-by="tx_bytes" ng-if="switchStatsListCtrl.isColumnVisible(\'tx\')"><span translate="SWITCH_STATS_TABLE_HEADER_TX"></span></th><th class="switchStatsTxBytes" collection-view-sort-by="tx_bytes" ng-if="switchStatsListCtrl.isColumnVisible(\'txBytes\')"><span translate="SWITCH_STATS_TABLE_HEADER_TX_BYTES"></span></th><th class="switchStatsTxPackets" collection-view-sort-by="tx_packets" ng-if="switchStatsListCtrl.isColumnVisible(\'txPackets\')"><span translate="SWITCH_STATS_TABLE_HEADER_TX_PACKETS"></span></th><th class="switchStatsTxMulticast" collection-view-sort-by="tx_multicast" ng-if="switchStatsListCtrl.isColumnVisible(\'txMulticast\')"><span translate="SWITCH_STATS_TABLE_HEADER_TX_MULTICAST"></span></th><th class="switchStatsTxBroadcast" collection-view-sort-by="tx_broadcast" ng-if="switchStatsListCtrl.isColumnVisible(\'txBroadcast\')"><span translate="SWITCH_STATS_TABLE_HEADER_TX_BROADCAST"></span></th><th class="switchStatsTxErrors" collection-view-sort-by="tx_errors" ng-if="switchStatsListCtrl.isColumnVisible(\'txErrors\')"><span translate="SWITCH_STATS_TABLE_HEADER_TX_ERRORS"></span></th><th class="switchStatsRx" collection-view-sort-by="rx_bytes" ng-if="switchStatsListCtrl.isColumnVisible(\'rx\')"><span translate="SWITCH_STATS_TABLE_HEADER_RX"></span></th><th class="switchStatsRxBytes" collection-view-sort-by="rx_bytes" ng-if="switchStatsListCtrl.isColumnVisible(\'rxBytes\')"><span translate="SWITCH_STATS_TABLE_HEADER_RX_BYTES"></span></th><th class="switchStatsRxPackets" collection-view-sort-by="rx_packets" ng-if="switchStatsListCtrl.isColumnVisible(\'rxPackets\')"><span translate="SWITCH_STATS_TABLE_HEADER_RX_PACKETS"></span></th><th class="switchStatsRxMulticast" collection-view-sort-by="rx_multicast" ng-if="switchStatsListCtrl.isColumnVisible(\'rxMulticast\')"><span translate="SWITCH_STATS_TABLE_HEADER_RX_MULTICAST"></span></th><th class="switchStatsRxBroadcast" collection-view-sort-by="rx_broadcast" ng-if="switchStatsListCtrl.isColumnVisible(\'rxBroadcast\')"><span translate="SWITCH_STATS_TABLE_HEADER_RX_BROADCAST"></span></th><th class="switchStatsRxErrors" collection-view-sort-by="rx_errors" ng-if="switchStatsListCtrl.isColumnVisible(\'rxErrors\')"><span translate="SWITCH_STATS_TABLE_HEADER_RX_ERRORS"></span></th><th class="switchStatsTxRate" collection-view-sort-by="tx_bytes-r" ng-if="switchStatsListCtrl.isColumnVisible(\'txRate\')"><span translate="SWITCH_STATS_TABLE_HEADER_TX_RATE"></span></th><th class="switchStatsRxRate" collection-view-sort-by="rx_bytes-r" ng-if="switchStatsListCtrl.isColumnVisible(\'rxRate\')"><span translate="SWITCH_STATS_TABLE_HEADER_RX_RATE"></span></th><th class="switchStatsActivity visible--mdUp" collection-view-sort-by="bytes-r" ng-if="switchStatsListCtrl.isColumnVisible(\'activity\')"><span translate="SWITCH_STATS_TABLE_HEADER_ACTIVITY"></span></th><th class="switchStatsActions appTableCell--withAction"><span translate="SWITCH_STATS_TABLE_HEADER_ACTIONS"></span><span unifi-collapsible-table-icon="switchStatsListCtrl.collapsibleColumnKeyActions"></span><unifi-list-column-selector unifi-list-column-selector-column-store="switchStatsListCtrl.columnStore"></unifi-list-column-selector></th></tr></thead><tfoot ng-if="switchStatsListCtrl.view.getModels().length"><tr><td colspan="{{switchStatsListCtrl.columnStore.getColumns().length + 3}}"><unifi-list-pagination unifi-list-pagination-current-page="switchStatsListCtrl.currentPage" unifi-list-pagination-rows-per-page="switchStatsListCtrl.rowsPerPage" unifi-list-pagination-total-rows="switchStatsListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="model in switchStatsListCtrl.view.getModels(),              startFrom (switchStatsListCtrl.currentPage - 1) * switchStatsListCtrl.rowsPerPage,              limitTo switchStatsListCtrl.rowsPerPage" collection-view-repeat-watch-all="switchStatsListCtrl.columnStore.getColumns(); switchStatsListCtrl.isColumnCollapsed(switchStatsListCtrl.collapsibleColumnKeyActions)" data-id="{{::model.id}}" ng-init="device = switchStatsListCtrl.getDevice(model); states = switchStatsListCtrl.getPortPropertyPanelState(model); isPowerDeviceDetected = switchStatsListCtrl.isPowerDeviceDetected(model);" unifi-open-panel="::device" unifi-open-panel-active-tab="\'ports\'" unifi-open-panel-change-tab="true" unifi-open-panel-states="::states"><td class="switchStatsPortStateIcon appTableCell--smash noPaddingRight"><unifi-switch-port-diagram unifi-switch-port-diagram-port-model="::model" unifi-switch-port-diagram-is-round="true" unifi-switch-port-diagram-fixed-size="cozy"></unifi-switch-port-diagram></td><td class="switchStatsPort">{{::model.get(\'port_idx\')}}</td><td class="switchStatsDevice" ng-if="::switchStatsListCtrl.isDeviceColumnVisible()">{{::device.getDisplayName()}}</td><td class="switchStatsName" ng-if="::switchStatsListCtrl.isColumnVisible(\'name\')">{{::model.get(\'name\')}}</td><td class="switchStatsPoeMode visible--mdUp" ng-if="::switchStatsListCtrl.isColumnVisible(\'poeMode\')">{{::switchStatsListCtrl.getSwitchPortPoeModeText(model)}}</td><td class="switchStatsPoeDetection" ng-if="::switchStatsListCtrl.isColumnVisible(\'poeDetection\')">{{::switchStatsListCtrl.getSwitchPortPoeDetection(model)}}</td><td class="switchStatsPoeClass" ng-if="::switchStatsListCtrl.isColumnVisible(\'poeClass\')"><span ng-if="::isPowerDeviceDetected">{{::model.get(\'poe_class\')}}</span></td><td class="switchStatsPoePower" ng-if="::switchStatsListCtrl.isColumnVisible(\'poePower\')"><span ng-if="::isPowerDeviceDetected">{{::model.get(\'poe_power\')}}W</span></td><td class="switchStatsPoeVoltage" ng-if="::switchStatsListCtrl.isColumnVisible(\'poeVoltage\')" ng-init="voltage = switchStatsListCtrl.getSwitchPortPoeVoltage(model);"><span ng-if="::voltage">{{::voltage}}V</span></td><td class="switchStatsPoeCurrent" ng-if="::switchStatsListCtrl.isColumnVisible(\'poeCurrent\')"><span ng-if="::isPowerDeviceDetected">{{::model.get(\'poe_current\')}}mA</span></td><td class="switchStatsOperationMode visible--lgUp" ng-if="::switchStatsListCtrl.isColumnVisible(\'operationMode\')">{{::switchStatsListCtrl.getSwitchPortOperationMode(model)}}</td><td class="switchStatsProfile visible--lgUp" ng-if="::switchStatsListCtrl.isColumnVisible(\'profile\')">{{::switchStatsListCtrl.getSwitchPortProfile(model)}}</td><td class="switchStatsLinkStatus visible--mdUp" ng-if="::switchStatsListCtrl.isColumnVisible(\'linkStatus\')">{{::switchStatsListCtrl.getSwitchPortStatus(model)}}</td><td class="switchStatsStp visible--lgUp" ng-if="::switchStatsListCtrl.isColumnVisible(\'stp\')">{{::switchStatsListCtrl.getSwitchPortStpStatus(model)}}</td><td class="switchStatsTx unifiUpload" ng-if="::switchStatsListCtrl.isColumnVisible(\'tx\')">{{::model.get(\'tx_bytes\') | bytes}}</td><td class="switchStatsTxBytes unifiUpload" ng-if="::switchStatsListCtrl.isColumnVisible(\'txBytes\')">{{::model.get(\'tx_bytes\') | orEmpty}}</td><td class="switchStatsTxPackets unifiUpload" ng-if="::switchStatsListCtrl.isColumnVisible(\'txPackets\')">{{::model.get(\'tx_packets\') | orEmpty}}</td><td class="switchStatsTxMulticast unifiUpload" ng-if="::switchStatsListCtrl.isColumnVisible(\'txMulticast\')">{{::model.get(\'tx_multicast\') | orEmpty}}</td><td class="switchStatsTxBroadcast unifiUpload" ng-if="::switchStatsListCtrl.isColumnVisible(\'txBroadcast\')">{{::model.get(\'tx_broadcast\') | orEmpty}}</td><td class="switchStatsTxErrors unifiUpload" ng-if="::switchStatsListCtrl.isColumnVisible(\'txErrors\')">{{::model.get(\'tx_errors\') | orEmpty}}</td><td class="switchStatsRx unifiDownload" ng-if="::switchStatsListCtrl.isColumnVisible(\'rx\')">{{::model.get(\'rx_bytes\') | bytes}}</td><td class="switchStatsRxBytes unifiDownload" ng-if="::switchStatsListCtrl.isColumnVisible(\'rxBytes\')">{{::model.get(\'rx_bytes\') | orEmpty}}</td><td class="switchStatsRxPackets unifiDownload" ng-if="::switchStatsListCtrl.isColumnVisible(\'rxPackets\')">{{::model.get(\'rx_packets\') | orEmpty}}</td><td class="switchStatsRxMulticast unifiDownload" ng-if="::switchStatsListCtrl.isColumnVisible(\'rxMulticast\')">{{::model.get(\'rx_multicast\') | orEmpty}}</td><td class="switchStatsRxBroadcast unifiDownload" ng-if="::switchStatsListCtrl.isColumnVisible(\'rxBroadcast\')">{{::model.get(\'rx_broadcast\') | orEmpty}}</td><td class="switchStatsRxErrors unifiDownload" ng-if="::switchStatsListCtrl.isColumnVisible(\'rxErrors\')">{{::model.get(\'rx_errors\') | orEmpty}}</td><td class="switchStatsTxRate unifiUpload" ng-if="::switchStatsListCtrl.isColumnVisible(\'txRate\')">{{::model.get(\'tx_bytes-r\') | bps:{convertFromBytes: true} }}</td><td class="switchStatsRxRate unifiDownload" ng-if="::switchStatsListCtrl.isColumnVisible(\'rxRate\')">{{::model.get(\'rx_bytes-r\') | bps:{convertFromBytes: true} }}</td><td class="switchStatsActivity visible--mdUp noLineHeight" ng-if="::switchStatsListCtrl.isColumnVisible(\'activity\')"><div ng-if="::model.get(\'up\')"><div unifi-link-usage="::switchStatsListCtrl.getTxLinkUsage(model)" unifi-link-usage-label-key="SWITCH_STATS_LABEL_TX_ACTIVITY" unifi-link-usage-status-bar-class="appStatusBar--tx"></div><div class="verticalRhythmTop--condensed" unifi-link-usage="::switchStatsListCtrl.getRxLinkUsage(model)" unifi-link-usage-label-key="SWITCH_STATS_LABEL_RX_ACTIVITY" unifi-link-usage-status-bar-class="appStatusBar--rx"></div></div></td><td class="switchStatsActions appTableCell--actions" unifi-collapsible-table-cell="switchStatsListCtrl.collapsibleColumnKeyActions" unifi-collapsible-table-cell-bind-once="true"><button class="appMainButton appMainButton--tertiary" ng-init="editStates = switchStatsListCtrl.getEditPortPropertyPanelState(model);" data-id="{{::device.id}}" data-device-type="{{::device.get(\'type\')}}" unifi-open-panel="::device" unifi-open-panel-active-tab="\'ports\'" unifi-open-panel-change-tab="true" unifi-open-panel-states="::editStates"><div'+s("unifi-if-role-admin",!0,!0,!0)+'><span class="button__icon icon ubnt-icon--pencil"></span><span class="button__label" translate="COMMON_ACTIONS_EDIT"></span></div><div unifi-if-role-admin="false"><span class="button__icon icon ubnt-icon--eye2"></span><span class="button__label" translate="COMMON_ACTIONS_VIEW"></span></div></button><button class="appMainButton appMainButton--tertiary"'+s("unifi-if-role-admin",!0,!0,!0)+' unifi-switch-port-button-clear-counters="::model" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button><button class="appMainButton appMainButton--tertiary"'+s("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="model.get(\'poe_enable\') === true" unifi-switch-port-button-power-cycle="::model" unifi-switch-port-button-power-cycle-is-labeled="true" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button></td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!switchStatsListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="SWITCH_STATS_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="!switchStatsListCtrl.isFiltered()" translate="SWITCH_STATS_TABLE_EMPTY_NO_PORTS"></p><p class="noMarginBottom" ng-if="switchStatsListCtrl.isFiltered()" translate="SWITCH_STATS_TABLE_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],39:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights",["app-unifi-manage"]),t("./components/dynamicDnsStatsList/DynamicDnsStatsListController.js"),t("./components/dynamicDnsStatsList/dynamicDnsStatsList.js"),t("./components/knownClientList/KnownClientListController.js"),t("./components/knownClientList/knownClientList.js"),t("./components/logs/LogsListController.js"),t("./components/logs/logsList.js"),t("./components/neighboringAccessPointList/NeighboringAccessPointListController.js"),t("./components/neighboringAccessPointList/neighboringAccessPointList.js"),t("./components/pastConnectionList/PastConnectionListController.js"),t("./components/pastConnectionList/pastConnectionList.js"),t("./components/pastGuestAuthorizationList/PastGuestAuthorizationListController.js"),t("./components/pastGuestAuthorizationList/pastGuestAuthorizationList.js"),t("./components/portForwardStatsList/PortForwardStatsListController.js"),t("./components/portForwardStatsList/portForwardStatsList.js"),t("./components/remoteUserVpnList/RemoteUserVpnListController.js"),t("./components/remoteUserVpnList/remoteUserVpnList.js"),t("./components/rogueApButtonMark/RogueApButtonMarkController.js"),t("./components/rogueApButtonMark/rogueApButtonMark.js"),t("./components/routingStatsList/RoutingStatsListController.js"),t("./components/routingStatsList/routingStatsList.js"),t("./components/streamsList/StreamsListController.js"),t("./components/streamsList/streamsList.js"),t("./components/switchStatsList/SwitchStatsListController.js"),t("./components/switchStatsList/switchStatsList.js"),t("./services/comparators/knownClientsComparator.js"),t("./services/comparators/neighboringAccessPointsComparator.js"),t("./services/comparators/pastConnectionsComparator.js"),t("./services/comparators/portForwardStatsComparator.js"),t("./services/comparators/switchStatsComparator.js"),t("./services/controllerMixins/insightsStatesPrivilegesControllerMixin.js"),t("./services/dynamicDnsStatsListColumnStore.js"),t("./services/filters/DynamicDnsFilter.js"),t("./services/filters/KnownClientFilter.js"),t("./services/filters/NeighboringAccessPointFilter.js"),t("./services/filters/PastConnectionFilter.js"),t("./services/filters/PastGuestAuthorizationFilter.js"),t("./services/filters/PortForwardStatsFilter.js"),t("./services/filters/RemoteUserVpnFilter.js"),t("./services/filters/RoutingStatsFilter.js"),t("./services/filters/SwitchStatsFilter.js"),t("./services/knownClientListColumnStore.js"),t("./services/neighboringAccessPointsUtils.js"),t("./services/portForwardStatsListColumnStore.js"),t("./services/remoteUserVpnListColumnStore.js"),t("./services/remoteUserVpnUtils.js"),t("./services/streamsListColumnStore.js"),t("./services/switchStatsListColumnStore.js")},{"./components/dynamicDnsStatsList/DynamicDnsStatsListController.js":3,"./components/dynamicDnsStatsList/dynamicDnsStatsList.js":4,"./components/knownClientList/KnownClientListController.js":6,"./components/knownClientList/knownClientList.js":7,"./components/logs/LogsListController.js":9,"./components/logs/logsList.js":10,"./components/neighboringAccessPointList/NeighboringAccessPointListController.js":12,"./components/neighboringAccessPointList/neighboringAccessPointList.js":13,"./components/pastConnectionList/PastConnectionListController.js":15,"./components/pastConnectionList/pastConnectionList.js":16,"./components/pastGuestAuthorizationList/PastGuestAuthorizationListController.js":18,"./components/pastGuestAuthorizationList/pastGuestAuthorizationList.js":19,"./components/portForwardStatsList/PortForwardStatsListController.js":21,"./components/portForwardStatsList/portForwardStatsList.js":22,"./components/remoteUserVpnList/RemoteUserVpnListController.js":24,"./components/remoteUserVpnList/remoteUserVpnList.js":25,"./components/rogueApButtonMark/RogueApButtonMarkController.js":27,"./components/rogueApButtonMark/rogueApButtonMark.js":28,"./components/routingStatsList/RoutingStatsListController.js":30,"./components/routingStatsList/routingStatsList.js":31,"./components/streamsList/StreamsListController.js":33,"./components/streamsList/streamsList.js":34,"./components/switchStatsList/SwitchStatsListController.js":36,"./components/switchStatsList/switchStatsList.js":37,"./services/comparators/knownClientsComparator.js":40,"./services/comparators/neighboringAccessPointsComparator.js":41,"./services/comparators/pastConnectionsComparator.js":42,"./services/comparators/portForwardStatsComparator.js":43,"./services/comparators/switchStatsComparator.js":44,"./services/controllerMixins/insightsStatesPrivilegesControllerMixin.js":45,"./services/dynamicDnsStatsListColumnStore.js":46,"./services/filters/DynamicDnsFilter.js":47,"./services/filters/KnownClientFilter.js":48,"./services/filters/NeighboringAccessPointFilter.js":49,"./services/filters/PastConnectionFilter.js":50,"./services/filters/PastGuestAuthorizationFilter.js":51,"./services/filters/PortForwardStatsFilter.js":52,"./services/filters/RemoteUserVpnFilter.js":53,"./services/filters/RoutingStatsFilter.js":54,"./services/filters/SwitchStatsFilter.js":55,"./services/knownClientListColumnStore.js":56,"./services/neighboringAccessPointsUtils.js":57,"./services/portForwardStatsListColumnStore.js":58,"./services/remoteUserVpnListColumnStore.js":59,"./services/remoteUserVpnUtils.js":60,"./services/streamsListColumnStore.js":61,"./services/switchStatsListColumnStore.js":62}],40:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").service("knownClientsComparator",["collectionViewComparator","ipUtils",function(t,i){return{name:function(i,e){var s=i.getDisplayName(),n=e.getDisplayName();return t(s,n)},fixed_ip:function(e,s){var n=i.ip2long(e.get("fixed_ip")),o=i.ip2long(s.get("fixed_ip"));return t(n,o)}}}])},{}],41:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").service("neighboringAccessPointsComparator",["collectionViewComparator",function(t){return{aps_count:function(i,e){return t((i.get("aps")||[]).length,(e.get("aps")||[]).length)},is_rogue:function(i,e){var s=i.get("is_rogue"),n=e.get("is_rogue");return s!==n?t(s,n):t(i.get("last_seen"),e.get("last_seen"))}}}])},{}],42:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").service("pastConnectionsComparator",["clients","collectionViewComparator",function(t,i){return{name:function(e,s){var n=t.repository.collection.get(e.get("mac")),o=t.repository.collection.get(s.get("mac")),a=n?n.getDisplayName():e.getDisplayName(),r=o?o.getDisplayName():s.getDisplayName();return i(a,r)}}}])},{}],43:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").service("portForwardStatsComparator",["collectionViewComparator",function(t){return{proto:function(i,e){var s=i.get("proto"),n=e.get("proto");return"tcp_udp"!==s&&"tcp_udp"!==n||s===n?t(s,n):"tcp_udp"===s?1:-1},src:function(i,e){var s=i.get("src")||"any",n=e.get("src")||"any";return"any"!==s&&"any"!==n||s===n?t(s,n):"any"===s?-1:1}}}])},{}],44:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").service("switchStatsComparator",["collectionViewComparator","switchUtils",function(t,i){return{device:function(e,s){var n=i.getPortDevice(e),o=i.getPortDevice(s);return n===o?t(e.get("port_idx"),s.get("port_idx")):t(n.getDisplayName(),o.getDisplayName())},link_status:function(e,s){return t(i.getPortStatus(e),i.getPortStatus(s))},profile:function(e,s){return t(i.getPortProfile(e),i.getPortProfile(s))},op_mode:function(e,s){return t(i.getPortOperationMode(e),i.getPortOperationMode(s))},poe_class:function(e,s){var n=i.isPowerDeviceDetected(e),o=i.isPowerDeviceDetected(s);return n||o?n&&o?t(e.get("poe_class"),s.get("poe_class")):n?1:-1:0},poe_detection:function(e,s){return t(i.getPortPoeDetection(e),i.getPortPoeDetection(s))},poe_mode:function(e,s){var n=i.getPortPoeMode(e),o=i.getPortPoeMode(s);if((""===n||""===o)&&n!==o)return""===n?-1:1;if(("off"===n||"off"===o)&&n!==o)return"off"===n?-1:1;if("auto"===n&&"auto"===o)return t(parseFloat(e.get("poe_power")),parseFloat(s.get("poe_power")));if("pasv24"===n||"pasv24"===o){if("auto"===o)return-1;if("auto"===n)return 1}return t(n,o)},stp_state:function(e,s){return t(i.getPortStpStatus(e),i.getPortStpStatus(s))}}}])},{}],45:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").factory("insightsStatesPrivilegesControllerMixin",["INSIGHTS_DEFAULTS","account",function(t,i){return function(e){angular.extend(e,{statesWithPermission:t.STATES.filter(function(t){return!angular.isDefined(t.isSuperAdminOnly)||!0===t.isSuperAdminOnly&&i.isSuperAdmin()})})}}])},{}],46:[function(t,i,e){"use strict";var s=lazyRequire.get("BaseListColumnStore");function n(t,i,e){this.localStorageKey="columnStore:dynamicDnsStats",this.columnOptions=[{id:"service",translationKey:"DYNAMIC_DNS_STATS_TABLE_HEADER_SERVICE"},{id:"status",translationKey:"DYNAMIC_DNS_STATS_TABLE_HEADER_STATUS"},{id:"host_name",translationKey:"DYNAMIC_DNS_STATS_TABLE_HEADER_HOSTNAME"},{id:"login",translationKey:"DYNAMIC_DNS_STATS_TABLE_HEADER_USERNAME"},{id:"server",translationKey:"DYNAMIC_DNS_STATS_TABLE_HEADER_SERVER"},{id:"ip",translationKey:"DYNAMIC_DNS_STATS_TABLE_HEADER_IP"},{id:"last_updated",translationKey:"DYNAMIC_DNS_STATS_TABLE_HEADER_LAST_UPDATED"},{id:"actions",translationKey:"DYNAMIC_DNS_STATS_TABLE_HEADER_ACTIONS",isPermanent:!0}],this.views={default:["service","status","host_name","login","server","ip","last_updated","actions"]},s.call(this,t,i,e)}n.prototype=Object.create(s.prototype),n.constructor=n,n.prototype.setColumns=function(){this.isCustomized?s.prototype.setColumns.call(this):this.columns=this.views.default},n.$inject=["localStorageFailSafe","StorageObjectValue","StorageBooleanValue"],angular.module("app-unifi-manage-insights").service("dynamicDnsStatsListColumnStore",n)},{}],47:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").factory("DynamicDnsFilter",["BaseSearchableModelFilter",function(t){var i=function(){t.call(this),this.searchableAttributes=["host_name","ip","login","server","service"]};return(i.prototype=Object.create(t.prototype)).constructor=i,i}])},{}],48:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").factory("KnownClientFilter",["BaseClientFilter","BaseSearchableModelFilter",function(t,i){var e=function(){t.call(this),this.isNotedFilter=null,this.isBlockedFilter=null,this.isStaticIpFilter=null,this.matchAnyToken=!0,this.searchableAttributes=["name","hostname","mac","oui"]};return(e.prototype=Object.create(t.prototype)).constructor=t,e.prototype.test=function(t){return!(!0===this.isWiredFilter&&!t.get("is_wired"))&&((!1!==this.isWiredFilter||!t.get("is_wired"))&&(!(!0===this.isGuestFilter&&!t.get("is_guest"))&&((!1!==this.isGuestFilter||!t.get("is_guest"))&&(!(!0===this.isConfigurationFilter&&!t.isConfigured())&&((!1!==this.isConfigurationFilter||!t.isConfigured())&&(!(this.hasBlockedFilter()&&!t.get("blocked"))&&(!(this.hasNotedFilter()&&!t.get("noted"))&&(!(this.hasStaticIpFilter()&&!t.get("use_fixedip"))&&i.prototype.test.call(this,t)))))))))},e.prototype.isFiltered=function(){return this.hasWiredFilter()||this.hasGuestFilter()||this.hasConfigurationFilter()||this.hasBlockedFilter()||this.hasNotedFilter()||this.hasStaticIpFilter()||this.searchQuery.length>0},e.prototype.getConfigurationFilter=function(){return this.isConfigurationFilter},e.prototype.hasConfigurationFilter=function(){return!0===this.isConfigurationFilter||!1===this.isConfigurationFilter},e.prototype.setConfigurationFilter=function(t){this.isConfigurationFilter=t},e.prototype.clearConfigurationFilter=function(){this.isConfigurationFilter=void 0},e.prototype.hasBlockedFilter=function(){return!0===this.isBlockedFilter},e.prototype.setBlockedFilter=function(t){this.isBlockedFilter=t},e.prototype.hasNotedFilter=function(){return!0===this.isNotedFilter},e.prototype.setNotedFilter=function(t){this.isNotedFilter=t},e.prototype.hasStaticIpFilter=function(){return!0===this.isStaticIpFilter},e.prototype.setStaticIpFilter=function(t){this.isStaticIpFilter=t},e}])},{}],49:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").factory("NeighboringAccessPointFilter",["$filter","BaseSearchableModelFilter","neighboringAccessPointsUtils",function(t,i,e){var s=function(){i.call(this),this.radioTypeFilter=null,this.searchableAttributes=["essid","bssid","channel","radio","security","oui"]};return(s.prototype=Object.create(i.prototype)).constructor=s,s.prototype.test=function(i){if(this.radioTypeFilter&&this.radioTypeFilter!==i.get("radio"))return!1;if(this.search(i))return!0;var s=this.searchQuery?this.searchQuery.toLowerCase().split(" "):[];if(s.length){var n=i.get("rssi");if(this.testPhrase(t("rssiToDbm")(n),s))return!0;var o=1e3*i.get("last_seen");if(this.testPhrase(t("moment")(o,"format","datetime"),s))return!0;var a=i.get("ap_mac");return!!this.testPhrase(e.getNeighboringApLocation(a),s)}return!0},s.prototype.isFiltered=function(){return this.searchQuery.length>0||this.hasRadioTypeFilter()},s.prototype.getRadioTypeFilter=function(){return this.radioTypeFilter},s.prototype.hasRadioTypeFilter=function(){return null!==this.radioTypeFilter},s.prototype.setRadioTypeFilter=function(t){this.radioTypeFilter=t},s.prototype.clearRadioTypeFilter=function(){this.radioTypeFilter=null},s}])},{}],50:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").factory("PastConnectionFilter",["BaseClientFilter","clients",function(t,i){var e=function(){t.call(this),this.searchQuery="",this.radioTypeFilter=null,this.clients=i,this.test=this.test.bind(this)};return(e.prototype=Object.create(t.prototype)).constructor=e,e.prototype.getTest=function(){return this.test},e.prototype.test=function(t){if(!0===this.isGuestFilter&&!t.get("is_guest"))return!1;if(!1===this.isGuestFilter&&t.get("is_guest"))return!1;var i=this.searchQuery?this.searchQuery.toLowerCase().split(" "):[];if(i.length){if(this.testModelAttributes(t,["ip","hostname","name","mac"],i))return!0;var e=this.clients.repository.collection.get(t.get("mac"));return!(!e||!this.testPhrase(e.getDisplayName(),i))}return!0},e.prototype.isFiltered=function(){return this.searchQuery.length>0||this.hasGuestFilter()},e.prototype.updateSearchQuery=function(t){this.searchQuery=t?t.trim():""},e}])},{}],51:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").factory("PastGuestAuthorizationFilter",["BaseSearchableModelFilter","$filter",function(t,i){var e=function(){t.call(this),this.radioTypeFilter=null,this.searchableAttributes=["hostname","name","mac","package","ip"]};return(e.prototype=Object.create(t.prototype)).constructor=e,e.prototype.test=function(t){if(this.search(t))return!0;var e=this.searchQuery?this.searchQuery.toLowerCase().split(" "):[];return!e.length||(!!this.testPhrase(i("currency")(t),e)||!!this.testPhrase(i("guestAuthorization")(t),e))},e}])},{}],52:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").factory("PortForwardStatsFilter",["$filter","BaseSearchableModelFilter",function(t,i){var e=function(){i.call(this),this.viewFilter=null,this.searchableAttributes=["name","dst_port","fwd","fwd_port"]};return(e.prototype=Object.create(i.prototype)).constructor=e,e.prototype.test=function(i){var e=!!i.get("is_upnp");if("upnp"===this.viewFilter&&!e)return!1;if("userdefined"===this.viewFilter&&e)return!1;if(this.search(i))return!0;var s=this.searchQuery?this.searchQuery.toLowerCase().split(" "):[];return!s.length||(!!this.testPhrase(t("portForwardProtocol")(i.get("proto")),s)||!!this.testPhrase(t("portForwardSource")(i.get("src")),s))},e.prototype.isFiltered=function(){return this.searchQuery.length>0||this.hasViewFilter()},e.prototype.getViewFilter=function(){return this.viewFilter},e.prototype.hasViewFilter=function(){return null!==this.viewFilter},e.prototype.setViewFilter=function(t){this.viewFilter=t},e.prototype.clearViewFilter=function(){this.viewFilter=null},e}])},{}],53:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").factory("RemoteUserVpnFilter",["BaseSearchableModelFilter",function(t){var i=function(){t.call(this),this.searchableAttributes=["interface","remote_ip","user"]};return(i.prototype=Object.create(t.prototype)).constructor=i,i}])},{}],54:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").factory("RoutingStatsFilter",["BaseSearchableModelFilter",function(t){var i=function(){t.call(this),this.searchableAttributes=["prefix","type","interface","metric","via"]};return(i.prototype=Object.create(t.prototype)).constructor=i,i}])},{}],55:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").factory("SwitchStatsFilter",["BaseSearchableModelFilter","switchUtils",function(t,i){var e=function(){t.call(this),this.switchFilter=null,this.linkStatusFilter=null,this.searchableAttributes=["port_idx","name"]};return(e.prototype=Object.create(t.prototype)).constructor=e,e.prototype.test=function(t){if(this.switchFilter&&this.switchFilter!==t.get("device"))return!1;if(this.linkStatusFilter&&"connected"===this.linkStatusFilter!==!!t.get("up"))return!1;if(this.search(t))return!0;var e=this.searchQuery?this.searchQuery.toLowerCase().split(" "):[];return!e.length||["getPortOperationMode","getPortPoeModeText","getPortProfile","getPortStatus","getPortStpStatus","getPortPoeDetection"].find(function(s){return this.testPhrase(i[s](t),e)}.bind(this))},e.prototype.isFiltered=function(){return this.searchQuery.length>0||this.hasSwitchFilter()||this.hasLinkStatusFilter()},e.prototype.getLinkStatusFilter=function(){return this.linkStatusFilter},e.prototype.hasLinkStatusFilter=function(){return null!==this.linkStatusFilter},e.prototype.setLinkStatusFilter=function(t){this.linkStatusFilter=t},e.prototype.clearLinkStatusFilter=function(){this.linkStatusFilter=null},e.prototype.getSwitchFilter=function(){return this.switchFilter},e.prototype.hasSwitchFilter=function(){return null!==this.switchFilter},e.prototype.setSwitchFilter=function(t){this.switchFilter=t},e.prototype.clearSwitchFilter=function(){this.switchFilter=null},e}])},{}],56:[function(t,i,e){"use strict";var s=lazyRequire.get("BaseListColumnStore");function n(t,i,e){s.call(this,t,i,e)}n.prototype=Object.create(s.prototype),n.constructor=n,n.$inject=["localStorageFailSafe","StorageObjectValue","StorageBooleanValue"],angular.module("app-unifi-manage-insights").service("knownClientListColumnStore",n)},{}],57:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").service("neighboringAccessPointsUtils",["_","$q","$translate","apiResults","devices","RogueKnownAccessPointModel","rogueKnownAccessPoints",function(t,i,e,s,n,o,a){function r(t,i,e){t.set(e),t.collection&&t.collection.trigger(i,t,e)}this.getNeighboringApLocation=function(t,i){var s=n.repository.collection.get(t);return e.instant(i?"NEIGHBORING_ACCESS_POINT_NEAREST":"NEIGHBORING_ACCESS_POINT_NEAR",{ap:s?s.getDisplayName():t})},this.markAsKnown=function(t){var n=t.get("essid"),l=t.get("bssid"),c={bssid:l,essid:n};return(a.repository.collection.findWhere(c)||new o).save(c).then(function(){return a.repository.refresh()}).then(function(){return r(t,"action:mark-known",{is_known:!0}),e.instant("NEIGHBORING_ACCESS_POINT_ACTIONS_MARK_AS_KNOWN_SUCCESS",{essid:n||l})}).catch(function(t){return i.reject(s.appendErrorMsg(e.instant("NEIGHBORING_ACCESS_POINT_ACTIONS_MARK_AS_KNOWN_ERROR",{essid:n||l}),t))})},this.removeFromKnown=function(t){var n=t.get("essid"),o=t.get("bssid"),l=a.repository.collection.findWhere({bssid:o,essid:n});return(l?l.destroy({wait:!0}):i.reject()).then(function(){return a.repository.refresh()}).then(function(){return r(t,"action:remove-from-known",{is_known:!1}),i.when(e.instant("NEIGHBORING_ACCESS_POINT_ACTIONS_REMOVE_FROM_KNOWN_SUCCESS",{essid:n||o}))}).catch(function(t){return i.reject(s.appendErrorMsg(e.instant("NEIGHBORING_ACCESS_POINT_ACTIONS_REMOVE_FROM_KNOWN_ERROR",{essid:n||n}),t))})}}])},{}],58:[function(t,i,e){"use strict";var s=lazyRequire.get("BaseListColumnStore");function n(t,i,e){this.localStorageKey="columnStore:portForwardStats",this.columnOptions=[{id:"name",translationKey:"PORT_FORWARD_STATS_TABLE_HEADER_NAME"},{id:"src",translationKey:"PORT_FORWARD_STATS_TABLE_HEADER_SRC"},{id:"proto",translationKey:"PORT_FORWARD_STATS_TABLE_HEADER_PROTOCOL"},{id:"dst_port",translationKey:"PORT_FORWARD_STATS_TABLE_HEADER_DST_PORT"},{id:"fwd",translationKey:"PORT_FORWARD_STATS_TABLE_HEADER_FORWARD_IP"},{id:"fwd_port",translationKey:"PORT_FORWARD_STATS_TABLE_HEADER_FORWARD_PORT"},{id:"rx_packets",translationKey:"PORT_FORWARD_STATS_TABLE_HEADER_RX_PACKETS"},{id:"rx_bytes",translationKey:"PORT_FORWARD_STATS_TABLE_HEADER_RX_BYTES"},{id:"lease_duration",translationKey:"PORT_FORWARD_STATS_TABLE_HEADER_LEASE_DURATION"},{id:"actions",translationKey:"PORT_FORWARD_STATS_TABLE_HEADER_ACTIONS"}],this.columnPresets=[{id:"all",translationKey:"PORT_FORWARD_STATS_VIEW_ALL"},{id:"userdefined",translationKey:"PORT_FORWARD_STATS_VIEW_USER_DEFINED"},{id:"upnp",translationKey:"PORT_FORWARD_STATS_VIEW_UPNP"}],this.views={all:["name","src","proto","dst_port","fwd","fwd_port","rx_packets","rx_bytes","actions"],userdefined:["name","src","proto","dst_port","fwd","fwd_port","rx_packets","rx_bytes","actions"],upnp:["name","proto","dst_port","fwd","fwd_port","rx_packets","rx_bytes","lease_duration"]},s.call(this,t,i,e)}n.prototype=Object.create(s.prototype),n.constructor=n,n.prototype.setColumnGroup=function(t){this.columnGroup=t},n.prototype.getPredefinedColumns=function(){return this.columnGroup?this.views[this.columnGroup]:this.views.all},n.prototype.setColumns=function(){this.isCustomized?s.prototype.setColumns.call(this):this.columns=this.getPredefinedColumns()},n.prototype.setColumnPreset=function(t){var i="allColumns"===t?this.getAllColumns():this.views[t];i&&i.length&&(this.clearSelectedColumns(),this.columns=i,this.setCustomized(!0),this.saveColumns())},n.$inject=["localStorageFailSafe","StorageObjectValue","StorageBooleanValue"],angular.module("app-unifi-manage-insights").service("portForwardStatsListColumnStore",n)},{}],59:[function(t,i,e){"use strict";var s=lazyRequire.get("BaseListColumnStore");function n(t,i,e){this.localStorageKey="columnStore:remoteUserVpn",this.columnOptions=[{id:"interface",translationKey:"REMOTE_USER_VPN_TABLE_HEADER_INTERFACE"},{id:"remote_ip",translationKey:"REMOTE_USER_VPN_TABLE_HEADER_REMOTE_IP"},{id:"user",translationKey:"REMOTE_USER_VPN_TABLE_HEADER_USER"},{id:"rx_packets",translationKey:"REMOTE_USER_VPN_TABLE_HEADER_DOWN_PKTS"},{id:"rx_bytes",translationKey:"REMOTE_USER_VPN_TABLE_HEADER_DOWN_BYTES"},{id:"tx_packets",translationKey:"REMOTE_USER_VPN_TABLE_HEADER_UP_PKTS"},{id:"tx_bytes",translationKey:"REMOTE_USER_VPN_TABLE_HEADER_UP_BYTES"},{id:"uptime",translationKey:"REMOTE_USER_VPN_TABLE_HEADER_UPTIME"},{id:"actions",translationKey:"REMOTE_USER_VPN_TABLE_HEADER_ACTIONS",isPermanent:!0}],this.views={default:["interface","remote_ip","user","rx_packets","rx_bytes","tx_packets","tx_bytes","uptime","actions"]},s.call(this,t,i,e)}n.prototype=Object.create(s.prototype),n.constructor=n,n.prototype.setColumns=function(){this.isCustomized?s.prototype.setColumns.call(this):this.columns=this.views.default},n.$inject=["localStorageFailSafe","StorageObjectValue","StorageBooleanValue"],angular.module("app-unifi-manage-insights").service("remoteUserVpnListColumnStore",n)},{}],60:[function(t,i,e){"use strict";angular.module("app-unifi-manage-insights").service("remoteUserVpnUtils",["$q","$translate","apiResults","DeviceMgrModel","remoteUserVpn",function(t,i,e,s,n){this.terminate=function(o){return(new s).save({cmd:"terminate-remote-user-vpn",interface:o.get("interface"),user:o.get("user"),remote_ip:o.get("remote_ip")}).then(function(){return n.repository.refresh().then(function(){return t.when(i.instant("REMOTE_USER_VPN_TERMINATE_SUCCESS"))})}).catch(function(s){return t.reject(e.appendErrorMsg(i.instant("REMOTE_USER_VPN_TERMINATE_ERROR"),s))})}}])},{}],61:[function(t,i,e){"use strict";var s=lazyRequire.get("BaseListColumnStore");function n(t,i,e){this.localStorageKey="columnStore:streams",this.columnOptions=[{id:"device",translationKey:"STREAMS_TABLE_HEADER_DEVICE"},{id:"stream_id",translationKey:"STREAMS_TABLE_HEADER_STREAM_ID"},{id:"ready",translationKey:"STREAMS_TABLE_HEADER_READY"},{id:"streaming",translationKey:"STREAMS_TABLE_HEADER_STREAMING"},{id:"connected",translationKey:"STREAMS_TABLE_HEADER_CONNECTED"}],this.columnPresets=[{id:"all",translationKey:"STREAMS_VIEW_ALL"}],this.views={all:["device","stream_id","ready","streaming","connected"]},s.call(this,t,i,e)}n.prototype=Object.create(s.prototype),n.constructor=n,n.prototype.setColumnPreset=function(t){var i=this.views[t];i&&i.length&&(this.clearSelectedColumns(),this.columns=i,this.setCustomized(!0),this.saveColumns())},n.$inject=["localStorageFailSafe","StorageObjectValue","StorageBooleanValue"],angular.module("app-unifi-manage-insights").service("streamsListColumnStore",n)},{}],62:[function(t,i,e){"use strict";var s=lazyRequire.get("BaseListColumnStore");function n(t,i,e){this.localStorageKey="columnStore:switchStats",this.columnOptions=[{id:"port",translationKey:"SWITCH_STATS_TABLE_HEADER_PORT",isPermanent:!0},{id:"device",translationKey:"SWITCH_STATS_TABLE_HEADER_DEVICE"},{id:"name",translationKey:"SWITCH_STATS_TABLE_HEADER_NAME"},{id:"poeMode",translationKey:"SWITCH_STATS_TABLE_HEADER_POE_MODE"},{id:"poeDetection",translationKey:"SWITCH_STATS_TABLE_HEADER_POE_DETECTION"},{id:"poeClass",translationKey:"SWITCH_STATS_TABLE_HEADER_POE_CLASS"},{id:"poePower",translationKey:"SWITCH_STATS_TABLE_HEADER_POE_POWER"},{id:"poeVoltage",translationKey:"SWITCH_STATS_TABLE_HEADER_POE_VOLTAGE"},{id:"poeCurrent",translationKey:"SWITCH_STATS_TABLE_HEADER_POE_CURRENT"},{id:"operationMode",translationKey:"SWITCH_STATS_TABLE_HEADER_OPERATION_MODE"},{id:"profile",translationKey:"SWITCH_STATS_TABLE_HEADER_PROFILE"},{id:"linkStatus",translationKey:"SWITCH_STATS_TABLE_HEADER_LINK_STATUS"},{id:"stp",translationKey:"SWITCH_STATS_TABLE_HEADER_STP"},{id:"tx",translationKey:"SWITCH_STATS_TABLE_HEADER_TX"},{id:"txBytes",translationKey:"SWITCH_STATS_TABLE_HEADER_TX_BYTES"},{id:"txPackets",translationKey:"SWITCH_STATS_TABLE_HEADER_TX_PACKETS"},{id:"txMulticast",translationKey:"SWITCH_STATS_TABLE_HEADER_TX_MULTICAST"},{id:"txBroadcast",translationKey:"SWITCH_STATS_TABLE_HEADER_TX_BROADCAST"},{id:"txErrors",translationKey:"SWITCH_STATS_TABLE_HEADER_TX_ERRORS"},{id:"rx",translationKey:"SWITCH_STATS_TABLE_HEADER_RX"},{id:"rxBytes",translationKey:"SWITCH_STATS_TABLE_HEADER_RX_BYTES"},{id:"rxPackets",translationKey:"SWITCH_STATS_TABLE_HEADER_RX_PACKETS"},{id:"rxMulticast",translationKey:"SWITCH_STATS_TABLE_HEADER_RX_MULTICAST"},{id:"rxBroadcast",translationKey:"SWITCH_STATS_TABLE_HEADER_RX_BROADCAST"},{id:"rxErrors",translationKey:"SWITCH_STATS_TABLE_HEADER_RX_ERRORS"},{id:"txRate",translationKey:"SWITCH_STATS_TABLE_HEADER_TX_RATE"},{id:"rxRate",translationKey:"SWITCH_STATS_TABLE_HEADER_RX_RATE"},{id:"activity",translationKey:"SWITCH_STATS_TABLE_HEADER_ACTIVITY"},{id:"actions",translationKey:"SWITCH_STATS_TABLE_HEADER_ACTIONS",isPermanent:!0}],this.columnPresets=[{id:"overview",translationKey:"SWITCH_STATS_PRESET_OVERVIEW"},{id:"poe",translationKey:"SWITCH_STATS_PRESET_POE"},{id:"counters",translationKey:"SWITCH_STATS_PRESET_COUNTERS"}],this.views={overview:["device","name","poeMode","operationMode","profile","linkStatus","stp","tx","rx","txRate","rxRate","activity"],poe:["device","name","poeMode","poeDetection","poeClass","poePower","poeVoltage","poeCurrent"],counters:["device","txBytes","txPackets","txMulticast","txBroadcast","txErrors","rxBytes","rxPackets","rxMulticast","rxBroadcast","rxErrors"]},s.call(this,t,i,e)}n.prototype=Object.create(s.prototype),n.constructor=n,n.prototype.setColumnGroup=function(t){this.columnGroup=t},n.prototype.getPredefinedColumns=function(){return this.columnGroup?this.views[this.columnGroup]:this.views.overview},n.prototype.setColumns=function(){this.isCustomized?s.prototype.setColumns.call(this):this.columns=this.getPredefinedColumns()},n.prototype.setColumnPreset=function(t){var i="all"===t?this.getAllColumns():this.views[t];i&&i.length&&(this.clearSelectedColumns(),this.columns=i,this.setCustomized(!0),this.saveColumns())},n.$inject=["localStorageFailSafe","StorageObjectValue","StorageBooleanValue"],angular.module("app-unifi-manage-insights").service("switchStatsListColumnStore",n)},{}]},{},[39]);