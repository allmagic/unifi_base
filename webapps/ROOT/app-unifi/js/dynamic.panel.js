!function(){return function e(t,i,r){function n(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){return n(t[s][1][e]||e)},c,c.exports,e,t,i,r)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}}()({1:[function(e,t,i){},{}],2:[function(e,t,i){"use strict";var r=Object.prototype.hasOwnProperty;function n(e,t){return Array.isArray(e)?function(e,t){for(var i,r="",o="",s=Array.isArray(t),a=0;a<e.length;a++)(i=n(e[a]))&&(s&&t[a]&&(i=l(i)),r=r+o+i,o=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",i="";for(var n in e)n&&e[n]&&r.call(e,n)&&(t=t+i+n,i=" ");return t}(e):e||""}function o(e){if(!e)return"";if("object"==typeof e){var t="";for(var i in e)r.call(e,i)&&(t=t+i+":"+e[i]+";");return t}return e+""}function s(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=l(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}i.merge=function e(t,i){if(1===arguments.length){for(var r=t[0],n=1;n<t.length;n++)r=e(r,t[n]);return r}for(var s in i)if("class"===s){var a=t[s]||[];t[s]=(Array.isArray(a)?a:[a]).concat(i[s]||[])}else if("style"===s){var a=o(t[s]);a=a&&";"!==a[a.length-1]?a+";":a;var l=o(i[s]);l=l&&";"!==l[l.length-1]?l+";":l,t[s]=a+l}else t[s]=i[s];return t},i.classes=n,i.style=o,i.attr=s,i.attrs=function(e,t){var i="";for(var a in e)if(r.call(e,a)){var l=e[a];if("class"===a){l=n(l),i=s(a,l,!1,t)+i;continue}"style"===a&&(l=o(l)),i+=s(a,l,!1,t)}return i};var a=/["&<>]/;function l(e){var t=""+e,i=a.exec(t);if(!i)return e;var r,n,o,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=o}return n!==r?s+t.substring(n,r):s}i.escape=l,i.rethrow=function t(i,r,n,o){if(!(i instanceof Error))throw i;if(!("undefined"==typeof window&&r||o))throw i.message+=" on line "+n,i;try{o=o||e("fs").readFileSync(r,"utf8")}catch(e){t(i,null,n)}var s=3,a=o.split("\n"),l=Math.max(n-s,0),p=Math.min(a.length,n+s);var s=a.slice(l,p).map(function(e,t){var i=t+l+1;return(i==n?"  > ":"    ")+i+"| "+e}).join("\n");i.path=r;i.message=(r||"Pug")+":"+n+"\n"+s+"\n\n"+i.message;throw i}},{fs:1}],3:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t,i,n,o){this.$scope=e,this.$rootScope=t,this.$translate=i,this.windowPanels=n,this.WINDOW_PANEL_GROUPS=o,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.close=function(){this.$scope.closeHandler&&this.$scope.closeHandler(),this.windowPanels.closeWindow(this.WINDOW_PANEL_GROUPS.AIR_TIME,this.model)},n.prototype.onModelChange=function(){},n.$inject=["$scope","$rootScope","$translate","windowPanels","WINDOW_PANEL_GROUPS"],angular.module("app-unifi-manage-property-panel").controller("AirTimePanelController",n)},{}],4:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiAirTimePanel",["updateModelDirectiveMixin",function(t){return{scope:{model:"=unifiAirTimePanel"},controller:"AirTimePanelController",controllerAs:"airTimePanelCtrl",template:e("./airTimePanel.pug")(),link:function(e,i,r,n){e.$on("$destroy",function(){n.close(),n.removeEventHandlers()}),t.init(e,i,r,n,!0)}}}])},{"./airTimePanel.pug":5}],5:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiPanelItem"><div class="unifiPanelItemHeader"><div class="unifiPanelItemHeader__avatar"><div unifi-device-icon="airTimePanelCtrl.model"></div></div><div class="unifiPanelItemHeader__title"><span unifi-device-status="airTimePanelCtrl.model" unifi-device-status-is-cozy="true" unifi-device-status-is-truncated="true" unifi-device-status-with-icons="true" unifi-device-status-label="airTimePanelCtrl.model.getDisplayName()"></span></div><div class="unifiPanelItemHeader__actions"><div class="appActionIconGroup"><div class="appActionIcon" ng-click="airTimePanelCtrl.close()" title="{{\'COMMON_ACTIONS_CLOSE\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></div></div></div></div><div class="unifiPanelItemBody"><div class="unifiPanelItemBodySection unifiPanelItemBodySection--flexible"><div class="unifiPanelItemContent"><unifi-air-time-session unifi-air-time-session-device="model"></unifi-air-time-session></div></div></div></div>'}},{"pug-runtime":2}],6:[function(e,t,i){"use strict";function r(){}r.$inject=[],angular.module("app-unifi-manage-property-panel").controller("AirTimeScanBreadcrumbsController",r)},{}],7:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiAirTimeScanBreadcrumbs",[function(){return{bindToController:{model:"=unifiAirTimeScanBreadcrumbsModel",selectedNode:"=unifiAirTimeScanBreadcrumbsSelectedNode"},controller:"AirTimeScanBreadcrumbsController",controllerAs:"airTimeScanBreadcrumbsCtrl",template:e("./airTimeScanBreadcrumbs.pug")(),replace:!0}}])},{"./airTimeScanBreadcrumbs.pug":8}],8:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="alignCenter appType--quiet type--small" ng-switch="airTimeScanBreadcrumbsCtrl.selectedNode.type"><div class="horizontalRhythm--cozy inlineBlock" ng-switch-when="AP|AP_SELF" ng-switch-when-separator="|"><div class="statusBall appStatusBall appStatusBall--legend appStatusBall--cozy appStatusBall--primary"></div><div class="appStatusBallLabel noMargin"><span class="appDisplaySpaceAfter" translate="AIR_TIME_SESSION_LABEL_BSSID"></span><span>{{airTimeScanBreadcrumbsCtrl.selectedNode.model.bssid | bssid}}</span></div></div><div class="horizontalRhythm--cozy inlineBlock" ng-switch-when="STATION"><div class="statusBall appStatusBall appStatusBall--legend appStatusBall--cozy appStatusBall--primary"></div><div class="appStatusBallLabel noMargin"><span class="appDisplaySpaceAfter" translate="AIR_TIME_SESSION_LABEL_BSSID"></span><span>{{airTimeScanBreadcrumbsCtrl.selectedNode.parent.model.bssid | bssid}}</span></div></div><div class="horizontalRhythm--cozy inlineBlock" ng-switch-when="STATION"><div class="statusBall appStatusBall appStatusBall--legend appStatusBall--cozy appStatusBall--warning"></div><div class="appStatusBallLabel noMargin"><span class="appDisplaySpaceAfter" translate="AIR_TIME_SESSION_LABEL_STATION"></span><span>{{airTimeScanBreadcrumbsCtrl.selectedNode.model.mac | mac}}</span></div></div><div class="horizontalRhythm--cozy inlineBlock" ng-switch-when="TOTAL"><div class="appStatusBallLabel noMargin"><span class="appDisplaySpaceAfter" translate="AIR_TIME_SESSION_LABEL_SCAN"></span><span>{{airTimeScanBreadcrumbsCtrl.model.get(\'timestamp\') | lastSeen}}</span></div></div><div class="horizontalRhythm--cozy inlineBlock"'+(i="ng-switch-default",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+'><div class="appStatusBallLabel noMargin" translate="AIR_TIME_SESSION_LABEL_NO_SCAN_IS_SELECTED"></div></div></div>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],9:[function(e,t,i){"use strict";function r(){}r.$inject=[],r.prototype.toggleInclude=function(e){this.include||(this.include={}),this.include[e]=!this.include[e],"stations"!==e||this.include.stations||(this.include.packets=!1),"packets"===e&&this.include.packets&&(this.include.stations=!0),"noise"!==e||this.include.noise||(this.include.free=!1),"free"===e&&this.include.free&&(this.include.noise=!0),this.include=angular.copy(this.include)},angular.module("app-unifi-manage-property-panel").controller("AirTimeScanFiltersController",r)},{}],10:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiAirTimeScanFilters",[function(){return{bindToController:{include:"=unifiAirTimeScanFiltersInclude",value:"=unifiAirTimeScanFiltersValue"},controller:"AirTimeScanFiltersController",controllerAs:"airTimeScanFiltersCtrl",template:e("./airTimeScanFilters.pug")(),replace:!0}}])},{"./airTimeScanFilters.pug":11}],11:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiAirTimeScanFilters"><div class="appActionBarFilters" ng-class="{      \'floatLeft\': airTimeScanFiltersCtrl.value === \'time\',      \'appActionBarFilters--center\': airTimeScanFiltersCtrl.value !== \'time\'    }"><div class="appActionBarFilter appActionBarFilter--noBorder"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter noMarginBottom"><li class="button appMainButton appMainButton--cozy is-button-selected noPointerEvents"><div class="statusBall appStatusBall appStatusBall--legend appStatusBall--primary"></div><span translate="AIR_TIME_SCAN_FILTERS_LABELS_APS"></span></li><li class="button appMainButton appMainButton--cozy" ng-class="{\'is-button-selected\': airTimeScanFiltersCtrl.include.stations}" ng-click="airTimeScanFiltersCtrl.toggleInclude(\'stations\')"><div class="statusBall appStatusBall appStatusBall--legend appStatusBall--warning"></div><span translate="AIR_TIME_SCAN_FILTERS_LABELS_STATIONS"></span></li><li class="button appMainButton appMainButton--cozy" ng-class="{\'is-button-selected\': airTimeScanFiltersCtrl.include.packets}" ng-click="airTimeScanFiltersCtrl.toggleInclude(\'packets\')"><div class="statusBall appStatusBall appStatusBall--legend appStatusBall--positive"></div><span translate="AIR_TIME_SCAN_FILTERS_LABELS_DATA"></span></li></ul></div></div><div class="appActionBarFilters appActionBarFilters--right floatRight" ng-if="airTimeScanFiltersCtrl.value === \'time\'"><div class="appActionBarFilter appActionBarFilter--noBorder"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter noMarginBottom"><li class="button appMainButton appMainButton--cozy" ng-class="{\'is-button-selected\': airTimeScanFiltersCtrl.include.noise}" ng-click="airTimeScanFiltersCtrl.toggleInclude(\'noise\')"><div class="statusBall appStatusBall appStatusBall--legend unifiAirTimeSession__filterBall--noise"></div><span translate="AIR_TIME_SCAN_FILTERS_LABELS_NOISE"></span></li><li class="button appMainButton appMainButton--cozy" ng-class="{\'is-button-selected\': airTimeScanFiltersCtrl.include.free}" ng-click="airTimeScanFiltersCtrl.toggleInclude(\'free\')"><div class="statusBall appStatusBall appStatusBall--legend unifiAirTimeSession__filterBall--free"></div><span translate="AIR_TIME_SCAN_FILTERS_LABELS_FREE"></span></li></ul></div></div></div>'}},{"pug-runtime":2}],12:[function(e,t,i){"use strict";function r(e,t,i){this.airTimeScanUtils=t,this.AIR_TIME_NODE=i,this.selectedPath=[],this.selectedNode=void 0,this.hoveredPath=[],this.chartConfigDefaults={equals:function(e,i){return t.getNodeHash(e)===t.getNodeHash(i)},onSelectHandler:function(t){e.$applyAsync(function(){this.selectedPath=t,this.selectedNode=this.getSelectedNode(),this.onSelectNodeHandler({selectedNode:this.selectedNode,selectedPath:this.selectedPath})}.bind(this))}.bind(this),onHoverHandler:function(t){e.$applyAsync(function(){this.hoveredPath=t}.bind(this))}.bind(this)}}r.$inject=["$scope","airTimeScanUtils","AIR_TIME_NODE"],r.prototype.$onInit=function(){this.update()},r.prototype.update=function(){this.selectedPath=[],this.collectData(),this.updateConfig()},r.prototype.collectData=function(){var e=this.model&&this.model.toJSON();this.data=e?this.transformData(e):{}},r.prototype.transformData=function(e){var t=this.airTimeScanUtils.countScanTime(e),i=this.airTimeScanUtils.countScanTimeUsed(e),r=this.airTimeScanUtils.countScanTimeNoise(e),n=i+r,o=t-n,s=this.airTimeScanUtils.countScanPacketsNumber(e),a=this.airTimeScanUtils.sortAps((e.aps||[]).slice()),l=this.mapApsToNodes(a);return this.include.noise&&l.push({children:[],count:0,time_us:r,type:this.AIR_TIME_NODE.TYPE.NOISE}),this.include.free&&l.push({children:[],count:0,time_us:o,type:this.AIR_TIME_NODE.TYPE.FREE}),{nodes:{children:l,model:e,type:this.AIR_TIME_NODE.TYPE.TOTAL},summary:{scanPacketsNumber:s,scanTimeFree:o,scanTimeTotal:t,scanTimeUtilized:n}}},r.prototype.mapApsToNodes=function(e){return(e||[]).map(function(e){var t=this.mapApSelfToNodes(e).concat(this.mapStationsToNodes(e));return{children:t.length?t:void 0,count:!this.include.stations&&this.airTimeScanUtils.countApPacketsNumber(e),model:e,time_us:!this.include.stations&&this.airTimeScanUtils.countApTime(e),type:this.AIR_TIME_NODE.TYPE.AP}}.bind(this))},r.prototype.mapApSelfToNodes=function(e){return this.include.stations&&angular.isArray(e.pkts)?[{children:this.mapPacketsToNodes(e),count:!this.include.packets&&this.airTimeScanUtils.countApSelfPacketsNumber(e),model:e,time_us:!this.include.packets&&this.airTimeScanUtils.countApSelfTime(e),type:this.AIR_TIME_NODE.TYPE.AP_SELF}]:[]},r.prototype.mapStationsToNodes=function(e){return this.include.stations?(e&&e.stations||[]).map(function(e){return{children:this.mapPacketsToNodes(e),count:!this.include.packets&&this.airTimeScanUtils.countStationPacketsNumber(e),model:e,time_us:!this.include.packets&&this.airTimeScanUtils.countStationTime(e),type:this.AIR_TIME_NODE.TYPE.STATION}}.bind(this)):[]},r.prototype.mapPacketsToNodes=function(e){if(this.include.packets)return(e&&e.pkts||[]).map(function(e){return{count:e.count,model:e,time_us:e.time_us,type:this.AIR_TIME_NODE.TYPE.PACKET}}.bind(this))},r.prototype.updateConfig=function(){this.chartConfig=angular.extend({color:function(e){return this.colors.getColor(e)}.bind(this),value:this.getValueFunction(this.value)},this.chartConfigDefaults)},r.prototype.getValueFunction=function(e){switch(e){case"time":return function(e){return e.time_us||0};case"packets":default:return function(e){return e.count||0}}},r.prototype.getSelectedNode=function(){return this.selectedPath&&this.selectedPath[this.selectedPath.length-1]},r.prototype.getHighlightedNode=function(){var e=this.selectedPath&&this.selectedPath.length,t=(this.hoveredPath&&this.hoveredPath.length)>e?this.hoveredPath:this.selectedPath;return t&&t[t.length-1]},angular.module("app-unifi-manage-property-panel").controller("AirTimeScanGraphController",r)},{}],13:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiAirTimeScanGraph",[function(){return{bindToController:{colors:"=unifiAirTimeScanGraphColors",device:"=unifiAirTimeScanGraphDevice",include:"=unifiAirTimeScanGraphInclude",model:"=unifiAirTimeScanGraphModel",onSelectNodeHandler:"&unifiAirTimeScanGraphOnSelectNodeHandler",radio:"=unifiAirTimeScanGraphRadio",value:"=unifiAirTimeScanGraphValue"},controller:"AirTimeScanGraphController",controllerAs:"airTimeScanGraphCtrl",template:e("./airTimeScanGraph.pug")(),replace:!0,link:function(e,t,i,r){e.$applyAsync(function(){r.update()}),e.$watchGroup(["airTimeScanGraphCtrl.colors","airTimeScanGraphCtrl.include","airTimeScanGraphCtrl.model","airTimeScanGraphCtrl.value"],function(e,t){var i=e[0]!==t[0],n=e[1]!==t[1],o=e[2]!==t[2],s=e[3]!==t[3];(i||s)&&r.updateConfig(),(o||n)&&r.collectData()})}}}])},{"./airTimeScanGraph.pug":14}],14:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiAirTimeScanGraph"><div class="unifiAirTimeScanGraph__chart positionRelative"><unifi-sunburst-chart unifi-sunburst-chart-data="airTimeScanGraphCtrl.data.nodes" unifi-sunburst-chart-config="airTimeScanGraphCtrl.chartConfig"><unifi-air-time-scan-graph-legend ng-if="airTimeScanGraphCtrl.data.summary" unifi-air-time-scan-graph-legend-device="::airTimeScanGraphCtrl.device" unifi-air-time-scan-graph-legend-node="airTimeScanGraphCtrl.getHighlightedNode()" unifi-air-time-scan-graph-legend-radio="airTimeScanGraphCtrl.radio" unifi-air-time-scan-graph-legend-summary="airTimeScanGraphCtrl.data.summary" unifi-air-time-scan-graph-legend-value="airTimeScanGraphCtrl.value"></unifi-air-time-scan-graph-legend></unifi-sunburst-chart></div></div>'}},{"pug-runtime":2}],15:[function(e,t,i){"use strict";function r(e,t,i,r){this.airTimeScanUtils=e,this.deviceRadioUtils=t,this.AIR_TIME_NODE=i,this.AIR_TIME_PACKETS=r}r.$inject=["airTimeScanUtils","deviceRadioUtils","AIR_TIME_NODE","AIR_TIME_PACKETS"],r.prototype.getPacketDescription=function(){return this.airTimeScanUtils.getPacketDescription(this.node.data.model)},r.prototype.getSubPacketDescription=function(){return this.airTimeScanUtils.getSubPacketDescription(this.node.data.model)},r.prototype.getPacketRate=function(){return this.airTimeScanUtils.getPacketRate(this.node.data.model)},r.prototype.getDevicePrimaryChannel=function(){var e=this.deviceRadioUtils.getRadioStatsByName(this.device,this.radio.get("name"));return e&&this.deviceRadioUtils.getRadioStatsPrimaryChannel(e)},r.prototype.getTime=function(){var e=this.airTimeScanUtils.countNodeTimeUsed(this.node);return angular.isDefined(e)?e:this.summary.scanTimeUtilized},r.prototype.getPacketsNumber=function(){var e=this.airTimeScanUtils.countNodePacketsNumber(this.node);return angular.isDefined(e)?e:this.summary.scanPacketsNumber},angular.module("app-unifi-manage-property-panel").controller("AirTimeScanGraphLegendController",r)},{}],16:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiAirTimeScanGraphLegend",[function(){return{bindToController:{device:"=unifiAirTimeScanGraphLegendDevice",node:"=unifiAirTimeScanGraphLegendNode",radio:"=unifiAirTimeScanGraphLegendRadio",summary:"=unifiAirTimeScanGraphLegendSummary",value:"=unifiAirTimeScanGraphLegendValue"},controller:"AirTimeScanGraphLegendController",controllerAs:"airTimeScanGraphLegendCtrl",template:e("./airTimeScanGraphLegend.pug")(),replace:!0}}])},{"./airTimeScanGraphLegend.pug":17}],17:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiAirTimeScanGraphLegend fullHeight stackCenter"><div class="unifiAirTimeScanGraphLegend__header shelfBottom splitApart"><div class="unifiAirTimeScanGraphLegend__title shelfBottom splitApart" ng-switch="airTimeScanGraphLegendCtrl.node.data.type"><div class="stackCenter" ng-switch-when="AP|AP_SELF" ng-switch-when-separator="|"><div class="unifiAirTimeScanGraphLegend__name unifiAirTimeScanGraphLegend__name--small truncate" ng-if="airTimeScanGraphLegendCtrl.node.data.model.ssid">{{airTimeScanGraphLegendCtrl.node.data.model.ssid}}</div><div class="unifiAirTimeScanGraphLegend__name">{{airTimeScanGraphLegendCtrl.node.data.model.bssid | bssid}}</div></div><div class="stackCenter"><div class="unifiAirTimeScanGraphLegend__name" ng-switch-when="STATION">{{airTimeScanGraphLegendCtrl.node.data.model.mac | mac}}</div></div><div class="stackCenter" ng-switch-when="PACKET"><div class="unifiAirTimeScanGraphLegend__name unifiAirTimeScanGraphLegend__name--small">{{airTimeScanGraphLegendCtrl.getPacketDescription().description || (\'AIR_TIME_SCAN_GRAPH_LEGEND_VALUES_UNKNOWN\' | translate)}}</div><div class="unifiAirTimeScanGraphLegend__name">{{airTimeScanGraphLegendCtrl.getSubPacketDescription().description || (\'AIR_TIME_SCAN_GRAPH_LEGEND_VALUES_UNKNOWN\' | translate)}}</div></div><div class="stackCenter"><div class="unifiAirTimeScanGraphLegend__name unifiAirTimeScanGraphLegend__name--large" ng-switch-when="NOISE">{{airTimeScanGraphLegendCtrl.getTime() | percent: airTimeScanGraphLegendCtrl.summary.scanTimeTotal}}</div></div><div class="stackCenter"><div class="unifiAirTimeScanGraphLegend__name unifiAirTimeScanGraphLegend__name--large" ng-switch-when="FREE">{{airTimeScanGraphLegendCtrl.summary.scanTimeFree | percent: airTimeScanGraphLegendCtrl.summary.scanTimeTotal}}</div></div><div class="stackCenter"><div class="unifiAirTimeScanGraphLegend__name unifiAirTimeScanGraphLegend__name--large" ng-switch-when="TOTAL">{{airTimeScanGraphLegendCtrl.getDevicePrimaryChannel()}}</div></div></div></div><div class="unifiAirTimeScanGraphLegend__labels stackCenter" ng-switch="airTimeScanGraphLegendCtrl.node.data.type"><div class="stackCenter verticalRhythm--condensed verticalRhythmTop--smash"><div class="appSubHeading" ng-switch-when="AP|AP_SELF" ng-switch-when-separator="|" translate="AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_BSSID"></div><div class="appSubHeading" ng-switch-when="STATION" translate="AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_MAC"></div><div class="appSubHeading" ng-switch-when="PACKET" translate="AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_PACKETS"></div><div class="appSubHeading" ng-switch-when="NOISE" translate="AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_NOISE"></div><div class="appSubHeading" ng-switch-when="FREE" translate="AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_FREE"></div><div class="appSubHeading" ng-switch-when="TOTAL" translate="AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_CHANNEL"></div></div><div class="stackCenter appType--micro appType--quiet"><div class="verticalRhythm--smash" ng-switch-when="NOISE|FREE" ng-switch-when-separator="|"><span class="appDisplaySpaceAfter" translate="AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_SUMMARY_TIME"></span><span>{{(airTimeScanGraphLegendCtrl.getTime() / 1000) | milliseconds: 0}}</span></div><div class="verticalRhythm--smash" ng-switch-when="AP|AP_SELF|STATION|PACKET" ng-switch-when-separator="|"><span class="appDisplaySpaceAfter" translate="AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_SUMMARY_UTILIZATION"></span><span>{{airTimeScanGraphLegendCtrl.getTime() | percent: airTimeScanGraphLegendCtrl.summary.scanTimeTotal: 2}}</span></div><div class="verticalRhythm--smash" ng-switch-when="TOTAL"><span class="appDisplaySpaceAfter" translate="AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_SUMMARY_UTILIZATION"></span><span>{{airTimeScanGraphLegendCtrl.getTime() | percent: airTimeScanGraphLegendCtrl.summary.scanTimeTotal}}</span></div><div class="verticalRhythm--smash" ng-switch-when="TOTAL|AP|AP_SELF|STATION|PACKET" ng-switch-when-separator="|"><span class="appDisplaySpaceAfter" translate="AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_SUMMARY_PACKETS"></span><span>{{airTimeScanGraphLegendCtrl.getPacketsNumber()}}</span></div><div class="verticalRhythm--smash" ng-switch-when="PACKET" ng-switch-when-separator="|"><span class="appDisplaySpaceAfter" translate="AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_SUMMARY_PACKETS_RATE"></span><span>{{airTimeScanGraphLegendCtrl.getPacketRate() | bps:{isSi:true} }}</span></div></div></div></div>'}},{"pug-runtime":2}],18:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();var n=lazyRequire.get("BaseCollectionController");angular.module("app-unifi-manage-property-panel").controller("AirTimeScanListController",["BasePaginatedListController","airTimeScanUtils","BaseCollection","CollectionView","mergeDefaults","preferences",function(e,t,i,o,s,a){var l=function(n){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return e.rowsPerPage=a.model.getRowsPerPropertyPanel(),e.defaultSortBy="name",e.setCollection(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),r(o,[{key:"initFilters",value:function(){}},{key:"getCollection",value:function(){return this.collection}},{key:"onPageSizeChange",value:function(){}},{key:"onCollectionChange",value:function(){}},{key:"onNodeChange",value:function(){this.setCollection(),this.updateView()}},{key:"setCollection",value:function(){var e=(this.node&&this.node.children||[]).map(function(e){return e.data.model}),t=new i(e);this.updateCollection(t)}},{key:"countApPacketsNumber",value:function(e){return t.countApPacketsNumber(e&&e.attributes)}},{key:"countStationPacketsNumber",value:function(e){return t.countStationPacketsNumber(e&&e.attributes)}},{key:"getPacketDescription",value:function(e){return t.getPacketDescription(e&&e.attributes)}},{key:"getSubPacketDescription",value:function(e){return t.getSubPacketDescription(e&&e.attributes)}},{key:"getPacketRate",value:function(e){return t.getPacketRate(e&&e.attributes)}}]),o}();return s(l.prototype,n.prototype),new l}])},{}],19:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiAirTimeScanList",["BaseCollection","CollectionView","PaginatedListDirective",function(t,i,r){var n=new r("airTimeScan",e("./airTimeScanList.pug")(),{device:"=unifiAirTimeScanListDevice",node:"=unifiAirTimeScanListNode"});return n.addMixin({init:function(e,t,i,r){e.$watch(function(){return r.node},function(){r.onNodeChange()})}}),n}])},{"./airTimeScanList.pug":20}],20:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appScrollable flexFlag__body fullWidth"><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--flexible appTable--condensed appTable--minor appTable--transparent" collection-view-sort="airTimeScanListCtrl.view"><thead><tr ng-switch="airTimeScanListCtrl.node.data.type"><th class="apBssid" collection-view-sort-by="bssid" ng-switch-when="TOTAL"><span translate="AIR_TIME_SCAN_TABLE_HEADER_BSSID"></span></th><th class="apTime" collection-view-sort-by="time_us" ng-switch-when="TOTAL"><span translate="AIR_TIME_SCAN_TABLE_HEADER_TIME"></span></th><th class="apPacketsNumber" ng-switch-when="TOTAL"><span translate="AIR_TIME_SCAN_TABLE_HEADER_PACKETS"></span></th><th class="stationMac" collection-view-sort-by="bssid" ng-switch-when="AP"><span translate="AIR_TIME_SCAN_TABLE_HEADER_MAC"></span></th><th class="stationTime" collection-view-sort-by="time_us" ng-switch-when="AP"><span translate="AIR_TIME_SCAN_TABLE_HEADER_TIME"></span></th><th class="stationPacketsNumber" collection-view-sort-by="num_pkts" ng-switch-when="AP"><span translate="AIR_TIME_SCAN_TABLE_HEADER_PACKETS"></span></th><th class="packetType" collection-view-sort-by="type" ng-switch-when="AP_SELF|STATION" ng-switch-when-separator="|"><span translate="AIR_TIME_SCAN_TABLE_HEADER_PACKET_TYPE"></span></th><th class="packetSubtype" collection-view-sort-by="subtype" ng-switch-when="AP_SELF|STATION" ng-switch-when-separator="|"><span translate="AIR_TIME_SCAN_TABLE_HEADER_PACKET_SUBTYPE"></span></th><th class="packetCount" collection-view-sort-by="count" ng-switch-when="AP_SELF|STATION" ng-switch-when-separator="|"><span translate="AIR_TIME_SCAN_TABLE_HEADER_COUNT"></span></th><th class="packetRate" collection-view-sort-by="rate_100kbps" ng-switch-when="AP_SELF|STATION" ng-switch-when-separator="|"><span translate="AIR_TIME_SCAN_TABLE_HEADER_RATE"></span></th></tr></thead><tfoot ng-if="airTimeScanListCtrl.view.getModels().length"><tr><td colspan="4"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="airTimeScanListCtrl.currentPage" unifi-micro-pagination-rows-per-page="airTimeScanListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="airTimeScanListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in airTimeScanListCtrl.view.getModels(),          startFrom (airTimeScanListCtrl.currentPage - 1) * airTimeScanListCtrl.rowsPerPage,          limitTo airTimeScanListCtrl.rowsPerPage" data-id="{{::model.id}}" ng-switch="airTimeScanListCtrl.node.data.type"><td class="apBssid" ng-switch-when="TOTAL">{{::model.get(\'bssid\') | bssid}}</td><td class="apTime" ng-switch-when="TOTAL">{{::(model.get(\'time_us\') / 1000) | milliseconds: 0}}</td><td class="apPacketsNumber" ng-switch-when="TOTAL">{{::airTimeScanListCtrl.countApPacketsNumber(model)}}</td><td class="stationMac" ng-switch-when="AP">{{::model.get(\'mac\') | mac}}</td><td class="stationTime" ng-switch-when="AP">{{::(model.get(\'time_us\') / 1000) | milliseconds: 0}}</td><td class="stationPacketsNumber" ng-switch-when="AP">{{::airTimeScanListCtrl.countStationPacketsNumber(model)}}</td><td class="packetType" ng-switch-when="AP_SELF|STATION" ng-switch-when-separator="|">{{::airTimeScanListCtrl.getPacketDescription(model).description || (\'AIR_TIME_SCAN_LIST_VALUES_UNKNOWN\' | translate)}}</td><td class="packetSubtype" ng-switch-when="AP_SELF|STATION" ng-switch-when-separator="|">{{::airTimeScanListCtrl.getSubPacketDescription(model).description || (\'AIR_TIME_SCAN_LIST_VALUES_UNKNOWN\' | translate)}}</td><td class="packetCount" ng-switch-when="AP_SELF|STATION" ng-switch-when-separator="|">{{::model.get(\'count\')}}</td><td class="packetRate" ng-switch-when="AP_SELF|STATION" ng-switch-when-separator="|">{{::airTimeScanListCtrl.getPacketRate(model) | bps: {isSi:true} }}</td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!airTimeScanListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="AIR_TIME_SCAN_TABLE_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":2}],21:[function(e,t,i){"use strict";function r(e,t,i,r,n){this.$translate=e,this.airTimeScanUtils=t,this.d3=i,this.AIR_TIME=r,this.AIR_TIME_NODE=n,this.data={entries:[],summary:{}},this.displayLast=r.QUEUE_SIZE,this.chartConfigDefaults={color:function(e){return this.colors.getColor(e)}.bind(this),groupBy:function(e){return e.bssid},xValue:function(e){return e.node.data.scanId},onSelectBarIdHandler:function(e){this.onSelectScanIdHandler({selectedScanId:e})}.bind(this)}}r.$inject=["$translate","airTimeScanUtils","d3","AIR_TIME","AIR_TIME_NODE"],r.prototype.addEventHandlers=function(){this.collection&&(this.listener=this.collection.onUpdate(this.update.bind(this)))},r.prototype.removeEventHandlers=function(){this.listener&&this.listener.stopListening()},r.prototype.$onInit=function(){this.update()},r.prototype.update=function(){this.collectData(),this.updateConfig()},r.prototype.collectData=function(){var e=this.collection&&this.collection.toJSON();this.data=e?this.transformData(e):{entries:[],summary:{}}},r.prototype.transformData=function(e){var t=Math.max(this.collection?this.collection.size():0,this.displayLast),i=this.airTimeScanUtils.getSortedBssidSet(e),r=e.slice(t-this.displayLast,t),n=r.reduce(function(e,t){var i=this.airTimeScanUtils.countScanTime(t);return Math.max(e,i)}.bind(this),0),o=r.reduce(function(e,t){var i=this.airTimeScanUtils.countScanTimeUsed(t);return this.include.noise&&(i+=this.airTimeScanUtils.countScanTimeNoise(t)),Math.max(e,i)}.bind(this),0),s=r.reduce(function(e,t){var i=this.airTimeScanUtils.countScanPacketsNumber(t);return Math.max(e,i)}.bind(this),0);return{entries:r.reduce(function(e,t){var r=this.airTimeScanUtils.getApsByBssidMap(t),n=i.reduce(function(e,i){var n=r[i];return e.push({bssid:i,count:this.airTimeScanUtils.countApPacketsNumber(n),scanId:t.id,time_us:this.airTimeScanUtils.countApTime(n),type:this.AIR_TIME_NODE.TYPE.AP}),e}.bind(this),[]);return this.include.noise&&n.push({bssid:this.AIR_TIME_NODE.BSSID.NOISE,count:0,scanId:t.id,time_us:this.airTimeScanUtils.countScanTimeNoise(t),type:this.AIR_TIME_NODE.TYPE.NOISE}),e.concat(n)}.bind(this),[]),summary:{maxScanPacketsNumber:s,maxScanTimeUtilized:o,maxScanTime:n}}},r.prototype.updateConfig=function(){this.chartConfig=angular.extend({xDomain:this.getXDomain(),yAxisFormat:this.getYAxisFormatFunction(),yAxisLegend:this.getYAxisLegend(),yDomain:this.getYDomain(),yValue:this.getValueFunction()},this.chartConfigDefaults)},r.prototype.getXDomain=function(){var e=Math.max(this.collection?this.collection.size():0,this.displayLast);return this.d3.range(e-this.displayLast,e)},r.prototype.getYAxisFormatFunction=function(){switch(this.value){case"time":return function(e){return this.scanUtilizationPercent(e,this.data.summary.maxScanTime)+"%"}.bind(this);case"packets":default:return function(e){return e}}},r.prototype.getYAxisLegend=function(){switch(this.value){case"time":return this.$translate.instant("AIR_TIME_SCAN_GRAPH_LABEL_UTILIZATION");case"packets":return this.$translate.instant("AIR_TIME_SCAN_GRAPH_LABEL_PACKETS");default:return""}},r.prototype.getYDomain=function(){switch(this.value){case"time":return[0,this.scanUtilizationPercent(this.data.summary.maxScanTimeUtilized,this.data.summary.maxScanTime)/100*this.data.summary.maxScanTime||0];case"packets":default:return[0,this.data.summary.maxScanPacketsNumber||0]}},r.prototype.getValueFunction=function(){switch(this.value){case"time":return function(e){return e.time_us||0};case"packets":default:return function(e){return e.count||0}}},r.prototype.scanUtilizationPercent=function(e,t){var i=e/t*100;return Math.ceil(i||0)},angular.module("app-unifi-manage-property-panel").controller("AirTimeScansGraphController",r)},{}],22:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiAirTimeScansGraph",[function(){return{bindToController:{collection:"=unifiAirTimeScansGraphCollection",colors:"=unifiAirTimeScansGraphColors",include:"=unifiAirTimeScansGraphInclude",onSelectScanIdHandler:"&unifiAirTimeScansGraphOnSelectScanIdHandler",isCozy:"=unifiAirTimeScansGraphIsCozy",selectedScanId:"=unifiAirTimeScansGraphSelectedScanId",value:"=unifiAirTimeScansGraphValue"},controller:"AirTimeScansGraphController",controllerAs:"airTimeScansGraphCtrl",template:e("./airTimeScansGraph.pug")(),replace:!0,link:function(e,t,i,r){r.addEventHandlers(),e.$watchGroup(["airTimeScansGraphCtrl.collection","airTimeScansGraphCtrl.colors","airTimeScansGraphCtrl.include","airTimeScansGraphCtrl.value"],function(){r.removeEventHandlers(),r.addEventHandlers(),r.update()}),e.$on("$destroy",function(){r.removeEventHandlers()})}}}])},{"./airTimeScansGraph.pug":23}],23:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiAirTimeScansGraph"><unifi-stacked-bar-chart class="unifiAirTimeScansGraph positionRelative" unifi-stacked-bar-chart-config="airTimeScansGraphCtrl.chartConfig" unifi-stacked-bar-chart-data="airTimeScansGraphCtrl.data.entries" unifi-stacked-bar-chart-selected-bar-id="airTimeScansGraphCtrl.selectedScanId" ng-class="{      \'unifiAirTimeScansGraph--cozy\': airTimeScansGraphCtrl.isCozy    }"></unifi-stacked-bar-chart></div>'}},{"pug-runtime":2}],24:[function(e,t,i){"use strict";function r(e,t,i,r,n,o,s,a,l,p,c,d,u,g,f,h,m){this.$scope=e,this.$timeout=t,this.$translate=i,this.airTime=r,this.AirTimeColors=n,this.AirTimeScanCollection=o,this.airTimeScanUtils=s,this.deviceRadioUtils=a,this.deviceStateUtils=l,this.directDeviceConnectionUtils=p,this.eventBusService=c,this.heyToasts=d,this.DEVICE_STATES=u,this.DIRECT_DEVICE_CONNECTION=g,this.DIRECT_DEVICE_CONNECTION_STATES=f,this.RADIO_STATES=h,this.RADIO_TYPES=m,this.filters={include:{bssid:!0,free:!0,noise:!0,packets:!1,stations:!1},value:"time"},this.preselectedScanId=void 0,this.radios=[],this.radio=void 0,this.selectedNode=void 0,this.selectedPath=[],this.selectedScanId=void 0,this.showDetails=!1}r.$inject=["$scope","$timeout","$translate","airTime","AirTimeColors","AirTimeScanCollection","airTimeScanUtils","deviceRadioUtils","deviceStateUtils","directDeviceConnectionUtils","eventBusService","heyToasts","DEVICE_STATES","DIRECT_DEVICE_CONNECTION","DIRECT_DEVICE_CONNECTION_STATES","RADIO_STATES","RADIO_TYPES"],r.prototype.$onInit=function(){this.updateRadios()},r.prototype.isEmpty=function(){return!this.collection.size()},r.prototype.isDisconnected=function(){return this.airTime.getState(this.device,this.radio)===this.DIRECT_DEVICE_CONNECTION_STATES.DISCONNECTED},r.prototype.isConnecting=function(){return this.airTime.getState(this.device,this.radio)===this.DIRECT_DEVICE_CONNECTION_STATES.CONNECTING},r.prototype.isWaiting=function(){return this.airTime.getState(this.device,this.radio)===this.DIRECT_DEVICE_CONNECTION_STATES.WAITING},r.prototype.isScanning=function(){return this.airTime.getState(this.device,this.radio)===this.DIRECT_DEVICE_CONNECTION_STATES.SCANNING},r.prototype.isWaitingForScan=function(){return this.isWaiting()||this.isEmpty()&&this.isScanning()},r.prototype.startScan=function(){var e=this.eventBusService.obtainEventBusService(this.device.id);this.airTime.startScan(e,this.device,this.radio).catch(function(){this.heyToasts.pushError(this.$translate.instant("AIR_TIME_SESSION_CONNECTION_ERROR"))}.bind(this))},r.prototype.stopScan=function(){this.airTime.stopScan(this.device,this.radio)},r.prototype.clearScans=function(){this.airTime.clearScans(this.device,this.radio),this.update()},r.prototype.closeConnection=function(){this.airTime.closeConnection(this.device)},r.prototype.update=function(){this.updateCollection(),this.updateSelectedScan()},r.prototype.updateCollection=function(){this.removeEventHandlers(),this.collection=this.airTime.getCollection(this.device,this.radio),this.colors=new this.AirTimeColors,this.selectedNode=void 0,this.selectedPath=[],this.selectedScanId=void 0,this.preselectedScanId=void 0,this.addEventHandlers()},r.prototype.addEventHandlers=function(){this.collection&&(this.listener=this.collection.on("add",function(){this.$scope.$applyAsync(function(){this.updateModel()}.bind(this))}.bind(this)))},r.prototype.removeEventHandlers=function(){this.listener&&this.listener.stopListening()},r.prototype.updateModel=function(){var e=this.collection.models.length?this.collection.models.length-1:void 0;this.selectedScanId=void 0===this.preselectedScanId?e:this.preselectedScanId,this.model=this.collection.get(this.selectedScanId)||this.collection.models[this.selectedScanId]},r.prototype.updateRadios=function(){this.radios=this.deviceRadioUtils.getAllRadios(this.device).filter(function(e){return this.deviceRadioUtils.isAirTimeSupported(e)}.bind(this)),this.radio=this.radios.length?this.radios[0]:null},r.prototype.updateSelectedScanId=function(e){this.preselectedScanId=this.preselectedScanId===e?void 0:e,this.updateModel()},r.prototype.updateSelectedScan=function(){this.updateSelectedScanId()},r.prototype.updateSelectedNode=function(e,t){this.selectedNode=e,this.selectedPath=t},r.prototype.isBrowserSupported=function(){return this.directDeviceConnectionUtils.isBrowserSupported()},r.prototype.isScanAvailable=function(){if(this.device&&this.radio){var e=this.deviceRadioUtils.getChannelStateDataByName(this.device,this.radio.get("name"))||{};return e&&!this.deviceStateUtils.isDeviceDisabled(this.device)&&e.state!==this.RADIO_STATES.INIT}return!1},r.prototype.isRfScanning=function(){return!!this.device&&this.deviceStateUtils.getDeviceState(this.device)===this.DEVICE_STATES.RFSCANNING},angular.module("app-unifi-manage-property-panel").controller("AirTimeSessionController",r)},{}],25:[function(e,t,i){"use strict";var r=window.webrtc.WEBRTC_EVENTS;angular.module("app-unifi-manage-property-panel").directive("unifiAirTimeSession",[function(){return{bindToController:{device:"=unifiAirTimeSessionDevice"},controller:"AirTimeSessionController",controllerAs:"airTimeSessionCtrl",replace:!0,template:e("./airTimeSession.pug")(),link:function(e,t,i,n){e.directiveId=e.$id,n.updateRadios(),n.update(),e.$watch("airTimeSessionCtrl.radio",function(){n.update()}),e.$watch("airTimeSessionCtrl.device",function(){n.updateRadios()}),e.$on(r.WEBRTC_DISCONNECTED,function(){n.closeConnection()}),e.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./airTimeSession.pug":26}],26:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiAirTimeSession"><div class="appInfoBox appInfoBox--danger appInfoBox--cozy appInfoBox--noBorder" ng-if="!airTimeSessionCtrl.isBrowserSupported()"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="COMMON_WARNING_FEATURE_UNSUPPORTED_BY_BROWSER" translate-values="{            feature: (\'AIR_TIME_LABEL\' | translate),            browsers: airTimeSessionCtrl.DIRECT_DEVICE_CONNECTION.SUPPORTED_BROWSERS.join(\', \')          }"></p></div></div></div><div class="appInfoBox appInfoBox--danger appInfoBox--cozy appInfoBox--noBorder" ng-if="airTimeSessionCtrl.isBrowserSupported() &amp;&amp; airTimeSessionCtrl.isRfScanning()"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="AIR_TIME_SESSION_WARNING_RF_SCANNING"></p></div></div></div><section ng-if="airTimeSessionCtrl.isBrowserSupported() &amp;&amp; !airTimeSessionCtrl.isRfScanning()"><div class="appRow appRow--comfy"><div class="col--xs6"><div class="appActionBarFilters"><div class="appActionBarFilter appActionBarFilter--noBorder" ng-if="airTimeSessionCtrl.isScanAvailable()"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter noMarginBottom"><li class="button appMainButton appMainButton--cozy" ng-class="{\'is-button-selected\': airTimeSessionCtrl.filters.value === \'time\'}" ng-click="airTimeSessionCtrl.filters.value = \'time\'">{{ \'AIR_TIME_LABEL_TIME\' | translate }}</li><li class="button appMainButton appMainButton--cozy" ng-class="{\'is-button-selected\': airTimeSessionCtrl.filters.value === \'packets\'}" ng-click="airTimeSessionCtrl.filters.value = \'packets\'">{{ \'AIR_TIME_LABEL_PACKETS\' | translate }}</li></ul></div></div></div><div class="col--xs6"><div class="appActionBarFilters appActionBarFilters--right"><div class="appActionBarFilter appActionBarFilter--noBorder"><div class="appMainButton appMainButton--cozy appMainButton--primary appMainButton--withDropdown" ng-if="airTimeSessionCtrl.radios.length" ng-click="airTimeSessionCtrl.isDropdownVisible = !airTimeSessionCtrl.isDropdownVisible" on-outside-element-click="airTimeSessionCtrl.isDropdownVisible = false">{{airTimeSessionCtrl.radio | radio }}<span class="button__icon button__icon--right icon ubnt-icon--pointer-down"></span><ul class="appDropdown appDropdown--inButton appDropdown--right" ng-class="{\'is-dropdown-visible\': airTimeSessionCtrl.isDropdownVisible}"><li class="appDropdown__item uppercase" ng-repeat="radio in airTimeSessionCtrl.radios" ng-class="{\'selected\': airTimeSessionCtrl.radio === radio}" ng-click="airTimeSessionCtrl.radio = radio"><span>{{radio | radio:{showInterface: true} }}</span></li></ul></div></div><div class="appActionBarFilter appActionBarFilter--noBorder" ng-if="airTimeSessionCtrl.isScanAvailable()"><button class="appMainButton appMainButton--primary appMainButton--cozy" busy-toggle="airTimeSessionCtrl.isConnecting()" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-if="airTimeSessionCtrl.isDisconnected() || airTimeSessionCtrl.isConnecting()" ng-disabled="!airTimeSessionCtrl.isScanAvailable()" ng-click="airTimeSessionCtrl.startScan()">{{ \'AIR_TIME_ACTION_START\' | translate }}</button><button class="appMainButton appMainButton--primary appMainButton--cozy" ng-if="airTimeSessionCtrl.isWaiting() || airTimeSessionCtrl.isScanning()" ng-click="airTimeSessionCtrl.stopScan()">{{ \'AIR_TIME_ACTION_STOP\' | translate }}</button></div></div></div></div><div class="appInfoBox appInfoBox--danger appInfoBox--cozy appInfoBox--noBorder" ng-if="!airTimeSessionCtrl.isScanAvailable()"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" ng-show="airTimeSessionCtrl.radio.get(\'radio\') === airTimeSessionCtrl.RADIO_TYPES.NA.type" translate="AIR_TIME_SESSION_WARNING_FEATURE_UNAVAILABLE" translate-values="{radio : (\'AIR_TIME_LABEL_RADIO_NA\' | translate)}"></p><p class="noMarginBottom" ng-show="airTimeSessionCtrl.radio.get(\'radio\') === airTimeSessionCtrl.RADIO_TYPES.NG.type" translate="AIR_TIME_SESSION_WARNING_FEATURE_UNAVAILABLE" translate-values="{radio : (\'AIR_TIME_LABEL_RADIO_NG\' | translate)}"></p></div></div></div></section><section ng-if="airTimeSessionCtrl.isBrowserSupported() &amp;&amp; airTimeSessionCtrl.isScanAvailable() &amp;&amp; !airTimeSessionCtrl.isRfScanning()"><div class="appRow appRow--cozy"><div class="col--xs12"><div class="unifiAirTimeSession__scans"><unifi-air-time-scans-graph unifi-air-time-scans-graph-collection="airTimeSessionCtrl.collection" unifi-air-time-scans-graph-colors="airTimeSessionCtrl.colors" unifi-air-time-scans-graph-include="airTimeSessionCtrl.filters.include" unifi-air-time-scans-graph-is-cozy="true" unifi-air-time-scans-graph-on-select-scan-id-handler="airTimeSessionCtrl.updateSelectedScanId(selectedScanId)" unifi-air-time-scans-graph-selected-scan-id="airTimeSessionCtrl.selectedScanId" unifi-air-time-scans-graph-value="airTimeSessionCtrl.filters.value"></unifi-air-time-scans-graph></div></div></div><div class="appRow appRow--comfy"><div class="col--xs12"><div class="unifiAirTimeSession__filters"><unifi-air-time-scan-filters unifi-air-time-scan-filters-include="airTimeSessionCtrl.filters.include" unifi-air-time-scan-filters-value="airTimeSessionCtrl.filters.value"></unifi-air-time-scan-filters></div></div></div><div class="appRow appRow--comfy"><div class="col--xs12"><div class="unifiAirTimeSession__breadcrumbs"><unifi-air-time-scan-breadcrumbs unifi-air-time-scan-breadcrumbs-model="airTimeSessionCtrl.model" unifi-air-time-scan-breadcrumbs-selected-node="airTimeSessionCtrl.selectedNode"></unifi-air-time-scan-breadcrumbs></div></div></div><div class="appRow appRow--comfy"><div class="col--xs12 frame"><div class="unifiAirTimeSession__scan" ng-if="airTimeSessionCtrl.isScanAvailable()"><unifi-air-time-scan-graph unifi-air-time-scan-graph-colors="airTimeSessionCtrl.colors" unifi-air-time-scan-graph-device="::airTimeSessionCtrl.device" unifi-air-time-scan-graph-include="airTimeSessionCtrl.filters.include" unifi-air-time-scan-graph-model="airTimeSessionCtrl.model" unifi-air-time-scan-graph-on-select-node-handler="airTimeSessionCtrl.updateSelectedNode(selectedNode, selectedPath)" unifi-air-time-scan-graph-radio="airTimeSessionCtrl.radio" unifi-air-time-scan-graph-value="airTimeSessionCtrl.filters.value"></unifi-air-time-scan-graph><div class="positionCenter fullHeight frame" ng-if="airTimeSessionCtrl.isEmpty()"><div class="appLink clickable alignCenter" ng-if="airTimeSessionCtrl.isDisconnected()" ng-click="airTimeSessionCtrl.startScan(airTimeSessionCtrl.radio.get(\'radio\'))"><div class="icon icon--fa icon--large appIcon fa fa-play-circle"></div><div class="uppercase verticalRhythmTop--cozy" translate="AIR_TIME_ACTION_START"></div></div><div class="appType--quiet verticalRhythmTop--cozy" ng-if="airTimeSessionCtrl.isConnecting()">{{ \'AIR_TIME_SESSION_STATUS_LABEL_CONNECTING\' | translate }}</div><div class="appType--quiet verticalRhythmTop--cozy" ng-if="airTimeSessionCtrl.isWaitingForScan()">{{ \'AIR_TIME_SESSION_STATUS_LABEL_WAITING\' | translate }}</div></div></div></div></div><div class="appRow"><div class="col--xs6"><div class="appActionBarFilters"><div class="appActionBarFilter appActionBarFilter--noBorder"><div class="appForm--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup alignCenter"><input type="checkbox" name="airTimeShowDetails" id="airTimeShowDetails{{::directiveId}}" ng-model="airTimeSessionCtrl.showDetails"><label for="airTimeShowDetails{{::directiveId}}" translate="AIR_TIME_SESSION_LABEL_SHOW_DETAILS"></label></div></div></div></div></div></div><div class="col--xs6"><div class="appActionBarFilters appActionBarFilters--right"><div class="appActionBarFilter appActionBarFilter--noBorder"><button class="appMainButton appMainButton--transparent appMainButton--cozy" ng-disabled="airTimeSessionCtrl.isEmpty()" ng-click="airTimeSessionCtrl.clearScans()"><span>{{ \'AIR_TIME_ACTION_CLEAR_ALL\' | translate }}</span></button></div></div></div></div><div class="appRow" ng-if="airTimeSessionCtrl.showDetails"><div class="col--xs12"><unifi-air-time-scan-list class="unifiAirTimeSession__list" unifi-air-time-scan-list-device="::airTimeSessionCtrl.device" unifi-air-time-scan-list-node="airTimeSessionCtrl.selectedNode"></unifi-air-time-scan-list></div></div></section></div>'}},{"pug-runtime":2}],27:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t,i,n,o){this.$scope=e,this.$rootScope=t,this.$translate=i,this.windowPanels=n,this.WINDOW_PANEL_GROUPS=o,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.close=function(){this.$scope.closeHandler&&this.$scope.closeHandler(),this.windowPanels.closeWindow(this.WINDOW_PANEL_GROUPS.AIR_VIEW,this.model)},n.prototype.onModelChange=function(){},n.$inject=["$scope","$rootScope","$translate","windowPanels","WINDOW_PANEL_GROUPS"],angular.module("app-unifi-manage-property-panel").controller("AirViewPanelController",n)},{}],28:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiAirViewPanel",["updateModelDirectiveMixin",function(t){return{scope:{model:"=unifiAirViewPanel"},controller:"AirViewPanelController",controllerAs:"airViewPanelCtrl",template:e("./airViewPanel.pug")(),link:function(e,i,r,n){e.$on("$destroy",function(){n.close(),n.removeEventHandlers()}),t.init(e,i,r,n,!0)}}}])},{"./airViewPanel.pug":29}],29:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiPanelItem"><div class="unifiPanelItemHeader"><div class="unifiPanelItemHeader__avatar"><div unifi-device-icon="airViewPanelCtrl.model"></div></div><div class="unifiPanelItemHeader__title"><span unifi-device-status="airViewPanelCtrl.model" unifi-device-status-is-cozy="true" unifi-device-status-is-truncated="true" unifi-device-status-with-icons="true" unifi-device-status-label="airViewPanelCtrl.model.getDisplayName()"></span></div><div class="unifiPanelItemHeader__actions"><div class="appActionIconGroup"><div class="appActionIcon" ng-click="airViewPanelCtrl.close()" title="{{\'COMMON_ACTIONS_CLOSE\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></div></div></div></div><div class="unifiPanelItemBody"><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static"><div class="appRow verticalRhythmTop--cozy"><div class="col--xs12"><unifi-air-view-session unifi-air-view-session-device="model"></unifi-air-view-session></div></div></div></div></div>'}},{"pug-runtime":2}],30:[function(e,t,i){"use strict";function r(e,t,i,r,n,o,s,a,l,p,c){this._=e,this.$translate=t,this.airViewColors=i,this.airViewScanUtils=r,this.arrayUtils=n,this.d3=o,this.mathUtils=s,this.AIR_VIEW=a,this.CHART_COLORS=l,this.RADIO_TYPES=p,this.WIFI_CHANNELS=c,this.powerDomain=[this.AIR_VIEW.POWER.MIN_VISIBLE,this.AIR_VIEW.POWER.MAX],this.powerTicks=e.range(this.AIR_VIEW.POWER.MIN,this.AIR_VIEW.POWER.MAX+1,this.AIR_VIEW.POWER.STEP),this.powerTicks.splice(0,1,this.AIR_VIEW.POWER.MIN_VISIBLE),this.data={},this.chartConfigDefaults={color:function(e){return i.color.probability(e.probability)},opacity:function(e){return i.opacity.probability(e.probability)},horizontalGrid:this.powerTicks,xResolution:this.AIR_VIEW.FREQUENCY.RESOLUTION,xTickValues:[],xValue:function(e){return e.centerFrequency},yAxisLegend:this.$translate.instant("AIR_VIEW_SCAN_GRAPH_LABEL_POWER_LEVEL")+" [dBm]",yDomain:this.powerDomain,yResolution:this.AIR_VIEW.POWER.RESOLUTION,yTickValues:this.powerTicks,yValue:function(e){return e.value}}}r.$inject=["_","$translate","airViewColors","airViewScanUtils","arrayUtils","d3","mathUtils","AIR_VIEW","CHART_COLORS","RADIO_TYPES","WIFI_CHANNELS"],r.prototype.$onInit=function(){this.update()},r.prototype.update=function(){this.collectData(),this.updateConfig()},r.prototype.collectData=function(){this.data=this.transformData(this.model&&this.model.get("rssi_histograms")||{})},r.prototype.transformData=function(e){return Object.keys(e).filter(function(e){return this.airViewScanUtils.isFrequencyInRadioTypes(e,this.radioTypes)}.bind(this)).map(function(t){var i=e[t];return this.transformColumn(t,i)}.bind(this))},r.prototype.transformColumn=function(e,t){return this.value===this.AIR_VIEW.VALUE.CUMULATIVE_DISTRIBUTION_FUNCTION&&(t=this.airViewScanUtils.cumulateProbabilities(t)),t=t.reduce(function(e,t,i){return t&&e.push({value:this.airViewScanUtils.getPowerLevelByIndex(i),probability:t}),e}.bind(this),[]),{centerFrequency:parseInt(e)+this.AIR_VIEW.FREQUENCY.RESOLUTION/2,children:t}},r.prototype.updateConfig=function(){var e=this.getFrequencyIntervals(),t=this.getXTickValues(e);this.chartConfig=angular.extend({},this.chartConfigDefaults,{verticalGrid:t,xDomain:this.getXDomain(e),xTickValues:t})},r.prototype.getFrequencyIntervals=function(){var e=(this.data||[]).map(function(e){return{left:e.centerFrequency-this.AIR_VIEW.FREQUENCY.RESOLUTION/2,center:e.centerFrequency,right:e.centerFrequency+this.AIR_VIEW.FREQUENCY.RESOLUTION/2}}.bind(this));return this.arrayUtils.groupByIntervals(e,function(e){return e.left},function(e){return e.right})},r.prototype.getXDomain=function(e){return e.length?e.reduce(function(e,t){return e.push(t[0].left),e.push(t[t.length-1].right),e},[]):[0,1]},r.prototype.getXTickValues=function(e){return e.reduce(function(e,t){return e.push(t[0].left),e.push(t[t.length-1].right),e},[])},angular.module("app-unifi-manage-property-panel").controller("AirViewScanGraphController",r)},{}],31:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiAirViewScanGraph",[function(){return{bindToController:{device:"=unifiAirViewScanGraphDevice",model:"=unifiAirViewScanGraphModel",radioTypes:"=unifiAirViewScanGraphRadioTypes",value:"=unifiAirViewScanGraphValue"},controller:"AirViewScanGraphController",controllerAs:"airViewScanGraphCtrl",template:e("./airViewScanGraph.pug")(),replace:!0,link:function(e,t,i,r){e.$applyAsync(function(){r.update()}),e.$watchGroup(["airViewScanGraphCtrl.model","airViewScanGraphCtrl.radioTypes","airViewScanGraphCtrl.value"],function(){r.update()})}}}])},{"./airViewScanGraph.pug":32}],32:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiAirViewScanGraph"><div class="unifiAirViewScanGraph__chart positionRelative stack"><unifi-cdf-chart unifi-cdf-chart-data="airViewScanGraphCtrl.data" unifi-cdf-chart-config="airViewScanGraphCtrl.chartConfig"></unifi-cdf-chart></div></div>'}},{"pug-runtime":2}],33:[function(e,t,i){"use strict";function r(e){var t=e.color.probability,i=e.opacity.probability;this.chartConfig={color:t,domain:t.domain().slice(),opacity:i,xAxisFormat:function(e){return e+"%"},xTickValues:[t.domain()[0],t.domain()[t.domain().length-1]]}}r.$inject=["airViewColors"],angular.module("app-unifi-manage-property-panel").controller("AirViewScanGraphLegendController",r)},{}],34:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiAirViewScanGraphLegend",[function(){return{bindToController:{},controller:"AirViewScanGraphLegendController",controllerAs:"airViewScanGraphLegendCtrl",template:e("./airViewScanGraphLegend.pug")(),replace:!0}}])},{"./airViewScanGraphLegend.pug":35}],35:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiAirViewScanGraphLegend"><div class="unifiAirViewScanGraphLegend__chart positionRelative stack"><div class="shelfCenter"><unifi-gradient-legend-chart class="horizontalRhythm--cozy" unifi-gradient-legend-chart-config="airViewScanGraphLegendCtrl.chartConfig"></unifi-gradient-legend-chart><div class="appType--nano horizontalRhythm--cozy" translate="AIR_VIEW_SCAN_GRAPH_LABEL_PROBABILITY"></div></div></div></div>'}},{"pug-runtime":2}],36:[function(e,t,i){"use strict";function r(e,t,i,r,n,o,s,a,l,p){this.$translate=e,this.airViewColors=t,this.airViewScanUtils=i,this.arrayUtils=r,this.d3=n,this.mathUtils=o,this.moment=s,this.AIR_VIEW=a,this.CHART_COLORS=l,this.RADIO_TYPES=p,this.displayLast=this.AIR_VIEW.QUEUE_SIZE,this.indexResolution=1,this.data={},this.chartConfigDefaults={bgColor:function(){return t.color.power(this.AIR_VIEW.POWER.MIN)}.bind(this),color:function(e){return t.color.power(e.power)},xResolution:this.AIR_VIEW.FREQUENCY.RESOLUTION,xTickValues:[],xValue:function(e){return e.centerFrequency},yAxisFormat:function(e){var t=this.collection.get(e);return t?Math.abs(s(t.get("timestamp")).diff(s(),"seconds")):0}.bind(this),yAxisLegend:this.$translate.instant("AIR_VIEW_SCANS_GRAPH_LABEL_TIME")+" [s]",yResolution:this.indexResolution,yTickValues:[],yValue:function(e){return e.value}}}r.$inject=["$translate","airViewColors","airViewScanUtils","arrayUtils","d3","mathUtils","moment","AIR_VIEW","CHART_COLORS","RADIO_TYPES"],r.prototype.addEventHandlers=function(){this.collection&&(this.listener=this.collection.onUpdate(this.update.bind(this)))},r.prototype.removeEventHandlers=function(){this.listener&&this.listener.stopListening()},r.prototype.$onInit=function(){this.update()},r.prototype.update=function(){this.collectData(),this.updateConfig()},r.prototype.collectData=function(){this.data=this.transformData(this.collection&&this.collection.models||[])},r.prototype.transformData=function(e){var t=e.reduce(function(e,t){var i=t&&t.get("rssi_histograms")||{};return Object.keys(i).filter(function(e){return this.airViewScanUtils.isFrequencyInRadioTypes(e,this.radioTypes)}.bind(this)).forEach(function(r){var n=i[r];n=this.airViewScanUtils.cumulateProbabilities(n);var o=this.airViewScanUtils.findPowerLevelWithGivenProbability(this.probability,n);e[r]||(e[r]=[]),o>=this.AIR_VIEW.POWER.MIN_VISIBLE&&e[r].push({value:t.id,power:o})}.bind(this)),e}.bind(this),{});return Object.keys(t).map(function(e){return{centerFrequency:parseInt(e)+this.AIR_VIEW.FREQUENCY.RESOLUTION/2,children:t[e]}}.bind(this))},r.prototype.updateConfig=function(){var e=this.getFrequencyIntervals(),t=this.getXTickValues(e),i=this.getYDomain();this.chartConfig=angular.extend({},this.chartConfigDefaults,{bgYRange:this.getBgYRange(),verticalGrid:t,xDomain:this.getXDomain(e),xTickValues:t,yDomain:i,yTickValues:this.getYTickValues(i)})},r.prototype.getFrequencyIntervals=function(){var e=(this.data||[]).map(function(e){return{left:e.centerFrequency-this.AIR_VIEW.FREQUENCY.RESOLUTION/2,center:e.centerFrequency,right:e.centerFrequency+this.AIR_VIEW.FREQUENCY.RESOLUTION/2}}.bind(this));return this.arrayUtils.groupByIntervals(e,function(e){return e.left},function(e){return e.right})},r.prototype.getXDomain=function(e){return e.length?e.reduce(function(e,t){return e.push(t[0].left),e.push(t[t.length-1].right),e},[]):[0,1]},r.prototype.getXTickValues=function(e){return e.reduce(function(e,t){return e.push(t[0].left),e.push(t[t.length-1].right),e},[])},r.prototype.getYDomain=function(){var e=this.getLastScanId()||0,t=Math.max(e+1,this.displayLast);return[t-this.displayLast,t]},r.prototype.getYTickValues=function(e){var t=this.getLastScanId()||0,i=e[0],r=[i];return t>i&&r.push(t+this.indexResolution),r},r.prototype.getBgYRange=function(){var e=this.getLastScanId()||0,t=this.getFirstScanId()||0;return this.collection&&this.collection.size()?[t,e+this.indexResolution]:[]},r.prototype.getLastScanId=function(){return this.collection&&this.collection.size()?this.collection.last().get("id"):null},r.prototype.getFirstScanId=function(){return this.collection&&this.collection.size()?this.collection.first().get("id"):null},angular.module("app-unifi-manage-property-panel").controller("AirViewScansGraphController",r)},{}],37:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiAirViewScansGraph",[function(){return{bindToController:{collection:"=unifiAirViewScansGraphCollection",device:"=unifiAirViewScansGraphDevice",probability:"=unifiAirViewScansGraphProbability",radioTypes:"=unifiAirViewScansGraphRadioTypes"},controller:"AirViewScansGraphController",controllerAs:"airViewScansGraphCtrl",template:e("./airViewScansGraph.pug")(),replace:!0,link:function(e,t,i,r){r.addEventHandlers(),e.$watchGroup(["airViewScansGraphCtrl.collection","airViewScansGraphCtrl.probability","airViewScansGraphCtrl.radioTypes"],function(){r.removeEventHandlers(),r.addEventHandlers(),r.update()}),e.$on("$destroy",function(){r.removeEventHandlers()})}}}])},{"./airViewScansGraph.pug":38}],38:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiAirViewScansGraph"><div class="unifiAirViewScansGraph__chart positionRelative stack"><unifi-cdf-chart unifi-cdf-chart-data="airViewScansGraphCtrl.data" unifi-cdf-chart-config="airViewScansGraphCtrl.chartConfig"></unifi-cdf-chart></div></div>'}},{"pug-runtime":2}],39:[function(e,t,i){"use strict";function r(e){var t=e.color.power;this.chartConfig={color:t,domain:t.domain().slice(),xAxisFormat:function(e){return e+"dBm"},xTickValues:[t.domain()[0],t.domain()[t.domain().length-1]]}}r.$inject=["airViewColors"],angular.module("app-unifi-manage-property-panel").controller("AirViewScansGraphLegendController",r)},{}],40:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiAirViewScansGraphLegend",[function(){return{bindToController:{},controller:"AirViewScansGraphLegendController",controllerAs:"airViewScansGraphLegendCtrl",template:e("./airViewScansGraphLegend.pug")(),replace:!0}}])},{"./airViewScansGraphLegend.pug":41}],41:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiAirViewScansGraphLegend"><div class="unifiAirViewScansGraphLegend__chart positionRelative stack"><div class="shelfCenter"><unifi-gradient-legend-chart class="horizontalRhythm--cozy" unifi-gradient-legend-chart-config="airViewScansGraphLegendCtrl.chartConfig"></unifi-gradient-legend-chart><div class="appType--nano horizontalRhythm--cozy" translate="AIR_VIEW_SCAN_GRAPH_LABEL_POWER_LEVEL_WITH_PROBABILITY"></div></div></div></div>'}},{"pug-runtime":2}],42:[function(e,t,i){"use strict";function r(e,t,i,r,n,o,s,a,l,p,c,d,u){this.$scope=e,this.$timeout=t,this.$translate=i,this.airView=r,this.deviceStateUtils=n,this.directDeviceConnectionUtils=o,this.eventBusService=s,this.heyToasts=a,this.AIR_VIEW=l,this.DEVICE_STATES=p,this.DIRECT_DEVICE_CONNECTION=c,this.DIRECT_DEVICE_CONNECTION_STATES=d,this.RADIO_TYPES=u,this.filters={probability:10,radioTypes:[this.RADIO_TYPES.NA.type],value:l.VALUE.CUMULATIVE_DISTRIBUTION_FUNCTION},this.probabilities=[5,10,15,20,25,50],this.SCAN_VALUES=[this.AIR_VIEW.VALUE.CUMULATIVE_DISTRIBUTION_FUNCTION,this.AIR_VIEW.VALUE.PROBABILITY_DENSITY_FUNCTION]}r.$inject=["$scope","$timeout","$translate","airView","deviceStateUtils","directDeviceConnectionUtils","eventBusService","heyToasts","AIR_VIEW","DEVICE_STATES","DIRECT_DEVICE_CONNECTION","DIRECT_DEVICE_CONNECTION_STATES","RADIO_TYPES"],r.prototype.isEmpty=function(){return!this.collection.size()},r.prototype.isDisconnected=function(){return this.airView.getState(this.device)===this.DIRECT_DEVICE_CONNECTION_STATES.DISCONNECTED},r.prototype.isConnecting=function(){return this.airView.getState(this.device)===this.DIRECT_DEVICE_CONNECTION_STATES.CONNECTING},r.prototype.isWaiting=function(){return this.airView.getState(this.device)===this.DIRECT_DEVICE_CONNECTION_STATES.WAITING},r.prototype.isScanning=function(){return this.airView.getState(this.device)===this.DIRECT_DEVICE_CONNECTION_STATES.SCANNING},r.prototype.isWaitingForScan=function(){return this.isWaiting()||this.isEmpty()&&this.isScanning()},r.prototype.startScan=function(){var e=this.eventBusService.obtainEventBusService(this.device.id);this.airView.startScan(e,this.device).catch(function(){this.heyToasts.pushError(this.$translate.instant("AIR_VIEW_SESSION_CONNECTION_ERROR"))}.bind(this))},r.prototype.stopScan=function(){this.airView.stopScan(this.device)},r.prototype.clearScans=function(){this.airView.clearScans(this.device),this.update()},r.prototype.closeConnection=function(){this.airView.closeConnection(this.device)},r.prototype.update=function(){this.updateCollection(),this.updateModel()},r.prototype.updateCollection=function(){this.removeEventHandlers(),this.collection=this.airView.getCollection(this.device),this.selectedScanId=void 0,this.addEventHandlers()},r.prototype.addEventHandlers=function(){this.collection&&(this.listener=this.collection.on("add",function(){this.$scope.$applyAsync(function(){this.updateModel()}.bind(this))}.bind(this)))},r.prototype.removeEventHandlers=function(){this.listener&&this.listener.stopListening()},r.prototype.updateModel=function(){this.selectedScanId=this.collection.models.length?this.collection.models.length-1:void 0,this.model=this.collection.models[this.selectedScanId]},r.prototype.isBrowserSupported=function(){return this.directDeviceConnectionUtils.isBrowserSupported()},r.prototype.isFeatureAvailable=function(){return!!this.device&&this.deviceStateUtils.isDeviceConnected(this.device)&&!this.deviceStateUtils.isDeviceDisabled(this.device)},r.prototype.isScanAvailable=function(){return this.isBrowserSupported()&&this.isFeatureAvailable()},r.prototype.isScanGraphVisible=function(){return this.SCAN_VALUES.includes(this.filters.value)},r.prototype.isScansGraphVisible=function(){return this.filters.value===this.AIR_VIEW.VALUE.WATERFALL},r.prototype.toggleRadioTypesFilter=function(e){this.filters.radioTypes.includes(e)?this.filters.radioTypes.length>1&&(this.filters.radioTypes=this.filters.radioTypes.filter(function(t){return t!==e})):this.filters.radioTypes=this.filters.radioTypes.concat([e])},r.prototype.isRfScanning=function(){return!!this.device&&this.deviceStateUtils.getDeviceState(this.device)===this.DEVICE_STATES.RFSCANNING},angular.module("app-unifi-manage-property-panel").controller("AirViewSessionController",r)},{}],43:[function(e,t,i){"use strict";var r=window.webrtc.WEBRTC_EVENTS;angular.module("app-unifi-manage-property-panel").directive("unifiAirViewSession",[function(){return{bindToController:{device:"=unifiAirViewSessionDevice"},controller:"AirViewSessionController",controllerAs:"airViewSessionCtrl",replace:!0,template:e("./airViewSession.pug")(),link:function(e,t,i,n){e.directiveId=e.$id,n.update(),e.$watch("airViewSessionCtrl.radioType",function(){n.update()}),e.$on(r.WEBRTC_DISCONNECTED,function(){n.closeConnection()}),e.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./airViewSession.pug":44}],44:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiAirViewSession"><div class="appInfoBox appInfoBox--danger appInfoBox--cozy appInfoBox--noBorder" ng-if="!airViewSessionCtrl.isBrowserSupported()"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="COMMON_WARNING_FEATURE_UNSUPPORTED_BY_BROWSER" translate-values="{            feature: (\'AIR_VIEW_LABEL\' | translate),            browsers: airViewSessionCtrl.DIRECT_DEVICE_CONNECTION.SUPPORTED_BROWSERS.join(\', \')          }"></p></div></div></div><div class="appInfoBox appInfoBox--danger appInfoBox--cozy appInfoBox--noBorder" ng-if="airViewSessionCtrl.isBrowserSupported() &amp;&amp; !airViewSessionCtrl.isFeatureAvailable()"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="AIR_VIEW_SESSION_WARNING_FEATURE_UNAVAILABLE"></p></div></div></div><div class="appInfoBox appInfoBox--danger appInfoBox--cozy appInfoBox--noBorder" ng-if="airViewSessionCtrl.isBrowserSupported() &amp;&amp; airViewSessionCtrl.isFeatureAvailable() &amp;&amp; airViewSessionCtrl.isRfScanning()"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="AIR_VIEW_SESSION_WARNING_RF_SCANNING"></p></div></div></div><div class="unifiAirViewSession__body" ng-if="airViewSessionCtrl.isBrowserSupported() &amp;&amp; airViewSessionCtrl.isFeatureAvailable() &amp;&amp; !airViewSessionCtrl.isRfScanning()"><section><div class="appRow appRow--comfy"><div class="col--xs9"><div class="appActionBarFilters appActionBarFilters--left"><div class="appActionBarFilter appActionBarFilter--noBorder"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter noMarginBottom"><li class="button appMainButton appMainButton--cozy" ng-class="{\'is-button-selected\': airViewSessionCtrl.filters.radioTypes.includes(airViewSessionCtrl.RADIO_TYPES.NG.type)}" ng-click="airViewSessionCtrl.toggleRadioTypesFilter(airViewSessionCtrl.RADIO_TYPES.NG.type)">{{ \'AIR_VIEW_LABEL_RADIO_NG\' | translate }}</li><li class="button appMainButton appMainButton--cozy" ng-class="{\'is-button-selected\': airViewSessionCtrl.filters.radioTypes.includes(airViewSessionCtrl.RADIO_TYPES.NA.type)}" ng-click="airViewSessionCtrl.toggleRadioTypesFilter(airViewSessionCtrl.RADIO_TYPES.NA.type)">{{ \'AIR_VIEW_LABEL_RADIO_NA\' | translate }}</li></ul></div><div class="appActionBarFilter appActionBarFilter--noBorder"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter noMarginBottom"><li class="button appMainButton appMainButton--cozy" ng-class="{\'is-button-selected\': airViewSessionCtrl.filters.value === airViewSessionCtrl.AIR_VIEW.VALUE.CUMULATIVE_DISTRIBUTION_FUNCTION}" ng-click="airViewSessionCtrl.filters.value = airViewSessionCtrl.AIR_VIEW.VALUE.CUMULATIVE_DISTRIBUTION_FUNCTION">{{ \'AIR_VIEW_LABEL_CUMULATIVE\' | translate }}</li><li class="button appMainButton appMainButton--cozy" ng-if="\'isRegularGraphForAirViewEnabled\' | preferences" ng-class="{\'is-button-selected\': airViewSessionCtrl.filters.value === airViewSessionCtrl.AIR_VIEW.VALUE.PROBABILITY_DENSITY_FUNCTION}" ng-click="airViewSessionCtrl.filters.value = airViewSessionCtrl.AIR_VIEW.VALUE.PROBABILITY_DENSITY_FUNCTION">{{ \'AIR_VIEW_LABEL_REGULAR\' | translate }}</li><li class="button appMainButton appMainButton--cozy" ng-class="{\'is-button-selected\': airViewSessionCtrl.filters.value === airViewSessionCtrl.AIR_VIEW.VALUE.WATERFALL}" ng-click="airViewSessionCtrl.filters.value = airViewSessionCtrl.AIR_VIEW.VALUE.WATERFALL">{{ \'AIR_VIEW_LABEL_WATERFALL\' | translate }}</li></ul></div></div></div><div class="col--xs3"><div class="appActionBarFilters appActionBarFilters--right"><div class="appActionBarFilter appActionBarFilter--noBorder"><button class="appMainButton appMainButton--primary appMainButton--cozy" busy-toggle="airViewSessionCtrl.isConnecting()" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-if="airViewSessionCtrl.isDisconnected() || airViewSessionCtrl.isConnecting()" ng-click="airViewSessionCtrl.startScan()">{{ \'AIR_VIEW_ACTION_START\' | translate }}</button><button class="appMainButton appMainButton--primary appMainButton--cozy" ng-if="airViewSessionCtrl.isWaiting() || airViewSessionCtrl.isScanning()" ng-click="airViewSessionCtrl.stopScan()">{{ \'AIR_VIEW_ACTION_STOP\' | translate }}</button></div></div></div></div></section><section ng-if="airViewSessionCtrl.isScanAvailable() &amp;&amp; airViewSessionCtrl.isScanGraphVisible()"><div class="appRow appRow--cozy"><div class="col--xs12"><div class="unifiAirViewSession__scan"><unifi-air-view-scan-graph unifi-air-view-scan-graph-device="::airViewSessionCtrl.device" unifi-air-view-scan-graph-model="airViewSessionCtrl.model" unifi-air-view-scan-graph-radio-types="airViewSessionCtrl.filters.radioTypes" unifi-air-view-scan-graph-value="airViewSessionCtrl.filters.value"></unifi-air-view-scan-graph><div class="positionCenter fullHeight frame" ng-if="airViewSessionCtrl.isEmpty()"><div class="appLink clickable alignCenter" ng-if="airViewSessionCtrl.isDisconnected()" ng-click="airViewSessionCtrl.startScan()"><div class="icon icon--fa icon--large appIcon fa fa-play-circle"></div><div class="uppercase verticalRhythmTop--cozy" translate="AIR_VIEW_ACTION_START"></div></div><div class="appType--quiet verticalRhythmTop--cozy" ng-if="airViewSessionCtrl.isConnecting()">{{ \'AIR_VIEW_SESSION_STATUS_LABEL_CONNECTING\' | translate }}</div><div class="appType--quiet verticalRhythmTop--cozy" ng-if="airViewSessionCtrl.isWaitingForScan()">{{ \'AIR_VIEW_SESSION_STATUS_LABEL_WAITING\' | translate }}</div></div></div></div></div><div class="appRow appRow--comfy"><div class="col--12 frame"><div class="unifiAirViewSession__scanLegend"><unifi-air-view-scan-graph-legend></unifi-air-view-scan-graph-legend></div></div></div></section><section ng-if="airViewSessionCtrl.isScanAvailable() &amp;&amp; airViewSessionCtrl.isScansGraphVisible()"><div class="appRow appRow--cozy"><div class="col--xs12"><div class="unifiAirViewSession__scans"><unifi-air-view-scans-graph unifi-air-view-scans-graph-collection="airViewSessionCtrl.collection" unifi-air-view-scans-graph-device="::airViewSessionCtrl.device" unifi-air-view-scans-graph-probability="airViewSessionCtrl.filters.probability" unifi-air-view-scans-graph-radio-types="airViewSessionCtrl.filters.radioTypes"></unifi-air-view-scans-graph><div class="positionCenter fullHeight frame" ng-if="airViewSessionCtrl.isEmpty()"><div class="appLink clickable alignCenter" ng-if="airViewSessionCtrl.isDisconnected()" ng-click="airViewSessionCtrl.startScan()"><div class="icon icon--fa icon--large appIcon fa fa-play-circle"></div><div class="uppercase verticalRhythmTop--cozy" translate="AIR_VIEW_ACTION_START"></div></div><div class="appType--quiet verticalRhythmTop--cozy" ng-if="airViewSessionCtrl.isConnecting()">{{ \'AIR_VIEW_SESSION_STATUS_LABEL_CONNECTING\' | translate }}</div><div class="appType--quiet verticalRhythmTop--cozy" ng-if="airViewSessionCtrl.isWaitingForScan()">{{ \'AIR_VIEW_SESSION_STATUS_LABEL_WAITING\' | translate }}</div></div></div></div></div><div class="appRow appRow--comfy appForm--cozy"><div class="col--12 frame"><div class="shelfCenter"><div class="unifiAirViewSession__scansLegend"><unifi-air-view-scans-graph-legend></unifi-air-view-scans-graph-legend></div><select ng-options="probability as probability + \'%\' for probability in airViewSessionCtrl.probabilities" ng-model="airViewSessionCtrl.filters.probability"></select></div></div></div><div class="appRow"><div class="col--xs12"><div class="appActionBarFilters appActionBarFilters--right"><div class="appActionBarFilter appActionBarFilter--noBorder"><button class="appMainButton appMainButton--transparent appMainButton--cozy" ng-disabled="airViewSessionCtrl.isEmpty()" ng-click="airViewSessionCtrl.clearScans()"><span>{{ \'AIR_VIEW_ACTION_CLEAR_ALL\' | translate }}</span></button></div></div></div></div></section></div></div>'}},{"pug-runtime":2}],45:[function(e,t,i){"use strict";var r=e("../../controllers/BasePropertiesController");function n(e,t,i,n,o,s,a,l,p,c,d,u,g,f,h,m,v,C,P,_,E){o(this),this.deviceFeatureUtils=s,this.deviceRadioUtils=a,this.devices=l,this.deviceStateUtils=p,this.deviceUplinkUtils=c,this.networks=u,this.repositoryUtils=f,this.rfEnvironment=h,this.settings=m,this.system=v,this.tags=C,this.wirelessNetworkGroups=P,this.wirelessNetworks=_,this.DEVICE_STATES=E,this.isSaveQueued=!0,this.initChange=!0,this.accordions={details:{overview:!0},configure:{general:!0}},this.validators={warnings:void 0},this.repositories=["networks","system","tags","wirelessNetworkGroups","wirelessNetworks"],r.call(this,e,t,i,g,n,d)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.resolve=function(){return this.repositoryUtils.registerAndFetchGroup(this.repositories)},n.prototype.destroy=function(){this.repositoryUtils.unregisterGroup(this.repositories)},n.prototype.reset=function(){this.deviceState=void 0,this.deviceStatus=void 0,this.uplinkAttrs={},this.showChannelUtilizationDiagram=!1,this.tabsVisibility={clients:!1,configure:!1,tools:!1,stats:!0,adopt:!1,alerts:!1},this.showBandSteeringAccordion=!1,this.showRadioAccordion=!1,this.showUplinksAccordion=!1,this.showWlansAccordion=!1,this.showTerminalAccordion=!1,this.showRfEnvironmentAccordion=!1,this.showAirTimeAccordion=!1,this.showAirViewAccordion=!1,this.showCancelMigrateAccordion=!1},n.prototype.onModelChange=function(){this.persistAdoptTab=this.tabsVisibility.adopt&&this.deviceStateUtils.getRawDeviceState(this.model)===this.DEVICE_STATES.ADOPTING,this.reset(),this.model&&(this.deviceState=this.deviceStateUtils.getDeviceState(this.model),this.deviceStatus=this.deviceStateUtils.getDeviceStatus(this.model),this.uplinkAttrs=this.deviceUplinkUtils.getUplinkAttrs(this.model),this.showChannelUtilizationDiagram=this.deviceRadioUtils.isChannelUtilizationDiagramAvailable(this.model),this.showBandSteeringAccordion=this.deviceRadioUtils.hasRadioType(this.model,"na")&&this.deviceRadioUtils.hasRadioType(this.model,"ng"),this.showRadioAccordion="success"===this.deviceStatus,this.showUplinksAccordion=this.settings.getSettingValueFromKey("connectivity","enabled"),this.showWlansAccordion=this.deviceFeatureUtils.isVapTableAvailable(this.model),this.showTerminalAccordion=this.deviceFeatureUtils.isTerminalSupported(this.model)&&-1!==[this.DEVICE_STATES.PROVISIONING,this.DEVICE_STATES.CONNECTED,this.DEVICE_STATES.RFSCANNING].indexOf(this.deviceState),this.showRfEnvironmentAccordion=this.rfEnvironment.isAvailable(this.model),this.showAirTimeAccordion=this.deviceFeatureUtils.isAirTimeSupported(this.model)&&this.deviceStateUtils.isDeviceConnected(this.model),this.showAirViewAccordion=this.deviceFeatureUtils.isAirViewSupported(this.model)&&this.deviceStateUtils.isDeviceConnected(this.model),this.showEliteAccordion=this.model.isElite(),this.tabsVisibility.clients="success"===this.deviceStatus,this.tabsVisibility.configure=this.model.get("adopted"),this.tabsVisibility.tools="success"===this.deviceStatus&&(this.showRfEnvironmentAccordion||this.showAirTimeAccordion||this.showAirViewAccordion||this.showTerminalAccordion),this.tabsVisibility.adopt=this.persistAdoptTab||this.deviceState===this.DEVICE_STATES.ADOPTION_FAILED||this.deviceState===this.DEVICE_STATES.MANAGED_BY_OTHER,this.tabsVisibility.alerts=this.deviceStateUtils.hasWarnings(this.model),this.showCancelMigrateAccordion=!!this.deviceStateUtils.isMigrated(this.model),this.initChange&&this.showEliteAccordion&&this.deviceState===this.DEVICE_STATES.DISCONNECTED&&(this.initChange=!1,this.accordions.details={elite:!0}),this.checkActiveTab())},n.$inject=["$q","$timeout","$translate","account","activeTabControllerMixin","deviceFeatureUtils","deviceRadioUtils","devices","deviceStateUtils","deviceUplinkUtils","frame","networks","propertyPanel","repositoryUtils","rfEnvironment","settings","system","tags","wirelessNetworkGroups","wirelessNetworks","DEVICE_STATES"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesController",n)},{"../../controllers/BasePropertiesController":303}],46:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApProperties",["updateModelDirectiveMixin","devicePropertiesPendingActionsDirectiveMixin",function(t,i){return{scope:{model:"=unifiApProperties"},controller:"ApPropertiesController",controllerAs:"apPropertiesCtrl",template:e("./apProperties.pug")(),link:function(e,r,n,o){e.$on("$destroy",function(){o.destroy(),o.removeEventHandlers()}),t.init(e,r,n,o,!0),i.init(e,r,n,o)}}}])},{"./apProperties.pug":47}],47:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiPanelItem apProperties" ng-class="{\'is-collapsed\': apPropertiesCtrl.isCollapsed()}" ng-if="apPropertiesCtrl.model"><unifi-loading-status unifi-loading-status-is-loading="apPropertiesCtrl.isLoading" unifi-loading-status-failed="apPropertiesCtrl.failedToLoad" unifi-loading-status-retry="apPropertiesCtrl.init()"></unifi-loading-status><div class="unifiPanelItemHeader"><div class="unifiPanelItemHeader__collapseToggle"><div class="appActionIcon" ng-click="apPropertiesCtrl.toggleCollapsed()"><span class="button__icon icon" ng-class="{            \'unifi-icon--default-collapse\': !apPropertiesCtrl.isCollapsed(),            \'unifi-icon--default-expand\': apPropertiesCtrl.isCollapsed()          }"></span></div></div><div class="unifiPanelItemHeader__avatar"><div unifi-device-icon="::apPropertiesCtrl.model"></div></div><div class="unifiPanelItemHeader__title"><span unifi-device-status="::apPropertiesCtrl.model" unifi-device-status-is-cozy="true" unifi-device-status-is-truncated="true" unifi-device-status-with-icons="true" unifi-device-status-label="::apPropertiesCtrl.model.getDisplayName()"></span><div class="unifiPanelItemHeader__status"><span unifi-device-status-badge="::apPropertiesCtrl.model"></span></div></div><div class="unifiPanelItemHeader__actions"><div class="appActionIconGroup"><div class="appActionIcon appActionIcon--primary appActionIcon--reverse appActionIcon--round" unifi-device-button-adopt="::apPropertiesCtrl.model" unifi-device-button-adopt-collection="::apPropertiesCtrl.devices.repository.collection" unifi-device-button-adopt-is-reverse="true"></div><div class="appActionIcon" unifi-device-button-restart="::apPropertiesCtrl.model"></div><div class="appActionIcon" unifi-device-button-locate="::apPropertiesCtrl.model" unifi-device-button-locate-with-map="true"></div><div class="appActionIcon" unifi-device-button-upgrade="::apPropertiesCtrl.model"></div><div class="appActionIcon visible--mdUp" ng-click="apPropertiesCtrl.toggleUndocked()" title="{{apPropertiesCtrl.isUndocked() ? \'COMMON_PROPERTY_PANEL_ITEM_DOCK\' : \'COMMON_PROPERTY_PANEL_ITEM_UNDOCK\' | translate}}"><span class="button__icon icon" ng-class="{              \'ubnt-icon--header-maximize\': !apPropertiesCtrl.isUndocked(),              \'ubnt-icon--header-minimize\': apPropertiesCtrl.isUndocked()            }"></span></div><div class="appActionIcon removePanelItem" ng-click="apPropertiesCtrl.removePanel()" title="{{\'COMMON_PROPERTY_PANEL_ITEM_REMOVE\' | translate}}"><span class="button__icon icon unifi-icon--default-close"></span></div></div></div></div><div class="unifiPanelItemBody"><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static verticalRhythmTop--cozy" ng-if="apPropertiesCtrl.showChannelUtilizationDiagram"><unifi-ap-properties-channel-utilization unifi-ap-properties-channel-utilization-model="::apPropertiesCtrl.model"></unifi-ap-properties-channel-utilization></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static"><ul class="appTabs appTabs--compressed appTabs--alignLeft"><li class="tabs__item details" ng-click="apPropertiesCtrl.setActiveTab(\'details\')" ng-class="{            \'is-tab-selected\': apPropertiesCtrl.getActiveTab() === \'details\',            \'is-tab-loading\': apPropertiesCtrl.loadingTab === \'details\'          }" translate="DEVICE_PROPERTIES_TAB_DETAILS"></li><li class="tabs__item users" ng-if="apPropertiesCtrl.tabsVisibility[\'clients\']" ng-click="apPropertiesCtrl.setActiveTab(\'clients\')" ng-class="{            \'is-tab-selected\': apPropertiesCtrl.getActiveTab() === \'clients\',            \'is-tab-loading\': apPropertiesCtrl.loadingTab === \'clients\'          }" translate="DEVICE_PROPERTIES_TAB_CLIENTS"></li><li class="tabs__item configure" ng-if="apPropertiesCtrl.tabsVisibility[\'configure\']" ng-click="apPropertiesCtrl.setActiveTab(\'configure\')" ng-class="{            \'is-tab-selected\': apPropertiesCtrl.getActiveTab() === \'configure\',            \'is-tab-loading\': apPropertiesCtrl.loadingTab === \'configure\'          }" translate="DEVICE_PROPERTIES_TAB_CONFIGURATION"></li><li class="tabs__item tools" ng-if="apPropertiesCtrl.tabsVisibility[\'tools\']" ng-click="apPropertiesCtrl.setActiveTab(\'tools\')" ng-class="{            \'is-tab-selected\': apPropertiesCtrl.getActiveTab() === \'tools\',            \'is-tab-loading\': apPropertiesCtrl.loadingTab === \'tools\'          }" translate="DEVICE_PROPERTIES_TAB_TOOLS"></li><li class="tabs__item stats" ng-click="apPropertiesCtrl.setActiveTab(\'stats\')" ng-class="{            \'is-tab-selected\': apPropertiesCtrl.getActiveTab() === \'stats\',            \'is-tab-loading\': apPropertiesCtrl.loadingTab === \'stats\'          }" translate="DEVICE_PROPERTIES_TAB_STATS"></li><li class="tabs__item adopt"'+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"apPropertiesCtrl.tabsVisibility['adopt']\" ng-click=\"apPropertiesCtrl.setActiveTab('adopt')\" ng-class=\"{            'is-tab-selected': apPropertiesCtrl.getActiveTab() === 'adopt',            'is-tab-loading': apPropertiesCtrl.loadingTab === 'adopt'          }\" translate=\"DEVICE_PROPERTIES_TAB_ADOPT\"></li><li class=\"tabs__item alerts\""+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"apPropertiesCtrl.tabsVisibility['alerts']\" ng-click=\"apPropertiesCtrl.setActiveTab('alerts')\" ng-class=\"{            'is-tab-selected': apPropertiesCtrl.getActiveTab() === 'alerts',            'is-tab-loading': apPropertiesCtrl.loadingTab === 'alerts'          }\" translate=\"DEVICE_PROPERTIES_TAB_ALERTS\"></li></ul></div><div class=\"unifiPanelItemBodySection unifiPanelItemBodySection--flexible\"><div class=\"unifiPanelItemContent\"><div class=\"apPropertiesDetails\" ng-if=\"apPropertiesCtrl.isTabAvailable('details') &amp;&amp; apPropertiesCtrl.getActiveTab() === 'details'\""+r("unifi-ap-properties-details",!0,!0,!0)+"></div><div class=\"apPropertiesUsers\" ng-if=\"apPropertiesCtrl.tabsVisibility['clients'] &amp;&amp; apPropertiesCtrl.isTabAvailable('clients') &amp;&amp; apPropertiesCtrl.getActiveTab() === 'clients'\"><unifi-device-properties-client-list unifi-device-properties-client-list-local-state=\"true\" unifi-device-properties-client-list-local-state-key=\"::apPropertiesCtrl.model.get('mac') + '|clients'\" unifi-device-properties-client-list-device=\"::apPropertiesCtrl.model\"></unifi-device-properties-client-list></div><div class=\"apPropertiesConfigure\" ng-if=\"apPropertiesCtrl.tabsVisibility['configure'] &amp;&amp; apPropertiesCtrl.isTabAvailable('configure')\" ng-show=\"apPropertiesCtrl.getActiveTab() === 'configure'\""+r("unifi-ap-properties-configure",!0,!0,!0)+"></div><div class=\"apPropertiesTools\" ng-if=\"apPropertiesCtrl.tabsVisibility['tools'] &amp;&amp; apPropertiesCtrl.isTabAvailable('tools') &amp;&amp; apPropertiesCtrl.getActiveTab() === 'tools'\""+r("unifi-ap-properties-tools",!0,!0,!0)+'></div><div class="apPropertiesStats" ng-if="apPropertiesCtrl.tabsVisibility[\'stats\'] &amp;&amp; apPropertiesCtrl.isTabAvailable(\'stats\') &amp;&amp; apPropertiesCtrl.getActiveTab() === \'stats\'"><unifi-device-properties-performance class="unifiPanelItemContent__section" unifi-device-properties-performance-model="::apPropertiesCtrl.model"></unifi-device-properties-performance></div><div class="apPropertiesAdopt"'+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="apPropertiesCtrl.tabsVisibility[\'adopt\'] &amp;&amp; apPropertiesCtrl.isTabAvailable(\'adopt\')" ng-show="apPropertiesCtrl.getActiveTab() === \'adopt\'" unifi-device-properties-adopt="::apPropertiesCtrl.model"></div><div class="apPropertiesAlerts"'+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="apPropertiesCtrl.tabsVisibility[\'alerts\'] &amp;&amp; apPropertiesCtrl.isTabAvailable(\'alerts\')" ng-show="apPropertiesCtrl.getActiveTab() === \'alerts\'" unifi-device-properties-alerts="::apPropertiesCtrl.model"></div></div></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static unifiPanelItemBodySection--pending"><unifi-pending-changes-list unifi-pending-changes-list-model="::apPropertiesCtrl.model" unifi-pending-changes-list-save="applyPendingChanges(model)"></unifi-pending-changes-list></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],48:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t){this.windowPanels=e,this.WINDOW_PANEL_GROUPS=t,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.openWindow=function(){this.windowPanels.openWindow(this.WINDOW_PANEL_GROUPS.AIR_TIME,this.model)},n.prototype.onModelChange=function(){},n.$inject=["windowPanels","WINDOW_PANEL_GROUPS"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesAirTimeController",n)},{}],49:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesAirTime",[function(){return{bindToController:{model:"=unifiApPropertiesAirTimeModel"},controller:"ApPropertiesAirTimeController",controllerAs:"apPropertiesAirTimeCtrl",replace:!0,template:e("./apPropertiesAirTime.pug")()}}])},{"./apPropertiesAirTime.pug":50}],50:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiAirTimeProperties"><div class="unifiPanelItemContentSection__titleActions"><div class="appActionIconGroup"><div class="appActionIcon appActionIcon--primary"><div class="button__icon icon ubnt-icon--header-minimize" ng-click="apPropertiesAirTimeCtrl.openWindow()"></div></div></div></div><unifi-air-time-session unifi-air-time-session-device="apPropertiesAirTimeCtrl.model"></unifi-air-time-session></div>'}},{"pug-runtime":2}],51:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t){this.windowPanels=e,this.WINDOW_PANEL_GROUPS=t,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.openWindow=function(){this.windowPanels.openWindow(this.WINDOW_PANEL_GROUPS.AIR_VIEW,this.model)},n.prototype.onModelChange=function(){},n.$inject=["windowPanels","WINDOW_PANEL_GROUPS"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesAirViewController",n)},{}],52:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesAirView",[function(){return{bindToController:{model:"=unifiApPropertiesAirViewModel"},controller:"ApPropertiesAirViewController",controllerAs:"apPropertiesAirViewCtrl",replace:!0,template:e("./apPropertiesAirView.pug")()}}])},{"./apPropertiesAirView.pug":53}],53:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiAirViewProperties"><div class="unifiPanelItemContentSection__titleActions"><div class="appActionIconGroup"><div class="appActionIcon appActionIcon--primary"><div class="button__icon icon ubnt-icon--header-minimize" ng-click="apPropertiesAirViewCtrl.openWindow()"></div></div></div></div><unifi-air-view-session unifi-air-view-session-device="model"></unifi-air-view-session></div>'}},{"pug-runtime":2}],54:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();var n=lazyRequire.get("BasePanelItemController");angular.module("app-unifi-manage-property-panel").controller("ApPropertiesBatchController",["$q","$timeout","$translate","propertyPanel","repositoryUtils","frame",function(e,t,i,o,s,a){return new(function(l){function p(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e,t,o));return i.isSaveQueued=!0,i.accordions={},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,n),r(p,[{key:"resolve",value:function(){return s.register("devices"),e.when()}},{key:"destroy",value:function(){this.batchModel&&(this.batchModel.get("destination").reset(),this.batchModel.get("source").clearPendingChanges()),s.unregister("devices")}},{key:"updateBatchModel",value:function(e){this.batchModel=e,this.updateModel(e)}},{key:"updateModel",value:function(e){this.initSourceDefaults(e),function e(t,i,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,i);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,i,r)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(r):void 0}(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"updateModel",this).call(this,e?e.get("source"):void 0)}},{key:"initSourceDefaults",value:function(e){var t=e&&e.get("source"),i=e&&e.get("destination"),r={wifi0:{min_txpower:void 0,max_txpower:void 0},wifi1:{min_txpower:void 0,max_txpower:void 0}};i&&i.forEach(function(e){(e.get("radio_table")||[]).forEach(function(e){var t=e.get("name"),i=e.get("min_txpower"),n=e.get("max_txpower");t&&(r[t].min_txpower=void 0===r[t].min_txpower?i:Math.max(r[t].min_txpower,i),r[t].max_txpower=void 0===r[t].max_txpower?n:Math.min(r[t].max_txpower,n))})}),t&&t.set(t.parse(angular.extend(t.toJSON(),{type:"uap",radio_table:[{radio:"ng",name:"wifi0",min_txpower:r.wifi0.min_txpower,max_txpower:r.wifi0.max_txpower},{radio:"na",name:"wifi1",min_txpower:r.wifi1.min_txpower,max_txpower:r.wifi1.max_txpower}]})))}},{key:"getPanelModel",value:function(){return this.batchModel}},{key:"getDeviceCount",value:function(){return this.batchModel?this.batchModel.get("destination").length:0}},{key:"getErrorCount",value:function(){return this.batchModel?(this.batchModel.get("error")||[]).length:0}},{key:"removePanel",value:function(){var t=this,r=this.getPanelModel();return r?(this.isSaveQueued&&this.model.hasPendingChanges()?a.show("confirm",{title:function(){return i.instant("DEVICE_PROPERTIES_PENDING_CHANGES_FORGET_CONFIRM_TITLE")},message:function(){return i.instant("DEVICE_PROPERTIES_PENDING_CHANGES_FORGET_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return t.model.clearPendingChanges(),t.model.unset("success"),t.model.unset("error"),e.when()}):e.when()).then(function(){o.removeItem(r)}):e.reject()}},{key:"someAreMigrated",value:function(){return this.batchModel&&this.batchModel.hasDestinationAttrValue("migrate_inform_url",function(e){return!!e})}}]),p}())}])},{}],55:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesBatch",["devicePropertiesPendingActionsDirectiveMixin","deviceBatchUtils","heyToasts",function(t,i,r){return{scope:{batchModel:"=unifiApPropertiesBatch"},controller:"ApPropertiesBatchController",controllerAs:"apPropertiesBatchCtrl",template:e("./apPropertiesBatch.pug")(),link:function(e,n,o,s){e.$watch("batchModel",function(e){s.updateBatchModel(e)}),e.$watch(function(){return s.getDeviceCount()},function(e){0===e&&s.setActiveTab("batch")}),e.$watch(function(){return s.showWarningsTab},function(e){e||"warnings"!==s.getActiveTab()||s.setActiveTab("batch")}),e.$watch(function(){return s.getErrorCount()},function(t){e.showErrors=t>0}),e.$on("$destroy",function(){s.destroy(),s.removeEventHandlers()}),t.init(e,n,o,s),e.applyPendingChanges=function(){return i.savePendingChanges(e.batchModel,{wait:!0}).then(function(t){(e.batchModel.get("error")||[]).length?r.pushWarning(t):r.pushSuccess(t)}).catch(function(e){r.pushError(e)})}}}}])},{"./apPropertiesBatch.pug":56}],56:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiPanelItem apPropertiesBatch" ng-class="{\'is-collapsed\': apPropertiesBatchCtrl.isCollapsed()}"><div class="unifiPanelItemHeader"><div class="unifiPanelItemHeader__collapseToggle"><div class="appActionIcon" ng-click="apPropertiesBatchCtrl.toggleCollapsed()"><span class="button__icon icon" ng-class="{            \'unifi-icon--default-collapse\': !apPropertiesBatchCtrl.isCollapsed(),            \'unifi-icon--default-expand\': apPropertiesBatchCtrl.isCollapsed()          }"></span></div></div><div class="unifiPanelItemHeader__avatar"><div unifi-batch-device-icon="apPropertiesBatchCtrl.batchModel"></div></div><div class="unifiPanelItemHeader__title"><div class="horizontalRhythmLeft--cozy">{{apPropertiesBatchCtrl.batchModel.getDisplayName()}}</div></div><div class="unifiPanelItemHeader__actions"><div class="appActionIconGroup"><div class="appActionIcon" ng-if="apPropertiesBatchCtrl.getDeviceCount() &gt; 0" unifi-device-button-restart="::apPropertiesBatchCtrl.batchModel" unifi-device-button-restart-is-batch="true"></div><div class="appActionIcon visible--mdUp" ng-click="apPropertiesBatchCtrl.toggleUndocked()" title="{{apPropertiesBatchCtrl.isUndocked() ? \'COMMON_PROPERTY_PANEL_ITEM_DOCK\' : \'COMMON_PROPERTY_PANEL_ITEM_UNDOCK\' | translate}}"><span class="button__icon icon" ng-class="{              \'ubnt-icon--header-maximize\': !apPropertiesBatchCtrl.isUndocked(),              \'ubnt-icon--header-minimize\': apPropertiesBatchCtrl.isUndocked()            }"></span></div><div class="appActionIcon removePanelItem" ng-click="apPropertiesBatchCtrl.removePanel()" title="{{\'COMMON_PROPERTY_PANEL_ITEM_REMOVE\' | translate}}"><span class="button__icon icon unifi-icon--default-close"></span></div></div></div></div><div class="unifiPanelItemBody" ng-if="showErrors" unifi-device-properties-batch-error="apPropertiesBatchCtrl.batchModel"></div><div class="unifiPanelItemBody" ng-hide="showErrors"><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static"><ul class="appTabs appTabs--compressed appTabs--alignLeft"><li class="tabs__item batch" ng-click="apPropertiesBatchCtrl.setActiveTab(\'batch\')" ng-class="{            \'is-tab-selected\': apPropertiesBatchCtrl.getActiveTab() === \'batch\',            \'is-tab-loading\': apPropertiesBatchCtrl.loadingTab === \'batch\'          }" translate="DEVICE_PROPERTIES_TAB_DEVICES"></li><li class="tabs__item configure" ng-if="apPropertiesBatchCtrl.getDeviceCount() &gt; 0" ng-click="apPropertiesBatchCtrl.setActiveTab(\'configure\')" ng-class="{            \'is-tab-selected\': apPropertiesBatchCtrl.getActiveTab() === \'configure\',            \'is-tab-loading\': apPropertiesBatchCtrl.loadingTab === \'configure\'          }" translate="DEVICE_PROPERTIES_TAB_CONFIGURATION"></li><li class="tabs__item warnings" ng-if="apPropertiesBatchCtrl.showWarningsTab" ng-click="apPropertiesBatchCtrl.setActiveTab(\'warnings\')" ng-class="{            \'is-tab-selected\': apPropertiesBatchCtrl.getActiveTab() === \'warnings\'          }" translate="DEVICE_PROPERTIES_TAB_WARNINGS"></li></ul></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--flexible"><div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--warning verticalRhythm--cozy verticalRhythmTop--cozy" ng-if="apPropertiesBatchCtrl.showWarningsTab" ng-class="{\'is-app-info-box-collapsed\': !isInfoBoxExpanded}"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-click="isInfoBoxExpanded = !isInfoBoxExpanded">{{\'DEVICE_PROPERTIES_NOTICE_UNSUPPORTED_BATCH_HEADER\' | translate}}<div class="appInfoBox__toggle icon" ng-class="isInfoBoxExpanded ? \'ubnt-icon--minus\' : \'ubnt-icon--plus\'"></div></div><div class="appInfoBox__body"><p translate="DEVICE_PROPERTIES_NOTICE_UNSUPPORTED_BATCH_BODY"></p><p class="noMarginBottom" translate="DEVICE_PROPERTIES_NOTICE_UNSUPPORTED_BATCH_SEE_WARNINGS"></p></div></div></div><div class="unifiPanelItemContent"><div class="batchPropertiesBatch" ng-if="apPropertiesBatchCtrl.isTabAvailable(\'batch\') &amp;&amp; apPropertiesBatchCtrl.getActiveTab() === \'batch\'"><unifi-device-properties-batch-list unifi-device-properties-batch-list-model="apPropertiesBatchCtrl.batchModel" unifi-device-properties-batch-list-local-state="true" unifi-device-properties-batch-list-local-state-key="\'batch|uap\'"></unifi-device-properties-batch-list></div><div class="batchPropertiesConfigure" ng-if="apPropertiesBatchCtrl.isTabAvailable(\'configure\')" ng-show="apPropertiesBatchCtrl.getActiveTab() === \'configure\' &amp;&amp; apPropertiesBatchCtrl.getDeviceCount() &gt; 0"'+(i="unifi-ap-properties-batch-configure",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+'></div><div class="batchPropertiesWarnings" ng-show="apPropertiesBatchCtrl.showWarningsTab &amp;&amp; apPropertiesBatchCtrl.getActiveTab() === \'warnings\'" unifi-ap-properties-batch-warnings="apPropertiesBatchCtrl.batchModel" unifi-ap-properties-batch-warnings-has-warnings="apPropertiesBatchCtrl.showWarningsTab"></div></div></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static unifiPanelItemBodySection--pending" ng-if="apPropertiesBatchCtrl.getDeviceCount() &gt; 0"><unifi-pending-changes-list unifi-pending-changes-list-model="apPropertiesBatchCtrl.model" unifi-pending-changes-list-save="applyPendingChanges(model)"></unifi-pending-changes-list></div></div></div>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],57:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesBatchConfigure",[function(){return{scope:!0,require:"^unifiApPropertiesBatch",template:e("./apPropertiesBatchConfigure.pug")()}}])},{"./apPropertiesBatchConfigure.pug":58}],58:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section general" is-open="apPropertiesBatchCtrl.accordions.configure.general"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesBatchCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesBatchCtrl.accordions.configure.general" unifi-pause-children-watchers="!apPropertiesBatchCtrl.accordions.configure.general"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesConfigureGeneral"><div class="unifiPanelItemContentSection__subsection general" unifi-device-properties-configure-general="::apPropertiesBatchCtrl.model" unifi-device-properties-configure-general-with-batch="apPropertiesBatchCtrl.batchModel" unifi-device-properties-configure-general-is-open="apPropertiesBatchCtrl.accordions.configure.general" unifi-device-properties-configure-general-is-save-queued="apPropertiesBatchCtrl.isSaveQueued" unifi-device-properties-configure-general-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL"></div><div class="unifiPanelItemContentSection__subsection tags"'+r("unifi-block-pause-children-watchers",!0,!0,!0)+'><div class="panelHeading"><div class="panelTitle verticalRhythm--condensed"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_TAGS_BATCH\' | translate}}</span></div></div><div class="apPropertiesConfigureTags" unifi-device-properties-tags="apPropertiesBatchCtrl.model" unifi-device-properties-tags-with-batch="apPropertiesBatchCtrl.batchModel"></div></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section radios" is-open="apPropertiesBatchCtrl.accordions.configure.radios"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_RADIOS\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesBatchCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_RADIOS"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesBatchCtrl.accordions.configure.radios" unifi-pause-children-watchers="!apPropertiesBatchCtrl.accordions.configure.radios"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesBatchConfigureRadios" unifi-ap-properties-configure-radios="::apPropertiesBatchCtrl.model" unifi-ap-properties-configure-radios-with-batch="apPropertiesBatchCtrl.batchModel" unifi-ap-properties-configure-radios-is-open="apPropertiesBatchCtrl.accordions.configure.radios" unifi-ap-properties-configure-radios-is-save-queued="apPropertiesBatchCtrl.isSaveQueued" unifi-ap-properties-configure-radios-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_RADIOS"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section wlans" is-open="apPropertiesBatchCtrl.accordions.configure.wlans"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesBatchCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesBatchCtrl.accordions.configure.wlans" unifi-pause-children-watchers="!apPropertiesBatchCtrl.accordions.configure.wlans"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesBatchConfigureWlans" unifi-ap-properties-configure-wlans="::apPropertiesBatchCtrl.model" unifi-ap-properties-configure-wlans-with-batch="apPropertiesBatchCtrl.batchModel" unifi-ap-properties-configure-wlans-is-open="apPropertiesBatchCtrl.accordions.configure.wlans" unifi-ap-properties-configure-wlans-is-save-queued="apPropertiesBatchCtrl.isSaveQueued" unifi-ap-properties-configure-wlans-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section services" is-open="apPropertiesBatchCtrl.accordions.configure.services"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesBatchCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesBatchCtrl.accordions.configure.services" unifi-pause-children-watchers="!apPropertiesBatchCtrl.accordions.configure.services"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesBatchConfigureServices" unifi-ap-properties-configure-services="::apPropertiesBatchCtrl.model" unifi-ap-properties-configure-services-with-batch="apPropertiesBatchCtrl.batchModel" unifi-ap-properties-configure-services-is-open="apPropertiesBatchCtrl.accordions.configure.services" unifi-ap-properties-configure-services-is-save-queued="apPropertiesBatchCtrl.isSaveQueued" unifi-ap-properties-configure-services-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section bandSteering"'+r("unifi-if-advanced-features",!0,!0,!0)+' is-open="apPropertiesBatchCtrl.accordions.configure.bandSteering"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_BAND_STEERING\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesBatchCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_BAND_STEERING"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesBatchCtrl.accordions.configure.bandSteering" unifi-pause-children-watchers="!apPropertiesBatchCtrl.accordions.configure.bandSteering"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesBatchConfigureBandSteering" unifi-ap-properties-configure-band-steering="::apPropertiesBatchCtrl.model" unifi-ap-properties-configure-band-steering-with-batch="apPropertiesBatchCtrl.batchModel" unifi-ap-properties-configure-band-steering-is-open="apPropertiesBatchCtrl.accordions.configure.bandSteering" unifi-ap-properties-configure-band-steering-is-save-queued="apPropertiesBatchCtrl.isSaveQueued" unifi-ap-properties-configure-band-steering-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_BAND_STEERING"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section airtimeFairness"'+r("unifi-if-advanced-features",!0,!0,!0)+' is-open="apPropertiesBatchCtrl.accordions.configure.airtimeFairness"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_AIRTIME_FAIRNESS\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesBatchCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_AIRTIME_FAIRNESS"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesBatchCtrl.accordions.configure.airtimeFairness" unifi-pause-children-watchers="!apPropertiesBatchCtrl.accordions.configure.airtimeFairness"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesBatchConfigureAirtimeFairness" unifi-ap-properties-configure-airtime-fairness="::apPropertiesBatchCtrl.model" unifi-ap-properties-configure-airtime-fairness-with-batch="apPropertiesBatchCtrl.batchModel" unifi-ap-properties-configure-airtime-fairness-is-open="apPropertiesBatchCtrl.accordions.configure.airtimeFairness" unifi-ap-properties-configure-airtime-fairness-is-save-queued="apPropertiesBatchCtrl.isSaveQueued" unifi-ap-properties-configure-airtime-fairness-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_AIRTIME_FAIRNESS"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section manage" is-open="apPropertiesBatchCtrl.accordions.configure.manage"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_MANAGE_DEVICE_BATCH\' | translate}}</accordion-heading><div unifi-initialize-when="apPropertiesBatchCtrl.accordions.configure.manage" unifi-pause-children-watchers="!apPropertiesBatchCtrl.accordions.configure.manage"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="unifiPanelItemContentSection__subsection upgrade"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_CUSTOM_UPGRADE\' | translate}}</span></div></div><div class="apPropertiesConfigureCustomUpgrade" unifi-device-properties-configure-custom-upgrade="::apPropertiesBatchCtrl.model" unifi-device-properties-configure-custom-upgrade-with-batch="apPropertiesBatchCtrl.batchModel" unifi-device-properties-configure-custom-upgrade-is-open="apPropertiesBatchCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection provision"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_PROVISION\' | translate}}</span></div></div><div class="apPropertiesConfigureProvision" unifi-device-properties-configure-provision="::apPropertiesBatchCtrl.model" unifi-device-properties-configure-provision-with-batch="apPropertiesBatchCtrl.batchModel" unifi-device-properties-configure-provision-is-open="apPropertiesBatchCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection disable" ng-if="apPropertiesBatchCtrl.batchModel.hasDestinationAttrValue(\'disabled\', true)"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_ENABLE_BATCH\' | translate}}</span></div></div><div class="apPropertiesConfigureDisable" unifi-device-properties-configure-disable="::apPropertiesBatchCtrl.model" unifi-device-properties-configure-disable-with-batch="apPropertiesBatchCtrl.batchModel" unifi-device-properties-configure-disable-force-to-enable="true" unifi-device-properties-configure-disable-is-open="apPropertiesBatchCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection disable" ng-if="apPropertiesBatchCtrl.batchModel.hasDestinationAttrValue(\'disabled\', false, true)"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_DISABLE_BATCH\' | translate}}</span></div></div><div class="apPropertiesConfigureDisable" unifi-device-properties-configure-disable="::apPropertiesBatchCtrl.model" unifi-device-properties-configure-disable-with-batch="apPropertiesBatchCtrl.batchModel" unifi-device-properties-configure-disable-force-to-disable="true" unifi-device-properties-configure-disable-is-open="apPropertiesBatchCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection cancelMigrate" ng-if="apPropertiesBatchCtrl.someAreMigrated()"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_CANCEL_MIGRATE_BATCH\' | translate}}</span></div></div><div class="apPropertiesConfigureCancelMigrate" unifi-device-properties-configure-cancel-migrate="::apPropertiesBatchCtrl.model" unifi-device-properties-configure-cancel-migrate-with-batch="apPropertiesBatchCtrl.batchModel" unifi-device-properties-configure-cancel-migrate-is-open="apPropertiesBatchCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection forget"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_FORGET_BATCH\' | translate}}</span></div></div><div class="apPropertiesConfigureForget" unifi-device-properties-configure-forget="::apPropertiesBatchCtrl.model" unifi-device-properties-configure-forget-with-batch="apPropertiesBatchCtrl.batchModel" unifi-device-properties-configure-forget-is-open="apPropertiesBatchCtrl.accordions.configure.manage"></div></div></div></accordion-group></accordion>'};var n=/["&<>]/},{"pug-runtime":2}],59:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t){this.deviceModelFeatureValidator=e,this.settings=t,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.onModelChange=function(){this.generateWarnings()},n.prototype.generateWarnings=function(){if(this.hasWarnings=!1,this.invalid=void 0,this.model){var e=this.model.get("source").getPendingAttributes(),t={isOutdoorModeEnabled:this.settings.getSettingFromKey("mgmt").get("outdoor_mode_enabled")};this.invalid=this.model.get("destination").map(function(i){var r=this.deviceModelFeatureValidator.validate(i,e,t);return r.isValid?void 0:{model:i,invalid:r.invalid}}.bind(this)).filter(function(e){return e}),this.invalid.length&&(this.hasWarnings=!0)}},n.$inject=["deviceModelFeatureValidator","settings"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesBatchWarningsController",n)},{}],60:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesBatchWarnings",["updateModelDirectiveMixin",function(t){return{scope:{model:"=unifiApPropertiesBatchWarnings",hasWarnings:"=unifiApPropertiesBatchWarningsHasWarnings"},controller:"ApPropertiesBatchWarningsController",controllerAs:"apPropertiesBatchWarningsCtrl",template:e("./apPropertiesBatchWarnings.pug")(),link:function(e,i,r,n){e.$on("$destroy",function(){n.removeEventHandlers()}),e.$watch(function(){return n.hasWarnings},function(t){e.hasWarnings=t}),t.init(e,i,r,n,!0)}}}])},{"./apPropertiesBatchWarnings.pug":61}],61:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiPanelItemContent__section noPadding" ng-repeat="group in apPropertiesBatchWarningsCtrl.invalid"><div class="unifiPanelItemContentSection__header"><div class="iconText appIconText unifiDeviceIconText"><div class="iconText__icon" unifi-device-icon="group.model"></div><div class="iconText__text"><div>{{group.model.getDisplayName()}}</div></div></div><div class="unifiPanelItemContentSection__titleIcon icon ubnt-icon--panels" unifi-open-panel="group.model" unifi-open-panel-active-tab="\'configure\'" title="{{\'COMMON_PROPERTY_PANEL_OPEN\' | translate}}"></div></div><div class="unifiPanelItemContentSection__content"><ul class="appMenu appMenu--condensed appMenu--transparent autoMinWidth is-device-icon-text-aligned"><li class="appMenu__item noHorizontalPadding" ng-repeat="attr in group.invalid">{{attr.translationKey | translate: attr.translationValues}}</li></ul></div></div>'}},{"pug-runtime":2}],62:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t){this.deviceRadioUtils=e,this.RADIO_STATES=t,this.modelChangeEvent="change change:radio_table[*] change:radio_table_stats[*]",r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.updateRadios=function(){this.radios=[],this.model&&(this.radios=this.deviceRadioUtils.getRadios(this.model))},n.prototype.updateUtilization=function(){this.utilization={},this.radios.forEach(function(e){var t=e.get("name");this.utilization[t]=this.deviceRadioUtils.getRadioChannelUtilization(this.model,e),this.utilization[t]&&(this.utilization[t].total<20?this.utilization[t].notice="good":this.utilization[t].total<40?this.utilization[t].notice="acceptable":this.utilization[t].notice="high")}.bind(this))},n.prototype.updateDisabled=function(){this.isDisabled={},this.radios.forEach(function(e){var t=e.get("name"),i=this.deviceRadioUtils.getRadioStatsByName(this.model,t);this.isDisabled[t]=!i||i.get("state")===this.RADIO_STATES.INIT}.bind(this))},n.prototype.onModelChange=function(){this.updateRadios(),this.updateUtilization(),this.updateDisabled()},n.$inject=["deviceRadioUtils","RADIO_STATES"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesChannelUtilizationController",n)},{}],63:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesChannelUtilization",["updateModelDirectiveMixin",function(t){return{scope:{model:"=unifiApPropertiesChannelUtilizationModel"},controller:"ApPropertiesChannelUtilizationController",controllerAs:"apPropertiesChannelUtilizationCtrl",template:e("./apPropertiesChannelUtilization.pug")(),link:function(e,i,r,n){e.$on("$destroy",function(){n.removeEventHandlers()}),t.init(e,i,r,n,!0)}}}])},{"./apPropertiesChannelUtilization.pug":64}],64:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="apPropertiesChannelUtilization"><div class="unifiChannelUtilizationStatus" ng-repeat="radio in apPropertiesChannelUtilizationCtrl.radios track by radio.get(\'name\')" ng-init="radioName = radio.get(\'name\'); radioType = radio.get(\'radio\')" ng-class="{      \'unifiChannelUtilizationStatus--disabled\': apPropertiesChannelUtilizationCtrl.isDisabled[radioName],      \'verticalRhythmTop--cozy\': $index &gt; 0    }"><div class="appRow unifiChannelUtilizationStatusHeader"><div class="col--xs4 noWrap"><div class="unifiChannelUtilizationStatusHeader__channel"><unifi-device-channel unifi-device-channel-model="apPropertiesChannelUtilizationCtrl.model" unifi-device-channel-radio="radio" unifi-device-channel-hide-auto-info="true" unifi-device-channel-hide-dfs-info="true" unifi-device-channel-hide-ht-info="true" unifi-device-channel-hide-power-info="true"></unifi-device-channel></div><div class="unifiChannelUtilizationStatusHeader__protocol">{{apPropertiesChannelUtilizationCtrl.model | radioProtocol: radio}}</div></div><div class="col--xs4 col--sm5 alignRight noWrap"><div class="unifiChannelUtilizationStatusHeader__notice">({{\'DEVICE_PROPERTIES_CHANNEL_UTILIZATION_NOTICE_\' + apPropertiesChannelUtilizationCtrl.utilization[radioName].notice | toTranslationKey | translate}})</div></div><div class="col--xs4 col--sm3 alignRight noWrap"><div class="unifiChannelUtilizationStatusHeader__total" translate="DEVICE_PROPERTIES_CHANNEL_UTILIZATION_PERCENT_UTILIZED" translate-values="{percent: apPropertiesChannelUtilizationCtrl.utilization[radioName].total}"></div></div></div><div class="ubntTooltipContainer noLineHeight fullWidth" style="--tooltip-width: 320px" ng-mouseover="showStatusBarTooltip = true" ng-mouseleave="showStatusBarTooltip = false"><div class="appStatusBar--cozy"'+r("unifi-channel-utilization-status-bar",!0,!0,!0)+' unifi-channel-utilization-status-bar-model="apPropertiesChannelUtilizationCtrl.model" unifi-channel-utilization-status-bar-radio="radio"></div><div class="ubntTooltip ubntTooltip--topCenter" ng-if="showStatusBarTooltip"'+r("unifi-position-absolutely",!0,!0,!0)+r("ng-cloak",!0,!0,!0)+'><div class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow appDescriptionListRow--cozy radioTxPktsBytes"><dt translate="DEVICE_PROPERTIES_LABEL_TX_PKTS_BYTES"></dt><dd>{{::apPropertiesChannelUtilizationCtrl.deviceRadioUtils.getPacketsPerBytes(apPropertiesChannelUtilizationCtrl.model, radio, \'tx\')}}</dd></div><div class="appDescriptionListRow appDescriptionListRow--cozy radioRxPktsBytes"><dt translate="DEVICE_PROPERTIES_LABEL_RX_PKTS_BYTES"></dt><dd>{{::apPropertiesChannelUtilizationCtrl.deviceRadioUtils.getPacketsPerBytes(apPropertiesChannelUtilizationCtrl.model, radio, \'rx\')}}</dd></div><div class="appDescriptionListRow appDescriptionListRow--cozy radioTxRetryDropped"><dt translate="DEVICE_PROPERTIES_LABEL_TX_RETRY_DROPPED"></dt><dd>{{::apPropertiesChannelUtilizationCtrl.deviceRadioUtils.getRetryDroppedPercentage(apPropertiesChannelUtilizationCtrl.model, radio, \'tx\')}}</dd></div><div class="appDescriptionListRow appDescriptionListRow--cozy radioRxRetryDropped"><dt translate="DEVICE_PROPERTIES_LABEL_RX_RETRY_DROPPED"></dt><dd>{{::apPropertiesChannelUtilizationCtrl.deviceRadioUtils.getRetryDroppedPercentage(apPropertiesChannelUtilizationCtrl.model, radio, \'rx\')}}</dd></div><div class="appDescriptionListRow appDescriptionListRow--cozy radioChannelUtilization" ng-if="apPropertiesChannelUtilizationCtrl.deviceRadioUtils.getRadioStatsByName(apPropertiesChannelUtilizationCtrl.model, radioName).get(\'cu_total\')"><dt translate="DEVICE_PROPERTIES_LABEL_CHANNEL_UTILIZATION"></dt><dd>{{::apPropertiesChannelUtilizationCtrl.model | radioStatsChannelUtilization: radio}}</dd></div></div></div></div></div><div class="unifiDiagramKeys noMarginBottom"><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem"><div class="unifiDiagramKeysItem__color unifiChannelUtilizationStatus--rx"></div><div class="unifiDiagramKeysItem__text" translate="DEVICE_PROPERTIES_CHANNEL_UTILIZATION_KEY_RX"></div></div></div><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem"><div class="unifiDiagramKeysItem__color unifiChannelUtilizationStatus--tx"></div><div class="unifiDiagramKeysItem__text" translate="DEVICE_PROPERTIES_CHANNEL_UTILIZATION_KEY_TX"></div></div></div><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem"><div class="unifiDiagramKeysItem__color unifiChannelUtilizationStatus--interference"></div><div class="unifiDiagramKeysItem__text" translate="DEVICE_PROPERTIES_CHANNEL_UTILIZATION_KEY_INTERFERENCE"></div></div></div><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem"><div class="unifiDiagramKeysItem__color unifiChannelUtilizationStatus--free"></div><div class="unifiDiagramKeysItem__text" translate="DEVICE_PROPERTIES_CHANNEL_UTILIZATION_KEY_FREE"></div></div></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],65:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesConfigure",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiApProperties",template:e("./apPropertiesConfigure.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"configure")}}}])},{"./apPropertiesConfigure.pug":66}],66:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<accordion class="appAccordion" close-others="true"><div class="apPropertiesConfigureWarnings" unifi-initialize-when="!apPropertiesCtrl.isLoading" unifi-device-properties-configure-warnings="::apPropertiesCtrl.model" unifi-device-properties-configure-warnings-validator="apPropertiesCtrl.validators.warnings"></div><accordion-group class="unifiPanelItemContent__section general" is-open="apPropertiesCtrl.accordions.configure.general"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesCtrl.accordions.configure.general" unifi-pause-children-watchers="!apPropertiesCtrl.accordions.configure.general"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesConfigureGeneral"><div class="unifiPanelItemContentSection__subsection general" unifi-device-properties-configure-general="::apPropertiesCtrl.model" unifi-device-properties-configure-general-is-open="apPropertiesCtrl.accordions.configure.general" unifi-device-properties-configure-general-is-read-only="!apPropertiesCtrl.isAdmin()" unifi-device-properties-configure-general-is-save-queued="false" unifi-device-properties-configure-general-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL"></div><div class="unifiPanelItemContentSection__subsection tags"'+r("unifi-block-pause-children-watchers",!0,!0,!0)+'><div class="panelHeading"><div class="panelTitle verticalRhythm--condensed"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_TAGS\' | translate}}</span></div></div><div class="apPropertiesConfigureTags" unifi-device-properties-tags="apPropertiesCtrl.model"></div></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section radios" is-open="apPropertiesCtrl.accordions.configure.radios"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_RADIOS\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_RADIOS"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesCtrl.accordions.configure.radios" unifi-pause-children-watchers="!apPropertiesCtrl.accordions.configure.radios"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesConfigureRadios" unifi-ap-properties-configure-radios="::apPropertiesCtrl.model" unifi-ap-properties-configure-radios-is-open="apPropertiesCtrl.accordions.configure.radios" unifi-ap-properties-configure-radios-is-read-only="!apPropertiesCtrl.isAdmin()" unifi-ap-properties-configure-radios-is-save-queued="apPropertiesCtrl.isSaveQueued" unifi-ap-properties-configure-radios-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_RADIOS"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section wlans" is-open="apPropertiesCtrl.accordions.configure.wlans"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesCtrl.accordions.configure.wlans" unifi-pause-children-watchers="!apPropertiesCtrl.accordions.configure.wlans"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesConfigureWlans" unifi-ap-properties-configure-wlans="::apPropertiesCtrl.model" unifi-ap-properties-configure-wlans-is-open="apPropertiesCtrl.accordions.configure.wlans" unifi-ap-properties-configure-wlans-is-read-only="!apPropertiesCtrl.isAdmin()" unifi-ap-properties-configure-wlans-is-save-queued="apPropertiesCtrl.isSaveQueued" unifi-ap-properties-configure-wlans-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section services" is-open="apPropertiesCtrl.accordions.configure.services"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesCtrl.accordions.configure.services" unifi-pause-children-watchers="!apPropertiesCtrl.accordions.configure.services"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesConfigureServices" unifi-ap-properties-configure-services="::apPropertiesCtrl.model" unifi-ap-properties-configure-services-is-open="apPropertiesCtrl.accordions.configure.services" unifi-ap-properties-configure-services-is-read-only="!apPropertiesCtrl.isAdmin()" unifi-ap-properties-configure-services-is-save-queued="apPropertiesCtrl.isSaveQueued" unifi-ap-properties-configure-services-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section network" is-open="apPropertiesCtrl.accordions.configure.network"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_NETWORK\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_NETWORK"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesCtrl.accordions.configure.network" unifi-pause-children-watchers="!apPropertiesCtrl.accordions.configure.network"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesConfigureNetwork" unifi-device-properties-configure-network="::apPropertiesCtrl.model" unifi-device-properties-configure-network-is-open="apPropertiesCtrl.accordions.configure.network" unifi-device-properties-configure-network-is-read-only="!apPropertiesCtrl.isAdmin()" unifi-device-properties-configure-network-is-save-queued="apPropertiesCtrl.isSaveQueued" unifi-device-properties-configure-network-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_NETWORK" unifi-device-properties-configure-network-validator="apPropertiesCtrl.validators.warnings"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section bandSteering"'+r("unifi-if-advanced-features",!0,!0,!0)+' unifi-if-advanced-features-and="apPropertiesCtrl.showBandSteeringAccordion" is-open="apPropertiesCtrl.accordions.configure.bandSteering"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_BAND_STEERING\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_BAND_STEERING"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesCtrl.accordions.configure.bandSteering" unifi-pause-children-watchers="!apPropertiesCtrl.accordions.configure.bandSteering"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesConfigureBandSteering" unifi-ap-properties-configure-band-steering="::apPropertiesCtrl.model" unifi-ap-properties-configure-band-steering-is-open="apPropertiesCtrl.accordions.configure.bandSteering" unifi-ap-properties-configure-band-steering-is-read-only="!apPropertiesCtrl.isAdmin()" unifi-ap-properties-configure-band-steering-is-save-queued="apPropertiesCtrl.isSaveQueued" unifi-ap-properties-configure-band-steering-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_BAND_STEERING"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section airtimeFairness"'+r("unifi-if-advanced-features",!0,!0,!0)+' is-open="apPropertiesCtrl.accordions.configure.airtimeFairness"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_AIRTIME_FAIRNESS\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_AIRTIME_FAIRNESS"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apPropertiesCtrl.accordions.configure.airtimeFairness" unifi-pause-children-watchers="!apPropertiesCtrl.accordions.configure.airtimeFairness"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesConfigureAirtimeFairness" unifi-ap-properties-configure-airtime-fairness="::apPropertiesCtrl.model" unifi-ap-properties-configure-airtime-fairness-is-open="apPropertiesCtrl.accordions.configure.airtimeFairness" unifi-ap-properties-configure-airtime-fairness-is-read-only="!apPropertiesCtrl.isAdmin()" unifi-ap-properties-configure-airtime-fairness-is-save-queued="apPropertiesCtrl.isSaveQueued" unifi-ap-properties-configure-airtime-fairness-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_AIRTIME_FAIRNESS"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section wirelessUplinks" ng-if="apPropertiesCtrl.showUplinksAccordion" is-open="apPropertiesCtrl.accordions.configure.wirelessUplinks"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_WIRELESS_UPLINKS\' | translate}}</accordion-heading><div unifi-initialize-when="apPropertiesCtrl.accordions.configure.wirelessUplinks" unifi-pause-children-watchers="!apPropertiesCtrl.accordions.configure.wirelessUplinks"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apPropertiesConfigureUplinkPriority verticalRhythm--cozy" unifi-ap-properties-configure-uplink-priority="::apPropertiesCtrl.model" unifi-ap-properties-configure-uplink-priority-is-open="apPropertiesCtrl.accordions.configure.wirelessUplinks" unifi-ap-properties-configure-uplink-priority-is-read-only="!apPropertiesCtrl.isAdmin()"></div><unifi-ap-properties-uplink-list unifi-ap-properties-uplink-list-local-state="true" unifi-ap-properties-uplink-list-local-state-key="::apPropertiesCtrl.model.get(\'mac\') + \'|uplinks\'" unifi-ap-properties-uplink-list-uplinks="apPropertiesCtrl.model.get(\'uplink_table\')" unifi-ap-properties-uplink-list-downlink="::apPropertiesCtrl.model" unifi-ap-properties-uplink-list-is-open="apPropertiesCtrl.accordions.configure.wirelessUplinks"></unifi-ap-properties-uplink-list></div></accordion-group><accordion-group class="unifiPanelItemContent__section manage" ng-if="apPropertiesCtrl.isAdmin()" is-open="apPropertiesCtrl.accordions.configure.manage"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_MANAGE_DEVICE\' | translate}}</accordion-heading><div unifi-initialize-when="apPropertiesCtrl.accordions.configure.manage" unifi-pause-children-watchers="!apPropertiesCtrl.accordions.configure.manage"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="unifiPanelItemContentSection__subsection copy"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_COPY\' | translate}}</span></div></div><div class="apPropertiesConfigureCopy" unifi-ap-properties-copy-configuration="::apPropertiesCtrl.model" unifi-ap-properties-copy-configuration-is-open="apPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection upgrade"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_CUSTOM_UPGRADE\' | translate}}</span></div></div><div class="apPropertiesConfigureCustomUpgrade" unifi-device-properties-configure-custom-upgrade="::apPropertiesCtrl.model" unifi-device-properties-configure-custom-upgrade-is-open="apPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection provision"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_PROVISION\' | translate}}</span></div></div><div class="apPropertiesConfigureProvision" unifi-device-properties-configure-provision="::apPropertiesCtrl.model" unifi-device-properties-configure-provision-is-open="apPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection disable"><div class="panelHeading"><div class="panelTitle"><span>{{apPropertiesCtrl.model.get(\'disabled\') ? \'DEVICE_PROPERTIES_SECTION_CONFIGURE_ENABLE\' : \'DEVICE_PROPERTIES_SECTION_CONFIGURE_DISABLE\' | translate}}</span></div></div><div class="apPropertiesConfigureDisable" unifi-device-properties-configure-disable="::apPropertiesCtrl.model" unifi-device-properties-configure-disable-is-open="apPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection cancelMigrate" ng-if="apPropertiesCtrl.showCancelMigrateAccordion"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_CANCEL_MIGRATE\' | translate}}</span></div></div><div class="apPropertiesConfigureCancelMigrate" unifi-device-properties-configure-cancel-migrate="::apPropertiesCtrl.model" unifi-device-properties-configure-cancel-migrate-is-open="apPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection forget"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_FORGET\' | translate}}</span></div></div><div class="apPropertiesConfigureForget" unifi-device-properties-configure-forget="::apPropertiesCtrl.model" unifi-device-properties-configure-forget-is-open="apPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection infodownload"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_DOWNLOAD_DEVICE_INFO\' | translate}}</span></div></div><div class="apPropertiesConfigureInfoDownload" unifi-device-properties-configure-info-download="::apPropertiesCtrl.model" unifi-device-properties-configure-info-download-is-open="apPropertiesCtrl.accordions.configure.manage"></div></div></div></accordion-group></accordion>'};var n=/["&<>]/},{"pug-runtime":2}],67:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a){this.$translate=e,this.deviceUtils=t,this.deviceFeatureUtils=i,this.heyToasts=n,this.apiResults=s,this.DEVICE_MODELS=a,this.airtimeFairnessOptions=[{value:void 0,translationKey:"COMMON_VALUE_KEEP_EXISTING",isAvailable:!1,isDisabled:!1,isBatch:!0},{value:!0,translationKey:"COMMON_TOGGLE_ON",isAvailable:!0,isDisabled:!1},{value:!1,translationKey:"COMMON_TOGGLE_OFF",isAvailable:!0,isDisabled:!1}],r.call(this,o)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0,this.airtimeFairnessOptions.forEach(function(e){e.isBatch&&(e.isAvailable=!0)})},n.prototype.isSaveDisabled=function(){return this.areOptionsDisabled||this.isBatchEdit&&void 0===this.modelCopy.attributes.atf_enabled},n.prototype.save=function(){this.isSubmitting=!0;var e={atf_enabled:this.modelCopy.get("atf_enabled")},t=this.isSaveQueued?"pending":void 0;return this.deviceUtils.saveDevice(this.model,e,{wait:!0,delegateTo:t,pendingGroup:this.pendingGroup}).then(function(){return this.isSaveQueued||this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_AIRTIME_FAIRNESS").toLowerCase()})),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_AIRTIME_FAIRNESS").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.prototype.updateAirtimeFairnessAvailability=function(){var e=this.deviceFeatureUtils.isAirtimeFairnessConfigSupported(this.model)||this.isBatchEdit;this.areOptionsDisabled=!e,angular.forEach(this.airtimeFairnessOptions,function(e){e.isDisabled=this.areOptionsDisabled}.bind(this))},n.prototype.setDefaultAttrs=function(e,t){var i=e?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+i]){var r=e||!this.isSaveQueued?void 0:{delegateTo:"pending"},n={};t&&-1===t.indexOf("atf_enabled")||void 0!==(n.atf_enabled=this.model?this.model.get("atf_enabled",r):void 0)||this.isBatchEdit||(n.atf_enabled=this.deviceFeatureUtils.isAtfEnabled(this.model)),angular.extend(e?this.masterWithDefaults:this.modelCopy.attributes,n)}},n.prototype.onModelChange=function(){this.updateAirtimeFairnessAvailability(),this.setDefaultAttrs(!0)},n.prototype.resetModelCopyAttrs=function(e){r.prototype.resetModelCopyAttrs.call(this,e),this.setDefaultAttrs(!1,e)},n.prototype.reset=function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1)},n.$inject=["$translate","deviceUtils","deviceFeatureUtils","heyToasts","modelDivergence","apiResults","DEVICE_MODELS"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesConfigureAirtimeFairnessController",n)},{}],68:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesConfigureAirtimeFairness",["updateModelDirectiveMixin","devicePropertiesConfigureWithPendingDirectiveMixin","devicePropertiesConfigureBatchDirectiveMixin",function(t,i,r){return{scope:{model:"=unifiApPropertiesConfigureAirtimeFairness",withBatch:"=unifiApPropertiesConfigureAirtimeFairnessWithBatch",isOpen:"=unifiApPropertiesConfigureAirtimeFairnessIsOpen",isReadOnly:"=unifiApPropertiesConfigureAirtimeFairnessIsReadOnly",isSaveQueued:"=unifiApPropertiesConfigureAirtimeFairnessIsSaveQueued",group:"@unifiApPropertiesConfigureAirtimeFairnessGroup"},controller:"ApPropertiesConfigureAirtimeFairnessController",controllerAs:"apPropertiesConfigureAirtimeFairnessCtrl",template:e("./apPropertiesConfigureAirtimeFairness.pug")(),link:function(e,n,o,s){e.directiveId=e.$id,e.$on("$destroy",function(){s.removeEventHandlers()}),t.init(e,n,o,s,!0),i.init(e,n,o,s),r.init(e,n,o,s)}}}])},{"./apPropertiesConfigureAirtimeFairness.pug":69}],69:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+r("novalidate",!0,!0,!0)+' autocomplete="off" name="apPropertiesConfigureAirtimeFairnessCtrl.form" ng-class="{    \'is-form-validation-visible\': apPropertiesConfigureAirtimeFairnessCtrl.showValidation,    \'is-validation-hidden\': !apPropertiesConfigureAirtimeFairnessCtrl.showValidation  }" ng-submit="apPropertiesConfigureAirtimeFairnessCtrl.form.$valid &amp;&amp; apPropertiesConfigureAirtimeFairnessCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="apPropertiesConfigureAirtimeFairnessCtrl.resolveDivergence()" unifi-config-changed-on-ignore="apPropertiesConfigureAirtimeFairnessCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; apPropertiesConfigureAirtimeFairnessCtrl.form.$error.divergent"></unifi-config-changed><div class="appInfoBoxContainer verticalRhythm--cozy"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_AP_AIRTIME_FAIRNESS_WARNING"></p></div></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="option in apPropertiesConfigureAirtimeFairnessCtrl.airtimeFairnessOptions" ng-if="option.isAvailable"><input type="radio" name="airtimeFairness" id="airtimeFairness{{option.value + \'-\' + directiveId}}" ng-model="apPropertiesConfigureAirtimeFairnessCtrl.modelCopy.attributes.atf_enabled" ng-model-master="apPropertiesConfigureAirtimeFairnessCtrl.masterWithDefaults.atf_enabled" ng-value="option.value" ng-disabled="option.isDisabled"'+r("unifi-fix-check-undefined",!0,!0,!0)+'><label for="airtimeFairness{{option.value + \'-\' + directiveId}}" translate="{{option.translationKey}}"></label></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="apPropertiesConfigureAirtimeFairnessCtrl.showValidation = true" busy-toggle="apPropertiesConfigureAirtimeFairnessCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="apPropertiesConfigureAirtimeFairnessCtrl.isSaveDisabled()">{{apPropertiesConfigureAirtimeFairnessCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="apPropertiesConfigureAirtimeFairnessCtrl.reset()" ng-disabled="apPropertiesConfigureAirtimeFairnessCtrl.form.$pristine">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form>'};var n=/["&<>]/},{"pug-runtime":2}],70:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a){this.$translate=e,this.deviceUtils=t,this.deviceFeatureUtils=i,this.heyToasts=n,this.apiResults=s,this.DEVICE_MODELS=a,this.bandSteeringOptions=[{value:void 0,translationKey:"COMMON_VALUE_KEEP_EXISTING",isAvailable:!1,isDisabled:!1,isBatch:!0},{value:"prefer_5g",translationKey:"DEVICE_PROPERTIES_VALUES_BAND_STEERING_PREFER_5G",isAvailable:!0,isDisabled:!1},{value:"equal",translationKey:"DEVICE_PROPERTIES_VALUES_BAND_STEERING_BALANCED",isAvailable:!0,isDisabled:!1},{value:"off",translationKey:"DEVICE_PROPERTIES_VALUES_BAND_STEERING_OFF",isAvailable:!0,isDisabled:!1}],r.call(this,o)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0,this.bandSteeringOptions.forEach(function(e){e.isBatch&&(e.isAvailable=!0)})},n.prototype.isSaveDisabled=function(){return this.areOptionsDisabled||this.isBatchEdit&&void 0===this.modelCopy.attributes.bandsteering_mode},n.prototype.save=function(){this.isSubmitting=!0;var e={bandsteering_mode:this.modelCopy.get("bandsteering_mode")},t=this.isSaveQueued?"pending":void 0;return this.deviceUtils.saveDevice(this.model,e,{wait:!0,delegateTo:t,pendingGroup:this.pendingGroup}).then(function(){return this.isSaveQueued||this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_BAND_STEERING").toLowerCase()})),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_BAND_STEERING").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.prototype.updateBandSteeringAvailability=function(){var e=this.deviceFeatureUtils.isBandSteeringSupported(this.model)||this.isBatchEdit;this.areOptionsDisabled=!e,angular.forEach(this.bandSteeringOptions,function(t){t.isDisabled=!e,t.isBatch||("equal"!==t.value||this.deviceFeatureUtils.isGen2(this.model)||this.isBatchEdit?t.isAvailable=!0:t.isAvailable=!1)}.bind(this))},n.prototype.setDefaultAttrs=function(e,t){var i=e?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+i]){var r=e||!this.isSaveQueued?void 0:{delegateTo:"pending"},n={};t&&-1===t.indexOf("bandsteering_mode")||(n.bandsteering_mode=(this.model?this.model.get("bandsteering_mode",r):void 0)||(this.isBatchEdit?void 0:"off")),angular.extend(e?this.masterWithDefaults:this.modelCopy.attributes,n)}},n.prototype.onModelChange=function(){this.updateBandSteeringAvailability(),this.setDefaultAttrs(!0)},n.prototype.resetModelCopyAttrs=function(e){r.prototype.resetModelCopyAttrs.call(this,e),this.setDefaultAttrs(!1,e)},n.prototype.reset=function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1)},n.$inject=["$translate","deviceUtils","deviceFeatureUtils","heyToasts","modelDivergence","apiResults","DEVICE_MODELS"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesConfigureBandSteeringController",n)},{}],71:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesConfigureBandSteering",["updateModelDirectiveMixin","devicePropertiesConfigureWithPendingDirectiveMixin","devicePropertiesConfigureBatchDirectiveMixin",function(t,i,r){return{scope:{model:"=unifiApPropertiesConfigureBandSteering",withBatch:"=unifiApPropertiesConfigureBandSteeringWithBatch",isOpen:"=unifiApPropertiesConfigureBandSteeringIsOpen",isReadOnly:"=unifiApPropertiesConfigureBandSteeringIsReadOnly",isSaveQueued:"=unifiApPropertiesConfigureBandSteeringIsSaveQueued",group:"@unifiApPropertiesConfigureBandSteeringGroup"},controller:"ApPropertiesConfigureBandSteeringController",controllerAs:"apPropertiesConfigureBandSteeringCtrl",template:e("./apPropertiesConfigureBandSteering.pug")(),link:function(e,n,o,s){e.directiveId=e.$id,e.$on("$destroy",function(){s.removeEventHandlers()}),t.init(e,n,o,s,!0),i.init(e,n,o,s),r.init(e,n,o,s)}}}])},{"./apPropertiesConfigureBandSteering.pug":72}],72:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+r("novalidate",!0,!0,!0)+' autocomplete="off" name="apPropertiesConfigureBandSteeringCtrl.form" ng-class="{    \'is-form-validation-visible\': apPropertiesConfigureBandSteeringCtrl.showValidation,    \'is-validation-hidden\': !apPropertiesConfigureBandSteeringCtrl.showValidation  }" ng-submit="apPropertiesConfigureBandSteeringCtrl.form.$valid &amp;&amp; apPropertiesConfigureBandSteeringCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="apPropertiesConfigureBandSteeringCtrl.resolveDivergence()" unifi-config-changed-on-ignore="apPropertiesConfigureBandSteeringCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; apPropertiesConfigureBandSteeringCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="option in apPropertiesConfigureBandSteeringCtrl.bandSteeringOptions" ng-if="option.isAvailable"><input type="radio" name="bandSteering" id="bandSteering{{option.value + \'-\' + directiveId}}" ng-model="apPropertiesConfigureBandSteeringCtrl.modelCopy.attributes.bandsteering_mode" ng-model-master="apPropertiesConfigureBandSteeringCtrl.masterWithDefaults.bandsteering_mode" ng-value="option.value" ng-disabled="option.isDisabled"'+r("unifi-fix-check-undefined",!0,!0,!0)+'><label for="bandSteering{{option.value + \'-\' + directiveId}}" translate="{{option.translationKey}}"></label></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="apPropertiesConfigureBandSteeringCtrl.showValidation = true" busy-toggle="apPropertiesConfigureBandSteeringCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="apPropertiesConfigureBandSteeringCtrl.isSaveDisabled()">{{apPropertiesConfigureBandSteeringCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="apPropertiesConfigureBandSteeringCtrl.reset()" ng-disabled="apPropertiesConfigureBandSteeringCtrl.form.$pristine">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form>'};var n=/["&<>]/},{"pug-runtime":2}],73:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a,l,p,c,d,u,g,f,h,m){this.$q=e,this.$translate=t,this.account=i,this.deviceUtils=n,this.countryChannels=o,this.countryUtils=s,this.wirelessNetworkGroups=a,this.wirelessNetworks=l,this.deviceRadioUtils=p,this.frame=c,this.heyToasts=d,this.apiResults=g,this.settings=f,this.EXTERNAL_ANTENNA=h,this.RADIO_TYPES=m,this.customAttrs={},this.isAdvancedExpanded={},this.antennasOptions={},this.minRssiMin=-94,this.minRssiMax=-1,this.minRssiWarn=-67,this.minSensLevel=-90,this.maxSensLevel=-50,this.antennaGainMin=-99,this.antennaGainMax=99,this.modelChangeEvent="change change:radio_table[*]",this.radioPowerOptions=[{value:"auto",translationKey:"DEVICE_PROPERTIES_AP_RADIO_POWER_OPTION_AUTO"},{value:"high",translationKey:"DEVICE_PROPERTIES_AP_RADIO_POWER_OPTION_HIGH"},{value:"medium",translationKey:"DEVICE_PROPERTIES_AP_RADIO_POWER_OPTION_MEDIUM"},{value:"low",translationKey:"DEVICE_PROPERTIES_AP_RADIO_POWER_OPTION_LOW"},{value:"custom",translationKey:"DEVICE_PROPERTIES_AP_RADIO_POWER_OPTION_CUSTOM"}],r.call(this,u)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0},n.prototype.isSaveDisabled=function(){return this.isBatchEdit&&!this.radios.reduce(function(e,t){return e||["ht","channel","tx_power_mode","tx_power","min_rssi_enabled","hard_noise_floor_enabled","sens_level_enabled","vwire_enabled"].reduce(function(e,i){return e||!angular.isUndefined(this.customAttrs[t.get("name")][i])&&null!==this.customAttrs[t.get("name")][i]}.bind(this),!1)}.bind(this),!1)},n.prototype.save=function(){this.showMinRssiWarning=!1;var e,t={radio_table:[]};angular.forEach(this.radios,function(e){var i=e.get("name"),r=e.get("radio");t.radio_table.push(function(e){var t={radio:r,name:i,ht:e.ht||void 0,channel:e.channel||(this.isBatchEdit?void 0:"auto"),tx_power_mode:e.tx_power_mode||void 0,tx_power:e.tx_power,antenna_gain:e.antenna_gain,antenna_id:e.antenna_id,min_rssi_enabled:e.min_rssi_enabled,min_rssi:e.min_rssi,hard_noise_floor_enabled:e.hard_noise_floor_enabled,sens_level_enabled:e.sens_level_enabled,sens_level:e.sens_level,vwire_enabled:e.vwire_enabled};return this.isBatchEdit&&(delete t.antenna_gain,delete t.antenna_id),this.deviceRadioUtils.getAntennaById(this.model,t.antenna_id)&&(t.antenna_gain=this.getAntennaGainForRadioNameByAntennaId(i,t.antenna_id)),"custom"!==t.tx_power_mode&&delete t.tx_power,this.isMinRssiStrictModeSupported(i)||delete t.hard_noise_floor_enabled,t.min_rssi_enabled||(delete t.min_rssi,this.isBatchEdit&&!1===t.min_rssi_enabled&&delete t.hard_noise_floor_enabled),t.min_rssi&&t.min_rssi>this.minRssiWarn&&(this.showMinRssiWarning=!0),t.sens_level_enabled||delete t.sens_level,t}.bind(this)(this.customAttrs[i]))}.bind(this)),e=this.showMinRssiWarning?this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_ACTIONS_AP_MIN_RSSI_CONFIRM_TITLE")}.bind(this),message:function(){return this.$translate.instant("DEVICE_ACTIONS_AP_MIN_RSSI_CONFIRM_MESSAGE",{minRssi:this.minRssiWarn})}.bind(this),options:function(){return{defaultCancel:!0}}}).then(function(){this.showMinRssiWarning=!1}.bind(this)).catch(function(){return this.$q.reject()}.bind(this)):this.$q.when();var i=this.isSaveQueued?"pending":void 0;return e.then(function(){this.isSubmitting=!0,this.deviceUtils.saveDevice(this.model,t,{wait:!0,delegateTo:i,pendingGroup:this.pendingGroup}).then(function(){return this.isSaveQueued||this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_RADIOS").toLowerCase()})),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_RADIOS").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))}.bind(this))},n.prototype.addEventHandlers=function(){r.prototype.addEventHandlers.call(this),this.collectionListeners={wirelessNetworkGroups:this.wirelessNetworkGroups.repository.collection.onEvent("add remove change reset",this.updateRoaming.bind(this))},this.account.repository.model.on("change",this.setAntennasOptions,this),this.countryChannels.repository.model.on("change:code",this.updateChannelOptions,this),this.countryChannels.repository.model.on("change:code",this.updateHtOptions,this),this.settings.repository.collection.on("change",this.updateChannelOptions,this)},n.prototype.removeEventHandlers=function(){r.prototype.removeEventHandlers.call(this),this.collectionListeners&&Object.keys(this.collectionListeners).forEach(function(e){this.collectionListeners[e].stopListening()}.bind(this)),this.account.repository.model.off("change",this.setAntennasOptions,this),this.countryChannels.repository.model.off("change:code",this.updateChannelOptions,this),this.countryChannels.repository.model.off("change:code",this.updateHtOptions,this),this.settings.repository.collection.off("change",this.updateChannelOptions,this)},n.prototype.isMinRssiStrictModeSupported=function(e){var t=this.deviceRadioUtils.getRadioByName(this.model,e);return this.isBatchEdit?"na"===t.get("radio"):this.deviceRadioUtils.isMinRssiStrictModeSupported(t)},n.prototype.setDefaultAttrs=function(e){var t=e?"Master":"",i=e||!this.isSaveQueued?void 0:{delegateTo:"pending"};angular.forEach(this.radios,function(e){var r=e.get("name"),n=e.get("radio"),o=angular.extend({},this.model?(this.deviceRadioUtils.getRadioByName(this.model,r,i)||{}).attributes:{});o.ht=o.ht||(this.isBatchEdit?void 0:this.countryUtils.getDefaultHt(n)),o.channel=(isFinite(o.channel)?parseInt(o.channel,10):o.channel)||(this.isBatchEdit?void 0:"auto"),o.tx_power_mode=o.tx_power_mode||(this.isBatchEdit?void 0:"auto"),o.tx_power=isFinite(o.tx_power)?parseInt(o.tx_power,10):void 0,o.antenna_gain=isFinite(o.antenna_gain)?parseInt(o.antenna_gain,10):this.EXTERNAL_ANTENNA.CUSTOM.GAIN,o.antenna_id=isFinite(o.antenna_id)&&(this.deviceRadioUtils.isCustomAntennaGainAllowed(this.model)||o.antenna_id>=0)?o.antenna_id:void 0,o.min_rssi_enabled="boolean"==typeof o.min_rssi_enabled?o.min_rssi_enabled:!!this.isBatchEdit&&void 0,o.min_rssi=o.min_rssi?parseInt(o.min_rssi,10):this.minRssiMin,o.hard_noise_floor_enabled="boolean"==typeof o.hard_noise_floor_enabled?o.hard_noise_floor_enabled:!!this.isBatchEdit&&void 0,o.sens_level_enabled="boolean"==typeof o.sens_level_enabled?o.sens_level_enabled:!!this.isBatchEdit&&void 0,o.sens_level=o.sens_level?parseInt(o.sens_level,10):this.minSensLevel,o.vwire_enabled=this.isBatchEdit?void 0:"boolean"!=typeof o.vwire_enabled||o.vwire_enabled,this.customAttrs[r+t]=o}.bind(this)),this.updateChannelOptions()},n.prototype.setAntennasOptions=function(){this.antennasOptions=this.deviceRadioUtils.getRadios(this.model).reduce(function(e,t){return e[t.get("name")]=this.deviceRadioUtils.getAntennaOptionsForRadio(this.model,t),e}.bind(this),{})},n.prototype.setAdvancedExpanded=function(){this.customAttrs&&angular.forEach(this.radios,function(e){var t=e.get("name");(this.customAttrs[t+"Master"]||{}).min_rssi_enabled&&(this.isAdvancedExpanded[t]=!0)}.bind(this))},n.prototype.isDisplayUplinksAccordion=function(){return this.settings.getSettingValueFromKey("connectivity","enabled")},n.prototype.updateChannelOptions=function(e){if(this.radioChannelOptions=this.radioChannelOptions||{},this.model){var t={isOutdoorModeEnabled:this.settings.getSettingFromKey("mgmt").get("outdoor_mode_enabled")};angular.forEach(this.radios,function(i){var r=i.get("name"),n=i.get("radio");!this.customAttrs[r]||r!==e&&angular.isString(e)||(this.radioChannelOptions[r]=this.isBatchEdit?this.deviceRadioUtils.getUnfilteredChannelOptions(n,this.customAttrs[r].ht,t):this.deviceRadioUtils.getChannelOptions(this.model,n,r,this.customAttrs[r].ht,t),this.radioChannelOptions[r].unshift({channel:"auto",label:this.$translate.instant("COMMON_VALUE_AUTO")}),isFinite(this.customAttrs[r].channel)&&(this.radioChannelOptions[r].find(function(e){return e.channel===this.customAttrs[r].channel}.bind(this))||(this.customAttrs[r].channel="auto")))}.bind(this))}},n.prototype.updateRadios=function(){this.radios=[],this.model&&(this.radios=this.deviceRadioUtils.getRadios(this.model))},n.prototype.updateHtOptions=function(){this.model?(this.radioHtOptions={},this.radios.forEach(function(e){var t=e.get("radio"),i=e.get("name");this.radioHtOptions[i]=[];var r=this.deviceRadioUtils.isAcRadio(this.model,i)?"VHT":"HT";this.RADIO_TYPES.NG.type===t?(this.radioHtOptions[i].push({value:"20",label:"HT20"}),(this.isBatchEdit||this.deviceRadioUtils.isHt40Supported(this.model,this.RADIO_TYPES.NG.type))&&this.radioHtOptions[i].push({value:"40",label:"HT40"})):this.RADIO_TYPES.NA.type===t&&(this.radioHtOptions[i].push({value:"20",label:r+"20"}),(this.isBatchEdit||this.deviceRadioUtils.isHt40Supported(this.model,this.RADIO_TYPES.NA.type))&&this.radioHtOptions[i].push({value:"40",label:r+"40"}),(this.isBatchEdit||this.deviceRadioUtils.isHt80Supported(this.model))&&this.radioHtOptions[i].push({value:"80",label:r+"80"}),(this.isBatchEdit||this.deviceRadioUtils.isHt160Supported(this.model,i))&&this.radioHtOptions[i].push({value:"160",label:r+"160"}))}.bind(this))):this.radioHtOptions={}},n.prototype.updateRoaming=function(){this.isRoamingEnabled={},this.roamingOverrides={},this.model&&angular.forEach(this.radios,function(e){var t=e.get("name"),i=e.get("radio"),r=e.get("wlangroup_id"),n=this.wirelessNetworkGroups.repository.collection.get(r);n&&n.get("roam_enabled")&&(this.isRoamingEnabled[t]=!0,this.roamingOverrides[t]={wlanGroup:n.get("name"),channel:n.get("roam_channel_"+i),ht:20})}.bind(this))},n.prototype.onModelChange=function(){this.updateRadios(),this.updateHtOptions(),this.updateRoaming(),this.setDefaultAttrs(!0),this.setAntennasOptions(),this.setAdvancedExpanded()},n.prototype.resetModelCopyAttrs=function(e){r.prototype.resetModelCopyAttrs.call(this,e),this.setDefaultAttrs(!1,e)},n.prototype.reset=function(){r.prototype.reset.call(this),this.updateRoaming(),this.setDefaultAttrs(!1)},n.prototype.getRadioType=function(e){return!!this.model&&this.deviceRadioUtils.getRadioByName(this.model,e).get("radio")},n.prototype.onSelectAntenna=function(e){if(this.model){var t=this.deviceRadioUtils.getAntennaById(this.model,e);this.deviceRadioUtils.getRadios(this.model).filter(function(i){var r=e===this.EXTERNAL_ANTENNA.CUSTOM.ID,n=this.deviceRadioUtils.isAntennaApplicableForRadio(t,i);return r||n}.bind(this)).forEach(function(t){var i=t.get("name"),r=this.getAntennaGainForRadioNameByAntennaId(i,e);this.customAttrs[i].antenna_id=e,this.customAttrs[i].antenna_gain=r}.bind(this))}},n.prototype.getAntennaGainForRadioNameByAntennaId=function(e,t){var i=this.deviceRadioUtils.getAntennaById(this.model,t);return i&&e?this.deviceRadioUtils.getAntennaGainForRadioName(i,e):this.EXTERNAL_ANTENNA.CUSTOM.GAIN},n.prototype.isAntennaGainConfigurableForSelectedAntenna=function(e){return!this.antennasOptions[e].length||this.isCustomAntennaSelected(e)},n.prototype.isAntennaGainReadOnlyForSelectedAntenna=function(e){return!!this.deviceRadioUtils.getAntennaById(this.model,this.customAttrs[e].antenna_id)},n.prototype.isCustomAntennaSelected=function(e){return this.customAttrs[e].antenna_id===this.EXTERNAL_ANTENNA.CUSTOM.ID},n.prototype.isCustomAntennaGainAllowed=function(){return this.deviceRadioUtils.isCustomAntennaGainAllowed(this.model)},n.$inject=["$q","$translate","account","deviceUtils","countryChannels","countryUtils","wirelessNetworkGroups","wirelessNetworks","deviceRadioUtils","frame","heyToasts","modelDivergence","apiResults","settings","EXTERNAL_ANTENNA","RADIO_TYPES"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesConfigureRadiosController",n)},{}],74:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesConfigureRadios",["$timeout","updateModelDirectiveMixin","devicePropertiesConfigureWithPendingDirectiveMixin","devicePropertiesConfigureBatchDirectiveMixin",function(t,i,r,n){return{scope:{model:"=unifiApPropertiesConfigureRadios",withBatch:"=unifiApPropertiesConfigureRadiosWithBatch",isOpen:"=unifiApPropertiesConfigureRadiosIsOpen",isReadOnly:"=unifiApPropertiesConfigureRadiosIsReadOnly",isSaveQueued:"=unifiApPropertiesConfigureRadiosIsSaveQueued",group:"@unifiApPropertiesConfigureRadiosGroup"},controller:"ApPropertiesConfigureRadiosController",controllerAs:"apPropertiesConfigureRadiosCtrl",template:e("./apPropertiesConfigureRadios.pug")(),link:function(e,o,s,a){e.directiveId=e.$id,t(function(){a.radios.forEach(function(t){var i=t.get("name");e.$watch(function(){return a.customAttrs&&a.customAttrs[i]?a.customAttrs[i].ht:void 0},function(e){e&&a.updateChannelOptions(i)})})},0,!1),e.$on("$destroy",function(){a.removeEventHandlers()}),i.init(e,o,s,a,!0),r.init(e,o,s,a),n.init(e,o,s,a)}}}])},{"./apPropertiesConfigureRadios.pug":75}],75:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+r("novalidate",!0,!0,!0)+' autocomplete="off" name="apPropertiesConfigureRadiosCtrl.form" ng-class="{    \'is-form-validation-visible\': apPropertiesConfigureRadiosCtrl.showValidation,    \'is-validation-hidden\': !apPropertiesConfigureRadiosCtrl.showValidation  }" ng-submit="apPropertiesConfigureRadiosCtrl.form.$valid &amp;&amp; apPropertiesConfigureRadiosCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="apPropertiesConfigureRadiosCtrl.resolveDivergence()" unifi-config-changed-on-ignore="apPropertiesConfigureRadiosCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; apPropertiesConfigureRadiosCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-repeat="radio in apPropertiesConfigureRadiosCtrl.radios" ng-init="radioName = radio.get(\'name\'); radioType = radio.get(\'radio\')" ng-disabled="isReadOnly" ng-class="{      \'verticalRhythmTop\': $index &gt; 0    }"><div class="appSubHeading verticalRhythm--condensed">{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_RADIOS_SUBSECTION_\' + radioType.toUpperCase() + (apPropertiesConfigureRadiosCtrl.deviceRadioUtils.isAcRadio(apPropertiesConfigureRadiosCtrl.model, radioName) && radioType === \'na\' ? \'_AC\' : \'\') | translate}}\n&nbsp;<span ng-if="!apPropertiesConfigureRadiosCtrl.isBatchEdit &amp;&amp; !apPropertiesConfigureRadiosCtrl.deviceRadioUtils.isDeviceWithOneRadioPerType(apPropertiesConfigureRadiosCtrl.model)">{{radioName}}</span></div><div class="appFormGroup appFormGroup--cozy" ng-show="apPropertiesConfigureRadiosCtrl.isRoamingEnabled[radioName]"><label class="appLabel--primary verticalRhythm--cozy" translate="DEVICE_PROPERTIES_AP_RADIO_WLAN_GROUP_OVERRIDE"></label><div class="appDescriptionList appDescriptionList--stacked appDescriptionList--divider"><div class="flexRow noMarginBottom"><div class="flexCol--4"><dt>{{\'DEVICE_PROPERTIES_LABEL_WLAN_GROUP\' | translate}}</dt><dd>{{apPropertiesConfigureRadiosCtrl.roamingOverrides[radioName].wlanGroup}}</dd></div><div class="flexCol--4"><dt>{{\'DEVICE_PROPERTIES_LABEL_CHANNEL\' | translate}}</dt><dd>{{apPropertiesConfigureRadiosCtrl.roamingOverrides[radioName].channel}}</dd></div><div class="flexCol--4"><dt>{{\'DEVICE_PROPERTIES_LABEL_HT\' | translate}}</dt><dd>{{apPropertiesConfigureRadiosCtrl.roamingOverrides[radioName].ht}}</dd></div></div></div></div><div class="appFormGroup appFormGroup--condensed" ng-show="!apPropertiesConfigureRadiosCtrl.isRoamingEnabled[radioName]"><div class="flexRow noMarginBottom"><div class="flexCol--6"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_CHANNEL_WIDTH"></label><select class="select--full" name="radioHt{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].ht" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].ht" ng-options="ht.value as ht.label for ht in apPropertiesConfigureRadiosCtrl.radioHtOptions[radioName]" ng-required="!apPropertiesConfigureRadiosCtrl.isBatchEdit"><option ng-if="apPropertiesConfigureRadiosCtrl.isBatchEdit" ng-value="undefined" translate="COMMON_VALUE_KEEP_EXISTING"></option></select></div><div class="flexCol--6"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_CHANNEL"></label><select class="select--full" name="radioChannel{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].channel" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].channel" ng-options="channel.channel as channel.label for channel in apPropertiesConfigureRadiosCtrl.radioChannelOptions[radioName]" ng-disabled="!apPropertiesConfigureRadiosCtrl.customAttrs[radioName].ht"><option ng-if="apPropertiesConfigureRadiosCtrl.isBatchEdit" ng-value="undefined" translate="COMMON_VALUE_KEEP_EXISTING"></option></select></div></div></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_TRANSMIT_POWER"></label><div class="flexRow noMarginBottom"><div class="flexCol--6"><select class="select--full" name="radioTxPower{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].tx_power_mode" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].tx_power_mode" ng-options="power.value as power.translationKey | translate for power in apPropertiesConfigureRadiosCtrl.radioPowerOptions"><option ng-if="apPropertiesConfigureRadiosCtrl.isBatchEdit" ng-value="undefined" translate="COMMON_VALUE_KEEP_EXISTING"></option></select></div><div class="flexCol--6" ng-show="apPropertiesConfigureRadiosCtrl.setVisibility(\'customTxPower\' + radioName, apPropertiesConfigureRadiosCtrl.customAttrs[radioName].tx_power_mode === \'custom\')"><div class="appInputGroup noMarginBottom"><input class="input--half" type="number" name="radioTxPowerCustom{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].tx_power" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].tx_power" ng-required="apPropertiesConfigureRadiosCtrl.getVisibility(\'customTxPower\' + radioName)" min="{{apPropertiesConfigureRadiosCtrl.getVisibility(\'customTxPower\' + radioName) ? apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_txpower : \'\'}}" max="{{apPropertiesConfigureRadiosCtrl.getVisibility(\'customTxPower\' + radioName) ? apPropertiesConfigureRadiosCtrl.customAttrs[radioName].max_txpower : \'\'}}"><label translate="DEVICE_RADIO_TRANSMIT_POWER_DBM"></label></div><div class="appInputFeedback appInputFeedback--danger" ng-if="apPropertiesConfigureRadiosCtrl.form[\'radioTxPowerCustom\' + radioName].$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_txpower, max: apPropertiesConfigureRadiosCtrl.customAttrs[radioName].max_txpower}"></div></div></div></div><div class="appFormGroup appFormGroup--condensed" ng-if="!apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].builtin_antenna &amp;&amp; !apPropertiesConfigureRadiosCtrl.isBatchEdit"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_ANTENNA_GAIN"></label><unifi-tooltip ng-if="!apPropertiesConfigureRadiosCtrl.isCustomAntennaGainAllowed()"><content translate="DEVICE_PROPERTIES_TOOLTIP_AP_RADIO_CUSTOM_ANTENNA_GAIN"></content></unifi-tooltip><div class="flexRow noMarginBottom"><div class="flexCol--6" ng-if="apPropertiesConfigureRadiosCtrl.antennasOptions[radioName].length"><select class="select--full" name="antennaId{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].antenna_id" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].antenna_id" ng-options="antenna.id as antenna.name for antenna in apPropertiesConfigureRadiosCtrl.antennasOptions[radioName]" ng-change="apPropertiesConfigureRadiosCtrl.onSelectAntenna(apPropertiesConfigureRadiosCtrl.customAttrs[radioName].antenna_id)"'+r("required",!0,!0,!0)+'><option unifi-option-placeholder="DEVICE_PROPERTIES_AP_RADIO_ANTENNA_GAIN_OPTION_SELECT_ANTENNA"></option></select></div><div class="flexCol--6"><div class="appInputGroup noMarginBottom" ng-show="apPropertiesConfigureRadiosCtrl.isAntennaGainConfigurableForSelectedAntenna(radioName)"><input class="input--half" type="number" name="radioAntennaGain{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].antenna_gain" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].antenna_gain" ng-required="apPropertiesConfigureRadiosCtrl.isAntennaGainConfigurableForSelectedAntenna(radioName)" min="{{apPropertiesConfigureRadiosCtrl.antennaGainMin}}" max="{{apPropertiesConfigureRadiosCtrl.antennaGainMax}}"><label translate="DEVICE_RADIO_TRANSMIT_POWER_DBI"></label><div class="appInputFeedback appInputFeedback--danger" ng-if="apPropertiesConfigureRadiosCtrl.form[\'radioAntennaGain\' + radioName].$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: apPropertiesConfigureRadiosCtrl.antennaGainMin, max: apPropertiesConfigureRadiosCtrl.antennaGainMax}"></div></div><div class="appInputGroup noMarginBottom" ng-show="apPropertiesConfigureRadiosCtrl.isAntennaGainReadOnlyForSelectedAntenna(radioName)"><input class="input--half" type="number"'+r("disabled",!0,!0,!0)+' ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].antenna_gain"><label translate="DEVICE_RADIO_TRANSMIT_POWER_DBI"></label></div></div></div></div><div class="appInputGroup appInputGroup--condensed" ng-if="apPropertiesConfigureRadiosCtrl.isDisplayUplinksAccordion() &amp;&amp; !apPropertiesConfigureRadiosCtrl.isBatchEdit"><input type="checkbox" name="uplinkVwireEnabled{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].vwire_enabled"><label translate="DEVICE_PROPERTIES_VALUES_ENABLE_WIRELESS_UPLINK_VWIRE"></label></div><div class="appFormGroup appFormGroup--condensed"><div class="flexRow verticalRhythmTop--condensed noMarginBottom" ng-if="apPropertiesConfigureRadiosCtrl.isDisplayUplinksAccordion() &amp;&amp; apPropertiesConfigureRadiosCtrl.isBatchEdit"><div class="flexCol--12"><div class="appInputGroup noMarginBottom"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_MESHING"></label><div class="appInputGroup noMarginBottom verticalRhythmTop--condensed"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="uplinkVwireEnabled{{radioName}}" id="uplinkVwireKeepExisting{{radioName + \'-\' + directiveId}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].vwire_enabled" ng-value="undefined"><label for="uplinkVwireKeepExisting{{radioName + \'-\' + directiveId}}" translate="COMMON_VALUE_KEEP_EXISTING"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="uplinkVwireEnabled{{radioName}}" id="uplinkVwireEnabled{{radioName + \'-\' + directiveId}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].vwire_enabled" ng-value="true"><label for="uplinkVwireEnabled{{radioName + \'-\' + directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_WIRELESS_UPLINK_VWIRE"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="uplinkVwireDisabled{{radioName}}" id="uplinkVwireDisabled{{radioName + \'-\' + directiveId}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].vwire_enabled" ng-value="false"><label for="uplinkVwireDisabled{{radioName + \'-\' + directiveId}}" translate="DEVICE_PROPERTIES_VALUES_DISABLE_WIRELESS_UPLINK_VWIRE"></label></div></div></div></div></div></div><div class="appFormGroup appFormGroup--condensed" ng-if="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].builtin_antenna &amp;&amp; apPropertiesConfigureRadiosCtrl.antennasOptions[radioName].length &gt; 1 &amp;&amp; !apPropertiesConfigureRadiosCtrl.isBatchEdit"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SELECT_ANTENNA"></label><div class="flexRow noMarginBottom"><div class="flexCol--6"><select class="select--full" name="antennaId{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].antenna_id" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].antenna_id" ng-options="antenna.id as antenna.name for antenna in apPropertiesConfigureRadiosCtrl.antennasOptions[radioName]" ng-change="apPropertiesConfigureRadiosCtrl.onSelectAntenna(apPropertiesConfigureRadiosCtrl.customAttrs[radioName].antenna_id)"'+r("required",!0,!0,!0)+'><option unifi-option-placeholder="DEVICE_PROPERTIES_AP_RADIO_SELECT_ANTENNA_OPTION_SELECT_ANTENNA"></option></select></div></div></div><fieldset class="appFieldset appFieldset--quiet verticalRhythmTop--cozy"'+r("unifi-if-advanced-features",!0,!0,!0)+' ng-class="{\'appFieldset--collapsed\': !apPropertiesConfigureRadiosCtrl.isAdvancedExpanded[radioName]}"><h4 class="panelTitle" ng-class="apPropertiesConfigureRadiosCtrl.isAdvancedExpanded[radioName] ? \'verticalRhythm--condensed\' : \'noMarginBottom\'"><span ng-click="apPropertiesConfigureRadiosCtrl.isAdvancedExpanded[radioName] = !apPropertiesConfigureRadiosCtrl.isAdvancedExpanded[radioName]" ng-class="apPropertiesConfigureRadiosCtrl.isAdvancedExpanded[radioName] ? \'appCollapserType\' : \'appExpanderType\'" translate="COMMON_SECTION_ADVANCED_OPTIONS"></span></h4><div class="appFormGroup appFormGroup--condensed" ng-show="!apPropertiesConfigureRadiosCtrl.isRoamingEnabled[radioName]"><div class="flexRow" ng-if="!apPropertiesConfigureRadiosCtrl.isBatchEdit"><div class="flexCol--6"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_MINIMUM_RSSI"></label><div class="appInputGroup noMarginBottom"><input type="checkbox" name="radioMinRssiEnabled{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].min_rssi_enabled"><input class="input--smallNumber" type="number" name="radioMinRssi{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].min_rssi" ng-disabled="!apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled" ng-required="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled" ng-class="{\'is-input-warning\': apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled &amp;&amp;                   apPropertiesConfigureRadiosCtrl.showMinRssiWarning &amp;&amp;                   apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi &gt; apPropertiesConfigureRadiosCtrl.minRssiWarn}" min="{{apPropertiesConfigureRadiosCtrl.minRssiMin}}" max="{{apPropertiesConfigureRadiosCtrl.minRssiMax}}"><label translate="DEVICE_RADIO_TRANSMIT_POWER_DBM" ng-class="{\'is-label-disabled\': !apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled}"></label></div></div><div class="flexCol--6" ng-if="apPropertiesConfigureRadiosCtrl.isMinRssiStrictModeSupported(radioName)" ng-show="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_MIN_RSSI_STRICT_MODE"></label><div class="appInputGroup noMarginBottom"><input type="checkbox" name="radioMinRssiStrictMode{{radioName}}" id="radioMinRssiStrictMode{{radioName + \'-\' + directiveId}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].hard_noise_floor_enabled" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].hard_noise_floor_enabled" ng-disabled="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled"><label for="radioMinRssiStrictMode{{radioName + \'-\' + directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_MIN_RSSI_STRICT_MODE" ng-class="{\'is-label-disabled\': !apPropertiesConfigureRadiosCtrl.customAttrs[radioName].hard_noise_floor_enabled}"></label><unifi-tooltip><content translate="DEVICE_PROPERTIES_TOOLTIP_MIN_RSSI_STRICT_MODE"></content></unifi-tooltip></div></div></div><div class="flexRow noMarginBottom" ng-if="!apPropertiesConfigureRadiosCtrl.isBatchEdit &amp;&amp; apPropertiesConfigureRadiosCtrl.isMinRssiStrictModeSupported(radioName)"><div class="flexCol--6"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_CELL_SIZE_TUNING"></label><div class="appInputGroup noMarginBottom"><input type="checkbox" name="radioCellSizeTuningEnabled{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].sens_level_enabled"><input class="input--smallNumber" type="number" min="{{apPropertiesConfigureRadiosCtrl.minSensLevel}}" max="{{apPropertiesConfigureRadiosCtrl.maxSensLevel}}" name="radioCellSizeTuning{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].sens_level" ng-disabled="!apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled" ng-required="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled"><label translate="DEVICE_RADIO_TRANSMIT_POWER_DBM" ng-class="{\'is-label-disabled\': !apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled}"></label><unifi-tooltip><content translate="DEVICE_PROPERTIES_TOOLTIP_SENS_LEVEL"></content></unifi-tooltip></div></div></div><div class="flexRow" ng-if="apPropertiesConfigureRadiosCtrl.isBatchEdit"><div class="flexCol--12"><div class="appInputGroup noMarginBottom"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_MINIMUM_RSSI"></label><div class="appInputGroup noMarginBottom verticalRhythmTop--condensed"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="minRssiEnabled{{radioName}}" id="minRssiKeepExisting{{radioName + \'-\' + directiveId}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].min_rssi_enabled" ng-value="undefined"><label for="minRssiKeepExisting{{radioName + \'-\' + directiveId}}" translate="COMMON_VALUE_KEEP_EXISTING"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="minRssiEnabled{{radioName}}" id="minRssiDisabled{{radioName + \'-\' + directiveId}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].min_rssi_enabled" ng-value="false"><label for="minRssiDisabled{{radioName + \'-\' + directiveId}}" translate="DEVICE_PROPERTIES_VALUES_DISABLE_MIN_RSSI"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="minRssiEnabled{{radioName}}" id="minRssiEnabled{{radioName + \'-\' + directiveId}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].min_rssi_enabled" ng-value="true"><label for="minRssiEnabled{{radioName + \'-\' + directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_MIN_RSSI"></label><input class="input--smallNumber" type="number" name="radioMinRssi{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].min_rssi" ng-disabled="!apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled" ng-required="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled" min="{{apPropertiesConfigureRadiosCtrl.minRssiMin}}" max="{{apPropertiesConfigureRadiosCtrl.minRssiMax}}"><label translate="DEVICE_RADIO_TRANSMIT_POWER_DBM" ng-class="{\'is-label-disabled\': !apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled}"></label></div></div><div class="appInputFeedback appInputFeedback--danger" ng-if="apPropertiesConfigureRadiosCtrl.form[\'radioMinRssi\' + radioName].$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: apPropertiesConfigureRadiosCtrl.minRssiMin, max: apPropertiesConfigureRadiosCtrl.minRssiMax}"></div></div><div class="appInputGroup noMarginBottom" ng-if="apPropertiesConfigureRadiosCtrl.isMinRssiStrictModeSupported(radioName)" ng-show="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].min_rssi_enabled !== false"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_MIN_RSSI_STRICT_MODE"></label><div class="appInputGroup noMarginBottom verticalRhythmTop--condensed"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="minRssiStrictModeEnabled{{radioName}}" id="minRssiStrictModeKeepExisting{{radioName + \'-\' + directiveId}}" ng-disabled="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].hard_noise_floor_enabled" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].hard_noise_floor_enabled" ng-value="undefined"><label for="minRssiStrictModeKeepExisting{{radioName + \'-\' + directiveId}}" translate="COMMON_VALUE_KEEP_EXISTING"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="minRssiStrictModeEnabled{{radioName}}" id="minRssiStrictModeDisabled{{radioName + \'-\' + directiveId}}" ng-disabled="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].hard_noise_floor_enabled" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].hard_noise_floor_enabled" ng-value="false"><label for="minRssiStrictModeDisabled{{radioName + \'-\' + directiveId}}" translate="DEVICE_PROPERTIES_VALUES_DISABLE_MIN_RSSI_STRICT_MODE"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="minRssiStrictModeEnabled{{radioName}}" id="minRssiStrictModeEnabled{{radioName + \'-\' + directiveId}}" ng-disabled="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].hard_noise_floor_enabled" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].hard_noise_floor_enabled" ng-value="true"><label for="minRssiStrictModeEnabled{{radioName + \'-\' + directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_MIN_RSSI_STRICT_MODE"></label></div></div></div></div></div><div class="flexRow verticalRhythmTop--condensed noMarginBottom" ng-if="apPropertiesConfigureRadiosCtrl.isBatchEdit &amp;&amp; apPropertiesConfigureRadiosCtrl.isMinRssiStrictModeSupported(radioName)"><div class="flexCol--12"><div class="appInputGroup noMarginBottom"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_CELL_SIZE_TUNING"></label><div class="appInputGroup noMarginBottom verticalRhythmTop--condensed"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="sensLevelEnabled{{radioName}}" id="sensLevelKeepExisting{{radioName + \'-\' + directiveId}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].sens_level_enabled" ng-value="undefined"><label for="sensLevelKeepExisting{{radioName + \'-\' + directiveId}}" translate="COMMON_VALUE_KEEP_EXISTING"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="sensLevelEnabled{{radioName}}" id="sensLevelDisabled{{radioName + \'-\' + directiveId}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].sens_level_enabled" ng-value="false"><label for="sensLevelDisabled{{radioName + \'-\' + directiveId}}" translate="DEVICE_PROPERTIES_VALUES_DISABLE_SENS_LEVEL"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="sensLevelEnabled{{radioName}}" id="sensLevelEnabled{{radioName + \'-\' + directiveId}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].sens_level_enabled" ng-value="true"><label for="sensLevelEnabled{{radioName + \'-\' + directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_SENS_LEVEL"></label><input class="input--smallNumber" type="number" min="{{apPropertiesConfigureRadiosCtrl.minSensLevel}}" max="{{apPropertiesConfigureRadiosCtrl.maxSensLevel}}" name="radioCellSizeTuning{{radioName}}" ng-model="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level" ng-model-master="apPropertiesConfigureRadiosCtrl.customAttrs[radioName + \'Master\'].sens_level" ng-disabled="!apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled" ng-required="apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled"><label translate="DEVICE_RADIO_TRANSMIT_POWER_DBM" ng-class="{\'is-label-disabled\': !apPropertiesConfigureRadiosCtrl.customAttrs[radioName].sens_level_enabled}"></label><unifi-tooltip><content translate="DEVICE_PROPERTIES_TOOLTIP_SENS_LEVEL"></content></unifi-tooltip></div></div></div></div></div></div></fieldset></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent verticalRhythmTop--cozy" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="apPropertiesConfigureRadiosCtrl.showValidation = true" busy-toggle="apPropertiesConfigureRadiosCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="apPropertiesConfigureRadiosCtrl.isSaveDisabled()">{{apPropertiesConfigureRadiosCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="apPropertiesConfigureRadiosCtrl.reset()" ng-disabled="apPropertiesConfigureRadiosCtrl.form.$pristine" translate="COMMON_ACTIONS_CANCEL"></button></div></div></form>'};var n=/["&<>]/},{"pug-runtime":2}],76:[function(e,t,i){"use strict";var r=e("../../controllers/BaseConfigureServicesController");function n(e,t,i,n,o,s,a,l,p){this.SNMP_SETTINGS=p,this.patterns={name:l.NAME},r.call(this,e,i,n,s,a,o,t)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){r.prototype.initBatchEdit.call(this)},n.prototype.isSaveDisabled=function(){var e=this.isBatchEdit&&0===Object.keys(this.getAttrsToSave()).filter(function(e){return void 0!==this.modelCopy.attributes[e]}.bind(this)).length,t=-1!==[void 0,null].indexOf(this.mgmtNetworkId);return e&&t},n.prototype.getAttrsToSave=function(){return{mgmt_network_id:this.mgmtNetworkId||void 0,snmp_contact:this.modelCopy.attributes.snmp_contact,snmp_location:this.modelCopy.attributes.snmp_location}},n.$inject=["$translate","apiResults","deviceUtils","heyToasts","modelDivergence","networks","networkUtils","REGEX_PATTERNS","SNMP_SETTINGS"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesConfigureServicesController",n)},{"../../controllers/BaseConfigureServicesController":302}],77:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesConfigureServices",["devicePropertiesConfigureBatchDirectiveMixin","devicePropertiesConfigureWithPendingDirectiveMixin","updateModelDirectiveMixin",function(t,i,r){return{scope:{model:"=unifiApPropertiesConfigureServices",withBatch:"=unifiApPropertiesConfigureServicesWithBatch",isOpen:"=unifiApPropertiesConfigureServicesIsOpen",isReadOnly:"=unifiApPropertiesConfigureServicesIsReadOnly",isSaveQueued:"=unifiApPropertiesConfigureServicesIsSaveQueued",group:"@unifiApPropertiesConfigureServicesGroup"},controller:"ApPropertiesConfigureServicesController",controllerAs:"apPropertiesConfigureServicesCtrl",template:e("./apPropertiesConfigureServices.pug")(),link:function(e,n,o,s){e.directiveId=e.$id,e.$on("$destroy",function(){s.removeEventHandlers()}),r.init(e,n,o,s,!0),i.init(e,n,o,s),t.init(e,n,o,s)}}}])},{"./apPropertiesConfigureServices.pug":78}],78:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="apPropertiesConfigureServicesCtrl.form" ng-class="{    \'is-form-validation-visible\': apPropertiesConfigureServicesCtrl.showValidation,    \'is-validation-hidden\': !apPropertiesConfigureServicesCtrl.showValidation  }" ng-submit="apPropertiesConfigureServicesCtrl.form.$valid &amp;&amp; apPropertiesConfigureServicesCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="apPropertiesConfigureServicesCtrl.resolveDivergence()" unifi-config-changed-on-ignore="apPropertiesConfigureServicesCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; apPropertiesConfigureServicesCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appFormGroup"><div class="appSubHeading verticalRhythm--condensed"><span translate="DEVICE_PROPERTIES_LABEL_VLAN"></span></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_MGMT_VLAN"></label><select class="select--full" name="networkVlanNativeNetwork" ng-model="apPropertiesConfigureServicesCtrl.mgmtNetworkId" ng-model-master="apPropertiesConfigureServicesCtrl.mgmtNetworkIdMaster" ng-options="network.id as network.get(\'name\') for network in apPropertiesConfigureServicesCtrl.nativeNetworks"><option ng-if="apPropertiesConfigureServicesCtrl.isBatchEdit" ng-value="undefined" translate="COMMON_VALUE_KEEP_EXISTING"></option></select></div></div><div class="appFormGroup" ng-if="!apPropertiesConfigureServicesCtrl.isBatchEdit"><div class="appSubHeading verticalRhythm--condensed"><span translate="DEVICE_PROPERTIES_LABEL_SNMP"></span><a class="appMainButton appMainButton--tertiary appMainButton--condensed floatRight" ui-sref="manage.site.settings.services.snmp"><span class="button__icon icon ubnt-icon--link visible--smUp"></span><span translate="DEVICE_PROPERTIES_BUTTON_MANAGE_SNMP"></span></a></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SNMP_LOCATION"></label><input class="input--full" type="text" name="snmpLocation" ng-model="apPropertiesConfigureServicesCtrl.modelCopy.attributes.snmp_location" ng-model-master="apPropertiesConfigureServicesCtrl.model.attributes.snmp_location" ng-pattern="apPropertiesConfigureServicesCtrl.patterns.name" ng-maxlength="apPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_LOCATION_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="apPropertiesConfigureServicesCtrl.form.snmpLocation.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: apPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_LOCATION_LENGTH}"></div></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SNMP_CONTACT"></label><input class="input--full" type="text" name="snmpContact" ng-model="apPropertiesConfigureServicesCtrl.modelCopy.attributes.snmp_contact" ng-model-master="apPropertiesConfigureServicesCtrl.model.attributes.snmp_contact" ng-pattern="apPropertiesConfigureServicesCtrl.patterns.name" ng-maxlength="apPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_CONTACT_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="apPropertiesConfigureServicesCtrl.form.snmpContact.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: apPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_CONTACT_LENGTH}"></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="apPropertiesConfigureServicesCtrl.showValidation = true" busy-toggle="apPropertiesConfigureServicesCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="apPropertiesConfigureServicesCtrl.isSaveDisabled()">{{apPropertiesConfigureServicesCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="apPropertiesConfigureServicesCtrl.reset()" ng-disabled="apPropertiesConfigureServicesCtrl.form.$pristine">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],79:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a,l,p){this.$q=e,this.$translate=t,this.apiResults=i,this.devices=n,this.deviceFeatureUtils=o,this.deviceUplinkUtils=s,this.deviceUtils=a,this.heyToasts=l,this.PRIORITY_RANGE=[1,2],r.call(this,p)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.save=function(){return this.isSubmitting=!0,this.deviceUtils.saveDevice(this.model,{mesh_sta_vap_enabled:this.customAttrs.uplinkOverride},{wait:!0}).then(function(){return(this.customAttrsMaster.isManuallyConfigured!==this.customAttrs.isManuallyConfigured||this.customAttrsMaster.uplinkPriority1!==this.customAttrs.uplinkPriority1||this.customAttrsMaster.uplinkPriority2!==this.customAttrs.uplinkPriority2?this.customAttrs.isManuallyConfigured?this.deviceUplinkUtils.setPriorityUplink(this.model,this.customAttrs.uplinkPriority1,this.customAttrs.uplinkPriority2):this.deviceUplinkUtils.unsetPriorityUplink(this.model):this.$q.when(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_WIRELESS_UPLINKS").toLowerCase()}))).then(function(e){return this.heyToasts.pushSuccess(e),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(e),!1}.bind(this))}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_WIRELESS_UPLINKS").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.prototype.sourceFilter=function(e,t){return!(!this.model.get("uplink_table")||!this.model.get("uplink_table").get(e.get("mac")))&&!this.PRIORITY_RANGE.some(function(i){return i!==t&&this.customAttrs["uplinkPriority"+i]===e}.bind(this))},n.prototype.setDefaultAttrs=function(e){var t=e?"Master":"",i={uplinkPriority1:this.model&&this.devices.repository.collection.get(this.model.get("mesh_uplink_1")),uplinkPriority2:this.model&&this.devices.repository.collection.get(this.model.get("mesh_uplink_2"))};i.isManuallyConfigured=!(!i.uplinkPriority1&&!i.uplinkPriority2),i.uplinkOverride=!(!this.model||!this.model.get("mesh_sta_vap_enabled")),this["customAttrs"+t]=i},n.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},n.prototype.reset=function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1)},n.$inject=["$q","$translate","apiResults","devices","deviceFeatureUtils","deviceUplinkUtils","deviceUtils","heyToasts","modelDivergence"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesConfigureUplinkPriorityController",n)},{}],80:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesConfigureUplinkPriority",["updateModelDirectiveMixin",function(t){return{scope:{model:"=unifiApPropertiesConfigureUplinkPriority",isOpen:"=unifiApPropertiesConfigureUplinkPriorityIsOpen",isReadOnly:"=unifiApPropertiesConfigureUplinkPriorityIsReadOnly"},controller:"ApPropertiesConfigureUplinkPriorityController",controllerAs:"apPropertiesConfigureUplinkPriorityCtrl",template:e("./apPropertiesConfigureUplinkPriority.pug")(),link:function(e,i,r,n){e.directiveId=e.$id,e.$on("$destroy",function(){n.removeEventHandlers()}),t.init(e,i,r,n,!0)}}}])},{"./apPropertiesConfigureUplinkPriority.pug":81}],81:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="apPropertiesConfigureUplinkPriorityCtrl.form" ng-class="{    \'is-form-validation-visible\': apPropertiesConfigureUplinkPriorityCtrl.showValidation,    \'is-validation-hidden\': !apPropertiesConfigureUplinkPriorityCtrl.showValidation  }" ng-submit="apPropertiesConfigureUplinkPriorityCtrl.form.$valid &amp;&amp; apPropertiesConfigureUplinkPriorityCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="apPropertiesConfigureUplinkPriorityCtrl.resolveDivergence()" unifi-config-changed-on-ignore="apPropertiesConfigureUplinkPriorityCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; apPropertiesConfigureUplinkPriorityCtrl.form.$error.divergent"></unifi-config-changed><div class="appInfoBoxContainer verticalRhythm--cozy" ng-if="!apPropertiesConfigureUplinkPriorityCtrl.customAttrs.isManuallyConfigured"><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder" ng-if="!apPropertiesConfigureUplinkPriorityCtrl.customAttrs.isManuallyConfigured"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_AP_UPLINKS_AUTOMATIC"></p></div></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="uplinkEnable" id="uplinkEnable{{::directiveId}}" ng-model="apPropertiesConfigureUplinkPriorityCtrl.customAttrs.uplinkOverride"><label for="uplinkEnable{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_WIRELESS_UPLINK"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="uplinkPriorityEnable" id="uplinkPriorityEnable{{::directiveId}}" ng-model="apPropertiesConfigureUplinkPriorityCtrl.customAttrs.isManuallyConfigured"><label for="uplinkPriorityEnable{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_MANUAL_UPLINK_PRIORITY"></label></div><div class="appFormGroup appFormGroup--condensed" ng-show="apPropertiesConfigureUplinkPriorityCtrl.customAttrs.isManuallyConfigured" ng-class="{\'verticalRhythmTop--cozy\': priority === 1}" ng-repeat="priority in apPropertiesConfigureUplinkPriorityCtrl.PRIORITY_RANGE"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_PRIORITY_NUMBER" translate_values="{number: priority}"></label><div class="appInputGroup--cozy"><unifi-select-device-dropdown-list unifi-select-device-dropdown-list-selected-model="apPropertiesConfigureUplinkPriorityCtrl.customAttrs[\'uplinkPriority\' + priority]" unifi-select-device-dropdown-list-is-required="apPropertiesConfigureUplinkPriorityCtrl.customAttrs.isManuallyConfigured &amp;&amp; priority === 1" unifi-select-device-dropdown-list-device-filter="apPropertiesConfigureUplinkPriorityCtrl.sourceFilter(model, attrs)" unifi-select-device-dropdown-list-device-filter-attrs="priority" unifi-select-device-dropdown-list-local-state="true" unifi-select-device-dropdown-list-local-state-key="::apPropertiesConfigureUplinkPriorityCtrl.model.get(\'mac\') + \'|uplink-priority-\' + priority" unifi-select-device-dropdown-list-local-state-is-temporary="true" unifi-select-device-dropdown-list-is-cozy="true"></unifi-select-device-dropdown-list></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed savePriority" ng-click="apPropertiesConfigureUplinkPriorityCtrl.showValidation = true" busy-toggle="apPropertiesConfigureUplinkPriorityCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="apPropertiesConfigureUplinkPriorityCtrl.form.$pristine">{{\'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="apPropertiesConfigureUplinkPriorityCtrl.reset()" ng-disabled="apPropertiesConfigureUplinkPriorityCtrl.form.$pristine">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],82:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n){this.$q=e,this.WLAN_SETTINGS=n,this.patterns={name:i.NAME,vlan:i.VLAN,password:i.PASSWORD},this.overridableAttrs=["enabled","name","vlan","vlan_enabled","x_passphrase"],r.call(this,t)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0},n.prototype.updateDefaults=function(e){this.defaults=e},n.prototype.save=function(){var e=!0;return angular.forEach(this.overridableAttrs,function(t){this.compoundAttrs[t]===this.defaults.get(t)?this.model.unset(t):(e=!1,this.model.set(t,this.compoundAttrs[t]))}.bind(this)),this.compoundAttrs.vlan_enabled||this.model.unset("vlan"),this.$q.when(e)},n.prototype.restore=function(){this.setDefaultAttrs(!1,!0)},n.prototype.setDefaultAttrs=function(e,t){this["compoundAttrs"+(e?"Master":"")]=angular.extend({enabled:!0},(this.defaults||{}).attributes,t?{}:(this.model||{}).attributes)},n.prototype.isDefault=function(){return 0===this.overridableAttrs.filter(function(e){return this.compoundAttrs[e]!==this.defaults.get(e)}.bind(this)).length},n.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},n.prototype.reset=function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1)},n.$inject=["$q","modelDivergence","REGEX_PATTERNS","WLAN_SETTINGS"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesConfigureWlanFormController",n)},{}],83:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesConfigureWlanForm",["devicePropertiesConfigureBatchDirectiveMixin","updateModelDirectiveMixin",function(t,i){return{scope:{model:"=unifiApPropertiesConfigureWlanForm",defaults:"=unifiApPropertiesConfigureWlanFormDefaults",radioType:"=unifiApPropertiesConfigureWlanFormRadioType",radioName:"=unifiApPropertiesConfigureWlanFormRadioName",isAcRadio:"=unifiApPropertiesConfigureWlanFormIsAcRadio",onSave:"&unifiApPropertiesConfigureWlanFormOnSave",onCancel:"&unifiApPropertiesConfigureWlanFormOnCancel",isReadOnly:"=unifiApPropertiesConfigureWlanFormIsReadOnly",isOpen:"=unifiApPropertiesConfigureWlanFormIsOpen"},controller:"ApPropertiesConfigureWlanFormController",controllerAs:"apPropertiesConfigureWlanFormCtrl",template:e("./apPropertiesConfigureWlanForm.pug")(),link:function(e,r,n,o){e.onSubmit=function(t){e.onSave({model:e.model,isDefault:t})},e.$watch("defaults",function(e){o.updateDefaults(e)}),e.$on("$destroy",function(){o.removeEventHandlers()}),i.init(e,r,n,o,!0),t.init(e,r,n,o)}}}])},{"./apPropertiesConfigureWlanForm.pug":84}],84:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="apPropertiesConfigureWlanFormCtrl.form" ng-class="{    \'is-form-validation-visible\': apPropertiesConfigureWlanFormCtrl.showValidation,    \'is-validation-hidden\': !apPropertiesConfigureWlanFormCtrl.showValidation  }" ng-submit="apPropertiesConfigureWlanFormCtrl.form.$valid &amp;&amp; apPropertiesConfigureWlanFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="apPropertiesConfigureWlanFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="apPropertiesConfigureWlanFormCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; apPropertiesConfigureWlanFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appSubHeading verticalRhythm--condensed">{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS_SUBSECTION_OVERRIDE_\' + radioType.toUpperCase() + (isAcRadio && radioType === \'na\' ? \'_AC\' : \'\') | translate:\'{name: "\' + apPropertiesConfigureWlanFormCtrl.defaults.get(\'name\') + \'"}\'}}\n&nbsp;<span ng-if="!apPropertiesConfigureWlanFormCtrl.isBatchEdit">{{radioName}}</span></div><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wlanOverrideEnable" id="wlanOverrideEnable{{::directiveId}}" ng-model="apPropertiesConfigureWlanFormCtrl.compoundAttrs.enabled" ng-model-master="apPropertiesConfigureWlanFormCtrl.compoundAttrsMaster.enabled"><label for="wlanOverrideEnable{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_ON_AP"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wlanOverrideEnableVlan" id="wlanOverrideEnableVlan{{::directiveId}}" ng-model="apPropertiesConfigureWlanFormCtrl.compoundAttrs.vlan_enabled" ng-model-master="apPropertiesConfigureWlanFormCtrl.compoundAttrsMaster.vlan_enabled"><label for="wlanOverrideEnableVlan{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_USE_VLAN"></label><label for="wlanOverrideEnableVlanId{{::directiveId}}" translate="DEVICE_PROPERTIES_LABEL_VLAN_ID" ng-class="{\'is-label-disabled\': !apPropertiesConfigureWlanFormCtrl.compoundAttrs.vlan_enabled}"></label><input class="input--smallNumber" type="text" name="wlanOverrideVlanId" id="wlanOverrideEnableVlanId{{::directiveId}}" ng-model="apPropertiesConfigureWlanFormCtrl.compoundAttrs.vlan" ng-model-master="apPropertiesConfigureWlanFormCtrl.compoundAttrsMaster.vlan" ng-disabled="!apPropertiesConfigureWlanFormCtrl.compoundAttrs.vlan_enabled" ng-required="apPropertiesConfigureWlanFormCtrl.compoundAttrs.vlan_enabled" ng-pattern="apPropertiesConfigureWlanFormCtrl.patterns.vlan"></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SSID"></label><input class="input--full" type="text" name="wlanOverrideName" ng-model="apPropertiesConfigureWlanFormCtrl.compoundAttrs.name" ng-model-master="apPropertiesConfigureWlanFormCtrl.compoundAttrsMaster.name" unifi-string-max-length="apPropertiesConfigureWlanFormCtrl.WLAN_SETTINGS.SSID.MAX_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="apPropertiesConfigureWlanFormCtrl.form.wlanOverrideName.$error.text" translate="DEVICE_PROPERTIES_LABEL_SSID_VALIDATOR"></div></div><div class="appFormGroup appFormGroup--condensed" ng-show="apPropertiesConfigureWlanFormCtrl.setVisibility(\'passphrase\', apPropertiesConfigureWlanFormCtrl.compoundAttrs.security === \'wpapsk\')"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SECURITY_KEY"></label><unifi-password-reveal><input class="input--full" type="password" name="wlanOverrideWpaPskKey" ng-model="apPropertiesConfigureWlanFormCtrl.compoundAttrs.x_passphrase" ng-model-master="apPropertiesConfigureWlanFormCtrl.compoundAttrsMaster.x_passphrase" ng-pattern="apPropertiesConfigureWlanFormCtrl.patterns.password" ng-required="apPropertiesConfigureWlanFormCtrl.getVisibility(\'passphrase\')"></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-if="apPropertiesConfigureWlanFormCtrl.form.wlanOverrideWpaPskKey.$error.pattern" translate="VALIDATION_HINT_WPA_PSK"></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveWlanOverride" ng-if="!isReadOnly" ng-click="apPropertiesConfigureWlanFormCtrl.showValidation = true">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--condensed restoreWlanOverride" type="button" ng-if="!isReadOnly" ng-click="apPropertiesConfigureWlanFormCtrl.restore()" ng-disabled="apPropertiesConfigureWlanFormCtrl.isDefault()">{{\'COMMON_ACTIONS_RESET_TO_DEFAULTS\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--condensed cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],85:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("ApPropertiesConfigureWlanListController",["BaseListController","WirelessNetworkFilter",function(e,t){return new(function(i){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.defaultSortBy="name",e.filter=new t,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"setWlanGroupIdFilter",value:function(e){this.beginStateChange(),this.filter.setWlanGroupIdFilter(e),this.commitStateChange()}},{key:"getCollection",value:function(){return this.wlans}},{key:"getOverrideModel",value:function(e,t,i){var r={wlan_id:e.id,radio:this.radioType,radio_name:this.radioName},n=t?this.currentOverrides:this.overrides,o=n.model;return n.findWhere(r)||!i&&new o(r)}},{key:"updateOverrides",value:function(e){this.overrides&&this.overrides.off("add remove change reset",this.refresh,this),this.overrides=e,this.overrides&&this.overrides.on("add remove change reset",this.refresh,this),this.refresh()}},{key:"hasPendingChanges",value:function(e){var t=this.getOverrideModel(e,!0),i=this.getOverrideModel(e,!1);return!angular.equals(t.attributes,i.attributes)}},{key:"removePendingChanges",value:function(e){var t=this.getOverrideModel(e,!0,!0),i=this.getOverrideModel(e,!1,!0);i&&this.overrides.remove(i),t&&this.overrides.add(t.deepCopy())}},{key:"edit",value:function(e){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({radioType:this.radioType,radioName:this.radioName,defaults:e,overrides:this.getOverrideModel(e)})}}]),n}())}])},{}],86:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesConfigureWlanList",[function(){return{scope:{_overrides:"=unifiApPropertiesConfigureWlanListOverrides",currentOverrides:"=unifiApPropertiesConfigureWlanListCurrentOverrides",wlans:"=unifiApPropertiesConfigureWlanListCollection",radioType:"=unifiApPropertiesConfigureWlanListRadioType",radioName:"=unifiApPropertiesConfigureWlanListRadioName",wlanGroup:"=unifiApPropertiesConfigureWlanListWlanGroup",onEdit:"&unifiApPropertiesConfigureWlanListOnEdit",isOpen:"=unifiApPropertiesConfigureWlanListIsOpen"},controller:"ApPropertiesConfigureWlanListController",controllerAs:"apPropertiesConfigureWlanListCtrl",bindToController:!0,restrict:"E",replace:!0,template:e("./apPropertiesConfigureWlanList.pug")(),link:function(e,t,i,r){e.$watch(function(){return r.wlanGroup},function(e){r.setWlanGroupIdFilter(e?e.id:void 0)}),e.$watch(function(){return r._overrides},function(e){r.updateOverrides(e)}),e.$on("$destroy",function(){r.destroyView()})}}}])},{"./apPropertiesConfigureWlanList.pug":87}],87:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<table class="noMarginBottom appTable appTable--verticalAlignTop appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent" ng-show="apPropertiesConfigureWlanListCtrl.view.getModels().length"><thead><tr><th class="wlanName"><span translate="DEVICE_PROPERTIES_AP_WLAN_TABLE_HEADER_NAME"></span></th><th class="wlanOverrides"><span translate="DEVICE_PROPERTIES_AP_WLAN_TABLE_HEADER_OVERRIDES"></span></th><th class="wlanActions"'+r("unifi-if-role-admin",!0,!0,!0)+'><span translate="DEVICE_PROPERTIES_AP_WLAN_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in apPropertiesConfigureWlanListCtrl.view.getModels()" data-id="{{::model.id}}" ng-init="wlanOverride = apPropertiesConfigureWlanListCtrl.getOverrideModel(model, false, true)" ng-class="::{\'is-row-disabled\': !model.get(\'enabled\') &amp;&amp; !wlanOverride.get(\'enabled\')}"><td class="wlanName">{{::model.get(\'name\')}}</td><td class="wlanOverrides">{{::wlanOverride | wlanOverride: model}}</td><td class="wlanActions appTableCell--actions"'+r("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed" type="button" ng-if="!apPropertiesConfigureWlanListCtrl.wlanGroup.get(\'roam_enabled\')" ng-click="apPropertiesConfigureWlanListCtrl.edit(model)" title="{{\'COMMON_ACTIONS_OVERRIDE\' | translate}}"><span class="button__icon icon ubnt-icon--pencil"></span></button><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed" type="button" ng-if="apPropertiesConfigureWlanListCtrl.hasPendingChanges(model)" ng-click="apPropertiesConfigureWlanListCtrl.removePendingChanges(model)" title="{{\'COMMON_ACTIONS_UNDO\' | translate}}"><span class="button__icon icon ubnt-icon--reset"></span></button></td></tr></tbody></table>'};var n=/["&<>]/},{"pug-runtime":2}],88:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a,l,p,c){this.modelChangeEvent="change change:radio_table[*]",this.$translate=e,this.deviceUtils=t,this.system=i,this.wirelessNetworkGroups=n,this.wirelessNetworks=o,this.deviceRadioUtils=s,this.deviceFeatureUtils=a,this.heyToasts=l,this.apiResults=c,this.customAttrs={},r.call(this,p)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0},n.prototype.isSaveDisabled=function(){return this.isBatchEdit&&!this.radios.reduce(function(e,t){return this.customAttrs[t.get("name")].wlanGroupId&&e++,e}.bind(this),0)},n.prototype.save=function(){this.isSubmitting=!0;var e={radio_table:[]};angular.forEach(this.radios,function(t){var i=t.get("name");e.radio_table.push({name:i,radio:t.get("radio"),wlangroup_id:this.customAttrs[i].wlanGroupId})}.bind(this)),e.wlan_overrides=this.pendingOverrides.toJSON().filter(function(t){var i=this.wirelessNetworks.repository.collection.get(t.wlan_id),r=e.radio_table.find(function(e){return e.name===t.radio_name});return i&&i.get("wlangroup_id")===r.wlangroup_id}.bind(this));var t=this.isSaveQueued?"pending":void 0;return this.deviceUtils.saveDevice(this.model,e,{wait:!0,delegateTo:t,pendingGroup:this.pendingGroup}).then(function(){return this.isSaveQueued||this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS").toLowerCase()})),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.prototype.setDefaultAttrs=function(e){var t=e?"Master":"",i=e||!this.isSaveQueued?void 0:{delegateTo:"pending"};angular.forEach(this.radios,function(e){var r=this.customAttrs[e.get("name")+t]={},n=this.model&&this.model.has("radio_table")?this.model.get("radio_table",i).getNested(e.get("name")+".wlangroup_id"):void 0,o=this.isBatchEdit?void 0:(this.defaultWlanGroup||{}).id;r.wlanGroupId=n||o}.bind(this))},n.prototype.addEventHandlers=function(){r.prototype.addEventHandlers.call(this),this.wirelessNetworkGroups.repository.collection.on("add remove change reset",this.updateWlanGroupOptions,this)},n.prototype.removeEventHandlers=function(){r.prototype.removeEventHandlers.call(this),this.wirelessNetworkGroups.repository.collection.off("add remove change reset",this.updateWlanGroupOptions,this)},n.prototype.updateRadios=function(){this.radios=[],this.model&&(this.radios=this.deviceRadioUtils.getRadios(this.model))},n.prototype.updateWlanGroupOptions=function(){if(this.wlanGroupOptions=this.wlanGroupOptions||{},this.defaultWlanGroup=this.wirelessNetworkGroups.repository.collection.getDefault(),this.model){var e=!this.deviceFeatureUtils.isZeroHandoffSupported(this.model),t="wireless"===this.model.getNested("uplink.type");angular.forEach(this.radios,function(i){var r=i.get("name");this.wlanGroupOptions[r]=[],this.wirelessNetworkGroups.repository.collection.each(function(n){n.get("roam_enabled")&&(i.get("radio")!==n.get("roam_radio")||t||e)||this.wlanGroupOptions[r].push(n)}.bind(this))}.bind(this))}},n.prototype.updatePendingOverrides=function(){this.pendingOverrides=this.model?this.model.get("wlan_overrides",{delegateTo:"pending"}).deepCopy():void 0},n.prototype.hasPendingOverrides=function(){return!(!this.model||!this.pendingOverrides)&&(!this.model.get("wlan_overrides")||!angular.equals(this.model.get("wlan_overrides").toJSON(),this.pendingOverrides.toJSON()))},n.prototype.cancelEdit=function(){this.showEditForm=!1,delete this.editAttrs},n.prototype.editOverride=function(e,t,i,r){this.showEditForm=!0,this.editAttrs={defaults:i,isAcRadio:this.deviceRadioUtils.isAcRadio(this.model,t),model:r,radioName:t,radioType:e}},n.prototype.onSaveOverride=function(e,t){this.pendingOverrides.remove(this.pendingOverrides.where({wlan_id:e.get("wlan_id"),radio:e.get("radio"),radio_name:e.get("radio_name")})),t||this.pendingOverrides.add(e),this.cancelEdit()},n.prototype.onModelChange=function(){this.updateRadios(),this.updateWlanGroupOptions(),this.setDefaultAttrs(!0)},n.prototype.resetModelCopyAttrs=function(e){r.prototype.resetModelCopyAttrs.call(this,e),this.setDefaultAttrs(!1,e),this.updatePendingOverrides()},n.prototype.reset=function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1),this.updatePendingOverrides()},n.prototype.getRadioType=function(e){return!!this.model&&this.deviceRadioUtils.getRadioByName(this.model,e).get("radio")},n.$inject=["$translate","deviceUtils","system","wirelessNetworkGroups","wirelessNetworks","deviceRadioUtils","deviceFeatureUtils","heyToasts","modelDivergence","apiResults"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesConfigureWlansController",n)},{}],89:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesConfigureWlans",["updateModelDirectiveMixin","devicePropertiesConfigureWithPendingDirectiveMixin","devicePropertiesConfigureBatchDirectiveMixin",function(t,i,r){return{scope:{model:"=unifiApPropertiesConfigureWlans",withBatch:"=unifiApPropertiesConfigureWlansWithBatch",isOpen:"=unifiApPropertiesConfigureWlansIsOpen",isReadOnly:"=unifiApPropertiesConfigureWlansIsReadOnly",isSaveQueued:"=unifiApPropertiesConfigureWlansIsSaveQueued",group:"@unifiApPropertiesConfigureWlansGroup"},controller:"ApPropertiesConfigureWlansController",controllerAs:"apPropertiesConfigureWlansCtrl",template:e("./apPropertiesConfigureWlans.pug")(),link:function(e,n,o,s){e.$on("$destroy",function(){s.removeEventHandlers()}),t.init(e,n,o,s,!0),i.init(e,n,o,s),r.init(e,n,o,s)}}}])},{"./apPropertiesConfigureWlans.pug":90}],90:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div><form class="appForm appForm--cozy unifiPanelItemForm"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="apPropertiesConfigureWlansCtrl.form" ng-show="!apPropertiesConfigureWlansCtrl.showEditForm" ng-class="{      \'is-form-validation-visible\': apPropertiesConfigureWlansCtrl.showValidation,      \'is-validation-hidden\': !apPropertiesConfigureWlansCtrl.showValidation    }" ng-submit="apPropertiesConfigureWlansCtrl.form.$valid &amp;&amp; apPropertiesConfigureWlansCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="apPropertiesConfigureWlansCtrl.resolveDivergence()" unifi-config-changed-on-ignore="apPropertiesConfigureWlansCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; apPropertiesConfigureWlansCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-repeat="radio in apPropertiesConfigureWlansCtrl.radios" ng-init="radioName = radio.get(\'name\'); radioType = radio.get(\'radio\')" ng-disabled="isReadOnly" ng-class="{        \'verticalRhythmTop\': $index &gt; 0      }"><div class="appSubHeading verticalRhythm--condensed">{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS_SUBSECTION_\' + radioType.toUpperCase() + (apPropertiesConfigureWlansCtrl.deviceRadioUtils.isAcRadio(apPropertiesConfigureWlansCtrl.model, radioName) && radioType === \'na\' ? \'_AC\' : \'\') | translate}}\n&nbsp;<span ng-if="!apPropertiesConfigureWlansCtrl.isBatchEdit &amp;&amp; !apPropertiesConfigureWlansCtrl.deviceRadioUtils.isDeviceWithOneRadioPerType(apPropertiesConfigureWlansCtrl.model)">{{radioName}}</span></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_WLAN_GROUP"></label><div class="appInputGroup noMarginBottom"><select class="select--full" name="wlanGroup{{radioName}}" ng-model="apPropertiesConfigureWlansCtrl.customAttrs[radioName].wlanGroupId" ng-model-master="apPropertiesConfigureWlansCtrl.customAttrs[radioName + \'Master\'].wlanGroupId" ng-options="wlanGroup.id as wlanGroup | roaming: true for wlanGroup in apPropertiesConfigureWlansCtrl.wlanGroupOptions[radioName]"><option ng-if="apPropertiesConfigureWlansCtrl.isBatchEdit" ng-value="undefined" translate="COMMON_VALUE_KEEP_EXISTING"></option></select></div></div><unifi-ap-properties-configure-wlan-list ng-if="apPropertiesConfigureWlansCtrl.customAttrs[radioName].wlanGroupId" unifi-ap-properties-configure-wlan-list-overrides="apPropertiesConfigureWlansCtrl.pendingOverrides" unifi-ap-properties-configure-wlan-list-current-overrides="apPropertiesConfigureWlansCtrl.model.get(\'wlan_overrides\')" unifi-ap-properties-configure-wlan-list-collection="apPropertiesConfigureWlansCtrl.wirelessNetworks.repository.collection" unifi-ap-properties-configure-wlan-list-radio-name="radioName" unifi-ap-properties-configure-wlan-list-radio-type="radioType" unifi-ap-properties-configure-wlan-list-wlan-group="apPropertiesConfigureWlansCtrl.wirelessNetworkGroups.repository.collection.get(apPropertiesConfigureWlansCtrl.customAttrs[radioName].wlanGroupId)" unifi-ap-properties-configure-wlan-list-on-edit="apPropertiesConfigureWlansCtrl.editOverride(radioType, radioName, defaults, overrides)" unifi-ap-properties-configure-wlan-list-is-open="isOpen"></unifi-ap-properties-configure-wlan-list></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent verticalRhythmTop--cozy" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="apPropertiesConfigureWlansCtrl.showValidation = true" busy-toggle="apPropertiesConfigureWlansCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="apPropertiesConfigureWlansCtrl.isSaveDisabled()">{{apPropertiesConfigureWlansCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="apPropertiesConfigureWlansCtrl.reset()" ng-disabled="apPropertiesConfigureWlansCtrl.form.$pristine &amp;&amp; !apPropertiesConfigureWlansCtrl.hasPendingOverrides()">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form><div ng-if="apPropertiesConfigureWlansCtrl.showEditForm" unifi-ap-properties-configure-wlan-form="apPropertiesConfigureWlansCtrl.editAttrs.model" unifi-ap-properties-configure-wlan-form-defaults="apPropertiesConfigureWlansCtrl.editAttrs.defaults" unifi-ap-properties-configure-wlan-form-radio-name="apPropertiesConfigureWlansCtrl.editAttrs.radioName" unifi-ap-properties-configure-wlan-form-radio-type="apPropertiesConfigureWlansCtrl.editAttrs.radioType" unifi-ap-properties-configure-wlan-form-is-ac-radio="apPropertiesConfigureWlansCtrl.editAttrs.isAcRadio" unifi-ap-properties-configure-wlan-form-on-save="apPropertiesConfigureWlansCtrl.onSaveOverride(model, isDefault)" unifi-ap-properties-configure-wlan-form-on-cancel="apPropertiesConfigureWlansCtrl.cancelEdit()" unifi-ap-properties-configure-wlan-form-is-open="isOpen" unifi-ap-properties-configure-wlan-form-is-read-only="isReadOnly"></div></div>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],91:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t,i,n,o,s){this.devices=e,this.deviceUtils=t,this.frame=i,this.$q=n,this.$translate=o,this.heyToasts=s,this.sourceFilter=this.sourceFilter.bind(this),r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.copy=function(){return this.sourceModel?this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_ACTIONS_COPY_CONFIRM_TITLE",{deviceName:this.sourceModel.getDisplayName()})}.bind(this),message:function(){return this.$translate.instant("DEVICE_ACTIONS_COPY_CONFIRM_MESSAGE",{deviceName:this.sourceModel.getDisplayName()})}.bind(this),options:angular.noop}).then(function(){return this.deviceUtils.copyConfig(this.model,this.sourceModel).then(function(e){return this.heyToasts.pushSuccess(e),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(e),!1}.bind(this))}.bind(this)):this.$q.reject()},n.prototype.sourceFilter=function(e){return e.get("mac")!==this.model.get("mac")&&e.get("model")===this.model.get("model")&&e.get("adopted")},n.prototype.onModelChange=function(){},n.$inject=["devices","deviceUtils","frame","$q","$translate","heyToasts"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesCopyConfigurationController",n)},{}],92:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesCopyConfiguration",["updateModelDirectiveMixin",function(t){return{scope:{model:"=unifiApPropertiesCopyConfiguration",isOpen:"=unifiApPropertiesCopyConfigurationIsOpen"},controller:"ApPropertiesCopyConfigurationController",controllerAs:"apPropertiesCopyConfigurationCtrl",template:e("./apPropertiesCopyConfiguration.pug")(),link:function(e,i,r,n){e.$on("$destroy",function(){n.removeEventHandlers()}),t.init(e,i,r,n,!0)}}}])},{"./apPropertiesCopyConfiguration.pug":93}],93:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm unifiPanelItemForm"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="apPropertiesCopyConfigurationCtrl.form" ng-class="{    \'is-form-validation-visible\': apPropertiesCopyConfigurationCtrl.showValidation,    \'is-validation-hidden\': !apPropertiesCopyConfigurationCtrl.showValidation  }" ng-submit="apPropertiesCopyConfigurationCtrl.form.$valid &amp;&amp; apPropertiesCopyConfigurationCtrl.copy()"><fieldset class="appFieldset appFieldset--quiet"><div class="appFormGroup appFormGroup--condensed"><unifi-select-device-dropdown-list unifi-select-device-dropdown-list-selected-model="apPropertiesCopyConfigurationCtrl.sourceModel" unifi-select-device-dropdown-list-is-required="true" unifi-select-device-dropdown-list-device-filter="apPropertiesCopyConfigurationCtrl.sourceFilter(model)" unifi-select-device-dropdown-list-local-state="true" unifi-select-device-dropdown-list-local-state-key="::apPropertiesCopyConfigurationCtrl.model.get(\'mac\') + \'|copy-config\'" unifi-select-device-dropdown-list-local-state-is-temporary="true" unifi-select-device-dropdown-list-is-cozy="true" unifi-select-device-dropdown-list-no-clear="true"></unifi-select-device-dropdown-list></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="apPropertiesCopyConfigurationCtrl.showValidation = true" busy-toggle="apPropertiesCopyConfigurationCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="apPropertiesCopyConfigurationCtrl.isSaveDisabled()">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],94:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesDetails",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiApProperties",template:e("./apPropertiesDetails.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"details")}}}])},{"./apPropertiesDetails.pug":95}],95:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section" is-open="apPropertiesCtrl.accordions.details.overview"><accordion-heading><div class="inline" translate="DEVICE_PROPERTIES_SECTION_DETAILS_OVERVIEW"></div></accordion-heading><div ng-if="apPropertiesCtrl.accordions.details.overview"><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow macAddress"><dt translate="DEVICE_PROPERTIES_LABEL_MAC_ADDRESS"></dt><dd>{{::apPropertiesCtrl.model.get(\'mac\')}}</dd></div><div class="appDescriptionListRow modelName"><dt translate="DEVICE_PROPERTIES_LABEL_MODEL"></dt><dd>{{apPropertiesCtrl.deviceStateUtils.getDeviceModelName(apPropertiesCtrl.model)}}</dd></div><div class="appDescriptionListRow version"><dt translate="DEVICE_PROPERTIES_LABEL_VERSION"></dt><dd><span ng-if="apPropertiesCtrl.model.get(\'version\')">{{apPropertiesCtrl.model.get(\'version\')}}</span><span ng-if="!apPropertiesCtrl.model.get(\'version\')" translate="DEVICE_PROPERTIES_VALUES_VERSION_NOT_AVAILABLE"></span></dd></div><div class="appDescriptionListRow boardRev" ng-if="apPropertiesCtrl.model.get(\'board_rev\')"><dt translate="DEVICE_PROPERTIES_LABEL_BOARD_REV"></dt><dd>{{apPropertiesCtrl.model.get(\'board_rev\')}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline"><div class="appDescriptionListRow ipAddress"><dt translate="DEVICE_PROPERTIES_LABEL_IP_ADDRESS"></dt><dd><span unifi-if-advanced-features="false">{{apPropertiesCtrl.model.get(\'ip\')}}</span><span unifi-if-advanced-features="true" unifi-open-terminal="apPropertiesCtrl.model" unifi-open-terminal-is-available="terminalAvailable" ng-class="{\'appLink\': terminalAvailable}">{{apPropertiesCtrl.model.get(\'ip\')}}</span></dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="apPropertiesCtrl.deviceStatus === \'success\'"><div class="appDescriptionListRow uptime"><dt translate="DEVICE_PROPERTIES_LABEL_UPTIME"></dt><dd>{{apPropertiesCtrl.model.get(\'uptime\') | seconds}}</dd></div><div class="appDescriptionListRow memory" ng-if="apPropertiesCtrl.model.getNested(\'sys_stats.mem_total\')"><dt translate="DEVICE_PROPERTIES_LABEL_MEMORY_USAGE"></dt><dd>{{apPropertiesCtrl.model.getNested(\'sys_stats.mem_used\') | percent: apPropertiesCtrl.model.getNested(\'sys_stats.mem_total\')}}</dd></div><div class="appDescriptionListRow load" ng-if="apPropertiesCtrl.model.getNested(\'sys_stats.loadavg_1\')"><dt translate="DEVICE_PROPERTIES_LABEL_LOAD_AVERAGE"></dt><dd><span class="mr-1">{{apPropertiesCtrl.model.get(\'sys_stats\') | loadAvg}}</span><unifi-tooltip><content translate="DEVICE_PROPERTIES_TOOLTIP_LOAD_AVERAGE"></content></unifi-tooltip></dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="apPropertiesCtrl.deviceStatus === \'success\'"><div class="appDescriptionListRow numUsers"><dt translate="DEVICE_PROPERTIES_LABEL_NUM_USERS"></dt><dd>{{apPropertiesCtrl.model.get(\'user-num_sta\')}}</dd></div><div class="appDescriptionListRow numGuests"><dt translate="DEVICE_PROPERTIES_LABEL_NUM_GUESTS"></dt><dd>{{apPropertiesCtrl.model.get(\'guest-num_sta\')}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="apPropertiesCtrl.deviceStatus !== \'success\'"><div class="appDescriptionListRow uplinkName" ng-if="apPropertiesCtrl.uplinkAttrs"><dt translate="DEVICE_PROPERTIES_LABEL_LAST_UPLINK"></dt><dd unifi-device-uplink="::apPropertiesCtrl.model"></dd></div><div class="appDescriptionListRow lastSeen"><dt translate="DEVICE_PROPERTIES_LABEL_LAST_SEEN"></dt><dd><span ng-if="apPropertiesCtrl.model.get(\'last_seen\')">{{apPropertiesCtrl.model.get(\'last_seen\') * 1000 | lastSeen}}</span><span ng-if="!apPropertiesCtrl.model.get(\'last_seen\')" translate="DEVICE_PROPERTIES_VALUES_LAST_SEEN_NEVER"></span></dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="apPropertiesCtrl.model.get(\'baresip_enabled\')"><div class="appDescriptionListRow sipExtension"><dt translate="DEVICE_PROPERTIES_LABEL_SIP_EXTENSION"></dt><dd>{{apPropertiesCtrl.model.get(\'baresip_extension\')}}</dd></div><div class="appDescriptionListRow sipVolume"><dt translate="DEVICE_PROPERTIES_LABEL_SIP_VOLUME"></dt><dd>{{apPropertiesCtrl.model.get(\'volume\')}}</dd></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apPropertiesCtrl.showEliteAccordion" is-open="apPropertiesCtrl.accordions.details.elite"><accordion-heading><div class="inline" translate="DEVICE_PROPERTIES_SECTION_DETAILS_ELITE"></div></accordion-heading><unifi-device-properties-elite ng-if="apPropertiesCtrl.accordions.details.elite" unifi-device-properties-elite-model="apPropertiesCtrl.model"></unifi-device-properties-elite></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apPropertiesCtrl.uplinkAttrs.type" is-open="apPropertiesCtrl.accordions.details.uplink"><accordion-heading><div class="inline" translate="DEVICE_PROPERTIES_SECTION_DETAILS_UPLINK"></div><div class="inlineBlock" ng-if="apPropertiesCtrl.uplinkAttrs.type === \'wire\'">&nbsp;({{\'DEVICE_PROPERTIES_SECTION_DETAILS_UPLINK_TYPE_WIRED\' | translate}})</div><div class="inlineBlock" ng-if="apPropertiesCtrl.uplinkAttrs.type === \'wireless\'">&nbsp;({{\'DEVICE_PROPERTIES_SECTION_DETAILS_UPLINK_TYPE_WIRELESS\' | translate}})</div></accordion-heading><div ng-if="apPropertiesCtrl.accordions.details.uplink"><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="apPropertiesCtrl.uplinkAttrs.type === \'wire\'"><div class="appDescriptionListRow uplinkName"><dt translate="DEVICE_PROPERTIES_LABEL_UPLINK"></dt><dd unifi-device-uplink="::apPropertiesCtrl.model"></dd></div><div class="appDescriptionListRow uplinkSpeed"><dt translate="DEVICE_PROPERTIES_LABEL_SPEED"></dt><dd>{{apPropertiesCtrl.uplinkAttrs.speed || (\'DEVICE_PROPERTIES_VALUES_SPEED_UNKNOWN\' | translate)}}</dd></div><div class="appDescriptionListRow uplinkDuplex"><dt translate="DEVICE_PROPERTIES_LABEL_DUPLEX"></dt><dd>{{(apPropertiesCtrl.uplinkAttrs.full_duplex ? \'DEVICE_PROPERTIES_VALUES_DUPLEX_FULL\' : \'DEVICE_PROPERTIES_VALUES_DUPLEX_HALF\') | translate}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="apPropertiesCtrl.uplinkAttrs.type === \'wireless\'"><div class="appDescriptionListRow uplinkName"><dt translate="DEVICE_PROPERTIES_LABEL_UPLINK_AP"></dt><dd unifi-device-uplink="::apPropertiesCtrl.model"></dd></div><div class="appDescriptionListRow uplinkRssi"><dt translate="DEVICE_PROPERTIES_LABEL_SIGNAL"></dt><dd>{{apPropertiesCtrl.uplinkAttrs.rssi | rssi}} ({{apPropertiesCtrl.uplinkAttrs.rssi | rssiToDbm}})</dd></div><div class="appDescriptionListRow uplinkTxRate"><dt translate="DEVICE_PROPERTIES_LABEL_TX_RATE"></dt><dd>{{apPropertiesCtrl.uplinkAttrs.tx_rate | rxtx}}</dd></div><div class="appDescriptionListRow uplinkRxRate"><dt translate="DEVICE_PROPERTIES_LABEL_RX_RATE"></dt><dd>{{apPropertiesCtrl.uplinkAttrs.rx_rate | rxtx}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline"><div class="appDescriptionListRow uplinkDownPktsBytes"><dt translate="DEVICE_PROPERTIES_LABEL_DOWN_PKTS_BYTES"></dt><dd>{{apPropertiesCtrl.uplinkAttrs.rx_packets && apPropertiesCtrl.uplinkAttrs.rx_bytes ? (apPropertiesCtrl.uplinkAttrs.rx_packets | numberToString) + \' / \' + (apPropertiesCtrl.uplinkAttrs.rx_bytes | bytes) : \'0.00 / 0.00\'}}</dd></div><div class="appDescriptionListRow uplinkUpPktsBytes"><dt translate="DEVICE_PROPERTIES_LABEL_UP_PKTS_BYTES"></dt><dd>{{apPropertiesCtrl.uplinkAttrs.tx_packets && apPropertiesCtrl.uplinkAttrs.tx_bytes ? (apPropertiesCtrl.uplinkAttrs.tx_packets | numberToString) + \' / \' + (apPropertiesCtrl.uplinkAttrs.tx_bytes | bytes) : \'0.00 / 0.00\'}}</dd></div><div class="appDescriptionListRow uplinkActivity"><dt translate="DEVICE_PROPERTIES_LABEL_ACTIVITY"></dt><dd>{{(apPropertiesCtrl.uplinkAttrs[\'rx_bytes-r\'] || 0) + (apPropertiesCtrl.uplinkAttrs[\'tx_bytes-r\'] || 0) | bps:{convertFromBytes:true} }}</dd></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apPropertiesCtrl.model.get(\'downlink_table\').length" is-open="apPropertiesCtrl.accordions.details.downlinks"><accordion-heading><div class="inline" translate="DEVICE_PROPERTIES_SECTION_DETAILS_DOWNLINKS"></div></accordion-heading><unifi-ap-properties-downlink-list ng-if="apPropertiesCtrl.accordions.details.downlinks" unifi-ap-properties-downlink-list-local-state="true" unifi-ap-properties-downlink-list-local-state-key="::apPropertiesCtrl.model.get(\'mac\') + \'|downlinks\'" unifi-ap-properties-downlink-list-uplink="::apPropertiesCtrl.model" unifi-ap-properties-downlink-list-downlinks="apPropertiesCtrl.model.get(\'downlink_table\')"></unifi-ap-properties-downlink-list></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-repeat="radio in apPropertiesCtrl.deviceRadioUtils.getRadios(apPropertiesCtrl.model)" ng-init="radioName = radio.get(\'name\'); radioType = radio.get(\'radio\')" is-open="apPropertiesCtrl.accordions.details[radio.get(\'name\')]"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_RADIO_\' + radioType.toUpperCase() + (radioType === \'na\' && apPropertiesCtrl.deviceRadioUtils.isAcRadio(apPropertiesCtrl.model, radioName) ? \'_AC\' : \'\') | translate}}<div class="inlineBlock" ng-if="!apPropertiesCtrl.deviceRadioUtils.isDeviceWithOneRadioPerType(apPropertiesCtrl.model)">&nbsp;{{radioName}}</div></accordion-heading><unifi-ap-properties-details-radio ng-if="apPropertiesCtrl.accordions.details[radioName]" unifi-ap-properties-details-radio-model="::apPropertiesCtrl.model" unifi-ap-properties-details-radio="radio"></unifi-ap-properties-details-radio></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apPropertiesCtrl.showWlansAccordion" is-open="apPropertiesCtrl.accordions.details.wlans"><accordion-heading><div class="inline" translate="DEVICE_PROPERTIES_SECTION_DETAILS_WLANS"></div></accordion-heading><unifi-ap-properties-details-wlans-list ng-if="apPropertiesCtrl.accordions.details.wlans" unifi-ap-properties-details-wlans-list-model="::apPropertiesCtrl.model"></unifi-ap-properties-details-wlans-list></accordion-group></accordion>'}},{"pug-runtime":2}],96:[function(e,t,i){"use strict";function r(e){this.deviceRadioUtils=e}r.$inject=["deviceRadioUtils"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesDetailsRadioController",r)},{}],97:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesDetailsRadio",[function(){return{scope:{model:"=unifiApPropertiesDetailsRadioModel",radio:"=unifiApPropertiesDetailsRadio"},controller:"ApPropertiesDetailsRadioController",controllerAs:"apPropertiesDetailsRadioCtrl",bindToController:!0,template:e("./apPropertiesDetailsRadio.pug")(),restrict:"E"}}])},{"./apPropertiesDetailsRadio.pug":98}],98:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+="<div><div class=\"appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider\"><div class=\"appDescriptionListRow radioChannel\"><dt>{{'DEVICE_PROPERTIES_LABEL_CHANNEL' | translate}}</dt><dd><unifi-device-channel unifi-device-channel-model=\"apPropertiesDetailsRadioCtrl.model\" unifi-device-channel-radio=\"apPropertiesDetailsRadioCtrl.radio\" unifi-device-channel-hide-power-info=\"true\"></unifi-device-channel></dd></div><div class=\"appDescriptionListRow radioPower\"><dt>{{'DEVICE_PROPERTIES_LABEL_TRANSMIT_POWER' | translate}}</dt><dd>{{apPropertiesDetailsRadioCtrl.deviceRadioUtils.getRadioStatsTransmitPowerString(apPropertiesDetailsRadioCtrl.model, apPropertiesDetailsRadioCtrl.radio)}}</dd></div><div class=\"appDescriptionListRow radioTxPktsBytes\"><dt>{{'DEVICE_PROPERTIES_LABEL_TX_PKTS_BYTES' | translate}}</dt><dd>{{apPropertiesDetailsRadioCtrl.deviceRadioUtils.getPacketsPerBytes(apPropertiesDetailsRadioCtrl.model, apPropertiesDetailsRadioCtrl.radio, 'tx')}}</dd></div><div class=\"appDescriptionListRow radioRxPktsBytes\"><dt>{{'DEVICE_PROPERTIES_LABEL_RX_PKTS_BYTES' | translate}}</dt><dd>{{apPropertiesDetailsRadioCtrl.deviceRadioUtils.getPacketsPerBytes(apPropertiesDetailsRadioCtrl.model, apPropertiesDetailsRadioCtrl.radio, 'rx')}}</dd></div><div class=\"appDescriptionListRow radioTxRetryDropped\"><dt>{{'DEVICE_PROPERTIES_LABEL_TX_RETRY_DROPPED' | translate}}</dt><dd>{{apPropertiesDetailsRadioCtrl.deviceRadioUtils.getRetryDroppedPercentage(apPropertiesDetailsRadioCtrl.model, apPropertiesDetailsRadioCtrl.radio, 'tx')}}</dd></div><div class=\"appDescriptionListRow radioRxRetryDropped\"><dt>{{'DEVICE_PROPERTIES_LABEL_RX_RETRY_DROPPED' | translate}}</dt><dd>{{apPropertiesDetailsRadioCtrl.deviceRadioUtils.getRetryDroppedPercentage(apPropertiesDetailsRadioCtrl.model, apPropertiesDetailsRadioCtrl.radio, 'rx')}}</dd></div><div class=\"appDescriptionListRow radioChannelUtilization\" ng-if=\"apPropertiesDetailsRadioCtrl.deviceRadioUtils.getRadioStatsByName(apPropertiesDetailsRadioCtrl.model, apPropertiesDetailsRadioCtrl.radio.get('name')).get('cu_total')\"><dt>{{'DEVICE_PROPERTIES_LABEL_CHANNEL_UTILIZATION' | translate}}</dt><dd>{{apPropertiesDetailsRadioCtrl.model | radioStatsChannelUtilization: apPropertiesDetailsRadioCtrl.radio}}</dd></div></div><div class=\"appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline\"><div class=\"appDescriptionListRow radioNumUsers\"><dt>{{'DEVICE_PROPERTIES_LABEL_NUM_USERS' | translate}}</dt><dd>{{apPropertiesDetailsRadioCtrl.deviceRadioUtils.getRadioStatsByName(apPropertiesDetailsRadioCtrl.model, apPropertiesDetailsRadioCtrl.radio.get('name')).get('user-num_sta')}}</dd></div><div class=\"appDescriptionListRow radioNumGuests\"><dt>{{'DEVICE_PROPERTIES_LABEL_NUM_GUESTS' | translate}}</dt><dd>{{apPropertiesDetailsRadioCtrl.deviceRadioUtils.getRadioStatsByName(apPropertiesDetailsRadioCtrl.model, apPropertiesDetailsRadioCtrl.radio.get('name')).get('guest-num_sta')}}</dd></div></div></div>"}},{"pug-runtime":2}],99:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("ApPropertiesDetailsWlansListController",["BasePaginatedListController","preferences",function(e,t){return new(function(i){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.rowsPerPage=t.model.getRowsPerPropertyPanel(),e.defaultSortBy="name",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"getCollection",value:function(){return this.model.get("vap_table")}}]),n}())}])},{}],100:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesDetailsWlansList",["PaginatedListDirective",function(t){return new t("apPropertiesDetailsWlans",e("./apPropertiesDetailsWlansList.pug")(),{model:"=unifiApPropertiesDetailsWlansListModel"})}])},{"./apPropertiesDetailsWlansList.pug":101}],101:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appScrollable flexFlag__body fullWidth"><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent" collection-view-sort="apPropertiesDetailsWlansListCtrl.view"><thead><tr><th class="name" collection-view-sort-by="name"><span>{{\'DEVICE_PROPERTIES_AP_WLANS_TABLE_HEADER_NAME\' | translate}}</span></th><th class="bssid" collection-view-sort-by="bssid"><span>{{\'DEVICE_PROPERTIES_AP_WLANS_TABLE_HEADER_BSSID\' | translate}}</span></th><th class="essid" collection-view-sort-by="essid"><span>{{\'DEVICE_PROPERTIES_AP_WLANS_TABLE_HEADER_ESSID\' | translate}}</span></th><th class="channel" collection-view-sort-by="channel"><span>{{\'DEVICE_PROPERTIES_AP_WLANS_TABLE_HEADER_CHANNEL\' | translate}}</span></th></tr></thead><tfoot ng-if="apPropertiesDetailsWlansListCtrl.view.getModels().length"><tr><td colspan="4"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="apPropertiesDetailsWlansListCtrl.currentPage" unifi-micro-pagination-rows-per-page="apPropertiesDetailsWlansListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="apPropertiesDetailsWlansListCtrl.model.get(\'vap_table\').length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="entry in apPropertiesDetailsWlansListCtrl.view.getModels(),          startFrom (apPropertiesDetailsWlansListCtrl.currentPage - 1) * apPropertiesDetailsWlansListCtrl.rowsPerPage,          limitTo apPropertiesDetailsWlansListCtrl.rowsPerPage"><td class="name">{{::entry.get(\'name\')}}</td><td class="bssid">{{::entry.get(\'bssid\')}}</td><td class="essid">{{::entry.get(\'essid\')}}</td><td class="channel">{{::entry.get(\'channel\')}}</td></tr></tbody></table></div>'}},{"pug-runtime":2}],102:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("ApPropertiesDownlinkListController",["BasePaginatedListController","devices","CollectionView","preferences",function(e,t,i,n){return new(function(i){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return e.devices=t,e.rowsPerPage=n.model.getRowsPerPropertyPanel(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),r(o,[{key:"getCollection",value:function(){return this.downlinks}},{key:"onPageSizeChange",value:function(){}}]),o}())}])},{}],103:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesDownlinkList",["PaginatedListDirective",function(t){return new t("apPropertiesDownlink",e("./apPropertiesDownlinkList.pug")(),{uplink:"=unifiApPropertiesDownlinkListUplink",downlinks:"=unifiApPropertiesDownlinkListDownlinks"})}])},{"./apPropertiesDownlinkList.pug":104}],104:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="appScrollable flexFlag__body fullWidth"><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent"><thead><tr><th class="downlinkAp"><span translate="DEVICE_PROPERTIES_AP_DOWNLINKS_TABLE_HEADER_AP"></span></th><th class="downlinkSignal"><span translate="DEVICE_PROPERTIES_AP_DOWNLINKS_TABLE_HEADER_SIGNAL"></span></th><th class="downlinkActions"'+r("unifi-if-role-admin",!0,!0,!0)+'><span translate="DEVICE_PROPERTIES_AP_DOWNLINKS_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tfoot ng-if="apPropertiesDownlinkListCtrl.view.getModels().length"><tr><td colspan="3"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="apPropertiesDownlinkListCtrl.currentPage" unifi-micro-pagination-rows-per-page="apPropertiesDownlinkListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="apPropertiesDownlinkListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in apPropertiesDownlinkListCtrl.view.getModels(),          startFrom (apPropertiesDownlinkListCtrl.currentPage - 1) * apPropertiesDownlinkListCtrl.rowsPerPage,          limitTo apPropertiesDownlinkListCtrl.rowsPerPage" data-id="{{::model.id}}" ng-init="device = apPropertiesDownlinkListCtrl.devices.repository.collection.get(model.get(\'ap_mac\'))"><td class="downlinkAp"><a unifi-open-panel="device" unifi-open-panel-active-tab="\'details\'">{{::device.getDisplayName()}}</a></td><td class="downlinkSignal">{{::model.get(\'rssi\') | rssi}} ({{::model.get(\'rssi\') | rssiToDbm}})</td><td class="downlinkActions appTableCell--actions"'+r("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed"'+r("unifi-device-button-unlink",!0,!0,!0)+' unifi-device-button-unlink-uplink="::apPropertiesDownlinkListCtrl.uplink" unifi-device-button-unlink-downlink="::device"></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!apPropertiesDownlinkListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_DOWNLINKS_TABLE_EMPTY"></p></div></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],105:[function(e,t,i){"use strict";function r(e,t,i,r,n,o,s,a,l,p){this.$q=e,this.$translate=t,this.API_STRINGS=a,this.apiResults=i,this.frame=n,this.heyToasts=o,this.RF_ENVIRONMENT_SETTINGS=p,this.rfEnvironment=s,this.RADIO_TYPES=l,this.deviceRadioUtils=r}r.prototype.$onInit=function(){this.activeRadioType=this.deviceRadioUtils.hasRadioType(this.model,this.RADIO_TYPES.NG.type)?this.RADIO_TYPES.NG.type:this.RADIO_TYPES.NA.type,this.spectrumScan=this.rfEnvironment.getSpectrumScan(this.model.get("mac")),this.spectrumScan.resolve().then(function(){this.isScanning()&&this.refreshSpectrumScanResult()}.bind(this))},r.prototype._executeScanning=function(){var e=this.model.getDisplayName();return this.rfEnvironment.startSpectrumScan(this.model).then(function(){this.heyToasts.pushSuccess(this.$translate.instant("DEVICE_PROPERTIES_RF_ENVIRONMENT_START_SCAN_SUCCESS",{deviceName:e}))}.bind(this)).catch(function(t){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("DEVICE_PROPERTIES_RF_ENVIRONMENT_START_SCAN_FAILURE",{deviceName:e}),t)),this.$q.reject()}.bind(this)).then(function(){this.refreshSpectrumScanResult()}.bind(this))},r.prototype.refreshSpectrumScanResult=function(){var e=this.model.getDisplayName();return this.rfEnvironment.refreshSpectrumScanResults(this.spectrumScan,this.model).then(function(){this.heyToasts.pushSuccess(this.$translate.instant("DEVICE_PROPERTIES_RF_ENVIRONMENT_REFRESH_SCAN_SUCCESS",{deviceName:e}),this.RF_ENVIRONMENT_SETTINGS.DEVICE_FETCH.HEY_TOAST_DELAY)}.bind(this))},r.prototype.startScanning=function(){return this.frame.show("confirm",{title:this.$translate.instant.bind(this,"DEVICE_PROPERTIES_RF_ENVIRONMENT_START_SCAN_CONFIRM_TITLE"),message:this.$translate.instant.bind(this,"DEVICE_PROPERTIES_RF_ENVIRONMENT_START_SCAN_CONFIRM_MESSAGE"),options:angular.noop}).then(function(){return this._executeScanning()}.bind(this))},r.prototype.stopRefreshingSpectrumScanResult=function(){this.rfEnvironment.stopRefreshingSpectrumScanResults(this.spectrumScan)},r.prototype.isScanning=function(){return this.rfEnvironment.isScanning(this.spectrumScan)},r.prototype.isBusy=function(){return this.isScanning()||this.spectrumScan.isLoading},r.prototype.hasWiredUplink=function(){return"wire"===this.model.getNested("uplink.type")},r.prototype.getLastScanningTime=function(e){return this.rfEnvironment.getLastScanningTime(this.spectrumScan,e)},r.$inject=["$q","$translate","apiResults","deviceRadioUtils","frame","heyToasts","rfEnvironment","API_STRINGS","RADIO_TYPES","RF_ENVIRONMENT_SETTINGS"],angular.module("app-unifi-manage-property-panel").controller("ApPropertiesRfEnvironmentController",r)},{}],106:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesRfEnvironment",["d3BBox",function(t){return{bindToController:!0,controller:"ApPropertiesRfEnvironmentController",controllerAs:"apPropertiesRfEnvironmentCtrl",replace:!0,scope:{model:"=unifiApPropertiesRfEnvironmentModel"},template:e("./apPropertiesRfEnvironment.pug")(),link:function(e,i,r,n){e.rfTooltipVisible=!1,e.getParentWidth=function(e){return e.offsetParent.offsetWidth},e.getChartWidth=function(e){return e.offsetWidth},e.rfTooltipHandlers={mouseover:function(r,n){e.$apply(function(){var o,s,a;e.rfTooltipVisible=!0,e.rfTooltipContent=n;var l=t.getRelativeBBox(r.target,i[0]),p=e.getParentWidth(i[0]),c=p-e.getChartWidth(i[0]);p>345?(a=Math.ceil(l.left+l.width/2+c/2),s=Math.ceil(-l.right+l.width/2+c/2),o=(a<=125?"right":s<=125&&"left")||"center"):(a=s=Math.round(p/2),o="standalone"),e.rfTooltipOffset={left:a+"px",right:s+"px",bottom:Math.ceil(-l.bottom+l.height+20)+"px",align:o}})},mouseout:function(){e.$apply(function(){e.rfTooltipVisible=!1})}},e.$on("$destroy",function(){n.stopRefreshingSpectrumScanResult()})}}}])},{"./apPropertiesRfEnvironment.pug":107}],107:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiRfEnvironmentProperties"><div class="appRow appRow--comfy" ng-if="apPropertiesRfEnvironmentCtrl.hasWiredUplink()"><div class="col--xs4"><div class="appActionBarFilters appActionBarFilters"><div class="appActionBarFilter appActionBarFilter--noBorder"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter noMarginBottom"><li class="button appMainButton appMainButton--cozy" ng-class="{\'is-button-selected\': apPropertiesRfEnvironmentCtrl.activeRadioType === apPropertiesRfEnvironmentCtrl.RADIO_TYPES.NG.type}" ng-click="apPropertiesRfEnvironmentCtrl.activeRadioType = apPropertiesRfEnvironmentCtrl.RADIO_TYPES.NG.type" ng-if="apPropertiesRfEnvironmentCtrl.deviceRadioUtils.hasRadioType(apPropertiesRfEnvironmentCtrl.model, apPropertiesRfEnvironmentCtrl.RADIO_TYPES.NG.type)" translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_LABEL_2G"></li><li class="button appMainButton appMainButton--cozy" ng-class="{\'is-button-selected\': apPropertiesRfEnvironmentCtrl.activeRadioType === apPropertiesRfEnvironmentCtrl.RADIO_TYPES.NA.type}" ng-click="apPropertiesRfEnvironmentCtrl.activeRadioType = apPropertiesRfEnvironmentCtrl.RADIO_TYPES.NA.type" ng-if="apPropertiesRfEnvironmentCtrl.deviceRadioUtils.hasRadioType(apPropertiesRfEnvironmentCtrl.model, apPropertiesRfEnvironmentCtrl.RADIO_TYPES.NA.type)" translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_LABEL_5G"></li></ul></div></div></div><div class="col--xs8"'+r("unifi-if-role-admin",!0,!0,!0)+'><div class="appActionBarFilters appActionBarFilters--right"><div class="appActionBarFilter appActionBarFilter--noBorder"><button class="appMainButton appMainButton--primary appMainButton--cozy" busy-toggle="apPropertiesRfEnvironmentCtrl.isBusy()" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="apPropertiesRfEnvironmentCtrl.isBusy()" ng-click="apPropertiesRfEnvironmentCtrl.startScanning()" translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_ACTION_START_SCAN"></button></div></div></div></div><div class="appRow appRow--comfy" ng-if="!apPropertiesRfEnvironmentCtrl.hasWiredUplink()"><div class="col--xs12"><div class="appInfoBox appInfoBox--danger appInfoBox--cozy appInfoBox--noBorder verticalRhythm--cozy"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_DISABLED_MESSAGE"></p></div></div></div></div></div><div ng-if="apPropertiesRfEnvironmentCtrl.hasWiredUplink()"><unifi-rf-environment-tooltip ng-if="rfTooltipVisible"'+r("unifi-position-absolutely",!0,!0,!0)+' unifi-rf-environment-tooltip-content="rfTooltipContent" unifi-rf-environment-tooltip-offset="rfTooltipOffset"></unifi-rf-environment-tooltip><unifi-rf-environment-chart unifi-rf-environment-chart-handlers="rfTooltipHandlers" unifi-rf-environment-chart-device="apPropertiesRfEnvironmentCtrl.model" unifi-rf-environment-chart-spectrum-scan="apPropertiesRfEnvironmentCtrl.spectrumScan" unifi-rf-environment-chart-radio-type="apPropertiesRfEnvironmentCtrl.activeRadioType"></unifi-rf-environment-chart></div><div class="appRow appRow--comfy"><div class="col--xs12 frame"><unifi-rf-environment-legend></unifi-rf-environment-legend></div></div><div class="appRow appRow--cozy" ng-hide="apPropertiesRfEnvironmentCtrl.isBusy()"><div class="col--xs12"><div class="alignCenter appType--quiet type--small alignCenter"><span>{{ \'DEVICE_PROPERTIES_RF_ENVIRONMENT_SCAN_STATUS_LAST_SCAN\' | translate }}&nbsp;</span><span ng-show="apPropertiesRfEnvironmentCtrl.getLastScanningTime(apPropertiesRfEnvironmentCtrl.activeRadioType)">{{ apPropertiesRfEnvironmentCtrl.getLastScanningTime(apPropertiesRfEnvironmentCtrl.activeRadioType) | lastSeen }}</span><span ng-hide="apPropertiesRfEnvironmentCtrl.getLastScanningTime(apPropertiesRfEnvironmentCtrl.activeRadioType)" translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_SCAN_STATUS_NEVER_SCANNED"></span></div></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],108:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesTools",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiApProperties",template:e("./apPropertiesTools.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"tools")}}}])},{"./apPropertiesTools.pug":109}],109:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section" ng-if="apPropertiesCtrl.showRfEnvironmentAccordion" is-open="apPropertiesCtrl.accordions.tools.rfEnvironment"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_RF_ENVIRONMENT\' | translate}}</accordion-heading><unifi-ap-properties-rf-environment unifi-initialize-when="apPropertiesCtrl.accordions.tools.rfEnvironment" unifi-ap-properties-rf-environment-model="::apPropertiesCtrl.model"></unifi-ap-properties-rf-environment></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apPropertiesCtrl.showAirTimeAccordion" is-open="apPropertiesCtrl.accordions.tools.airTime"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_AIR_TIME\' | translate}}</accordion-heading><unifi-ap-properties-air-time unifi-initialize-when="apPropertiesCtrl.accordions.tools.airTime" unifi-ap-properties-air-time-model="::apPropertiesCtrl.model"></unifi-ap-properties-air-time></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apPropertiesCtrl.showAirViewAccordion" is-open="apPropertiesCtrl.accordions.tools.airView"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_AIR_VIEW\' | translate}}</accordion-heading><unifi-ap-properties-air-view unifi-initialize-when="apPropertiesCtrl.accordions.tools.airView" unifi-ap-properties-air-view-model="::apPropertiesCtrl.model"></unifi-ap-properties-air-view></accordion-group><accordion-group class="unifiPanelItemContent__section debugTerminal visible--desktop" ng-if="apPropertiesCtrl.isAdmin() &amp;&amp; apPropertiesCtrl.showTerminalAccordion" is-open="apPropertiesCtrl.accordions.tools.terminal"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_DEBUG_TERMINAL\' | translate}}</accordion-heading><div unifi-initialize-when="apPropertiesCtrl.accordions.tools.terminal" unifi-pause-children-watchers="!apPropertiesCtrl.accordions.tools.terminal"'+(i="unifi-pause-children-watchers-and-create-scope",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+'><div class="apPropertiesConfigureDebugTerminal" unifi-device-properties-debug-terminal="::apPropertiesCtrl.model" unifi-device-properties-debug-terminal-is-open="apPropertiesCtrl.accordions.tools.terminal"></div></div></accordion-group></accordion>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],110:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("ApPropertiesUplinkListController",["BasePaginatedListController","devices","preferences",function(e,t,i){return new(function(n){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return e.getUplinkDevice=t.repository.collection.get.bind(t.repository.collection),e.rowsPerPage=i.model.getRowsPerPropertyPanel(),e.defaultSortBy="rssi",e.defaultSortDesc=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),r(o,[{key:"getCollection",value:function(){return this.uplinks}},{key:"onPageSizeChange",value:function(){}}]),o}())}])},{}],111:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApPropertiesUplinkList",["PaginatedListDirective",function(t){return new t("apPropertiesUplink",e("./apPropertiesUplinkList.pug")(),{uplinks:"=unifiApPropertiesUplinkListUplinks",downlink:"=unifiApPropertiesUplinkListDownlink"})}])},{"./apPropertiesUplinkList.pug":112}],112:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent" collection-view-sort="apPropertiesUplinkListCtrl.view"><thead><tr><th class="uplinkAp" collection-view-sort-by="name"><span translate="DEVICE_PROPERTIES_AP_UPLINKS_TABLE_HEADER_AP"></span></th><th class="uplinkChannel" collection-view-sort-by="channel"><span translate="DEVICE_PROPERTIES_AP_UPLINKS_TABLE_HEADER_CHANNEL"></span></th><th class="uplinkSignal" collection-view-sort-by="rssi"><span translate="DEVICE_PROPERTIES_AP_UPLINKS_TABLE_HEADER_SIGNAL"></span></th></tr></thead><tfoot ng-if="apPropertiesUplinkListCtrl.view.getModels().length"><tr><td colspan="3"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="apPropertiesUplinkListCtrl.currentPage" unifi-micro-pagination-rows-per-page="apPropertiesUplinkListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="apPropertiesUplinkListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="model in apPropertiesUplinkListCtrl.view.getModels(),          startFrom (apPropertiesUplinkListCtrl.currentPage - 1) * apPropertiesUplinkListCtrl.rowsPerPage,          limitTo apPropertiesUplinkListCtrl.rowsPerPage" data-id="{{::model.id}}" ng-init="device = apPropertiesUplinkListCtrl.getUplinkDevice(model.get(\'mac\'))"><td class="uplinkAp"><span class="icon ubnt-icon--link success horizontalRhythm--condensed" ng-if="model.get(\'mac\') === apPropertiesUplinkListCtrl.downlink.get(\'uplink_ap_mac\')"></span><a unifi-open-panel="device" unifi-open-panel-active-tab="\'details\'">{{::device.getDisplayName()}}</a></td><td class="uplinkChannel">{{::model.get(\'channel\')}}</td><td class="uplinkSignal">{{::model.get(\'rssi\') | rssi}} ({{::model.get(\'rssi\') | rssiToDbm}})</td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!apPropertiesUplinkListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_AP_UPLINKS_TABLE_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":2}],113:[function(e,t,i){"use strict";var r=e("../../controllers/BasePropertiesController");function n(e,t,i,n,o,s,a,l,p,c,d,u,g,f,h,m,v,C,P,_,E,S,I,y,b){s(this),a(this),this.$timeout=t,this.PortCollection=n,this.deviceFeatureUtils=l,this.deviceRadioUtils=p,this.devices=c,this.deviceStateUtils=d,this.deviceUplinkUtils=u,this.networks=f,this.repositoryUtils=m,this.rfEnvironment=v,this.settings=C,this.switches=P,this.switchUtils=_,this.system=E,this.tags=S,this.wirelessNetworkGroups=I,this.wirelessNetworks=y,this.DEVICE_STATES=b,this.isSaveQueued=!0,this.modelChangeEvent="change change:port_table[*]",this.initChange=!0,this.accordions={details:{overview:!0},configure:{general:!0}},this.validators={warnings:void 0},this.repositories=["networks","switches","system","tags","wirelessNetworkGroups","wirelessNetworks"],r.call(this,e,t,i,h,o,g)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.resolve=function(){return this.repositoryUtils.registerAndFetchGroup(this.repositories)},n.prototype.destroy=function(){this.destroyBatchEditModel(),this.repositoryUtils.unregisterGroup(this.repositories)},n.prototype.reset=function(){this.deviceState=void 0,this.deviceStatus=void 0,this.uplinkAttrs={},this.totalPower=0,this.hasUplink=!1,this.hasDownlinks=!1,this.showChannelUtilizationDiagram=!1,this.tabsVisibility={ports:!1,clients:!1,configure:!1,tools:!1,stats:!0,adopt:!1,alerts:!1},this.showBandSteeringAccordion=!1,this.showRadioAccordion=!1,this.showUplinksAccordion=!1,this.showDownlinksAccordion=!1,this.showWlansAccordion=!1,this.showRfEnvironmentAccordion=!1,this.showAirTimeAccordion=!1,this.showAirViewAccordion=!1,this.showCancelMigrateAccordion=!1,this.showTerminalAccordion=!1},n.prototype.updateModel=function(e){!this.model||e&&this.model.id===e.id||!this.getBatchEditId()||this.destroyBatchEditModel(),r.prototype.updateModel.apply(this,arguments),this.model&&(this.initBatchEditModel("batch:ports:"+this.model.id,"batch:ports",this.PortCollection),this.useBatchEditId("batch:ports:"+this.model.id))},n.prototype.onModelChange=function(){this.persistAdoptTab=this.tabsVisibility.adopt&&this.deviceStateUtils.getRawDeviceState(this.model)===this.DEVICE_STATES.ADOPTING,this.reset(),this.model&&(this.deviceState=this.deviceStateUtils.getDeviceState(this.model),this.deviceStatus=this.deviceStateUtils.getDeviceStatus(this.model),this.totalPower=this.switchUtils.getTotalPower(this.model),this.uplinkAttrs=this.deviceUplinkUtils.getUplinkAttrs(this.model),this.hasUplink=angular.isObject(this.model.get("uplink"))&&!angular.equals({},this.model.get("uplink")),this.hasDownlinks=this.model.get("downlink_table")&&this.model.get("downlink_table").length>0,this.showChannelUtilizationDiagram=this.deviceRadioUtils.isChannelUtilizationDiagramAvailable(this.model),this.showBandSteeringAccordion=this.deviceRadioUtils.hasRadioType(this.model,"na")&&this.deviceRadioUtils.hasRadioType(this.model,"ng"),this.showRadioAccordion="success"===this.deviceStatus,this.showUplinksAccordion=this.settings.getSettingValueFromKey("connectivity","enabled"),this.showDownlinksAccordion="success"===this.deviceStatus,this.showWlansAccordion=this.deviceFeatureUtils.isVapTableAvailable(this.model),this.showRfEnvironmentAccordion=this.rfEnvironment.isAvailable(this.model),this.showAirTimeAccordion=this.deviceFeatureUtils.isAirTimeSupported(this.model)&&this.deviceStateUtils.isDeviceConnected(this.model),this.showAirViewAccordion=this.deviceFeatureUtils.isAirViewSupported(this.model)&&this.deviceStateUtils.isDeviceConnected(this.model),this.showCancelMigrateAccordion=!!this.deviceStateUtils.isMigrated(this.model),this.showTerminalAccordion=this.deviceFeatureUtils.isTerminalSupported(this.model)&&-1!==[this.DEVICE_STATES.PROVISIONING,this.DEVICE_STATES.CONNECTED,this.DEVICE_STATES.RFSCANNING].indexOf(this.deviceState),this.showEliteAccordion=this.model.isElite(),this.tabsVisibility.ports="success"===this.deviceStatus,this.tabsVisibility.clients="success"===this.deviceStatus,this.tabsVisibility.configure=this.model.get("adopted"),this.tabsVisibility.tools="success"===this.deviceStatus&&(this.showRfEnvironmentAccordion||this.showAirTimeAccordion||this.showAirViewAccordion||this.showTerminalAccordion),this.tabsVisibility.adopt=this.persistAdoptTab||this.deviceState===this.DEVICE_STATES.ADOPTION_FAILED||this.deviceState===this.DEVICE_STATES.MANAGED_BY_OTHER,this.tabsVisibility.alerts=this.deviceStateUtils.hasWarnings(this.model),this.initChange&&this.showEliteAccordion&&this.deviceState===this.DEVICE_STATES.DISCONNECTED&&(this.initChange=!1,this.accordions.details={elite:!0}),this.checkActiveTab())},n.$inject=["$q","$timeout","$translate","PortCollection","account","activeTabControllerMixin","devicePropertiesPortsControllerMixin","deviceFeatureUtils","deviceRadioUtils","devices","deviceStateUtils","deviceUplinkUtils","frame","networks","propertyPanel","repositoryUtils","rfEnvironment","settings","switches","switchUtils","system","tags","wirelessNetworkGroups","wirelessNetworks","DEVICE_STATES"],angular.module("app-unifi-manage-property-panel").controller("ApSwitchPropertiesController",n)},{"../../controllers/BasePropertiesController":303}],114:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApSwitchProperties",["updateModelDirectiveMixin","devicePropertiesPortsDirectiveMixin","devicePropertiesPendingActionsDirectiveMixin",function(t,i,r){return{scope:{model:"=unifiApSwitchProperties"},controller:"ApSwitchPropertiesController",controllerAs:"apSwitchPropertiesCtrl",template:e("./apSwitchProperties.pug")(),link:function(e,n,o,s){e.directiveId=e.$id,e.$on("$destroy",function(){s.destroy(),s.removeEventHandlers()}),t.init(e,n,o,s,!0),i.init(e,n,o,s),r.init(e,n,o,s)}}}])},{"./apSwitchProperties.pug":115}],115:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiPanelItem apSwitchProperties" ng-class="{\'is-collapsed\': apSwitchPropertiesCtrl.isCollapsed()}" ng-if="apSwitchPropertiesCtrl.model"><unifi-loading-status unifi-loading-status-is-loading="apSwitchPropertiesCtrl.isLoading" unifi-loading-status-failed="apSwitchPropertiesCtrl.failedToLoad" unifi-loading-status-retry="apSwitchPropertiesCtrl.init()"></unifi-loading-status><div class="unifiPanelItemHeader"><div class="unifiPanelItemHeader__collapseToggle"><div class="appActionIcon" ng-click="apSwitchPropertiesCtrl.toggleCollapsed()"><span class="button__icon icon" ng-class="{            \'unifi-icon--default-collapse\': !apSwitchPropertiesCtrl.isCollapsed(),            \'unifi-icon--default-expand\': apSwitchPropertiesCtrl.isCollapsed()          }"></span></div></div><div class="unifiPanelItemHeader__avatar"><div unifi-device-icon="::apSwitchPropertiesCtrl.model"></div></div><div class="unifiPanelItemHeader__title"><span unifi-device-status="::apSwitchPropertiesCtrl.model" unifi-device-status-is-cozy="true" unifi-device-status-is-truncated="true" unifi-device-status-with-icons="true" unifi-device-status-label="apSwitchPropertiesCtrl.model.getDisplayName()"></span><div class="unifiPanelItemHeader__status"><span unifi-device-status-badge="::apSwitchPropertiesCtrl.model"></span></div></div><div class="unifiPanelItemHeader__actions"><div class="appActionIconGroup"><div class="appActionIcon appActionIcon--primary appActionIcon--reverse appActionIcon--round" unifi-device-button-adopt="::apSwitchPropertiesCtrl.model" unifi-device-button-adopt-collection="::apSwitchPropertiesCtrl.devices.repository.collection" unifi-device-button-adopt-is-reverse="true"></div><div class="appActionIcon" unifi-device-button-restart="::apSwitchPropertiesCtrl.model"></div><div class="appActionIcon" unifi-device-button-locate="::apSwitchPropertiesCtrl.model" unifi-device-button-locate-with-map="true"></div><div class="appActionIcon" unifi-device-button-upgrade="::apSwitchPropertiesCtrl.model"></div><div class="appActionIcon visible--mdUp" ng-click="apSwitchPropertiesCtrl.toggleUndocked()" title="{{apSwitchPropertiesCtrl.isUndocked() ? \'COMMON_PROPERTY_PANEL_ITEM_DOCK\' : \'COMMON_PROPERTY_PANEL_ITEM_UNDOCK\' | translate}}"><span class="button__icon icon" ng-class="{              \'ubnt-icon--header-maximize\': !apSwitchPropertiesCtrl.isUndocked(),              \'ubnt-icon--header-minimize\': apSwitchPropertiesCtrl.isUndocked()            }"></span></div><div class="appActionIcon removePanelItem" ng-click="apSwitchPropertiesCtrl.removePanel()" title="{{\'COMMON_PROPERTY_PANEL_ITEM_REMOVE\' | translate}}"><span class="button__icon icon unifi-icon--default-close"></span></div></div></div></div><div class="unifiPanelItemBody"><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static verticalRhythmTop--cozy" ng-if="apSwitchPropertiesCtrl.showChannelUtilizationDiagram"><unifi-ap-properties-channel-utilization unifi-ap-properties-channel-utilization-model="::apSwitchPropertiesCtrl.model"></unifi-ap-properties-channel-utilization></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static"><ul class="appTabs appTabs--compressed appTabs--alignLeft"><li class="tabs__item details" ng-click="apSwitchPropertiesCtrl.setActiveTab(\'details\')" ng-class="{            \'is-tab-selected\': apSwitchPropertiesCtrl.getActiveTab() === \'details\',            \'is-tab-loading\': apSwitchPropertiesCtrl.loadingTab === \'details\'          }" translate="DEVICE_PROPERTIES_TAB_DETAILS"></li><li class="tabs__item users" ng-if="apSwitchPropertiesCtrl.tabsVisibility[\'clients\']" ng-click="apSwitchPropertiesCtrl.setActiveTab(\'clients\')" ng-class="{            \'is-tab-selected\': apSwitchPropertiesCtrl.getActiveTab() === \'clients\',            \'is-tab-loading\': apSwitchPropertiesCtrl.loadingTab === \'clients\'          }" translate="DEVICE_PROPERTIES_TAB_CLIENTS"></li><li class="tabs__item ports" ng-if="apSwitchPropertiesCtrl.tabsVisibility[\'ports\']" ng-click="apSwitchPropertiesCtrl.setActiveTab(\'ports\')" ng-class="{            \'is-tab-selected\': apSwitchPropertiesCtrl.getActiveTab() === \'ports\',            \'is-tab-loading\': apSwitchPropertiesCtrl.loadingTab === \'ports\'          }" translate="DEVICE_PROPERTIES_TAB_PORTS"></li><li class="tabs__item configure" ng-if="apSwitchPropertiesCtrl.tabsVisibility[\'configure\']" ng-click="apSwitchPropertiesCtrl.setActiveTab(\'configure\')" ng-class="{            \'is-tab-selected\': apSwitchPropertiesCtrl.getActiveTab() === \'configure\',            \'is-tab-loading\': apSwitchPropertiesCtrl.loadingTab === \'configure\'          }" translate="DEVICE_PROPERTIES_TAB_CONFIGURATION"></li><li class="tabs__item tools" ng-if="apSwitchPropertiesCtrl.tabsVisibility[\'tools\']" ng-click="apSwitchPropertiesCtrl.setActiveTab(\'tools\')" ng-class="{            \'is-tab-selected\': apSwitchPropertiesCtrl.getActiveTab() === \'tools\',            \'is-tab-loading\': apSwitchPropertiesCtrl.loadingTab === \'tools\'          }" translate="DEVICE_PROPERTIES_TAB_TOOLS"></li><li class="tabs__item stats" ng-if="apSwitchPropertiesCtrl.tabsVisibility[\'stats\']" ng-click="apSwitchPropertiesCtrl.setActiveTab(\'stats\')" ng-class="{            \'is-tab-selected\': apSwitchPropertiesCtrl.getActiveTab() === \'stats\',            \'is-tab-loading\': apSwitchPropertiesCtrl.loadingTab === \'stats\'          }" translate="DEVICE_PROPERTIES_TAB_STATS"></li><li class="tabs__item adopt"'+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"apSwitchPropertiesCtrl.tabsVisibility['adopt']\" ng-click=\"apSwitchPropertiesCtrl.setActiveTab('adopt')\" ng-class=\"{            'is-tab-selected': apSwitchPropertiesCtrl.getActiveTab() === 'adopt',            'is-tab-loading': apSwitchPropertiesCtrl.loadingTab === 'adopt'          }\" translate=\"DEVICE_PROPERTIES_TAB_ADOPT\"></li><li class=\"tabs__item alerts\""+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"apSwitchPropertiesCtrl.tabsVisibility['alerts']\" ng-click=\"apSwitchPropertiesCtrl.setActiveTab('alerts')\" ng-class=\"{            'is-tab-selected': apSwitchPropertiesCtrl.getActiveTab() === 'alerts',            'is-tab-loading': apSwitchPropertiesCtrl.loadingTab === 'alerts'          }\" translate=\"DEVICE_PROPERTIES_TAB_ALERTS\"></li></ul></div><div class=\"unifiPanelItemBodySection unifiPanelItemBodySection--flexible\"><div class=\"unifiPanelItemContent\"><div class=\"apSwitchPropertiesDetails\" ng-if=\"apSwitchPropertiesCtrl.isTabAvailable('details') &amp;&amp; apSwitchPropertiesCtrl.getActiveTab() === 'details'\""+r("unifi-ap-switch-properties-details",!0,!0,!0)+'></div><div class="apSwitchPropertiesPorts" ng-if="apSwitchPropertiesCtrl.tabsVisibility[\'ports\'] &amp;&amp; apSwitchPropertiesCtrl.isTabAvailable(\'ports\')" ng-show="apSwitchPropertiesCtrl.getActiveTab() === \'ports\'"><unifi-switch-properties-port-list unifi-switch-properties-port-list-model="::apSwitchPropertiesCtrl.model" unifi-switch-properties-port-list-collection="apSwitchPropertiesCtrl.model.get(\'port_table\')" unifi-switch-properties-port-list-toggle-port-selection="apSwitchPropertiesCtrl.togglePortSelection(model, isSelected)" unifi-switch-properties-port-list-is-port-selectable="apSwitchPropertiesCtrl.isPortSelectable(model)" unifi-switch-properties-port-list-is-port-selected="apSwitchPropertiesCtrl.isPortSelected(model)" unifi-switch-properties-port-list-highlighted-port="apSwitchPropertiesCtrl.highlightedPort" unifi-switch-properties-port-list-edited-port="apSwitchPropertiesCtrl.editedPort" unifi-switch-properties-port-list-is-open="true"></unifi-switch-properties-port-list></div><div class="apSwitchPropertiesUsers" ng-if="apSwitchPropertiesCtrl.tabsVisibility[\'clients\'] &amp;&amp; apSwitchPropertiesCtrl.isTabAvailable(\'clients\') &amp;&amp; apSwitchPropertiesCtrl.getActiveTab() === \'clients\'"><unifi-device-properties-client-list unifi-device-properties-client-list-local-state="true" unifi-device-properties-client-list-local-state-key="::apSwitchPropertiesCtrl.model.get(\'mac\') + \'|clients\'" unifi-device-properties-client-list-device="::apSwitchPropertiesCtrl.model"></unifi-device-properties-client-list></div><div class="apSwitchPropertiesConfigure" ng-if="apSwitchPropertiesCtrl.tabsVisibility[\'configure\'] &amp;&amp; apSwitchPropertiesCtrl.isTabAvailable(\'configure\')" ng-show="apSwitchPropertiesCtrl.getActiveTab() === \'configure\'"'+r("unifi-ap-switch-properties-configure",!0,!0,!0)+"></div><div class=\"apSwitchPropertiesTools\" ng-if=\"apSwitchPropertiesCtrl.tabsVisibility['tools'] &amp;&amp; apSwitchPropertiesCtrl.isTabAvailable('tools') &amp;&amp; apSwitchPropertiesCtrl.getActiveTab() === 'tools'\""+r("unifi-ap-switch-properties-tools",!0,!0,!0)+'></div><div class="apSwitchPropertiesStats" ng-if="apSwitchPropertiesCtrl.tabsVisibility[\'stats\'] &amp;&amp; apSwitchPropertiesCtrl.isTabAvailable(\'stats\') &amp;&amp; apSwitchPropertiesCtrl.getActiveTab() === \'stats\'"><unifi-device-properties-performance class="unifiPanelItemContent__section" unifi-device-properties-performance-model="::apSwitchPropertiesCtrl.model"></unifi-device-properties-performance></div><div class="apSwitchPropertiesAdopt"'+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="apSwitchPropertiesCtrl.tabsVisibility[\'adopt\'] &amp;&amp; apSwitchPropertiesCtrl.isTabAvailable(\'adopt\')" ng-show="apSwitchPropertiesCtrl.getActiveTab() === \'adopt\'" unifi-device-properties-adopt="::apSwitchPropertiesCtrl.model"></div><div class="apSwitchPropertiesAlerts"'+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="apSwitchPropertiesCtrl.tabsVisibility[\'alerts\'] &amp;&amp; apSwitchPropertiesCtrl.isTabAvailable(\'alerts\')" ng-show="apSwitchPropertiesCtrl.getActiveTab() === \'alerts\'" unifi-device-properties-alerts="::apSwitchPropertiesCtrl.model"></div></div></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static unifiPanelItemBodySection--pending"><unifi-pending-changes-list unifi-pending-changes-list-model="::apSwitchPropertiesCtrl.model" unifi-pending-changes-list-save="applyPendingChanges(model)"></unifi-pending-changes-list></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],116:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApSwitchPropertiesConfigure",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiApSwitchProperties",template:e("./apSwitchPropertiesConfigure.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"configure")}}}])},{"./apSwitchPropertiesConfigure.pug":117}],117:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<accordion class="appAccordion" close-others="true"><div class="apSwitchPropertiesConfigureWarnings" unifi-initialize-when="!apSwitchPropertiesCtrl.isLoading" unifi-device-properties-configure-warnings="::apSwitchPropertiesCtrl.model" unifi-device-properties-configure-warnings-validator="apSwitchPropertiesCtrl.validators.warnings"></div><accordion-group class="unifiPanelItemContent__section general" is-open="apSwitchPropertiesCtrl.accordions.configure.general"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apSwitchPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apSwitchPropertiesCtrl.accordions.configure.general" unifi-pause-children-watchers="!apSwitchPropertiesCtrl.accordions.configure.general"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apSwitchPropertiesConfigureGeneral"><div class="unifiPanelItemContentSection__subsection general" unifi-device-properties-configure-general="::apSwitchPropertiesCtrl.model" unifi-device-properties-configure-general-is-open="apSwitchPropertiesCtrl.accordions.configure.general" unifi-device-properties-configure-general-is-read-only="!apSwitchPropertiesCtrl.isAdmin()" unifi-device-properties-configure-general-is-save-queued="false" unifi-device-properties-configure-general-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL"></div><div class="unifiPanelItemContentSection__subsection tags"'+r("unifi-block-pause-children-watchers",!0,!0,!0)+'><div class="panelHeading"><div class="panelTitle verticalRhythm--condensed"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_TAGS\' | translate}}</span></div></div><div class="apPropertiesConfigureTags" unifi-device-properties-tags="apSwitchPropertiesCtrl.model"></div></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section radios" is-open="apSwitchPropertiesCtrl.accordions.configure.radios"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_RADIOS\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apSwitchPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_RADIOS"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apSwitchPropertiesCtrl.accordions.configure.radios" unifi-pause-children-watchers="!apSwitchPropertiesCtrl.accordions.configure.radios"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apSwitchPropertiesConfigureRadios" unifi-ap-properties-configure-radios="::apSwitchPropertiesCtrl.model" unifi-ap-properties-configure-radios-is-open="apSwitchPropertiesCtrl.accordions.configure.radios" unifi-ap-properties-configure-radios-is-read-only="!apSwitchPropertiesCtrl.isAdmin()" unifi-ap-properties-configure-radios-is-save-queued="apSwitchPropertiesCtrl.isSaveQueued" unifi-ap-properties-configure-radios-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_RADIOS"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section wlans" is-open="apSwitchPropertiesCtrl.accordions.configure.wlans"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apSwitchPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apSwitchPropertiesCtrl.accordions.configure.wlans" unifi-pause-children-watchers="!apSwitchPropertiesCtrl.accordions.configure.wlans"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apSwitchPropertiesConfigureWlans" unifi-ap-properties-configure-wlans="::apSwitchPropertiesCtrl.model" unifi-ap-properties-configure-wlans-is-open="apSwitchPropertiesCtrl.accordions.configure.wlans" unifi-ap-properties-configure-wlans-is-read-only="!apSwitchPropertiesCtrl.isAdmin()" unifi-ap-properties-configure-wlans-is-save-queued="apSwitchPropertiesCtrl.isSaveQueued" unifi-ap-properties-configure-wlans-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_WLANS"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section services" is-open="apSwitchPropertiesCtrl.accordions.configure.services"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apSwitchPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apSwitchPropertiesCtrl.accordions.configure.services" unifi-pause-children-watchers="!apSwitchPropertiesCtrl.accordions.configure.services"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apSwitchPropertiesConfigureServices" unifi-ap-switch-properties-configure-services="::apSwitchPropertiesCtrl.model" unifi-ap-switch-properties-configure-services-is-open="apSwitchPropertiesCtrl.accordions.configure.services" unifi-ap-switch-properties-configure-services-is-read-only="!apSwitchPropertiesCtrl.isAdmin()" unifi-ap-switch-properties-configure-services-is-save-queued="apSwitchPropertiesCtrl.isSaveQueued" unifi-ap-switch-properties-configure-services-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section network" is-open="apSwitchPropertiesCtrl.accordions.configure.network"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_NETWORK\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apSwitchPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_NETWORK"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apSwitchPropertiesCtrl.accordions.configure.network" unifi-pause-children-watchers="!apSwitchPropertiesCtrl.accordions.configure.network"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apSwitchPropertiesConfigureNetwork" unifi-device-properties-configure-network="::apSwitchPropertiesCtrl.model" unifi-device-properties-configure-network-is-open="apSwitchPropertiesCtrl.accordions.configure.network" unifi-device-properties-configure-network-is-read-only="!apSwitchPropertiesCtrl.isAdmin()" unifi-device-properties-configure-network-is-save-queued="apSwitchPropertiesCtrl.isSaveQueued" unifi-device-properties-configure-network-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_NETWORK" unifi-device-properties-configure-network-validator="apSwitchPropertiesCtrl.validators.warnings"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section bandSteering"'+r("unifi-if-advanced-features",!0,!0,!0)+' unifi-if-advanced-features-and="apSwitchPropertiesCtrl.showBandSteeringAccordion" is-open="apSwitchPropertiesCtrl.accordions.configure.bandSteering"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_BAND_STEERING\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apSwitchPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_BAND_STEERING"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apSwitchPropertiesCtrl.accordions.configure.bandSteering" unifi-pause-children-watchers="!apSwitchPropertiesCtrl.accordions.configure.bandSteering"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apSwitchPropertiesConfigureBandSteering" unifi-ap-properties-configure-band-steering="::apSwitchPropertiesCtrl.model" unifi-ap-properties-configure-band-steering-is-open="apSwitchPropertiesCtrl.accordions.configure.bandSteering" unifi-ap-properties-configure-band-steering-is-read-only="!apSwitchPropertiesCtrl.isAdmin()" unifi-ap-properties-configure-band-steering-is-save-queued="apSwitchPropertiesCtrl.isSaveQueued" unifi-ap-properties-configure-band-steering-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_BAND_STEERING"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section airtimeFairness"'+r("unifi-if-advanced-features",!0,!0,!0)+' is-open="apSwitchPropertiesCtrl.accordions.configure.airtimeFairness"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_AIRTIME_FAIRNESS\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apSwitchPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_AIRTIME_FAIRNESS"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apSwitchPropertiesCtrl.accordions.configure.airtimeFairness" unifi-pause-children-watchers="!apSwitchPropertiesCtrl.accordions.configure.airtimeFairness"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apSwitchPropertiesConfigureAirtimeFairness" unifi-ap-properties-configure-airtime-fairness="::apSwitchPropertiesCtrl.model" unifi-ap-properties-configure-airtime-fairness-is-open="apSwitchPropertiesCtrl.accordions.configure.airtimeFairness" unifi-ap-properties-configure-airtime-fairness-is-read-only="!apSwitchPropertiesCtrl.isAdmin()" unifi-ap-properties-configure-airtime-fairness-is-save-queued="apSwitchPropertiesCtrl.isSaveQueued" unifi-ap-properties-configure-airtime-fairness-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_AIRTIME_FAIRNESS"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section wirelessUplinks" ng-if="apSwitchPropertiesCtrl.showUplinksAccordion" is-open="apSwitchPropertiesCtrl.accordions.configure.wirelessUplinks"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_WIRELESS_UPLINKS\' | translate}}</accordion-heading><div unifi-initialize-when="apSwitchPropertiesCtrl.accordions.configure.wirelessUplinks" unifi-pause-children-watchers="!apSwitchPropertiesCtrl.accordions.configure.wirelessUplinks"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apSwitchPropertiesConfigureUplinkPriority verticalRhythm--cozy" unifi-ap-properties-configure-uplink-priority="::apSwitchPropertiesCtrl.model" unifi-ap-properties-configure-uplink-priority-is-open="apSwitchPropertiesCtrl.accordions.configure.wirelessUplinks" unifi-ap-properties-configure-uplink-priority-is-read-only="!apSwitchPropertiesCtrl.isAdmin()"></div><unifi-ap-properties-uplink-list unifi-ap-properties-uplink-list-local-state="true" unifi-ap-properties-uplink-list-local-state-key="::apSwitchPropertiesCtrl.model.get(\'mac\') + \'|uplinks\'" unifi-ap-properties-uplink-list-uplinks="apSwitchPropertiesCtrl.model.get(\'uplink_table\')" unifi-ap-properties-uplink-list-downlink="::apSwitchPropertiesCtrl.model" unifi-ap-properties-uplink-list-is-open="apSwitchPropertiesCtrl.accordions.configure.wirelessUplinks"></unifi-ap-properties-uplink-list></div></accordion-group><accordion-group class="unifiPanelItemContent__section resetButton" is-open="apSwitchPropertiesCtrl.accordions.configure.resetButton"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_RESET_BUTTON\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::apSwitchPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_RESET_BUTTON"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="apSwitchPropertiesCtrl.accordions.configure.resetButton" unifi-pause-children-watchers="!apSwitchPropertiesCtrl.accordions.configure.resetButton"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="apSwitchPropertiesConfigureResetButton" unifi-ap-switch-properties-configure-reset-button="::apSwitchPropertiesCtrl.model" unifi-ap-switch-properties-configure-reset-button-is-open="apSwitchPropertiesCtrl.accordions.configure.resetButton" unifi-ap-switch-properties-configure-reset-button-is-read-only="!apSwitchPropertiesCtrl.isAdmin()" unifi-ap-switch-properties-configure-reset-button-is-save-queued="apSwitchPropertiesCtrl.isSaveQueued" unifi-ap-switch-properties-configure-reset-button-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_RESET_BUTTON"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section manage" ng-if="apSwitchPropertiesCtrl.isAdmin()" is-open="apSwitchPropertiesCtrl.accordions.configure.manage"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_MANAGE_DEVICE\' | translate}}</accordion-heading><div unifi-initialize-when="apSwitchPropertiesCtrl.accordions.configure.manage" unifi-pause-children-watchers="!apSwitchPropertiesCtrl.accordions.configure.manage"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="unifiPanelItemContentSection__subsection copy"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_COPY\' | translate}}</span></div></div><div class="apPropertiesConfigureCopy" unifi-ap-properties-copy-configuration="::apSwitchPropertiesCtrl.model" unifi-ap-properties-copy-configuration-is-open="apSwitchPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection upgrade"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_CUSTOM_UPGRADE\' | translate}}</span></div></div><div class="apPropertiesConfigureCustomUpgrade" unifi-device-properties-configure-custom-upgrade="::apSwitchPropertiesCtrl.model" unifi-device-properties-configure-custom-upgrade-is-open="apSwitchPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection provision"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_PROVISION\' | translate}}</span></div></div><div class="apPropertiesConfigureProvision" unifi-device-properties-configure-provision="::apSwitchPropertiesCtrl.model" unifi-device-properties-configure-provision-is-open="apSwitchPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection disable"><div class="panelHeading"><div class="panelTitle"><span>{{apSwitchPropertiesCtrl.model.get(\'disabled\') ? \'DEVICE_PROPERTIES_SECTION_CONFIGURE_ENABLE\' : \'DEVICE_PROPERTIES_SECTION_CONFIGURE_DISABLE\' | translate}}</span></div></div><div class="apPropertiesConfigureDisable" unifi-device-properties-configure-disable="::apSwitchPropertiesCtrl.model" unifi-device-properties-configure-disable-is-open="apSwitchPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection cancelMigrate" ng-if="apSwitchPropertiesCtrl.showCancelMigrateAccordion"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_CANCEL_MIGRATE\' | translate}}</span></div></div><div class="apPropertiesConfigureCancelMigrate" unifi-device-properties-configure-cancel-migrate="::apSwitchPropertiesCtrl.model" unifi-device-properties-configure-cancel-migrate-is-open="apSwitchPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection forget"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_FORGET\' | translate}}</span></div></div><div class="apPropertiesConfigureForget" unifi-device-properties-configure-forget="::apSwitchPropertiesCtrl.model" unifi-device-properties-configure-forget-is-open="apSwitchPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection infodownload"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_DOWNLOAD_DEVICE_INFO\' | translate}}</span></div></div><div class="apPropertiesConfigureInfoDownload" unifi-device-properties-configure-info-download="::apSwitchPropertiesCtrl.model" unifi-device-properties-configure-info-download-is-open="apSwitchPropertiesCtrl.accordions.configure.manage"></div></div></div></accordion-group></accordion>'};var n=/["&<>]/},{"pug-runtime":2}],118:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o){this.$translate=e,this.deviceUtils=t,this.heyToasts=i,this.apiResults=o,this.resetButtonOptions=[{value:"on",translationKey:"COMMON_TOGGLE_ON"},{value:"off",translationKey:"COMMON_TOGGLE_OFF"}],r.call(this,n)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.save=function(){this.isSubmitting=!0;var e={resetbtn_enabled:this.modelCopy.get("resetbtn_enabled")},t=this.isSaveQueued?"pending":void 0;return this.deviceUtils.saveDevice(this.model,e,{wait:!0,delegateTo:t,pendingGroup:this.pendingGroup}).then(function(){return this.isSaveQueued||this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_RESET_BUTTON").toLowerCase()})),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_RESET_BUTTON").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.prototype.setDefaultAttrs=function(e,t){var i=e?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+i]){var r=e||!this.isSaveQueued?void 0:{delegateTo:"pending"},n={};t&&-1===t.indexOf("resetbtn_enabled")||(n.resetbtn_enabled=(this.model?this.model.get("resetbtn_enabled",r):void 0)||"on"),angular.extend(e?this.masterWithDefaults:this.modelCopy.attributes,n)}},n.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},n.prototype.resetModelCopyAttrs=function(e){r.prototype.resetModelCopyAttrs.call(this,e),this.setDefaultAttrs(!1,e)},n.prototype.reset=function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1)},n.$inject=["$translate","deviceUtils","heyToasts","modelDivergence","apiResults"],angular.module("app-unifi-manage-property-panel").controller("ApSwitchPropertiesConfigureResetButtonController",n)},{}],119:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApSwitchPropertiesConfigureResetButton",["updateModelDirectiveMixin","devicePropertiesConfigureWithPendingDirectiveMixin",function(t,i){return{scope:{model:"=unifiApSwitchPropertiesConfigureResetButton",isOpen:"=unifiApSwitchPropertiesConfigureResetButtonIsOpen",isReadOnly:"=unifiApSwitchPropertiesConfigureResetButtonIsReadOnly",isSaveQueued:"=unifiApSwitchPropertiesConfigureResetButtonIsSaveQueued",group:"@unifiApSwitchPropertiesConfigureResetButtonGroup"},controller:"ApSwitchPropertiesConfigureResetButtonController",controllerAs:"apSwitchPropertiesConfigureResetButtonCtrl",template:e("./apSwitchPropertiesConfigureResetButton.pug")(),link:function(e,r,n,o){e.directiveId=e.$id,e.$on("$destroy",function(){o.removeEventHandlers()}),t.init(e,r,n,o,!0),i.init(e,r,n,o)}}}])},{"./apSwitchPropertiesConfigureResetButton.pug":120}],120:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="apSwitchPropertiesConfigureResetButtonCtrl.form" ng-class="{    \'is-form-validation-visible\': apSwitchPropertiesConfigureResetButtonCtrl.showValidation,    \'is-validation-hidden\': !apSwitchPropertiesConfigureResetButtonCtrl.showValidation  }" ng-submit="apSwitchPropertiesConfigureResetButtonCtrl.form.$valid &amp;&amp; apSwitchPropertiesConfigureResetButtonCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="apSwitchPropertiesConfigureResetButtonCtrl.resolveDivergence()" unifi-config-changed-on-ignore="apSwitchPropertiesConfigureResetButtonCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; apSwitchPropertiesConfigureResetButtonCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="option in apSwitchPropertiesConfigureResetButtonCtrl.resetButtonOptions"><input type="radio" name="resetButton" id="resetButton{{option.value + \'-\' + directiveId}}" ng-model="apSwitchPropertiesConfigureResetButtonCtrl.modelCopy.attributes.resetbtn_enabled" ng-model-master="apSwitchPropertiesConfigureResetButtonCtrl.masterWithDefaults.resetbtn_enabled" ng-value="option.value"><label for="resetButton{{option.value + \'-\' + directiveId}}" translate="{{option.translationKey}}"></label></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="apSwitchPropertiesConfigureResetButtonCtrl.showValidation = true" busy-toggle="apSwitchPropertiesConfigureResetButtonCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{apSwitchPropertiesConfigureResetButtonCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="apSwitchPropertiesConfigureResetButtonCtrl.reset()" ng-disabled="apSwitchPropertiesConfigureResetButtonCtrl.form.$pristine">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],121:[function(e,t,i){"use strict";var r=e("../../controllers/BaseConfigureServicesController");function n(e,t,i,n,o,s,a,l,p){this.SNMP_SETTINGS=p,this.patterns={name:l.NAME},r.call(this,e,i,n,s,a,o,t)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.getAttrsToSave=function(){return{mgmt_network_id:this.mgmtNetworkId||void 0,snmp_contact:this.modelCopy.attributes.snmp_contact,snmp_location:this.modelCopy.attributes.snmp_location,switch_vlan_enabled:this.modelCopy.attributes.switch_vlan_enabled}},n.$inject=["$translate","apiResults","deviceUtils","heyToasts","modelDivergence","networks","networkUtils","REGEX_PATTERNS","SNMP_SETTINGS"],angular.module("app-unifi-manage-property-panel").controller("ApSwitchPropertiesConfigureServicesController",n)},{"../../controllers/BaseConfigureServicesController":302}],122:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApSwitchPropertiesConfigureServices",["devicePropertiesConfigureWithPendingDirectiveMixin","updateModelDirectiveMixin",function(t,i){return{scope:{model:"=unifiApSwitchPropertiesConfigureServices",isOpen:"=unifiApSwitchPropertiesConfigureServicesIsOpen",isReadOnly:"=unifiApSwitchPropertiesConfigureServicesIsReadOnly",isSaveQueued:"=unifiApSwitchPropertiesConfigureServicesIsSaveQueued",group:"@unifiApSwitchPropertiesConfigureServicesGroup"},controller:"ApSwitchPropertiesConfigureServicesController",controllerAs:"apSwitchPropertiesConfigureServicesCtrl",template:e("./apSwitchPropertiesConfigureServices.pug")(),link:function(e,r,n,o){e.directiveId=e.$id,e.$on("$destroy",function(){o.removeEventHandlers()}),i.init(e,r,n,o,!0),t.init(e,r,n,o)}}}])},{"./apSwitchPropertiesConfigureServices.pug":123}],123:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="apSwitchPropertiesConfigureServicesCtrl.form" ng-class="{    \'is-form-validation-visible\': apSwitchPropertiesConfigureServicesCtrl.showValidation,    \'is-validation-hidden\': !apSwitchPropertiesConfigureServicesCtrl.showValidation  }" ng-submit="apSwitchPropertiesConfigureServicesCtrl.form.$valid &amp;&amp; apSwitchPropertiesConfigureServicesCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="apSwitchPropertiesConfigureServicesCtrl.resolveDivergence()" unifi-config-changed-on-ignore="apSwitchPropertiesConfigureServicesCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; apSwitchPropertiesConfigureServicesCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appFormGroup"><div class="appSubHeading verticalRhythm--condensed"><span translate="DEVICE_PROPERTIES_LABEL_VLAN"></span></div><div class="appInputGroup appInputGroup--comfy"><input type="checkbox" name="vlanEnabled" id="vlanEnabled{{::directiveId}}" ng-model="apSwitchPropertiesConfigureServicesCtrl.modelCopy.attributes.switch_vlan_enabled" ng-model-master="apSwitchPropertiesConfigureServicesCtrl.model.attributes.switch_vlan_enabled"><label for="vlanEnabled{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_PORT_VLAN"></label></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_MGMT_VLAN"></label><select class="select--full" name="networkVlanNativeNetwork" ng-model="apSwitchPropertiesConfigureServicesCtrl.mgmtNetworkId" ng-model-master="apSwitchPropertiesConfigureServicesCtrl.mgmtNetworkIdMaster" ng-options="network.id as network.get(\'name\') for network in apSwitchPropertiesConfigureServicesCtrl.nativeNetworks"><option ng-if="apSwitchPropertiesConfigureServicesCtrl.isBatchEdit" ng-value="undefined" translate="COMMON_VALUE_KEEP_EXISTING"></option></select></div></div><div class="appFormGroup" ng-if="!apSwitchPropertiesConfigureServicesCtrl.isBatchEdit"><div class="appSubHeading verticalRhythm--condensed"><span translate="DEVICE_PROPERTIES_LABEL_SNMP"></span><a class="appMainButton appMainButton--tertiary appMainButton--condensed floatRight" ui-sref="manage.site.settings.services.snmp"><span class="button__icon icon ubnt-icon--link visible--smUp"></span><span translate="DEVICE_PROPERTIES_BUTTON_MANAGE_SNMP"></span></a></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SNMP_LOCATION"></label><input class="input--full" type="text" name="snmpLocation" ng-model="apSwitchPropertiesConfigureServicesCtrl.modelCopy.attributes.snmp_location" ng-model-master="apSwitchPropertiesConfigureServicesCtrl.model.attributes.snmp_location" ng-pattern="apSwitchPropertiesConfigureServicesCtrl.patterns.name" ng-maxlength="apSwitchPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_LOCATION_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="apSwitchPropertiesConfigureServicesCtrl.form.snmpLocation.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: apSwitchPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_LOCATION_LENGTH}"></div></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SNMP_CONTACT"></label><input class="input--full" type="text" name="snmpContact" ng-model="apSwitchPropertiesConfigureServicesCtrl.modelCopy.attributes.snmp_contact" ng-model-master="apSwitchPropertiesConfigureServicesCtrl.model.attributes.snmp_contact" ng-pattern="apSwitchPropertiesConfigureServicesCtrl.patterns.name" ng-maxlength="apSwitchPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_CONTACT_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="apSwitchPropertiesConfigureServicesCtrl.form.snmpContact.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: apSwitchPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_CONTACT_LENGTH}"></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="apSwitchPropertiesConfigureServicesCtrl.showValidation = true" busy-toggle="apSwitchPropertiesConfigureServicesCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{apSwitchPropertiesConfigureServicesCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="apSwitchPropertiesConfigureServicesCtrl.reset()" ng-disabled="apSwitchPropertiesConfigureServicesCtrl.form.$pristine">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],124:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApSwitchPropertiesDetails",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiApSwitchProperties",template:e("./apSwitchPropertiesDetails.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"details")}}}])},{"./apSwitchPropertiesDetails.pug":125}],125:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section" is-open="apSwitchPropertiesCtrl.accordions.details.overview"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_OVERVIEW\' | translate}}</accordion-heading><div ng-if="apSwitchPropertiesCtrl.accordions.details.overview"><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow macAddress"><dt>{{\'DEVICE_PROPERTIES_LABEL_MAC_ADDRESS\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.model.get(\'mac\')}}</dd></div><div class="appDescriptionListRow modelName"><dt>{{\'DEVICE_PROPERTIES_LABEL_MODEL\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.deviceStateUtils.getDeviceModelName(apSwitchPropertiesCtrl.model)}}</dd></div><div class="appDescriptionListRow version"><dt>{{\'DEVICE_PROPERTIES_LABEL_VERSION\' | translate}}</dt><dd><span ng-if="apSwitchPropertiesCtrl.model.get(\'version\')">{{apSwitchPropertiesCtrl.model.get(\'version\')}}</span><span ng-if="!apSwitchPropertiesCtrl.model.get(\'version\')" translate="DEVICE_PROPERTIES_VALUES_VERSION_NOT_AVAILABLE"></span></dd></div><div class="appDescriptionListRow boardRev" ng-if="apSwitchPropertiesCtrl.model.get(\'board_rev\')"><dt>{{\'DEVICE_PROPERTIES_LABEL_BOARD_REV\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.model.get(\'board_rev\')}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="apSwitchPropertiesCtrl.deviceStatus === \'success\'"><div class="appDescriptionListRow ipAddress"><dt>{{\'DEVICE_PROPERTIES_LABEL_IP_ADDRESS\' | translate}}</dt><dd><span unifi-if-advanced-features="false">{{apSwitchPropertiesCtrl.model.get(\'ip\')}}</span><span unifi-if-advanced-features="true" unifi-open-terminal="apSwitchPropertiesCtrl.model" unifi-open-terminal-is-available="terminalAvailable" ng-class="{\'appLink\': terminalAvailable}">{{apSwitchPropertiesCtrl.model.get(\'ip\')}}</span></dd></div><div class="appDescriptionListRow uptime"><dt>{{\'DEVICE_PROPERTIES_LABEL_UPTIME\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.model.get(\'uptime\') | seconds}}</dd></div><div class="appDescriptionListRow memory" ng-if="apSwitchPropertiesCtrl.model.getNested(\'sys_stats.mem_total\')"><dt>{{\'DEVICE_PROPERTIES_LABEL_MEMORY_USAGE\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.model.getNested(\'sys_stats.mem_used\') | percent: apSwitchPropertiesCtrl.model.getNested(\'sys_stats.mem_total\')}}</dd></div><div class="appDescriptionListRow load" ng-if="apSwitchPropertiesCtrl.model.getNested(\'sys_stats.loadavg_1\')"><dt>{{\'DEVICE_PROPERTIES_LABEL_LOAD_AVERAGE\' | translate}}</dt><dd><span class="mr-1" style="vertical-align: text-top;">{{apSwitchPropertiesCtrl.model.get(\'sys_stats\') | loadAvg}}</span><unifi-tooltip><content translate="DEVICE_PROPERTIES_TOOLTIP_LOAD_AVERAGE"></content></unifi-tooltip></dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="apSwitchPropertiesCtrl.deviceStatus === \'success\'"><div class="appDescriptionListRow numUsers"><dt>{{\'DEVICE_PROPERTIES_LABEL_NUM_USERS\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.model.get(\'num_sta\')}}</dd></div><div class="appDescriptionListRow numGuests"><dt>{{\'DEVICE_PROPERTIES_LABEL_NUM_GUESTS\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.model.get(\'guest-num_sta\')}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline" ng-if="apSwitchPropertiesCtrl.deviceStatus !== \'success\'"><div class="appDescriptionListRow lastSeen"><dt>{{\'DEVICE_PROPERTIES_LABEL_LAST_SEEN\' | translate}}</dt><dd><span ng-if="apSwitchPropertiesCtrl.model.get(\'last_seen\')">{{apSwitchPropertiesCtrl.model.get(\'last_seen\') * 1000 | lastSeen}}</span><span ng-if="!apSwitchPropertiesCtrl.model.get(\'last_seen\')" translate="DEVICE_PROPERTIES_VALUES_LAST_SEEN_NEVER"></span></dd></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apSwitchPropertiesCtrl.showEliteAccordion" is-open="apSwitchPropertiesCtrl.accordions.details.elite"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_ELITE\' | translate}}</accordion-heading><unifi-device-properties-elite ng-if="apSwitchPropertiesCtrl.accordions.details.elite" unifi-device-properties-elite-model="apSwitchPropertiesCtrl.model"></unifi-device-properties-elite></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apSwitchPropertiesCtrl.uplinkAttrs.type" is-open="apSwitchPropertiesCtrl.accordions.details.uplink"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_UPLINK\' | translate}}<div class="inlineBlock" ng-if="apSwitchPropertiesCtrl.uplinkAttrs.type === \'wire\'">&nbsp;({{\'DEVICE_PROPERTIES_SECTION_DETAILS_UPLINK_TYPE_WIRED\' | translate}})</div><div class="inlineBlock" ng-if="apSwitchPropertiesCtrl.uplinkAttrs.type === \'wireless\'">&nbsp;({{\'DEVICE_PROPERTIES_SECTION_DETAILS_UPLINK_TYPE_WIRELESS\' | translate}})</div></accordion-heading><div ng-if="apSwitchPropertiesCtrl.accordions.details.uplink"><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="apSwitchPropertiesCtrl.uplinkAttrs.type === \'wire\'"><div class="appDescriptionListRow uplinkName"><dt>{{\'DEVICE_PROPERTIES_LABEL_UPLINK\' | translate}}</dt><dd unifi-device-uplink="::apSwitchPropertiesCtrl.model"></dd></div><div class="appDescriptionListRow uplinkSpeed"><dt>{{\'DEVICE_PROPERTIES_LABEL_SPEED\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.uplinkAttrs.speed || (\'DEVICE_PROPERTIES_VALUES_SPEED_UNKNOWN\' | translate)}}</dd></div><div class="appDescriptionListRow uplinkDuplex"><dt>{{\'DEVICE_PROPERTIES_LABEL_DUPLEX\' | translate}}</dt><dd>{{(apSwitchPropertiesCtrl.uplinkAttrs.full_duplex ? \'DEVICE_PROPERTIES_VALUES_DUPLEX_FULL\' : \'DEVICE_PROPERTIES_VALUES_DUPLEX_HALF\') | translate}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="apSwitchPropertiesCtrl.uplinkAttrs.type === \'wireless\'"><div class="appDescriptionListRow uplinkAp"><dt>{{\'DEVICE_PROPERTIES_LABEL_UPLINK_AP\' | translate}}</dt><dd unifi-device-uplink="::apSwitchPropertiesCtrl.model"></dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="apSwitchPropertiesCtrl.uplinkAttrs.type === \'wireless\'"><div class="appDescriptionListRow uplinkRssi"><dt>{{\'DEVICE_PROPERTIES_LABEL_SIGNAL\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.uplinkAttrs.rssi | rssi}} ({{apSwitchPropertiesCtrl.uplinkAttrs.rssi | rssiToDbm}})</dd></div><div class="appDescriptionListRow uplinkTxRate"><dt>{{\'DEVICE_PROPERTIES_LABEL_TX_RATE\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.uplinkAttrs.tx_rate | rxtx}}</dd></div><div class="appDescriptionListRow uplinkRxRate"><dt>{{\'DEVICE_PROPERTIES_LABEL_RX_RATE\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.uplinkAttrs.rx_rate | rxtx}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline"><div class="appDescriptionListRow uplinkDownPktsBytes"><dt>{{\'DEVICE_PROPERTIES_LABEL_DOWN_PKTS_BYTES\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.uplinkAttrs.rx_packets && apSwitchPropertiesCtrl.uplinkAttrs.rx_bytes ? (apSwitchPropertiesCtrl.uplinkAttrs.rx_packets | numberToString) + \' / \' + (apSwitchPropertiesCtrl.uplinkAttrs.rx_bytes | bytes) : \'0.00 / 0.00\'}}</dd></div><div class="appDescriptionListRow uplinkUpPktsBytes"><dt>{{\'DEVICE_PROPERTIES_LABEL_UP_PKTS_BYTES\' | translate}}</dt><dd>{{apSwitchPropertiesCtrl.uplinkAttrs.tx_packets && apSwitchPropertiesCtrl.uplinkAttrs.tx_bytes ? (apSwitchPropertiesCtrl.uplinkAttrs.tx_packets | numberToString) + \' / \' + (apSwitchPropertiesCtrl.uplinkAttrs.tx_bytes | bytes) : \'0.00 / 0.00\'}}</dd></div><div class="appDescriptionListRow uplinkActivity"><dt>{{\'DEVICE_PROPERTIES_LABEL_ACTIVITY\' | translate}}</dt><dd>{{(apSwitchPropertiesCtrl.uplinkAttrs[\'rx_bytes-r\'] || 0) + (apSwitchPropertiesCtrl.uplinkAttrs[\'tx_bytes-r\'] || 0) | bps:{convertFromBytes:true} }}</dd></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apSwitchPropertiesCtrl.model.get(\'downlink_table\').length" is-open="apSwitchPropertiesCtrl.accordions.details.downlinks"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_DOWNLINKS\' | translate}}</accordion-heading><unifi-ap-properties-downlink-list ng-if="apSwitchPropertiesCtrl.accordions.details.downlinks" unifi-ap-properties-downlink-list-local-state="true" unifi-ap-properties-downlink-list-local-state-key="::apSwitchPropertiesCtrl.model.get(\'mac\') + \'|downlinks\'" unifi-ap-properties-downlink-list-uplink="::apSwitchPropertiesCtrl.model" unifi-ap-properties-downlink-list-downlinks="apSwitchPropertiesCtrl.model.get(\'downlink_table\')"></unifi-ap-properties-downlink-list></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apSwitchPropertiesCtrl.showRadioAccordion" ng-repeat="radio in apSwitchPropertiesCtrl.deviceRadioUtils.getRadios(apSwitchPropertiesCtrl.model)" ng-init="radioName = radio.get(\'name\'); radioType = radio.get(\'radio\')" is-open="apSwitchPropertiesCtrl.accordions.details[radio.get(\'name\')]"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_RADIO_\' + radioType.toUpperCase() + (radioType === \'na\' && apSwitchPropertiesCtrl.deviceRadioUtils.isAcRadio(apSwitchPropertiesCtrl.model, radioName) ? \'_AC\' : \'\') | translate}}<div class="inlineBlock" ng-if="!apSwitchPropertiesCtrl.deviceRadioUtils.isDeviceWithOneRadioPerType(apSwitchPropertiesCtrl.model)">&nbsp;{{radioName}}</div></accordion-heading><unifi-ap-properties-details-radio ng-if="apSwitchPropertiesCtrl.accordions.details[radioName]" unifi-ap-properties-details-radio-model="::apSwitchPropertiesCtrl.model" unifi-ap-properties-details-radio="radio"></unifi-ap-properties-details-radio></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apSwitchPropertiesCtrl.showWlansAccordion" is-open="apSwitchPropertiesCtrl.accordions.details.wlans"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_WLANS\' | translate}}</accordion-heading><unifi-ap-properties-details-wlans-list ng-if="apSwitchPropertiesCtrl.accordions.details.wlans" unifi-ap-properties-details-wlans-list-model="::apSwitchPropertiesCtrl.model"></unifi-ap-properties-details-wlans-list></accordion-group></accordion>'}},{"pug-runtime":2}],126:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiApSwitchPropertiesTools",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiApSwitchProperties",template:e("./apSwitchPropertiesTools.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"tools")}}}])},{"./apSwitchPropertiesTools.pug":127}],127:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section" ng-if="apSwitchPropertiesCtrl.showRfEnvironmentAccordion" is-open="apSwitchPropertiesCtrl.accordions.tools.rfEnvironment"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_RF_ENVIRONMENT\' | translate}}</accordion-heading><unifi-ap-properties-rf-environment unifi-initialize-when="apSwitchPropertiesCtrl.accordions.tools.rfEnvironment" unifi-ap-properties-rf-environment-model="::apSwitchPropertiesCtrl.model"></unifi-ap-properties-rf-environment></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apSwitchPropertiesCtrl.showAirTimeAccordion" is-open="apSwitchPropertiesCtrl.accordions.tools.airTime"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_AIR_TIME\' | translate}}</accordion-heading><unifi-ap-properties-air-time unifi-initialize-when="apSwitchPropertiesCtrl.accordions.tools.airTime" unifi-ap-properties-air-time-model="::apSwitchPropertiesCtrl.model"></unifi-ap-properties-air-time></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="apSwitchPropertiesCtrl.showAirViewAccordion" is-open="apSwitchPropertiesCtrl.accordions.tools.airView"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_AIR_VIEW\' | translate}}</accordion-heading><unifi-ap-properties-air-view unifi-initialize-when="apSwitchPropertiesCtrl.accordions.tools.airView" unifi-ap-properties-air-view-model="::apSwitchPropertiesCtrl.model"></unifi-ap-properties-air-view></accordion-group><accordion-group class="unifiPanelItemContent__section debugTerminal visible--desktop" ng-if="apSwitchPropertiesCtrl.isAdmin() &amp;&amp; apSwitchPropertiesCtrl.showTerminalAccordion" is-open="apSwitchPropertiesCtrl.accordions.tools.terminal"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_DEBUG_TERMINAL\' | translate}}</accordion-heading><div unifi-initialize-when="apSwitchPropertiesCtrl.accordions.tools.terminal" unifi-pause-children-watchers="!apSwitchPropertiesCtrl.accordions.tools.terminal"'+(i="unifi-pause-children-watchers-and-create-scope",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+'><div class="apPropertiesConfigureDebugTerminal" unifi-device-properties-debug-terminal="::apSwitchPropertiesCtrl.model" unifi-device-properties-debug-terminal-is-open="apSwitchPropertiesCtrl.accordions.tools.terminal"></div></div></accordion-group></accordion>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],128:[function(e,t,i){"use strict";var r=e("../../controllers/BasePropertiesController");function n(e,t,i,n,o,s,a,l,p,c,d,u,g,f,h,m,v,C,P,_,E,S){this.$interval=t,this.clientStateUtils=a,this.clientUplinkUtils=l,this.clientUtils=p,this.knownClientsCache=u,this.networks=g,this.repositoryUtils=h,this.statsUtils=m,this.system=v,this.userGroups=C,this.DEVICE_IMAGE_MAP=P,this.EVENTS=_,this.STATS_DEFAULTS=E,this.URLS=S,this.accordions={details:{overview:!0},configure:{general:!0}},this.repositories=["userGroups","networks"],this.queryDpiStatsDebounced=e.throttle(function(){this.clientUtils.queryDpiStats(this.model)}.bind(this),this.STATS_DEFAULTS.DPI.QUERY_DPI_STATS_INTERVAL,!0),this.getCurrentTimestamp=c.getCurrentTimestamp.bind(c),r.call(this,i,n,o,f,s,d)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.resolve=function(){return this.repositoryUtils.registerAndFetchGroup(this.repositories)},n.prototype.destroy=function(){this.repositoryUtils.unregisterGroup(this.repositories)},n.prototype.reset=function(){this.isClientConnected=void 0,this.isClientWired=void 0,this.isClientGuest=void 0,this.uplink=void 0,this.uplinkName="",this.uplinkPropertyPanelState=void 0,this.showStatisticsTab=!1},n.prototype.addEventHandlers=function(){this.model&&"knownclient"===this.model.modelType&&this.knownClientsCache.repository.registerItem(this.model.id).fetchItem(this.model.id),this.queryDpiStatsInterval=this.$interval(this.queryDpiStatsDebounced,this.STATS_DEFAULTS.DPI.QUERY_DPI_STATS_INTERVAL),r.prototype.addEventHandlers.call(this)},n.prototype.removeEventHandlers=function(){this.model&&"knownclient"===this.model.modelType&&this.knownClientsCache.repository.unregisterItem(this.model.id),this.$interval.cancel(this.queryDpiStatsInterval),r.prototype.removeEventHandlers.call(this)},n.prototype.onModelChange=function(){this.reset(),this.model?(this.queryDpiStatsDebounced(),this.isClientConnected=this.clientStateUtils.isClientConnected(this.model),this.isClientWired=this.model.get("is_wired"),this.isClientGuest=this.model.get("is_guest"),(this.uplink=this.clientUplinkUtils.getUplink(this.model))&&(this.uplinkName=this.clientUplinkUtils.getUplinkDisplayName(this.model),this.uplinkPropertyPanelState=this.clientUplinkUtils.getUplinkPropertyPanelState(this.model,this.uplink)),this.showStatisticsTab=this.isClientConnected,this.imgSrc=this.getDeviceImageUrl()):this.imgSrc=void 0},n.prototype.isActive=function(){return this.model.isActive()},n.prototype.getDeviceImageUrl=function(){var e=["",this.model.get("dev_vendor"),this.model.get("os_name"),this.model.get("os_class"),this.model.get("dev_cat"),this.model.get("dev_id")].join("_");return this.DEVICE_IMAGE_MAP[e]&&this.URLS.DEVICE_IMAGES_PREFIX+this.DEVICE_IMAGE_MAP[e]},n.$inject=["_","$interval","$q","$timeout","$translate","account","clientStateUtils","clientUplinkUtils","clientUtils","dateUtils","frame","knownClientsCache","networks","propertyPanel","repositoryUtils","statsUtils","system","userGroups","DEVICE_IMAGE_MAP","EVENTS","STATS_DEFAULTS","URLS"],angular.module("app-unifi-manage-property-panel").controller("ClientPropertiesController",n)},{"../../controllers/BasePropertiesController":303}],129:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiClientProperties",["updateModelDirectiveMixin","clientPropertiesPendingActionsDirectiveMixin",function(t,i){return{scope:{model:"=unifiClientProperties"},controller:"ClientPropertiesController",controllerAs:"clientPropertiesCtrl",template:e("./clientProperties.pug")(),link:function(e,r,n,o){e.$on("$destroy",function(){o.destroy(),o.removeEventHandlers()}),t.init(e,r,n,o,!0),i.init(e,r,n,o)}}}])},{"./clientProperties.pug":130}],130:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiPanelItem clientProperties" ng-class="{\'is-collapsed\': clientPropertiesCtrl.isCollapsed()}" ng-if="clientPropertiesCtrl.model"><unifi-loading-status unifi-loading-status-is-loading="clientPropertiesCtrl.isLoading" unifi-loading-status-failed="clientPropertiesCtrl.failedToLoad" unifi-loading-status-retry="clientPropertiesCtrl.init()"></unifi-loading-status><div class="unifiPanelItemHeader"><div class="unifiPanelItemHeader__collapseToggle"><div class="appActionIcon" ng-click="clientPropertiesCtrl.toggleCollapsed()"><span class="button__icon icon" ng-class="{            \'unifi-icon--default-collapse\': !clientPropertiesCtrl.isCollapsed(),            \'unifi-icon--default-expand\': clientPropertiesCtrl.isCollapsed()          }"></span></div></div><div class="unifiPanelItemHeader__avatar"><div unifi-client-icon="::clientPropertiesCtrl.model"></div></div><div class="unifiPanelItemHeader__title truncate"><span>{{clientPropertiesCtrl.model.getDisplayName()}}</span></div><div class="unifiPanelItemHeader__actions"><div class="appActionIconGroup"><div class="appActionIcon" unifi-client-button-block="::clientPropertiesCtrl.model"></div><div class="appActionIcon" unifi-client-button-reconnect="::clientPropertiesCtrl.model"></div><div class="appActionIcon" unifi-client-button-authorize="::clientPropertiesCtrl.model"></div><div class="appActionIcon visible--mdUp" ng-click="clientPropertiesCtrl.toggleUndocked()" title="{{clientPropertiesCtrl.isUndocked() ? \'COMMON_PROPERTY_PANEL_ITEM_DOCK\' : \'COMMON_PROPERTY_PANEL_ITEM_UNDOCK\' | translate}}"><span class="button__icon icon" ng-class="{              \'ubnt-icon--header-maximize\': !clientPropertiesCtrl.isUndocked(),              \'ubnt-icon--header-minimize\': clientPropertiesCtrl.isUndocked()            }"></span></div><div class="appActionIcon removePanelItem" ng-click="clientPropertiesCtrl.removePanel()" title="{{\'COMMON_PROPERTY_PANEL_ITEM_REMOVE\' | translate}}"><span class="button__icon icon unifi-icon--default-close"></span></div></div></div></div><div class="unifiPanelItemBody"><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static"><ul class="appTabs appTabs--compressed appTabs--alignLeft"><li class="tabs__item details" ng-click="clientPropertiesCtrl.setActiveTab(\'details\')" ng-class="{            \'is-tab-selected\': clientPropertiesCtrl.getActiveTab() === \'details\',            \'is-tab-loading\': clientPropertiesCtrl.loadingTab === \'details\'          }" translate="CLIENT_PROPERTIES_TAB_DETAILS"></li><li class="tabs__item history" ng-click="clientPropertiesCtrl.setActiveTab(\'history\')" ng-class="{            \'is-tab-selected\': clientPropertiesCtrl.getActiveTab() === \'history\',            \'is-tab-loading\': clientPropertiesCtrl.loadingTab === \'history\'          }" translate="CLIENT_PROPERTIES_TAB_HISTORY"></li><li class="tabs__item configure" ng-click="clientPropertiesCtrl.setActiveTab(\'configure\')" ng-class="{            \'is-tab-selected\': clientPropertiesCtrl.getActiveTab() === \'configure\',            \'is-tab-loading\': clientPropertiesCtrl.loadingTab === \'configure\'          }" translate="CLIENT_PROPERTIES_TAB_CONFIGURATION"></li></ul></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--flexible"><div class="unifiPanelItemContent"><div class="clientPropertiesDetails" ng-if="clientPropertiesCtrl.isTabAvailable(\'details\') &amp;&amp; clientPropertiesCtrl.getActiveTab() === \'details\'"'+r("unifi-client-properties-details",!0,!0,!0)+'></div><div class="clientPropertiesHistory" ng-if="clientPropertiesCtrl.isTabAvailable(\'history\') &amp;&amp; clientPropertiesCtrl.getActiveTab() === \'history\'"><unifi-client-properties-history-list unifi-client-properties-history-list-model="::clientPropertiesCtrl.model"></unifi-client-properties-history-list></div><div class="clientPropertiesConfigure" ng-if="clientPropertiesCtrl.isTabAvailable(\'configure\')" ng-show="clientPropertiesCtrl.getActiveTab() === \'configure\'"'+r("unifi-client-properties-configure",!0,!0,!0)+'></div></div></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static unifiPanelItemBodySection--pending"><unifi-pending-changes-list unifi-pending-changes-list-model="::clientPropertiesCtrl.model" unifi-pending-changes-list-save="applyPendingChanges(model)"></unifi-pending-changes-list></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],131:[function(e,t,i){"use strict";var r=lazyRequire.get("BasePanelItemController");function n(e,t,i,n,o,s,a,l){this.$translate=i,this.frame=n,this.networks=o,this.propertyPanel=s,this.repositoryUtils=a,this.userGroups=l,this.isSaveQueued=!0,this.accordions={configure:{general:!0}},this.repositories=["userGroups","networks"],r.call(this,e,t,s)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.resolve=function(){return this.repositoryUtils.registerAndFetchGroup(this.repositories)},n.prototype.destroy=function(){this.repositoryUtils.unregisterGroup(this.repositories),this.batchModel&&(this.batchModel.get("destination").reset(),this.batchModel.get("source").clearPendingChanges())},n.prototype.updateBatchModel=function(e){this.batchModel=e,this.updateModel(e?e.get("source"):void 0),e&&(this.batchModel.get("destination").comparator="mac")},n.prototype.getPanelModel=function(){return this.batchModel},n.prototype.getClientCount=function(){return this.batchModel?this.batchModel.get("destination").length:0},n.prototype.getErrorCount=function(){return this.batchModel?(this.batchModel.get("error")||[]).length:0},n.prototype.removePanel=function(){var e=this.getPanelModel();return e?(this.isSaveQueued&&this.model.hasPendingChanges()?this.frame.show("confirm",{title:function(){return this.$translate.instant("CLIENT_PROPERTIES_PENDING_CHANGES_FORGET_CONFIRM_TITLE")}.bind(this),message:function(){return this.$translate.instant("CLIENT_PROPERTIES_PENDING_CHANGES_FORGET_CONFIRM_MESSAGE")}.bind(this),options:angular.noop}).then(function(){return this.model.clearPendingChanges(),this.model.unset("success"),this.model.unset("error"),this.$q.when()}.bind(this)):this.$q.when()).then(function(){this.propertyPanel.removeItem(e)}.bind(this)):this.$q.reject()},n.$inject=["$q","$timeout","$translate","frame","networks","propertyPanel","repositoryUtils","userGroups"],angular.module("app-unifi-manage-property-panel").controller("ClientPropertiesBatchController",n)},{}],132:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiClientPropertiesBatch",["clientPropertiesPendingActionsDirectiveMixin","clientBatchUtils","heyToasts",function(t,i,r){return{scope:{batchModel:"=unifiClientPropertiesBatch"},controller:"ClientPropertiesBatchController",controllerAs:"clientPropertiesBatchCtrl",template:e("./clientPropertiesBatch.pug")(),link:function(e,n,o,s){e.$watch("batchModel",function(e){s.updateBatchModel(e)}),e.$watch(function(){return s.getClientCount()},function(e){0===e&&s.setActiveTab("batch")}),e.$watch(function(){return s.getErrorCount()},function(t){e.showErrors=t>0}),e.$on("$destroy",function(){s.destroy(),s.removeEventHandlers()}),t.init(e,n,o,s),e.applyPendingChanges=function(){return i.savePendingChanges(e.batchModel,{wait:!0}).then(function(t){(e.batchModel.get("error")||[]).length?r.pushWarning(t):r.pushSuccess(t)}).catch(function(e){r.pushError(e)})}}}}])},{"./clientPropertiesBatch.pug":133}],133:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiPanelItem clientPropertiesBatch" ng-class="{\'is-collapsed\': clientPropertiesBatchCtrl.isCollapsed()}"><div class="unifiPanelItemHeader"><div class="unifiPanelItemHeader__collapseToggle"><div class="appActionIcon" ng-click="clientPropertiesBatchCtrl.toggleCollapsed()"><span class="button__icon icon" ng-class="{            \'unifi-icon--default-collapse\': !clientPropertiesBatchCtrl.isCollapsed(),            \'unifi-icon--default-expand\': clientPropertiesBatchCtrl.isCollapsed()          }"></span></div></div><div class="unifiPanelItemHeader__avatar"><div unifi-batch-client-icon="clientPropertiesBatchCtrl.batchModel"></div></div><div class="unifiPanelItemHeader__title"><div class="horizontalRhythmLeft--cozy">{{clientPropertiesBatchCtrl.batchModel.getDisplayName()}}</div></div><div class="unifiPanelItemHeader__actions"><div class="appActionIconGroup"><div class="appActionIcon" unifi-client-button-block="::clientPropertiesBatchCtrl.batchModel" unifi-client-button-block-is-batch="true" unifi-client-button-block-force-state="true"></div><div class="appActionIcon" unifi-client-button-block="::clientPropertiesBatchCtrl.batchModel" unifi-client-button-block-is-batch="true" unifi-client-button-block-force-state="false"></div><div class="appActionIcon visible--mdUp" ng-click="clientPropertiesBatchCtrl.toggleUndocked()" title="{{clientPropertiesBatchCtrl.isUndocked() ? \'COMMON_PROPERTY_PANEL_ITEM_DOCK\' : \'COMMON_PROPERTY_PANEL_ITEM_UNDOCK\' | translate}}"><span class="button__icon icon" ng-class="{              \'ubnt-icon--header-maximize\': !clientPropertiesBatchCtrl.isUndocked(),              \'ubnt-icon--header-minimize\': clientPropertiesBatchCtrl.isUndocked()            }"></span></div><div class="appActionIcon removePanelItem" ng-click="clientPropertiesBatchCtrl.removePanel()" title="{{\'COMMON_PROPERTY_PANEL_ITEM_REMOVE\' | translate}}"><span class="button__icon icon unifi-icon--default-close"></span></div></div></div></div><div class="unifiPanelItemBody" ng-if="showErrors" unifi-client-properties-batch-error="clientPropertiesBatchCtrl.batchModel"></div><div class="unifiPanelItemBody" ng-hide="showErrors"><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static"><ul class="appTabs appTabs--compressed appTabs--alignLeft"><li class="tabs__item batch" ng-click="clientPropertiesBatchCtrl.setActiveTab(\'batch\')" ng-class="{            \'is-tab-selected\': clientPropertiesBatchCtrl.getActiveTab() === \'batch\',            \'is-tab-loading\': clientPropertiesBatchCtrl.loadingTab === \'batch\'          }" translate="CLIENT_PROPERTIES_TAB_CLIENTS"></li><li class="tabs__item configure" ng-if="clientPropertiesBatchCtrl.getClientCount() &gt; 0" ng-click="clientPropertiesBatchCtrl.setActiveTab(\'configure\')" ng-class="{            \'is-tab-selected\': clientPropertiesBatchCtrl.getActiveTab() === \'configure\',            \'is-tab-loading\': clientPropertiesBatchCtrl.loadingTab === \'configure\'          }" translate="CLIENT_PROPERTIES_TAB_CONFIGURATION"></li></ul></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--flexible"><div class="unifiPanelItemContent"><div class="batchPropertiesBatch" ng-if="clientPropertiesBatchCtrl.isTabAvailable(\'batch\') &amp;&amp; clientPropertiesBatchCtrl.getActiveTab() === \'batch\'"><unifi-client-properties-batch-list unifi-client-properties-batch-list-model="clientPropertiesBatchCtrl.batchModel" unifi-client-properties-batch-list-local-state="true" unifi-client-properties-batch-list-local-state-key="\'batch|sta\'"></unifi-client-properties-batch-list></div><div class="batchPropertiesConfigure" ng-if="clientPropertiesBatchCtrl.isTabAvailable(\'configure\')" ng-show="clientPropertiesBatchCtrl.getActiveTab() === \'configure\' &amp;&amp; clientPropertiesBatchCtrl.getClientCount() &gt; 0"'+(i="unifi-client-properties-batch-configure",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+'></div></div></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static unifiPanelItemBodySection--pending" ng-if="clientPropertiesBatchCtrl.getClientCount() &gt; 0"><unifi-pending-changes-list unifi-pending-changes-list-model="clientPropertiesBatchCtrl.model" unifi-pending-changes-list-save="applyPendingChanges(model)"></unifi-pending-changes-list></div></div></div>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],134:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiClientPropertiesBatchConfigure",[function(){return{scope:!0,require:"^unifiClientPropertiesBatch",template:e("./clientPropertiesBatchConfigure.pug")()}}])},{"./clientPropertiesBatchConfigure.pug":135}],135:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section general" is-open="clientPropertiesBatchCtrl.accordions.configure.general"><accordion-heading>{{\'CLIENT_PROPERTIES_SECTION_CONFIGURE_GENERAL\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::clientPropertiesBatchCtrl.model" unifi-pending-changes-icon-group="CLIENT_PROPERTIES_SECTION_CONFIGURE_GENERAL"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="clientPropertiesBatchCtrl.accordions.configure.general" unifi-pause-children-watchers="!clientPropertiesBatchCtrl.accordions.configure.general"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="clientPropertiesBatchConfigureGeneral" unifi-client-properties-configure-general="::clientPropertiesBatchCtrl.model" unifi-client-properties-configure-general-with-batch="clientPropertiesBatchCtrl.batchModel" unifi-client-properties-configure-general-is-open="clientPropertiesBatchCtrl.accordions.configure.general" unifi-client-properties-configure-general-is-save-queued="clientPropertiesBatchCtrl.isSaveQueued" unifi-client-properties-configure-general-group="CLIENT_PROPERTIES_SECTION_CONFIGURE_GENERAL"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section network" is-open="clientPropertiesBatchCtrl.accordions.configure.network"><accordion-heading>{{\'CLIENT_PROPERTIES_SECTION_CONFIGURE_NETWORK\' | translate}}</accordion-heading><div unifi-initialize-when="clientPropertiesBatchCtrl.accordions.configure.network" unifi-pause-children-watchers="!clientPropertiesBatchCtrl.accordions.configure.network"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="clientPropertiesConfigureNetwork" unifi-client-properties-configure-network="::clientPropertiesBatchCtrl.model" unifi-client-properties-configure-network-with-batch="clientPropertiesBatchCtrl.batchModel" unifi-client-properties-configure-network-is-open="clientPropertiesBatchCtrl.accordions.configure.network" unifi-client-properties-configure-network-is-save-queued="clientPropertiesBatchCtrl.isSaveQueued" unifi-client-properties-configure-network-group="CLIENT_PROPERTIES_SECTION_CONFIGURE_NETWORK"></div></div></accordion-group></accordion>'};var n=/["&<>]/},{"pug-runtime":2}],136:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiClientPropertiesBatchError",["apiResults","knownClientsCache",function(t,i){return{scope:{batchModel:"=unifiClientPropertiesBatchError"},template:e("./clientPropertiesBatchError.pug")(),link:function(e){e.getClientByError=function(e){return i.repository.collection.get(e.id)},e.getErrorMsg=function(e){return t.translateErrorMsg(e)},e.dismiss=function(){e.batchModel.unset("success"),e.batchModel.unset("error")}}}}])},{"./clientPropertiesBatchError.pug":137}],137:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiPanelItemBodySection unifiPanelItemBodySection--flexible"><div class="unifiPanelItemContent"><div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--danger is-app-info-box-collapsed verticalRhythm--cozy verticalRhythmTop--condensed"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header">{{\'CLIENT_PROPERTIES_PENDING_CHANGES_BATCH_APPLY_ERROR\' | translate}}</div></div></div><div class="unifiPanelItemContent__section appScrollable flexFlag__body fullWidth"><ul class="list"><li class="verticalRhythm--cozy" ng-repeat="error in batchModel.get(\'error\')" ng-init="client = getClientByError(error)"><div class="iconText appIconText unifiDeviceIconText"><div class="iconText__icon" unifi-client-icon="client"></div><div class="iconText__text">{{client.getDisplayName() || error.id}}</div></div><div class="is-device-icon-text-aligned">{{getErrorMsg(error)}}</div></li></ul></div><button class="appMainButton appMainButton--cozy appMainButton--primary verticalRhythmTop--condensed" translate="COMMON_ACTIONS_DISMISS" ng-click="dismiss()"></button></div></div>'}},{"pug-runtime":2}],138:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("ClientPropertiesBatchListController",["BasePaginatedListController","simpleClientsComparator","preferences",function(e,t,i){return new(function(n){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return e.defaultSortBy="name",e.rowsPerPage=i.model.getRowsPerPropertyPanel(),e.comparator=t,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),r(o,[{key:"updateModel",value:function(e){this.model=e,this.updateDestination(e?e.get("destination"):void 0)}},{key:"updateDestination",value:function(e){this.destroyView(),this.destination=e,this.initFilters(),this.initView()}},{key:"getCollection",value:function(){return this.destination}},{key:"removeItem",value:function(e){this.destination.remove(e)}}]),o}())}])},{}],139:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiClientPropertiesBatchList",["PaginatedListDirective","updateModelDirectiveMixin",function(t,i){var r=new t("clientPropertiesBatch",e("./clientPropertiesBatchList.pug")(),{_model:"=unifiClientPropertiesBatchListModel"});return r.addMixin(i,[!0,"clientPropertiesBatchListCtrl._model"]),r}])},{"./clientPropertiesBatchList.pug":140}],140:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiPanelItemContent__section appScrollable flexFlag__body fullWidth"><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent appForm appForm--cozy"><thead><tr><th class="alignCenter clientStateIcon"></th><th class="clientName"><span translate="CLIENT_PROPERTIES_BATCH_TABLE_HEADER_NAME"></span></th><th class="clientIp"><span translate="CLIENT_PROPERTIES_BATCH_TABLE_HEADER_IP"></span></th><th class="clientActions"></th></tr></thead><tfoot ng-if="clientPropertiesBatchListCtrl.view.getModels().length"><tr><td colspan="4"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="clientPropertiesBatchListCtrl.currentPage" unifi-micro-pagination-rows-per-page="clientPropertiesBatchListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="clientPropertiesBatchListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in clientPropertiesBatchListCtrl.view.getModels(),              startFrom (clientPropertiesBatchListCtrl.currentPage - 1) * clientPropertiesBatchListCtrl.rowsPerPage,              limitTo clientPropertiesBatchListCtrl.rowsPerPage" data-id="{{::model.id}}"><td class="clientStateIcon unifiClientsTable__clientIcon"><span unifi-client-icon="::model"></span></td><td class="clientName" ng-attr-title="{{::model.get(\'mac\')}}">{{::model.getDisplayName()}}</td><td class="clientIp">{{::model.get(\'ip\')}}</td><td class="clientActions appTableCell--actions"><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed" unifi-open-panel="model" unifi-open-panel-active-tab="\'details\'" title="{{\'COMMON_PROPERTY_PANEL_OPEN\' | translate}}"><span class="button__icon icon ubnt-icon--panels"></span></button><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed noMarginLeft" ng-click="clientPropertiesBatchListCtrl.removeItem(model)" title="{{\'COMMON_ACTIONS_REMOVE\' | translate}}"><span class="button__icon icon ubnt-icon--x-circle"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!clientPropertiesBatchListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="CLIENT_PROPERTIES_BATCH_TABLE_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":2}],141:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiClientPropertiesConfigure",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiClientProperties",template:e("./clientPropertiesConfigure.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"configure")}}}])},{"./clientPropertiesConfigure.pug":142}],142:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section general" is-open="clientPropertiesCtrl.accordions.configure.general"><accordion-heading>{{\'CLIENT_PROPERTIES_SECTION_CONFIGURE_GENERAL\' | translate}}</accordion-heading><div unifi-initialize-when="clientPropertiesCtrl.accordions.configure.general" unifi-pause-children-watchers="!clientPropertiesCtrl.accordions.configure.general"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="clientPropertiesConfigureGeneral" unifi-client-properties-configure-general="::clientPropertiesCtrl.model" unifi-client-properties-configure-general-is-open="clientPropertiesCtrl.accordions.configure.general" unifi-client-properties-configure-general-is-read-only="!clientPropertiesCtrl.isAdmin()" unifi-client-properties-configure-general-is-save-queued="false" unifi-client-properties-configure-general-group="CLIENT_PROPERTIES_SECTION_CONFIGURE_GENERAL"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section network" is-open="clientPropertiesCtrl.accordions.configure.network"><accordion-heading>{{\'CLIENT_PROPERTIES_SECTION_CONFIGURE_NETWORK\' | translate}}</accordion-heading><div unifi-initialize-when="clientPropertiesCtrl.accordions.configure.network" unifi-pause-children-watchers="!clientPropertiesCtrl.accordions.configure.network"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="clientPropertiesConfigureNetwork" unifi-client-properties-configure-network="::clientPropertiesCtrl.model" unifi-client-properties-configure-network-is-open="clientPropertiesCtrl.accordions.configure.network" unifi-client-properties-configure-network-is-read-only="!clientPropertiesCtrl.isAdmin()" unifi-client-properties-configure-network-is-save-queued="false" unifi-client-properties-configure-network-group="CLIENT_PROPERTIES_SECTION_CONFIGURE_NETWORK"></div></div></accordion-group></accordion>'};var n=/["&<>]/},{"pug-runtime":2}],143:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a,l){this.$translate=e,this.clientUtils=t,this.userGroups=i,this.siteUtils=n,this.heyToasts=o,this.apiResults=a,this.patterns={name:l.NAME},this._defaultUserGroupId="",r.call(this,s)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0},n.prototype.save=function(){this.isSubmitting=!0;var e={note:this.modelCopy.attributes.note,usergroup_id:this.modelCopy.attributes.usergroup_id};this.isBatchEdit?e.note||delete e.note:e.name=this.modelCopy.attributes.name;var t=this.isSaveQueued?"pending":void 0;return this.isBatchEdit&&void 0===e.usergroup_id&&(this.model.unset("usergroup_id",{delegateTo:t,pendingGroup:this.pendingGroup}),delete e.usergroup_id),this.clientUtils.saveClient(this.model,e,{wait:!0,delegateTo:t,pendingGroup:this.pendingGroup}).then(function(){return this.isSaveQueued||this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("CLIENT_PROPERTIES_SECTION_CONFIGURE_GENERAL").toLowerCase()})),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("CLIENT_PROPERTIES_SECTION_CONFIGURE_GENERAL").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.prototype.addEventHandlers=function(){r.prototype.addEventHandlers.call(this),this.userGroups.repository.collection.on("add remove change reset",this.updateUserGroupOptions,this)},n.prototype.removeEventHandlers=function(){r.prototype.removeEventHandlers.call(this),this.userGroups.repository.collection.off("add remove change reset",this.updateUserGroupOptions,this)},n.prototype.isSaveDisabled=function(){return this.isBatchEdit&&void 0===this.modelCopy.attributes.note&&void 0===this.modelCopy.attributes.usergroup_id},n.prototype.setDefaultAttrs=function(e,t){var i=e?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+i]){var r=e||!this.isSaveQueued?void 0:{delegateTo:"pending"},n={};t&&-1===t.indexOf("usergroup_id")||(n.usergroup_id=this.model?this.model.get("usergroup_id",r):void 0,n.usergroup_id||this.isBatchEdit||(n.usergroup_id=this._defaultUserGroupId)),angular.extend(e?this.masterWithDefaults:this.modelCopy.attributes,n)}},n.prototype.updateUserGroupOptions=function(){var e=(this.siteUtils.getActiveSite()||{}).id;this.userGroupOptions=this.userGroups.repository.collection.where({site_id:e}).map(function(e){return{id:e.id,name:e.get("name")}}),this.userGroupOptions.unshift({id:this._defaultUserGroupId,name:this.$translate.instant("CLIENT_PROPERTIES_VALUES_USER_GROUP_AUTOMATIC")}),this.isBatchEdit&&this.userGroupOptions.unshift({id:void 0,name:this.$translate.instant("COMMON_VALUE_KEEP_EXISTING")})},n.prototype.onModelChange=function(){this.updateUserGroupOptions(),this.setDefaultAttrs(!0)},n.prototype.resetModelCopyAttrs=function(e){r.prototype.resetModelCopyAttrs.call(this,e),this.setDefaultAttrs(!1,e)},n.prototype.reset=function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1)},n.$inject=["$translate","clientUtils","userGroups","siteUtils","heyToasts","modelDivergence","apiResults","REGEX_PATTERNS"],angular.module("app-unifi-manage-property-panel").controller("ClientPropertiesConfigureGeneralController",n)},{}],144:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiClientPropertiesConfigureGeneral",["updateModelDirectiveMixin","clientPropertiesConfigureWithPendingDirectiveMixin","clientPropertiesConfigureBatchDirectiveMixin",function(t,i,r){return{scope:{model:"=unifiClientPropertiesConfigureGeneral",withBatch:"=unifiClientPropertiesConfigureGeneralWithBatch",isOpen:"=unifiClientPropertiesConfigureGeneralIsOpen",isReadOnly:"=unifiClientPropertiesConfigureGeneralIsReadOnly",isSaveQueued:"=unifiClientPropertiesConfigureGeneralIsSaveQueued",group:"@unifiClientPropertiesConfigureGeneralGroup"},controller:"ClientPropertiesConfigureGeneralController",controllerAs:"clientPropertiesConfigureGeneralCtrl",template:e("./clientPropertiesConfigureGeneral.pug")(),link:function(e,n,o,s){e.directiveId=e.$id,e.$on("$destroy",function(){s.removeEventHandlers()}),t.init(e,n,o,s,!0),i.init(e,n,o,s),r.init(e,n,o,s)}}}])},{"./clientPropertiesConfigureGeneral.pug":145}],145:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="clientPropertiesConfigureGeneralCtrl.form" ng-class="{    \'is-form-validation-visible\': clientPropertiesConfigureGeneralCtrl.showValidation,    \'is-validation-hidden\': !clientPropertiesConfigureGeneralCtrl.showValidation  }" ng-submit="clientPropertiesConfigureGeneralCtrl.form.$valid &amp;&amp; clientPropertiesConfigureGeneralCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="clientPropertiesConfigureGeneralCtrl.resolveDivergence()" unifi-config-changed-on-ignore="clientPropertiesConfigureGeneralCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; clientPropertiesConfigureGeneralCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appFormGroup appFormGroup--condensed" ng-if="!clientPropertiesConfigureGeneralCtrl.isBatchEdit"><label class="appLabel--primary" translate="CLIENT_PROPERTIES_LABEL_ALIAS"></label><input class="input--full" type="text" name="clientName" ng-model="clientPropertiesConfigureGeneralCtrl.modelCopy.attributes.name" ng-model-master="clientPropertiesConfigureGeneralCtrl.model.attributes.name" ng-pattern="clientPropertiesConfigureGeneralCtrl.patterns.name"></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="CLIENT_PROPERTIES_LABEL_NOTE"></label><textarea class="textarea--full" name="clientNote" ng-model="clientPropertiesConfigureGeneralCtrl.modelCopy.attributes.note" ng-model-master="clientPropertiesConfigureGeneralCtrl.model.attributes.note"></textarea></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="CLIENT_PROPERTIES_LABEL_USER_GROUP"></label><select class="select--full" name="clientUserGroup" ng-model="clientPropertiesConfigureGeneralCtrl.modelCopy.attributes.usergroup_id" ng-model-master="clientPropertiesConfigureGeneralCtrl.masterWithDefaults.usergroup_id" ng-options="userGroup.id as userGroup.name for userGroup in clientPropertiesConfigureGeneralCtrl.userGroupOptions"></select><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="clientPropertiesConfigureGeneralCtrl.modelCopy.attributes.usergroup_id"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="CLIENT_PROPERTIES_USER_GROUP_NOTE"></p></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveClient" ng-click="clientPropertiesConfigureGeneralCtrl.showValidation = true" busy-toggle="clientPropertiesConfigureGeneralCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="clientPropertiesConfigureGeneralCtrl.isSaveDisabled()">{{clientPropertiesConfigureGeneralCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="clientPropertiesConfigureGeneralCtrl.reset()" ng-disabled="clientPropertiesConfigureGeneralCtrl.form.$pristine">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],146:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a,l,p,c){this.$translate=e,this.clientUtils=t,this.gatewayUtils=i,this.networks=n,this.networkUtils=o,this.heyToasts=s,this.apiResults=l,this.siteHealth=c,this.currentPage=1,this.rowsPerPage=p.model.getRowsPerPropertyPanel(),this.forms={},this.resolve(),r.call(this,a)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.resolve=function(){return this.siteHealth.repository.register().fetch()},n.prototype.destroy=function(){this.siteHealth.repository.unregister()},n.prototype.initBatchEdit=function(){this.isBatchEdit=!0},n.prototype.updateBatchModel=function(e){this.removeBatchEventHandlers(),this.batchModel=e,this.addBatchEventHandlers(),this.onBatchModelChange()},n.prototype.addBatchEventHandlers=function(){this.batchModel&&this.batchModel.on("change:deep:destination",this.onBatchModelChange,this)},n.prototype.removeBatchEventHandlers=function(){this.batchModel&&this.batchModel.off("change:deep:destination",this.onBatchModelChange,this)},n.prototype.isSaveDisabled=function(){return this.isBatchEdit&&void 0===this.modelCopy.attributes.use_fixedip&&void 0===this.modelCopy.attributes.fixed_ip&&void 0===this.modelCopy.attributes.network_id},n.prototype.getNetworks=function(){return this.networkUtils.getNetworksAvailableForClient()},n.prototype.getNetworkIpSubnet=function(){if(this.modelCopy){var e=this.networks.repository.collection.get(this.modelCopy.get("network_id"));return e&&e.get("ip_subnet")}},n.prototype.canAssignFixedIp=function(){var e=this.gatewayUtils.hasSiteGateway(),t=this.networks.repository.collection.where({dhcpd_enabled:!0}).length>0;return e&&t},n.prototype.save=function(){this.isSubmitting=!0;var e={use_fixedip:this.modelCopy.attributes.use_fixedip,network_id:this.modelCopy.attributes.use_fixedip?this.modelCopy.attributes.network_id:void 0};this.isBatchEdit?e.fixed_ip=this.modelCopy.attributes.use_fixedip?angular.extend({},this.ipAddresses):void 0:e.fixed_ip=this.modelCopy.attributes.use_fixedip?this.ipAddress:void 0;var t=this.isSaveQueued?"pending":void 0;return this.clientUtils.saveClient(this.model,e,{wait:!0,delegateTo:t,pendingGroup:this.pendingGroup}).then(function(){return this.isSaveQueued||this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("CLIENT_PROPERTIES_SECTION_CONFIGURE_NETWORK").toLowerCase()})),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("CLIENT_PROPERTIES_SECTION_CONFIGURE_NETWORK").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},n.prototype.onBatchModelChange=function(){this.setDefaultIpAddresses(!0)},n.prototype.setDefaultAttrs=function(e){var t=e?"Master":"",i=e||!this.isSaveQueued?void 0:{delegateTo:"pending"};this.isBatchEdit||(this["ipAddress"+t]=this.model?this.model.get("fixed_ip",i)||this.model.get("ip",i):void 0)},n.prototype.setDefaultIpAddresses=function(e){var t=e?"Master":"",i=(this.isSaveQueued&&this.model?this.model.get("fixed_ip",{delegateTo:"pending"}):void 0)||{};this["ipAddresses"+t]={},this.batchModel&&this.batchModel.get("destination").each(function(t){e&&(this.ipAddressesMaster[t.id]=t.get("fixed_ip")),(!e||this.ipAddresses&&!this.ipAddresses.hasOwnProperty(t.id))&&(this.ipAddresses[t.id]=i[t.id]||t.get("fixed_ip"))},this)},n.prototype.resolveDivergence=function(){this.isBatchEdit?angular.forEach(this.forms,function(e){this.modelDivergence.resolveDivergence(e)}.bind(this)):r.prototype.resolveDivergence.call(this)},n.prototype.ignoreDivergence=function(){this.isBatchEdit?angular.forEach(this.forms,function(e){this.modelDivergence.ignoreDivergence(e)}.bind(this)):r.prototype.ignoreDivergence.call(this)},n.prototype.resetModelCopyAttrs=function(e){r.prototype.resetModelCopyAttrs.call(this,e),this.setDefaultAttrs(!1,e),this.isBatchEdit&&-1!==e.indexOf("fixed_ip")&&this.setDefaultIpAddresses(!1)},n.prototype.reset=function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1),this.isBatchEdit&&this.setDefaultIpAddresses(!1)},n.$inject=["$translate","clientUtils","gatewayUtils","networks","networkUtils","heyToasts","modelDivergence","apiResults","preferences","siteHealth"],angular.module("app-unifi-manage-property-panel").controller("ClientPropertiesConfigureNetworkController",n)},{}],147:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiClientPropertiesConfigureNetwork",["updateModelDirectiveMixin","clientPropertiesConfigureWithPendingDirectiveMixin","clientPropertiesConfigureBatchDirectiveMixin",function(t,i,r){return{scope:{model:"=unifiClientPropertiesConfigureNetwork",withBatch:"=unifiClientPropertiesConfigureNetworkWithBatch",isOpen:"=unifiClientPropertiesConfigureNetworkIsOpen",isReadOnly:"=unifiClientPropertiesConfigureNetworkIsReadOnly",isSaveQueued:"=unifiClientPropertiesConfigureNetworkIsSaveQueued",group:"@unifiClientPropertiesConfigureNetworkGroup"},controller:"ClientPropertiesConfigureNetworkController",controllerAs:"clientPropertiesConfigureNetworkCtrl",template:e("./clientPropertiesConfigureNetwork.pug")(),link:function(e,n,o,s){e.directiveId=e.$id,e.$watch("withBatch",function(e){s.updateBatchModel(e)}),e.$on("$destroy",function(){s.removeEventHandlers(),s.removeBatchEventHandlers(),s.destroy()}),t.init(e,n,o,s,!0),i.init(e,n,o,s),r.init(e,n,o,s)}}}])},{"./clientPropertiesConfigureNetwork.pug":148}],148:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+r("novalidate",!0,!0,!0)+' autocomplete="off" name="clientPropertiesConfigureNetworkCtrl.form" ng-class="{    \'is-form-validation-visible\': clientPropertiesConfigureNetworkCtrl.showValidation,    \'is-validation-hidden\': !clientPropertiesConfigureNetworkCtrl.showValidation  }" ng-submit="clientPropertiesConfigureNetworkCtrl.form.$valid &amp;&amp; clientPropertiesConfigureNetworkCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="clientPropertiesConfigureNetworkCtrl.resolveDivergence()" unifi-config-changed-on-ignore="clientPropertiesConfigureNetworkCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; clientPropertiesConfigureNetworkCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-if="!clientPropertiesConfigureNetworkCtrl.isBatchEdit" ng-disabled="isReadOnly"><div class="appInputGroup appInputGroup--comfy"><input type="checkbox" name="clientFixedIp" id="clientFixedIp{{::directiveId}}" ng-model="clientPropertiesConfigureNetworkCtrl.modelCopy.attributes.use_fixedip" ng-model-master="clientPropertiesConfigureNetworkCtrl.model.attributes.use_fixedip" ng-disabled="!clientPropertiesConfigureNetworkCtrl.canAssignFixedIp()"><label for="clientFixedIp{{::directiveId}}" translate="CLIENT_PROPERTIES_VALUES_USE_FIXED_IP"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-if="clientPropertiesConfigureNetworkCtrl.isBatchEdit" ng-disabled="isReadOnly"><div class="appInputGroup noMarginBottom"><label class="appLabel--primary" translate="CLIENT_PROPERTIES_LABEL_FIXED_IP"></label></div><div class="appInputGroup noMarginBottom verticalRhythmTop--condensed"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="clientFixedIp" id="clientFixedIpKeepExisting{{::directiveId}}" ng-model="clientPropertiesConfigureNetworkCtrl.modelCopy.attributes.use_fixedip" ng-model-master="clientPropertiesConfigureNetworkCtrl.model.attributes.use_fixedip" ng-disabled="!clientPropertiesConfigureNetworkCtrl.canAssignFixedIp()" ng-value="undefined"><label for="clientFixedIpKeepExisting{{::directiveId}}" translate="COMMON_VALUE_KEEP_EXISTING"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="clientFixedIp" id="clientFixedIpDisabled{{::directiveId}}" ng-model="clientPropertiesConfigureNetworkCtrl.modelCopy.attributes.use_fixedip" ng-model-master="clientPropertiesConfigureNetworkCtrl.model.attributes.use_fixedip" ng-disabled="!clientPropertiesConfigureNetworkCtrl.canAssignFixedIp()" ng-value="false"><label for="clientFixedIpDisabled{{directiveId}}" translate="CLIENT_PROPERTIES_VALUES_NO_FIXED_IP"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="clientFixedIp" id="clientFixedIpEnabled{{::directiveId}}" ng-model="clientPropertiesConfigureNetworkCtrl.modelCopy.attributes.use_fixedip" ng-model-master="clientPropertiesConfigureNetworkCtrl.model.attributes.use_fixedip" ng-disabled="!clientPropertiesConfigureNetworkCtrl.canAssignFixedIp()" ng-value="true"><label for="clientFixedIpEnabled{{directiveId}}" translate="CLIENT_PROPERTIES_VALUES_USE_FIXED_IP"></label></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="clientPropertiesConfigureNetworkCtrl.modelCopy.attributes.use_fixedip" ng-disabled="isReadOnly"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="CLIENT_PROPERTIES_LABEL_NETWORK"></label><select class="select--full" name="clientNetwork" ng-model="clientPropertiesConfigureNetworkCtrl.modelCopy.attributes.network_id" ng-model-master="clientPropertiesConfigureNetworkCtrl.model.attributes.network_id" ng-options="network.id as network.get(\'name\') for network in clientPropertiesConfigureNetworkCtrl.getNetworks()" ng-required="clientPropertiesConfigureNetworkCtrl.modelCopy.attributes.use_fixedip"><option ng-if="clientPropertiesConfigureNetworkCtrl.isBatchEdit"'+r("unifi-option-placeholder",!0,!0,!0)+'></option></select></div><div class="appFormGroup appFormGroup--condensed" ng-if="!clientPropertiesConfigureNetworkCtrl.isBatchEdit"><label class="appLabel--primary" translate="CLIENT_PROPERTIES_LABEL_IP_ADDRESS"></label><input class="input--full" type="text" name="clientIpAddress" ng-model="clientPropertiesConfigureNetworkCtrl.ipAddress" ng-model-master="clientPropertiesConfigureNetworkCtrl.ipAddressMaster" unifi-validate-ip-in-subnet="clientPropertiesConfigureNetworkCtrl.getNetworkIpSubnet()" ng-required="clientPropertiesConfigureNetworkCtrl.modelCopy.attributes.use_fixedip"><div class="appInputFeedback appInputFeedback--danger" ng-show="clientPropertiesConfigureNetworkCtrl.form.clientIpAddress.$error.ipInSubnet" translate="VALIDATION_HINT_IP_IN_SUBNET" translate-values="{ip: clientPropertiesConfigureNetworkCtrl.form.clientIpAddress.$viewValue, subnet: clientPropertiesConfigureNetworkCtrl.getNetworkIpSubnet()}"></div></div><div class="appFormGroup appFormGroup--condensed verticalRhythmTop--cozy" ng-if="clientPropertiesConfigureNetworkCtrl.isBatchEdit" ng-show="clientPropertiesConfigureNetworkCtrl.modelCopy.attributes.network_id" ng-form="clientPropertiesConfigureNetworkCtrl.forms.ipAddresses"><div class="flexRow verticalRhythm--condensed"><div class="flexCol--6"><label class="appLabel--primary" translate="CLIENT_PROPERTIES_LABEL_IP_ADDRESSES"></label></div><div class="flexCol--6 alignRight"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="clientPropertiesConfigureNetworkCtrl.showCurrentIpAddresses = !clientPropertiesConfigureNetworkCtrl.showCurrentIpAddresses"><span class="button__icon icon ubnt-icon--eye-fill"></span><span translate="{{clientPropertiesConfigureNetworkCtrl.showCurrentIpAddresses ? \'CLIENT_PROPERTIES_BATCH_HIDE_CURRENT_IP_ADDRESSES\' : \'CLIENT_PROPERTIES_BATCH_SHOW_CURRENT_IP_ADDRESSES\'}}"></span></button></div></div><div class="appFormGroup appFormGroup--condensed verticalRhythmTop--condensed" unifi-initialize-when="clientPropertiesConfigureNetworkCtrl.modelCopy.attributes.network_id"><div class="flexRow verticalRhythm--condensed" ng-repeat="model in clientPropertiesConfigureNetworkCtrl.batchModel.get(\'destination\').models" ng-show="            $index &gt;= (clientPropertiesConfigureNetworkCtrl.currentPage - 1) * clientPropertiesConfigureNetworkCtrl.rowsPerPage &amp;&amp;            $index &lt; clientPropertiesConfigureNetworkCtrl.currentPage * clientPropertiesConfigureNetworkCtrl.rowsPerPage          " ng-init="inputName = \'clientIpAddress\' + model.cid"><div ng-class="clientPropertiesConfigureNetworkCtrl.showCurrentIpAddresses ? \'flexCol--5\' : \'flexCol--6\'"><label class="appLabel appLabel--boxAlign">{{model.getDisplayName()}}</label></div><div class="flexCol--3" ng-if="clientPropertiesConfigureNetworkCtrl.showCurrentIpAddresses"><label class="appLabel appLabel--boxAlign appType--quiet">{{model.attributes.ip || \'CLIENT_PROPERTIES_BATCH_IP_ADDRESS_UNAVAILABLE\' | translate}}</label></div><div ng-class="clientPropertiesConfigureNetworkCtrl.showCurrentIpAddresses ? \'flexCol--4\' : \'flexCol--6\'" unifi-initialize-when="clientPropertiesConfigureNetworkCtrl.ipAddressesMaster.hasOwnProperty(model.id) &amp;&amp; clientPropertiesConfigureNetworkCtrl.ipAddresses.hasOwnProperty(model.id)"><input class="input--full" type="text" name="{{inputName}}" ng-model="clientPropertiesConfigureNetworkCtrl.ipAddresses[model.id]" ng-model-master="clientPropertiesConfigureNetworkCtrl.ipAddressesMaster[model.id]" unifi-validate-ip-in-subnet="clientPropertiesConfigureNetworkCtrl.modelCopy.attributes.use_fixedip &amp;&amp; clientPropertiesConfigureNetworkCtrl.getNetworkIpSubnet()" ng-required="clientPropertiesConfigureNetworkCtrl.modelCopy.attributes.use_fixedip"><div class="appInputFeedback appInputFeedback--danger" ng-show="clientPropertiesConfigureNetworkCtrl.forms.ipAddresses[inputName].$error.ipInSubnet" translate="VALIDATION_HINT_IP_IN_SUBNET" translate-values="{ip: clientPropertiesConfigureNetworkCtrl.forms.ipAddresses[inputName].$viewValue, subnet: clientPropertiesConfigureNetworkCtrl.getNetworkIpSubnet()}"></div></div></div></div><div class="verticalRhythm--cozy" ng-if="clientPropertiesConfigureNetworkCtrl.batchModel.get(\'destination\').length &gt; clientPropertiesConfigureNetworkCtrl.rowsPerPage"><unifi-micro-pagination unifi-micro-pagination-current-page="clientPropertiesConfigureNetworkCtrl.currentPage" unifi-micro-pagination-rows-per-page="clientPropertiesConfigureNetworkCtrl.rowsPerPage" unifi-micro-pagination-total-rows="clientPropertiesConfigureNetworkCtrl.batchModel.get(\'destination\').length"></unifi-micro-pagination><div class="appInputFeedback appInputFeedback--danger verticalRhythmTop--cozy" ng-show="clientPropertiesConfigureNetworkCtrl.forms.ipAddresses.$error.ipInSubnet.length" translate="VALIDATION_HINT_IP_IN_SUBNET_BATCH" translate-values="{count: clientPropertiesConfigureNetworkCtrl.forms.ipAddresses.$error.ipInSubnet.length}" translate-interpolation="messageformat"></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveClient" ng-click="clientPropertiesConfigureNetworkCtrl.showValidation = true" busy-toggle="clientPropertiesConfigureNetworkCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="clientPropertiesConfigureNetworkCtrl.isSaveDisabled()">{{clientPropertiesConfigureNetworkCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="clientPropertiesConfigureNetworkCtrl.reset()" ng-disabled="clientPropertiesConfigureNetworkCtrl.form.$pristine">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form>'};var n=/["&<>]/},{"pug-runtime":2}],149:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiClientPropertiesDetails",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiClientProperties",template:e("./clientPropertiesDetails.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"details")}}}])},{"./clientPropertiesDetails.pug":150}],150:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section overview" is-open="clientPropertiesCtrl.accordions.details.overview"><accordion-heading>{{\'CLIENT_PROPERTIES_SECTION_DETAILS_OVERVIEW\' | translate}}</accordion-heading><div ng-if="clientPropertiesCtrl.accordions.details.overview" ng-class="{        \'col--xs8\': clientPropertiesCtrl.imgSrc,        \'col--xs12\': !clientPropertiesCtrl.imgSrc      }"><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow macAddress"><dt>{{\'CLIENT_PROPERTIES_LABEL_MAC_ADDRESS\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.get(\'mac\')}}</dd></div><div class="appDescriptionListRow hostname" ng-if="clientPropertiesCtrl.model.get(\'hostname\')"><dt>{{\'CLIENT_PROPERTIES_LABEL_HOSTNAME\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.get(\'hostname\')}}</dd></div><div class="appDescriptionListRow deviceVendor"'+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"clientPropertiesCtrl.dpi.getDeviceVendor(clientPropertiesCtrl.model.get('dev_vendor')) || clientPropertiesCtrl.model.get('oui')\"><dt>{{'CLIENT_PROPERTIES_LABEL_DEVICE_VENDOR' | translate}}</dt><dd>{{clientPropertiesCtrl.dpi.getDeviceVendor(clientPropertiesCtrl.model.get('dev_vendor')) || clientPropertiesCtrl.model.get('oui')}}</dd></div><div class=\"appDescriptionListRow deviceType\""+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"clientPropertiesCtrl.dpi.getDeviceCategory(clientPropertiesCtrl.model.get('dev_cat'))\"><dt>{{'CLIENT_PROPERTIES_LABEL_DEVICE_TYPE' | translate}}</dt><dd>{{clientPropertiesCtrl.dpi.getDeviceCategory(clientPropertiesCtrl.model.get('dev_cat'))}}</dd></div><div class=\"appDescriptionListRow deviceId\""+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"clientPropertiesCtrl.dpi.getDevice(clientPropertiesCtrl.model.get('dev_id'))\"><dt>{{'CLIENT_PROPERTIES_LABEL_DEVICE_ID' | translate}}</dt><dd>{{clientPropertiesCtrl.dpi.getDevice(clientPropertiesCtrl.model.get('dev_id'))}}</dd></div><div class=\"appDescriptionListRow osName\""+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"clientPropertiesCtrl.dpi.getOsName(clientPropertiesCtrl.model.get('os_name'))\"><dt>{{'CLIENT_PROPERTIES_LABEL_DEVICE_OS_NAME' | translate}}</dt><dd>{{clientPropertiesCtrl.dpi.getOsName(clientPropertiesCtrl.model.get('os_name'))}}</dd></div></div><div class=\"appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider\""+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="(\'enableWiFiExperience\' | featureFlagEnable) &amp;&amp; clientPropertiesCtrl.model.get(\'satisfaction\') !== undefined"><div class="appDescriptionListRow wifiSatisfaction"><dt>{{\'CLIENT_PROPERTIES_LABEL_WIFI_SATISFACTION\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.get(\'satisfaction\') | percent}}</dd></div><div class="appDescriptionListRow wifiSatisfaction" ng-if="placeholder"><dt>{{\'CLIENT_PROPERTIES_LABEL_WIFI_CAUSE\' | translate}}</dt><dd>-</dd></div><div class="appDescriptionListRow wifiSatisfaction" ng-if="placeholder"><dt>{{\'CLIENT_PROPERTIES_LABEL_WIFI_RECOMMENDATION\' | translate}}</dt><dd>-</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="clientPropertiesCtrl.isClientConnected"><div class="appDescriptionListRow ipAddress"><dt>{{\'CLIENT_PROPERTIES_LABEL_IP_ADDRESS\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.get(\'ip\')}}</dd></div><div class="appDescriptionListRow lastActivity" ng-if="clientPropertiesCtrl.isClientConnected &amp;&amp; clientPropertiesCtrl.model.get(\'idletime\') !== undefined"><dt>{{\'CLIENT_PROPERTIES_LABEL_LAST_ACTIVITY\' | translate}}</dt><dd ng-if="clientPropertiesCtrl.isActive()">{{\'CLIENT_PROPERTIES_VALUES_LAST_ACTIVITY_JUST_NOW\' | translate}}</dd><dd ng-if="!clientPropertiesCtrl.isActive()">{{(clientPropertiesCtrl.getCurrentTimestamp() - clientPropertiesCtrl.model.get(\'idletime\') * 1000) | lastSeen}}</dd></div><div class="appDescriptionListRow uptime"><dt>{{\'CLIENT_PROPERTIES_LABEL_UPTIME\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.get(\'uptime\') | seconds}}</dd></div><div class="appDescriptionListRow network" ng-if="clientPropertiesCtrl.isClientWired"><dt>{{\'CLIENT_PROPERTIES_LABEL_NETWORK\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.getConnection()}}</dd></div><div class="appDescriptionListRow uplink"><dt>{{clientPropertiesCtrl.isClientWired ? \'CLIENT_PROPERTIES_LABEL_PORT\' : \'CLIENT_PROPERTIES_LABEL_CONNECTED_AP\' | translate}}</dt><dd><a unifi-open-panel="clientPropertiesCtrl.uplink" unifi-open-panel-active-tab="clientPropertiesCtrl.uplink.get(\'type\') === \'usw\' ? \'ports\' : \'details\'" unifi-open-panel-change-tab="true" unifi-open-panel-states="clientPropertiesCtrl.uplinkPropertyPanelState">{{clientPropertiesCtrl.uplinkName}}</a></dd></div><div class="appDescriptionListRow essid" ng-if="!clientPropertiesCtrl.isClientWired"><dt>{{\'CLIENT_PROPERTIES_LABEL_ESSID\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.get(\'essid\')}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="!clientPropertiesCtrl.isClientConnected"><div class="appDescriptionListRow lastSeen"><dt>{{\'CLIENT_PROPERTIES_LABEL_LAST_SEEN\' | translate}}</dt><dd><span ng-if="clientPropertiesCtrl.model.get(\'last_seen\')">{{clientPropertiesCtrl.model.get(\'last_seen\') * 1000 | lastSeen}}</span><span ng-if="!clientPropertiesCtrl.model.get(\'last_seen\')" translate="CLIENT_PROPERTIES_VALUES_LAST_SEEN_NEVER"></span></dd></div></div></div><div class="col--xs4 alignCenter" ng-if="clientPropertiesCtrl.imgSrc"><img class="fullWidth" style="image-rendering: pixelated;" ng-src="{{clientPropertiesCtrl.imgSrc}}"></div></accordion-group><accordion-group class="unifiPanelItemContent__section statistics" is-open="clientPropertiesCtrl.accordions.details.statistics"><accordion-heading>{{\'CLIENT_PROPERTIES_SECTION_DETAILS_STATISTICS\' | translate}}</accordion-heading><div class="verticalRhythmQuarter" ng-if="clientPropertiesCtrl.isClientConnected &amp;&amp; clientPropertiesCtrl.accordions.details.statistics"><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="!clientPropertiesCtrl.isClientWired"><div class="appDescriptionListRow channel"><dt>{{\'CLIENT_PROPERTIES_LABEL_CHANNEL\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.get(\'channel\')}} (11{{clientPropertiesCtrl.model.get(\'radio_proto\')}})</dd></div><div class="appDescriptionListRow signal"><dt>{{\'CLIENT_PROPERTIES_LABEL_SIGNAL\' | translate}}</dt><dd ng-if="clientPropertiesCtrl.model.has(\'signal\')">{{clientPropertiesCtrl.model.get(\'rssi\') | rssi}} ({{clientPropertiesCtrl.model.get(\'signal\')}} {{\'DEVICE_RADIO_TRANSMIT_POWER_DBM\' | translate}})</dd><dd ng-if="!clientPropertiesCtrl.model.has(\'signal\')">{{clientPropertiesCtrl.model.get(\'rssi\') | rssi}} ({{clientPropertiesCtrl.model.get(\'rssi\') | rssiToDbm}})</dd></div>\x3c!-- intentionally switched rx/tx as values are reported from AP point of view--\x3e<div class="appDescriptionListRow txRate"><dt>{{\'CLIENT_PROPERTIES_LABEL_RX_RATE\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.get(\'tx_rate\') | rxtx}}</dd></div><div class="appDescriptionListRow rxRate"><dt>{{\'CLIENT_PROPERTIES_LABEL_TX_RATE\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.get(\'rx_rate\') | rxtx}}</dd></div><div class="appDescriptionListRow powerSave"><dt>{{\'CLIENT_PROPERTIES_LABEL_POWER_SAVE\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.get(\'powersave_enabled\') ? \'CLIENT_PROPERTIES_VALUES_POWER_SAVE_ENABLED\' : \'CLIENT_PROPERTIES_VALUES_POWER_SAVE_NOT_ENABLED\' | translate}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appSubHeading appSubHeading--small"><div>{{\'CLIENT_PROPERTIES_HEADER_ACTIVITY\' | translate}}</div></div><div class="appDescriptionListRow activity"><dt>{{\'CLIENT_PROPERTIES_LABEL_ACTIVITY\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.getActivityBytes() | bps:{convertFromBytes:true} }}</dd></div><div class="appDescriptionListRow activityDownPktsBytes"><dt>{{\'CLIENT_PROPERTIES_LABEL_ACTIVITY_DOWN_PKTS_BYTES\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.getTxActivityPackets() | numberToString}} / {{clientPropertiesCtrl.model.getTxActivity() | bytes}}</dd></div><div class="appDescriptionListRow activityUpPktsBytes"><dt>{{\'CLIENT_PROPERTIES_LABEL_ACTIVITY_UP_PKTS_BYTES\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.getRxActivityPackets() | numberToString}} / {{clientPropertiesCtrl.model.getRxActivity() | bytes}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="clientPropertiesCtrl.isClientWired"><div class="appSubHeading appSubHeading--small"><div>{{\'CLIENT_PROPERTIES_HEADER_INTER_NETWORK\' | translate}}</div></div><div class="appDescriptionListRow interNetworkActivity"><dt>{{\'CLIENT_PROPERTIES_LABEL_ACTIVITY\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.getInterNetworkActivityBytes() | bps:{convertFromBytes:true} }}</dd></div><div class="appDescriptionListRow interNetworkDownPktsBytes"><dt>{{\'CLIENT_PROPERTIES_LABEL_INTER_NETWORK_DOWN_PKTS_BYTES\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.getInterNetworkDownPackets() | numberToString}} / {{clientPropertiesCtrl.model.getInterNetworkDown() | bytes}}</dd></div><div class="appDescriptionListRow interNetworkUpPktsBytes"><dt>{{\'CLIENT_PROPERTIES_LABEL_INTER_NETWORK_UP_PKTS_BYTES\' | translate}}</dt><dd>{{clientPropertiesCtrl.model.getInterNetworkUpPackets() | numberToString}} / {{clientPropertiesCtrl.model.getInterNetworkUp() | bytes}}</dd></div></div></div><div class="appRow"><div class="col--sm6"><a class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-disabled="!clientPropertiesCtrl.statsUtils.isClientTimeSeriesEnabled()" ng-if="!clientPropertiesCtrl.system.isUnifiGo()" ui-sref="manage.site.statistics.client({clientId: clientPropertiesCtrl.model.get(\'mac\')})"><span class="button__icon icon ubnt-icon--statistics"></span><span>{{\'CLIENT_PROPERTIES_SHOW_HISTORICAL_DATA\' | translate}}</span></a></div><div class="col--sm6"><a class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-if="!clientPropertiesCtrl.system.isUnifiGo()" ui-sref="manage.site.settings.maintenance"><span class="button__icon icon ubnt-icon--link"></span><span>{{\'CLIENT_PROPERTIES_MANAGE_HISTORICAL_DATA\' | translate}}</span></a></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section dpi" is-open="clientPropertiesCtrl.accordions.details.dpi"><accordion-heading>{{\'CLIENT_PROPERTIES_SECTION_DETAILS_DPI\' | translate}}</accordion-heading><unifi-client-properties-dpi-list ng-if="clientPropertiesCtrl.accordions.details.dpi" unifi-client-properties-dpi-list-mac="::clientPropertiesCtrl.model.get(\'mac\')"></unifi-client-properties-dpi-list></accordion-group></accordion>'};var n=/["&<>]/},{"pug-runtime":2}],151:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("ClientPropertiesDpiListController",["binaryPrefix","DataConverter","dpiIcons","dpiUtils","settings","STATS_DEFAULTS","userDpi","$filter","$translate",function(e,t,i,n,o,s,a,l,p){return new(function(){function c(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.isLoading=!0,this.legendConfig={labelProperty:"label",iconProperty:"icon",valueProperties:["bytesParsed","pkts"],emptyPlaceholderKey:"CLIENT_PROPERTIES_DPI_UNKNOWN",headers:["",p.instant("CLIENT_PROPERTIES_DPI_TABLE_HEADER_NAME_BYTES"),p.instant("CLIENT_PROPERTIES_DPI_TABLE_HEADER_NAME_PACKETS")]},this.uploadChartConfig={donutThickness:8,externalRingOffset:0,externalRingThickness:8,dataProperty:"txBytes",type:"solid",label:{seocndary:"0",main:l("uppercase")(p.instant("CLIENT_PROPERTIES_DPI_UP"))},pieCss:function(e,t){return"unifiDonutChartPie"+t}},this.downloadChartConfig={donutThickness:8,externalRingOffset:0,externalRingThickness:8,dataProperty:"rxBytes",type:"solid",label:{seocndary:"0",main:l("uppercase")(p.instant("CLIENT_PROPERTIES_DPI_DOWN"))},pieCss:function(e,t){return"unifiDonutChartPie"+t}};var i={bytesParsed:function(e){return l("bytes")(e.bytes)},pkts:function(t){return e.parse(t.packets,"SI").toString()}};this.dataConverter=(new t).deduplicatedBy("label").sortedBy("bytes",!0).withLimit(s.DPI.CLIENT_PROPERTIES_DPI_MAX_ITEMS).countTotal().withMap(i,!0).withOtherDefaults({label:p.instant("CLIENT_PROPERTIES_DPI_OTHER")}),this.data=[],this.dpiEnabled=n.isDpiEnabled()}return r(c,[{key:"$onInit",value:function(){a.repositories.macFiltered.register(),this.listener=a.repositories.macFiltered.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),a.watchUser(this.clientMac),o.repository.collection.on("change",this.checkDpiEnabled,this)}},{key:"$onDestroy",value:function(){this.listener.stopListening(),a.repositories.macFiltered.unregister(),a.unwatchUser(this.clientMac),o.repository.collection.off("change",this.checkDpiEnabled,this)}},{key:"checkDpiEnabled",value:function(){this.dpiEnabled=n.isDpiEnabled(),this.collectData()}},{key:"collectData",value:function(){if(this.isLoading=!1,this.dpiEnabled){this.data=a.getDpiForUser(this.clientMac).map(function(e){return{label:e.getApplicationName(),packets:e.getTotalPackets(),rxPackets:e.get("rx_packets"),txPackets:e.get("tx_packets"),bytes:e.getTotalBytes(),rxBytes:e.get("rx_bytes"),txBytes:e.get("tx_bytes"),categoryId:e.get("cat"),applicationId:e.get("app"),icon:i.getIconForApplication(e.getCompoundId())}});var e=this.dataConverter.apply(this.data);this.data=e.data,this.uploadChartConfig.label.secondary=l("bytes")(e.total.txBytes),this.downloadChartConfig.label.secondary=l("bytes")(e.total.rxBytes)}}}]),c}())}])},{}],152:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").component("unifiClientPropertiesDpiList",{template:e("./clientPropertiesDpiList.pug")(),bindings:{clientMac:"<unifiClientPropertiesDpiListMac"},controller:"ClientPropertiesDpiListController",controllerAs:"clientPropertiesDpiListCtrl"})},{"./clientPropertiesDpiList.pug":153}],153:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiClientPropertiesDpiList flexFlag__body fullWidth"><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!clientPropertiesDpiListCtrl.isLoading &amp;&amp; (!clientPropertiesDpiListCtrl.dpiEnabled || !clientPropertiesDpiListCtrl.data.length)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="CLIENT_PROPERTIES_DPI_TABLE_NO_DATA"></p></div></div></div><div class="appSpinner appSpinner--medium autoMargin verticalRhythmTop--cozy verticalRhythm--cozy" ng-if="clientPropertiesDpiListCtrl.isLoading"></div><div class="appContainer verticalRhythmTopHalf" ng-if="!clientPropertiesDpiListCtrl.isLoading &amp;&amp; clientPropertiesDpiListCtrl.dpiEnabled &amp;&amp; !!clientPropertiesDpiListCtrl.data.length"><div class="appRow"><div class="col--sm12"><unifi-chart-legend class="unifiChartLegend--table unifiChartLegend--invertedIcons" unifi-chart-legend-config="clientPropertiesDpiListCtrl.legendConfig" unifi-chart-legend-data="clientPropertiesDpiListCtrl.data"></unifi-chart-legend></div></div><div class="appRow"><unifi-donut-chart class="col--sm6" unifi-donut-chart-config="clientPropertiesDpiListCtrl.downloadChartConfig" unifi-donut-chart-data="clientPropertiesDpiListCtrl.data"></unifi-donut-chart><unifi-donut-chart class="col--sm6" unifi-donut-chart-config="clientPropertiesDpiListCtrl.uploadChartConfig" unifi-donut-chart-data="clientPropertiesDpiListCtrl.data"></unifi-donut-chart></div><div class="appRow"><div class="col--sm12 alignRight"><a class="button appMainButton appMainButton--transparent appMainButton--cozy" ui-sref="manage.site.statistics.dpi({view: \'users\', userId: clientPropertiesDpiListCtrl.clientMac})">{{\'COMMON_ACTIONS_DETAILS\' | translate}}</a></div></div></div></div>'}},{"pug-runtime":2}],154:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("ClientPropertiesHistoryListController",["BaseListController","clientUtils",function(e,t){return new(function(i){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.skipInitialization=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"updateModel",value:function(e){this.model=e,this.updateCollection()}},{key:"updateCollection",value:function(){var e=this;this.model&&t.fetchClientHistory(this.model,5).then(function(t){e.collection?e.collection.reset(t.models):(e.collection=t,e.initView(),e.initFilters())})}},{key:"getCollection",value:function(){return this.collection}}]),n}())}])},{}],155:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiClientPropertiesHistoryList",["updateModelDirectiveMixin","EVENTS",function(t,i){return{scope:{model:"=unifiClientPropertiesHistoryListModel"},controller:"ClientPropertiesHistoryListController",controllerAs:"clientPropertiesHistoryListCtrl",restrict:"E",replace:!0,template:e("./clientPropertiesHistoryList.pug")(),link:function(e,r,n,o){e.$on("$destroy",function(){o.destroyView()}),e.$on(i.APP_REFRESH,function(e,t){t.push(o.updateCollection())}),t.init(e,r,n,o,!0)}}}])},{"./clientPropertiesHistoryList.pug":156}],156:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiPanelItemContent__section appScrollable flexFlag__body fullWidth" ng-switch="!!clientPropertiesHistoryListCtrl.view"><div ng-switch-when="true"><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent" collection-view-sort="clientPropertiesHistoryListCtrl.view"><thead><tr><th class="historyDatetime" collection-view-sort-by="assoc_time"><span translate="CLIENT_PROPERTIES_HISTORY_TABLE_HEADER_DATE_TIME"></span></th><th class="historyDuration" collection-view-sort-by="duration"><span translate="CLIENT_PROPERTIES_HISTORY_TABLE_HEADER_DURATION"></span></th><th class="historyTxBytes" collection-view-sort-by="tx_bytes"><span translate="CLIENT_PROPERTIES_HISTORY_TABLE_HEADER_DOWN"></span></th><th class="historyRxBytes" collection-view-sort-by="rx_bytes"><span translate="CLIENT_PROPERTIES_HISTORY_TABLE_HEADER_UP"></span></th></tr></thead><tbody><tr collection-view-repeat="model in clientPropertiesHistoryListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="historyDatetime">{{::model.get(\'assoc_time\') * 1000 | moment: \'format\': \'datetime\'}}</td><td class="historyDuration">{{::model.get(\'duration\') | seconds}}</td><td class="historyTxBytes">{{::model.get(\'tx_bytes\')| bytes}}</td><td class="historyRxBytes">{{::model.get(\'rx_bytes\') | bytes}}</td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!clientPropertiesHistoryListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="CLIENT_PROPERTIES_HISTORY_TABLE_EMPTY"></p></div></div></div></div><div class="unifiPanelItemContentSection__loading"'+(i="ng-switch-default",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+'><div class="appSpinner appSpinner--medium"></div></div></div>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],157:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a,l,p,c){this.$q=e,this.$translate=t,this.deviceAdoptStrategy=s,this.deviceStateUtils=i,this.frame=n,this.heyToasts=o,this.deviceUtils=a,this.DEVICE_STATES=p,this.patterns={ip:c.IPV4_ADDRESS},r.call(this,l)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.adopt=function(){var e=this,t={ip:this.adoptIp,port:this.modelCopy.attributes.sshd_port||"22",username:this.adoptUsername,password:this.adoptPassword,url:this.adoptUrl,sshKeyVerify:this.adoptSshKeyVerify};return this.$q.when(!t.sshKeyVerify&&this.hasSshHostKey()&&this.confirmUntrusted()).then(function(){return e.isAdopting=!0,e.deviceAdoptStrategy.advancedAdoptDevice(e.model,t).then(function(t){return e.heyToasts.pushSuccess(t),!0}).catch(function(t){return t&&e.heyToasts.pushError(t),e.isAdopting=!1,!1})})},n.prototype.getAdoptIp=function(){return this.model?this.model.get("adopt_ip")||this.model.get("ip"):null},n.prototype.getAdoptUrl=function(){return(this.model?this.model.get("adopt_url")||this.model.get("inform_url"):void 0)||"http://unifi:8080/inform"},n.prototype.confirmUntrusted=function(){return this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_ACTIONS_ADOPT_UNTRUSTED_CONFIRM_TITLE")}.bind(this),message:function(){return this.$translate.instant("DEVICE_ACTIONS_ADOPT_UNTRUSTED_CONFIRM_MESSAGE")}.bind(this),options:function(){return{defaultCancel:!0}}}).catch(function(){return this.adoptSshKeyVerify=!0,this.$q.reject()}.bind(this))},n.prototype.isSshHostKeyVerify=function(){if(this.model){var e=this.model.get("adopted"),t=this.deviceStateUtils.getRawDeviceState(this.model)===this.DEVICE_STATES.ADOPTION_FAILED,i=this.model.get("x_has_ssh_hostkey");return!!(e&&t&&i)}return!1},n.prototype.hasSshHostKey=function(){return!(!this.model||!this.model.get("x_has_ssh_hostkey"))},n.prototype.onModelChange=function(){this.isAdopting=!(!this.model||this.deviceStateUtils.getRawDeviceState(this.model)!==this.DEVICE_STATES.ADOPTING),this.adoptIpMaster=this.getAdoptIp(),this.adoptUrlMaster=this.getAdoptUrl()},n.prototype.reset=function(){r.prototype.reset.call(this),this.adoptIp=this.getAdoptIp(),this.adoptUrl=this.getAdoptUrl(),this.adoptUsername=null,this.adoptPassword=null,this.adoptSshKeyVerify=this.isSshHostKeyVerify()},n.$inject=["$q","$translate","deviceStateUtils","frame","heyToasts","deviceAdoptStrategy","deviceUtils","modelDivergence","DEVICE_STATES","REGEX_PATTERNS"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesAdoptController",n)},{}],158:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesAdopt",["updateModelDirectiveMixin",function(t){return{scope:{model:"=unifiDevicePropertiesAdopt"},controller:"DevicePropertiesAdoptController",controllerAs:"devicePropertiesAdoptCtrl",template:e("./devicePropertiesAdopt.pug")(),link:function(e,i,r,n){e.directiveId=e.$id,e.$on("$destroy",function(){n.removeEventHandlers()}),t.init(e,i,r,n,!0)}}}])},{"./devicePropertiesAdopt.pug":159}],159:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiPanelItemContent__section"><h4 class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_ADVANCED_ADOPT\' | translate}}</span></h4><form class="appForm appForm--cozy unifiPanelItemForm"'+r("novalidate",!0,!0,!0)+' autocomplete="off" name="devicePropertiesAdoptCtrl.form" ng-class="{      \'is-form-validation-visible\': devicePropertiesAdoptCtrl.showValidation,      \'is-validation-hidden\': !devicePropertiesAdoptCtrl.showValidation    }" ng-submit="devicePropertiesAdoptCtrl.form.$valid &amp;&amp; devicePropertiesAdoptCtrl.adopt()"><unifi-config-changed unifi-config-changed-on-reset="devicePropertiesAdoptCtrl.resolveDivergence()" unifi-config-changed-on-ignore="devicePropertiesAdoptCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="devicePropertiesAdoptCtrl.form.$error.divergent"></unifi-config-changed><div class="appFormGroup appFormGroup--condensed"><div class="flexRow"><div class="flexCol--6"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_IP_ADDRESS"></label><input class="input--full" type="text" name="adoptIp" ng-model="devicePropertiesAdoptCtrl.adoptIp" ng-model-master="devicePropertiesAdoptCtrl.adoptIpMaster" ng-pattern="devicePropertiesAdoptCtrl.patterns.ip"></div><div class="flexCol--6"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_PORT"></label><input class="input--full" type="text" name="adoptPort" ng-model="devicePropertiesAdoptCtrl.modelCopy.attributes.sshd_port" ng-model-master="devicePropertiesAdoptCtrl.model.attributes.sshd_port"></div></div><div class="flexRow"><div class="flexCol--6"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_USERNAME"></label><input class="input--full" type="text" name="adoptU" ng-model="devicePropertiesAdoptCtrl.adoptUsername"'+r("required",!0,!0,!0)+'></div><div class="flexCol--6"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_PASSWORD"></label><unifi-password-reveal><input class="input--full" type="password" name="adoptP" ng-model="devicePropertiesAdoptCtrl.adoptPassword"'+r("required",!0,!0,!0)+'></unifi-password-reveal></div></div><div class="flexRow" ng-if="devicePropertiesAdoptCtrl.hasSshHostKey()"><div class="flexCol--12"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="adoptSshKeyVerify" id="adoptSshKeyVerify{{::directiveId}}" ng-model="devicePropertiesAdoptCtrl.adoptSshKeyVerify"><label class="appLabel--half" for="adoptSshKeyVerify{{::directiveId}}" translate="DEVICE_PROPERTIES_LABEL_SSH_KEY"></label></div></div></div><div class="flexRow"><div class="flexCol--12"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_INFORM_URL"></label><input class="input--full" type="text" name="adoptUrl" ng-model="devicePropertiesAdoptCtrl.adoptUrl" ng-model-master="devicePropertiesAdoptCtrl.adoptUrlMaster"></div></div></div><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed adoptDevice" ng-click="devicePropertiesAdoptCtrl.showValidation = true" busy-toggle="devicePropertiesAdoptCtrl.isAdopting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'DEVICE_ACTIONS_ADOPT\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="devicePropertiesAdoptCtrl.reset()" ng-disabled="devicePropertiesAdoptCtrl.isAdopting">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form></div>'};var n=/["&<>]/},{"pug-runtime":2}],160:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(){r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.onModelChange=function(){},n.$inject=[],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesAlertsController",n)},{}],161:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesAlerts",["updateModelDirectiveMixin",function(t){return{scope:{model:"=unifiDevicePropertiesAlerts"},controller:"DevicePropertiesAlertsController",controllerAs:"devicePropertiesAlertsCtrl",template:e("./devicePropertiesAlerts.pug")(),link:function(e,i,r,n){e.directiveId=e.$id,e.$on("$destroy",function(){n.removeEventHandlers()}),t.init(e,i,r,n,!0)}}}])},{"./devicePropertiesAlerts.pug":162}],162:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appFormGroup appFormGroup--condensed"><div class="unifiDevicePropertiesCountryLockedWarning" unifi-device-properties-country-locked-warning="::devicePropertiesAlertsCtrl.model"></div><div class="unifiDevicePropertiesLicenseWarning" unifi-device-properties-license-warning="::devicePropertiesAlertsCtrl.model"></div><div class="unifiDevicePropertiesStunWarning" unifi-device-properties-stun-warning="::devicePropertiesAlertsCtrl.model"></div><div class="unifiDevicePropertiesIncompatibleModelWarning" unifi-device-properties-incompatible-model-warning="::devicePropertiesAlertsCtrl.model"></div><div class="unifiDevicePropertiesBetaWarning" unifi-device-properties-beta-warning="::devicePropertiesAlertsCtrl.model"></div><div class="unifiDevicePropertiesEliteDeviceWarning" unifi-device-properties-elite-device-warning="::devicePropertiesAlertsCtrl.model"></div><div class="unifiDevicePropertiesModelEolPendingWarning" unifi-device-properties-model-eol-pending-warning="::devicePropertiesAlertsCtrl.model"></div></div>'}},{"pug-runtime":2}],163:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesBatchError",["apiResults","devices",function(t,i){return{scope:{batchModel:"=unifiDevicePropertiesBatchError"},template:e("./devicePropertiesBatchError.pug")(),link:function(e){e.getDeviceByError=function(e){return i.repository.collection.get(e.id)},e.getErrorMsg=function(e){return t.translateErrorMsg(e)},e.dismiss=function(){e.batchModel.unset("success"),e.batchModel.unset("error")}}}}])},{"./devicePropertiesBatchError.pug":164}],164:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiPanelItemBodySection unifiPanelItemBodySection--flexible"><div class="unifiPanelItemContent"><div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--danger is-app-info-box-collapsed verticalRhythm--cozy verticalRhythmTop--condensed"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header">{{\'DEVICE_PROPERTIES_PENDING_CHANGES_BATCH_APPLY_ERROR\' | translate}}</div></div></div><div class="unifiPanelItemContent__section appScrollable flexFlag__body fullWidth"><ul class="list"><li class="verticalRhythm--cozy" ng-repeat="error in batchModel.get(\'error\')" ng-init="device = getDeviceByError(error)"><div class="iconText appIconText unifiDeviceIconText"><div class="iconText__icon" unifi-device-icon="device"></div><div class="iconText__text">{{device.getDisplayName() || error.id}}</div></div><div class="is-device-icon-text-aligned">{{getErrorMsg(error)}}</div></li></ul></div><button class="appMainButton appMainButton--cozy appMainButton--primary verticalRhythmTop--condensed" translate="COMMON_ACTIONS_DISMISS" ng-click="dismiss()"></button></div></div>'}},{"pug-runtime":2}],165:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesBatchListController",["$q","BasePaginatedListController","manageDevicesComparator","deviceStateUtils","preferences",function(e,t,i,n,o){return new(function(e){function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return e.defaultSortBy="name",e.rowsPerPage=o.model.getRowsPerPropertyPanel(),e.comparator=i,e.getDeviceModelName=n.getDeviceModelName.bind(n),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,t),r(s,[{key:"updateModel",value:function(e){this.model=e,this.updateDestination(e?e.get("destination"):void 0)}},{key:"updateDestination",value:function(e){this.destroyView(),this.destination=e,this.initFilters(),this.initView()}},{key:"getCollection",value:function(){return this.destination}},{key:"removeItem",value:function(e){this.destination.remove(e)}}]),s}())}])},{}],166:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesBatchList",["PaginatedListDirective","updateModelDirectiveMixin",function(t,i){var r=new t("devicePropertiesBatch",e("./devicePropertiesBatchList.pug")(),{_model:"=unifiDevicePropertiesBatchListModel"});return r.addMixin(i,[!0,"devicePropertiesBatchListCtrl._model"]),r}])},{"./devicePropertiesBatchList.pug":167}],167:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiPanelItemContent__section appScrollable flexFlag__body fullWidth"><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent appForm appForm--cozy"><thead><tr><th class="alignCenter deviceStateIcon"></th><th class="deviceName"><span translate="DEVICE_TABLE_HEADER_NAME"></span></th><th class="deviceModel"><span translate="DEVICE_TABLE_HEADER_MODEL"></span></th><th class="deviceActions"></th></tr></thead><tfoot ng-if="devicePropertiesBatchListCtrl.view.getModels().length"><tr><td colspan="4"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="devicePropertiesBatchListCtrl.currentPage" unifi-micro-pagination-rows-per-page="devicePropertiesBatchListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="devicePropertiesBatchListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in devicePropertiesBatchListCtrl.view.getModels(),              startFrom (devicePropertiesBatchListCtrl.currentPage - 1) * devicePropertiesBatchListCtrl.rowsPerPage,              limitTo devicePropertiesBatchListCtrl.rowsPerPage" data-id="{{::model.id}}"><td class="deviceStateIcon unifiDevicesTable__statusBall"><span unifi-device-status="::model" unifi-device-status-with-icons="true"></span></td><td class="deviceName" ng-attr-title="{{::model.get(\'mac\')}}">{{::model.getDisplayName()}}</td><td class="deviceModel">{{::devicePropertiesBatchListCtrl.getDeviceModelName(model)}}</td><td class="deviceActions appTableCell--actions"><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed" unifi-open-panel="model" unifi-open-panel-active-tab="\'details\'" title="{{\'COMMON_PROPERTY_PANEL_OPEN\' | translate}}"><span class="button__icon icon ubnt-icon--panels"></span></button><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed noMarginLeft" ng-click="devicePropertiesBatchListCtrl.removeItem(model)" title="{{\'COMMON_ACTIONS_REMOVE\' | translate}}"><span class="button__icon icon ubnt-icon--x-circle"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!devicePropertiesBatchListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_DEFAULT_BATCH_TABLE_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":2}],168:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e){this.deviceModelUtils=e,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.onModelChange=function(){},n.prototype.isDeviceWithBetaWarning=function(){return this.model&&this.deviceModelUtils.isBeta(this.model)},n.$inject=["deviceModelUtils"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesBetaWarningController",n)},{}],169:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesBetaWarning",["updateModelDirectiveMixin",function(t){return{controller:"DevicePropertiesBetaWarningController",controllerAs:"devicePropertiesBetaWarningCtrl",scope:{model:"=unifiDevicePropertiesBetaWarning"},template:e("./devicePropertiesBetaWarning.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,!0)}}}])},{"./devicePropertiesBetaWarning.pug":170}],170:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--warning verticalRhythm--cozy verticalRhythmTop--cozy" ng-if="devicePropertiesBetaWarningCtrl.isDeviceWithBetaWarning()" ng-class="{\'is-app-info-box-collapsed\': !isInfoBoxExpanded}"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-click="isInfoBoxExpanded = !isInfoBoxExpanded">{{\'DEVICE_PROPERTIES_NOTICE_BETA_WARNING_HEADER\' | translate}}<div class="appInfoBox__toggle icon" ng-class="isInfoBoxExpanded ? \'ubnt-icon--minus\' : \'ubnt-icon--plus\'"></div></div><div class="appInfoBox__body"><p translate="{{\'DEVICE_PROPERTIES_NOTICE_BETA_WARNING_BODY\'}}"></p></div></div></div>'}},{"pug-runtime":2}],171:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),n=function e(t,i,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,i);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,i,r)}if("value"in n)return n.value;var s=n.get;return void 0!==s?s.call(r):void 0};angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesClientListController",["BaseClientListController","clients","ClientFilter","simpleClientsComparator","CollectionView","preferences",function(e,t,i,o,s,a){return new(function(s){function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.clients=t,e.comparator=o,e.filter=new i,e.rowsPerPage=a.model.getRowsPerPropertyPanel(),e.defaultSortBy="name",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,e),r(l,[{key:"initView",value:function(){n(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"initView",this).call(this),this.view.setOnRefreshViewCallback(this.setFilterCounts.bind(this)),this.setFilterCounts()}},{key:"initFilters",value:function(){n(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"initFilters",this).call(this),this.filter.setMacFilter(this.device.get("mac")),this.initFilterView()}},{key:"initFilterView",value:function(){var e=this;this.filterViewGroups=[],this.filterViewGroups.push({id:"clients",translationKey:"DEVICE_PROPERTIES_CLIENTS_FILTER_TITLE_GUEST",noBorder:!0,noMarginBottom:!0,items:[{id:"all",translationKey:"DEVICE_PROPERTIES_CLIENTS_GUEST_FILTER_ALL",excludeFromSummary:!0,getCount:function(){return e.counts.guests+e.counts.users},isSelected:function(){return!e.hasGuestFilter()},onSelect:function(){return e.clearGuestFilter()}},{id:"user",translationKey:"DEVICE_PROPERTIES_CLIENTS_GUEST_FILTER_FALSE",getCount:function(){return e.counts.users},isSelected:function(){return!1===e.getGuestFilter()},onSelect:function(){return e.setGuestFilter(!1)}},{id:"guest",translationKey:"DEVICE_PROPERTIES_CLIENTS_GUEST_FILTER_TRUE",getCount:function(){return e.counts.guests},isSelected:function(){return!0===e.getGuestFilter()},onSelect:function(){return e.setGuestFilter(!0)}}]})}},{key:"setFilterCounts",value:function(){var e=this;this.counts={users:0,guests:0},this.view.getModels().forEach(function(t){t.get("is_guest")?e.counts.guests++:e.counts.users++})}},{key:"getCollection",value:function(){return t.repository.collection}},{key:"onPageSizeChange",value:function(){}}]),l}())}])},{}],172:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesClientList",["PaginatedListDirective",function(t){return new t("devicePropertiesClient",e("./devicePropertiesClientList.pug")(),{device:"=unifiDevicePropertiesClientListDevice"})}])},{"./devicePropertiesClientList.pug":173}],173:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiPanelItemContent__section appScrollable flexFlag__body fullWidth positionRelative" ng-init="devicePropertiesClientListCtrl.isSwitch = (devicePropertiesClientListCtrl.device.isSwitch());           devicePropertiesClientListCtrl.isAP = (devicePropertiesClientListCtrl.device.isAp());"><unifi-ui-list-filter-buttons unifi-ui-list-filter-buttons-config="devicePropertiesClientListCtrl.filterViewGroups"></unifi-ui-list-filter-buttons><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent" collection-view-sort="devicePropertiesClientListCtrl.view"><thead><tr><th class="clientName" collection-view-sort-by="name"><span ng-if="devicePropertiesClientListCtrl.isAP" translate="DEVICE_PROPERTIES_CLIENTS_TABLE_HEADER_NAME_WLAN"></span><span ng-if="devicePropertiesClientListCtrl.isSwitch" translate="DEVICE_PROPERTIES_CLIENTS_TABLE_HEADER_NAME"></span></th><th class="clientSignal" ng-if="devicePropertiesClientListCtrl.isAP" collection-view-sort-by="rssi"><span translate="DEVICE_PROPERTIES_CLIENTS_TABLE_HEADER_SIGNAL"></span></th><th class="clientTxRate" ng-if="devicePropertiesClientListCtrl.isAP" collection-view-sort-by="tx_rate"><span translate="DEVICE_PROPERTIES_CLIENTS_TABLE_HEADER_TX_RATE"></span></th><th class="clientIp" ng-if="devicePropertiesClientListCtrl.isSwitch" collection-view-sort-by="ip"><span translate="DEVICE_PROPERTIES_CLIENTS_TABLE_HEADER_IP"></span></th></tr></thead><tfoot ng-if="devicePropertiesClientListCtrl.view.getModels().length"><tr><td colspan="{{::devicePropertiesClientListCtrl.isAP ? 3 : 2}}"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="devicePropertiesClientListCtrl.currentPage" unifi-micro-pagination-rows-per-page="devicePropertiesClientListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="devicePropertiesClientListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="model in devicePropertiesClientListCtrl.view.getModels(),          startFrom (devicePropertiesClientListCtrl.currentPage - 1) * devicePropertiesClientListCtrl.rowsPerPage,          limitTo devicePropertiesClientListCtrl.rowsPerPage" data-id="{{::model.id}}"><td class="clientName"><a unifi-open-panel="model" unifi-open-panel-active-tab="\'details\'">{{::model.getDisplayName()}}</a><div ng-if="devicePropertiesClientListCtrl.isAP">{{::model.get(\'essid\')}}</div></td><td class="clientSignal" ng-if="devicePropertiesClientListCtrl.isAP"><span ng-if="::model.has(\'signal\')">{{::model.get(\'signal\')}} {{\'DEVICE_RADIO_TRANSMIT_POWER_DBM\' | translate}}</span><span ng-if="::!model.has(\'signal\')">{{::model.get(\'rssi\') | rssiToDbm}}</span></td><td class="clientTxRate" ng-if="devicePropertiesClientListCtrl.isAP">{{::model.get(\'tx_rate\') | rxtx}}</td><td class="clientIp" ng-if="devicePropertiesClientListCtrl.isSwitch">{{::model.get(\'ip\')}}</td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!devicePropertiesClientListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_CLIENTS_TABLE_EMPTY_NO_CLIENTS"></p></div></div></div></div>'}},{"pug-runtime":2}],174:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t,i,n,o,s,a,l){this.$q=e,this.$translate=t,this.sites=i,this.siteUtils=n,this.deviceUtils=o,this.deviceBatchUtils=s,this.frame=a,this.heyToasts=l,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0},n.prototype.updateBatchModel=function(e){this.batchModel=e},n.prototype.cancelMigrate=function(){return this.isCanceling=!0,(this.isBatchEdit?this.deviceBatchUtils.cancelMigrateDevices(this.batchModel):this.deviceUtils.cancelMigrateDevice(this.model)).then(function(e){return this.heyToasts.pushSuccess(e),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(e),!1}.bind(this)).finally(function(){this.isCanceling=!1}.bind(this))},n.prototype.onModelChange=function(){},n.$inject=["$q","$translate","sites","siteUtils","deviceUtils","deviceBatchUtils","frame","heyToasts"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesConfigureCancelMigrateController",n)},{}],175:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesConfigureCancelMigrate",["updateModelDirectiveMixin","devicePropertiesConfigureBatchDirectiveMixin",function(t,i){return{scope:{model:"=unifiDevicePropertiesConfigureCancelMigrate",withBatch:"=unifiDevicePropertiesConfigureCancelMigrateWithBatch",isOpen:"=unifiDevicePropertiesConfigureCancelMigrateIsOpen"},controller:"DevicePropertiesConfigureCancelMigrateController",controllerAs:"devicePropertiesConfigureCancelMigrateCtrl",template:e("./devicePropertiesConfigureCancelMigrate.pug")(),link:function(e,r,n,o){e.$watch("withBatch",function(e){o.updateBatchModel(e)}),e.$on("$destroy",function(){o.removeEventHandlers()}),t.init(e,r,n,o,!0),i.init(e,r,n,o)}}}])},{"./devicePropertiesConfigureCancelMigrate.pug":176}],176:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm positionRelative"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' name="devicePropertiesConfigureCancelMigrateCtrl.form"><div ng-if="isOpen" unifi-upgrading-whiteout-notice="::devicePropertiesConfigureCancelMigrateCtrl.model"></div><p class="verticalRhythm--cozy">{{\'DEVICE_ACTIONS_CANCEL_MIGRATE_INFO\' | translate}}</p><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed cancelMigrate" ng-click="devicePropertiesConfigureCancelMigrateCtrl.cancelMigrate()" busy-toggle="devicePropertiesConfigureCancelMigrateCtrl.isCanceling" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'DEVICE_ACTIONS_CANCEL_MIGRATE\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],177:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t,i,n,o,s,a,l){this.$q=e,this.$translate=t,this.deviceUtils=i,this.deviceBatchUtils=n,this.settings=o,this.sites=s,this.frame=a,this.heyToasts=l,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0},n.prototype.updateBatchModel=function(e){this.batchModel=e},n.prototype.customUpgradeAvailable=function(){var e=this.settings.getSettingFromKey("mgmt");return!e||!e.get("auto_upgrade")},n.prototype.customUpgrade=function(){return this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_ACTIONS_CUSTOM_UPGRADE_CONFIRM_TITLE")}.bind(this),message:function(){return this.$translate.instant("DEVICE_ACTIONS_CUSTOM_UPGRADE_CONFIRM_MESSAGE")}.bind(this),options:angular.noop}).then(function(){return this.isSubmitting=!0,(this.isBatchEdit?this.deviceBatchUtils.upgradeDevices(this.batchModel,this.url):this.deviceUtils.upgradeDevice(this.model,this.url)).then(function(e){return this.heyToasts.pushSuccess(e),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(e),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))}.bind(this))},n.prototype.isSubmitAllowed=function(){return this.form.$valid&&!this.form.$pristine},n.prototype.onModelChange=function(){},n.$inject=["$q","$translate","deviceUtils","deviceBatchUtils","settings","sites","frame","heyToasts"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesConfigureCustomUpgradeController",n)},{}],178:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesConfigureCustomUpgrade",["updateModelDirectiveMixin","devicePropertiesConfigureBatchDirectiveMixin",function(t,i){return{scope:{model:"=unifiDevicePropertiesConfigureCustomUpgrade",withBatch:"=unifiDevicePropertiesConfigureCustomUpgradeWithBatch",isOpen:"=unifiDevicePropertiesConfigureCustomUpgradeIsOpen"},controller:"DevicePropertiesConfigureCustomUpgradeController",controllerAs:"devicePropertiesConfigureCustomUpgradeCtrl",template:e("./devicePropertiesConfigureCustomUpgrade.pug")(),link:function(e,r,n,o){e.$watch("withBatch",function(e){o.updateBatchModel(e)}),e.$on("$destroy",function(){o.removeEventHandlers()}),t.init(e,r,n,o,!0),i.init(e,r,n,o)}}}])},{"./devicePropertiesConfigureCustomUpgrade.pug":179}],179:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm positionRelative"'+r("novalidate",!0,!0,!0)+' name="devicePropertiesConfigureCustomUpgradeCtrl.form" ng-class="{    \'is-form-validation-visible\': devicePropertiesConfigureCustomUpgradeCtrl.showValidation,    \'is-validation-hidden\': !devicePropertiesConfigureCustomUpgradeCtrl.showValidation  }" ng-submit="devicePropertiesConfigureCustomUpgradeCtrl.isSubmitAllowed() &amp;&amp; devicePropertiesConfigureCustomUpgradeCtrl.customUpgrade()"><div ng-if="isOpen" unifi-upgrading-whiteout-notice="::devicePropertiesConfigureCustomUpgradeCtrl.model"></div><p class="verticalRhythm--cozy" ng-if="devicePropertiesConfigureCustomUpgradeCtrl.customUpgradeAvailable()">{{\'DEVICE_ACTIONS_CUSTOM_UPGRADE_INFO\' | translate}}</p><p class="verticalRhythm--cozy" ng-if="!devicePropertiesConfigureCustomUpgradeCtrl.customUpgradeAvailable()">{{\'DEVICE_ACTIONS_CUSTOM_UPGRADE_DISABLED_INFO\' | translate}}</p><fieldset class="appFieldset appFieldset--quiet"><div class="appFormGroup appFormGroup--condensed"><input class="input--full" type="url" name="url" ng-model="devicePropertiesConfigureCustomUpgradeCtrl.url" ng-disabled="!devicePropertiesConfigureCustomUpgradeCtrl.customUpgradeAvailable()"'+r("required",!0,!0,!0)+' placeholder="(ftp|http|https)://path.to/update.(bin|tar)"><div class="appInputFeedback appInputFeedback--danger" ng-show="devicePropertiesConfigureCustomUpgradeCtrl.form.url.$error.url" translate="VALIDATION_HINT_URL"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="devicePropertiesConfigureCustomUpgradeCtrl.form.url.$error.required" translate="VALIDATION_HINT_REQUIRED"></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed customUpgradeDevice" ng-click="devicePropertiesConfigureCustomUpgradeCtrl.showValidation = true" ng-disabled="!devicePropertiesConfigureCustomUpgradeCtrl.customUpgradeAvailable()" busy-toggle="devicePropertiesConfigureCustomUpgradeCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']"><span class="button__icon icon ubnt-icon--download-2"></span><span>{{\'DEVICE_ACTIONS_CUSTOM_UPGRADE\' | translate}}</span></button></div></div></form>'};var n=/["&<>]/},{"pug-runtime":2}],180:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t,i,n,o,s){this.$translate=e,this.deviceUtils=t,this.deviceBatchUtils=i,this.frame=n,this.heyToasts=o,this.apiResults=s,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0},n.prototype.updateBatchModel=function(e){this.batchModel=e},n.prototype.toggle=function(){if(this.model)return this.isDisabled()?this.isBatchEdit?this.enableBatch():this.enable():this.isBatchEdit?this.disableBatch():this.disable()},n.prototype.isDisabled=function(){return this.forceToEnable||!this.forceToDisable&&this.model&&this.model.get("disabled")||!1},n.prototype.disable=function(){return this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_ACTIONS_DISABLE_CONFIRM_TITLE",{deviceName:this.model.getDisplayName()})}.bind(this),message:function(){return this.$translate.instant("DEVICE_ACTIONS_DISABLE_CONFIRM_MESSAGE",{deviceName:this.model.getDisplayName()})}.bind(this),options:angular.noop}).then(function(){return this.isDisabling=!0,this.deviceUtils.saveDevice(this.model,{disabled:!0},{wait:!0}).then(function(){this.heyToasts.pushSuccess(this.$translate.instant("DEVICE_ACTIONS_DISABLE_SUCCESS",{deviceName:this.model.getDisplayName()}))}.bind(this)).catch(function(e){this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("DEVICE_ACTIONS_DISABLE_ERROR",{deviceName:this.model.getDisplayName()}),e))}.bind(this)).finally(function(){this.isDisabling=!1}.bind(this))}.bind(this))},n.prototype.enable=function(){return this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_ACTIONS_ENABLE_CONFIRM_TITLE",{deviceName:this.model.getDisplayName()})}.bind(this),message:function(){return this.$translate.instant("DEVICE_ACTIONS_ENABLE_CONFIRM_MESSAGE",{deviceName:this.model.getDisplayName()})}.bind(this),options:angular.noop}).then(function(){return this.isEnabling=!0,this.deviceUtils.saveDevice(this.model,{disabled:!1},{wait:!0}).then(function(){this.heyToasts.pushSuccess(this.$translate.instant("DEVICE_ACTIONS_ENABLE_SUCCESS",{deviceName:this.model.getDisplayName()}))}.bind(this)).catch(function(e){this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("DEVICE_ACTIONS_ENABLE_ERROR",{deviceName:this.model.getDisplayName()}),e))}.bind(this)).finally(function(){this.isEnabling=!1}.bind(this))}.bind(this))},n.prototype.disableBatch=function(){return this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_ACTIONS_BATCH_DISABLE_CONFIRM_TITLE")}.bind(this),message:function(){return this.$translate.instant("DEVICE_ACTIONS_BATCH_DISABLE_CONFIRM_MESSAGE",{count:this.batchModel.countDestinationAttrValue("disabled",!1,!0)},"messageformat")}.bind(this),options:angular.noop}).then(function(){return this.isDisabling=!0,this.deviceBatchUtils.saveDevices(this.batchModel,{disabled:!0},{wait:!0}).then(function(e){(this.batchModel.get("error")||[]).length?this.heyToasts.pushWarning(e):this.heyToasts.pushSuccess(e)}.bind(this)).catch(function(e){this.heyToasts.pushError(e)}.bind(this)).finally(function(){this.isDisabling=!1}.bind(this))}.bind(this))},n.prototype.enableBatch=function(){return this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_ACTIONS_BATCH_ENABLE_CONFIRM_TITLE")}.bind(this),message:function(){return this.$translate.instant("DEVICE_ACTIONS_BATCH_ENABLE_CONFIRM_MESSAGE",{count:this.batchModel.countDestinationAttrValue("disabled",!0)},"messageformat")}.bind(this),options:angular.noop}).then(function(){return this.isEnabling=!0,this.deviceBatchUtils.saveDevices(this.batchModel,{disabled:!1},{wait:!0}).then(function(e){(this.batchModel.get("error")||[]).length?this.heyToasts.pushWarning(e):this.heyToasts.pushSuccess(e)}.bind(this)).catch(function(e){this.heyToasts.pushError(e)}.bind(this)).finally(function(){this.isEnabling=!1}.bind(this))}.bind(this))},n.prototype.onModelChange=function(){},n.$inject=["$translate","deviceUtils","deviceBatchUtils","frame","heyToasts","apiResults"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesConfigureDisableController",n)},{}],181:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesConfigureDisable",["updateModelDirectiveMixin","devicePropertiesConfigureBatchDirectiveMixin",function(t,i){return{scope:{model:"=unifiDevicePropertiesConfigureDisable",withBatch:"=unifiDevicePropertiesConfigureDisableWithBatch",forceToEnable:"=unifiDevicePropertiesConfigureDisableForceToEnable",forceToDisable:"=unifiDevicePropertiesConfigureDisableForceToDisable",isOpen:"=unifiDevicePropertiesConfigureDisableIsOpen"},controller:"DevicePropertiesConfigureDisableController",controllerAs:"devicePropertiesConfigureDisableCtrl",template:e("./devicePropertiesConfigureDisable.pug")(),link:function(e,r,n,o){o.forceToEnable=e.forceToEnable,o.forceToDisable=e.forceToDisable,e.$watch("withBatch",function(e){o.updateBatchModel(e)}),e.$on("$destroy",function(){o.removeEventHandlers()}),t.init(e,r,n,o,!0),i.init(e,r,n,o)}}}])},{"./devicePropertiesConfigureDisable.pug":182}],182:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' name="devicePropertiesConfigureDisableCtrl.form"><p class="verticalRhythm--cozy">{{devicePropertiesConfigureDisableCtrl.isDisabled() ? (devicePropertiesConfigureDisableCtrl.isBatchEdit ? \'DEVICE_ACTIONS_ENABLE_BATCH_INFO\' : \'DEVICE_ACTIONS_ENABLE_INFO\') : \'DEVICE_ACTIONS_DISABLE_INFO\' | translate}}</p><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed disableDevice" ng-click="devicePropertiesConfigureDisableCtrl.toggle()" busy-toggle="devicePropertiesConfigureDisableCtrl.isEnabling || devicePropertiesConfigureDisableCtrl.isDisabling" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{devicePropertiesConfigureDisableCtrl.isDisabled() ? \'DEVICE_ACTIONS_ENABLE\' : \'DEVICE_ACTIONS_DISABLE\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],183:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t,i,n,o,s,a,l){this.$q=e,this.$translate=t,this.sites=i,this.siteUtils=n,this.deviceUtils=o,this.deviceBatchUtils=s,this.frame=a,this.heyToasts=l,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0},n.prototype.updateBatchModel=function(e){this.batchModel=e},n.prototype.getMoveToSites=function(){var e=(this.siteUtils.getActiveSite()||{}).id;return this.sites.repository.collection.filter(function(t){return!t.get("attr_hidden")&&t.id!==e})},n.prototype.move=function(){if(this.moveToSiteId){var e=this.sites.repository.collection.get(this.moveToSiteId);return this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_ACTIONS_MOVE_CONFIRM_TITLE",{siteDesc:e.get("desc")})}.bind(this),message:function(){return this.$translate.instant("DEVICE_ACTIONS_MOVE_CONFIRM_MESSAGE",{siteDesc:e.get("desc")})}.bind(this),options:angular.noop}).then(function(){return this.deviceUtils.moveDevice(this.model,e).then(function(e){return this.heyToasts.pushSuccess(e),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(e),!1}.bind(this))}.bind(this)).finally(function(){this.moveToSiteId=null}.bind(this))}return this.$q.reject()},n.prototype.forget=function(){var e,t;return this.isBatchEdit?(e=["DEVICE_ACTIONS_BATCH_FORGET_CONFIRM_TITLE"],t=["DEVICE_ACTIONS_BATCH_FORGET_CONFIRM_MESSAGE",{count:this.batchModel.get("destination").length},"messageformat"]):(e=["DEVICE_ACTIONS_FORGET_CONFIRM_TITLE",{deviceName:this.model.getDisplayName()}],t=["DEVICE_ACTIONS_FORGET_CONFIRM_MESSAGE",{deviceName:this.model.getDisplayName()}]),this.frame.show("confirm",{title:function(){return this.$translate.instant.apply(this.$translate,e)}.bind(this),message:function(){return this.$translate.instant.apply(this.$translate,t)}.bind(this),options:angular.noop}).then(function(){return this.isForgetting=!0,(this.isBatchEdit?this.deviceBatchUtils.forgetDevices(this.batchModel):this.deviceUtils.forgetDevice(this.model)).then(function(e){return this.heyToasts.pushSuccess(e),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(e),!1}.bind(this)).finally(function(){this.isForgetting=!1}.bind(this))}.bind(this))},n.prototype.onModelChange=function(){},n.$inject=["$q","$translate","sites","siteUtils","deviceUtils","deviceBatchUtils","frame","heyToasts"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesConfigureForgetController",n)},{}],184:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesConfigureForget",["updateModelDirectiveMixin","devicePropertiesConfigureBatchDirectiveMixin",function(t,i){return{scope:{model:"=unifiDevicePropertiesConfigureForget",withBatch:"=unifiDevicePropertiesConfigureForgetWithBatch",isOpen:"=unifiDevicePropertiesConfigureForgetIsOpen"},controller:"DevicePropertiesConfigureForgetController",controllerAs:"devicePropertiesConfigureForgetCtrl",template:e("./devicePropertiesConfigureForget.pug")(),link:function(e,r,n,o){e.$watch("withBatch",function(e){o.updateBatchModel(e)}),e.$on("$destroy",function(){o.removeEventHandlers()}),t.init(e,r,n,o,!0),i.init(e,r,n,o)}}}])},{"./devicePropertiesConfigureForget.pug":185}],185:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm positionRelative"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' name="devicePropertiesConfigureForgetCtrl.form"><div ng-if="isOpen" unifi-upgrading-whiteout-notice="::devicePropertiesConfigureForgetCtrl.model"></div><p class="verticalRhythm--cozy">{{\'DEVICE_ACTIONS_FORGET_INFO\' | translate}}</p><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed forgetDevice" type="button" ng-click="devicePropertiesConfigureForgetCtrl.forget()" busy-toggle="devicePropertiesConfigureForgetCtrl.isForgetting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'DEVICE_ACTIONS_FORGET\' | translate}}</button></div><div class="appFormFooter__right" ng-if="!devicePropertiesConfigureForgetCtrl.isBatchEdit"><select class="moveDevice" ng-init="sites = devicePropertiesConfigureForgetCtrl.getMoveToSites()" ng-show="sites.length" ng-model="devicePropertiesConfigureForgetCtrl.moveToSiteId" ng-change="devicePropertiesConfigureForgetCtrl.move()" ng-options="site.get(\'desc\') for site in sites track by site.id"><option unifi-option-placeholder="DEVICE_ACTIONS_MOVE_OPTION"></option></select></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],186:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a,l,p,c){this.$translate=e,this.apiResults=t,this.countryUtils=i,this.deviceFeatureUtils=n,this.deviceUtils=o,this.heyToasts=s,this.settings=l,this.DEVICE_LED_COLORS=p,this.patterns={name:c.NAME,usgAlias:c.USG_ALIAS},this.overrideOptions=[{value:void 0,translationKey:"COMMON_VALUE_KEEP_EXISTING",isAvailable:!1,isBatch:!0},{value:"default",translationKey:"DEVICE_PROPERTIES_VALUES_USE_SITE_SETTINGS",isAvailable:!0},{value:"on",translationKey:"COMMON_TOGGLE_ON",isAvailable:!0},{value:"off",translationKey:"COMMON_TOGGLE_OFF",isAvailable:!0}],r.call(this,a)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0,this.overrideOptions.forEach(function(e){e.isBatch&&(e.isAvailable=!0)})},n.prototype.isSaveDisabled=function(){return this.isBatchEdit&&void 0===this.modelCopy.attributes.led_override&&void 0===this.modelCopy.attributes.outdoor_mode_override},n.prototype.save=function(){this.isSubmitting=!0;var e={led_override:this.modelCopy.attributes.led_override,led_override_color:this.modelCopy.attributes.led_override_color,led_override_color_brightness:this.modelCopy.attributes.led_override_color_brightness,outdoor_mode_override:this.modelCopy.attributes.outdoor_mode_override};this.isBatchEdit||(e.name=this.modelCopy.attributes.name||this.modelCopy.attributes.mac);var t=this.isSaveQueued?"pending":void 0;return this.deviceUtils.saveDevice(this.model,e,{wait:!0,delegateTo:t,pendingGroup:this.pendingGroup}).then(function(){return this.isSaveQueued||this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL").toLowerCase()})),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.prototype.setDefaultAttrs=function(e,t){var i=e?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+i]){var r=e||!this.isSaveQueued?void 0:{delegateTo:"pending"},n={};["led_override","outdoor_mode_override"].forEach(function(e){t&&-1===t.indexOf(e)||(n[e]=this.model?this.model.get(e,r):void 0,void 0!==n[e]||this.isBatchEdit||(n[e]="default"))}.bind(this)),n.led_override_color=this.model?this.model.get("led_override_color",r):void 0,n.led_override_color_brightness=this.model?this.model.get("led_override_color_brightness",r):void 0,void 0!==n.led_override_color||this.isBatchEdit||(n.led_override_color=this.DEVICE_LED_COLORS.defaultColors.blue.hex),void 0!==n.led_override_color_brightness||this.isBatchEdit||(n.led_override_color_brightness=this.DEVICE_LED_COLORS.defaultBrightness),angular.extend(e?this.masterWithDefaults:this.modelCopy.attributes,n)}},n.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},n.prototype.resetModelCopyAttrs=function(e){r.prototype.resetModelCopyAttrs.call(this,e),this.setDefaultAttrs(!1,e)},n.prototype.reset=function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1)},n.prototype.isOutdoorModeVisible=function(){var e=this.model&&-1!==["uap","batch:uap","uap+usw","batch:uap+usw"].indexOf(this.deviceFeatureUtils.getHybridCapability(this.model.get("model"),this.model.get("type"))),t=this.countryUtils.isOutdoorDfsRestrictedCountry();return e&&t},n.prototype.isLedBarAvailable=function(){var e=this.settings&&this.settings.getSettingFromKey("mgmt")&&!1!==this.settings.getSettingFromKey("mgmt").get("led_enabled");return this.modelCopy&&(e&&"off"!==this.modelCopy.get("led_override")||"on"===this.modelCopy.get("led_override"))&&this.deviceFeatureUtils.isLedBarSupported(this.model)},n.$inject=["$translate","apiResults","countryUtils","deviceFeatureUtils","deviceUtils","heyToasts","modelDivergence","settings","DEVICE_LED_COLORS","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("DevicePropertiesConfigureGeneralController",n)},{}],187:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesConfigureGeneral",["updateModelDirectiveMixin","devicePropertiesConfigureWithPendingDirectiveMixin","devicePropertiesConfigureBatchDirectiveMixin",function(t,i,r){return{scope:{model:"=unifiDevicePropertiesConfigureGeneral",withBatch:"=unifiDevicePropertiesConfigureGeneralWithBatch",isOpen:"=unifiDevicePropertiesConfigureGeneralIsOpen",isReadOnly:"=unifiDevicePropertiesConfigureGeneralIsReadOnly",isSaveQueued:"=unifiDevicePropertiesConfigureGeneralIsSaveQueued",group:"@unifiDevicePropertiesConfigureGeneralGroup"},controller:"DevicePropertiesConfigureGeneralController",controllerAs:"devicePropertiesConfigureGeneralCtrl",template:e("./devicePropertiesConfigureGeneral.pug")(),link:function(e,n,o,s){e.directiveId=e.$id,e.$on("$destroy",function(){s.removeEventHandlers()}),t.init(e,n,o,s,!0),i.init(e,n,o,s),r.init(e,n,o,s)}}}])},{"./devicePropertiesConfigureGeneral.pug":188}],188:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+r("novalidate",!0,!0,!0)+' autocomplete="off" name="devicePropertiesConfigureGeneralCtrl.form" ng-class="{    \'is-form-validation-visible\': devicePropertiesConfigureGeneralCtrl.showValidation,    \'is-validation-hidden\': !devicePropertiesConfigureGeneralCtrl.showValidation  }" ng-submit="devicePropertiesConfigureGeneralCtrl.form.$valid &amp;&amp; devicePropertiesConfigureGeneralCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="devicePropertiesConfigureGeneralCtrl.resolveDivergence()" unifi-config-changed-on-ignore="devicePropertiesConfigureGeneralCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; devicePropertiesConfigureGeneralCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appFormGroup appFormGroup--condensed" ng-if="!devicePropertiesConfigureGeneralCtrl.isBatchEdit"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_ALIAS"></label><input class="input--full" type="text" name="deviceName" ng-model="devicePropertiesConfigureGeneralCtrl.modelCopy.attributes.name" ng-model-master="devicePropertiesConfigureGeneralCtrl.model.attributes.name" ng-pattern="devicePropertiesConfigureGeneralCtrl.model.isGateway() ? devicePropertiesConfigureGeneralCtrl.patterns.usgAlias : devicePropertiesConfigureGeneralCtrl.patterns.name"><div class="appInputFeedback appInputFeedback--danger" ng-if="devicePropertiesConfigureGeneralCtrl.form.deviceName.$invalid" translate="VALIDATION_HINT_USG_ALIAS"></div></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_LED"></label><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="option in devicePropertiesConfigureGeneralCtrl.overrideOptions" ng-if="option.isAvailable"><input type="radio" name="led" id="led{{option.value + \'-\' + directiveId}}" ng-model="devicePropertiesConfigureGeneralCtrl.modelCopy.attributes.led_override" ng-model-master="devicePropertiesConfigureGeneralCtrl.masterWithDefaults.led_override" ng-value="option.value"'+r("unifi-fix-check-undefined",!0,!0,!0)+'><label for="led{{option.value + \'-\' + directiveId}}" translate="{{option.translationKey}}"></label></div></div><div class="appFormGroup appFormGroup--condensed" ng-if="devicePropertiesConfigureGeneralCtrl.isLedBarAvailable()"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_LED_COLOR_BRIGHTNESS"></label><div class="appInputGroup"><rzslider class="verticalRhythmTop" rz-slider-model="devicePropertiesConfigureGeneralCtrl.modelCopy.attributes.led_override_color_brightness" rz-slider-options="{              floor: 0,              ceil: 100,              precision: 1,              hideLimitLabels: false,              hidePointerLabels: false,              showSelectionBar: true            }"></rzslider></div></div><div class="appFormGroup appFormGroup--condensed" ng-if="devicePropertiesConfigureGeneralCtrl.isLedBarAvailable()"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_LED_COLOR"></label><div class="appInputGroup"><div class="appInputGroup appInputGroup--condensed inlineBlock"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': devicePropertiesConfigureGeneralCtrl.preferences.model.get(\'isSettingsDark\')}" ng-style="{\'background-color\': devicePropertiesConfigureGeneralCtrl.modelCopy.attributes.led_override_color }"></div><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+r("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalBoxTextColor2" name="guestControlCustomPortalBoxTextColor2" type="text" ng-model="devicePropertiesConfigureGeneralCtrl.modelCopy.attributes.led_override_color" ng-model-master="devicePropertiesConfigureGeneralCtrl.masterWithDefaults.led_override_color"></div></div></div></div><unifi-color-picker ng-if="devicePropertiesConfigureGeneralCtrl.isLedBarAvailable()" unifi-color-picker-model="devicePropertiesConfigureGeneralCtrl.modelCopy.attributes.led_override_color" unifi-color-picker-is-standalone="true" unifi-color-picker-presets="devicePropertiesConfigureGeneralCtrl.DEVICE_LED_COLORS.defaultColors"></unifi-color-picker></div><div class="appFormGroup appFormGroup--condensed" ng-if="devicePropertiesConfigureGeneralCtrl.isOutdoorModeVisible()"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_OUTDOOR_MODE"></label><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="option in devicePropertiesConfigureGeneralCtrl.overrideOptions" ng-if="option.isAvailable"><input type="radio" name="outdoor_mode" id="outdoor_mode{{option.value + \'-\' + directiveId}}" ng-model="devicePropertiesConfigureGeneralCtrl.modelCopy.attributes.outdoor_mode_override" ng-model-master="devicePropertiesConfigureGeneralCtrl.masterWithDefaults.outdoor_mode_override" ng-value="option.value"'+r("unifi-fix-check-undefined",!0,!0,!0)+'><label for="outdoor_mode{{option.value + \'-\' + directiveId}}" translate="{{option.translationKey}}"></label></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="devicePropertiesConfigureGeneralCtrl.showValidation = true" busy-toggle="devicePropertiesConfigureGeneralCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="devicePropertiesConfigureGeneralCtrl.isSaveDisabled()">{{devicePropertiesConfigureGeneralCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="devicePropertiesConfigureGeneralCtrl.reset()" ng-disabled="devicePropertiesConfigureGeneralCtrl.form.$pristine">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form>'};var n=/["&<>]/},{"pug-runtime":2}],189:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();var n=e("../../../base-unifi/controllers/BaseModelController");angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesConfigureInfoDownloadController",["deviceUtils","heyToasts",function(e,t){return new(function(i){function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,n),r(o,[{key:"onModelChange",value:function(){}},{key:"download",value:function(){var i=this;return this.isDownloading=!0,e.downloadDeviceInfo(this.model).then(function(e){return t.pushSuccess(e),!0}).catch(function(e){return t.pushError(e),!1}).finally(function(){i.isDownloading=!1})}}]),o}())}])},{"../../../base-unifi/controllers/BaseModelController":307}],190:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesConfigureInfoDownload",["updateModelDirectiveMixin",function(t){return{scope:{model:"=unifiDevicePropertiesConfigureInfoDownload",withBatch:"=unifiDevicePropertiesConfigureInfoDownloadWithBatch",isOpen:"=unifiDevicePropertiesConfigureInfoDownloadIsOpen"},controller:"DevicePropertiesConfigureInfoDownloadController",controllerAs:"devicePropertiesConfigureInfoDownloadCtrl",template:e("./devicePropertiesConfigureInfoDownload.pug")(),link:function(e,i,r,n){e.$on("$destroy",function(){n.removeEventHandlers()}),t.init(e,i,r,n,!0)}}}])},{"./devicePropertiesConfigureInfoDownload.pug":191}],191:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm positionRelative"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' name="devicePropertiesConfigureInfoDownloadCtrl.form"><p class="verticalRhythm--cozy">{{\'DEVICE_ACTIONS_CACHE_DOWNLOAD_INFO\' | translate}}</p><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed downloadDeviceInfo" ng-click="devicePropertiesConfigureInfoDownloadCtrl.download()" busy-toggle="devicePropertiesConfigureInfoDownloadCtrl.isDownloading" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'DEVICE_ACTIONS_CACHE_DOWNLOAD\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],192:[function(e,t,i){"use strict";var r=e("../../controllers/BaseConfigureNetworkController");function n(e,t,i,n,o,s,a,l){this.deviceUtils=n,this.deviceFeatureUtils=i,this.apiResults=t,this.connectionTypeOptions=[{value:"dhcp",translationKey:"DEVICE_PROPERTIES_VALUES_NETWORK_USING_DHCP"},{value:"static",translationKey:"DEVICE_PROPERTIES_VALUES_NETWORK_STATIC_IP"}],r.call(this,e,o,s,a,l)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.save=function(){this.isSubmitting=!0;var e=this.getAttrsToSave(),t=this.isSaveQueued?"pending":void 0;return this.deviceUtils.saveDevice(this.model,e,{wait:!0,delegateTo:t,pendingGroup:this.pendingGroup}).then(function(){return this.isSaveQueued||this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_NETWORK").toLowerCase()})),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_NETWORK").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.prototype.onModelChange=function(){r.prototype.onModelChange.call(this),this.isLinkAggregationGroupSupported=this.deviceFeatureUtils.isLinkAggregationGroupSupported(this.model),this.isLinkAggregationGroupNative=this.deviceFeatureUtils.isLinkAggregationGroupNative(this.model)},n.prototype.showLinkAggregationGroup=function(){return this.isLinkAggregationGroupSupported&&!this.isLinkAggregationGroupNative},n.$inject=["$translate","apiResults","deviceFeatureUtils","deviceUtils","heyToasts","modelDivergence","regexUtils","REGEX_PATTERNS"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesConfigureNetworkController",n)},{"../../controllers/BaseConfigureNetworkController":301}],193:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesConfigureNetwork",["updateModelDirectiveMixin","devicePropertiesConfigureWithPendingDirectiveMixin",function(t,i){return{scope:{model:"=unifiDevicePropertiesConfigureNetwork",isOpen:"=unifiDevicePropertiesConfigureNetworkIsOpen",isReadOnly:"=unifiDevicePropertiesConfigureNetworkIsReadOnly",isSaveQueued:"=unifiDevicePropertiesConfigureNetworkIsSaveQueued",group:"@unifiDevicePropertiesConfigureNetworkGroup",validator:"=unifiDevicePropertiesConfigureNetworkValidator"},controller:"DevicePropertiesConfigureNetworkController",controllerAs:"devicePropertiesConfigureNetworkCtrl",template:e("./devicePropertiesConfigureNetwork.pug")(),link:function(e,r,n,o){e.directiveId=e.$id;var s=e.$watch("validator",function(e){e&&(o.validator=e,s())});e.$watch(function(){return o.modelCopy?o.modelCopy.attributes.config_network.type:void 0},o.onTypeChange),e.$on("$destroy",function(){o.removeEventHandlers()}),t.init(e,r,n,o,!0),i.init(e,r,n,o)}}}])},{"./devicePropertiesConfigureNetwork.pug":194}],194:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+r("novalidate",!0,!0,!0)+' autocomplete="off" name="devicePropertiesConfigureNetworkCtrl.form" ng-class="{    \'is-form-validation-visible\': devicePropertiesConfigureNetworkCtrl.showValidation,    \'is-validation-hidden\': !devicePropertiesConfigureNetworkCtrl.showValidation  }" ng-submit="devicePropertiesConfigureNetworkCtrl.form.$valid &amp;&amp; devicePropertiesConfigureNetworkCtrl.save()"'+r("unifi-form-group-warnings",!0,!0,!0)+' unifi-form-group-warnings-group="\'network\'" unifi-form-group-warnings-validator="devicePropertiesConfigureNetworkCtrl.validator" unifi-form-group-warnings-model="devicePropertiesConfigureNetworkCtrl.modelCopy"><unifi-config-changed unifi-config-changed-on-reset="devicePropertiesConfigureNetworkCtrl.resolveDivergence()" unifi-config-changed-on-ignore="devicePropertiesConfigureNetworkCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; devicePropertiesConfigureNetworkCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_CONFIGURE_IP"></label><select class="select--full" name="connectionType" ng-model="devicePropertiesConfigureNetworkCtrl.modelCopy.attributes.config_network.type" ng-model-master="devicePropertiesConfigureNetworkCtrl.model.attributes.config_network.type" ng-options="connection.value as connection.translationKey | translate for connection in devicePropertiesConfigureNetworkCtrl.connectionTypeOptions"'+r("unifi-form-group-warnings-input",!0,!0,!0)+' unifi-form-group-warnings-input-attr="\'config_network\'"></select></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-if="devicePropertiesConfigureNetworkCtrl.showTypeForm === \'static\'" ng-disabled="isReadOnly"><div class="flexRow noMarginBottom"><div class="flexCol--6"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_IP_ADDRESS"></label><input class="input--full" type="text" name="staticIpAddress" ng-model="devicePropertiesConfigureNetworkCtrl.modelCopy.attributes.config_network.ip" ng-model-master="devicePropertiesConfigureNetworkCtrl.model.attributes.config_network.ip" ng-model-master-cleanup="true" ng-pattern="devicePropertiesConfigureNetworkCtrl.patterns.ipv4Address" ng-required="devicePropertiesConfigureNetworkCtrl.modelCopy.attributes.config_network.type === \'static\'"'+r("unifi-form-group-warnings-input",!0,!0,!0)+' unifi-form-group-warnings-input-attr="\'config_network\'" unifi-form-group-warnings-input-class="\'with-validation-meter without-standard-validation is-input-warning\'"></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SUBNET_MASK"></label><input class="input--full" type="text" name="staticNetmask" ng-model="devicePropertiesConfigureNetworkCtrl.modelCopy.attributes.config_network.netmask" ng-model-master="devicePropertiesConfigureNetworkCtrl.model.attributes.config_network.netmask" ng-model-master-cleanup="true" unifi-validate-netmask="devicePropertiesConfigureNetworkCtrl.modelCopy.attributes.config_network.ip" ng-required="devicePropertiesConfigureNetworkCtrl.modelCopy.attributes.config_network.type === \'static\'"></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_GATEWAY"></label><input class="input--full" type="text" name="staticGateway" ng-model="devicePropertiesConfigureNetworkCtrl.modelCopy.attributes.config_network.gateway" ng-model-master="devicePropertiesConfigureNetworkCtrl.model.attributes.config_network.gateway" ng-model-master-cleanup="true" ng-pattern="devicePropertiesConfigureNetworkCtrl.patterns.ipv4Address"'+r("unifi-form-group-warnings-input",!0,!0,!0)+' unifi-form-group-warnings-input-attr="\'config_network\'" unifi-form-group-warnings-input-class="\'with-validation-meter without-standard-validation is-input-warning\'"></div></div><div class="flexCol--6"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_PREFERRED_DNS"></label><input class="input--full" type="text" name="staticPreferredDns" ng-model="devicePropertiesConfigureNetworkCtrl.modelCopy.attributes.config_network.dns1" ng-model-master="devicePropertiesConfigureNetworkCtrl.model.attributes.config_network.dns1" ng-model-master-cleanup="true" ng-pattern="devicePropertiesConfigureNetworkCtrl.patterns.ipv4Address"'+r("unifi-form-group-warnings-input",!0,!0,!0)+' unifi-form-group-warnings-input-attr="\'config_network\'" unifi-form-group-warnings-input-class="\'with-validation-meter without-standard-validation is-input-warning\'"></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_ALTERNATE_DNS"></label><input class="input--full" type="text" name="staticAlternateDns" ng-model="devicePropertiesConfigureNetworkCtrl.modelCopy.attributes.config_network.dns2" ng-model-master="devicePropertiesConfigureNetworkCtrl.model.attributes.config_network.dns2" ng-model-master-cleanup="true" ng-pattern="devicePropertiesConfigureNetworkCtrl.patterns.ipv4Address"></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_DNS_SUFFIX"></label><input class="input--full" type="text" name="staticDnsSuffix" ng-model="devicePropertiesConfigureNetworkCtrl.modelCopy.attributes.config_network.dnssuffix" ng-model-master="devicePropertiesConfigureNetworkCtrl.model.attributes.config_network.dnssuffix" ng-model-master-cleanup="true"></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet verticalRhythmTop--cozy" ng-disabled="isReadOnly" ng-show="devicePropertiesConfigureNetworkCtrl.showLinkAggregationGroup()"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_PORT_AGGREGATION"></label><div class="appInputGroup appInputGroup--comfy"><input type="checkbox" name="bondingEnabled" id="bondingEnabled{{::directiveId}}" ng-model="devicePropertiesConfigureNetworkCtrl.modelCopy.attributes.config_network.bonding_enabled" ng-model-master="devicePropertiesConfigureNetworkCtrl.model.attributes.config_network.bonding_enabled"><label for="bondingEnabled{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_PORT_AGGREGATION"></label><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="devicePropertiesConfigureNetworkCtrl.modelCopy.attributes.config_network.bonding_enabled"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_TOOLTIP_PORT_AGGREGATION"></p></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="devicePropertiesConfigureNetworkCtrl.showValidation = true" busy-toggle="devicePropertiesConfigureNetworkCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{devicePropertiesConfigureNetworkCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="devicePropertiesConfigureNetworkCtrl.reset()" ng-disabled="devicePropertiesConfigureNetworkCtrl.form.$pristine">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form>'};var n=/["&<>]/},{"pug-runtime":2}],195:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t,i,n,o,s){this.$translate=e,this.deviceUtils=t,this.deviceBatchUtils=i,this.frame=n,this.heyToasts=o,this.DEVICE_STATE_IDS=s,r.call(this),this.setChangeEvent("change:state")}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0},n.prototype.updateBatchModel=function(e){this.batchModel=e},n.prototype.provision=function(){var e,t;return this.isBatchEdit?(e=["DEVICE_ACTIONS_BATCH_PROVISION_CONFIRM_TITLE"],t=["DEVICE_ACTIONS_BATCH_PROVISION_CONFIRM_MESSAGE",{count:this.batchModel.get("destination").length},"messageformat"]):(e=["DEVICE_ACTIONS_PROVISION_CONFIRM_TITLE",{deviceName:this.model.getDisplayName()}],t=["DEVICE_ACTIONS_PROVISION_CONFIRM_MESSAGE",{deviceName:this.model.getDisplayName()}]),this.frame.show("confirm",{title:function(){return this.$translate.instant.apply(this.$translate,e)}.bind(this),message:function(){return this.$translate.instant.apply(this.$translate,t)}.bind(this),options:angular.noop}).then(function(){return(this.isBatchEdit?this.deviceBatchUtils.provisionDevices(this.batchModel):this.deviceUtils.provisionDevice(this.model)).then(function(e){return this.heyToasts.pushSuccess(e),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(e),!1}.bind(this))}.bind(this))},n.prototype.onModelChange=function(){this.isBatchEdit||(this.isProvisioning=this.model&&this.model.get("state")===this.DEVICE_STATE_IDS.PROVISIONING)},n.$inject=["$translate","deviceUtils","deviceBatchUtils","frame","heyToasts","DEVICE_STATE_IDS"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesConfigureProvisionController",n)},{}],196:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesConfigureProvision",["updateModelDirectiveMixin","devicePropertiesConfigureBatchDirectiveMixin",function(t,i){return{scope:{model:"=unifiDevicePropertiesConfigureProvision",withBatch:"=unifiDevicePropertiesConfigureProvisionWithBatch",isOpen:"=unifiDevicePropertiesConfigureProvisionIsOpen"},controller:"DevicePropertiesConfigureProvisionController",controllerAs:"devicePropertiesConfigureProvisionCtrl",template:e("./devicePropertiesConfigureProvision.pug")(),link:function(e,r,n,o){e.$watch("withBatch",function(e){o.updateBatchModel(e)}),e.$on("$destroy",function(){o.removeEventHandlers()}),t.init(e,r,n,o,!0),i.init(e,r,n,o)}}}])},{"./devicePropertiesConfigureProvision.pug":197}],197:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm positionRelative"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' name="devicePropertiesConfigureProvisionCtrl.form"><div ng-if="isOpen" unifi-upgrading-whiteout-notice="::devicePropertiesConfigureProvisionCtrl.model"></div><p class="verticalRhythm--cozy">{{\'DEVICE_ACTIONS_PROVISION_INFO\' | translate}}</p><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed provisionDevice" ng-click="devicePropertiesConfigureProvisionCtrl.provision()" busy-toggle="devicePropertiesConfigureProvisionCtrl.isProvisioning" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'DEVICE_ACTIONS_PROVISION\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],198:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").factory("DevicePropertiesConfigureWarningsValidator",["$translate","inhibitor","ipUtils","networks",function(e,t,i,r){var n=function(){this.forms={},this.watchers={},this.warnings=[],this.inhibitedValidate=t(this.validate.bind(this),{debounceWait:50,throttleWait:500,leading:!0})};return n.prototype.destroy=function(){this.removeMasterModel(),Object.keys(this.forms).forEach(function(e){this.removeFormModel(e)}.bind(this))},n.prototype.getInvalidAttrs=function(){return this.attrs||[]},n.prototype.validate=function(){var e=this.getFormModel("network",!0),t=this.includePendingChanges?{delegateTo:"pending"}:void 0;this.warnings=[],e&&(e.isAp()||e.isSwitch())&&"static"===e.getNested("config_network.type",t)&&(this._validateStaticNetworkDns(t),this._validateStaticNetworkGateway(t),this._validateStaticNetworkIpDhcpConflict(t)),this.attrs=this.warnings.map(function(e){return e.attr})},n.prototype._validateStaticNetworkDns=function(t){this.getFormModel("network",!0).getNested("config_network.dns1",t)||this.warnings.push({attr:"staticPreferredDns",msg:e.instant("DEVICE_PROPERTIES_NOTICE_CONFIGURATION_NETWORK_DNS1")})},n.prototype._validateStaticNetworkGateway=function(t){this.getFormModel("network",!0).getNested("config_network.gateway",t)||this.warnings.push({attr:"staticGateway",msg:e.instant("DEVICE_PROPERTIES_NOTICE_CONFIGURATION_NETWORK_GATEWAY")})},n.prototype._validateStaticNetworkIpDhcpConflict=function(t){var n=this.getFormModel("network",!0);if(n.getNested("config_network.ip",t)){var o=!1;r.repository.collection.each(function(e){if(e.get("dhcpd_enabled")){var t=i.ip2long(e.get("dhcpd_start")),r=i.ip2long(e.get("dhcpd_stop")),s=i.ip2long(n.getNested("config_network.ip"));s>=t&&s<=r&&(o=!0)}}),o&&this.warnings.push({attr:"staticIpAddress",msg:e.instant("DEVICE_PROPERTIES_NOTICE_CONFIGURATION_NETWORK_IP_CONFLICT")})}},n.prototype.addMasterModel=function(e){this.removeMasterModel(),this.model=e,this.model.on("change",this.inhibitedValidate,this),this.validate()},n.prototype.removeMasterModel=function(){this.model&&(this.model.off("change",this.inhibitedValidate,this),delete this.model,this.validate())},n.prototype.addFormModel=function(e,t){this.removeFormModel(e),this.forms[e]=t,this.forms[e].on("change",this.inhibitedValidate,this),this.validate()},n.prototype.removeFormModel=function(e){this.forms[e]&&(this.forms[e].off("change",this.inhibitedValidate,this),delete this.forms[e],this.validate())},n.prototype.getFormModel=function(e,t){var i=this.forms[e];return i||(t?this.model:void 0)},n}])},{}],199:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesConfigureWarnings",["DevicePropertiesConfigureWarningsValidator",function(t){return{scope:{model:"=unifiDevicePropertiesConfigureWarnings",validator:"=unifiDevicePropertiesConfigureWarningsValidator"},template:e("./devicePropertiesConfigureWarnings.pug")(),link:function(e){e.$on("$destroy",function(){e.validator&&(e.validator.destroy(),e.validator=void 0)});var i=e.$watch("model",function(r){r&&(e.validator=new t,e.validator.addMasterModel(e.model),i())})}}}])},{"./devicePropertiesConfigureWarnings.pug":200}],200:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--warning verticalRhythm--cozy verticalRhythmTop--cozy" ng-if="validator.warnings.length" ng-class="{\'is-app-info-box-collapsed\': !isInfoBoxExpanded}"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header">{{\'DEVICE_PROPERTIES_NOTICE_CONFIGURATION_HEADER\' | translate}}<div class="appInfoBox__toggle icon" ng-click="isInfoBoxExpanded = !isInfoBoxExpanded" ng-class="isInfoBoxExpanded ? \'ubnt-icon--minus\' : \'ubnt-icon--plus\'"></div></div><div class="appInfoBox__body"><p translate="DEVICE_PROPERTIES_NOTICE_CONFIGURATION_BODY"></p><ul class="noMarginBottom"><li class="verticalRhythmTop--cozy" ng-repeat="warning in validator.warnings"><p ng-bind-html="warning.msg"></p></li></ul></div></div></div>'}},{"pug-runtime":2}],201:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e){this.deviceStateUtils=e,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.onModelChange=function(){},n.prototype.isDeviceWithCountryLockedWarning=function(){return this.model&&this.deviceStateUtils.isDeviceWithCountryLockedWarning(this.model)},n.$inject=["deviceStateUtils"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesCountryLockedWarningController",n)},{}],202:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesCountryLockedWarning",["updateModelDirectiveMixin",function(t){return{controller:"DevicePropertiesCountryLockedWarningController",controllerAs:"devicePropertiesCountryLockedWarningCtrl",scope:{model:"=unifiDevicePropertiesCountryLockedWarning"},template:e("./devicePropertiesCountryLockedWarning.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,!0)}}}])},{"./devicePropertiesCountryLockedWarning.pug":203}],203:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--warning verticalRhythm--cozy verticalRhythmTop--cozy" ng-if="devicePropertiesCountryLockedWarningCtrl.isDeviceWithCountryLockedWarning()" ng-class="{\'is-app-info-box-collapsed\': !isInfoBoxExpanded}"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-click="isInfoBoxExpanded = !isInfoBoxExpanded">{{\'DEVICE_PROPERTIES_NOTICE_COUNTRY_LOCKED_WARNING_HEADER\' | translate}}<div class="appInfoBox__toggle icon" ng-class="isInfoBoxExpanded ? \'ubnt-icon--minus\' : \'ubnt-icon--plus\'"></div></div><div class="appInfoBox__body"><p translate="{{\'DEVICE_PROPERTIES_NOTICE_COUNTRY_LOCKED_WARNING_BODY\'}}"></p></div></div></div>'}},{"pug-runtime":2}],204:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t,i,n){this.deviceStateUtils=e,this.directDeviceConnectionUtils=t,this.DEVICE_STATES=i,this.DIRECT_DEVICE_CONNECTION=n,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.isBrowserSupported=function(){return this.directDeviceConnectionUtils.isBrowserSupported()},n.prototype.onModelChange=function(){this.model&&(this.isRfScanning=this.deviceStateUtils.getDeviceState(this.model)===this.DEVICE_STATES.RFSCANNING)},n.$inject=["deviceStateUtils","directDeviceConnectionUtils","DEVICE_STATES","DIRECT_DEVICE_CONNECTION"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesDebugTerminalController",n)},{}],205:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesDebugTerminal",["updateModelDirectiveMixin",function(t){return{scope:{model:"=unifiDevicePropertiesDebugTerminal",isOpen:"=unifiDevicePropertiesDebugTerminalIsOpen"},controller:"DevicePropertiesDebugTerminalController",controllerAs:"devicePropertiesDebugTerminalCtrl",template:e("./devicePropertiesDebugTerminal.pug")(),link:function(e,i,r,n){e.$on("$destroy",function(){n.removeEventHandlers()}),t.init(e,i,r,n,!0)}}}])},{"./devicePropertiesDebugTerminal.pug":206}],206:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appForm appForm--cozy unifiPanelItemForm"><div class="appInfoBox appInfoBox--danger appInfoBox--cozy appInfoBox--noBorder verticalRhythm--cozy debugTerminalInfoBox" ng-if="!devicePropertiesDebugTerminalCtrl.isBrowserSupported()"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="COMMON_WARNING_FEATURE_UNSUPPORTED_BY_BROWSER" translate-values="{            feature: (\'DEBUG_TERMINAL_LABEL\' | translate),            browsers: devicePropertiesDebugTerminalCtrl.DIRECT_DEVICE_CONNECTION.SUPPORTED_BROWSERS.join(\', \')          }"></p></div></div></div><p class="verticalRhythm--cozy" ng-if="devicePropertiesDebugTerminalCtrl.isBrowserSupported()" translate="DEVICE_ACTIONS_DEBUG_TERMINAL_INFO"></p><div class="appInfoBox appInfoBox--danger appInfoBox--cozy appInfoBox--noBorder verticalRhythm--cozy debugTerminalRfScanInfoBox" ng-if="devicePropertiesDebugTerminalCtrl.isRfScanning"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_ACTIONS_DEBUG_TERMINAL_RF_SCAN_WARNING"></p></div></div></div><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="devicePropertiesDebugTerminalCtrl.isBrowserSupported()"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed debugTerminalDevice" ng-disabled="devicePropertiesDebugTerminalCtrl.isRfScanning" unifi-open-terminal="devicePropertiesDebugTerminalCtrl.model" unifi-open-terminal-is-connecting="devicePropertiesDebugTerminalCtrl.isConnecting" busy-toggle="devicePropertiesDebugTerminalCtrl.isConnecting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'DEVICE_ACTIONS_DEBUG_TERMINAL\' | translate}}</button></div></div></div>'}},{"pug-runtime":2}],207:[function(e,t,i){"use strict";function r(e,t,i,r){this.deviceElite=e,this.deviceEliteDetails=t,this.deviceEliteUtils=i,this.frame=r,this.getDescription=t.getDescription.bind(t),this.getManage=t.getManage.bind(t),this.getSupport=t.getSupport.bind(t),this.isCurrentCountrySupported=i.isCurrentCountrySupported.bind(i),this.isUserAcceptedTos=i.isUserAcceptedTos.bind(i),this.getTosLink=i.getTosLink.bind(i),this.init()}r.prototype.init=function(){this.resolve()},r.prototype.resolve=function(){var e=this;this.isLoading=!0,this.deviceEliteDetails.repository.model.resolve().finally(function(){e.isLoading=!1})},r.prototype.getExtendSubscriptionLink=function(){return this.deviceEliteUtils.getExtendSubscriptionLink(this.model)},r.prototype.isExtendSubscriptionAvailable=function(){return this.deviceEliteUtils.isExtendSubscriptionAvailable(this.model)},r.prototype.isInstantRmaAvailable=function(){return this.deviceEliteUtils.isInstantRmaAvailable(this.model)},r.prototype.acceptTos=function(){var e=this;this.isAcceptingTos=!0,this.deviceElite.acceptTos().finally(function(){e.isAcceptingTos=!1})},r.prototype.instantRma=function(){var e=this;this.isRequestingInstantRma=!0,this.frame.show("instantRma",{device:function(){return e.model}}).finally(function(){e.isRequestingInstantRma=!1})},r.$inject=["deviceElite","deviceEliteDetails","deviceEliteUtils","frame"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesEliteController",r)},{}],208:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesElite",[function(){return{replace:!0,bindToController:!0,controller:"DevicePropertiesEliteController",controllerAs:"devicePropertiesEliteCtrl",scope:{model:"=unifiDevicePropertiesEliteModel"},template:e("./devicePropertiesElite.pug")(),link:function(e){e.directiveId=e.$id}}}])},{"./devicePropertiesElite.pug":209}],209:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div><div ng-show="!devicePropertiesEliteCtrl.isLoading"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythm--cozy" ng-if="!devicePropertiesEliteCtrl.isCurrentCountrySupported()"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="ELITE_DEVICE_WARNING_COUNTRY_NOT_SUPPORTED"></p></div></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythm--cozy"'+(i="unifi-if-role-super-admin",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' unifi-if-role-super-admin-and="devicePropertiesEliteCtrl.isCurrentCountrySupported() &amp;&amp; !devicePropertiesEliteCtrl.isUserAcceptedTos()"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p translate="ELITE_DEVICE_WARNING_TERMS_OF_SERVICE_REQUIRED"></p><div class="appForm appForm--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup inlineBlock"><input type="checkbox" name="eliteDeviceAcceptTos" id="eliteDeviceAcceptTos{{directiveId}}" ng-model="devicePropertiesEliteCtrl.tos_accepted"><label for="eliteDeviceAcceptTos{{directiveId}}" translate="DEVICE_PROPERTIES_ELITE_LABEL_ACTIONS_ACCEPT_TOS" translate-values="{                    link: devicePropertiesEliteCtrl.getTosLink()                  }"></label></div></div><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy" type="button" ng-click="devicePropertiesEliteCtrl.acceptTos()" ng-disabled="!devicePropertiesEliteCtrl.tos_accepted" busy-toggle="devicePropertiesEliteCtrl.isAcceptingTos" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_CONFIRM\' | translate}}</button></div></div></div></div></div></div><div class="shelfCenter verticalRhythm--cozy" ng-show="!!devicePropertiesEliteCtrl.getDescription().length"><div class="inflexible appFeatureIcon"><div class="appFeatureIcon__content"><div class="icon ubnt-icon--unifi-elite2 icon--small icon--gold"></div></div></div><div class="flexible appDescriptionList appDescriptionList--longDefinition horizontalRhythmLeft"><div class="appDescriptionListRow" ng-repeat="descriptionItem in devicePropertiesEliteCtrl.getDescription()"><dt><span class="iconText__icon icon ubnt-icon--check-2"></span><span class="iconText__text">{{descriptionItem}}</span></dt></div></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-show="!!devicePropertiesEliteCtrl.getSupport().length"><div class="appDescriptionListRow" ng-repeat="supportItem in devicePropertiesEliteCtrl.getSupport()"><dt>{{supportItem.key}}</dt><dd><unifi-text unifi-text-type="supportItem.type" unifi-text-value="supportItem.value"></unifi-text></dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow startDate"><dt>{{\'DEVICE_PROPERTIES_ELITE_LABEL_SERVICE_START\' | translate}}</dt><dd>{{devicePropertiesEliteCtrl.model.get(\'elite\').from * 1000 | moment: \'format\': \'date\'}}</dd></div><div class="appDescriptionListRow endDate"><dt>{{\'DEVICE_PROPERTIES_ELITE_LABEL_SERVICE_END\' | translate}}</dt><dd>{{devicePropertiesEliteCtrl.model.get(\'elite\').to * 1000 | moment: \'format\': \'date\'}}</dd></div><div class="appDescriptionListRow eliteBilling" ng-if="devicePropertiesEliteCtrl.isExtendSubscriptionAvailable()"><dt>{{\'DEVICE_PROPERTIES_ELITE_LABEL_ELITE_BILLING\' | translate}}</dt><dd><a class="appLink" ng-href="{{devicePropertiesEliteCtrl.getExtendSubscriptionLink()}}">{{\'DEVICE_PROPERTIES_ELITE_LABEL_EXTEND_SUBSCRIPTION\' | translate}}</a></dd></div><div class="appDescriptionListRow timeLeft"><dt>{{\'DEVICE_PROPERTIES_ELITE_LABEL_TIME_LEFT\' | translate}}</dt><dd>{{devicePropertiesEliteCtrl.model.get(\'elite\').to * 1000 | timeLeft}}</dd></div><div class="appDescriptionListRow status"><dt>{{\'DEVICE_PROPERTIES_ELITE_LABEL_STATUS\' | translate}}</dt><dd unifi-elite-status-badge="devicePropertiesEliteCtrl.model"></dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" unifi-feature-flag-enable="enableInstantRma" unifi-feature-flag-and="devicePropertiesEliteCtrl.isInstantRmaAvailable()"><div class="appDescriptionListRow actions"><dt>{{\'DEVICE_PROPERTIES_ELITE_LABEL_ACTIONS\' | translate}}</dt><dd><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="devicePropertiesEliteCtrl.instantRma()" ng-disabled="!devicePropertiesEliteCtrl.isUserAcceptedTos()" busy-toggle="devicePropertiesEliteCtrl.isRequestingInstantRma" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'DEVICE_PROPERTIES_ELITE_INSTANT_RMA_BUTTON\' | translate}}</button></dd></div></div></div><div class="appSpinner appSpinner--medium autoMargin" ng-if="devicePropertiesEliteCtrl.isLoading"></div></div>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],210:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t){this.deviceEliteUtils=e,this.deviceStateUtils=t,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.onModelChange=function(){},n.prototype.isDeviceWithEliteDeviceWarning=function(){return this.model&&this.deviceStateUtils.isDeviceWithEliteDeviceWarning(this.model)},n.prototype.isDeviceFirmwareSupported=function(){return this.deviceEliteUtils.isDeviceFirmwareSupported(this.model)},n.prototype.isDeviceVerified=function(){return this.deviceEliteUtils.isDeviceVerified(this.model)},n.$inject=["deviceEliteUtils","deviceStateUtils"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesEliteDeviceWarningController",n)},{}],211:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesEliteDeviceWarning",["updateModelDirectiveMixin",function(t){return{controller:"DevicePropertiesEliteDeviceWarningController",controllerAs:"devicePropertiesEliteDeviceWarningCtrl",scope:{model:"=unifiDevicePropertiesEliteDeviceWarning"},template:e("./devicePropertiesEliteDeviceWarning.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,!0)}}}])},{"./devicePropertiesEliteDeviceWarning.pug":212}],212:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--warning verticalRhythm--cozy verticalRhythmTop--cozy" ng-if="devicePropertiesEliteDeviceWarningCtrl.isDeviceWithEliteDeviceWarning()" ng-class="{\'is-app-info-box-collapsed\': !isInfoBoxExpanded}"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-click="isInfoBoxExpanded = !isInfoBoxExpanded">{{\'DEVICE_PROPERTIES_NOTICE_ELITE_DEVICE_WARNING_HEADER\' | translate}}<div class="appInfoBox__toggle icon" ng-class="isInfoBoxExpanded ? \'ubnt-icon--minus\' : \'ubnt-icon--plus\'"></div></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_NOTICE_ELITE_DEVICE_WARNING_BODY"></p></div></div></div>'}},{"pug-runtime":2}],213:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e){this.deviceStateUtils=e,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.onModelChange=function(){},n.prototype.isDeviceWithIncompatibleModelWarning=function(){return this.model&&this.deviceStateUtils.isDeviceWithIncompatibleModelWarning(this.model)},n.$inject=["deviceStateUtils"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesIncompatibleModelWarningController",n)},{}],214:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesIncompatibleModelWarning",["updateModelDirectiveMixin",function(t){return{controller:"DevicePropertiesIncompatibleModelWarningController",controllerAs:"devicePropertiesIncompatibleModelWarningCtrl",scope:{model:"=unifiDevicePropertiesIncompatibleModelWarning"},template:e("./devicePropertiesIncompatibleModelWarning.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,!0)}}}])},{"./devicePropertiesIncompatibleModelWarning.pug":215}],215:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--warning verticalRhythm--cozy verticalRhythmTop--cozy" ng-if="devicePropertiesIncompatibleModelWarningCtrl.isDeviceWithIncompatibleModelWarning()" ng-class="{\'is-app-info-box-collapsed\': !isInfoBoxExpanded}"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-click="isInfoBoxExpanded = !isInfoBoxExpanded">{{\'DEVICE_PROPERTIES_NOTICE_INCOMPATIBLE_MODEL_WARNING_HEADER\' | translate}}<div class="appInfoBox__toggle icon" ng-class="isInfoBoxExpanded ? \'ubnt-icon--minus\' : \'ubnt-icon--plus\'"></div></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="{{\'DEVICE_PROPERTIES_NOTICE_INCOMPATIBLE_MODEL_WARNING_BODY\'}}"></p></div></div></div>'}},{"pug-runtime":2}],216:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e){this.deviceStateUtils=e,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.onModelChange=function(){},n.prototype.isLicenseWithWarning=function(){return this.model&&this.deviceStateUtils.isLicenseWithWarning(this.model)},n.$inject=["deviceStateUtils"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesLicenseWarningController",n)},{}],217:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesLicenseWarning",["CloudDashboardHost","updateModelDirectiveMixin",function(t,i){return{controller:"DevicePropertiesLicenseWarningController",controllerAs:"devicePropertiesLicenseWarningCtrl",scope:{model:"=unifiDevicePropertiesLicenseWarning"},template:e("./devicePropertiesLicenseWarning.pug")(),link:function(e,r,n,o){e.CloudDashboardHost=t,i.init(e,r,n,o,!0)}}}])},{"./devicePropertiesLicenseWarning.pug":218}],218:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--warning verticalRhythm--cozy verticalRhythmTop--cozy" ng-if="devicePropertiesLicenseWarningCtrl.isLicenseWithWarning()" ng-class="{\'is-app-info-box-collapsed\': !isInfoBoxExpanded}"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-click="isInfoBoxExpanded = !isInfoBoxExpanded">{{\'DEVICE_PROPERTIES_NOTICE_LICENSE_\' + devicePropertiesLicenseWarningCtrl.model.get(\'license_state\').toUpperCase() + \'_HEADER\' | translate}}<div class="appInfoBox__toggle icon" ng-class="isInfoBoxExpanded ? \'ubnt-icon--minus\' : \'ubnt-icon--plus\'"></div></div><div class="appInfoBox__body"><p translate="{{\'DEVICE_PROPERTIES_NOTICE_LICENSE_\' + devicePropertiesLicenseWarningCtrl.model.get(\'license_state\').toUpperCase() + \'_BODY\'}}" translate-values="{url: CloudDashboardHost}"></p></div></div></div>'}},{"pug-runtime":2}],219:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t,i){this.$filter=e,this.deviceStateUtils=t,this.moment=i,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.onModelChange=function(){},n.prototype.isDeviceWithModelEolPendingWarning=function(){return this.model&&this.deviceStateUtils.isDeviceWithModelEolPendingWarning(this.model)},n.prototype.getEolDate=function(){var e=this.model.get("model_eol_date");return 1e3*parseInt(e)},n.prototype.getEolDateFormatted=function(){return this.$filter("moment")(this.getEolDate(),"format","LL")},n.prototype.isEolDateInFuture=function(){return this.moment().diff(this.getEolDate(),"days")<0},n.prototype.getEolVersion=function(){return this.model.get("model_eol_version")},n.$inject=["$filter","deviceStateUtils","moment"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesModelEolPendingWarningController",n)},{}],220:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesModelEolPendingWarning",["updateModelDirectiveMixin",function(t){return{controller:"DevicePropertiesModelEolPendingWarningController",controllerAs:"devicePropertiesModelEolPendingWarningCtrl",scope:{model:"=unifiDevicePropertiesModelEolPendingWarning"},template:e("./devicePropertiesModelEolPendingWarning.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,!0)}}}])},{"./devicePropertiesModelEolPendingWarning.pug":221}],221:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--warning verticalRhythm--cozy verticalRhythmTop--cozy" ng-if="devicePropertiesModelEolPendingWarningCtrl.isDeviceWithModelEolPendingWarning()" ng-class="{\'is-app-info-box-collapsed\': !isInfoBoxExpanded}"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-click="isInfoBoxExpanded = !isInfoBoxExpanded"><span ng-if="devicePropertiesModelEolPendingWarningCtrl.isEolDateInFuture()" translate="DEVICE_PROPERTIES_NOTICE_MODEL_EOL_PENDING_WARNING_HEADER_FUTURE"></span><span ng-if="!devicePropertiesModelEolPendingWarningCtrl.isEolDateInFuture()" translate="DEVICE_PROPERTIES_NOTICE_MODEL_EOL_PENDING_WARNING_HEADER_PAST"></span><div class="appInfoBox__toggle icon" ng-class="isInfoBoxExpanded ? \'ubnt-icon--minus\' : \'ubnt-icon--plus\'"></div></div><div class="appInfoBox__body" ng-if="devicePropertiesModelEolPendingWarningCtrl.isEolDateInFuture()"><p translate="{{\'DEVICE_PROPERTIES_NOTICE_MODEL_EOL_PENDING_WARNING_BODY_DATE_FUTURE\'}}" translate-values="{date: devicePropertiesModelEolPendingWarningCtrl.getEolDateFormatted()}"></p><p class="noMarginBottom" translate="{{\'DEVICE_PROPERTIES_NOTICE_MODEL_EOL_PENDING_WARNING_BODY_VERSION_FUTURE\'}}" translate-values="{version: devicePropertiesModelEolPendingWarningCtrl.getEolVersion()}"></p></div><div class="appInfoBox__body" ng-if="!devicePropertiesModelEolPendingWarningCtrl.isEolDateInFuture()"><p translate="{{\'DEVICE_PROPERTIES_NOTICE_MODEL_EOL_PENDING_WARNING_BODY_DATE_PAST\'}}" translate-values="{date: devicePropertiesModelEolPendingWarningCtrl.getEolDateFormatted()}"></p><p class="noMarginBottom" translate="{{\'DEVICE_PROPERTIES_NOTICE_MODEL_EOL_PENDING_WARNING_BODY_VERSION_PAST\'}}" translate-values="{version: devicePropertiesModelEolPendingWarningCtrl.getEolVersion()}"></p></div></div></div>'}},{"pug-runtime":2}],222:[function(e,t,i){"use strict";function r(e,t,i,r,n,o,s,a,l,p){var c=this;this.system=e,this.$filter=t,this.$interval=i,this.$state=r,this.$translate=n,this.deviceRadioUtils=o,this.moment=s,this.RADIO_TYPES=a,this.REPORT_GRANULARITY=l,this.REPORT_TYPES=p,this.apFilterGroups=[{id:"radio",translationKey:"RADIO_TYPE",noBorder:!0,noMarginBottom:!0,isVisible:function(){return c.isDeviceAP()},items:[]}]}r.prototype.$onInit=function(){var e=this;this.isDeviceAP()&&(this.radios=this.deviceRadioUtils.getRadios(this.model),this.radios.length&&(this.radio=this.radios[0].get("name")),this.apFilterGroups[0].items=this.apFilterGroups[0].items.concat(this.radios.map(function(t){return{id:t.get("name"),label:e.$filter("radio")(t,{showInterface:!0}),isSelected:function(){return e.radio===t.get("name")},onSelect:function(){e.radio=t.get("name")}}}))),this.updateTimeFrame(),this.updateGranularity()},r.prototype.updateTimeFrame=function(){this.performanceStart=this.moment().ceil(1,"hours").subtract(1,"day").format("x"),this.performanceEnd=this.moment().ceil(1,"hours").format("x")},r.prototype.updateGranularity=function(){var e=this.system.repository.model.get("data_retention_time_in_hours_for_5minutes_scale");this.granularity=e<this.moment.duration(1,"days").asHours()?this.REPORT_GRANULARITY.HOURLY:this.REPORT_GRANULARITY.MINUTES},r.prototype.isDeviceAP=function(){return this.model&&this.model.isAp()},r.prototype.addEventHandlers=function(){this.intervalPromise=this.$interval(function(){this.updateTimeFrame()}.bind(this),this.moment.duration(30,"minutes").asMilliseconds()),this.system.repository.model.on("change:data_retention_time_in_hours_for_5minutes_scale",this.updateGranularity,this)},r.prototype.removeEventHandlers=function(){this.$interval.cancel(this.intervalPromise),this.system.repository.model.off("change:data_retention_time_in_hours_for_5minutes_scale",this.updateGranularity,this)},r.prototype.showPerformanceView=function(){this.$state.go("manage.site.statistics.performance",{deviceId:this.model.id})},r.$inject=["system","$filter","$interval","$state","$translate","deviceRadioUtils","moment","RADIO_TYPES","REPORT_GRANULARITY","REPORT_TYPES"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesPerformanceController",r)},{}],223:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesPerformance",[function(){return{replace:!0,bindToController:!0,controller:"DevicePropertiesPerformanceController",controllerAs:"devicePropertiesPerformanceCtrl",scope:{model:"=unifiDevicePropertiesPerformanceModel"},template:e("./devicePropertiesPerformance.pug")(),link:function(e,t,i,r){r.addEventHandlers(),e.$on("$destroy",function(){r.removeEventHandlers()})}}}])},{"./devicePropertiesPerformance.pug":224}],224:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div><div class="unifiVerticalLegend"><div class="unifiVerticalLegend__container"><div class="unifiVerticalLegend__item"><div class="unifiVerticalLegend__itemIcon"><div class="unifiVerticalLegend__area unifiDevice__legend--cpu"></div></div><div class="unifiVerticalLegend__itemDefinition" translate="PERFORMANCE_CPU"></div></div><div class="unifiVerticalLegend__item"><div class="unifiVerticalLegend__itemIcon"><div class="unifiVerticalLegend__line unifiVerticalLegend__line--wide unifiDevice__legend--memory"></div></div><div class="unifiVerticalLegend__itemDefinition" translate="PERFORMANCE_MEMORY"></div></div></div></div><div class="shelf"><div class="clickable flexible" ng-click="devicePropertiesPerformanceCtrl.showPerformanceView()"><unifi-device-graph unifi-device-graph-device="::devicePropertiesPerformanceCtrl.model" unifi-device-graph-granularity="devicePropertiesPerformanceCtrl.granularity" unifi-device-graph-start="devicePropertiesPerformanceCtrl.performanceStart" unifi-device-graph-end="devicePropertiesPerformanceCtrl.performanceEnd" unifi-device-graph-type="::devicePropertiesPerformanceCtrl.REPORT_TYPES.DEVICE.PERFORMANCE" unifi-device-graph-cozy="true"></unifi-device-graph></div><div class="clickable flexible" ng-click="devicePropertiesPerformanceCtrl.showPerformanceView()"><unifi-device-graph ng-if="devicePropertiesPerformanceCtrl.model.isAp() &amp;&amp; devicePropertiesPerformanceCtrl.radio" unifi-device-graph-device="::devicePropertiesPerformanceCtrl.model" unifi-device-graph-granularity="devicePropertiesPerformanceCtrl.granularity" unifi-device-graph-start="devicePropertiesPerformanceCtrl.performanceStart" unifi-device-graph-end="devicePropertiesPerformanceCtrl.performanceEnd" unifi-device-graph-type="::devicePropertiesPerformanceCtrl.REPORT_TYPES.DEVICE.USERS" unifi-device-graph-cozy="true"></unifi-device-graph></div></div><unifi-ui-list-filter-buttons class="verticalRhythmTop" unifi-ui-list-filter-buttons-config="devicePropertiesPerformanceCtrl.apFilterGroups"></unifi-ui-list-filter-buttons><div class="shelf" ng-if="devicePropertiesPerformanceCtrl.model.isAp() &amp;&amp; devicePropertiesPerformanceCtrl.radio"><div class="clickable flexible" ng-click="devicePropertiesPerformanceCtrl.showPerformanceView()"><unifi-device-graph unifi-device-graph-device="::devicePropertiesPerformanceCtrl.model" unifi-device-graph-granularity="devicePropertiesPerformanceCtrl.granularity" unifi-device-graph-start="devicePropertiesPerformanceCtrl.performanceStart" unifi-device-graph-end="devicePropertiesPerformanceCtrl.performanceEnd" unifi-device-graph-type="::devicePropertiesPerformanceCtrl.REPORT_TYPES.DEVICE.CHANNEL_UTILIZATION" unifi-device-graph-radio="devicePropertiesPerformanceCtrl.radio" unifi-device-graph-cozy="true"></unifi-device-graph></div><div class="clickable flexible" ng-click="devicePropertiesPerformanceCtrl.showPerformanceView()"><unifi-device-graph unifi-device-graph-device="::devicePropertiesPerformanceCtrl.model" unifi-device-graph-granularity="devicePropertiesPerformanceCtrl.granularity" unifi-device-graph-start="devicePropertiesPerformanceCtrl.performanceStart" unifi-device-graph-end="devicePropertiesPerformanceCtrl.performanceEnd" unifi-device-graph-type="::devicePropertiesPerformanceCtrl.REPORT_TYPES.DEVICE.DROPPED" unifi-device-graph-radio="devicePropertiesPerformanceCtrl.radio" unifi-device-graph-cozy="true"></unifi-device-graph></div><div class="clickable flexible" ng-click="devicePropertiesPerformanceCtrl.showPerformanceView()"><unifi-device-graph unifi-device-graph-device="::devicePropertiesPerformanceCtrl.model" unifi-device-graph-granularity="devicePropertiesPerformanceCtrl.granularity" unifi-device-graph-start="devicePropertiesPerformanceCtrl.performanceStart" unifi-device-graph-end="devicePropertiesPerformanceCtrl.performanceEnd" unifi-device-graph-type="::devicePropertiesPerformanceCtrl.REPORT_TYPES.DEVICE.RETRIES" unifi-device-graph-radio="devicePropertiesPerformanceCtrl.radio" unifi-device-graph-cozy="true"></unifi-device-graph></div></div></div>'}},{"pug-runtime":2}],225:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t){this.deviceStateUtils=e,this.URLS=t,r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.onModelChange=function(){},n.prototype.isDeviceWithStunWarning=function(){return this.model&&this.deviceStateUtils.isDeviceWithStunWarning(this.model)},n.$inject=["deviceStateUtils","URLS"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesStunWarningController",n)},{}],226:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesStunWarning",["updateModelDirectiveMixin",function(t){return{controller:"DevicePropertiesStunWarningController",controllerAs:"devicePropertiesStunWarningCtrl",scope:{model:"=unifiDevicePropertiesStunWarning"},template:e("./devicePropertiesStunWarning.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,!0)}}}])},{"./devicePropertiesStunWarning.pug":227}],227:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--warning verticalRhythm--cozy verticalRhythmTop--cozy" ng-if="devicePropertiesStunWarningCtrl.isDeviceWithStunWarning()" ng-class="{\'is-app-info-box-collapsed\': !isInfoBoxExpanded}"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-click="isInfoBoxExpanded = !isInfoBoxExpanded">{{\'DEVICE_PROPERTIES_NOTICE_STUN_WARNING_HEADER\' | translate}}<div class="appInfoBox__toggle icon" ng-class="isInfoBoxExpanded ? \'ubnt-icon--minus\' : \'ubnt-icon--plus\'"></div></div><div class="appInfoBox__body"><p translate="{{\'DEVICE_PROPERTIES_NOTICE_STUN_WARNING_BODY\'}}" translate-values="{url: devicePropertiesStunWarningCtrl.URLS.STUN_HELP_PAGE}"></p></div></div></div>'}},{"pug-runtime":2}],228:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseCollectionController");function n(e,t,i,n){this.$q=e,this.$translate=t,this.heyToasts=i,this.tags=n,this.isRemoving={},r.call(this),this.updateCollection(n.repository.collection)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0},n.prototype.updateBatchModel=function(e){this.batchModel=e,this.batchModel&&this.batchModel.on("change:deep:destination",this.onCollectionChange,this)},n.prototype.updateModel=function(e){this.model=e,this.onCollectionChange()},n.prototype.destroy=function(){this.batchModel&&this.batchModel.off("change:deep:destination",this.onCollectionChange,this),this.removeEventHandlers()},n.prototype.onCollectionChange=function(){var e;this.collection&&(e=this.getApplicableMacs())?angular.isArray(e)?this.currentTags=this.tags.getUnanimousTagsByMacs(e):this.currentTags=this.tags.getTagsByMac(e):this.currentTags=[]},n.prototype.addTag=function(e){return e?(this.isAdding=!0,this.tags[angular.isObject(e)?"addExistingTagByMacs":"addNewTagByMacs"](this.getApplicableMacs(),e,{wait:!0}).then(function(){return!0}).catch(function(e){return this.heyToasts.pushError(e),!1}.bind(this)).finally(function(){this.isAdding=!1}.bind(this))):this.$q.reject()},n.prototype.removeTag=function(e){return this.isRemoving[e.id]=!0,this.tags.removeTagByMacs(this.getApplicableMacs(),e,{wait:!0}).then(function(){return!0}).catch(function(e){return this.heyToasts.pushError(e),!1}.bind(this)).finally(function(){this.isRemoving[e.id]=!1}.bind(this))},n.prototype.getCurrentTags=function(){return this.currentTags},n.prototype.isTagUnused=function(e){return!this.currentTags.find(function(t){return t.get("name")===e.get("name")})},n.prototype.getApplicableMacs=function(){return this.isBatchEdit?this.batchModel&&this.batchModel.get("destination").pluck("mac"):this.model&&this.model.get("mac")},n.$inject=["$q","$translate","heyToasts","tags"],angular.module("app-unifi-manage-property-panel").controller("DevicePropertiesTagsController",n)},{}],229:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiDevicePropertiesTags",["updateModelDirectiveMixin","devicePropertiesConfigureBatchDirectiveMixin","APP_EVENTS",function(t,i,r){return{scope:{model:"=unifiDevicePropertiesTags",withBatch:"=unifiDevicePropertiesTagsWithBatch"},controller:"DevicePropertiesTagsController",controllerAs:"devicePropertiesTagsCtrl",template:e("./devicePropertiesTags.pug")(),link:function(e,n,o,s){e.directiveId=e.$id,e.$watch("withBatch",function(e){s.updateBatchModel(e)}),e.$on("$destroy",function(){s.destroy()}),e.resetForm=function(){s.selectedTag=void 0,e.$broadcast(r.SELECT_DROPDOWN_LIST_CLEAR)},e.submitForm=function(){e.$broadcast(r.SELECT_DROPDOWN_LIST_SUBMIT),e.$broadcast(r.SELECT_DROPDOWN_LIST_CLOSE),e.$broadcast(r.SELECT_DROPDOWN_LIST_CLEAR)},t.init(e,n,o,s,!0),i.init(e,n,o,s)}}}])},{"./devicePropertiesTags.pug":230}],230:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="devicePropertiesConfigureTags"><div class="appTags appTags--wrapped noMarginBottom" ng-if="devicePropertiesTagsCtrl.getCurrentTags().length"><div class="tag appTag appTag--cozy appTag--transparent" ng-repeat="tag in devicePropertiesTagsCtrl.getCurrentTags()">{{tag.get(\'name\')}}<div class="appTag__close"'+r("unifi-if-role-admin",!0,!0,!0)+' ng-click="devicePropertiesTagsCtrl.removeTag(tag)"></div></div></div><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder noPadding verticalRhythm--cozy" ng-if="!devicePropertiesTagsCtrl.getCurrentTags().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="{{devicePropertiesTagsCtrl.isBatchEdit ? \'DEVICE_PROPERTIES_SECTION_TAGS_EMPTY_BATCH\' : \'DEVICE_PROPERTIES_SECTION_TAGS_EMPTY\'}}"></p></div></div></div><form'+(r("unifi-if-role-admin",!0,!0,!0)+r("novalidate",!0,!0,!0))+' autocomplete="off" ng-submit="submitForm()"><unifi-select-simple-dropdown-list unifi-select-simple-dropdown-list-collection="devicePropertiesTagsCtrl.tags.repository.collection" unifi-select-simple-dropdown-list-selected-model="devicePropertiesTagsCtrl.selectedTag" unifi-select-simple-dropdown-list-render-label="devicePropertiesTagsCtrl.selectedTag.get(\'name\')" unifi-select-simple-dropdown-list-row-template="\'simpleAttributes\'" unifi-select-simple-dropdown-list-row-config="[\'name\']" unifi-select-simple-dropdown-list-supplemental-filter="devicePropertiesTagsCtrl.isTagUnused(model)" unifi-select-simple-dropdown-list-searchable-attributes="[\'name\']" unifi-select-simple-dropdown-list-default-sort-by="\'name\'" unifi-select-simple-dropdown-list-default-sort-desc="false" unifi-select-simple-dropdown-list-search-placeholder="\'DEVICE_PROPERTIES_SELECT_TAG_DROPDOWN_SEARCH_PLACEHOLDER\'" unifi-select-simple-dropdown-list-empty-table-notice="\'DEVICE_PROPERTIES_SELECT_TAG_DROPDOWN_TABLE_EMPTY\'" unifi-select-simple-dropdown-list-local-state="true" unifi-select-simple-dropdown-list-local-state-key="devicePropertiesTagsCtrl.model.get(\'mac\') + \'|add-device-tag\'" unifi-select-simple-dropdown-list-local-state-is-temporary="true" unifi-select-simple-dropdown-list-is-cozy="true" unifi-select-simple-dropdown-list-is-pagination-optional="true" unifi-select-simple-dropdown-list-rows-per-page="5" unifi-select-simple-dropdown-list-hide-empty-notice="true" unifi-select-simple-dropdown-list-no-clear="false" unifi-select-simple-dropdown-list-open-upward="true" unifi-select-simple-dropdown-list-on-select="devicePropertiesTagsCtrl.addTag(model); resetForm();" unifi-select-simple-dropdown-list-on-submit="devicePropertiesTagsCtrl.addTag(searchQuery); resetForm();"></unifi-select-simple-dropdown-list></form></div>'};var n=/["&<>]/},{"pug-runtime":2}],231:[function(e,t,i){"use strict";function r(){}r.prototype.updateModel=function(e){this.validator.removeFormModel(this.group),e&&this.validator.addFormModel(this.group,e),this.model=e},r.prototype.onInputChange=function(e,t,i){i?(this.model.trigger("change:"+i,this.model,t),this.model.trigger("change")):this.model.trigger("change")},r.prototype.destroy=function(){this.validator&&this.validator.removeFormModel(this.group)},r.$inject=[],angular.module("app-unifi-manage-property-panel").controller("FormGroupWarningsController",r)},{}],232:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiFormGroupWarnings",["$parse",function(e){return{controller:"FormGroupWarningsController",controllerAs:"formGroupWarningsCtrl",restrict:"A",link:function(t,i,r,n){n.group=e(r.unifiFormGroupWarningsGroup)(t);var o=t.$watch(r.unifiFormGroupWarningsValidator,function(e){e&&(n.validator=e,t.$watch(r.unifiFormGroupWarningsModel,function(e){n.updateModel(e)}),o())});t.$on("$destroy",function(){n.destroy()})}}}])},{}],233:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiFormGroupWarningsInput",["$parse",function(e){return{restrict:"A",require:["^unifiFormGroupWarnings","^ngModel"],link:function(t,i,r,n){var o=n[0],s=n[1],a=e(r.unifiFormGroupWarningsInputAttr)(t),l=e(r.unifiFormGroupWarningsInputClass)(t);s.$viewChangeListeners.push(function(){o.onInputChange(s.$name,s.$viewValue,a)}),l&&t.$watchCollection(function(){return o.validator?o.validator.getInvalidAttrs():[]},function(e){-1!==e.indexOf(s.$name)?i.addClass(l):i.removeClass(l)})}}}])},{}],234:[function(e,t,i){"use strict";var r=e("../../controllers/BasePropertiesController");function n(e,t,i,n,o,s,a,l,p,c,d,u,g,f,h,m,v,C){o(this),this.devices=s,this.deviceFeatureUtils=a,this.deviceStateUtils=l,this.deviceUplinkUtils=p,this.deviceUtils=c,this.dynamicDns=d,this.gatewayUtils=g,this.portForwards=f,this.repositoryUtils=m,this.DEVICE_STATES=v,this.USG_TEMPERATURE_LABELS=C,this.isSaveQueued=!0,this.modelChangeEvent="change change:port_table[*]",this.temperatureLabels={},this.initChange=!0,this.accordions={details:{overview:!0},configure:{general:!0}},this.repositories=["dynamicDns","portForwards","networks"],r.call(this,e,t,i,h,n,u)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.resolve=function(){var e=this;return this.repositoryUtils.registerAndFetchGroup(this.repositories).then(function(){return e.updateLanIp()})},n.prototype.destroy=function(){this.repositoryUtils.unregisterGroup(this.repositories)},n.prototype.reset=function(){this.deviceState=void 0,this.deviceStatus=void 0,this.lanIp=void 0,this.uplinkAttrs={},this.isPortUp={},this.tabsVisibility={configure:!1,networks:!0,adopt:!1,alerts:!1,ports:!1,stats:!0},this.showCancelMigrateAccordion=!1},n.prototype.isNetworkgroupUp=function(e){var t="wan1"===e?"WAN":"WAN2",i=this.gatewayUtils.getNetworkgroupIfname(t,this.gatewayUtils.getSiteGateway())||"";return this.isPortUp[i]},n.prototype.onModelChange=function(){var e=this;this.persistAdoptTab=this.tabsVisibility.adopt&&this.deviceStateUtils.getRawDeviceState(this.model)===this.DEVICE_STATES.ADOPTING,this.reset(),this.model&&(this.deviceState=this.deviceStateUtils.getDeviceState(this.model),this.deviceStatus=this.deviceStateUtils.getDeviceStatus(this.model),this.updateLanIp(),this.uplinkAttrs.wan1=this.deviceUplinkUtils.getUplinkAttrs(this.model,"wan1"),this.uplinkAttrs.wan2=this.deviceUplinkUtils.getUplinkAttrs(this.model,"wan2"),this.model.get("port_table")&&this.model.get("port_table").each(function(t){var i=t.get("ifname");e.isPortUp[i]=t.get("up")}),this.showEliteAccordion=this.model.isElite(),this.tabsVisibility.configure=this.model.get("adopted"),this.tabsVisibility.adopt=this.persistAdoptTab||this.deviceUtils.isGatewayAdoptable(this.model,this.devices.repository.collection)&&(this.deviceState===this.DEVICE_STATES.ADOPTION_FAILED||this.deviceState===this.DEVICE_STATES.MANAGED_BY_OTHER),this.tabsVisibility.alerts=this.deviceStateUtils.hasWarnings(this.model),this.tabsVisibility.ports=this.model.get("adopted")&&this.deviceFeatureUtils.isGatewayPortReassignmentSupported(this.model),this.showCancelMigrateAccordion=!!this.deviceStateUtils.isMigrated(this.model),this.temperatureLabels=this.USG_TEMPERATURE_LABELS[this.model.get("model")],this.initChange&&this.showEliteAccordion&&this.deviceState===this.DEVICE_STATES.DISCONNECTED&&(this.initChange=!1,this.accordions.details={elite:!0}),this.checkActiveTab())},n.prototype.updateLanIp=function(){this.model&&(this.lanIp=this.gatewayUtils.getIpByNetworkGroup("LAN",this.model))},n.prototype.getTemperatureSensorConfigs=function(){return this.gatewayUtils.getTemperatureSensorConfigs(this.model)},n.prototype.getSensorTemperature=function(e){var t="system-stats.temps."+e.sensor;return this.model.getNested(t)},n.prototype.isSensorTemperatureValid=function(e){var t=parseInt(this.getSensorTemperature(e));return!("maxTemp"in e)||t<e.maxTemp},n.prototype.hasTemperatureForDisplay=function(){return this.model.get("system-stats")&&this.model.getNested("system-stats.temps")&&!angular.equals(this.model.getNested("system-stats.temps"),{})},n.$inject=["$q","$timeout","$translate","account","activeTabControllerMixin","devices","deviceFeatureUtils","deviceStateUtils","deviceUplinkUtils","deviceUtils","dynamicDns","frame","gatewayUtils","portForwards","propertyPanel","repositoryUtils","DEVICE_STATES","USG_TEMPERATURE_LABELS"],angular.module("app-unifi-manage-property-panel").controller("GatewayPropertiesController",n)},{"../../controllers/BasePropertiesController":303}],235:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiGatewayProperties",["updateModelDirectiveMixin","devicePropertiesPendingActionsDirectiveMixin",function(t,i){return{scope:{model:"=unifiGatewayProperties"},controller:"GatewayPropertiesController",controllerAs:"gatewayPropertiesCtrl",template:e("./gatewayProperties.pug")(),link:function(e,r,n,o){e.$on("$destroy",function(){o.destroy(),o.removeEventHandlers()}),t.init(e,r,n,o,!0),i.init(e,r,n,o)}}}])},{"./gatewayProperties.pug":236}],236:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiPanelItem gatewayProperties" ng-class="{\'is-collapsed\': gatewayPropertiesCtrl.isCollapsed()}" ng-if="gatewayPropertiesCtrl.model"><unifi-loading-status unifi-loading-status-is-loading="gatewayPropertiesCtrl.isLoading" unifi-loading-status-failed="gatewayPropertiesCtrl.failedToLoad" unifi-loading-status-retry="gatewayPropertiesCtrl.init()"></unifi-loading-status><div class="unifiPanelItemHeader"><div class="unifiPanelItemHeader__collapseToggle"><div class="appActionIcon" ng-click="gatewayPropertiesCtrl.toggleCollapsed()"><span class="button__icon icon" ng-class="{            \'unifi-icon--default-collapse\': !gatewayPropertiesCtrl.isCollapsed(),            \'unifi-icon--default-expand\': gatewayPropertiesCtrl.isCollapsed()          }"></span></div></div><div class="unifiPanelItemHeader__avatar"><div unifi-device-icon="::gatewayPropertiesCtrl.model"></div></div><div class="unifiPanelItemHeader__title"><span unifi-device-status="::gatewayPropertiesCtrl.model" unifi-device-status-is-cozy="true" unifi-device-status-is-truncated="true" unifi-device-status-with-icons="true" unifi-device-status-label="gatewayPropertiesCtrl.model.getDisplayName()"></span><div class="unifiPanelItemHeader__status"><span unifi-device-status-badge="::gatewayPropertiesCtrl.model"></span></div></div><div class="unifiPanelItemHeader__actions"><div class="appActionIconGroup"><div class="appActionIcon appActionIcon--primary appActionIcon--reverse appActionIcon--round" unifi-device-button-adopt="::gatewayPropertiesCtrl.model" unifi-device-button-adopt-collection="::gatewayPropertiesCtrl.devices.repository.collection" unifi-device-button-adopt-is-reverse="true"></div><div class="appActionIcon" unifi-device-button-restart="::gatewayPropertiesCtrl.model"></div><div class="appActionIcon" unifi-device-button-locate="::gatewayPropertiesCtrl.model" unifi-device-button-locate-with-map="true"></div><div class="appActionIcon" unifi-device-button-upgrade="::gatewayPropertiesCtrl.model"></div><div class="appActionIcon visible--mdUp" ng-click="gatewayPropertiesCtrl.toggleUndocked()" title="{{gatewayPropertiesCtrl.isUndocked() ? \'COMMON_PROPERTY_PANEL_ITEM_DOCK\' : \'COMMON_PROPERTY_PANEL_ITEM_UNDOCK\' | translate}}"><span class="button__icon icon" ng-class="{              \'ubnt-icon--header-maximize\': !gatewayPropertiesCtrl.isUndocked(),              \'ubnt-icon--header-minimize\': gatewayPropertiesCtrl.isUndocked()            }"></span></div><div class="appActionIcon removePanelItem" ng-click="gatewayPropertiesCtrl.removePanel()" title="{{\'COMMON_PROPERTY_PANEL_ITEM_REMOVE\' | translate}}"><span class="button__icon icon unifi-icon--default-close"></span></div></div></div></div><div class="unifiPanelItemBody"><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static"><unifi-gateway-diagram unifi-gateway-diagram-model="::gatewayPropertiesCtrl.model"></unifi-gateway-diagram><unifi-gateway-diagram-keys unifi-gateway-diagram-keys-model="::gatewayPropertiesCtrl.model"></unifi-gateway-diagram-keys></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static"><ul class="appTabs appTabs--compressed appTabs--alignLeft"><li class="tabs__item details" ng-click="gatewayPropertiesCtrl.setActiveTab(\'details\')" ng-class="{            \'is-tab-selected\': gatewayPropertiesCtrl.getActiveTab() === \'details\',            \'is-tab-loading\': gatewayPropertiesCtrl.loadingTab === \'details\'          }" translate="DEVICE_PROPERTIES_TAB_DETAILS"></li><li class="tabs__item networks" ng-click="gatewayPropertiesCtrl.setActiveTab(\'networks\')" ng-class="{            \'is-tab-selected\': gatewayPropertiesCtrl.getActiveTab() === \'networks\',            \'is-tab-loading\': gatewayPropertiesCtrl.loadingTab === \'networks\'          }" translate="DEVICE_PROPERTIES_TAB_NETWORKS"></li><li class="tabs__item ports" ng-if="gatewayPropertiesCtrl.tabsVisibility.ports" ng-click="gatewayPropertiesCtrl.setActiveTab(\'ports\')" ng-class="{            \'is-tab-selected\': gatewayPropertiesCtrl.getActiveTab() === \'ports\',            \'is-tab-loading\': gatewayPropertiesCtrl.loadingTab === \'ports\'          }" translate="DEVICE_PROPERTIES_TAB_PORTS"></li><li class="tabs__item configure" ng-if="gatewayPropertiesCtrl.tabsVisibility[\'configure\']" ng-click="gatewayPropertiesCtrl.setActiveTab(\'configure\')" ng-class="{            \'is-tab-selected\': gatewayPropertiesCtrl.getActiveTab() === \'configure\',            \'is-tab-loading\': gatewayPropertiesCtrl.loadingTab === \'configure\'          }" translate="DEVICE_PROPERTIES_TAB_CONFIGURATION"></li><li class="tabs__item stats" ng-if="gatewayPropertiesCtrl.tabsVisibility[\'stats\']" ng-click="gatewayPropertiesCtrl.setActiveTab(\'stats\')" ng-class="{             \'is-tab-selected\': gatewayPropertiesCtrl.getActiveTab() === \'stats\',             \'is-tab-loading\': gatewayPropertiesCtrl.loadingTab === \'stats\'           }" translate="DEVICE_PROPERTIES_TAB_STATS"></li><li class="tabs__item adopt"'+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"gatewayPropertiesCtrl.tabsVisibility['adopt']\" ng-click=\"gatewayPropertiesCtrl.setActiveTab('adopt')\" ng-class=\"{            'is-tab-selected': gatewayPropertiesCtrl.getActiveTab() === 'adopt',            'is-tab-loading': gatewayPropertiesCtrl.loadingTab === 'adopt'          }\" translate=\"DEVICE_PROPERTIES_TAB_ADOPT\"></li><li class=\"tabs__item alerts\""+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="gatewayPropertiesCtrl.tabsVisibility[\'alerts\']" ng-click="gatewayPropertiesCtrl.setActiveTab(\'alerts\')" ng-class="{            \'is-tab-selected\': gatewayPropertiesCtrl.getActiveTab() === \'alerts\',            \'is-tab-loading\': gatewayPropertiesCtrl.loadingTab === \'alerts\'          }" translate="DEVICE_PROPERTIES_TAB_ALERTS"></li></ul></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--flexible"><div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--primary verticalRhythm--cozy verticalRhythmTop--cozy" ng-if="gatewayPropertiesCtrl.getActiveTab() === \'configure\'" ng-class="{\'is-app-info-box-collapsed\': !isInfoBoxExpanded}"><div class="appInfoBox__icon icon ubnt-icon--info-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-click="isInfoBoxExpanded = !isInfoBoxExpanded">{{\'DEVICE_PROPERTIES_NOTICE_GATEWAY_SETTINGS_HEADER\' | translate}}<div class="appInfoBox__toggle icon" ng-class="isInfoBoxExpanded ? \'ubnt-icon--minus\' : \'ubnt-icon--plus\'"></div></div><div class="appInfoBox__body"><ul class="list appType--micro verticalRhythmTop--cozy"><li><a ui-sref="manage.site.settings.routingAndFirewall.firewall" translate="DEVICE_PROPERTIES_NOTICE_GATEWAY_SETTINGS_LINKS_FIREWALL"></a></li><li><a ui-sref="manage.site.settings.services" translate="DEVICE_PROPERTIES_NOTICE_GATEWAY_SETTINGS_LINKS_SERVICES"></a></li><li><a ui-sref="manage.site.settings.networks" translate="DEVICE_PROPERTIES_NOTICE_GATEWAY_SETTINGS_LINKS_NETWORKS"></a></li></ul></div></div></div><div class="unifiPanelItemContent"><div class="gatewayPropertiesDetails" ng-if="gatewayPropertiesCtrl.isTabAvailable(\'details\') &amp;&amp; gatewayPropertiesCtrl.getActiveTab() === \'details\'"'+r("unifi-gateway-properties-details",!0,!0,!0)+'></div><div class="gatewayPropertiesNetwork" ng-if="gatewayPropertiesCtrl.isTabAvailable(\'networks\') &amp;&amp; gatewayPropertiesCtrl.getActiveTab() === \'networks\'"><unifi-gateway-properties-network-list unifi-gateway-properties-network-list-local-state="true" unifi-gateway-properties-network-list-local-state-key="::gatewayPropertiesCtrl.model.get(\'mac\') + \'|networks\'" unifi-gateway-properties-network-list-collection="gatewayPropertiesCtrl.model.get(\'network_table\')"></unifi-gateway-properties-network-list></div><div class="gatewayPropertiesPorts" ng-if="gatewayPropertiesCtrl.tabsVisibility.ports &amp;&amp; gatewayPropertiesCtrl.isTabAvailable(\'ports\') &amp;&amp; gatewayPropertiesCtrl.getActiveTab() === \'ports\'"><unifi-gateway-properties-port-list unifi-gateway-properties-port-list-model="gatewayPropertiesCtrl.model" unifi-gateway-properties-port-list-ports="gatewayPropertiesCtrl.model.get(\'port_table\')"></unifi-gateway-properties-port-list></div><div class="gatewayPropertiesConfigure" ng-if="gatewayPropertiesCtrl.tabsVisibility[\'configure\'] &amp;&amp; gatewayPropertiesCtrl.isTabAvailable(\'configure\')" ng-show="gatewayPropertiesCtrl.getActiveTab() === \'configure\'"'+r("unifi-gateway-properties-configure",!0,!0,!0)+'></div><div class="gatewayPropertiesStats" ng-if="gatewayPropertiesCtrl.tabsVisibility[\'stats\'] &amp;&amp; gatewayPropertiesCtrl.isTabAvailable(\'stats\') &amp;&amp; gatewayPropertiesCtrl.getActiveTab() === \'stats\'"><unifi-device-properties-performance class="unifiPanelItemContent__section" unifi-device-properties-performance-model="::gatewayPropertiesCtrl.model"></unifi-device-properties-performance></div><div class="gatewayPropertiesAdopt"'+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="gatewayPropertiesCtrl.tabsVisibility[\'adopt\'] &amp;&amp; gatewayPropertiesCtrl.isTabAvailable(\'adopt\')" ng-show="gatewayPropertiesCtrl.getActiveTab() === \'adopt\'" unifi-device-properties-adopt="::gatewayPropertiesCtrl.model"></div><div class="gatewayPropertiesAlerts"'+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="gatewayPropertiesCtrl.tabsVisibility[\'alerts\'] &amp;&amp; gatewayPropertiesCtrl.isTabAvailable(\'alerts\')" ng-show="gatewayPropertiesCtrl.getActiveTab() === \'alerts\'" unifi-device-properties-alerts="::gatewayPropertiesCtrl.model"></div></div></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static unifiPanelItemBodySection--pending"><unifi-pending-changes-list unifi-pending-changes-list-model="::gatewayPropertiesCtrl.model" unifi-pending-changes-list-save="applyPendingChanges(model)"></unifi-pending-changes-list></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],237:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiGatewayPropertiesConfigure",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiGatewayProperties",template:e("./gatewayPropertiesConfigure.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"configure")}}}])},{"./gatewayPropertiesConfigure.pug":238}],238:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section general" is-open="gatewayPropertiesCtrl.accordions.configure.general"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::gatewayPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="gatewayPropertiesCtrl.accordions.configure.general" unifi-pause-children-watchers="!gatewayPropertiesCtrl.accordions.configure.general"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="gatewayPropertiesConfigureGeneral" unifi-device-properties-configure-general="::gatewayPropertiesCtrl.model" unifi-device-properties-configure-general-is-open="gatewayPropertiesCtrl.accordions.configure.general" unifi-device-properties-configure-general-is-read-only="!gatewayPropertiesCtrl.isAdmin()" unifi-device-properties-configure-general-is-save-queued="false" unifi-device-properties-configure-general-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section services" is-open="gatewayPropertiesCtrl.accordions.configure.services"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::gatewayPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="gatewayPropertiesCtrl.accordions.configure.services" unifi-pause-children-watchers="!gatewayPropertiesCtrl.accordions.configure.services"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="gatewayPropertiesConfigureServices" unifi-gateway-properties-configure-services="::gatewayPropertiesCtrl.model" unifi-gateway-properties-configure-services-is-open="gatewayPropertiesCtrl.accordions.configure.services" unifi-gateway-properties-configure-services-is-read-only="!gatewayPropertiesCtrl.isAdmin()" unifi-gateway-properties-configure-services-is-save-queued="gatewayPropertiesCtrl.isSaveQueued" unifi-gateway-properties-configure-services-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section advanced" is-open="gatewayPropertiesCtrl.accordions.configure.advanced"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_ADVANCED\' | translate}}</accordion-heading><div unifi-initialize-when="gatewayPropertiesCtrl.accordions.configure.advanced" unifi-pause-children-watchers="!gatewayPropertiesCtrl.accordions.configure.advanced"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="gatewayPropertiesConfigureAdvanced"'+r("unifi-gateway-properties-configure-advanced",!0,!0,!0)+' unifi-gateway-properties-configure-advanced-is-open="gatewayPropertiesCtrl.accordions.configure.advanced" unifi-gateway-properties-configure-advanced-is-read-only="!gatewayPropertiesCtrl.isAdmin()"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section manage" ng-if="gatewayPropertiesCtrl.isAdmin()" is-open="gatewayPropertiesCtrl.accordions.configure.manage"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_MANAGE_DEVICE\' | translate}}</accordion-heading><div unifi-initialize-when="gatewayPropertiesCtrl.accordions.configure.manage" unifi-pause-children-watchers="!gatewayPropertiesCtrl.accordions.configure.manage"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="unifiPanelItemContentSection__subsection upgrade"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_CUSTOM_UPGRADE\' | translate}}</span></div></div><div class="gatewayPropertiesConfigureCustomUpgrade" unifi-device-properties-configure-custom-upgrade="::gatewayPropertiesCtrl.model" unifi-device-properties-configure-custom-upgrade-is-open="gatewayPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection provision"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_PROVISION\' | translate}}</span></div></div><div class="gatewayPropertiesConfigureProvision" unifi-device-properties-configure-provision="::gatewayPropertiesCtrl.model" unifi-device-properties-configure-provision-is-open="gatewayPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection cancelMigrate" ng-if="gatewayPropertiesCtrl.showCancelMigrateAccordion"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_CANCEL_MIGRATE\' | translate}}</span></div></div><div class="gatewayPropertiesConfigureCancelMigrate" unifi-device-properties-configure-cancel-migrate="::gatewayPropertiesCtrl.model" unifi-device-properties-configure-cancel-migrate-is-open="gatewayPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection forget"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_FORGET\' | translate}}</span></div></div><div class="gatewayPropertiesConfigureForget" unifi-device-properties-configure-forget="::gatewayPropertiesCtrl.model" unifi-device-properties-configure-forget-is-open="gatewayPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection infodownload"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_DOWNLOAD_DEVICE_INFO\' | translate}}</span></div></div><div class="gatewayPropertiesConfigureInfoDownload" unifi-device-properties-configure-info-download="::gatewayPropertiesCtrl.model" unifi-device-properties-configure-info-download-is-open="gatewayPropertiesCtrl.accordions.configure.manage"></div></div></div></accordion-group></accordion>'};var n=/["&<>]/},{"pug-runtime":2}],239:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a,l,p){this.$translate=e,this.deviceUtils=t,this.heyToasts=n,this.apiResults=s,this.settings=a,this.siteUtils=l,this.networks=i,this.listeners={},this.patterns={hostname:p.HOSTNAME},this.DEFAULT_ECHO_SERVER="ping.ubnt.com",this.DEFAULT_MSS_CLAMPING=1452,this.DEFAULT_MSS_CLAMP="auto",this.updateSettings=this.updateSettings.bind(this),r.call(this,o)}n.prototype=Object.create(r.prototype),n.prototype.constructor=r,n.prototype.init=function(){var e=(this.siteUtils.getActiveSite()||{}).id,t=this.settings.getSettingFromKey("usg",e)||this.settings.buildSettingFromKey("usg",null,e);this.updateSettings(),this.updateModel(t)},n.prototype.addEventHandlers=function(){r.prototype.addEventHandlers.call(this),this.listeners.settings=this.settings.repository.collection.onEvent("update",this.updateSettings),this.listeners.networks=this.networks.repository.collection.onEvent("update",this.updateSettings)},n.prototype.updateSettings=function(){var e=(this.siteUtils.getActiveSite()||{}).id,t=this.settings.getSettingFromKey("ips",e)||this.settings.buildSettingFromKey("ips",{ips_mode:"disabled"},e),i=-1===this.networks.getNetworksFromPurpose("wan",e).findIndex(function(e){return e.get("wan_smartq_enabled")});this.hardwareOffloadAvailable="disabled"===t.get("ips_mode")&&i},n.prototype.removeEventHandlers=function(){var e=this;r.prototype.removeEventHandlers.call(this),Object.keys(this.listeners).forEach(function(t){return e.listeners[t].stopListening()})},n.prototype.save=function(){this.isSubmitting=!0;var e=this.modelCopy.get("mss_clamp_mss");e=null!==e?e:this.DEFAULT_MSS_CLAMPING;var t={offload_accounting:this.modelCopy.get("offload_accounting"),offload_sch:this.modelCopy.get("offload_sch"),offload_l2_blocking:this.modelCopy.get("offload_l2_blocking"),echo_server:this.overrideEchoServer&&this.echoServerHostName||this.DEFAULT_ECHO_SERVER,lldp_enable_all:!!this.modelCopy.get("lldp_enable_all"),mss_clamp_mss:e,mss_clamp:this.modelCopy.get("mss_clamp")};return this.settings.saveSettings(this.model,t,"usg").then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_ADVANCED").toLowerCase()})),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_ADVANCED").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.prototype.setDefaultAttrs=function(e,t){var i=e?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+i]){var r={};["offload_accounting","offload_sch","offload_l2_blocking"].forEach(function(e){t&&-1===t.indexOf(e)||(r[e]=!this.model||!this.model.has(e)||this.model.get(e)||!1)}.bind(this)),r.mss_clamp=this.model&&this.model.get("mss_clamp")||this.DEFAULT_MSS_CLAMP,r.mss_clamp_mss=this.model&&this.model.get("mss_clamp_mss")||this.DEFAULT_MSS_CLAMPING,r.echo_server=this.model&&this.model.get("echo_server")||this.DEFAULT_ECHO_SERVER,this.overrideEchoServer=this.model&&this.model.get("echo_server")&&this.model.get("echo_server")!==this.DEFAULT_ECHO_SERVER||!1,this.echoServerHostName=this.overrideEchoServer?this.model.get("echo_server"):"",angular.extend(e?this.masterWithDefaults:this.modelCopy.attributes,r)}},n.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},n.prototype.resetModelCopyAttrs=function(e){r.prototype.resetModelCopyAttrs.call(this,e),this.setDefaultAttrs(!1,e)},n.prototype.reset=function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1)},n.prototype.isOffloadEnabled=function(){return this.hardwareOffloadAvailable&&this.modelCopy.get("offload_accounting")},n.$inject=["$translate","deviceUtils","networks","heyToasts","modelDivergence","apiResults","settings","siteUtils","REGEX_PATTERNS"],angular.module("app-unifi-manage-property-panel").controller("GatewayPropertiesConfigureAdvancedController",n)},{}],240:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiGatewayPropertiesConfigureAdvanced",["$timeout",function(t){return{scope:{isOpen:"=unifiGatewayPropertiesConfigureAdvancedIsOpen",isReadOnly:"=unifiGatewayPropertiesConfigureAdvancedIsReadOnly"},controller:"GatewayPropertiesConfigureAdvancedController",controllerAs:"gatewayPropertiesConfigureAdvancedCtrl",template:e("./gatewayPropertiesConfigureAdvanced.pug")(),link:function(e,i,r,n){e.directiveId=e.$id,t(function(){n.init()},0),e.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./gatewayPropertiesConfigureAdvanced.pug":241}],241:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+r("novalidate",!0,!0,!0)+' autocomplete="off" name="gatewayPropertiesConfigureAdvancedCtrl.form" ng-class="{    \'is-form-validation-visible\': gatewayPropertiesConfigureAdvancedCtrl.showValidation,    \'is-validation-hidden\': !gatewayPropertiesConfigureAdvancedCtrl.showValidation  }" ng-submit="gatewayPropertiesConfigureAdvancedCtrl.form.$valid &amp;&amp; gatewayPropertiesConfigureAdvancedCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="gatewayPropertiesConfigureAdvancedCtrl.resolveDivergence()" unifi-config-changed-on-ignore="gatewayPropertiesConfigureAdvancedCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; gatewayPropertiesConfigureAdvancedCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_MSS_CLAMPING"></label><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="mssClamping" id="mssClampingAuto{{::directiveId}}" value="auto" ng-model="gatewayPropertiesConfigureAdvancedCtrl.modelCopy.attributes.mss_clamp" ng-model-master="gatewayPropertiesConfigureAdvancedCtrl.masterWithDefaults.mss_clamp"><label for="mssClampingAuto{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_AUTO"></label></div><div class="appInputGroup appInputGroup"><input type="radio" name="mssClamping" id="mssClampingCustom{{::directiveId}}" value="custom" ng-model="gatewayPropertiesConfigureAdvancedCtrl.modelCopy.attributes.mss_clamp" ng-model-master="gatewayPropertiesConfigureAdvancedCtrl.masterWithDefaults.mss_clamp"><label for="mssClampingCustom{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_CUSTOM"></label><input class="input--smallNumber" type="number" name="mssClamping" ng-model="gatewayPropertiesConfigureAdvancedCtrl.modelCopy.attributes.mss_clamp_mss" ng-model-master="gatewayPropertiesConfigureAdvancedCtrl.masterWithDefaults.mss_clamp_mss" ng-disabled="gatewayPropertiesConfigureAdvancedCtrl.modelCopy.attributes.mss_clamp !== \'custom\'" ng-required="gatewayPropertiesConfigureAdvancedCtrl.modelCopy.attributes.mss_clamp === \'custom\'" min="532" max="1452"></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="mssClampingDisabled" id="mssClampingDisabled{{::directiveId}}" value="disabled" ng-model="gatewayPropertiesConfigureAdvancedCtrl.modelCopy.attributes.mss_clamp" ng-model-master="gatewayPropertiesConfigureAdvancedCtrl.masterWithDefaults.mss_clamp"><label for="mssClampingDisabled{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_DISABLED"></label></div></div></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_HARDWARE_OFFLOAD"></label><div class="appInputGroup appInputGroup--cozy"><input'+r("unifi-override-checkbox",!0,!0,!0)+' unifi-override-checkbox-value="gatewayPropertiesConfigureAdvancedCtrl.hardwareOffloadAvailable" type="checkbox" name="enableHardwareOffload" id="advancedHardwareOffload{{::directiveId}}" ng-model="gatewayPropertiesConfigureAdvancedCtrl.modelCopy.attributes.offload_accounting" ng-model-master="gatewayPropertiesConfigureAdvancedCtrl.masterWithDefaults.offload_accounting" ng-disabled="!gatewayPropertiesConfigureAdvancedCtrl.hardwareOffloadAvailable"><label for="advancedHardwareOffload{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_HARDWARE_OFFLOAD"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableOffloadScheduler" id="advancedOffloadScheduler{{::directiveId}}" ng-model="gatewayPropertiesConfigureAdvancedCtrl.modelCopy.attributes.offload_sch" ng-model-master="gatewayPropertiesConfigureAdvancedCtrl.masterWithDefaults.offload_sch"><label for="advancedOffloadScheduler{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_OFFLOAD_SCHEDULER"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableOffloadL2Blocking" id="advancedOffloadL2Blocking{{::directiveId}}" ng-model="gatewayPropertiesConfigureAdvancedCtrl.modelCopy.attributes.offload_l2_blocking" ng-model-master="gatewayPropertiesConfigureAdvancedCtrl.masterWithDefaults.offload_l2_blocking"><label for="advancedOffloadL2Blocking{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_OFFLOAD_L2_BLOCKING"></label></div></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_LLDP"></label><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="lldpEnableAll" id="lldpEnableAll{{::directiveId}}" ng-model="gatewayPropertiesConfigureAdvancedCtrl.modelCopy.attributes.lldp_enable_all" ng-model-master="gatewayPropertiesConfigureAdvancedCtrl.masterWithDefaults.lldp_enable_all"><label for="lldpEnableAll{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_LLDP_ON_ALL_INTERFACES"></label></div><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_ECHO_SERVER"></label><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="echoServer" id="echoServerFalse{{::directiveId}}" ng-value="false" ng-model="gatewayPropertiesConfigureAdvancedCtrl.overrideEchoServer"><label for="echoServerFalse{{::directiveId}}">{{gatewayPropertiesConfigureAdvancedCtrl.DEFAULT_ECHO_SERVER}}</label></div><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup inlineBlock"><input type="radio" name="echoServer" id="echoServerTrue{{::directiveId}}" ng-value="true" ng-model="gatewayPropertiesConfigureAdvancedCtrl.overrideEchoServer"></div><div class="appInputGroup inlineBlock"><input type="text" name="echoServerRedirectUrl" ng-model="gatewayPropertiesConfigureAdvancedCtrl.echoServerHostName" ng-pattern="gatewayPropertiesConfigureAdvancedCtrl.patterns.hostname" ng-disabled="!gatewayPropertiesConfigureAdvancedCtrl.overrideEchoServer" ng-required="gatewayPropertiesConfigureAdvancedCtrl.overrideEchoServer" placeholder="{{\'DEVICE_PROPERTIES_VALUES_ECHO_SERVER_PLACEHOLDER\' | translate}}"><unifi-tooltip><content translate="DEVICE_PROPERTIES_TOOLTIP_ECHO_SERVER"></content></unifi-tooltip></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent verticalRhythmTop--cozy" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="gatewayPropertiesConfigureAdvancedCtrl.showValidation = true" busy-toggle="gatewayPropertiesConfigureAdvancedCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" translate="COMMON_ACTIONS_APPLY"></button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="gatewayPropertiesConfigureAdvancedCtrl.reset()" ng-disabled="gatewayPropertiesConfigureAdvancedCtrl.form.$pristine" translate="COMMON_ACTIONS_CANCEL"></button></div></div></form>'};var n=/["&<>]/},{"pug-runtime":2}],242:[function(e,t,i){"use strict";var r=e("../../controllers/BaseConfigureServicesController");function n(e,t,i,n,o,s,a,l,p){this.SNMP_SETTINGS=p,this.patterns={name:l.NAME},r.call(this,e,i,n,s,a,o,t)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.getAttrsToSave=function(){return{snmp_contact:this.modelCopy.attributes.snmp_contact,snmp_location:this.modelCopy.attributes.snmp_location}},n.$inject=["$translate","apiResults","deviceUtils","heyToasts","modelDivergence","networks","networkUtils","REGEX_PATTERNS","SNMP_SETTINGS"],angular.module("app-unifi-manage-property-panel").controller("GatewayPropertiesConfigureServicesController",n)},{"../../controllers/BaseConfigureServicesController":302}],243:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiGatewayPropertiesConfigureServices",["devicePropertiesConfigureWithPendingDirectiveMixin","updateModelDirectiveMixin",function(t,i){return{scope:{model:"=unifiGatewayPropertiesConfigureServices",isOpen:"=unifiGatewayPropertiesConfigureServicesIsOpen",isReadOnly:"=unifiGatewayPropertiesConfigureServicesIsReadOnly",isSaveQueued:"=unifiGatewayPropertiesConfigureServicesIsSaveQueued",group:"@unifiGatewayPropertiesConfigureServicesGroup"},controller:"GatewayPropertiesConfigureServicesController",controllerAs:"gatewayPropertiesConfigureServicesCtrl",template:e("./gatewayPropertiesConfigureServices.pug")(),link:function(e,r,n,o){e.directiveId=e.$id,e.$on("$destroy",function(){o.removeEventHandlers()}),i.init(e,r,n,o,!0),t.init(e,r,n,o)}}}])},{"./gatewayPropertiesConfigureServices.pug":244}],244:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="gatewayPropertiesConfigureServicesCtrl.form" ng-class="{    \'is-form-validation-visible\': gatewayPropertiesConfigureServicesCtrl.showValidation,    \'is-validation-hidden\': !gatewayPropertiesConfigureServicesCtrl.showValidation  }" ng-submit="gatewayPropertiesConfigureServicesCtrl.form.$valid &amp;&amp; gatewayPropertiesConfigureServicesCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="gatewayPropertiesConfigureServicesCtrl.resolveDivergence()" unifi-config-changed-on-ignore="gatewayPropertiesConfigureServicesCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; gatewayPropertiesConfigureServicesCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appFormGroup appFormGroup--condensed verticalRhythm" ng-if="!gatewayPropertiesConfigureServicesCtrl.isBatchEdit"><div class="appSubHeading verticalRhythm--condensed"><span translate="DEVICE_PROPERTIES_LABEL_SNMP"></span><a class="appMainButton appMainButton--tertiary appMainButton--condensed floatRight" ui-sref="manage.site.settings.services.snmp"><span class="button__icon icon ubnt-icon--link visible--smUp"></span><span translate="DEVICE_PROPERTIES_BUTTON_MANAGE_SNMP"></span></a></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SNMP_LOCATION"></label><input class="input--full" type="text" name="snmpLocation" ng-model="gatewayPropertiesConfigureServicesCtrl.modelCopy.attributes.snmp_location" ng-model-master="gatewayPropertiesConfigureServicesCtrl.model.attributes.snmp_location" ng-pattern="gatewayPropertiesConfigureServicesCtrl.patterns.name" ng-maxlength="gatewayPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_LOCATION_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="gatewayPropertiesConfigureServicesCtrl.form.snmpLocation.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: gatewayPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_LOCATION_LENGTH}"></div></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SNMP_CONTACT"></label><input class="input--full" type="text" name="snmpContact" ng-model="gatewayPropertiesConfigureServicesCtrl.modelCopy.attributes.snmp_contact" ng-model-master="gatewayPropertiesConfigureServicesCtrl.model.attributes.snmp_contact" ng-pattern="apPropertiesConfigureServicesCtrl.patterns.name" ng-maxlength="gatewayPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_CONTACT_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="gatewayPropertiesConfigureServicesCtrl.form.snmpContact.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: gatewayPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_CONTACT_LENGTH}"></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="gatewayPropertiesConfigureServicesCtrl.showValidation = true" busy-toggle="gatewayPropertiesConfigureServicesCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{gatewayPropertiesConfigureServicesCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="gatewayPropertiesConfigureServicesCtrl.reset()" ng-disabled="gatewayPropertiesConfigureServicesCtrl.form.$pristine">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],245:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiGatewayPropertiesDetails",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiGatewayProperties",template:e("./gatewayPropertiesDetails.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"details")}}}])},{"./gatewayPropertiesDetails.pug":246}],246:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section" is-open="gatewayPropertiesCtrl.accordions.details.overview"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_OVERVIEW\' | translate}}</accordion-heading><div ng-if="gatewayPropertiesCtrl.accordions.details.overview"><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow macAddress"><dt>{{\'DEVICE_PROPERTIES_LABEL_MAC_ADDRESS\' | translate}}</dt><dd>{{gatewayPropertiesCtrl.model.get(\'mac\')}}</dd></div><div class="appDescriptionListRow modelName"><dt>{{\'DEVICE_PROPERTIES_LABEL_MODEL\' | translate}}</dt><dd>{{gatewayPropertiesCtrl.deviceStateUtils.getDeviceModelName(gatewayPropertiesCtrl.model)}}</dd></div><div class="appDescriptionListRow version"><dt>{{\'DEVICE_PROPERTIES_LABEL_VERSION\' | translate}}</dt><dd><span ng-if="gatewayPropertiesCtrl.model.get(\'version\')">{{gatewayPropertiesCtrl.model.get(\'version\')}}</span><span ng-if="!gatewayPropertiesCtrl.model.get(\'version\')" translate="DEVICE_PROPERTIES_VALUES_VERSION_NOT_AVAILABLE"></span></dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="gatewayPropertiesCtrl.deviceStatus === \'success\'"><div class="appDescriptionListRow ipAddress"><dt>{{\'DEVICE_PROPERTIES_LABEL_LAN_IP_ADDRESS\' | translate}}</dt><dd>{{gatewayPropertiesCtrl.lanIp}}</dd></div><div class="appDescriptionListRow uptime"><dt>{{\'DEVICE_PROPERTIES_LABEL_UPTIME\' | translate}}</dt><dd>{{gatewayPropertiesCtrl.model.get(\'uptime\') | seconds}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="gatewayPropertiesCtrl.deviceStatus !== \'success\' &amp;&amp; gatewayPropertiesCtrl.model.get(\'last_seen\')"><div class="appDescriptionListRow lastSeen"><dt>{{\'DEVICE_PROPERTIES_LABEL_LAST_SEEN\' | translate}}</dt><dd>{{gatewayPropertiesCtrl.model.get(\'last_seen\') * 1000 | lastSeen}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="gatewayPropertiesCtrl.hasTemperatureForDisplay()"><div class="appDescriptionListRow" ng-repeat="sensorConfig in gatewayPropertiesCtrl.getTemperatureSensorConfigs()" ng-class="\'temperature\' + sensorConfig.sensor.replace(\' \', \'\')"><dt>{{gatewayPropertiesCtrl.temperatureLabels[sensorConfig.sensor] | translate}}</dt><dd><div class="iconText appIconText"><span class="iconText__text">{{gatewayPropertiesCtrl.getSensorTemperature(sensorConfig) | temperature}}</span><span class="iconText__icon appTooltipContainer appTooltipContainer--hoverable" ng-if="sensorConfig.maxTemp !== undefined"><div class="icon" ng-class="gatewayPropertiesCtrl.isSensorTemperatureValid(sensorConfig) ? \'ubnt-icon--check-2\' : \'ubnt-icon--alert-fill warning\'"></div><div class="appTooltip" ng-if="!gatewayPropertiesCtrl.isSensorTemperatureValid(sensorConfig)" translate="DEVICE_PROPERTIES_NOTICE_OVERHEATING_VENTILATION"></div></span><span class="iconText__icon icon ubnt-icon--check-2" ng-if="sensorConfig.maxTemp === undefined"></span></div></dd></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="gatewayPropertiesCtrl.showEliteAccordion" is-open="gatewayPropertiesCtrl.accordions.details.elite"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_ELITE\' | translate}}</accordion-heading><unifi-device-properties-elite ng-if="gatewayPropertiesCtrl.accordions.details.elite" unifi-device-properties-elite-model="gatewayPropertiesCtrl.model"></unifi-device-properties-elite></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-repeat="port in [\'wan1\', \'wan2\']" ng-if="gatewayPropertiesCtrl.isNetworkgroupUp(port) &amp;&amp; gatewayPropertiesCtrl.uplinkAttrs[port]" is-open="gatewayPropertiesCtrl.accordions.details[port]"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_WAN\' | translate}} {{port.replace(\'wan\', \'\')}}</accordion-heading><div ng-if="gatewayPropertiesCtrl.accordions.details[port]"><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow uplinkIpAddress"><dt>{{\'DEVICE_PROPERTIES_LABEL_IP_ADDRESS\' | translate}}</dt><dd>{{gatewayPropertiesCtrl.uplinkAttrs[port].ip}}</dd></div><div class="appDescriptionListRow uplinkSpeed"><dt>{{\'DEVICE_PROPERTIES_LABEL_SPEED\' | translate}}</dt><dd>{{gatewayPropertiesCtrl.uplinkAttrs[port].speed}}</dd></div><div class="appDescriptionListRow uplinkDuplex"><dt>{{\'DEVICE_PROPERTIES_LABEL_DUPLEX\' | translate}}</dt><dd>{{gatewayPropertiesCtrl.uplinkAttrs[port].full_duplex ? \'DEVICE_PROPERTIES_VALUES_DUPLEX_FULL\' : \'DEVICE_PROPERTIES_VALUES_DUPLEX_HALF\' | translate}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow uplinkDownPktsBytes"><dt>{{\'DEVICE_PROPERTIES_LABEL_DOWN_PKTS_BYTES\' | translate}}</dt><dd>{{gatewayPropertiesCtrl.uplinkAttrs[port].rx_packets && gatewayPropertiesCtrl.uplinkAttrs[port].rx_bytes ? (gatewayPropertiesCtrl.uplinkAttrs[port].rx_packets | numberToString) + \' / \' + (gatewayPropertiesCtrl.uplinkAttrs[port].rx_bytes | bytes) : \'0.00 / 0.00\'}}</dd></div><div class="appDescriptionListRow uplinkUpPktsBytes"><dt>{{\'DEVICE_PROPERTIES_LABEL_UP_PKTS_BYTES\' | translate}}</dt><dd>{{gatewayPropertiesCtrl.uplinkAttrs[port].tx_packets && gatewayPropertiesCtrl.uplinkAttrs[port].tx_bytes ? (gatewayPropertiesCtrl.uplinkAttrs[port].tx_packets | numberToString) + \' / \' + (gatewayPropertiesCtrl.uplinkAttrs[port].tx_bytes | bytes) : \'0.00 / 0.00\'}}</dd></div><div class="appDescriptionListRow uplinkDownActivity"><dt>{{\'DEVICE_PROPERTIES_LABEL_DOWN_ACTIVITY\' | translate}}</dt><dd>{{gatewayPropertiesCtrl.uplinkAttrs[port][\'rx_bytes-r\'] | bps:{convertFromBytes:true} }}</dd></div><div class="appDescriptionListRow uplinkUpActivity"><dt>{{\'DEVICE_PROPERTIES_LABEL_UP_ACTIVITY\' | translate}}</dt><dd>{{gatewayPropertiesCtrl.uplinkAttrs[port][\'tx_bytes-r\'] | bps:{convertFromBytes:true} }}</dd></div></div></div></accordion-group></accordion>'}},{"pug-runtime":2}],247:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("GatewayPropertiesNetworkListController",["BasePaginatedListController","CollectionView","preferences",function(e,t,i){return new(function(t){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.rowsPerPage=i.model.getRowsPerPropertyPanel(),e.defaultSortBy="ip",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"getCollection",value:function(){return this.networks}},{key:"onPageSizeChange",value:function(){}}]),n}())}])},{}],248:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiGatewayPropertiesNetworkList",["PaginatedListDirective",function(t){return new t("gatewayPropertiesNetwork",e("./gatewayPropertiesNetworkList.pug")(),{networks:"=unifiGatewayPropertiesNetworkListCollection"})}])},{"./gatewayPropertiesNetworkList.pug":249}],249:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiPanelItemContent__section appScrollable flexFlag__body fullWidth"><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent" collection-view-sort="gatewayPropertiesNetworkListCtrl.view"><thead><tr><th class="networkName" collection-view-sort-by="name"><span translate="DEVICE_PROPERTIES_GATEWAY_NETWORKS_TABLE_HEADER_NETWORK"></span></th><th class="networkIp" collection-view-sort-by="ip"><span translate="DEVICE_PROPERTIES_GATEWAY_NETWORKS_TABLE_HEADER_IP"></span></th><th class="networkTx" collection-view-sort-by="tx_bytes"><span translate="DEVICE_PROPERTIES_GATEWAY_NETWORKS_TABLE_HEADER_TX"></span></th><th class="networkRx" collection-view-sort-by="rx_bytes"><span translate="DEVICE_PROPERTIES_GATEWAY_NETWORKS_TABLE_HEADER_RX"></span></th><th class="networkNumClients" collection-view-sort-by="num_sta"><span translate="DEVICE_PROPERTIES_GATEWAY_NETWORKS_TABLE_HEADER_NUM_CLIENTS"></span></th></tr></thead><tfoot ng-if="gatewayPropertiesNetworkListCtrl.view.getModels().length"><tr><td colspan="5"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="gatewayPropertiesNetworkListCtrl.currentPage" unifi-micro-pagination-rows-per-page="gatewayPropertiesNetworkListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="gatewayPropertiesNetworkListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="model in gatewayPropertiesNetworkListCtrl.view.getModels(),          startFrom (gatewayPropertiesNetworkListCtrl.currentPage - 1) * gatewayPropertiesNetworkListCtrl.rowsPerPage,          limitTo gatewayPropertiesNetworkListCtrl.rowsPerPage" data-id="{{::model.id}}"><td class="networkName">{{::model.get(\'name\')}}</td><td class="networkIp">{{::model.get(\'ip\')}}</td><td class="networkTx">{{::model.get(\'tx_bytes\') | bytes}}</td><td class="networkRx">{{::model.get(\'rx_bytes\') | bytes}}</td><td class="networkNumClients">{{::model.get(\'num_sta\')}}</td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!gatewayPropertiesNetworkListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_GATEWAY_NETWORKS_TABLE_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":2}],250:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var o=lazyRequire.get("BaseFormController");angular.module("app-unifi-manage-property-panel").controller("GatewayPropertiesPortFormController",["_","$translate","apiResults","deviceUtils","gatewayUtils","heyToasts","modelDivergence","networks","PortCollection","PORT_PROFILE_DEFAULTS",function(e,t,i,s,a,l,p,c,d,u){return new(function(g){function f(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,p));return e.portsCopy=new d([]),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,o),r(f,[{key:"init",value:function(){var e=c.getNetworkGroups();e.unshift(c.DISABLED_NETWORK_GROUP),this.networkGroups=e,this.networksValid=this.areNetworksValid(),this.isLinkNegotiationsDefault=this.areLinkNegotiationsDefault()}},{key:"updatePortCollection",value:function(e){e?(this.ports=e,this.portsCopy=this.ports.deepCopy(),this.updateLinkNegotiations()):this.portsCopy.reset([])}},{key:"updateDevice",value:function(e){this.device=e,this.updateLinkNegotiations()}},{key:"updateLinkNegotiations",value:function(){var e=this;this.linkNegotiations={},this.device&&this.portsCopy&&this.portsCopy.forEach(function(t){var i=t.get("ifname")||"";e.linkNegotiations[i]=a.getLinkNegotiations(e.device,i)})}},{key:"isNetworkgroupAssigned",value:function(t){var i=e.findWhere(this.networkGroups,{id:t});return!(!i||!this.portsCopy.findWhere({networkgroup:i.id}))}},{key:"areNetworksValid",value:function(){return this.isNetworkgroupAssigned("LAN")&&this.isNetworkgroupAssigned("WAN")}},{key:"areLinkNegotiationsDefault",value:function(){return!this.portsCopy.find(function(e){return"autoneg"!==e.get("linkNegotiation")})}},{key:"save",value:function(){var e=this,r=this.portsCopy.reduce(function(e,t){var i=t.get("networkgroup");return i!==c.DISABLED_NETWORK_GROUP.id?[].concat(n(e),[{ifname:t.get("ifname"),networkgroup:i}]):e},[]),o=this.portsCopy.reduce(function(t,i){var r=i.get("ifname")||"",n=u.linkNegotiationOptions[i.get("linkNegotiation")]||{},o=e.linkNegotiations&&e.linkNegotiations[r]||{};return o.bindWith||t.push({port_idx:o.portIdx,autoneg:n.autoneg,speed:n.speed,full_duplex:n.full_duplex}),t},[]);return s.saveDevice(this.device,{ethernet_overrides:r,port_overrides:o},{wait:!0}).then(function(){return l.pushSuccess(t.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:t.instant("DEVICE_PROPERTIES_TAB_PORTS").toLowerCase()})),e.device.get("ethernet_overrides").reset(r),e.device.fetch().then(function(){return e.ports&&e.ports.reset([].concat(n(e.portsCopy.models))),e.reset(),!0})}).catch(function(e){return l.pushError(i.appendErrorMsg(t.instant("COMMON_NOTICE_SAVE_ERROR",{section:t.instant("DEVICE_PROPERTIES_TAB_PORTS").toLowerCase()}),e)),!1}).finally(function(){e.isSubmitting=!1})}},{key:"onPortAssigned",value:function(){this.networksValid=this.areNetworksValid()}},{key:"onLinkNegotiationLinkNegotiation",value:function(e){var t=this;Object.keys(this.linkNegotiations||{}).map(function(e){return t.linkNegotiations[e]}).filter(function(t){return t.bindWith===e.get("ifname")}).map(function(e){return e.ifname}).forEach(function(i){return t.portsCopy.get(i).set("linkNegotiation",e.get("linkNegotiation"))}),this.isLinkNegotiationsDefault=this.areLinkNegotiationsDefault()}},{key:"getPortRows",value:function(){return this.portRows}},{key:"getPortLabel",value:function(e){return a.getPortLabel(this.device,e)}},{key:"getAvailablePortNetworkgroups",value:function(e){var t=e.get("networkgroup"),i=this.portsCopy.pluck("networkgroup").filter(function(e){return e!==c.DISABLED_NETWORK_GROUP.id&&e!==t});return this.networkGroups.filter(function(e){return-1===i.indexOf(e.id)})}},{key:"getLinkNegotiationSupportedValues",value:function(e){var t=e.get("ifname")||"";return(this.linkNegotiations[t]||{}).supportedValues}},{key:"isLinkNegotiationSupported",value:function(e){var t=e.get("ifname")||"";return!!(this.linkNegotiations[t]||{}).portIdx}},{key:"isLinkNegotiationBinded",value:function(e){var t=e.get("ifname")||"";return!!(this.linkNegotiations[t]||{}).bindWith}},{key:"getLinkNegotiationTranslation",value:function(e){var i=u.linkNegotiationOptions[e]||{};return t.instant(i.label,{speed:i.speed})}},{key:"reset",value:function(){this.updatePortCollection(this.ports),this.showValidation=!1,this.networksValid=this.areNetworksValid(),this.isLinkNegotiationsDefault=this.areLinkNegotiationsDefault(),this.form&&(this.form.$setPristine(),this.form.$setUntouched())}}]),f}())}])},{}],251:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiGatewayPropertiesPortForm",[function(){return{scope:{device:"=unifiGatewayPropertiesPortFormDevice",ports:"=unifiGatewayPropertiesPortFormPorts",onSave:"&unifiGatewayPropertiesPortFormOnSave",onCancel:"&unifiGatewayPropertiesPortFormOnCancel",isLinkNegotiationsDefault:"=unifiGatewayPropertiesPortFormIsLinkNegotiationsDefault",isOpen:"=unifiGatewayPropertiesPortFormIsOpen",isReadOnly:"=unifiGatewayPropertiesPortFormIsReadOnly",networksValid:"=unifiGatewayPropertiesPortFormNetworksValid"},bindToController:{isLinkNegotiationsDefault:"=unifiGatewayPropertiesPortFormIsLinkNegotiationsDefault",networksValid:"=unifiGatewayPropertiesPortFormNetworksValid"},controller:"GatewayPropertiesPortFormController",controllerAs:"gatewayPropertiesPortFormCtrl",template:e("./gatewayPropertiesPortForm.pug")(),link:function(e,t,i,r){e.directiveId=e.$id,e.onSubmit=function(t){!0===t&&e.onSave()};var n=e.$watch("ports",function(e){e&&(r.updatePortCollection(e),n())}),o=e.$watch("device",function(e){e&&(r.updateDevice(e),o())}),s=e.$watch(function(){return!(!r.ports||!r.device)},function(e){e&&(r.init(),s())});e.$on("$destroy",function(){r.removeEventHandlers()})}}}])},{"./gatewayPropertiesPortForm.pug":252}],252:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="gatewayPropertiesPortFormCtrl.form" ng-class="{    \'is-form-validation-visible\': gatewayPropertiesPortFormCtrl.showValidation,    \'is-validation-hidden\': !gatewayPropertiesPortFormCtrl.showValidation  }" ng-submit="gatewayPropertiesPortFormCtrl.form.$valid &amp;&amp; gatewayPropertiesPortFormCtrl.areNetworksValid() &amp;&amp; gatewayPropertiesPortFormCtrl.save().then(onSubmit)"><div unifi-initialize-when="gatewayPropertiesPortFormCtrl.ports"><unifi-config-changed unifi-config-changed-on-reset="gatewayPropertiesPortFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="gatewayPropertiesPortFormCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; gatewayPropertiesPortFormCtrl.form.$error.divergent"></unifi-config-changed><h4 class="panelTitle"><span translate="DEVICE_PROPERTIES_GATEWAY_LABEL_CONFIGURE_PORTS"></span></h4><fieldset class="appFieldset appFieldset--quiet"><div class="appRow appFormGroup appFormGroup--cozy" ng-repeat="portModel in gatewayPropertiesPortFormCtrl.portsCopy.models" ng-disabled="isReadOnly"><div class="col--xs6"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_PORT_NUMBER" translate-values="{portLabel: gatewayPropertiesPortFormCtrl.getPortLabel(portModel)}"></label><label class="appDisplaySpaceBefore" translate="DEVICE_PROPERTIES_LABEL_PORT_NETWORK"></label><div class="appInputGroup"><select class="select--full" name="\'networkConfig{{$index}}" ng-model="portModel.attributes.networkgroup" ng-options="networkgroup.id as (networkgroup.label | translate) for networkgroup in gatewayPropertiesPortFormCtrl.getAvailablePortNetworkgroups(portModel)" ng-change="gatewayPropertiesPortFormCtrl.onPortAssigned()"></select></div></div><div class="col--xs6" ng-if="gatewayPropertiesPortFormCtrl.isLinkNegotiationSupported(portModel)"><label translate="DEVICE_PROPERTIES_LABEL_SPEED_DUPLEX"></label><div class="appInputGroup"><select class="select--full" name="linkNegotiationConfig{{$index}}" ng-model="portModel.attributes.linkNegotiation" ng-options="linkNegotiation as gatewayPropertiesPortFormCtrl.getLinkNegotiationTranslation(linkNegotiation) for linkNegotiation in gatewayPropertiesPortFormCtrl.getLinkNegotiationSupportedValues(portModel)" ng-disabled="gatewayPropertiesPortFormCtrl.isLinkNegotiationBinded(portModel)" ng-change="gatewayPropertiesPortFormCtrl.onLinkNegotiationLinkNegotiation(portModel)"></select></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed savePort" ng-if="!isReadOnly" ng-click="gatewayPropertiesPortFormCtrl.showValidation = true" busy-toggle="gatewayPropertiesPortFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--condensed resetPort" type="button" ng-if="!isReadOnly" ng-click="gatewayPropertiesPortFormCtrl.reset()">{{\'COMMON_ACTIONS_RESET_TO_DEFAULTS\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--condensed cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],253:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("GatewayPropertiesPortListController",["account","BaseListController","gatewayUtils","networks","PortCollection","PortModel","PORT_PROFILE_DEFAULTS",function(e,t,i,n,o,s,a){return new(function(l){function p(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return t.skipInitialization=!0,t.isAdmin=e.isAdmin.bind(e),t.portCollection=new o,t.createPortCollection=t.createPortCollection.bind(t),t.listener=n.repository.collection.onUpdate(t.createPortCollection),t.defaultSortBy="ifname",t.networksValid=!0,t.isLinkNegotiationsDefault=!0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,t),r(p,[{key:"removeListeners",value:function(){this.listener.stopListening()}},{key:"updateModel",value:function(e){this.model=e,this.createPortCollection()}},{key:"updateCollection",value:function(e){this.ports=e,this.createPortCollection()}},{key:"createPortCollection",value:function(){var e=this;if(this.ports&&this.model){var t=n.getNetworkGroups();this.destroyView();var r=this.model.get("ethernet_overrides"),o=this.model.get("port_overrides"),l=(this.ports.models.length?this.ports.models:i.getPortIfNames(e.model).map(function(e){return new s(Object.assign({},{ifname:e,attributes:{},up:!1,enable:!1}))})).map(function(l){var p=r.findWhere({ifname:l.get("ifname")}),c=p?t.find(function(e){return e.id===p.get("networkgroup")}):null,d=new s(Object.assign({},{port_idx:l.get("ifname")},l.attributes));d.set("networkgroup",c?c.id:n.DISABLED_NETWORK_GROUP.id),d.set("networkgroupLabel",c?c.label:n.DISABLED_NETWORK_GROUP.label);var u=i.getLinkNegotiations(e.model,l.get("ifname")),g=o&&o.findWhere({port_idx:u.portIdx}),f=Object.keys(a.linkNegotiationOptions).map(function(e){return a.linkNegotiationOptions[e]}).find(function(e){return g&&!1===g.get("autoneg")?g.get("speed")===e.speed&&g.get("full_duplex")===e.full_duplex:e.autoneg});return d.set("linkNegotiation",f.id),d.set("linkNegotiationLabel",f.label),d.set("linkNegotiationSpeed",f.speed),u.supportedValues&&0!==u.supportedValues.length||d.set("linkNegotiationLabel","DEVICE_PROPERTIES_GATEWAY_LINK_NEGOTIATION_AUTO"),d});this.portCollection.reset(l),this.initView()}}},{key:"getCollection",value:function(){return this.portCollection}},{key:"getPortLabel",value:function(e){return i.getPortLabel(this.model,e)}},{key:"cancelEdit",value:function(){this.showEditForm=!1,this.networksValid=!0,this.createPortCollection()}},{key:"edit",value:function(){this.showEditForm=!0}}]),p}())}])},{}],254:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiGatewayPropertiesPortList",["deviceFeatureUtils","gatewayUtils",function(){return{scope:{model:"=unifiGatewayPropertiesPortListModel",ports:"=unifiGatewayPropertiesPortListPorts",isEditingPorts:"=?unifiGatewayPropertiesPortListIsEditingPorts"},controller:"GatewayPropertiesPortListController",controllerAs:"gatewayPropertiesPortListCtrl",restrict:"E",replace:!0,template:e("./gatewayPropertiesPortList.pug")(),link:function(e,t,i,r){e.$watch("model",function(e){return r.updateModel(e)}),e.$watch("ports",function(e){r.updateCollection(e)}),e.$watch(function(){return r.showEditForm},function(t){e.isEditingPorts=!!t}),e.$on("$destroy",function(){r.destroyView(),r.removeListeners()})}}}])},{"./gatewayPropertiesPortList.pug":255}],255:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div><div class="appInfoBox appInfoBox--danger appInfoBox--cozy appInfoBox--collapsible is-app-info-box-collapsed verticalRhythm--condensed" ng-if="!gatewayPropertiesPortListCtrl.networksValid"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="DEVICE_PROPERTIES_GATEWAY_ERROR_LAN_NOT_ASSIGNED"></div></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--collapsible is-app-info-box-collapsed verticalRhythm--condensed" ng-if="gatewayPropertiesPortListCtrl.showEditForm &amp;&amp; !gatewayPropertiesPortListCtrl.isLinkNegotiationsDefault"><div class="appInfoBox__icon icon ubnt-icon--alert-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="DEVICE_PROPERTIES_GATEWAY_WARNING_LEAVE_DEFAULT"></div></div></div><div class="unifiPanelItemContent__section appScrollable flexFlag__body fullWidth"><unifi-gateway-properties-port-form ng-if="gatewayPropertiesPortListCtrl.showEditForm" unifi-gateway-properties-port-form-device="gatewayPropertiesPortListCtrl.model" unifi-gateway-properties-port-form-ports="gatewayPropertiesPortListCtrl.getCollection()" unifi-gateway-properties-port-form-on-save="gatewayPropertiesPortListCtrl.cancelEdit()" unifi-gateway-properties-port-form-on-cancel="gatewayPropertiesPortListCtrl.cancelEdit()" unifi-gateway-properties-port-form-is-link-negotiations-default="gatewayPropertiesPortListCtrl.isLinkNegotiationsDefault" unifi-gateway-properties-port-form-is-read-only="!gatewayPropertiesPortListCtrl.isAdmin()" unifi-gateway-properties-port-form-is-open="isOpen" unifi-gateway-properties-port-form-networks-valid="gatewayPropertiesPortListCtrl.networksValid"></unifi-gateway-properties-port-form><div ng-if="!gatewayPropertiesPortListCtrl.showEditForm"><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent appForm appForm--cozy"><thead><tr><th class="portInterface"><span translate="DEVICE_PROPERTIES_GATEWAY_PORTS_TABLE_HEADER_INTERFACE"></span></th><th class="portStatus alignCenter appTableCell--smash"><span translate="DEVICE_PROPERTIES_GATEWAY_PORTS_TABLE_HEADER_STATUS"></span></th><th class="portLogicalInterface"><span translate="DEVICE_PROPERTIES_GATEWAY_PORTS_TABLE_HEADER_PARENT_NETWORK"></span></th><th class="portLinkNegotiation"><span translate="DEVICE_PROPERTIES_GATEWAY_PORTS_TABLE_HEADER_LINK_NEGOTIATION"></span></th></tr></thead><tfoot'+r("unifi-if-role-admin",!0,!0,!0)+'><td colspan="4"><button class="appMainButton appMainButton--tertiary appMainButton--condensed verticalRhythmTop--condensed editBatchPorts"'+r("unifi-if-role-admin",!0,!0,!0)+' ng-click="gatewayPropertiesPortListCtrl.edit()"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="DEVICE_PROPERTIES_GATEWAY_LABEL_CONFIGURE_PORTS"></span></button></td></tfoot><tbody><tr collection-view-repeat="model in gatewayPropertiesPortListCtrl.view.getModels()" ng-attr-id="portRow{{gatewayPropertiesPortListCtrl.model.get(\'_id\')}}-{{::model.get(\'port_idx\')}}"><td class="portName appTableCell--truncated">{{::gatewayPropertiesPortListCtrl.getPortLabel(model)}}</td><td class="portStatus alignCenter appTableCell--smash"><div class="unifiDevicePortDiagramPort positionRelative" ng-mouseenter="isActive = true" ng-mouseleave="isActive = false"><unifi-switch-port-diagram unifi-switch-port-diagram-port-model="model" unifi-switch-port-diagram-is-round="true" unifi-switch-port-diagram-fixed-size="cozy"></unifi-switch-port-diagram><unifi-switch-port-tooltip class="positionCenter noPointerEvents"'+r("unifi-position-absolutely",!0,!0,!0)+' ng-if="isActive" unifi-switch-port-tooltip-device-model="gatewayPropertiesPortListCtrl.model" unifi-switch-port-tooltip-port-model="model" unifi-switch-port-tooltip-position="$index &lt; gatewayPropertiesPortListCtrl.view.getModels().length / 2 ? \'bottomCenter\' : \'topCenter\'"></unifi-switch-port-tooltip></div></td><td class="portName appTableCell--truncated" translate="{{model.get(\'networkgroupLabel\')}}"></td><td class="portLinkNegotiation" translate="{{model.get(\'linkNegotiationLabel\')}}" translate-values="{speed: model.get(\'linkNegotiationSpeed\')}"></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!gatewayPropertiesPortListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_EMPTY"></p></div></div></div></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],256:[function(e,t,i){"use strict";var r=e("../../controllers/BasePropertiesController");function n(e,t,i,n,o,s,a,l){this.heyToasts=s,this.streams=l,this.accordions={details:{overview:!0}},r.call(this,e,t,i,a,n,o)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.resolve=function(){return this.streams.repository.register().fetch()},n.prototype.destroy=function(){this.streams.repository.unregister()},n.prototype.terminateStream=function(e){this.isTerminating=!0,this.streams.terminateStream(e).then(function(e){this.heyToasts.pushSuccess(e)}.bind(this)).catch(function(e){this.heyToasts.pushError(e)}.bind(this)).finally(function(){this.isTerminating=!1}.bind(this))},n.$inject=["$q","$timeout","$translate","account","frame","heyToasts","propertyPanel","streams"],angular.module("app-unifi-manage-property-panel").controller("StreamPropertiesController",n)},{"../../controllers/BasePropertiesController":303}],257:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiStreamProperties",["updateModelDirectiveMixin",function(t){return{controller:"StreamPropertiesController",controllerAs:"streamPropertiesCtrl",scope:{model:"=unifiStreamProperties"},template:e("./streamProperties.pug")(),link:function(e,i,r,n){e.$on("$destroy",function(){n.destroy(),n.removeEventHandlers()}),t.init(e,i,r,n,!0)}}}])},{"./streamProperties.pug":258}],258:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiPanelItem streamProperties" ng-class="{\'is-collapsed\': streamPropertiesCtrl.isCollapsed()}" ng-if="streamPropertiesCtrl.model"><unifi-loading-status unifi-loading-status-is-loading="streamPropertiesCtrl.isLoading" unifi-loading-status-failed="streamPropertiesCtrl.failedToLoad" unifi-loading-status-retry="streamPropertiesCtrl.init()"></unifi-loading-status><div class="unifiPanelItemHeader"><div class="unifiPanelItemHeader__collapseToggle"><div class="appActionIcon" ng-click="streamPropertiesCtrl.toggleCollapsed()"><span class="button__icon icon" ng-class="{            \'unifi-icon--default-collapse\': !streamPropertiesCtrl.isCollapsed(),            \'unifi-icon--default-expand\': streamPropertiesCtrl.isCollapsed()          }"></span></div></div><div class="unifiPanelItemHeader__avatar"><div unifi-stream-icon="::streamPropertiesCtrl.model"></div></div><div class="unifiPanelItemHeader__title truncate"><span>{{streamPropertiesCtrl.model.getDisplayName()}}</span></div><div class="unifiPanelItemHeader__actions"><div class="appActionIconGroup"><div class="appActionIcon"'+r("unifi-if-role-admin",!0,!0,!0)+' ng-click="streamPropertiesCtrl.terminateStream(model)" title="{{\'STREAM_ACTIONS_TERMINATE\' | translate}}"><span class="button__icon icon" ng-class="{              \'ubnt-icon--link-broken\': !streamPropertiesCtrl.isTerminating,              \'ubnt-icon--clock-2\': streamPropertiesCtrl.isTerminating            }"></span></div><div class="appActionIcon visible--mdUp" ng-click="streamPropertiesCtrl.toggleUndocked()" title="{{streamPropertiesCtrl.isUndocked() ? \'COMMON_PROPERTY_PANEL_ITEM_DOCK\' : \'COMMON_PROPERTY_PANEL_ITEM_UNDOCK\' | translate}}"><span class="button__icon icon" ng-class="{              \'ubnt-icon--header-maximize\': !streamPropertiesCtrl.isUndocked(),              \'ubnt-icon--header-minimize\': streamPropertiesCtrl.isUndocked()            }"></span></div><div class="appActionIcon removePanelItem" ng-click="streamPropertiesCtrl.removePanel()" title="{{\'COMMON_PROPERTY_PANEL_ITEM_REMOVE\' | translate}}"><span class="button__icon icon unifi-icon--default-close"></span></div></div></div></div><div class="unifiPanelItemBody"><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static"><ul class="appTabs appTabs--compressed appTabs--alignLeft"><li class="tabs__item" ng-repeat="tabItem in [\'details\', \'devices\']" ng-click="streamPropertiesCtrl.setActiveTab(tabItem)" ng-class="{            \'is-tab-selected\': streamPropertiesCtrl.getActiveTab() === tabItem,            \'is-tab-loading\': streamPropertiesCtrl.loadingTab === tabItem          }">{{\'STREAM_PROPERTIES_TAB_\' + tabItem | uppercase | translate}}</li></ul></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--flexible"><div class="unifiPanelItemContent"><div class="streamPropertiesDetails" ng-if="streamPropertiesCtrl.isTabAvailable(\'details\') &amp;&amp; streamPropertiesCtrl.getActiveTab() === \'details\'"'+r("unifi-stream-properties-details",!0,!0,!0)+'></div><div class="streamPropertiesDevices" ng-if="streamPropertiesCtrl.isTabAvailable(\'devices\') &amp;&amp; streamPropertiesCtrl.getActiveTab() === \'devices\'"><unifi-stream-properties-device-list unifi-stream-properties-device-list-stream-id="streamPropertiesCtrl.model.id"></unifi-stream-properties-device-list></div></div></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],259:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiStreamPropertiesDetails",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiStreamProperties",template:e("./streamPropertiesDetails.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"details")}}}])},{"./streamPropertiesDetails.pug":260}],260:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section" is-open="streamPropertiesCtrl.accordions.details.overview"><accordion-heading>{{\'STREAM_PROPERTIES_SECTION_DETAILS_OVERVIEW\' | translate}}</accordion-heading><div ng-if="streamPropertiesCtrl.accordions.details.overview"><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow streamId"><dt>{{\'STREAM_PROPERTIES_LABEL_ID\' | translate}}</dt><dd>{{streamPropertiesCtrl.model.get(\'streamId\')}}</dd></div><div class="appDescriptionListRow streamNumberOfDevices"><dt>{{\'STREAM_PROPERTIES_LABEL_NUMBER_OF_DEVICES\' | translate}}</dt><dd>{{streamPropertiesCtrl.model.get(\'devices\').length}}</dd></div><div class="appDescriptionListRow streamReady"><dt>{{\'STREAM_PROPERTIES_LABEL_READY\' | translate}}</dt><dd>{{streamPropertiesCtrl.model.get(\'ready\') | yesOrNo}}</dd></div><div class="appDescriptionListRow streamStreaming"><dt>{{\'STREAM_PROPERTIES_LABEL_STREAMING\' | translate}}</dt><dd>{{streamPropertiesCtrl.model.get(\'streaming\') | yesOrNo}}</dd></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section" is-open="streamPropertiesCtrl.accordions.details.quality"><accordion-heading>{{\'STREAM_PROPERTIES_SECTION_DETAILS_QUALITY\' | translate}}</accordion-heading><div ng-if="streamPropertiesCtrl.accordions.details.quality"><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow streamQuality"><dt>{{\'STREAM_PROPERTIES_LABEL_ENCODING_QUALITY\' | translate}}</dt><dd>{{streamPropertiesCtrl.model.get(\'quality\') | streamEncodingQuality}}</dd></div><div class="appDescriptionListRow streamQuality"><dt>{{\'STREAM_PROPERTIES_LABEL_RATE\' | translate}}</dt><dd>{{streamPropertiesCtrl.model.get(\'rate\')}}</dd></div><div class="appDescriptionListRow streamQuality"><dt>{{\'STREAM_PROPERTIES_LABEL_CHANNELS\' | translate}}</dt><dd translate="STREAM_PROPERTIES_LABEL_CHANNELS_NUMBER" translate-values="{channels: streamPropertiesCtrl.model.get(\'channel\')}" translate-interpolation="messageformat"></dd></div></div></div></accordion-group></accordion>'}},{"pug-runtime":2}],261:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("StreamPropertiesDeviceListController",["BasePaginatedListController","devices","streams","StreamDeviceFilter","streamDevicesComparator","preferences",function(e,t,i,n,o,s){return new(function(a){function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.comparator=o,e.filter=new n,e.rowsPerPage=s.model.getRowsPerPropertyPanel(),e.defaultSortBy="name",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,e),r(l,[{key:"initFilters",value:function(){this.filter.setStreamFilter(this.streamId)}},{key:"getCollection",value:function(){return i.streamDevicesCollection}},{key:"getDevice",value:function(e){return t.repository.collection.get(e.get("mac"))}},{key:"onPageSizeChange",value:function(){}}]),l}())}])},{}],262:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiStreamPropertiesDeviceList",["PaginatedListDirective",function(t){return new t("streamPropertiesDevice",e("./streamPropertiesDeviceList.pug")(),{streamId:"=unifiStreamPropertiesDeviceListStreamId"})}])},{"./streamPropertiesDeviceList.pug":263}],263:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiPanelItemContent__section appScrollable flexFlag__body fullWidth"><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent" collection-view-sort="streamPropertiesDeviceListCtrl.view"><thead><tr><th class="streamDevice" collection-view-sort-by="device"><span translate="STREAM_PROPERTIES_DEVICES_TABLE_HEADER_DEVICE"></span></th><th class="streamDeviceConnected" collection-view-sort-by="connected"><span translate="STREAM_PROPERTIES_DEVICES_TABLE_HEADER_CONNECTED"></span></th></tr></thead><tfoot ng-if="streamPropertiesDeviceListCtrl.view.getModels().length"><tr><td colspan="2"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="streamPropertiesDeviceListCtrl.currentPage" unifi-micro-pagination-rows-per-page="streamPropertiesDeviceListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="streamPropertiesDeviceListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="model in streamPropertiesDeviceListCtrl.view.getModels(),            startFrom (streamPropertiesDeviceListCtrl.currentPage - 1) * streamPropertiesDeviceListCtrl.rowsPerPage,            limitTo streamPropertiesDeviceListCtrl.rowsPerPage" ng-init="device = streamPropertiesDeviceListCtrl.getDevice(model)" data-id="{{::device.id}}" data-device-type="{{::device.get(\'type\')}}" unifi-open-panel="device" unifi-open-panel-active-tab="\'details\'"><td class="streamDevice"><span ng-if="!device">{{::model.get(\'mac\')}}</span><span ng-if="device">{{::device.getDisplayName()}}</span></td><td class="streamDeviceConnected">{{::model.get(\'connected\') | yesOrNo}}</td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!streamPropertiesDeviceListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="STREAM_PROPERTIES_DEVICES_TABLE_EMPTY_NO_USERS"></p></div></div></div></div>'}},{"pug-runtime":2}],264:[function(e,t,i){"use strict";var r=e("../../controllers/BasePropertiesController");function n(e,t,i,n,o,s,a,l,p,c,d,u,g,f,h,m,v,C,P,_){s(this),p(this),this.$timeout=t,this.PortCollection=n,this.deviceFeatureUtils=a,this.deviceModelUtils=l,this.devices=c,this.deviceStateUtils=d,this.deviceUplinkUtils=u,this.repositoryUtils=h,this.switches=m,this.switchUtils=v,this.translateResolver=C,this.DEVICE_STATES=P,this.DEVICE_MODELS=_,this.isNumber=angular.isNumber,this.isSaveQueued=!0,this.modelChangeEvent="change change:port_table[*]",this.initChange=!0,this.accordions={details:{overview:!0},configure:{general:!0},tools:{terminal:!0}},this.validators={warnings:void 0},this.repositories=["networks","switches","radius","tags"],r.call(this,e,t,i,f,o,g)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.resolve=function(){return this.$q.all(this.repositoryUtils.registerAndFetchGroup(this.repositories),this.translateResolver.resolve("settings"))},n.prototype.destroy=function(){this.destroyBatchEditModel(),this.repositoryUtils.unregisterGroup(this.repositories)},n.prototype.reset=function(){this.deviceState=void 0,this.deviceStatus=void 0,this.hasSfpPorts=void 0,this.uplinkAttrs={},this.totalPower=0,this.isSimpleFan=!1,this.fanOnLevel=void 0,this.isPoeSupported=void 0,this.hasUplink=!1,this.hasDownlinks=!1,this.tabsVisibility={clients:!1,ports:!1,configure:!1,tools:!1,stats:!0,adopt:!1,alerts:!1},this.showPSUAccordion=!1,this.showDownlinksAccordion=!1,this.showCancelMigrateAccordion=!1,this.showTerminalAccordion=!1,this.showCancelMigrateAccordion=!1},n.prototype.updateModel=function(e){!this.model||e&&this.model.id===e.id||!this.getBatchEditId()||this.destroyBatchEditModel(),r.prototype.updateModel.apply(this,arguments),this.model&&(this.initBatchEditModel("batch:ports:"+this.model.id,"batch:ports",this.PortCollection),this.useBatchEditId("batch:ports:"+this.model.id))},n.prototype.onModelChange=function(){if(this.persistAdoptTab=this.tabsVisibility.adopt&&this.deviceStateUtils.getRawDeviceState(this.model)===this.DEVICE_STATES.ADOPTING,this.reset(),this.model){this.deviceState=this.deviceStateUtils.getDeviceState(this.model),this.deviceStatus=this.deviceStateUtils.getDeviceStatus(this.model);var e=this.switchUtils.getPortNumbers(this.model);this.hasSfpPorts=e.sfp.length+e.plus.length>0,this.uplinkAttrs=this.deviceUplinkUtils.getUplinkAttrs(this.model),this.totalPower=this.switchUtils.getTotalPower(this.model),this.isSimpleFan=this.deviceFeatureUtils.isSimpleFan(this.model),this.fanOnLevel=this.deviceFeatureUtils.getFanOnLevel(this.model),this.isPoeSupported=!0===this.deviceModelUtils.getModelFeature(this.model,"poe"),this.hasUplink=angular.isObject(this.model.get("uplink"))&&!angular.equals({},this.model.get("uplink")),this.hasDownlinks=this.model.get("downlink_table")&&this.model.get("downlink_table").length>0,this.showDownlinksAccordion="success"===this.deviceStatus,this.showPSUAccordion=!!this.model.get("psu_table")&&this.model.get("psu_table").length>0,this.showCancelMigrateAccordion=!!this.deviceStateUtils.isMigrated(this.model),this.showTerminalAccordion=this.deviceFeatureUtils.isTerminalSupported(this.model)&&(this.deviceState===this.DEVICE_STATES.CONNECTED||this.deviceState===this.DEVICE_STATES.PROVISIONING),this.showEliteAccordion=this.model.isElite(),this.tabsVisibility.clients="success"===this.deviceStatus,this.tabsVisibility.ports=this.model.get("adopted"),this.showPortsDiagram=this.tabsVisibility.ports&&this.model.get("port_table")&&this.model.get("port_table").length,this.tabsVisibility.configure=this.model.get("adopted"),this.tabsVisibility.tools="success"===this.deviceStatus&&this.showTerminalAccordion,this.tabsVisibility.adopt=this.persistAdoptTab||this.deviceState===this.DEVICE_STATES.ADOPTION_FAILED||this.deviceState===this.DEVICE_STATES.MANAGED_BY_OTHER,this.tabsVisibility.alerts=this.deviceStateUtils.hasWarnings(this.model),this.showCancelMigrateAccordion=!!this.deviceStateUtils.isMigrated(this.model),this.initChange&&this.showEliteAccordion&&this.deviceState===this.DEVICE_STATES.DISCONNECTED&&(this.initChange=!1,this.accordions.details={elite:!0}),this.checkActiveTab()}},n.$inject=["$q","$timeout","$translate","PortCollection","account","activeTabControllerMixin","deviceFeatureUtils","deviceModelUtils","devicePropertiesPortsControllerMixin","devices","deviceStateUtils","deviceUplinkUtils","frame","propertyPanel","repositoryUtils","switches","switchUtils","translateResolver","DEVICE_STATES","DEVICE_MODELS"],angular.module("app-unifi-manage-property-panel").controller("SwitchPropertiesController",n)},{"../../controllers/BasePropertiesController":303}],265:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchProperties",["updateModelDirectiveMixin","devicePropertiesPortsDirectiveMixin","devicePropertiesPendingActionsDirectiveMixin",function(t,i,r){return{scope:{model:"=unifiSwitchProperties"},controller:"SwitchPropertiesController",controllerAs:"switchPropertiesCtrl",template:e("./switchProperties.pug")(),link:function(e,n,o,s){e.directiveId=e.$id,e.$on("$destroy",function(){s.destroy(),s.removeEventHandlers()}),t.init(e,n,o,s,!0),i.init(e,n,o,s),r.init(e,n,o,s)}}}])},{"./switchProperties.pug":266}],266:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiPanelItem switchProperties" ng-class="{\'is-collapsed\': switchPropertiesCtrl.isCollapsed()}" ng-if="switchPropertiesCtrl.model"><unifi-loading-status unifi-loading-status-is-loading="switchPropertiesCtrl.isLoading" unifi-loading-status-failed="switchPropertiesCtrl.failedToLoad" unifi-loading-status-retry="switchPropertiesCtrl.init()"></unifi-loading-status><div class="unifiPanelItemHeader"><div class="unifiPanelItemHeader__collapseToggle"><div class="appActionIcon" ng-click="switchPropertiesCtrl.toggleCollapsed()"><span class="button__icon icon" ng-class="{            \'unifi-icon--default-collapse\': !switchPropertiesCtrl.isCollapsed(),            \'unifi-icon--default-expand\': switchPropertiesCtrl.isCollapsed()          }"></span></div></div><div class="unifiPanelItemHeader__avatar"><div unifi-device-icon="::switchPropertiesCtrl.model"></div></div><div class="unifiPanelItemHeader__title"><span unifi-device-status="::switchPropertiesCtrl.model" unifi-device-status-is-cozy="true" unifi-device-status-is-truncated="true" unifi-device-status-with-icons="true" unifi-device-status-label="switchPropertiesCtrl.model.getDisplayName()"></span><div class="unifiPanelItemHeader__status"><span unifi-device-status-badge="::switchPropertiesCtrl.model"></span></div></div><div class="unifiPanelItemHeader__actions"><div class="appActionIconGroup"><div class="appActionIcon appActionIcon--primary appActionIcon--reverse appActionIcon--round" unifi-device-button-adopt="::switchPropertiesCtrl.model" unifi-device-button-adopt-collection="::switchPropertiesCtrl.devices.repository.collection" unifi-device-button-adopt-is-reverse="true"></div><div class="appActionIcon" unifi-device-button-restart="::switchPropertiesCtrl.model" unifi-device-button-restart-with-hard-reboot="switchPropertiesCtrl.isPoeSupported"></div><div class="appActionIcon" unifi-device-button-locate="::switchPropertiesCtrl.model" unifi-device-button-locate-with-map="true"></div><div class="appActionIcon" unifi-device-button-upgrade="::switchPropertiesCtrl.model"></div><div class="appActionIcon visible--mdUp" ng-click="switchPropertiesCtrl.toggleUndocked()" title="{{switchPropertiesCtrl.isUndocked() ? \'COMMON_PROPERTY_PANEL_ITEM_DOCK\' : \'COMMON_PROPERTY_PANEL_ITEM_UNDOCK\' | translate}}"><span class="button__icon icon" ng-class="{              \'ubnt-icon--header-maximize\': !switchPropertiesCtrl.isUndocked(),              \'ubnt-icon--header-minimize\': switchPropertiesCtrl.isUndocked()            }"></span></div><div class="appActionIcon removePanelItem" ng-click="switchPropertiesCtrl.removePanel()" title="{{\'COMMON_PROPERTY_PANEL_ITEM_REMOVE\' | translate}}"><span class="button__icon icon unifi-icon--default-close"></span></div></div></div></div><div class="unifiPanelItemBody"><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static" ng-if="switchPropertiesCtrl.showPortsDiagram"><unifi-switch-diagram unifi-switch-diagram-model="::switchPropertiesCtrl.model" unifi-switch-diagram-toggle-port-selection="switchPropertiesCtrl.togglePortSelection(model, isSelected)" unifi-switch-diagram-is-port-selectable="switchPropertiesCtrl.isPortSelectable(model)" unifi-switch-diagram-is-port-selected="switchPropertiesCtrl.isPortSelected(model)" unifi-switch-diagram-is-disabled="switchPropertiesCtrl.isEditingPorts" unifi-switch-diagram-highlight-port="switchPropertiesCtrl.highlightPort(model, scrollToPort)"></unifi-switch-diagram><unifi-switch-diagram-keys unifi-switch-diagram-keys-model="::switchPropertiesCtrl.model"></unifi-switch-diagram-keys></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static"><ul class="appTabs appTabs--compressed appTabs--alignLeft"><li class="tabs__item details" ng-click="switchPropertiesCtrl.setActiveTab(\'details\')" ng-class="{            \'is-tab-selected\': switchPropertiesCtrl.getActiveTab() === \'details\',            \'is-tab-loading\': switchPropertiesCtrl.loadingTab === \'details\'          }" translate="DEVICE_PROPERTIES_TAB_DETAILS"></li><li class="tabs__item users" ng-if="switchPropertiesCtrl.tabsVisibility[\'clients\']" ng-click="switchPropertiesCtrl.setActiveTab(\'clients\')" ng-class="{            \'is-tab-selected\': switchPropertiesCtrl.getActiveTab() === \'clients\',            \'is-tab-loading\': switchPropertiesCtrl.loadingTab === \'clients\'          }" translate="DEVICE_PROPERTIES_TAB_CLIENTS"></li><li class="tabs__item ports" ng-if="switchPropertiesCtrl.tabsVisibility[\'ports\']" ng-click="switchPropertiesCtrl.setActiveTab(\'ports\')" ng-class="{            \'is-tab-selected\': switchPropertiesCtrl.getActiveTab() === \'ports\',            \'is-tab-loading\': switchPropertiesCtrl.loadingTab === \'ports\'          }" translate="DEVICE_PROPERTIES_TAB_PORTS"></li><li class="tabs__item configure" ng-if="switchPropertiesCtrl.tabsVisibility[\'configure\']" ng-click="switchPropertiesCtrl.setActiveTab(\'configure\')" ng-class="{            \'is-tab-selected\': switchPropertiesCtrl.getActiveTab() === \'configure\',            \'is-tab-loading\': switchPropertiesCtrl.loadingTab === \'configure\'          }" translate="DEVICE_PROPERTIES_TAB_CONFIGURATION"></li><li class="tabs__item tools"'+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"switchPropertiesCtrl.tabsVisibility['tools']\" ng-click=\"switchPropertiesCtrl.setActiveTab('tools')\" ng-class=\"{            'is-tab-selected': switchPropertiesCtrl.getActiveTab() === 'tools',            'is-tab-loading': switchPropertiesCtrl.loadingTab === 'tools'          }\" translate=\"DEVICE_PROPERTIES_TAB_TOOLS\"></li><li class=\"tabs__item stats\" ng-if=\"switchPropertiesCtrl.tabsVisibility['stats']\" ng-click=\"switchPropertiesCtrl.setActiveTab('stats')\" ng-class=\"{            'is-tab-selected': switchPropertiesCtrl.getActiveTab() === 'stats',            'is-tab-loading': switchPropertiesCtrl.loadingTab === 'stats'          }\" translate=\"DEVICE_PROPERTIES_TAB_STATS\"></li><li class=\"tabs__item adopt\""+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"switchPropertiesCtrl.tabsVisibility['adopt']\" ng-click=\"switchPropertiesCtrl.setActiveTab('adopt')\" ng-class=\"{            'is-tab-selected': switchPropertiesCtrl.getActiveTab() === 'adopt',            'is-tab-loading': switchPropertiesCtrl.loadingTab === 'adopt'          }\" translate=\"DEVICE_PROPERTIES_TAB_ADOPT\"></li><li class=\"tabs__item alerts\""+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"switchPropertiesCtrl.tabsVisibility['alerts']\" ng-click=\"switchPropertiesCtrl.setActiveTab('alerts')\" ng-class=\"{            'is-tab-selected': switchPropertiesCtrl.getActiveTab() === 'alerts',            'is-tab-loading': switchPropertiesCtrl.loadingTab === 'alerts'          }\" translate=\"DEVICE_PROPERTIES_TAB_ALERTS\"></li></ul></div><div class=\"unifiPanelItemBodySection unifiPanelItemBodySection--flexible\" ng-attr-id=\"switchPropertiesContent{{::directiveId}}\""+r("scroll-container",!0,!0,!0)+'><div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--primary verticalRhythm--cozy verticalRhythmTop--cozy" ng-if="switchPropertiesCtrl.getActiveTab() === \'configure\'" ng-class="{\'is-app-info-box-collapsed\': !isInfoBoxExpanded}"><div class="appInfoBox__icon icon ubnt-icon--info-fill"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-click="isInfoBoxExpanded = !isInfoBoxExpanded">{{\'DEVICE_PROPERTIES_NOTICE_SWITCH_SETTINGS_HEADER\' | translate}}<div class="appInfoBox__toggle icon" ng-class="isInfoBoxExpanded ? \'ubnt-icon--minus\' : \'ubnt-icon--plus\'"></div></div><div class="appInfoBox__body"><ul class="list appType--micro verticalRhythmTop--cozy"><li><a ui-sref="manage.site.settings.profiles.ports" translate="DEVICE_PROPERTIES_NOTICE_SWITCH_SETTINGS_LINKS_PORT_PROFILES"></a></li></ul></div></div></div><div class="unifiPanelItemContent"><div class="switchPropertiesDetails" ng-if="switchPropertiesCtrl.isTabAvailable(\'details\') &amp;&amp; switchPropertiesCtrl.getActiveTab() === \'details\'"'+r("unifi-switch-properties-details",!0,!0,!0)+'></div><div class="switchPropertiesUsers" ng-if="switchPropertiesCtrl.tabsVisibility[\'clients\'] &amp;&amp; switchPropertiesCtrl.isTabAvailable(\'clients\') &amp;&amp; switchPropertiesCtrl.getActiveTab() === \'clients\'"><unifi-device-properties-client-list unifi-device-properties-client-list-local-state="true" unifi-device-properties-client-list-local-state-key="::switchPropertiesCtrl.model.get(\'mac\') + \'|clients\'" unifi-device-properties-client-list-device="::switchPropertiesCtrl.model"></unifi-device-properties-client-list></div><div class="switchPropertiesPorts" ng-if="switchPropertiesCtrl.tabsVisibility[\'ports\'] &amp;&amp; switchPropertiesCtrl.isTabAvailable(\'ports\')" ng-show="switchPropertiesCtrl.getActiveTab() === \'ports\'"><unifi-switch-properties-port-list unifi-switch-properties-port-list-model="::switchPropertiesCtrl.model" unifi-switch-properties-port-list-collection="switchPropertiesCtrl.model.get(\'port_table\')" unifi-switch-properties-port-list-toggle-port-selection="switchPropertiesCtrl.togglePortSelection(model, isSelected)" unifi-switch-properties-port-list-is-port-selectable="switchPropertiesCtrl.isPortSelectable(model)" unifi-switch-properties-port-list-is-port-selected="switchPropertiesCtrl.isPortSelected(model)" unifi-switch-properties-port-list-is-editing-ports="switchPropertiesCtrl.isEditingPorts" unifi-switch-properties-port-list-highlighted-port="switchPropertiesCtrl.highlightedPort" unifi-switch-properties-port-list-edited-port="switchPropertiesCtrl.editedPort" unifi-switch-properties-port-list-with-batch-edit="switchPropertiesCtrl.isAdmin()" unifi-switch-properties-port-list-is-open="true"></unifi-switch-properties-port-list></div><div class="switchPropertiesConfigure" ng-if="switchPropertiesCtrl.tabsVisibility[\'configure\'] &amp;&amp; switchPropertiesCtrl.isTabAvailable(\'configure\')" ng-show="switchPropertiesCtrl.getActiveTab() === \'configure\'"'+r("unifi-switch-properties-configure",!0,!0,!0)+'></div><div class="switchPropertiesTools"'+r("unifi-if-role-admin",!0,!0,!0)+" unifi-if-role-admin-and=\"switchPropertiesCtrl.tabsVisibility['tools'] &amp;&amp; switchPropertiesCtrl.isTabAvailable('tools')\" ng-show=\"switchPropertiesCtrl.getActiveTab() === 'tools'\""+r("unifi-switch-properties-tools",!0,!0,!0)+'></div><div class="switchPropertiesStats" ng-if="switchPropertiesCtrl.tabsVisibility[\'stats\'] &amp;&amp; switchPropertiesCtrl.isTabAvailable(\'stats\') &amp;&amp; switchPropertiesCtrl.getActiveTab() === \'stats\'"><unifi-device-properties-performance class="unifiPanelItemContent__section" unifi-device-properties-performance-model="::switchPropertiesCtrl.model"></unifi-device-properties-performance></div><div class="switchPropertiesAdopt"'+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="switchPropertiesCtrl.tabsVisibility[\'adopt\'] &amp;&amp; switchPropertiesCtrl.isTabAvailable(\'adopt\')" ng-show="switchPropertiesCtrl.getActiveTab() === \'adopt\'" unifi-device-properties-adopt="::switchPropertiesCtrl.model"></div><div class="switchPropertiesAlerts"'+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="switchPropertiesCtrl.tabsVisibility[\'alerts\'] &amp;&amp; switchPropertiesCtrl.isTabAvailable(\'alerts\')" ng-show="switchPropertiesCtrl.getActiveTab() === \'alerts\'" unifi-device-properties-alerts="::switchPropertiesCtrl.model"></div></div></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static unifiPanelItemBodySection--pending"><unifi-pending-changes-list unifi-pending-changes-list-model="::switchPropertiesCtrl.model" unifi-pending-changes-list-save="applyPendingChanges(model)"></unifi-pending-changes-list></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],267:[function(e,t,i){"use strict";var r=lazyRequire.get("BasePanelItemController");function n(e,t,i,n,o,s){this.$translate=i,this.propertyPanel=n,this.repositoryUtils=o,this.frame=s,this.isSaveQueued=!0,this.accordions={},r.call(this,e,t,n)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.resolve=function(){return this.repositoryUtils.register("devices"),this.$q.when()},n.prototype.destroy=function(){this.batchModel&&(this.batchModel.get("destination").reset(),this.batchModel.get("source").clearPendingChanges()),this.repositoryUtils.unregister("devices")},n.prototype.updateBatchModel=function(e){this.batchModel=e,this.updateModel(e?e.get("source"):void 0)},n.prototype.getPanelModel=function(){return this.batchModel},n.prototype.getDeviceCount=function(){return this.batchModel?this.batchModel.get("destination").length:0},n.prototype.getErrorCount=function(){return this.batchModel?(this.batchModel.get("error")||[]).length:0},n.prototype.removePanel=function(){var e=this.getPanelModel();return e?(this.isSaveQueued&&this.model.hasPendingChanges()?this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_PROPERTIES_PENDING_CHANGES_FORGET_CONFIRM_TITLE")}.bind(this),message:function(){return this.$translate.instant("DEVICE_PROPERTIES_PENDING_CHANGES_FORGET_CONFIRM_MESSAGE")}.bind(this),options:angular.noop}).then(function(){return this.model.clearPendingChanges(),this.model.unset("success"),this.model.unset("error"),this.$q.when()}.bind(this)):this.$q.when()).then(function(){this.propertyPanel.removeItem(e)}.bind(this)):this.$q.reject()},n.prototype.someAreMigrated=function(){return this.batchModel&&this.batchModel.hasDestinationAttrValue("migrate_inform_url",function(e){return!!e})},n.$inject=["$q","$timeout","$translate","propertyPanel","repositoryUtils","frame"],angular.module("app-unifi-manage-property-panel").controller("SwitchPropertiesBatchController",n)},{}],268:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchPropertiesBatch",["devicePropertiesPendingActionsDirectiveMixin","deviceBatchUtils","heyToasts",function(t,i,r){return{scope:{batchModel:"=unifiSwitchPropertiesBatch"},controller:"SwitchPropertiesBatchController",controllerAs:"switchPropertiesBatchCtrl",template:e("./switchPropertiesBatch.pug")(),link:function(e,n,o,s){e.$watch("batchModel",function(e){s.updateBatchModel(e)}),e.$watch(function(){return s.getDeviceCount()},function(e){0===e&&s.setActiveTab("batch")}),e.$watch(function(){return s.getErrorCount()},function(t){e.showErrors=t>0}),e.$on("$destroy",function(){s.destroy(),s.removeEventHandlers()}),t.init(e,n,o,s),e.applyPendingChanges=function(){return i.savePendingChanges(e.batchModel,{wait:!0}).then(function(t){(e.batchModel.get("error")||[]).length?r.pushWarning(t):r.pushSuccess(t)}).catch(function(e){r.pushError(e)})}}}}])},{"./switchPropertiesBatch.pug":269}],269:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiPanelItem switchPropertiesBatch" ng-class="{\'is-collapsed\': switchPropertiesBatchCtrl.isCollapsed()}"><div class="unifiPanelItemHeader"><div class="unifiPanelItemHeader__collapseToggle"><div class="appActionIcon" ng-click="switchPropertiesBatchCtrl.toggleCollapsed()"><span class="button__icon icon" ng-class="{            \'unifi-icon--default-collapse\': !switchPropertiesBatchCtrl.isCollapsed(),            \'unifi-icon--default-expand\': switchPropertiesBatchCtrl.isCollapsed()          }"></span></div></div><div class="unifiPanelItemHeader__avatar"><div unifi-batch-device-icon="switchPropertiesBatchCtrl.batchModel"></div></div><div class="unifiPanelItemHeader__title"><div class="horizontalRhythmLeft--cozy">{{switchPropertiesBatchCtrl.batchModel.getDisplayName()}}</div></div><div class="unifiPanelItemHeader__actions"><div class="appActionIconGroup"><div class="appActionIcon" ng-if="switchPropertiesBatchCtrl.getDeviceCount() &gt; 0" unifi-device-button-restart="::switchPropertiesBatchCtrl.batchModel" unifi-device-button-restart-is-batch="true"></div><div class="appActionIcon visible--mdUp" ng-click="switchPropertiesBatchCtrl.toggleUndocked()" title="{{switchPropertiesBatchCtrl.isUndocked() ? \'COMMON_PROPERTY_PANEL_ITEM_DOCK\' : \'COMMON_PROPERTY_PANEL_ITEM_UNDOCK\' | translate}}"><span class="button__icon icon" ng-class="{              \'ubnt-icon--header-maximize\': !switchPropertiesBatchCtrl.isUndocked(),              \'ubnt-icon--header-minimize\': switchPropertiesBatchCtrl.isUndocked()            }"></span></div><div class="appActionIcon removePanelItem" ng-click="switchPropertiesBatchCtrl.removePanel()" title="{{\'COMMON_PROPERTY_PANEL_ITEM_REMOVE\' | translate}}"><span class="button__icon icon unifi-icon--default-close"></span></div></div></div></div><div class="unifiPanelItemBody" ng-if="showErrors" unifi-device-properties-batch-error="switchPropertiesBatchCtrl.batchModel"></div><div class="unifiPanelItemBody" ng-hide="showErrors"><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static"><ul class="appTabs appTabs--compressed appTabs--alignLeft"><li class="tabs__item batch" ng-click="switchPropertiesBatchCtrl.setActiveTab(\'batch\')" ng-class="{            \'is-tab-selected\': switchPropertiesBatchCtrl.getActiveTab() === \'batch\',            \'is-tab-loading\': switchPropertiesBatchCtrl.loadingTab === \'batch\'          }" translate="DEVICE_PROPERTIES_TAB_DEVICES"></li><li class="tabs__item configure" ng-if="switchPropertiesBatchCtrl.getDeviceCount() &gt; 0" ng-click="switchPropertiesBatchCtrl.setActiveTab(\'configure\')" ng-class="{            \'is-tab-selected\': switchPropertiesBatchCtrl.getActiveTab() === \'configure\',            \'is-tab-loading\': switchPropertiesBatchCtrl.loadingTab === \'configure\'          }" translate="DEVICE_PROPERTIES_TAB_CONFIGURATION"></li></ul></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--flexible"><div class="unifiPanelItemContent"><div class="batchPropertiesBatch" ng-if="switchPropertiesBatchCtrl.isTabAvailable(\'batch\') &amp;&amp; switchPropertiesBatchCtrl.getActiveTab() === \'batch\'"><unifi-device-properties-batch-list unifi-device-properties-batch-list-model="switchPropertiesBatchCtrl.batchModel" unifi-device-properties-batch-list-local-state="true" unifi-device-properties-batch-list-local-state-key="\'batch|usw\'"></unifi-device-properties-batch-list></div><div class="batchPropertiesConfigure" ng-if="switchPropertiesBatchCtrl.isTabAvailable(\'configure\')" ng-show="switchPropertiesBatchCtrl.getActiveTab() === \'configure\' &amp;&amp; switchPropertiesBatchCtrl.getDeviceCount() &gt; 0"'+(i="unifi-switch-properties-batch-configure",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+'></div></div></div><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static unifiPanelItemBodySection--pending" ng-if="switchPropertiesBatchCtrl.getDeviceCount() &gt; 0"><unifi-pending-changes-list unifi-pending-changes-list-model="switchPropertiesBatchCtrl.model" unifi-pending-changes-list-save="applyPendingChanges(model)"></unifi-pending-changes-list></div></div></div>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],270:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchPropertiesBatchConfigure",[function(){return{scope:!0,require:"^unifiSwitchPropertiesBatch",template:e("./switchPropertiesBatchConfigure.pug")()}}])},{"./switchPropertiesBatchConfigure.pug":271}],271:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section general" is-open="switchPropertiesBatchCtrl.accordions.configure.general"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::switchPropertiesBatchCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="switchPropertiesBatchCtrl.accordions.configure.general" unifi-pause-children-watchers="!switchPropertiesBatchCtrl.accordions.configure.general"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="switchPropertiesBatchConfigureGeneral"><div class="unifiPanelItemContentSection__subsection general" unifi-device-properties-configure-general="::switchPropertiesBatchCtrl.model" unifi-device-properties-configure-general-with-batch="switchPropertiesBatchCtrl.batchModel" unifi-device-properties-configure-general-is-open="switchPropertiesBatchCtrl.accordions.configure.general" unifi-device-properties-configure-general-is-save-queued="switchPropertiesBatchCtrl.isSaveQueued" unifi-device-properties-configure-general-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL"></div><div class="unifiPanelItemContentSection__subsection tags"'+r("unifi-block-pause-children-watchers",!0,!0,!0)+'><div class="panelHeading"><div class="panelTitle verticalRhythm--condensed"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_TAGS_BATCH\' | translate}}</span></div></div><div class="switchPropertiesConfigureTags" unifi-device-properties-tags="switchPropertiesBatchCtrl.model" unifi-device-properties-tags-with-batch="switchPropertiesBatchCtrl.batchModel"></div></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section services" is-open="switchPropertiesBatchCtrl.accordions.configure.services"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::switchPropertiesBatchCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="switchPropertiesBatchCtrl.accordions.configure.services" unifi-pause-children-watchers="!switchPropertiesBatchCtrl.accordions.configure.services"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="switchPropertiesConfigureServices" unifi-switch-properties-configure-services="::switchPropertiesBatchCtrl.model" unifi-switch-properties-configure-services-with-batch="switchPropertiesBatchCtrl.batchModel" unifi-switch-properties-configure-services-is-open="switchPropertiesBatchCtrl.accordions.configure.services" unifi-switch-properties-configure-services-is-save-queued="switchPropertiesBatchCtrl.isSaveQueued" unifi-switch-properties-configure-services-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section manage" is-open="switchPropertiesBatchCtrl.accordions.configure.manage"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_MANAGE_DEVICE_BATCH\' | translate}}</accordion-heading><div unifi-initialize-when="switchPropertiesBatchCtrl.accordions.configure.manage" unifi-pause-children-watchers="!switchPropertiesBatchCtrl.accordions.configure.manage"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="unifiPanelItemContentSection__subsection upgrade"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_CUSTOM_UPGRADE\' | translate}}</span></div></div><div class="switchPropertiesConfigureCustomUpgrade" unifi-device-properties-configure-custom-upgrade="::switchPropertiesBatchCtrl.model" unifi-device-properties-configure-custom-upgrade-with-batch="switchPropertiesBatchCtrl.batchModel" unifi-device-properties-configure-custom-upgrade-is-open="switchPropertiesBatchCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection provision"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_PROVISION\' | translate}}</span></div></div><div class="switchPropertiesConfigureProvision" unifi-device-properties-configure-provision="::switchPropertiesBatchCtrl.model" unifi-device-properties-configure-provision-with-batch="switchPropertiesBatchCtrl.batchModel" unifi-device-properties-configure-provision-is-open="switchPropertiesBatchCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection cancelMigrate" ng-if="switchPropertiesBatchCtrl.someAreMigrated()"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_CANCEL_MIGRATE_BATCH\' | translate}}</span></div></div><div class="switchPropertiesConfigureCancelMigrate" unifi-device-properties-configure-cancel-migrate="::switchPropertiesBatchCtrl.model" unifi-device-properties-configure-cancel-migrate-with-batch="switchPropertiesBatchCtrl.batchModel" unifi-device-properties-configure-cancel-migrate-is-open="switchPropertiesBatchCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection forget"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_FORGET_BATCH\' | translate}}</span></div></div><div class="switchPropertiesConfigureForget" unifi-device-properties-configure-forget="::switchPropertiesBatchCtrl.model" unifi-device-properties-configure-forget-with-batch="switchPropertiesBatchCtrl.batchModel" unifi-device-properties-configure-forget-is-open="switchPropertiesBatchCtrl.accordions.configure.manage"></div></div></div></accordion-group></accordion>'};var n=/["&<>]/},{"pug-runtime":2}],272:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchPropertiesConfigure",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiSwitchProperties",template:e("./switchPropertiesConfigure.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"configure")}}}])},{"./switchPropertiesConfigure.pug":273}],273:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<accordion class="appAccordion" close-others="true"><div class="switchPropertiesConfigureWarnings" unifi-initialize-when="!switchPropertiesCtrl.isLoading" unifi-device-properties-configure-warnings="::switchPropertiesCtrl.model" unifi-device-properties-configure-warnings-validator="switchPropertiesCtrl.validators.warnings"></div><accordion-group class="unifiPanelItemContent__section general" is-open="switchPropertiesCtrl.accordions.configure.general"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::switchPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="switchPropertiesCtrl.accordions.configure.general" unifi-pause-children-watchers="!switchPropertiesCtrl.accordions.configure.general"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="switchPropertiesConfigureGeneral"><div class="unifiPanelItemContentSection__subsection general" unifi-device-properties-configure-general="::switchPropertiesCtrl.model" unifi-device-properties-configure-general-is-open="switchPropertiesCtrl.accordions.configure.general" unifi-device-properties-configure-general-is-read-only="!switchPropertiesCtrl.isAdmin()" unifi-device-properties-configure-general-is-save-queued="false" unifi-device-properties-configure-general-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_GENERAL"></div><div class="unifiPanelItemContentSection__subsection tags"'+r("unifi-block-pause-children-watchers",!0,!0,!0)+'><div class="panelHeading"><div class="panelTitle verticalRhythm--condensed"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_TAGS\' | translate}}</span></div></div><div class="switchPropertiesConfigureTags" unifi-device-properties-tags="switchPropertiesCtrl.model"></div></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section services" is-open="switchPropertiesCtrl.accordions.configure.services"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::switchPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="switchPropertiesCtrl.accordions.configure.services" unifi-pause-children-watchers="!switchPropertiesCtrl.accordions.configure.services"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="switchPropertiesConfigureServices" unifi-switch-properties-configure-services="::switchPropertiesCtrl.model" unifi-switch-properties-configure-services-is-open="switchPropertiesCtrl.accordions.configure.services" unifi-switch-properties-configure-services-is-read-only="!switchPropertiesCtrl.isAdmin()" unifi-switch-properties-configure-services-is-save-queued="switchPropertiesCtrl.isSaveQueued" unifi-switch-properties-configure-services-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section network" is-open="switchPropertiesCtrl.accordions.configure.network"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_NETWORK\' | translate}}<unifi-pending-changes-icon class="unifiPanelItemContentSection__titleIcon" unifi-pending-changes-icon-model="::switchPropertiesCtrl.model" unifi-pending-changes-icon-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_NETWORK"></unifi-pending-changes-icon></accordion-heading><div unifi-initialize-when="switchPropertiesCtrl.accordions.configure.network" unifi-pause-children-watchers="!switchPropertiesCtrl.accordions.configure.network"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="switchPropertiesConfigureNetwork" unifi-device-properties-configure-network="::switchPropertiesCtrl.model" unifi-device-properties-configure-network-is-open="switchPropertiesCtrl.accordions.configure.network" unifi-device-properties-configure-network-is-read-only="!switchPropertiesCtrl.isAdmin()" unifi-device-properties-configure-network-is-save-queued="switchPropertiesCtrl.isSaveQueued" unifi-device-properties-configure-network-group="DEVICE_PROPERTIES_SECTION_CONFIGURE_NETWORK" unifi-device-properties-configure-network-validator="switchPropertiesCtrl.validators.warnings"></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section manage" ng-if="switchPropertiesCtrl.isAdmin()" is-open="switchPropertiesCtrl.accordions.configure.manage"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_MANAGE_DEVICE\' | translate}}</accordion-heading><div unifi-initialize-when="switchPropertiesCtrl.accordions.configure.manage" unifi-pause-children-watchers="!switchPropertiesCtrl.accordions.configure.manage"'+r("unifi-pause-children-watchers-and-create-scope",!0,!0,!0)+'><div class="unifiPanelItemContentSection__subsection copy"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_COPY\' | translate}}</span></div></div><div class="switchPropertiesConfigureCopy" unifi-switch-properties-copy-configuration="::switchPropertiesCtrl.model" unifi-switch-properties-copy-configuration-is-open="switchPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection upgrade"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_CUSTOM_UPGRADE\' | translate}}</span></div></div><div class="switchPropertiesConfigureCustomUpgrade" unifi-device-properties-configure-custom-upgrade="::switchPropertiesCtrl.model" unifi-device-properties-configure-custom-upgrade-is-open="switchPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection provision"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_PROVISION\' | translate}}</span></div></div><div class="switchPropertiesConfigureProvision" unifi-device-properties-configure-provision="::switchPropertiesCtrl.model" unifi-device-properties-configure-provision-is-open="switchPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection cancelMigrate" ng-if="switchPropertiesCtrl.showCancelMigrateAccordion"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_CANCEL_MIGRATE\' | translate}}</span></div></div><div class="switchPropertiesConfigureCancelMirate" unifi-device-properties-configure-cancel-migrate="::switchPropertiesCtrl.model" unifi-device-properties-configure-cancel-migrate-is-open="switchPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection forget"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_FORGET\' | translate}}</span></div></div><div class="switchPropertiesConfigureForget" unifi-device-properties-configure-forget="::switchPropertiesCtrl.model" unifi-device-properties-configure-forget-is-open="switchPropertiesCtrl.accordions.configure.manage"></div></div><div class="unifiPanelItemContentSection__subsection infodownload"><div class="panelHeading"><div class="panelTitle"><span>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_DOWNLOAD_DEVICE_INFO\' | translate}}</span></div></div><div class="switchPropertiesConfigureInfoDownload" unifi-device-properties-configure-info-download="::switchPropertiesCtrl.model" unifi-device-properties-configure-info-download-is-open="switchPropertiesCtrl.accordions.configure.manage"></div></div></div></accordion-group></accordion>'};var n=/["&<>]/},{"pug-runtime":2}],274:[function(e,t,i){"use strict";var r=e("../../controllers/BaseConfigureServicesController");function n(e,t,i,n,o,s,a,l,p,c){this.SNMP_SETTINGS=p,this.SPANNING_TREE_PRIORITIES=c,this.radiusAuthServerMin=1,this.radiusAuthServerMax=2,this.radiusAcctServerMin=0,this.radiusAcctServerMax=2,this.spanningTreeOptions=[{value:void 0,translationKey:"COMMON_VALUE_KEEP_EXISTING",isAvailable:!1,isBatch:!0},{value:"rstp",translationKey:"DEVICE_PROPERTIES_VALUES_SPANNING_TREE_RSTP",isAvailable:!0},{value:"stp",translationKey:"DEVICE_PROPERTIES_VALUES_SPANNING_TREE_STP",isAvailable:!0},{value:"disabled",translationKey:"DEVICE_PROPERTIES_VALUES_SPANNING_TREE_DISABLED",isAvailable:!0}],this.patterns={name:l.NAME},r.call(this,e,i,n,s,a,o,t)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){r.prototype.initBatchEdit.call(this),this.spanningTreeOptions.forEach(function(e){e.isBatch&&(e.isAvailable=!0)})},n.prototype.isSaveDisabled=function(){var e=this.isBatchEdit&&0===Object.keys(this.modelCopy.attributes).filter(function(e){return void 0!==this.modelCopy.attributes[e]}.bind(this)).length,t=-1!==[void 0,null].indexOf(this.mgmtNetworkId);return e&&t},n.prototype.getAttrsToSave=function(){var e={jumboframe_enabled:this.modelCopy.attributes.jumboframe_enabled,flowctrl_enabled:this.modelCopy.attributes.flowctrl_enabled,mgmt_network_id:this.mgmtNetworkId||void 0,snmp_contact:this.modelCopy.attributes.snmp_contact,snmp_location:this.modelCopy.attributes.snmp_location,stp_version:this.modelCopy.attributes.stp_version,stp_priority:this.modelCopy.attributes.stp_priority,dot1x_portctrl_enabled:this.modelCopy.attributes.dot1x_portctrl_enabled};return this.modelCopy.attributes.dot1x_portctrl_enabled&&(e.dot1x_dyvlan_enabled=this.modelCopy.attributes.dot1x_dyvlan_enabled,e.radiusprofile_id=this.modelCopy.attributes.radiusprofile_id,e.dot1x_fallback_networkconf_id=this.modelCopy.attributes.dot1x_fallback_networkconf_id||""),e},n.$inject=["$translate","apiResults","deviceUtils","heyToasts","modelDivergence","networks","networkUtils","REGEX_PATTERNS","SNMP_SETTINGS","SPANNING_TREE_PRIORITIES"],angular.module("app-unifi-manage-property-panel").controller("SwitchPropertiesConfigureServicesController",n)},{"../../controllers/BaseConfigureServicesController":302}],275:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchPropertiesConfigureServices",["devicePropertiesConfigureBatchDirectiveMixin","devicePropertiesConfigureWithPendingDirectiveMixin","updateModelDirectiveMixin",function(t,i,r){return{scope:{model:"=unifiSwitchPropertiesConfigureServices",withBatch:"=unifiSwitchPropertiesConfigureServicesWithBatch",isOpen:"=unifiSwitchPropertiesConfigureServicesIsOpen",isReadOnly:"=unifiSwitchPropertiesConfigureServicesIsReadOnly",isSaveQueued:"=unifiSwitchPropertiesConfigureServicesIsSaveQueued",group:"@unifiSwitchPropertiesConfigureServicesGroup"},controller:"SwitchPropertiesConfigureServicesController",controllerAs:"switchPropertiesConfigureServicesCtrl",template:e("./switchPropertiesConfigureServices.pug")(),link:function(e,n,o,s){e.directiveId=e.$id,e.$on("$destroy",function(){s.removeEventHandlers()}),r.init(e,n,o,s,!0),i.init(e,n,o,s),t.init(e,n,o,s)}}}])},{"./switchPropertiesConfigureServices.pug":276}],276:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+r("novalidate",!0,!0,!0)+' autocomplete="off" name="switchPropertiesConfigureServicesCtrl.form" ng-class="{    \'is-form-validation-visible\': switchPropertiesConfigureServicesCtrl.showValidation,    \'is-validation-hidden\': !switchPropertiesConfigureServicesCtrl.showValidation  }" ng-submit="switchPropertiesConfigureServicesCtrl.form.$valid &amp;&amp; switchPropertiesConfigureServicesCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="switchPropertiesConfigureServicesCtrl.resolveDivergence()" unifi-config-changed-on-ignore="switchPropertiesConfigureServicesCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; switchPropertiesConfigureServicesCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="appFormGroup"><div class="appSubHeading verticalRhythm--condensed"><span translate="DEVICE_PROPERTIES_LABEL_VLAN"></span></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_MGMT_VLAN"></label><select class="select--full" name="networkVlanNativeNetwork" ng-model="switchPropertiesConfigureServicesCtrl.mgmtNetworkId" ng-model-master="switchPropertiesConfigureServicesCtrl.mgmtNetworkIdMaster" ng-options="network.id as network.get(\'name\') for network in switchPropertiesConfigureServicesCtrl.nativeNetworks"><option ng-if="switchPropertiesConfigureServicesCtrl.isBatchEdit" ng-value="undefined" translate="COMMON_VALUE_KEEP_EXISTING"></option></select></div></div><div class="appFormGroup"><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup" ng-if="!switchPropertiesConfigureServicesCtrl.isBatchEdit"><input type="checkbox" name="enableJumboFrame" id="servicesJumboFrame{{::directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.jumboframe_enabled" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.jumboframe_enabled"><label for="servicesJumboFrame{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_JUMBO_FRAME"></label></div><div class="appInputGroup noMarginBottom verticalRhythmTop--condensed" ng-if="switchPropertiesConfigureServicesCtrl.isBatchEdit"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_JUMBO_FRAME"></label><div class="appInputGroup noMarginBottom verticalRhythmTop--condensed"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="jumboFrameEnabled" id="servicesJumboFrameKeepExisting{{directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.jumboframe_enabled" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.jumboframe_enabled" ng-value="undefined"><label for="servicesJumboFrameKeepExisting{{directiveId}}" translate="COMMON_VALUE_KEEP_EXISTING"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="jumboFrameEnabled" id="servicesJumboFrameDisabled{{directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.jumboframe_enabled" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.jumboframe_enabled" ng-value="false"><label for="servicesJumboFrameDisabled{{directiveId}}" translate="DEVICE_PROPERTIES_VALUES_DISABLE_JUMBO_FRAME"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="jumboFrameEnabled" id="servicesJumboFrameEnabled{{directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.jumboframe_enabled" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.jumboframe_enabled" ng-value="true"><label for="servicesJumboFrameEnabled{{directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_JUMBO_FRAME"></label></div></div></div></div><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup" ng-if="!switchPropertiesConfigureServicesCtrl.isBatchEdit"><input type="checkbox" name="enableFlowControl" id="servicesFlowControl{{::directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.flowctrl_enabled" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.flowctrl_enabled"><label for="servicesFlowControl{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_FLOW_CONTROL"></label></div><div class="appInputGroup noMarginBottom verticalRhythmTop--condensed" ng-if="switchPropertiesConfigureServicesCtrl.isBatchEdit"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_FLOW_CONTROL"></label><div class="appInputGroup noMarginBottom verticalRhythmTop--condensed"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="flowControlEnabled" id="servicesFlowControlKeepExisting{{directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.flowctrl_enabled" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.flowctrl_enabled" ng-value="undefined"><label for="servicesFlowControlKeepExisting{{directiveId}}" translate="COMMON_VALUE_KEEP_EXISTING"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="flowControlEnabled" id="servicesFlowControlDisabled{{directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.flowctrl_enabled" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.flowctrl_enabled" ng-value="false"><label for="servicesFlowControlDisabled{{directiveId}}" translate="DEVICE_PROPERTIES_VALUES_DISABLE_FLOW_CONTROL"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="flowControlEnabled" id="servicesFlowControlEnabled{{directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.flowctrl_enabled" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.flowctrl_enabled" ng-value="true"><label for="servicesFlowControlEnabled{{directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_FLOW_CONTROL"></label></div></div></div></div></div><div class="appFormGroup"><div class="appFormGroup appFormGroup--condensed verticalRhythmTop--cozy"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SPANNING_TREE"></label><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="option in switchPropertiesConfigureServicesCtrl.spanningTreeOptions" ng-if="option.isAvailable"><input type="radio" name="spanningTree" id="spanningTree{{option.value + \'-\' + directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.stp_version" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.stp_version" ng-value="option.value"'+r("unifi-fix-check-undefined",!0,!0,!0)+'><label for="spanningTree{{option.value + \'-\' + directiveId}}" translate="{{option.translationKey}}"></label></div></div></div><div class="appFormGroup appFormGroup--condensed" ng-show="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.stp_version !== \'disabled\'"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_PRIORITY"></label><div class="flexRow noMarginBottom"><div class="flexCol--6"><select class="select--full" name="stpPriority" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.stp_priority" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.stp_priority" ng-options="priority for priority in switchPropertiesConfigureServicesCtrl.SPANNING_TREE_PRIORITIES track by priority"><option ng-if="switchPropertiesConfigureServicesCtrl.isBatchEdit" ng-value="undefined" translate="COMMON_VALUE_KEEP_EXISTING"></option></select></div></div></div></div><div class="appFormGroup"><div class="appSubHeading verticalRhythm--condensed"><span translate="DEVICE_PROPERTIES_LABEL_SECURITY"></span></div><div class="appInputGroup appInputGroup--cozy verticalRhythmTop--cozy"><div class="appInputGroup" ng-if="!switchPropertiesConfigureServicesCtrl.isBatchEdit"><input type="checkbox" name="enable8021xControl" id="services8021xControl{{::directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.dot1x_portctrl_enabled" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.dot1x_portctrl_enabled"><label for="services8021xControl{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_8021X_CONTROL"></label></div><div class="appInputGroup noMarginBottom verticalRhythmTop--condensed" ng-if="switchPropertiesConfigureServicesCtrl.isBatchEdit"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_8021X_CONTROL"></label><div class="appInputGroup noMarginBottom verticalRhythmTop--condensed"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="8021xControlEnabled" id="services8021xControlKeepExisting{{directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.dot1x_portctrl_enabled" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.dot1x_portctrl_enabled" ng-value="undefined"><label for="services8021xControlKeepExisting{{directiveId}}" translate="COMMON_VALUE_KEEP_EXISTING"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="8021xControlEnabled" id="services8021xControlDisabled{{directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.dot1x_portctrl_enabled" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.dot1x_portctrl_enabled" ng-value="false"><label for="services8021xControlDisabled{{directiveId}}" translate="DEVICE_PROPERTIES_VALUES_DISABLE_8021X_CONTROL"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="8021xControlEnabled" id="services8021xControlEnabled{{directiveId}}" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.dot1x_portctrl_enabled" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.dot1x_portctrl_enabled" ng-value="true"><label for="services8021xControlEnabled{{directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_8021X_CONTROL"></label></div></div></div></div><div class="appFormGroup appFormGroup--condensed verticalRhythmTop--cozy" ng-if="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.dot1x_portctrl_enabled"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_RADIUS_PROFILE"></label><unifi-radius-selector unifi-radius-selector-radius-profile-id="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.radiusprofile_id" unifi-radius-selector-is-required="!switchPropertiesConfigureServicesCtrl.isBatchEdit" unifi-radius-selector-is-batch="switchPropertiesConfigureServicesCtrl.isBatchEdit"></unifi-radius-selector></div><div class="appFormGroup appFormGroup--condensed verticalRhythmTop--cozy" ng-if="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.dot1x_portctrl_enabled"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_FALLBACK_VLAN"></label><unifi-fallback-vlan-selector unifi-fallback-vlan-selector-dot1x-fallback-networkconf-id="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.dot1x_fallback_networkconf_id" unifi-fallback-vlan-selector-is-required="!switchPropertiesConfigureServicesCtrl.isBatchEdit" unifi-fallback-vlan-selector-is-batch="switchPropertiesConfigureServicesCtrl.isBatchEdit"></unifi-fallback-vlan-selector></div></div><div class="appFormGroup" ng-if="!switchPropertiesConfigureServicesCtrl.isBatchEdit"><div class="appSubHeading verticalRhythm--condensed"><span translate="DEVICE_PROPERTIES_LABEL_SNMP"></span><a class="appMainButton appMainButton--tertiary appMainButton--condensed floatRight" ui-sref="manage.site.settings.services.snmp"><span class="button__icon icon ubnt-icon--link visible--smUp"></span><span translate="DEVICE_PROPERTIES_BUTTON_MANAGE_SNMP"></span></a></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SNMP_LOCATION"></label><input class="input--full" type="text" name="snmpLocation" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.snmp_location" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.snmp_location" ng-pattern="switchPropertiesConfigureServicesCtrl.patterns.name" ng-maxlength="switchPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_LOCATION_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="switchPropertiesConfigureServicesCtrl.form.snmpLocation.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: switchPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_LOCATION_LENGTH}"></div></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_SNMP_CONTACT"></label><input class="input--full" type="text" name="snmpContact" ng-model="switchPropertiesConfigureServicesCtrl.modelCopy.attributes.snmp_contact" ng-model-master="switchPropertiesConfigureServicesCtrl.model.attributes.snmp_contact" ng-pattern="switchPropertiesConfigureServicesCtrl.patterns.name" ng-maxlength="switchPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_CONTACT_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="switchPropertiesConfigureServicesCtrl.form.snmpContact.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: switchPropertiesConfigureServicesCtrl.SNMP_SETTINGS.MAX_DEVICE_CONTACT_LENGTH}"></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent" ng-if="!isReadOnly"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="switchPropertiesConfigureServicesCtrl.showValidation = true" busy-toggle="switchPropertiesConfigureServicesCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="switchPropertiesConfigureServicesCtrl.isSaveDisabled()">{{switchPropertiesConfigureServicesCtrl.isSaveQueued ? \'COMMON_ACTIONS_QUEUE_CHANGES\' : \'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed resetForm" type="button" ng-click="switchPropertiesConfigureServicesCtrl.reset()" ng-disabled="switchPropertiesConfigureServicesCtrl.form.$pristine">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button></div></div></form>'};var n=/["&<>]/},{"pug-runtime":2}],277:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseModelController");function n(e,t,i,n,o,s){this.devices=e,this.deviceUtils=t,this.frame=i,this.$q=n,this.$translate=o,this.heyToasts=s,this.compatibilityMap={US24:["US24P250","US24P500","US24PL2"],US24P250:["US24","US24P500","US24PL2"],US24P500:["US24","US24P250","US24PL2"],US24PL2:["US24","US24P250","US24P500"],US48:["US48P500","US48P750","US48PL2"],US48P500:["US48","US48P750","US48PL2"],US48P750:["US48","US48P500","US48PL2"],US48PL2:["US48","US48P500","US48P750"]},this.sourceFilter=this.sourceFilter.bind(this),r.call(this)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.copy=function(){return this.sourceModel?this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_ACTIONS_COPY_CONFIRM_TITLE",{deviceName:this.sourceModel.getDisplayName()})}.bind(this),message:function(){return this.$translate.instant("DEVICE_ACTIONS_COPY_CONFIRM_MESSAGE",{deviceName:this.sourceModel.getDisplayName()})}.bind(this),options:angular.noop}).then(function(){return this.deviceUtils.copyConfig(this.model,this.sourceModel).then(function(e){return this.heyToasts.pushSuccess(e),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(e),!1}.bind(this))}.bind(this)):this.$q.reject()},n.prototype.sourceFilter=function(e){if(e.isSwitch()&&e.get("mac")!==this.model.get("mac")&&e.isAdopted()){if(e.get("model")===this.model.get("model"))return!0;var t=this.compatibilityMap[this.model.get("model")];if(t&&-1!==t.indexOf(e.get("model")))return!0}return!1},n.prototype.onModelChange=function(){},n.$inject=["devices","deviceUtils","frame","$q","$translate","heyToasts"],angular.module("app-unifi-manage-property-panel").controller("SwitchPropertiesCopyConfigurationController",n)},{}],278:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchPropertiesCopyConfiguration",["updateModelDirectiveMixin",function(t){return{scope:{model:"=unifiSwitchPropertiesCopyConfiguration",isOpen:"=unifiSwitchPropertiesCopyConfigurationIsOpen"},controller:"SwitchPropertiesCopyConfigurationController",controllerAs:"switchPropertiesCopyConfigurationCtrl",template:e("./switchPropertiesCopyConfiguration.pug")(),link:function(e,i,r,n){e.$on("$destroy",function(){n.removeEventHandlers()}),t.init(e,i,r,n,!0)}}}])},{"./switchPropertiesCopyConfiguration.pug":279}],279:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm unifiPanelItemForm"'+(i="novalidate",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="switchPropertiesCopyConfigurationCtrl.form" ng-class="{    \'is-form-validation-visible\': switchPropertiesCopyConfigurationCtrl.showValidation,    \'is-validation-hidden\': !switchPropertiesCopyConfigurationCtrl.showValidation  }" ng-submit="switchPropertiesCopyConfigurationCtrl.form.$valid &amp;&amp; switchPropertiesCopyConfigurationCtrl.copy()"><fieldset class="appFieldset appFieldset--quiet"><div class="appFormGroup appFormGroup--condensed"><unifi-select-device-dropdown-list unifi-select-device-dropdown-list-selected-model="switchPropertiesCopyConfigurationCtrl.sourceModel" unifi-select-device-dropdown-list-is-required="true" unifi-select-device-dropdown-list-device-filter="switchPropertiesCopyConfigurationCtrl.sourceFilter(model)" unifi-select-device-dropdown-list-local-state="true" unifi-select-device-dropdown-list-local-state-key="::switchPropertiesCopyConfigurationCtrl.model.get(\'mac\') + \'|copy-config\'" unifi-select-device-dropdown-list-local-state-is-temporary="true" unifi-select-device-dropdown-list-is-cozy="true" unifi-select-device-dropdown-list-no-clear="true"></unifi-select-device-dropdown-list></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed saveDevice" ng-click="switchPropertiesCopyConfigurationCtrl.showValidation = true" busy-toggle="switchPropertiesCopyConfigurationCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="switchPropertiesCopyConfigurationCtrl.isSaveDisabled()">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button></div></div></form>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],280:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchPropertiesDetails",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiSwitchProperties",template:e("./switchPropertiesDetails.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"details")}}}])},{"./switchPropertiesDetails.pug":281}],281:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section" is-open="switchPropertiesCtrl.accordions.details.overview"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_OVERVIEW\' | translate}}</accordion-heading><div ng-if="switchPropertiesCtrl.accordions.details.overview"><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow macAddress"><dt>{{\'DEVICE_PROPERTIES_LABEL_MAC_ADDRESS\' | translate}}</dt><dd>{{switchPropertiesCtrl.model.get(\'mac\')}}</dd></div><div class="appDescriptionListRow modelName"><dt>{{\'DEVICE_PROPERTIES_LABEL_MODEL\' | translate}}</dt><dd>{{switchPropertiesCtrl.deviceStateUtils.getDeviceModelName(switchPropertiesCtrl.model)}}</dd></div><div class="appDescriptionListRow version"><dt>{{\'DEVICE_PROPERTIES_LABEL_VERSION\' | translate}}</dt><dd><span ng-if="switchPropertiesCtrl.model.get(\'version\')">{{switchPropertiesCtrl.model.get(\'version\')}}</span><span ng-if="!switchPropertiesCtrl.model.get(\'version\')" translate="DEVICE_PROPERTIES_VALUES_VERSION_NOT_AVAILABLE"></span></dd></div><div class="appDescriptionListRow boardRev" ng-if="switchPropertiesCtrl.model.get(\'board_rev\')"><dt>{{\'DEVICE_PROPERTIES_LABEL_BOARD_REV\' | translate}}</dt><dd>{{switchPropertiesCtrl.model.get(\'board_rev\')}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline"><div class="appDescriptionListRow ipAddress"><dt>{{\'DEVICE_PROPERTIES_LABEL_IP_ADDRESS\' | translate}}</dt><dd><span unifi-if-advanced-features="false">{{switchPropertiesCtrl.model.get(\'ip\')}}</span><span unifi-if-advanced-features="true" unifi-open-terminal="switchPropertiesCtrl.model" unifi-open-terminal-is-available="terminalAvailable" ng-class="{\'appLink\': terminalAvailable}">{{switchPropertiesCtrl.model.get(\'ip\')}}</span></dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="switchPropertiesCtrl.deviceStatus === \'success\'"><div class="appDescriptionListRow totalPower" ng-if="switchPropertiesCtrl.totalPower &gt; 0"><dt>{{\'DEVICE_PROPERTIES_LABEL_POWER_CONSUMPTION\' | translate}}</dt><dd>{{\'DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_POWER\' | translate: \'{power: \' + switchPropertiesCtrl.totalPower.toFixed(2) + \'}\'}}</dd></div><div class="appDescriptionListRow powerSourceVoltage" ng-if="switchPropertiesCtrl.model.get(\'power_source_voltage\')"><dt>{{\'DEVICE_PROPERTIES_LABEL_POWER_SOURCE_VOLTAGE\' | translate}}</dt><dd>{{\'DEVICE_PROPERTIES_VALUES_VOLTAGE\' | translate: \'{voltage: \' + switchPropertiesCtrl.model.get(\'power_source_voltage\') + \'}\'}}</dd></div><div class="appDescriptionListRow temperature"><dt>{{\'DEVICE_PROPERTIES_LABEL_TEMPERATURE\' | translate}}</dt><dd ng-if="switchPropertiesCtrl.model.get(\'has_temperature\')"><div class="iconText appIconText"><span class="iconText__text">{{switchPropertiesCtrl.model.get(\'general_temperature\') | temperature}}</span><span class="iconText__icon appTooltipContainer appTooltipContainer--hoverable"><div class="icon" ng-class="switchPropertiesCtrl.model.get(\'overheating\') ? \'ubnt-icon--alert-fill danger\' : \'ubnt-icon--blank\'"></div><div class="appTooltip" ng-if="switchPropertiesCtrl.model.get(\'overheating\')" translate="DEVICE_PROPERTIES_NOTICE_OVERHEATING_VENTILATION"></div></span></div></dd><dd ng-if="!switchPropertiesCtrl.model.get(\'has_temperature\')">{{\'DEVICE_PROPERTIES_LABEL_NO_TEMPERATURE_SENSOR\' | translate}}</dd></div><div class="appDescriptionListRow fanLevel" ng-if="switchPropertiesCtrl.model.get(\'has_fan\') &amp;&amp; !switchPropertiesCtrl.isSimpleFan"><dt>{{\'DEVICE_PROPERTIES_LABEL_FAN_LEVEL\' | translate}}</dt><dd ng-switch="switchPropertiesCtrl.model.get(\'fan_level\') &gt;= switchPropertiesCtrl.fanOnLevel"><span ng-switch-when="true">{{switchPropertiesCtrl.model.get(\'fan_level\')}}</span><span ng-switch-when="false">{{\'DEVICE_PROPERTIES_VALUES_FAN_LEVEL_OFF\' | translate}}</span></dd></div><div class="appDescriptionListRow fanState" ng-if="switchPropertiesCtrl.model.get(\'has_fan\') &amp;&amp; switchPropertiesCtrl.isSimpleFan"><dt>{{\'DEVICE_PROPERTIES_LABEL_FAN_STATE\' | translate}}</dt><dd ng-switch="switchPropertiesCtrl.model.get(\'fan_level\') &gt;= switchPropertiesCtrl.fanOnLevel"><span ng-switch-when="true">{{\'DEVICE_PROPERTIES_VALUES_FAN_LEVEL_ON\' | translate}}</span><span ng-switch-when="false">{{\'DEVICE_PROPERTIES_VALUES_FAN_LEVEL_OFF\' | translate}}</span></dd></div><div class="appDescriptionListRow uptime"><dt>{{\'DEVICE_PROPERTIES_LABEL_UPTIME\' | translate}}</dt><dd>{{switchPropertiesCtrl.model.get(\'uptime\') | seconds}}</dd></div><div class="appDescriptionListRow memory" ng-if="switchPropertiesCtrl.model.getNested(\'sys_stats.mem_total\')"><dt>{{\'DEVICE_PROPERTIES_LABEL_MEMORY_USAGE\' | translate}}</dt><dd>{{switchPropertiesCtrl.model.getNested(\'sys_stats.mem_used\') | percent: switchPropertiesCtrl.model.getNested(\'sys_stats.mem_total\')}}</dd></div><div class="appDescriptionListRow load" ng-if="switchPropertiesCtrl.model.getNested(\'sys_stats.loadavg_1\')"><dt>{{\'DEVICE_PROPERTIES_LABEL_LOAD_AVERAGE\' | translate}}</dt><dd><span class="mr-1" style="vertical-align: text-top;">{{switchPropertiesCtrl.model.get(\'sys_stats\') | loadAvg}}</span><unifi-tooltip><content translate="DEVICE_PROPERTIES_TOOLTIP_LOAD_AVERAGE"></content></unifi-tooltip></dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider" ng-if="switchPropertiesCtrl.deviceStatus !== \'success\'"><div class="appDescriptionListRow uplinkName" ng-if="switchPropertiesCtrl.uplinkAttrs"><dt>{{\'DEVICE_PROPERTIES_LABEL_LAST_UPLINK\' | translate}}</dt><dd unifi-device-uplink="::switchPropertiesCtrl.model"></dd></div><div class="appDescriptionListRow lastSeen"><dt>{{\'DEVICE_PROPERTIES_LABEL_LAST_SEEN\' | translate}}</dt><dd><span ng-if="switchPropertiesCtrl.model.get(\'last_seen\')">{{switchPropertiesCtrl.model.get(\'last_seen\') * 1000 | lastSeen}}</span><span ng-if="!switchPropertiesCtrl.model.get(\'last_seen\')" translate="DEVICE_PROPERTIES_VALUES_LAST_SEEN_NEVER"></span></dd></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="switchPropertiesCtrl.showEliteAccordion" is-open="switchPropertiesCtrl.accordions.details.elite"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_ELITE\' | translate}}</accordion-heading><unifi-device-properties-elite ng-if="switchPropertiesCtrl.accordions.details.elite" unifi-device-properties-elite-model="switchPropertiesCtrl.model"></unifi-device-properties-elite></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="switchPropertiesCtrl.hasUplink" is-open="switchPropertiesCtrl.accordions.details.uplink"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_UPLINK\' | translate}}</accordion-heading><div ng-if="switchPropertiesCtrl.accordions.details.uplink"><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow uplinkPort"><dt>{{\'DEVICE_PROPERTIES_LABEL_PORT\' | translate}}</dt><dd>{{switchPropertiesCtrl.uplinkAttrs.port_idx}}</dd></div><div class="appDescriptionListRow uplinkName" ng-if="switchPropertiesCtrl.uplinkAttrs"><dt>{{\'DEVICE_PROPERTIES_LABEL_UPLINK\' | translate}}</dt><dd unifi-device-uplink="::switchPropertiesCtrl.model"></dd></div><div class="appDescriptionListRow uplinkSpeed"><dt>{{\'DEVICE_PROPERTIES_LABEL_SPEED\' | translate}}</dt><dd>{{switchPropertiesCtrl.uplinkAttrs.speed}}</dd></div><div class="appDescriptionListRow uplinkDuplex"><dt>{{\'DEVICE_PROPERTIES_LABEL_DUPLEX\' | translate}}</dt><dd>{{switchPropertiesCtrl.uplinkAttrs.full_duplex ? \'DEVICE_PROPERTIES_VALUES_DUPLEX_FULL\' : \'DEVICE_PROPERTIES_VALUES_DUPLEX_HALF\' | translate}}</dd></div></div><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow uplinkDownPktsBytes"><dt>{{\'DEVICE_PROPERTIES_LABEL_DOWN_PKTS_BYTES\' | translate}}</dt><dd>{{switchPropertiesCtrl.uplinkAttrs.rx_packets && switchPropertiesCtrl.uplinkAttrs.rx_bytes ? (switchPropertiesCtrl.uplinkAttrs.rx_packets | numberToString) + \' / \' + (switchPropertiesCtrl.uplinkAttrs.rx_bytes | bytes) : \'0.00 / 0.00\'}}</dd></div><div class="appDescriptionListRow uplinkUpPktsBytes"><dt>{{\'DEVICE_PROPERTIES_LABEL_UP_PKTS_BYTES\' | translate}}</dt><dd>{{switchPropertiesCtrl.uplinkAttrs.tx_packets && switchPropertiesCtrl.uplinkAttrs.tx_bytes ? (switchPropertiesCtrl.uplinkAttrs.tx_packets | numberToString) + \' / \' + (switchPropertiesCtrl.uplinkAttrs.tx_bytes | bytes) : \'0.00 / 0.00\'}}</dd></div><div class="appDescriptionListRow uplinkActivity"><dt>{{\'DEVICE_PROPERTIES_LABEL_ACTIVITY\' | translate}}</dt><dd>{{(switchPropertiesCtrl.uplinkAttrs[\'rx_bytes-r\'] || 0) + (switchPropertiesCtrl.uplinkAttrs[\'tx_bytes-r\'] || 0) | bps:{convertFromBytes:true} }}</dd></div></div></div></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="switchPropertiesCtrl.showDownlinksAccordion" is-open="switchPropertiesCtrl.accordions.details.downlinks"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_DOWNLINKS\' | translate}}</accordion-heading><unifi-switch-properties-downlink-list ng-if="switchPropertiesCtrl.accordions.details.downlinks" unifi-switch-properties-downlink-list-local-state="true" unifi-switch-properties-downlink-list-local-state-key="::switchPropertiesCtrl.model.get(\'mac\') + \'|downlinks\'" unifi-switch-properties-downlink-list-collection="switchPropertiesCtrl.model.get(\'downlink_table\')"></unifi-switch-properties-downlink-list></accordion-group><accordion-group class="unifiPanelItemContent__section" ng-if="switchPropertiesCtrl.showPSUAccordion" is-open="switchPropertiesCtrl.accordions.details.psu"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_DETAILS_PSU\' | translate}}</accordion-heading><div class="appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow"><dt>{{\'DEVICE_PROPERTIES_LABEL_PSU_POWER_CONSUMPTION\' | translate}}</dt><dd>{{switchPropertiesCtrl.model.get(\'power-monitor\').consumed}}W</dd></div><div class="appDescriptionListRow"><dt>{{\'DEVICE_PROPERTIES_LABEL_PSU_CURRENT\' | translate}}</dt><dd>{{switchPropertiesCtrl.model.get(\'power-monitor\').current}}mA</dd></div><div class="appDescriptionListRow"><dt>{{\'DEVICE_PROPERTIES_LABEL_PSU_VOLTAGE\' | translate}}</dt><dd>{{switchPropertiesCtrl.model.get(\'power-monitor\').voltage}}V</dd></div></div><unifi-switch-properties-psu ng-repeat="model in switchPropertiesCtrl.model.get(\'psu_table\').models" unifi-switch-properties-psu-model="model"></unifi-switch-properties-psu></accordion-group></accordion>'}},{"pug-runtime":2}],282:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("SwitchPropertiesDownlinkListController",["BasePaginatedListController","devices","deviceStateUtils","preferences",function(e,t,i,n){return new(function(o){function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return e.getDownlinkDevice=t.repository.collection.get.bind(t.repository.collection),e.getDownlinkDeviceModel=i.getDeviceModelName.bind(i),e.rowsPerPage=n.model.getRowsPerPropertyPanel(),e.defaultSortBy="port_idx",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,e),r(s,[{key:"getCollection",value:function(){return this.downlinks}},{key:"onPageSizeChange",value:function(){}}]),s}())}])},{}],283:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchPropertiesDownlinkList",["PaginatedListDirective",function(t){return new t("switchPropertiesDownlink",e("./switchPropertiesDownlinkList.pug")(),{downlinks:"=unifiSwitchPropertiesDownlinkListCollection"})}])},{"./switchPropertiesDownlinkList.pug":284}],284:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appScrollable flexFlag__body fullWidth"><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent" collection-view-sort="switchPropertiesDownlinkListCtrl.view"><thead><tr><th class="downlinkPort" collection-view-sort-by="port_idx"><span translate="DEVICE_PROPERTIES_SWITCH_DOWNLINKS_TABLE_HEADER_PORT"></span></th><th class="downlinkName" collection-view-sort-by="mac"><span translate="DEVICE_PROPERTIES_SWITCH_DOWNLINKS_TABLE_HEADER_DEVICE"></span></th><th class="downlinkStatus" collection-view-sort-by="speed"><span translate="DEVICE_PROPERTIES_SWITCH_DOWNLINKS_TABLE_HEADER_STATUS"></span></th><th class="downlinkModel"><span translate="DEVICE_PROPERTIES_SWITCH_DOWNLINKS_TABLE_HEADER_MODEL"></span></th></tr></thead><tfoot ng-if="switchPropertiesDownlinkListCtrl.view.getModels().length"><tr><td colspan="4"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="switchPropertiesDownlinkListCtrl.currentPage" unifi-micro-pagination-rows-per-page="switchPropertiesDownlinkListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="switchPropertiesDownlinkListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="model in switchPropertiesDownlinkListCtrl.view.getModels(),          startFrom (switchPropertiesDownlinkListCtrl.currentPage - 1) * switchPropertiesDownlinkListCtrl.rowsPerPage,          limitTo switchPropertiesDownlinkListCtrl.rowsPerPage" data-id="{{::model.id}}" ng-init="device = switchPropertiesDownlinkListCtrl.getDownlinkDevice(model.get(\'mac\'))"><td class="downlinkPort">{{::model.get(\'port_idx\')}}</td><td class="downlinkPort"><a unifi-open-panel="device" unifi-open-panel-active-tab="\'details\'">{{::device.getDisplayName()}}</a></td><td class="downlinkStatus">{{::model | duplex}}</td><td class="downlinkModel">{{::switchPropertiesDownlinkListCtrl.getDownlinkDeviceModel(device)}}</td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!switchPropertiesDownlinkListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_DOWNLINKS_TABLE_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":2}],285:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a,l,p,c,d,u,g,f,h,m,v,C){this.$timeout=e,this.$translate=t,this.$q=i,this.apiResults=n,this.clients=o,this.deviceFeatureUtils=s,this.deviceUtils=a,this.frame=l,this.heyToasts=p,this.portFeatureUtils=d,this.PortModel=u,this.switches=g,this.switchUtils=f,this.CAST_RATES=h,this.EGRESS_RATE_LIMITS=m,this.PORT_PROFILE_DEFAULTS=v,this.patterns={name:C.NAME},this.poeOptions=[{value:"off",translationKey:"DEVICE_PROPERTIES_VALUES_OFF",isAvailable:!0},{value:"pasv24",translationKey:"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_PASSIVE",isAvailable:!0},{value:"auto",translationKey:"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_PLUS",isAvailable:!0},{value:"passthrough",translationKey:"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_PASSTHROUGH",isAvailable:!0}],this.speedOptions=[{value:1e4,label:"10 Gbps",isAvailable:!0},{value:1e3,label:"1000 Mbps",isAvailable:!0},{value:100,label:"100 Mbps",isAvailable:!0},{value:10,label:"10 Mbps",isAvailable:!0}],this.SWITCH_PROFILE_ALL_ID="All",this.SWITCH_PROFILE_DISABLED_ID="Disabled",r.call(this,c)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.init=function(){this.updateModel(new this.PortModel({port_idx:this.stateModel.get("port_idx")})),this.setDefaultPortName(),this.$timeout(this.setOverridesExpanded.bind(this),0,!1)},n.prototype.updateStateModel=function(e){this.stateModel=e,this.setPoeAvailability(),this.setAggregateRange(),this.setSpeedAvailability(),this.onModelChange()},n.prototype.updateDevice=function(e){this.device=e,this.portNumbers=this.switchUtils.getPortNumbers(e),this.numPorts=Object.keys(this.portNumbers).reduce(function(e,t){return this.portNumbers[t].length+e}.bind(this),0)||0,this.mirroringPortMin=Math.min(this.portNumbers.standard[0]||1,this.portNumbers.sfp[0]||1,this.portNumbers.plus[0]||1),this.mirroringPortMax=Math.max(this.portNumbers.standard[this.portNumbers.standard.length-1]||1,this.portNumbers.sfp[this.portNumbers.sfp.length-1]||1,this.portNumbers.plus[this.portNumbers.plus.length-1]||1),this.hasFullFeatures=this.device.isSwitch(),this.setOpModeAvailability(),this.setAggregateRange(),this.onModelChange()},n.prototype.save=function(){var e=this.clients.repository.collection.findWhere({ip:this.device.get("inform_ip")});return(e&&e.get("sw_mac")===this.device.get("mac")&&e.get("sw_port")===this.stateModel.get("port_idx")?this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_PROPERTIES_SWITCH_PORT_SAVE_CONTROLLER_CONFIRM_TITLE",{port:e.get("sw_port")})}.bind(this),message:function(){return this.$translate.instant("DEVICE_PROPERTIES_SWITCH_PORT_SAVE_CONTROLLER_CONFIRM_MESSAGE",{port:e.get("sw_port"),informIp:this.device.get("inform_ip")})}.bind(this),options:angular.noop}):this.modelCopy.get("poe_mode")===this.model.get("poe_mode")||"pasv24"!==this.modelCopy.get("poe_mode")&&"passthrough"!==this.modelCopy.get("poe_mode")?this.$q.when():this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_PROPERTIES_SWITCH_PORT_POE_MODE_CONFIRM_TITLE",{port:this.stateModel.get("port_idx")})}.bind(this),message:function(){return this.$translate.instant("DEVICE_PROPERTIES_SWITCH_PORT_POE_MODE_CONFIRM_MESSAGE",{port:this.stateModel.get("port_idx"),poeMode:this.$translate.instant(this.poeOptions.find(function(e){return e.value===this.modelCopy.get("poe_mode")}.bind(this)).translationKey)})}.bind(this),options:angular.noop})).then(function(){this.isSubmitting=!0;var e=this.device.get("port_overrides").deepCopy();e.remove(this.stateModel.get("port_idx")),e.add(this.getAttrsToSave());var t=e.toJSON();return this.deviceUtils.saveDevice(this.device,{port_overrides:t},{wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("DEVICE_PROPERTIES_TAB_PORTS").toLowerCase()})),this.device.get("port_overrides").reset(t),this.device.fetch(),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("DEVICE_PROPERTIES_TAB_PORTS").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))}.bind(this))},n.prototype.getSelectedProfile=function(){return this.switches.repository.collection.get(this.modelCopy.get("portconf_id"))},n.prototype.isDifferentThanProfile=function(e,t){if(this.modelCopy){var i=this.getSelectedProfile(),r=angular.extend({},this.PORT_PROFILE_DEFAULTS,i?i.toJSON():{}),n=angular.isArray(e)?e:[e];return!r||n.some(function(e){return this.modelCopy.get(e)!==r[e]&&(!!r.hasOwnProperty(e)||!t&&(void 0!==this.modelCopy.get(e)&&!1!==this.modelCopy.get(e)))}.bind(this))}},n.prototype.hasVisibleOverrides=function(){if(this.modelCopy){var e=this.getAttrsToSave();delete e.port_idx,delete e.portconf_id,delete e.name;var t=this.getSelectedProfile();return t&&t.get("poe_mode")||delete e.poe_mode,Object.keys(e).length>0}},n.prototype.hasPortConfChanged=function(){return!(!this.modelCopy||!this.stateModel||this.modelCopy.attributes.portconf_id===this.stateModel.get("portconf_id"))},n.prototype.isPortConfDisabled=function(){return!(this.hasFullFeatures||this.device&&this.device.get("switch_vlan_enabled"))},n.prototype.getDefaultPortConfId=function(){return(this.switches.repository.collection.findWhere({attr_hidden_id:"All"})||this.switches.repository.collection.at(0)||{}).id},n.prototype.getSwitchPortProfiles=function(){return this.device&&this.deviceFeatureUtils.isQcaSwitch(this.device)&&!this.deviceFeatureUtils.isOwrtSwitch(this.device)?this.switches.repository.collection.models.filter(function(e){return e.get("attr_hidden_id")!==this.SWITCH_PROFILE_ALL_ID}.bind(this)):this.switches.repository.collection.models},n.prototype.getPortProfileGroup=function(e){return-1!==[this.SWITCH_PROFILE_ALL_ID,this.SWITCH_PROFILE_DISABLED_ID].indexOf(e.get("attr_hidden_id"))?this.$translate.instant("DEVICE_PROPERTIES_VALUES_SWITCH_PORT_PROFILE_GROUP_DEFAULT"):!0===e.get("attr_no_edit")?this.$translate.instant("DEVICE_PROPERTIES_VALUES_SWITCH_PORT_PROFILE_GROUP_NETWORKS"):this.$translate.instant("DEVICE_PROPERTIES_VALUES_SWITCH_PORT_PROFILE_GROUP_CUSTOM")},n.prototype.getPortsLabel=function(){return this.stateModel?"aggregate"===this.stateModel.get("op_mode")?[this.stateModel.get("port_idx"),this.stateModel.get("port_idx")+this.stateModel.get("aggregate_num_ports")-1].join("-"):this.stateModel.get("port_idx"):void 0},n.prototype.getAttrsToSave=function(){var e=angular.extend({},this.modelCopy.attributes);return e.name||delete e.name,this.getVisibility("poe-mode")||delete e.poe_mode,this.getVisibility("mirror-port")||delete e.mirror_port_idx,this.getVisibility("dot1x-ctrl")||delete e.dot1x_ctrl,this.getVisibility("link-neg")||delete e.autoneg,this.getVisibility("full-duplex")||delete e.full_duplex,this.getVisibility("speed")||delete e.speed,this.getVisibility("isolation")||delete e.isolation,this.getVisibility("storm-control")||(delete e.stormctrl_ucast_enabled,delete e.stormctrl_mcast_enabled,delete e.stormctrl_bcast_enabled),e.stormctrl_ucast_enabled||delete e.stormctrl_ucast_rate,e.stormctrl_mcast_enabled||delete e.stormctrl_mcast_rate,e.stormctrl_bcast_enabled||delete e.stormctrl_bcast_rate,this.getVisibility("lldp-med")||delete e.lldpmed_enabled,e.lldpmed_enabled||delete e.lldpmed_notify_enabled,e.egress_rate_limit_kbps_enabled||delete e.egress_rate_limit_kbps,Object.keys(e).forEach(function(t){this.isDifferentThanProfile(t)||delete e[t]}.bind(this)),this.getVisibility("aggregate-ports")?e.aggregate_num_ports=this.aggregatePortStopCopy-this.modelCopy.attributes.port_idx+1:delete e.aggregate_num_ports,e},n.prototype.setDefaultAttrs=function(e,t){var i=e?"":"Copy";if(this["model"+i]&&this.stateModel&&this.device){if(this.portConf=this.switches.repository.collection.get(this["model"+i].attributes.portconf_id||this.stateModel.get("portconf_id")||this.getDefaultPortConfId()),this.portConf){var r=angular.extend({},this.portConf.attributes);r.portconf_id=r._id,delete r._id,delete r.name,delete r.site_id,angular.extend(this["model"+i].attributes,r)}var n;if(this.portOverride=this.device.get("port_overrides").findWhere({port_idx:this.stateModel.get("port_idx")}),this.portOverride)this["model"+i].attributes.portconf_id!==this.stateModel.get("portconf_id")||t?n={name:this.portOverride.get("name")}:delete(n=angular.extend({},this.portOverride.attributes)).portconf_id,angular.extend(this["model"+i].attributes,n);if("mirror"!==r.op_mode||this.isMirroringAllowed||delete this["model"+i].attributes.op_mode,r.poe_mode){var o=this.poeOptions.find(function(e){return e.value===r.poe_mode});o&&o.isAvailable||delete this["model"+i].attributes.poe_mode}var s={};this["model"+i].has("poe_mode")||(s.poe_mode=(this.model?this.model.get("poe_mode"):void 0)||(this.portFeatureUtils.isPoeAutoSupported(this.stateModel)?"auto":"off")),this["model"+i].has("op_mode")||(s.op_mode=(this.model&&!t?this.model.get("op_mode"):void 0)||this.PORT_PROFILE_DEFAULTS.op_mode),this["model"+i].has("dot1x_ctrl")||(s.dot1x_ctrl=(this.model&&!t?this.model.get("dot1x_ctrl"):void 0)||this.PORT_PROFILE_DEFAULTS.dot1x_ctrl),this["model"+i].has("autoneg")||(s.autoneg=this.model&&this.model.has("autoneg")&&!t?this.model.get("autoneg"):this.PORT_PROFILE_DEFAULTS.autoneg),this["model"+i].has("full_duplex")||(s.full_duplex=this.model&&this.model.has("full_duplex")&&!t?this.model.get("full_duplex"):this.PORT_PROFILE_DEFAULTS.full_duplex),this["model"+i].has("lldpmed_enabled")||(s.lldpmed_enabled=this.model&&this.model.has("lldpmed_enabled")&&!t?this.model.get("lldpmed_enabled"):this.PORT_PROFILE_DEFAULTS.lldpmed_enabled),this["model"+i].has("egress_rate_limit_kbps_enabled")||(s.egress_rate_limit_kbps_enabled=this.model&&this.model.has("egress_rate_limit_kbps_enabled")&&!t?this.model.get("egress_rate_limit_kbps_enabled"):this.PORT_PROFILE_DEFAULTS.egress_rate_limit_kbps_enabled),angular.extend(this["model"+i].attributes,s)}this["aggregatePortStop"+i]=this.stateModel&&this.stateModel.get("aggregate_num_ports")?this.stateModel.get("port_idx")+this.stateModel.get("aggregate_num_ports")-1:null,this.clampAggregatePortStop()},n.prototype.setOverridesExpanded=function(){this.hasVisibleOverrides()&&(this.isOverridesExpanded=!0)},n.prototype.setDefaultPortName=function(){switch(this.stateModel&&this.switchUtils.getPortTypeByNumber(this.portNumbers,this.stateModel.get("port_idx"))){case"sfp":this.defaultPortName="SFP "+(this.portNumbers.sfp.indexOf(this.stateModel.get("port_idx"))+1);break;case"plus":this.defaultPortName="SFP+ "+(this.portNumbers.plus.indexOf(this.stateModel.get("port_idx"))+1);break;case"standard":this.defaultPortName="Port "+(this.portNumbers.standard.indexOf(this.stateModel.get("port_idx"))+1);break;default:this.defaultPortName="Port"}},n.prototype.setOpModeAvailability=function(){if(this.isMirroringAllowed=!1,this.device){var e=this.device.get("port_table").findWhere({op_mode:"mirror"});e&&e.get("port_idx")!==this.stateModel.get("port_idx")||(this.isMirroringAllowed=!0)}},n.prototype.setPoeAvailability=function(){this.isPoeSupported=this.stateModel&&this.stateModel.get("port_poe");var e=this.switchUtils.getPortPoeAvailability(this.stateModel);this.isPortPassthroughOnly=e.isPoePassthroughSupported&&!e.isPoeOffSupported,angular.forEach(this.poeOptions,function(t){switch(t.value){case"off":t.isAvailable=!0===e.isPoeOffSupported;break;case"passthrough":t.isAvailable=!0===e.isPoePassthroughSupported;break;case"pasv24":t.isAvailable=!1===e.isPoePassthroughSupported&&!0===e.isPoePassive24Supported;break;case"auto":t.isAvailable=!1===e.isPoePassthroughSupported&&!0===e.isPoeAutoSupported,t.translationKey=!0===e.isPoePlusSupported?"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_PLUS":"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE"}})},n.prototype.setSpeedAvailability=function(){if(this.stateModel){var e=this.stateModel.get("media");angular.forEach(this.speedOptions,function(t){1e4===t.value&&(t.isAvailable="SFP+"===e||"10GE"===e),100!==t.value&&10!==t.value||(t.isAvailable="SFP"!==e&&"SFP+"!==e&&"10GE"!==e)})}},n.prototype.setAggregateRange=function(){if(this.aggregateMin=this.aggregateMax=void 0,this.stateModel&&this.device){this.aggregateMin=this.stateModel.get("port_idx")+1,this.aggregateMax=Math.min(this.aggregateMin+2,this.numPorts);for(var e,t=this.aggregateMin;t<=this.aggregateMax;t++)if(!(e=this.device.get("port_table").findWhere({port_idx:t}))||"switch"!==e.get("op_mode")){this.aggregateMax=t;break}}this.clampAggregatePortStop()},n.prototype.clampAggregatePortStop=function(){this.aggregateMin&&this.aggregateMin===this.aggregateMax&&(this.aggregatePortStop||(this.aggregatePortStop=this.aggregateMin),this.aggregatePortStopCopy||(this.aggregatePortStopCopy=this.aggregateMin))},n.prototype.onProfileChange=function(e){if(this.modelCopy){var t={name:this.modelCopy.attributes.name,port_idx:this.modelCopy.attributes.port_idx,portconf_id:this.modelCopy.attributes.portconf_id};this.modelCopy.clear(),this.modelCopy.set(t),this.setDefaultAttrs(!1,e)}},n.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},n.prototype.reset=function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1)},n.$inject=["$timeout","$translate","$q","apiResults","clients","deviceFeatureUtils","deviceUtils","frame","heyToasts","modelDivergence","portFeatureUtils","PortModel","switches","switchUtils","CAST_RATES","EGRESS_RATE_LIMITS","PORT_PROFILE_DEFAULTS","REGEX_PATTERNS"],angular.module("app-unifi-manage-property-panel").controller("SwitchPropertiesPortFormController",n)},{}],286:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchPropertiesPortForm",[function(){return{scope:{stateModel:"=unifiSwitchPropertiesPortForm",device:"=unifiSwitchPropertiesPortFormDevice",onSave:"&unifiSwitchPropertiesPortFormOnSave",onCancel:"&unifiSwitchPropertiesPortFormOnCancel",isOpen:"=unifiSwitchPropertiesPortFormIsOpen",isReadOnly:"=unifiSwitchPropertiesPortFormIsReadOnly"},controller:"SwitchPropertiesPortFormController",controllerAs:"switchPropertiesPortFormCtrl",template:e("./switchPropertiesPortForm.pug")(),link:function(e,t,i,r){e.directiveId=e.$id,e.onSubmit=function(t){!0===t&&e.onSave()};var n=e.$watch("stateModel",function(e){e&&(r.updateStateModel(e),n())}),o=e.$watch("device",function(e){e&&(r.updateDevice(e),o())}),s=e.$watch(function(){return!(!r.stateModel||!r.device)},function(e){e&&(r.init(),s())});e.$on("$destroy",function(){r.removeEventHandlers()})}}}])},{"./switchPropertiesPortForm.pug":287}],287:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+r("novalidate",!0,!0,!0)+' autocomplete="off" name="switchPropertiesPortFormCtrl.form" ng-class="{    \'is-form-validation-visible\': switchPropertiesPortFormCtrl.showValidation,    \'is-validation-hidden\': !switchPropertiesPortFormCtrl.showValidation  }" ng-submit="switchPropertiesPortFormCtrl.form.$valid &amp;&amp; switchPropertiesPortFormCtrl.save().then(onSubmit)"><div unifi-initialize-when="switchPropertiesPortFormCtrl.model"><unifi-config-changed unifi-config-changed-on-reset="switchPropertiesPortFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="switchPropertiesPortFormCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; switchPropertiesPortFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><h4 class="panelTitle"><span>{{\'DEVICE_PROPERTIES_LABEL_PORT\' | translate}} {{switchPropertiesPortFormCtrl.getPortsLabel()}}</span></h4><div class="appFormGroup appFormGroup--cozy"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_NAME"></label><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="portName" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.name" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.name" ng-pattern="switchPropertiesPortFormCtrl.patterns.name" placeholder="{{switchPropertiesPortFormCtrl.defaultPortName}}"'+r("autofocus",!0,!0,!0)+'></div></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="{{switchPropertiesPortFormCtrl.hasFullFeatures ? \'DEVICE_PROPERTIES_LABEL_PORT_PROFILE\' : \'DEVICE_PROPERTIES_LABEL_NETWORKS_VLANS\'}}"></label><a class="appMainButton appMainButton--tertiary appMainButton--condensed floatRight" ng-if="switchPropertiesPortFormCtrl.hasFullFeatures" ui-sref="manage.site.settings.profiles.ports"><span class="button__icon icon ubnt-icon--link visible--smUp"></span><span translate="DEVICE_PROPERTIES_BUTTON_MANAGE_PROFILES"></span></a><div class="appInputGroup appInputGroup--cozy"><select class="select--full" name="portProfiles" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.portconf_id" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.portconf_id" ng-options="port.id as port | networkVlan: \'native_networkconf_id\' group by switchPropertiesPortFormCtrl.getPortProfileGroup(port) for port in switchPropertiesPortFormCtrl.getSwitchPortProfiles()" ng-change="switchPropertiesPortFormCtrl.onProfileChange()" ng-disabled="switchPropertiesPortFormCtrl.isPortConfDisabled()"></select></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="switchPropertiesPortFormCtrl.hasPortConfChanged() &amp;&amp; switchPropertiesPortFormCtrl.hasFullFeatures"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_SWITCH_PORT_NOTICE_OVERRIDE_RESET"></p></div></div></div><div class="appInfoBox appInfoBox--cozy verticalRhythmTop--cozy" ng-if="switchPropertiesPortFormCtrl.isPortConfDisabled()"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_SWITCH_PORT_NOTICE_PORT_CONF_DISABLED"></p></div><div class="appInfoBox__footer"><button class="appMainButton appMainButton--transparent appMainButton--cozy" type="button" unifi-open-panel="switchPropertiesPortFormCtrl.device" unifi-open-panel-active-tab="\'configure\'" unifi-open-panel-change-tab="true" unifi-open-panel-states="[{ state: \'activeAccordionGroup\', value: \'services\', overwrite: true }]" unifi-open-panel-keep-current-index="true">{{\'DEVICE_PROPERTIES_SWITCH_PORT_BUTTON_PORT_CONF_CONFIGURE\' | translate}}</button></div></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet verticalRhythmTop--cozy" ng-disabled="isReadOnly" ng-if="switchPropertiesPortFormCtrl.hasFullFeatures" ng-class="{\'appFieldset--collapsed\': !switchPropertiesPortFormCtrl.isOverridesExpanded}"><h4 class="panelTitle"><span ng-click="switchPropertiesPortFormCtrl.isOverridesExpanded = !switchPropertiesPortFormCtrl.isOverridesExpanded" ng-class="switchPropertiesPortFormCtrl.isOverridesExpanded ? \'appCollapserType\' : \'appExpanderType\'" translate="DEVICE_PROPERTIES_SECTION_CONFIGURE_PROFILE_OVERRIDES"></span></h4><div class="appFormGroup appFormGroup--condensed" ng-show="switchPropertiesPortFormCtrl.setVisibility(\'poe-mode\', switchPropertiesPortFormCtrl.isPoeSupported &amp;&amp; switchPropertiesPortFormCtrl.modelCopy.attributes.op_mode === \'switch\')"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_POE"></label><span class="horizontalRhythmLeft--condensed icon ubnt-icon--asterisk success" ng-if="switchPropertiesPortFormCtrl.isDifferentThanProfile(\'poe_mode\', true)"></span><div class="appInputGroup" ng-if="!switchPropertiesPortFormCtrl.isPortPassthroughOnly"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="option in switchPropertiesPortFormCtrl.poeOptions" ng-if="option.isAvailable"><input type="radio" name="poeMode" id="portPoeMode{{option.value + \'-\' + directiveId}}" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.poe_mode" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.poe_mode" ng-value="option.value" ng-required="switchPropertiesPortFormCtrl.getVisibility(\'poe-mode\')"><label for="portPoeMode{{option.value + \'-\' + directiveId}}" translate="{{option.translationKey}}"></label></div></div><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder noPadding verticalRhythmTopQuarter verticalRhythm--cozy" ng-if="switchPropertiesPortFormCtrl.isPortPassthroughOnly"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_SWITCH_PORT_NOTICE_POE_PASSTHROUGH_ONLY"></p></div></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="switchPropertiesPortFormCtrl.isOverridesExpanded" ng-disabled="isReadOnly"><div class="appFormGroup appFormGroup--cozy"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_OPERATION"></label><span class="horizontalRhythmLeft--condensed icon ubnt-icon--asterisk success" ng-if="switchPropertiesPortFormCtrl.isDifferentThanProfile(\'op_mode\')"></span><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup inlineBlock"><input type="radio" name="opMode" id="portOpModeSwitch{{::directiveId}}" value="switch" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.op_mode" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.op_mode" required="true"><label for="portOpModeSwitch{{::directiveId}}" translate="DEVICE_PROPERTIES_SWITCH_PORT_VALUES_OPERATION_SWITCH"></label></div><div class="appInputGroup inlineBlock"><input type="radio" name="opMode" id="portOpModeMirror{{::directiveId}}" value="mirror" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.op_mode" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.op_mode" ng-disabled="!switchPropertiesPortFormCtrl.isMirroringAllowed" required="true"><label for="portOpModeMirror{{::directiveId}}" translate="DEVICE_PROPERTIES_SWITCH_PORT_VALUES_OPERATION_MIRROR"></label></div><div class="appInputGroup inlineBlock"><input type="radio" name="opMode" id="portOpModeAggregate{{::directiveId}}" value="aggregate" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.op_mode" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.op_mode" ng-disabled="switchPropertiesPortFormCtrl.aggregateMin &gt; switchPropertiesPortFormCtrl.numPorts || switchPropertiesPortFormCtrl.aggregateMax &lt; switchPropertiesPortFormCtrl.aggregateMin" required="true"><label for="portOpModeAggregate{{::directiveId}}" translate="DEVICE_PROPERTIES_SWITCH_PORT_VALUES_OPERATION_AGGREGATE"></label></div></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="switchPropertiesPortFormCtrl.modelCopy.attributes.op_mode === \'aggregate\'"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_TOOLTIP_PORT_OPERATION"></p></div></div></div><div class="appFormGroup appFormGroup--condensed" ng-show="switchPropertiesPortFormCtrl.setVisibility(\'mirror-port\', switchPropertiesPortFormCtrl.modelCopy.attributes.op_mode === \'mirror\')"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_MIRRORING_PORT"></label><span class="horizontalRhythmLeft--condensed icon ubnt-icon--asterisk success" ng-if="switchPropertiesPortFormCtrl.isDifferentThanProfile(\'mirror_port_idx\')"></span><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="number" min="{{switchPropertiesPortFormCtrl.getVisibility(\'mirror-port\') ? switchPropertiesPortFormCtrl.mirroringPortMin : \'\'}}" max="{{switchPropertiesPortFormCtrl.getVisibility(\'mirror-port\') ? switchPropertiesPortFormCtrl.mirroringPortMax : \'\'}}" name="mirroringPort" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.mirror_port_idx" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.mirror_port_idx" ng-required="switchPropertiesPortFormCtrl.getVisibility(\'mirror-port\')"'+r("unifi-string-to-integer-input",!0,!0,!0)+'><unifi-tooltip><content translate="DEVICE_PROPERTIES_TOOLTIP_MIRRORING_PORT" translate-values="{port: switchPropertiesPortFormCtrl.modelCopy.attributes.port_idx}"></content></unifi-tooltip></div><div class="appInputFeedback appInputFeedback--danger invalidMirroringPort" ng-if="switchPropertiesPortFormCtrl.form.mirroringPort.$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: switchPropertiesPortFormCtrl.mirroringPortMin, max: switchPropertiesPortFormCtrl.mirroringPortMax}"></div></div><div class="appFormGroup appFormGroup--cozy" ng-show="switchPropertiesPortFormCtrl.setVisibility(\'aggregate-ports\', switchPropertiesPortFormCtrl.modelCopy.attributes.op_mode === \'aggregate\')"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_AGGREGATE_PORTS"></label><span class="horizontalRhythmLeft--condensed icon ubnt-icon--asterisk success" ng-if="switchPropertiesPortFormCtrl.aggregatePortStopCopy"></span><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="text" name="aggregatePortStart" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.port_idx" disabled="true"><label>-</label><input class="input--smallNumber" type="number" name="aggregatePortStop" min="{{switchPropertiesPortFormCtrl.getVisibility(\'aggregate-ports\') ? switchPropertiesPortFormCtrl.aggregateMin : \'\'}}" max="{{switchPropertiesPortFormCtrl.getVisibility(\'aggregate-ports\') ? switchPropertiesPortFormCtrl.aggregateMax : \'\'}}" ng-model="switchPropertiesPortFormCtrl.aggregatePortStopCopy" ng-model-master="switchPropertiesPortFormCtrl.aggregatePortStop" ng-disabled="switchPropertiesPortFormCtrl.aggregateMin === switchPropertiesPortFormCtrl.aggregateMax" ng-required="switchPropertiesPortFormCtrl.getVisibility(\'aggregate-ports\')"'+r("unifi-string-to-integer-input",!0,!0,!0)+'><span class="appType--micro appType--quiet italicized" ng-if="switchPropertiesPortFormCtrl.aggregateMin !== switchPropertiesPortFormCtrl.aggregateMax" translate="DEVICE_PROPERTIES_VALUES_BETWEEN" translate-values="{              \'min\': switchPropertiesPortFormCtrl.aggregateMin,              \'max\': switchPropertiesPortFormCtrl.aggregateMax            }"></span></div></div><div class="appFormGroup appFormGroup--cozy" ng-show="switchPropertiesPortFormCtrl.setVisibility(\'dot1x-ctrl\', switchPropertiesPortFormCtrl.device &amp;&amp; switchPropertiesPortFormCtrl.device.get(\'dot1x_portctrl_enabled\') &amp;&amp; [\'switch\', \'aggregate\'].indexOf(switchPropertiesPortFormCtrl.modelCopy.attributes.op_mode) !== -1)"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_8021X_CONTROL"></label><span class="horizontalRhythmLeft--condensed icon ubnt-icon--asterisk success" ng-if="switchPropertiesPortFormCtrl.isDifferentThanProfile(\'dot1x_ctrl\')"></span><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup inlineBlock"><input type="radio" name="dot1xCtrl" id="port8021xCtrlAuto{{::directiveId}}" value="auto" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.dot1x_ctrl"><label for="port8021xCtrlAuto{{::directiveId}}" translate="DEVICE_PROPERTIES_SWITCH_PORT_VALUES_AUTO"></label></div><div class="appInputGroup inlineBlock"><input type="radio" name="dot1xCtrl" id="port8021xCtrlForceAuthorized{{::directiveId}}" value="force_authorized" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.dot1x_ctrl"><label for="port8021xCtrlForceAuthorized{{::directiveId}}" translate="DEVICE_PROPERTIES_SWITCH_PORT_VALUES_FORCE_AUTHORIZED"></label></div><div class="appInputGroup inlineBlock"><input type="radio" name="dot1xCtrl" id="port8021xCtrlForceUnauthorized{{::directiveId}}" value="force_unauthorized" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.dot1x_ctrl"><label for="port8021xCtrlForceUnauthorized{{::directiveId}}" translate="DEVICE_PROPERTIES_SWITCH_PORT_VALUES_FORCE_UNAUTHORIZED"></label></div><div class="appInputGroup inlineBlock"><input type="radio" name="dot1xCtrl" id="port8021xCtrlMacBased{{::directiveId}}" value="mac_based" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.dot1x_ctrl"><label for="port8021xCtrlMacBased{{::directiveId}}" translate="DEVICE_PROPERTIES_SWITCH_PORT_VALUES_MAC_BASED"></label></div></div></div><div class="appFormGroup appFormGroup--condensed" ng-show="switchPropertiesPortFormCtrl.setVisibility(\'link-neg\', switchPropertiesPortFormCtrl.stateModel &amp;&amp; switchPropertiesPortFormCtrl.stateModel.get(\'media\'))"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_LINK_NEGOTIATION"></label><span class="horizontalRhythmLeft--condensed icon ubnt-icon--asterisk success" ng-if="switchPropertiesPortFormCtrl.isDifferentThanProfile(\'autoneg\')"></span><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup inlineBlock"><input type="radio" name="autoNeg" id="portLinkNegAuto{{::directiveId}}" ng-value="true" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.autoneg" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.autoneg" ng-required="switchPropertiesPortFormCtrl.getVisibility(\'link-neg\')"><label for="portLinkNegAuto{{::directiveId}}" translate="DEVICE_PROPERTIES_SWITCH_PORT_VALUES_AUTO"></label></div><div class="appInputGroup inlineBlock"><input type="radio" name="autoNeg" id="portLinkNegManual{{::directiveId}}" ng-value="false" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.autoneg" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.autoneg" ng-required="switchPropertiesPortFormCtrl.getVisibility(\'link-neg\')"><label for="portLinkNegManual{{::directiveId}}" translate="DEVICE_PROPERTIES_SWITCH_PORT_VALUES_MANUAL"></label></div></div></div><div class="appFormGroup appFormGroup--condensed" ng-show="switchPropertiesPortFormCtrl.setVisibility(\'full-duplex\', !switchPropertiesPortFormCtrl.modelCopy.attributes.autoneg &amp;&amp; switchPropertiesPortFormCtrl.stateModel &amp;&amp; [\'SFP\', \'SFP+\'].indexOf(switchPropertiesPortFormCtrl.stateModel.get(\'media\')) === -1)"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_FULL_DUPLEX"></label><span class="horizontalRhythmLeft--condensed icon ubnt-icon--asterisk success" ng-if="switchPropertiesPortFormCtrl.isDifferentThanProfile(\'full_duplex\')"></span><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableFullDuplex" id="portFullDuplex{{::directiveId}}" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.full_duplex" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.full_duplex"><label for="portFullDuplex{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_FULL_DUPLEX"></label></div></div><div class="appFormGroup appFormGroup--condensed" ng-show="switchPropertiesPortFormCtrl.setVisibility(\'speed\', !switchPropertiesPortFormCtrl.modelCopy.attributes.autoneg)"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_LINK_SPEED"></label><span class="horizontalRhythmLeft--condensed icon ubnt-icon--asterisk success" ng-if="switchPropertiesPortFormCtrl.isDifferentThanProfile(\'speed\')"></span><div class="appInputGroup appInputGroup--cozy"><select class="select--full" name="linkSpeed" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.speed" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.speed" ng-options="speed.value as speed.label for speed in switchPropertiesPortFormCtrl.speedOptions | filter:{isAvailable: true}" ng-required="switchPropertiesPortFormCtrl.getVisibility(\'speed\')"></select></div></div><div class="appFormGroup appFormGroup--condensed" ng-show="switchPropertiesPortFormCtrl.setVisibility(\'isolation\', switchPropertiesPortFormCtrl.modelCopy.attributes.op_mode !== \'aggregate\')"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_ISOLATION"></label><span class="horizontalRhythmLeft--condensed icon ubnt-icon--asterisk success" ng-if="switchPropertiesPortFormCtrl.isDifferentThanProfile(\'isolation\')"></span><div class="appInputGroup appInputGroup--comfy"><input type="checkbox" name="enableIsolation" id="portIsolation{{::directiveId}}" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.isolation" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.isolation"><label for="portIsolation{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_ISOLATION"></label><div class="appTooltipContainer appTooltipContainer--hoverable"><div class="appAlertIcon appAlertIcon--warning appAlertIcon--scaled appAlertIcon--baseline noPadding"><div class="icon ubnt-icon--alert"></div><div class="appTooltip appTooltip--bottomRight" translate="DEVICE_PROPERTIES_TOOLTIP_PORT_ISOLATION"></div></div></div></div></div><div class="appFormGroup appFormGroup--condensed" ng-show="switchPropertiesPortFormCtrl.setVisibility(\'storm-control\', switchPropertiesPortFormCtrl.modelCopy.attributes.op_mode === \'switch\')"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_STORM_CONTROL"></label><span class="horizontalRhythmLeft--condensed icon ubnt-icon--asterisk success" ng-if="switchPropertiesPortFormCtrl.isDifferentThanProfile([\'stormctrl_ucast_enabled\', \'stormctrl_mcast_enabled\', \'stormctrl_bcast_enabled\', \'stormctrl_ucast_rate\', \'stormctrl_mcast_rate\', \'stormctrl_bcast_rate\'])"></span><div class="appInputGroup appInputGroup--cozy" ng-repeat="type in [\'ucast\', \'mcast\', \'bcast\']"><input type="checkbox" name="enableStormControl{{type}}" id="portStormControl{{type}}{{::directiveId}}" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\']" ng-model-master="switchPropertiesPortFormCtrl.model.attributes[\'stormctrl_\' + type + \'_enabled\']"><label for="portStormControl{{type}}{{::directiveId}}" translate="{{\'DEVICE_PROPERTIES_VALUES_\' + type | toTranslationKey}}"></label><input class="input--mediumNumber" type="number" name="stormControl{{type}}Rate" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_rate\']" ng-model-master="switchPropertiesPortFormCtrl.model.attributes[\'stormctrl_\' + type + \'_rate\']" ng-disabled="!switchPropertiesPortFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\']" ng-required="switchPropertiesPortFormCtrl.getVisibility(\'storm-control\') &amp;&amp; switchPropertiesPortFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\']" min="{{switchPropertiesPortFormCtrl.getVisibility(\'storm-control\') &amp;&amp; switchPropertiesPortFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\'] ? switchPropertiesPortFormCtrl.CAST_RATES.MIN : \'\'}}" max="{{switchPropertiesPortFormCtrl.getVisibility(\'storm-control\') &amp;&amp; switchPropertiesPortFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\'] ? switchPropertiesPortFormCtrl.CAST_RATES.MAX : \'\'}}"><label ng-class="{\'is-label-disabled\': !switchPropertiesPortFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\']}">pkts/s</label><div class="appInputFeedback appInputFeedback--danger invalidStormControlRate" ng-if="switchPropertiesPortFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\'] &amp;&amp; switchPropertiesPortFormCtrl.form[\'stormControl\' + type + \'Rate\'].$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: switchPropertiesPortFormCtrl.CAST_RATES.MIN, max: \'{{switchPropertiesPortFormCtrl.CAST_RATES.MAX | numberToString}}\'}"></div></div></div><div class="appFormGroup appFormGroup--condensed" ng-show="switchPropertiesPortFormCtrl.setVisibility(\'lldp-med\', switchPropertiesPortFormCtrl.modelCopy.attributes.op_mode === \'switch\')"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_LLDP_MED"></label><span class="horizontalRhythmLeft--condensed icon ubnt-icon--asterisk success" ng-if="switchPropertiesPortFormCtrl.isDifferentThanProfile([\'lldpmed_enabled\', \'lldpmed_notify_enabled\'])"></span><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableLldpMed" id="enableLldpMed{{::directiveId}}" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.lldpmed_enabled" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.lldpmed_enabled"><label for="enableLldpMed{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_LLDP_MED"></label></div><div class="appInputGroup appInputGroup--cozy" ng-show="switchPropertiesPortFormCtrl.modelCopy.attributes.lldpmed_enabled"><input type="checkbox" name="enableLldpMedNotify" id="enableLldpMedNotify{{::directiveId}}" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.lldpmed_notify_enabled" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.lldpmed_notify_enabled"><label for="enableLldpMedNotify{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_LLDP_MED_NOTIFY"></label></div></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_RATE_LIMIT"></label><span class="horizontalRhythmLeft--condensed icon ubnt-icon--asterisk success" ng-if="switchPropertiesPortFormCtrl.isDifferentThanProfile([\'egress_rate_limit_kbps\', \'egress_rate_limit_kbps_enabled\'], true)"></span><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableRateLimit" id="enableRateLimit{{::directiveId}}" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled" ng-model-master="switchPropertiesPortFormCtrl.model.attributes.egress_rate_limit_kbps_enabled"><label for="enableRateLimit{{::directiveId}}" translate="DEVICE_PROPERTIES_VALUES_ENABLE_RATE_LIMIT"></label><unifi-binary-input unifi-binary-input-suffix="\'bps\'" unifi-binary-input-base-prefix="\'K\'" unifi-binary-input-allowed-prefixes="[\'K\', \'M\']" unifi-binary-input-standard="\'SI\'" unifi-binary-input-min="switchPropertiesPortFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled ? switchPropertiesPortFormCtrl.EGRESS_RATE_LIMITS.MIN : \'\'" unifi-binary-input-max="switchPropertiesPortFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled ? switchPropertiesPortFormCtrl.EGRESS_RATE_LIMITS.MAX : \'\'" name="rateLimitValue" ng-model="switchPropertiesPortFormCtrl.modelCopy.attributes.egress_rate_limit_kbps" ng-disabled="!switchPropertiesPortFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled" ng-required="switchPropertiesPortFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled"></unifi-binary-input><div class="appInputFeedback appInputFeedback--danger invalidRateLimit" ng-if="switchPropertiesPortFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled &amp;&amp; switchPropertiesPortFormCtrl.form.rateLimitValue.$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: \'{{switchPropertiesPortFormCtrl.form.rateLimitValue.rateLimitValue.$$attr.min | numberToString: undefined : 3}}\', max: \'{{switchPropertiesPortFormCtrl.form.rateLimitValue.rateLimitValue.$$attr.max | numberToString: undefined : 3}}\'}"></div></div></div></fieldset><div class="iconText appIconText appIconText--small verticalRhythmTop--cozy verticalRhythm--condensed" ng-if="switchPropertiesPortFormCtrl.isOverridesExpanded"><span class="iconText__icon icon ubnt-icon--asterisk success"></span><span class="iconText__text italicized" translate="DEVICE_PROPERTIES_SWITCH_PORT_NOTICE_OVERRIDE_ICON"></span></div><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed savePort" ng-if="!isReadOnly" ng-click="switchPropertiesPortFormCtrl.showValidation = true" busy-toggle="switchPropertiesPortFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--condensed resetPort" type="button" ng-if="!isReadOnly &amp;&amp; switchPropertiesPortFormCtrl.hasFullFeatures" ng-click="switchPropertiesPortFormCtrl.showValidation = true; switchPropertiesPortFormCtrl.onProfileChange(true)" ng-disabled="!switchPropertiesPortFormCtrl.hasVisibleOverrides()">{{\'COMMON_ACTIONS_REMOVE_OVERRIDES\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--condensed cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></div></form>'};var n=/["&<>]/},{"pug-runtime":2}],288:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a,l,p,c,d){this.$translate=e,this.$q=t,this.apiResults=i,this.clients=n,this.deviceFeatureUtils=o,this.deviceUtils=s,this.frame=a,this.heyToasts=l,this.switches=c,this.patterns={name:d.NAME},this.SWITCH_PROFILE_ALL_ID="All",this.SWITCH_PROFILE_DISABLED_ID="Disabled",r.call(this,p)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.updateBatchModel=function(e){this.batchModel=e,this.updateModel(e?e.get("source"):void 0)},n.prototype.updateDevice=function(e){this.device=e},n.prototype.save=function(){var e,t=this.clients.repository.collection.findWhere({ip:this.device.get("inform_ip")});return t&&t.get("sw_mac")===this.device.get("mac")&&(e=!!this.batchModel.get("destination").find(function(e){return t.get("sw_port")===e.get("port_idx")})),(e?this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_PROPERTIES_SWITCH_PORT_SAVE_CONTROLLER_CONFIRM_TITLE",{port:t.get("sw_port")})}.bind(this),message:function(){return this.$translate.instant("DEVICE_PROPERTIES_SWITCH_PORT_SAVE_CONTROLLER_CONFIRM_MESSAGE",{port:t.get("sw_port"),informIp:this.device.get("inform_ip")})}.bind(this),options:angular.noop}):this.$q.when()).then(function(){this.isSubmitting=!0;var e=this.getAttrsToSave();return this.deviceUtils.saveDevice(this.device,{port_overrides:e},{wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("DEVICE_PROPERTIES_TAB_PORTS").toLowerCase()})),this.device.get("port_overrides").reset(e),this.device.fetch(),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("DEVICE_PROPERTIES_TAB_PORTS").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))}.bind(this))},n.prototype.isSaveDisabled=function(){return!this.modelCopy||!this.modelCopy.attributes.name&&!this.hasPortConfChanged()},n.prototype.hasPortConfChanged=function(){return!(!this.modelCopy||!this.modelCopy.attributes.portconf_id||this.modelCopy.attributes.portconf_id===this.batchModel.getUnanimousDestinationValue("portconf_id"))},n.prototype.getSwitchPortProfiles=function(){return this.device&&this.deviceFeatureUtils.isQcaSwitch(this.device)&&!this.deviceFeatureUtils.isOwrtSwitch(this.device)?this.switches.repository.collection.models.filter(function(e){return e.get("attr_hidden_id")!==this.SWITCH_PROFILE_ALL_ID}):this.switches.repository.collection.models},n.prototype.getPortProfileGroup=function(e){return-1!==[this.SWITCH_PROFILE_ALL_ID,this.SWITCH_PROFILE_DISABLED_ID].indexOf(e.get("attr_hidden_id"))?this.$translate.instant("DEVICE_PROPERTIES_VALUES_SWITCH_PORT_PROFILE_GROUP_DEFAULT"):!0===e.get("attr_no_edit")?this.$translate.instant("DEVICE_PROPERTIES_VALUES_SWITCH_PORT_PROFILE_GROUP_NETWORKS"):this.$translate.instant("DEVICE_PROPERTIES_VALUES_SWITCH_PORT_PROFILE_GROUP_CUSTOM")},n.prototype.getDefaultPortConfId=function(){return(this.switches.repository.collection.findWhere({attr_hidden_id:this.SWITCH_PROFILE_ALL_ID})||this.switches.repository.collection.at(0)||{}).id},n.prototype.getAttrsToSave=function(){var e=this.device.get("port_overrides").deepCopy(),t=e.model,i=this.hasPortConfChanged();return this.batchModel.get("destination").each(function(r){var n=e.remove(r.get("port_idx")),o=i||!n?new t({port_idx:r.get("port_idx")}):n;this.modelCopy.attributes.name?o.set("name",this.modelCopy.attributes.name):n&&n.has("name")&&o.set("name",n.get("name")),this.modelCopy.attributes.portconf_id?o.set("portconf_id",this.modelCopy.attributes.portconf_id):n?o.set("portconf_id",n.get("portconf_id")):o.set("portconf_id",this.getDefaultPortConfId()),e.add(o,{merge:!0})}.bind(this)),e.toJSON()},n.prototype.getPortsLabel=function(){var e,t=[];return this.batchModel&&this.batchModel.get("destination").each(function(i){if("aggregate"===i.get("op_mode"))t.push([i.get("port_idx"),i.get("port_idx")+i.get("aggregate_num_ports")-1].join("-")),e=null;else{if(e&&e+1===i.get("port_idx")){var r=t.pop().toString().split("-");1===r.length?r=[e,i.get("port_idx")]:r[1]++,t.push(r.join("-"))}else t.push(i.get("port_idx"));e=i.get("port_idx")}}),t.join(", ")},n.prototype.setDefaultAttrs=function(e){var t=e?"":"Copy";this["model"+t]&&(this["model"+t].attributes.portconf_id=this.batchModel.getUnanimousDestinationValue("portconf_id"))},n.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},n.prototype.reset=function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1)},n.$inject=["$translate","$q","apiResults","clients","deviceFeatureUtils","deviceUtils","frame","heyToasts","modelDivergence","switches","REGEX_PATTERNS"],angular.module("app-unifi-manage-property-panel").controller("SwitchPropertiesPortFormBatchController",n)},{}],289:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchPropertiesPortFormBatch",[function(){return{scope:{batchModel:"=unifiSwitchPropertiesPortFormBatch",device:"=unifiSwitchPropertiesPortFormBatchDevice",onSave:"&unifiSwitchPropertiesPortFormBatchOnSave",onCancel:"&unifiSwitchPropertiesPortFormBatchOnCancel",isOpen:"=unifiSwitchPropertiesPortFormBatchIsOpen",isReadOnly:"=unifiSwitchPropertiesPortFormBatchIsReadOnly"},controller:"SwitchPropertiesPortFormBatchController",controllerAs:"switchPropertiesPortFormBatchCtrl",template:e("./switchPropertiesPortFormBatch.pug")(),link:function(e,t,i,r){e.directiveId=e.$id,e.onSubmit=function(t){!0===t&&e.onSave()},e.$watch("batchModel",function(e){r.updateBatchModel(e)});var n=e.$watch("device",function(e){e&&(r.updateDevice(e),n())});e.$on("$destroy",function(){r.removeEventHandlers()})}}}])},{"./switchPropertiesPortFormBatch.pug":290}],290:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy unifiPanelItemForm"'+r("novalidate",!0,!0,!0)+' autocomplete="off" name="switchPropertiesPortFormBatchCtrl.form" ng-class="{    \'is-form-validation-visible\': switchPropertiesPortFormBatchCtrl.showValidation,    \'is-validation-hidden\': !switchPropertiesPortFormBatchCtrl.showValidation  }" ng-submit="switchPropertiesPortFormBatchCtrl.form.$valid &amp;&amp; switchPropertiesPortFormBatchCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="switchPropertiesPortFormBatchCtrl.resolveDivergence()" unifi-config-changed-on-ignore="switchPropertiesPortFormBatchCtrl.ignoreDivergence()" unifi-config-changed-is-cozy="true" unifi-config-changed-with-whiteout="true" ng-show="isOpen &amp;&amp; switchPropertiesPortFormBatchCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><h4 class="panelTitle"><span>{{\'DEVICE_PROPERTIES_LABEL_PORT\' | translate}} {{switchPropertiesPortFormBatchCtrl.getPortsLabel()}}</span></h4><div class="appFormGroup appFormGroup--cozy"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_NAME"></label><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="portName" ng-model="switchPropertiesPortFormBatchCtrl.modelCopy.attributes.name" ng-model-master="switchPropertiesPortFormBatchCtrl.model.attributes.name" ng-pattern="switchPropertiesPortFormBatchCtrl.patterns.name" placeholder="{{\'COMMON_VALUE_KEEP_EXISTING\' | translate}}"'+r("autofocus",!0,!0,!0)+'></div></div><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_PORT_PROFILE"></label><a class="appMainButton appMainButton--tertiary appMainButton--condensed floatRight" ui-sref="manage.site.settings.profiles.ports"><span class="button__icon icon ubnt-icon--link visible--smUp"></span><span translate="DEVICE_PROPERTIES_BUTTON_MANAGE_PROFILES"></span></a><div class="appInputGroup appInputGroup--cozy"><select class="select--full" name="portProfiles" ng-model="switchPropertiesPortFormBatchCtrl.modelCopy.attributes.portconf_id" ng-model-master="switchPropertiesPortFormBatchCtrl.model.attributes.portconf_id" ng-options="port.id as port | networkVlan: \'native_networkconf_id\' group by switchPropertiesPortFormBatchCtrl.getPortProfileGroup(port) for port in switchPropertiesPortFormBatchCtrl.getSwitchPortProfiles() | orderBy:\'label\'"><option value="" translate="COMMON_VALUE_KEEP_EXISTING"></option></select></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="switchPropertiesPortFormBatchCtrl.hasPortConfChanged()"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_SWITCH_PORT_NOTICE_OVERRIDE_BATCH"></p></div></div></div><div class="verticalRhythmTop--cozy" unifi-port-profile-summary="switchPropertiesPortFormBatchCtrl.modelCopy.attributes.portconf_id" unifi-port-profile-summary-device="switchPropertiesPortFormBatchCtrl.device"></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush appFormFooter--transparent verticalRhythmTop--cozy"><div class="appFormFooter__left"><button class="appMainButton appMainButton--primary appMainButton--condensed savePort" ng-if="!isReadOnly" ng-click="switchPropertiesPortFormBatchCtrl.showValidation = true" busy-toggle="switchPropertiesPortFormBatchCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="switchPropertiesPortFormBatchCtrl.isSaveDisabled()">{{\'COMMON_ACTIONS_APPLY\' | translate}}</button><button class="appMainButton appMainButton--transparent appMainButton--condensed cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--condensed cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var n=/["&<>]/},{"pug-runtime":2}],291:[function(e,t,i){"use strict";var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();angular.module("app-unifi-manage-property-panel").controller("SwitchPropertiesPortListController",["account","BaseListController","listBatchEditControllerMixin","SimpleModelFilter","switchPropertiesPortListColumnStore","switchUtils",function(e,t,i,n,o,s){return new(function(a){function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return t.skipInitialization=!0,t.isAdmin=e.isAdmin.bind(e),t.switchUtils=s,t.columnStore=o,t.filter=new n,t.defaultSortBy="port_idx",t.isColumnVisible=t.columnStore.isColumnVisible.bind(t.columnStore),t.columnStore.setColumns(),i(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,t),r(l,[{key:"initFilters",value:function(){this.filter.removeAttributeFilter("attr_no_edit"),this.filter.addAttributeFilter("attr_no_edit",!0,{negate:!0})}},{key:"updateModel",value:function(e){if(this.model=e,this.model&&(this.useBatchEditId("batch:ports:"+this.model.id),!this.getBatchEditModel()))throw new Error("Missing batch edit model. It must be defined upstream.")}},{key:"updateCollection",value:function(e){this.destroyView(),this.collection=e,this.initFilters(),this.initView()}},{key:"getCollection",value:function(){return this.collection}},{key:"cancelEdit",value:function(){this.showEditForm=!1,this.isBatchEdit=void 0,this.portModel=void 0}},{key:"edit",value:function(e){this.showEditForm=!0,this.isBatchEdit=!1,this.portModel=e}},{key:"editBatch",value:function(){this.showEditForm=!0,this.isBatchEdit=!0,this.portModel=void 0}}]),l}())}])},{}],292:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchPropertiesPortList",["deviceModelUtils","listBatchEditDirectiveMixin",function(t,i){return{scope:{model:"=unifiSwitchPropertiesPortListModel",ports:"=unifiSwitchPropertiesPortListCollection",togglePortSelection:"&unifiSwitchPropertiesPortListTogglePortSelection",isPortSelectable:"&unifiSwitchPropertiesPortListIsPortSelectable",isPortSelected:"&unifiSwitchPropertiesPortListIsPortSelected",isEditingPorts:"=?unifiSwitchPropertiesPortListIsEditingPorts",highlightedPort:"=unifiSwitchPropertiesPortListHighlightedPort",editedPort:"=unifiSwitchPropertiesPortListEditedPort",withBatchEdit:"=?unifiSwitchPropertiesPortListWithBatchEdit",isOpen:"=unifiSwitchPropertiesPortListIsOpen"},controller:"SwitchPropertiesPortListController",controllerAs:"switchPropertiesPortListCtrl",restrict:"E",replace:!0,template:e("./switchPropertiesPortList.pug")(),link:function(e,r,n,o){e.attrs={withBatchEdit:e.withBatchEdit,isPoeSupported:!1},e.$watch("model",function(i){o.updateModel(i),i&&(e.attrs.isPoeSupported=!0===t.getModelFeature(i,"poe"))}),e.$watch("ports",function(e){o.updateCollection(e)}),e.$watch("editedPort",function(e){e?o.edit(e):null===e&&o.cancelEdit()}),e.$watch(function(){return o.showEditForm},function(t){e.isEditingPorts=!!t}),e.$on("$destroy",function(){o.destroyView()}),e.setHighlightedPort=function(t){e.highlightedPort=t.get("port_idx")},e.toggleHighlightedPort=function(t){e.highlightedPort===t.get("port_idx")?e.highlightedPort=null:e.highlightedPort=t.get("port_idx")},i.init(e,r,n,o)}}}])},{"./switchPropertiesPortList.pug":293}],293:[function(e,t,i){e("pug-runtime");function r(e,t,i,r){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(r?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var r,o,s,a="";for(r=i.index,o=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==r&&(a+=t.substring(o,r)),o=r+1,a+=s}return o!==r?a+t.substring(o,r):a}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiPanelItemContent__section appScrollable flexFlag__body fullWidth" id="xxx"><div ng-if="switchPropertiesPortListCtrl.showEditForm &amp;&amp; !switchPropertiesPortListCtrl.isBatchEdit" unifi-switch-properties-port-form="switchPropertiesPortListCtrl.portModel" unifi-switch-properties-port-form-device="switchPropertiesPortListCtrl.model" unifi-switch-properties-port-form-on-save="switchPropertiesPortListCtrl.cancelEdit()" unifi-switch-properties-port-form-on-cancel="switchPropertiesPortListCtrl.cancelEdit()" unifi-switch-properties-port-form-is-read-only="!switchPropertiesPortListCtrl.isAdmin()" unifi-switch-properties-port-form-is-open="isOpen"></div><div ng-if="switchPropertiesPortListCtrl.showEditForm &amp;&amp; switchPropertiesPortListCtrl.isBatchEdit" unifi-switch-properties-port-form-batch="switchPropertiesPortListCtrl.getBatchEditModel()" unifi-switch-properties-port-form-batch-device="switchPropertiesPortListCtrl.model" unifi-switch-properties-port-form-batch-on-save="switchPropertiesPortListCtrl.cancelEdit()" unifi-switch-properties-port-form-batch-on-cancel="switchPropertiesPortListCtrl.cancelEdit()" unifi-switch-properties-port-form-batch-is-read-only="!switchPropertiesPortListCtrl.isAdmin()" unifi-switch-properties-port-form-batch-is-open="isOpen"></div><div ng-if="!switchPropertiesPortListCtrl.showEditForm"><table class="noMarginBottom appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--minor appTable--transparent appForm appForm--cozy"><thead><tr><td class="portCheckbox appTableCell--smash" ng-if="attrs.withBatchEdit &amp;&amp; switchPropertiesPortListCtrl.view.getModels().length" ng-show="switchPropertiesPortListCtrl.isAdmin()"><input class="appCheckbox--condensed" type="checkbox" name="switchPortListSelectAllBatchEdit" ng-checked="switchPropertiesPortListCtrl.selectAllBatchEdit" ng-click="switchPropertiesPortListCtrl.toggleSelectAllBatchEdit()" unifi-indeterminate-checkbox="switchPropertiesPortListCtrl.isSelectAllBatchEditIndeterminate"></td><th class="portIndex appTableCell--smash"><span translate="DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_PORT"></span></th><th class="portName" ng-if="switchPropertiesPortListCtrl.isColumnVisible(\'name\')"><span translate="DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_NAME"></span></th><th class="portStatus alignCenter appTableCell--smash" ng-if="switchPropertiesPortListCtrl.isColumnVisible(\'status\')"><span translate="DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_STATUS"></span></th><th class="portTx" ng-if="switchPropertiesPortListCtrl.isColumnVisible(\'tx_bytes\')"><span translate="DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_TX"></span></th><th class="portRx" ng-if="switchPropertiesPortListCtrl.isColumnVisible(\'rx_bytes\')"><span translate="DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_RX"></span></th><th class="portPoe" ng-if="attrs.isPoeSupported &amp;&amp; switchPropertiesPortListCtrl.isColumnVisible(\'poe_mode\')"><span translate="DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_POE"></span></th><th class="portProfile" ng-if="switchPropertiesPortListCtrl.isColumnVisible(\'portconf_id\')"><span translate="DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_PROFILE"></span></th><th class="portActions appTableCell--withAction"><span class="visible--smUp" translate="DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_ACTIONS"></span><unifi-list-column-selector unifi-list-column-selector-column-store="switchPropertiesPortListCtrl.columnStore"></unifi-list-column-selector></th></tr></thead><tfoot'+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="switchPropertiesPortListCtrl.view.getModels().length &amp;&amp; attrs.withBatchEdit"><td colspan="10"><button class="appMainButton appMainButton--tertiary appMainButton--condensed verticalRhythmTop--condensed editBatchPorts" ng-click="switchPropertiesPortListCtrl.editBatch()" ng-disabled="!(switchPropertiesPortListCtrl.getBatchEditDestination() || []).length"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT_SELECTED"></span></button></td></tfoot><tbody><tr class="clickable" collection-view-repeat="model in switchPropertiesPortListCtrl.view.getModels()" collection-view-repeat-watch-all="switchPropertiesPortListCtrl.columnStore.getColumns()" ng-attr-id="portRow{{switchPropertiesPortListCtrl.model.get(\'_id\')}}-{{::model.get(\'port_idx\')}}" ng-class="{\'is-row-selected\': highlightedPort === model.get(\'port_idx\')}" ng-click="toggleHighlightedPort(model)"><td class="portCheckbox appTableCell--smash" ng-if="attrs.withBatchEdit" ng-show="switchPropertiesPortListCtrl.isAdmin()"><input class="appCheckbox--condensed" type="checkbox" ng-checked="switchPropertiesPortListCtrl.isBatchEditSelected(model)" ng-click="switchPropertiesPortListCtrl.toggleBatchEdit(model); $event.stopPropagation();" ng-disabled="!isPortSelectable({model: model})"></td><td class="portIndex appTableCell--smash">{{::switchPropertiesPortListCtrl.switchUtils.getPortIndex(model)}}</td><td class="portName appTableCell--truncated" ng-if="::switchPropertiesPortListCtrl.isColumnVisible(\'name\')">{{::model.get(\'name\')}}</td><td class="portStatus alignCenter appTableCell--smash" ng-if="::switchPropertiesPortListCtrl.isColumnVisible(\'status\')"><div class="unifiDevicePortDiagramPort positionRelative" ng-mouseenter="isActive = true" ng-mouseleave="isActive = false"><unifi-switch-port-diagram unifi-switch-port-diagram-port-model="model" unifi-switch-port-diagram-is-round="true" unifi-switch-port-diagram-fixed-size="cozy"></unifi-switch-port-diagram><unifi-switch-port-tooltip class="positionCenter noPointerEvents"'+r("unifi-position-absolutely",!0,!0,!0)+' ng-if="isActive" unifi-switch-port-tooltip-device-model="switchPropertiesPortListCtrl.model" unifi-switch-port-tooltip-port-model="model" unifi-switch-port-tooltip-position="$index &lt; switchPropertiesPortListCtrl.view.getModels().length / 2 ? \'bottomCenter\' : \'topCenter\'"></unifi-switch-port-tooltip></div></td><td class="portTx" ng-if="::switchPropertiesPortListCtrl.isColumnVisible(\'tx_bytes\')">{{::model.get(\'tx_bytes\') | bytes}}</td><td class="portRx" ng-if="::switchPropertiesPortListCtrl.isColumnVisible(\'rx_bytes\')">{{::model.get(\'rx_bytes\') | bytes}}</td><td class="portPoe" ng-if="attrs.isPoeSupported &amp;&amp; switchPropertiesPortListCtrl.isColumnVisible(\'poe_mode\')">{{::switchPropertiesPortListCtrl.switchUtils.getPortPoeModeText(model)}}</td><td class="portProfile" ng-if="::switchPropertiesPortListCtrl.isColumnVisible(\'portconf_id\')">{{::switchPropertiesPortListCtrl.switchUtils.getPortProfile(model)}}</td><td class="portActions appTableCell--actions"><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed"'+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="!model.get(\'masked\') &amp;&amp; !model.get(\'attr_no_edit\')" ng-click="switchPropertiesPortListCtrl.edit(model)" title="{{\'COMMON_ACTIONS_EDIT\' | translate}}"><span class="button__icon icon ubnt-icon--pencil"></span></button><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" unifi-if-role-admin-and="!model.get(\'masked\')" ng-click="switchPropertiesPortListCtrl.edit(model)" title="{{\'COMMON_ACTIONS_VIEW\' | translate}}"><span class="button__icon icon ubnt-icon--eye2"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+r("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="model.get(\'poe_enable\') === true" unifi-switch-port-button-power-cycle="::model" unifi-switch-port-button-power-cycle-is-labeled="false"></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!switchPropertiesPortListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_EMPTY"></p></div></div></div></div></div>'};var n=/["&<>]/},{"pug-runtime":2}],294:[function(e,t,i){"use strict";function r(e){this.PSU_STATUS_TRANSLATION_KEYS=e}r.$inject=["PSU_STATUS_TRANSLATION_KEYS"],r.prototype.getPsuStatus=function(){return this.model.get("psu_stat")},r.prototype.getPsuStatusTranslationKey=function(){return this.PSU_STATUS_TRANSLATION_KEYS[this.getPsuStatus()]||this.PSU_STATUS_TRANSLATION_KEYS.default},angular.module("app-unifi-manage-property-panel").controller("SwitchPropertiesPsuController",r)},{}],295:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchPropertiesPsu",[function(){return{bindToController:{model:"=unifiSwitchPropertiesPsuModel"},controller:"SwitchPropertiesPsuController",controllerAs:"switchPropertiesPsuCtrl",replace:!0,template:e("./switchPropertiesPsu.pug")()}}])},{"./switchPropertiesPsu.pug":296}],296:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+="<div class=\"appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline appDescriptionList--divider\"><h5 class=\"appDescriptionList__header\"><span>PSU #</span><span>{{switchPropertiesPsuCtrl.model.get('psu_idx')}}</span></h5><div class=\"appDescriptionListRow\"><dt>{{'DEVICE_PROPERTIES_LABEL_PSU_STATUS' | translate}}</dt><dd><div class=\"appBadge\" ng-class=\"{          'appBadge--success': switchPropertiesPsuCtrl.getPsuStatus() === 'good',          'appBadge--danger': switchPropertiesPsuCtrl.getPsuStatus() === 'bad',          'appBadge--danger': switchPropertiesPsuCtrl.getPsuStatus() === 'pwc_disconnect'        }\">{{switchPropertiesPsuCtrl.getPsuStatusTranslationKey() | translate}}</div></dd></div><div class=\"appDescriptionList__group\" ng-if=\"switchPropertiesPsuCtrl.getPsuStatus() !== 'not_exist'\"><div class=\"appDescriptionListRow\" ng-if=\"switchPropertiesPsuCtrl.model.get('part_no')\"><dt>{{'DEVICE_PROPERTIES_LABEL_PSU_PART_NUMBER' | translate}}</dt><dd>{{switchPropertiesPsuCtrl.model.get('part_no')}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"switchPropertiesPsuCtrl.model.get('revision')\"><dt>{{'DEVICE_PROPERTIES_LABEL_PSU_REVISION' | translate}}</dt><dd>{{switchPropertiesPsuCtrl.model.get('revision')}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"switchPropertiesPsuCtrl.model.get('serial_no')\"><dt>{{'DEVICE_PROPERTIES_LABEL_PSU_SERIAL_NUMBER' | translate}}</dt><dd>{{switchPropertiesPsuCtrl.model.get('serial_no')}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"switchPropertiesPsuCtrl.model.get('watt')\"><dt>{{'DEVICE_PROPERTIES_LABEL_PSU_MAX_POWER' | translate}}</dt><dd>{{switchPropertiesPsuCtrl.model.get('watt')}}W</dd></div><div class=\"appDescriptionListRow\" ng-if=\"switchPropertiesPsuCtrl.model.get('invol_type')\"><dt>{{'DEVICE_PROPERTIES_LABEL_PSU_INPUT_VOLTAGE_TYPE' | translate}}</dt><dd>{{switchPropertiesPsuCtrl.model.get('invol_type')}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"switchPropertiesPsuCtrl.model.get('dc_invol')\"><dt>{{'DEVICE_PROPERTIES_LABEL_PSU_DC_INPUT_VOLTAGE' | translate}}</dt><dd>{{switchPropertiesPsuCtrl.model.get('dc_invol')}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"switchPropertiesPsuCtrl.model.get('min_invol')\"><dt>{{'DEVICE_PROPERTIES_LABEL_PSU_MIN_INPUT_VOLTAGE' | translate}}</dt><dd>{{switchPropertiesPsuCtrl.model.get('min_invol')}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"switchPropertiesPsuCtrl.model.get('max_invol')\"><dt>{{'DEVICE_PROPERTIES_LABEL_PSU_MAX_INPUT_VOLTAGE' | translate}}</dt><dd>{{switchPropertiesPsuCtrl.model.get('max_invol')}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"switchPropertiesPsuCtrl.model.get('dc_temperature')\"><dt>{{'DEVICE_PROPERTIES_LABEL_PSU_DC_TEMPERATURE' | translate}}</dt><dd>{{switchPropertiesPsuCtrl.model.get('dc_temperature')}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"switchPropertiesPsuCtrl.model.get('dc_charging') !== undefined\"><dt>{{'DEVICE_PROPERTIES_LABEL_PSU_DC_CHARGING' | translate}}</dt><dd>{{switchPropertiesPsuCtrl.model.get('dc_charging')}}</dd></div></div></div>"}},{"pug-runtime":2}],297:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").directive("unifiSwitchPropertiesTools",["devicePropertiesActiveAccordionDirectiveMixin",function(t){return{scope:!0,require:"^unifiSwitchProperties",template:e("./switchPropertiesTools.pug")(),link:function(e,i,r,n){t.init(e,i,r,n,"tools")}}}])},{"./switchPropertiesTools.pug":298}],298:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<accordion class="appAccordion" close-others="true"><accordion-group class="unifiPanelItemContent__section debugTerminal visible--desktop" ng-if="switchPropertiesCtrl.isAdmin() &amp;&amp; switchPropertiesCtrl.showTerminalAccordion" is-open="switchPropertiesCtrl.accordions.tools.terminal"><accordion-heading>{{\'DEVICE_PROPERTIES_SECTION_CONFIGURE_DEBUG_TERMINAL\' | translate}}</accordion-heading><div unifi-initialize-when="switchPropertiesCtrl.accordions.tools.terminal" unifi-pause-children-watchers="!switchPropertiesCtrl.accordions.tools.terminal"'+(i="unifi-pause-children-watchers-and-create-scope",n=!0,o=!0,s=!0,!1!==n&&null!=n&&(n||"class"!==i&&"style"!==i)?!0===n?" "+(s?i:i+'="'+i+'"'):("function"==typeof n.toJSON&&(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),o||-1===n.indexOf('"'))?(o&&(n=function(e){var t=""+e,i=r.exec(t);if(!i)return e;var n,o,s,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=s}return o!==n?a+t.substring(o,n):a}(n))," "+i+'="'+n+'"'):" "+i+"='"+n.replace(/'/g,"&#39;")+"'"):"")+'><div class="switchPropertiesConfigureDebugTerminal" unifi-device-properties-debug-terminal="::switchPropertiesCtrl.model" unifi-device-properties-debug-terminal-is-open="switchPropertiesCtrl.accordions.tools.terminal" unifi-pause-children-watchers="!switchPropertiesCtrl.accordions.tools.terminal"></div></div></accordion-group></accordion>';var i,n,o,s};var r=/["&<>]/},{"pug-runtime":2}],299:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").constant("AIR_TIME_PACKETS",[{type:0,description:"Management",subtypes:[{subtype:[0],description:"Association Request",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x00"},{subtype:[1],description:"Association Response",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x01"},{subtype:[2],description:"Reassociation Request",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x02"},{subtype:[3],description:"Reassociation Response",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x03"},{subtype:[4],description:"Probe Request",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x04"},{subtype:[5],description:"Probe Response",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x05"},{subtype:[6,7],description:"Reserved",wiresharkDisplayFilter:""},{subtype:[8],description:"Beacon",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x08"},{subtype:[9],description:"ATIM",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x09"},{subtype:[10],description:"Disassociation",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x0A"},{subtype:[11],description:"Authentication",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x0B"},{subtype:[12],description:"Deauthentication",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x0C"},{subtype:[13],description:"Action",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x0D"},{subtype:[14,15],description:"Reserved",wiresharkDisplayFilter:""}]},{type:1,description:"Control",subtypes:[{subtype:[0,1,2,3,4,5,6,7],description:"Reserved",wiresharkDisplayFilter:""},{subtype:[8],description:"Block Ack Request",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x18"},{subtype:[9],description:"Block Ack",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x19"},{subtype:[10],description:"PS-Poll",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x1A"},{subtype:[11],description:"RTS",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x1B"},{subtype:[12],description:"CTS",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x1C"},{subtype:[13],description:"ACK",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x1D"},{subtype:[14],description:"CF-end ",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x1E"},{subtype:[15],description:"CF-end + CF-ack",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x1F"}]},{type:2,description:"Data",subtypes:[{subtype:[0],description:"Data",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x20"},{subtype:[1],description:"Data + CF-ack",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x21"},{subtype:[2],description:"Data + CF-poll",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x22"},{subtype:[3],description:"Data +CF-ack +CF-poll",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x23"},{subtype:[4],description:"Null",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x24"},{subtype:[5],description:"CF-ack",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x25"},{subtype:[6],description:"CF-poll",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x26"},{subtype:[7],description:"CF-ack +CF-poll",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x27"},{subtype:[8],description:"QoS data",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x28"},{subtype:[9],description:"QoS data + CF-ack",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x29"},{subtype:[10],description:"QoS data + CF-poll",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x2A"},{subtype:[11],description:"QoS data + CF-ack + CF-poll",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x2B"},{subtype:[12],description:"QoS Null",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x2C"},{subtype:[13],description:"Reserved",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x2D"},{subtype:[14],description:"QoS + CF-poll (no data)",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x2E"},{subtype:[15],description:"Qos + CF-ack (no data)",wiresharkDisplayFilter:"wlan.fc.type_subtype == 0x2F"}]},{type:3,description:"Reserved",subtypes:[{subtype:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],description:"Reserved",wiresharkDisplayFilter:""}]}])},{}],300:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").constant("AIR_TIME_PACKET_TYPE",{MANAGEMENT:0,CONTROL:1,DATA:2,RESERVED:3})},{}],301:[function(e,t,i){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=lazyRequire.get("BaseFormController");function o(e,t,i,r,o){this.$translate=e,this.heyToasts=t,this.propertyName=this.propertyName||"config_network",this.defaultConnectionType="dhcp",this.patterns=this.patterns||{},this.patterns.ipAddress=r.or([o.IPV4_ADDRESS,o.IPV6_ADDRESS]),this.patterns.ipv4Address=o.IPV4_ADDRESS,this.patterns.ipv6Address=o.IPV6_ADDRESS,this.onTypeChange=this.onTypeChange.bind(this),n.call(this,i)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.getAttrsToSave=function(){var e={};return e[this.propertyName]=this.modelCopy.attributes[this.propertyName],e},o.prototype.setDefaultAttrs=function(e){var t=e?"":"Copy",i=e||!this.isSaveQueued?void 0:{delegateTo:"pending"};this["model"+t]&&(this["model"+t].attributes[this.propertyName]=(this.model?angular.copy(this.model.get(this.propertyName,i)):void 0)||{},this["model"+t].attributes[this.propertyName].type=this["model"+t].attributes[this.propertyName].type||this.defaultConnectionType,this["model"+t].attributes[this.propertyName].type_v6=this["model"+t].attributes[this.propertyName].type_v6||"disabled")},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.removeStaleFormElements=function(e){angular.forEach(this.form,function(t,i){"object"===(void 0===t?"undefined":r(t))&&t.hasOwnProperty("$modelValue")&&e.test(i)&&this.form.$removeControl(t)}.bind(this))},o.prototype.onTypeChange=function(e,t){if(t){var i=new RegExp("^"+t);this.removeStaleFormElements(i)}this.showTypeForm=e},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$translate","heyToasts","modelDivergence","regexUtils","REGEX_PATTERNS"],t.exports=o},{}],302:[function(e,t,i){"use strict";var r=lazyRequire.get("BaseFormController");function n(e,t,i,n,o,s,a){this.$translate=e,this.deviceUtils=t,this.heyToasts=i,this.networks=n,this.networkUtils=o,this.apiResults=a,r.call(this,s)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initBatchEdit=function(){this.isBatchEdit=!0,this.mgmtNetworkId=void 0,this.mgmtNetworkIdMaster=void 0},n.prototype.addEventHandlers=function(){r.prototype.addEventHandlers.call(this),this.networks.repository.collection.on("add remove change reset",this.onNetworksChange,this),this.onNetworksChange()},n.prototype.removeEventHandlers=function(){r.prototype.removeEventHandlers.call(this),this.networks.repository.collection.off("add remove change reset",this.onNetworksChange,this)},n.prototype.save=function(){this.isSubmitting=!0;var e=this.getAttrsToSave(),t=this.isSaveQueued?"pending":void 0;return this.deviceUtils.saveDevice(this.model,e,{wait:!0,delegateTo:t,pendingGroup:this.pendingGroup}).then(function(){return this.isSaveQueued||this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES").toLowerCase()})),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("DEVICE_PROPERTIES_SECTION_CONFIGURE_SERVICES").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.prototype.getAttrsToSave=function(){return{mgmt_network_id:this.mgmtNetworkId}},n.prototype.getMgmtNetworkId=function(e){if(!this.isBatchEdit){var t,i,r,n=e||!this.isSaveQueued?void 0:{delegateTo:"pending"};return this.model&&(t=this.model.get("mgmt_network_id",n),i=this.model.get("networkgroup",n)),t||(r=this.networks.repository.collection.findWhere({attr_no_delete:!0,networkgroup:i||"LAN"}))&&(t=r.id),t}},n.prototype.onNetworksChange=function(){this.nativeNetworks=this.networks.repository.collection.filter(function(e){return-1!==this.networkUtils.nativeNetworkTypes.indexOf(e.get("purpose"))}.bind(this)).sort(function(e,t){return(parseInt(e.get("vlan"))||1)-(parseInt(t.get("vlan"))||1)}),this.mgmtNetworkId&&this.mgmtNetworkIdMaster||(this.mgmtNetworkId=this.mgmtNetworkId||this.getMgmtNetworkId(),this.mgmtNetworkIdMaster=this.mgmtNetworkIdMaster||this.getMgmtNetworkId(!0))},n.prototype.onModelChange=function(){this.mgmtNetworkIdMaster=this.getMgmtNetworkId(!0)},n.prototype.resetModelCopyAttrs=function(e){r.prototype.resetModelCopyAttrs.call(this,e),e&&-1!==e.indexOf("mgmt_network_id")&&(this.mgmtNetworkId=this.getMgmtNetworkId())},n.prototype.reset=function(){r.prototype.reset.call(this),this.mgmtNetworkId=this.getMgmtNetworkId()},n.$inject=["$translate","deviceUtils","heyToasts","networks","networksUtils","modelDivergence","apiResults"],t.exports=n},{}],303:[function(e,t,i){"use strict";var r=lazyRequire.get("BasePanelItemController");function n(e,t,i,n,o,s){this.$translate=i,this.propertyPanel=n,this.frame=s,this.isAdmin=o.isAdmin.bind(o),r.call(this,e,t,n)}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.removePanel=function(){var e=this.getPanelModel();return e?(this.isSaveQueued&&this.model.hasPendingChanges()?this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_PROPERTIES_PENDING_CHANGES_FORGET_CONFIRM_TITLE")}.bind(this),message:function(){return this.$translate.instant("DEVICE_PROPERTIES_PENDING_CHANGES_FORGET_CONFIRM_MESSAGE")}.bind(this),options:angular.noop}):this.$q.when()).then(function(){this.propertyPanel.removeItem(e)}.bind(this)):this.$q.reject()},n.$inject=["$q","$timeout","$translate","propertyPanel","account","frame"],t.exports=n},{}],304:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel",["app-unifi-manage-property-panel"]),e("./components/airTimePanel/AirTimePanelController.js"),e("./components/airTimePanel/airTimePanel.js"),e("./components/airTimeScanBreadcrumbs/AirTimeScanBreadcrumbsController.js"),e("./components/airTimeScanBreadcrumbs/airTimeScanBreadcrumbs.js"),e("./components/airTimeScanFilters/AirTimeScanFiltersController.js"),e("./components/airTimeScanFilters/airTimeScanFilters.js"),e("./components/airTimeScanGraph/AirTimeScanGraphController.js"),e("./components/airTimeScanGraph/airTimeScanGraph.js"),e("./components/airTimeScanGraphLegend/AirTimeScanGraphLegendController.js"),e("./components/airTimeScanGraphLegend/airTimeScanGraphLegend.js"),e("./components/airTimeScanList/AirTimeScanListController.js"),e("./components/airTimeScanList/airTimeScanList.js"),e("./components/airTimeScansGraph/AirTimeScansGraphController.js"),e("./components/airTimeScansGraph/airTimeScansGraph.js"),e("./components/airTimeSession/AirTimeSessionController.js"),e("./components/airTimeSession/airTimeSession.js"),e("./components/airViewPanel/AirViewPanelController.js"),e("./components/airViewPanel/airViewPanel.js"),e("./components/airViewScanGraph/AirViewScanGraphController.js"),e("./components/airViewScanGraph/airViewScanGraph.js"),e("./components/airViewScanGraphLegend/AirViewScanGraphLegendController.js"),e("./components/airViewScanGraphLegend/airViewScanGraphLegend.js"),e("./components/airViewScansGraph/AirViewScansGraphController.js"),e("./components/airViewScansGraph/airViewScansGraph.js"),e("./components/airViewScansGraphLegend/AirViewScansGraphLegendController.js"),e("./components/airViewScansGraphLegend/airViewScansGraphLegend.js"),e("./components/airViewSession/AirViewSessionController.js"),e("./components/airViewSession/airViewSession.js"),e("./components/apProperties/ApPropertiesController.js"),e("./components/apProperties/apProperties.js"),e("./components/apPropertiesAirTime/ApPropertiesAirTimeController.js"),e("./components/apPropertiesAirTime/apPropertiesAirTime.js"),e("./components/apPropertiesAirView/ApPropertiesAirViewController.js"),e("./components/apPropertiesAirView/apPropertiesAirView.js"),e("./components/apPropertiesBatch/ApPropertiesBatchController.js"),e("./components/apPropertiesBatch/apPropertiesBatch.js"),e("./components/apPropertiesBatchConfigure/apPropertiesBatchConfigure.js"),e("./components/apPropertiesBatchWarnings/ApPropertiesBatchWarningsController.js"),e("./components/apPropertiesBatchWarnings/apPropertiesBatchWarnings.js"),e("./components/apPropertiesChannelUtilization/ApPropertiesChannelUtilizationController.js"),e("./components/apPropertiesChannelUtilization/apPropertiesChannelUtilization.js"),e("./components/apPropertiesConfigure/apPropertiesConfigure.js"),e("./components/apPropertiesConfigureAirtimeFairness/ApPropertiesConfigureAirtimeFairnessController.js"),e("./components/apPropertiesConfigureAirtimeFairness/apPropertiesConfigureAirtimeFairness.js"),e("./components/apPropertiesConfigureBandSteering/ApPropertiesConfigureBandSteeringController.js"),e("./components/apPropertiesConfigureBandSteering/apPropertiesConfigureBandSteering.js"),e("./components/apPropertiesConfigureRadios/ApPropertiesConfigureRadiosController.js"),e("./components/apPropertiesConfigureRadios/apPropertiesConfigureRadios.js"),e("./components/apPropertiesConfigureServices/ApPropertiesConfigureServicesController.js"),e("./components/apPropertiesConfigureServices/apPropertiesConfigureServices.js"),e("./components/apPropertiesConfigureUplinkPriority/ApPropertiesConfigureUplinkPriorityController.js"),e("./components/apPropertiesConfigureUplinkPriority/apPropertiesConfigureUplinkPriority.js"),e("./components/apPropertiesConfigureWlanForm/ApPropertiesConfigureWlanFormController.js"),e("./components/apPropertiesConfigureWlanForm/apPropertiesConfigureWlanForm.js"),e("./components/apPropertiesConfigureWlanList/ApPropertiesConfigureWlanListController.js"),e("./components/apPropertiesConfigureWlanList/apPropertiesConfigureWlanList.js"),e("./components/apPropertiesConfigureWlans/ApPropertiesConfigureWlansController.js"),e("./components/apPropertiesConfigureWlans/apPropertiesConfigureWlans.js"),e("./components/apPropertiesCopyConfiguration/ApPropertiesCopyConfigurationController.js"),e("./components/apPropertiesCopyConfiguration/apPropertiesCopyConfiguration.js"),e("./components/apPropertiesDetails/apPropertiesDetails.js"),e("./components/apPropertiesDetailsRadio/ApPropertiesDetailsRadioController.js"),e("./components/apPropertiesDetailsRadio/apPropertiesDetailsRadio.js"),e("./components/apPropertiesDetailsWlansList/ApPropertiesDetailsWlansListController.js"),e("./components/apPropertiesDetailsWlansList/apPropertiesDetailsWlansList.js"),e("./components/apPropertiesDownlinkList/ApPropertiesDownlinkListController.js"),e("./components/apPropertiesDownlinkList/apPropertiesDownlinkList.js"),e("./components/apPropertiesRfEnvironment/ApPropertiesRfEnvironmentController.js"),e("./components/apPropertiesRfEnvironment/apPropertiesRfEnvironment.js"),e("./components/apPropertiesTools/apPropertiesTools.js"),e("./components/apPropertiesUplinkList/ApPropertiesUplinkListController.js"),e("./components/apPropertiesUplinkList/apPropertiesUplinkList.js"),e("./components/apSwitchProperties/ApSwitchPropertiesController.js"),e("./components/apSwitchProperties/apSwitchProperties.js"),e("./components/apSwitchPropertiesConfigure/apSwitchPropertiesConfigure.js"),e("./components/apSwitchPropertiesConfigureResetButton/ApSwitchPropertiesConfigureResetButtonController.js"),e("./components/apSwitchPropertiesConfigureResetButton/apSwitchPropertiesConfigureResetButton.js"),e("./components/apSwitchPropertiesConfigureServices/ApSwitchPropertiesConfigureServicesController.js"),e("./components/apSwitchPropertiesConfigureServices/apSwitchPropertiesConfigureServices.js"),e("./components/apSwitchPropertiesDetails/apSwitchPropertiesDetails.js"),e("./components/apSwitchPropertiesTools/apSwitchPropertiesTools.js"),e("./components/clientProperties/ClientPropertiesController.js"),e("./components/clientProperties/clientProperties.js"),e("./components/clientPropertiesBatch/ClientPropertiesBatchController.js"),e("./components/clientPropertiesBatch/clientPropertiesBatch.js"),e("./components/clientPropertiesBatchConfigure/clientPropertiesBatchConfigure.js"),e("./components/clientPropertiesBatchError/clientPropertiesBatchError.js"),e("./components/clientPropertiesBatchList/ClientPropertiesBatchListController.js"),e("./components/clientPropertiesBatchList/clientPropertiesBatchList.js"),e("./components/clientPropertiesConfigure/clientPropertiesConfigure.js"),e("./components/clientPropertiesConfigureGeneral/ClientPropertiesConfigureGeneralController.js"),e("./components/clientPropertiesConfigureGeneral/clientPropertiesConfigureGeneral.js"),e("./components/clientPropertiesConfigureNetwork/ClientPropertiesConfigureNetworkController.js"),e("./components/clientPropertiesConfigureNetwork/clientPropertiesConfigureNetwork.js"),e("./components/clientPropertiesDetails/clientPropertiesDetails.js"),e("./components/clientPropertiesDpiList/ClientPropertiesDpiListController.js"),e("./components/clientPropertiesDpiList/clientPropertiesDpiList.js"),e("./components/clientPropertiesHistoryList/ClientPropertiesHistoryListController.js"),e("./components/clientPropertiesHistoryList/clientPropertiesHistoryList.js"),e("./components/devicePropertiesAdopt/DevicePropertiesAdoptController.js"),e("./components/devicePropertiesAdopt/devicePropertiesAdopt.js"),e("./components/devicePropertiesAlerts/DevicePropertiesAlertsController.js"),e("./components/devicePropertiesAlerts/devicePropertiesAlerts.js"),e("./components/devicePropertiesBatchError/devicePropertiesBatchError.js"),e("./components/devicePropertiesBatchList/DevicePropertiesBatchListController.js"),e("./components/devicePropertiesBatchList/devicePropertiesBatchList.js"),e("./components/devicePropertiesBetaWarning/DevicePropertiesBetaWarningController.js"),e("./components/devicePropertiesBetaWarning/devicePropertiesBetaWarning.js"),e("./components/devicePropertiesClientList/DevicePropertiesClientListController.js"),e("./components/devicePropertiesClientList/devicePropertiesClientList.js"),e("./components/devicePropertiesConfigureCancelMigrate/DevicePropertiesConfigureCancelMigrateController.js"),e("./components/devicePropertiesConfigureCancelMigrate/devicePropertiesConfigureCancelMigrate.js"),e("./components/devicePropertiesConfigureCustomUpgrade/DevicePropertiesConfigureCustomUpgradeController.js"),e("./components/devicePropertiesConfigureCustomUpgrade/devicePropertiesConfigureCustomUpgrade.js"),e("./components/devicePropertiesConfigureDisable/DevicePropertiesConfigureDisableController.js"),e("./components/devicePropertiesConfigureDisable/devicePropertiesConfigureDisable.js"),e("./components/devicePropertiesConfigureForget/DevicePropertiesConfigureForgetController.js"),e("./components/devicePropertiesConfigureForget/devicePropertiesConfigureForget.js"),e("./components/devicePropertiesConfigureGeneral/DevicePropertiesConfigureGeneralController.js"),e("./components/devicePropertiesConfigureGeneral/devicePropertiesConfigureGeneral.js"),e("./components/devicePropertiesConfigureInfoDownload/DevicePropertiesConfigureInfoDownloadController.js"),e("./components/devicePropertiesConfigureInfoDownload/devicePropertiesConfigureInfoDownload.js"),e("./components/devicePropertiesConfigureNetwork/DevicePropertiesConfigureNetworkController.js"),e("./components/devicePropertiesConfigureNetwork/devicePropertiesConfigureNetwork.js"),e("./components/devicePropertiesConfigureProvision/DevicePropertiesConfigureProvisionController.js"),e("./components/devicePropertiesConfigureProvision/devicePropertiesConfigureProvision.js"),e("./components/devicePropertiesConfigureWarnings/DevicePropertiesConfigureWarningsValidator.js"),e("./components/devicePropertiesConfigureWarnings/devicePropertiesConfigureWarnings.js"),e("./components/devicePropertiesCountryLockedWarning/DevicePropertiesCountryLockedWarningController.js"),e("./components/devicePropertiesCountryLockedWarning/devicePropertiesCountryLockedWarning.js"),e("./components/devicePropertiesDebugTerminal/DevicePropertiesDebugTerminalController.js"),e("./components/devicePropertiesDebugTerminal/devicePropertiesDebugTerminal.js"),e("./components/devicePropertiesElite/DevicePropertiesEliteController.js"),e("./components/devicePropertiesElite/devicePropertiesElite.js"),e("./components/devicePropertiesEliteDeviceWarning/DevicePropertiesEliteDeviceWarningController.js"),e("./components/devicePropertiesEliteDeviceWarning/devicePropertiesEliteDeviceWarning.js"),e("./components/devicePropertiesIncompatibleModelWarning/DevicePropertiesIncompatibleModelWarningController.js"),e("./components/devicePropertiesIncompatibleModelWarning/devicePropertiesIncompatibleModelWarning.js"),e("./components/devicePropertiesLicenseWarning/DevicePropertiesLicenseWarningController.js"),e("./components/devicePropertiesLicenseWarning/devicePropertiesLicenseWarning.js"),e("./components/devicePropertiesModelEolPendingWarning/DevicePropertiesModelEolPendingWarningController.js"),e("./components/devicePropertiesModelEolPendingWarning/devicePropertiesModelEolPendingWarning.js"),e("./components/devicePropertiesPerformance/DevicePropertiesPerformanceController.js"),e("./components/devicePropertiesPerformance/devicePropertiesPerformance.js"),e("./components/devicePropertiesStunWarning/DevicePropertiesStunWarningController.js"),e("./components/devicePropertiesStunWarning/devicePropertiesStunWarning.js"),e("./components/devicePropertiesTags/DevicePropertiesTagsController.js"),e("./components/devicePropertiesTags/devicePropertiesTags.js"),e("./components/formGroupWarnings/FormGroupWarningsController.js"),e("./components/formGroupWarnings/formGroupWarnings.js"),e("./components/formGroupWarnings/formGroupWarningsInput.js"),e("./components/gatewayProperties/GatewayPropertiesController.js"),e("./components/gatewayProperties/gatewayProperties.js"),e("./components/gatewayPropertiesConfigure/gatewayPropertiesConfigure.js"),e("./components/gatewayPropertiesConfigureAdvanced/GatewayPropertiesConfigureAdvancedController.js"),e("./components/gatewayPropertiesConfigureAdvanced/gatewayPropertiesConfigureAdvanced.js"),e("./components/gatewayPropertiesConfigureServices/GatewayPropertiesConfigureServicesController.js"),e("./components/gatewayPropertiesConfigureServices/gatewayPropertiesConfigureServices.js"),e("./components/gatewayPropertiesDetails/gatewayPropertiesDetails.js"),e("./components/gatewayPropertiesNetworkList/GatewayPropertiesNetworkListController.js"),e("./components/gatewayPropertiesNetworkList/gatewayPropertiesNetworkList.js"),e("./components/gatewayPropertiesPortForm/GatewayPropertiesPortFormController.js"),e("./components/gatewayPropertiesPortForm/gatewayPropertiesPortForm.js"),e("./components/gatewayPropertiesPortList/GatewayPropertiesPortListController.js"),e("./components/gatewayPropertiesPortList/gatewayPropertiesPortList.js"),e("./components/streamProperties/StreamPropertiesController.js"),e("./components/streamProperties/streamProperties.js"),e("./components/streamPropertiesDetails/streamPropertiesDetails.js"),e("./components/streamPropertiesDeviceList/StreamPropertiesDeviceListController.js"),e("./components/streamPropertiesDeviceList/streamPropertiesDeviceList.js"),e("./components/switchProperties/SwitchPropertiesController.js"),e("./components/switchProperties/switchProperties.js"),e("./components/switchPropertiesBatch/SwitchPropertiesBatchController.js"),e("./components/switchPropertiesBatch/switchPropertiesBatch.js"),e("./components/switchPropertiesBatchConfigure/switchPropertiesBatchConfigure.js"),e("./components/switchPropertiesConfigure/switchPropertiesConfigure.js"),e("./components/switchPropertiesConfigureServices/SwitchPropertiesConfigureServicesController.js"),e("./components/switchPropertiesConfigureServices/switchPropertiesConfigureServices.js"),e("./components/switchPropertiesCopyConfiguration/SwitchPropertiesCopyConfigurationController.js"),e("./components/switchPropertiesCopyConfiguration/switchPropertiesCopyConfiguration.js"),e("./components/switchPropertiesDetails/switchPropertiesDetails.js"),e("./components/switchPropertiesDownlinkList/SwitchPropertiesDownlinkListController.js"),e("./components/switchPropertiesDownlinkList/switchPropertiesDownlinkList.js"),e("./components/switchPropertiesPortForm/SwitchPropertiesPortFormController.js"),e("./components/switchPropertiesPortForm/switchPropertiesPortForm.js"),e("./components/switchPropertiesPortFormBatch/SwitchPropertiesPortFormBatchController.js"),e("./components/switchPropertiesPortFormBatch/switchPropertiesPortFormBatch.js"),e("./components/switchPropertiesPortList/SwitchPropertiesPortListController.js"),e("./components/switchPropertiesPortList/switchPropertiesPortList.js"),e("./components/switchPropertiesPsu/SwitchPropertiesPsuController.js"),e("./components/switchPropertiesPsu/switchPropertiesPsu.js"),e("./components/switchPropertiesTools/switchPropertiesTools.js"),e("./constants/AIR_TIME_PACKETS.js"),e("./constants/AIR_TIME_PACKET_TYPE.js"),e("./controllers/BaseConfigureNetworkController.js"),e("./controllers/BaseConfigureServicesController.js"),e("./controllers/BasePropertiesController.js"),e("./services/airTimeScanUtils.js"),e("./services/factories/AirTimeColors.js")},{"./components/airTimePanel/AirTimePanelController.js":3,"./components/airTimePanel/airTimePanel.js":4,"./components/airTimeScanBreadcrumbs/AirTimeScanBreadcrumbsController.js":6,"./components/airTimeScanBreadcrumbs/airTimeScanBreadcrumbs.js":7,"./components/airTimeScanFilters/AirTimeScanFiltersController.js":9,"./components/airTimeScanFilters/airTimeScanFilters.js":10,"./components/airTimeScanGraph/AirTimeScanGraphController.js":12,"./components/airTimeScanGraph/airTimeScanGraph.js":13,"./components/airTimeScanGraphLegend/AirTimeScanGraphLegendController.js":15,"./components/airTimeScanGraphLegend/airTimeScanGraphLegend.js":16,"./components/airTimeScanList/AirTimeScanListController.js":18,"./components/airTimeScanList/airTimeScanList.js":19,"./components/airTimeScansGraph/AirTimeScansGraphController.js":21,"./components/airTimeScansGraph/airTimeScansGraph.js":22,"./components/airTimeSession/AirTimeSessionController.js":24,"./components/airTimeSession/airTimeSession.js":25,"./components/airViewPanel/AirViewPanelController.js":27,"./components/airViewPanel/airViewPanel.js":28,"./components/airViewScanGraph/AirViewScanGraphController.js":30,"./components/airViewScanGraph/airViewScanGraph.js":31,"./components/airViewScanGraphLegend/AirViewScanGraphLegendController.js":33,"./components/airViewScanGraphLegend/airViewScanGraphLegend.js":34,"./components/airViewScansGraph/AirViewScansGraphController.js":36,"./components/airViewScansGraph/airViewScansGraph.js":37,"./components/airViewScansGraphLegend/AirViewScansGraphLegendController.js":39,"./components/airViewScansGraphLegend/airViewScansGraphLegend.js":40,"./components/airViewSession/AirViewSessionController.js":42,"./components/airViewSession/airViewSession.js":43,"./components/apProperties/ApPropertiesController.js":45,"./components/apProperties/apProperties.js":46,"./components/apPropertiesAirTime/ApPropertiesAirTimeController.js":48,"./components/apPropertiesAirTime/apPropertiesAirTime.js":49,"./components/apPropertiesAirView/ApPropertiesAirViewController.js":51,"./components/apPropertiesAirView/apPropertiesAirView.js":52,"./components/apPropertiesBatch/ApPropertiesBatchController.js":54,"./components/apPropertiesBatch/apPropertiesBatch.js":55,"./components/apPropertiesBatchConfigure/apPropertiesBatchConfigure.js":57,"./components/apPropertiesBatchWarnings/ApPropertiesBatchWarningsController.js":59,"./components/apPropertiesBatchWarnings/apPropertiesBatchWarnings.js":60,"./components/apPropertiesChannelUtilization/ApPropertiesChannelUtilizationController.js":62,"./components/apPropertiesChannelUtilization/apPropertiesChannelUtilization.js":63,"./components/apPropertiesConfigure/apPropertiesConfigure.js":65,"./components/apPropertiesConfigureAirtimeFairness/ApPropertiesConfigureAirtimeFairnessController.js":67,"./components/apPropertiesConfigureAirtimeFairness/apPropertiesConfigureAirtimeFairness.js":68,"./components/apPropertiesConfigureBandSteering/ApPropertiesConfigureBandSteeringController.js":70,"./components/apPropertiesConfigureBandSteering/apPropertiesConfigureBandSteering.js":71,"./components/apPropertiesConfigureRadios/ApPropertiesConfigureRadiosController.js":73,"./components/apPropertiesConfigureRadios/apPropertiesConfigureRadios.js":74,"./components/apPropertiesConfigureServices/ApPropertiesConfigureServicesController.js":76,"./components/apPropertiesConfigureServices/apPropertiesConfigureServices.js":77,"./components/apPropertiesConfigureUplinkPriority/ApPropertiesConfigureUplinkPriorityController.js":79,"./components/apPropertiesConfigureUplinkPriority/apPropertiesConfigureUplinkPriority.js":80,"./components/apPropertiesConfigureWlanForm/ApPropertiesConfigureWlanFormController.js":82,"./components/apPropertiesConfigureWlanForm/apPropertiesConfigureWlanForm.js":83,"./components/apPropertiesConfigureWlanList/ApPropertiesConfigureWlanListController.js":85,"./components/apPropertiesConfigureWlanList/apPropertiesConfigureWlanList.js":86,"./components/apPropertiesConfigureWlans/ApPropertiesConfigureWlansController.js":88,"./components/apPropertiesConfigureWlans/apPropertiesConfigureWlans.js":89,"./components/apPropertiesCopyConfiguration/ApPropertiesCopyConfigurationController.js":91,"./components/apPropertiesCopyConfiguration/apPropertiesCopyConfiguration.js":92,"./components/apPropertiesDetails/apPropertiesDetails.js":94,"./components/apPropertiesDetailsRadio/ApPropertiesDetailsRadioController.js":96,"./components/apPropertiesDetailsRadio/apPropertiesDetailsRadio.js":97,"./components/apPropertiesDetailsWlansList/ApPropertiesDetailsWlansListController.js":99,"./components/apPropertiesDetailsWlansList/apPropertiesDetailsWlansList.js":100,"./components/apPropertiesDownlinkList/ApPropertiesDownlinkListController.js":102,"./components/apPropertiesDownlinkList/apPropertiesDownlinkList.js":103,"./components/apPropertiesRfEnvironment/ApPropertiesRfEnvironmentController.js":105,"./components/apPropertiesRfEnvironment/apPropertiesRfEnvironment.js":106,"./components/apPropertiesTools/apPropertiesTools.js":108,"./components/apPropertiesUplinkList/ApPropertiesUplinkListController.js":110,"./components/apPropertiesUplinkList/apPropertiesUplinkList.js":111,"./components/apSwitchProperties/ApSwitchPropertiesController.js":113,"./components/apSwitchProperties/apSwitchProperties.js":114,"./components/apSwitchPropertiesConfigure/apSwitchPropertiesConfigure.js":116,"./components/apSwitchPropertiesConfigureResetButton/ApSwitchPropertiesConfigureResetButtonController.js":118,"./components/apSwitchPropertiesConfigureResetButton/apSwitchPropertiesConfigureResetButton.js":119,"./components/apSwitchPropertiesConfigureServices/ApSwitchPropertiesConfigureServicesController.js":121,"./components/apSwitchPropertiesConfigureServices/apSwitchPropertiesConfigureServices.js":122,"./components/apSwitchPropertiesDetails/apSwitchPropertiesDetails.js":124,"./components/apSwitchPropertiesTools/apSwitchPropertiesTools.js":126,"./components/clientProperties/ClientPropertiesController.js":128,"./components/clientProperties/clientProperties.js":129,"./components/clientPropertiesBatch/ClientPropertiesBatchController.js":131,"./components/clientPropertiesBatch/clientPropertiesBatch.js":132,"./components/clientPropertiesBatchConfigure/clientPropertiesBatchConfigure.js":134,"./components/clientPropertiesBatchError/clientPropertiesBatchError.js":136,"./components/clientPropertiesBatchList/ClientPropertiesBatchListController.js":138,"./components/clientPropertiesBatchList/clientPropertiesBatchList.js":139,"./components/clientPropertiesConfigure/clientPropertiesConfigure.js":141,"./components/clientPropertiesConfigureGeneral/ClientPropertiesConfigureGeneralController.js":143,"./components/clientPropertiesConfigureGeneral/clientPropertiesConfigureGeneral.js":144,"./components/clientPropertiesConfigureNetwork/ClientPropertiesConfigureNetworkController.js":146,"./components/clientPropertiesConfigureNetwork/clientPropertiesConfigureNetwork.js":147,"./components/clientPropertiesDetails/clientPropertiesDetails.js":149,"./components/clientPropertiesDpiList/ClientPropertiesDpiListController.js":151,"./components/clientPropertiesDpiList/clientPropertiesDpiList.js":152,"./components/clientPropertiesHistoryList/ClientPropertiesHistoryListController.js":154,"./components/clientPropertiesHistoryList/clientPropertiesHistoryList.js":155,"./components/devicePropertiesAdopt/DevicePropertiesAdoptController.js":157,"./components/devicePropertiesAdopt/devicePropertiesAdopt.js":158,"./components/devicePropertiesAlerts/DevicePropertiesAlertsController.js":160,"./components/devicePropertiesAlerts/devicePropertiesAlerts.js":161,"./components/devicePropertiesBatchError/devicePropertiesBatchError.js":163,"./components/devicePropertiesBatchList/DevicePropertiesBatchListController.js":165,"./components/devicePropertiesBatchList/devicePropertiesBatchList.js":166,"./components/devicePropertiesBetaWarning/DevicePropertiesBetaWarningController.js":168,"./components/devicePropertiesBetaWarning/devicePropertiesBetaWarning.js":169,"./components/devicePropertiesClientList/DevicePropertiesClientListController.js":171,"./components/devicePropertiesClientList/devicePropertiesClientList.js":172,"./components/devicePropertiesConfigureCancelMigrate/DevicePropertiesConfigureCancelMigrateController.js":174,"./components/devicePropertiesConfigureCancelMigrate/devicePropertiesConfigureCancelMigrate.js":175,"./components/devicePropertiesConfigureCustomUpgrade/DevicePropertiesConfigureCustomUpgradeController.js":177,"./components/devicePropertiesConfigureCustomUpgrade/devicePropertiesConfigureCustomUpgrade.js":178,"./components/devicePropertiesConfigureDisable/DevicePropertiesConfigureDisableController.js":180,"./components/devicePropertiesConfigureDisable/devicePropertiesConfigureDisable.js":181,"./components/devicePropertiesConfigureForget/DevicePropertiesConfigureForgetController.js":183,"./components/devicePropertiesConfigureForget/devicePropertiesConfigureForget.js":184,"./components/devicePropertiesConfigureGeneral/DevicePropertiesConfigureGeneralController.js":186,"./components/devicePropertiesConfigureGeneral/devicePropertiesConfigureGeneral.js":187,"./components/devicePropertiesConfigureInfoDownload/DevicePropertiesConfigureInfoDownloadController.js":189,"./components/devicePropertiesConfigureInfoDownload/devicePropertiesConfigureInfoDownload.js":190,"./components/devicePropertiesConfigureNetwork/DevicePropertiesConfigureNetworkController.js":192,"./components/devicePropertiesConfigureNetwork/devicePropertiesConfigureNetwork.js":193,"./components/devicePropertiesConfigureProvision/DevicePropertiesConfigureProvisionController.js":195,"./components/devicePropertiesConfigureProvision/devicePropertiesConfigureProvision.js":196,"./components/devicePropertiesConfigureWarnings/DevicePropertiesConfigureWarningsValidator.js":198,"./components/devicePropertiesConfigureWarnings/devicePropertiesConfigureWarnings.js":199,"./components/devicePropertiesCountryLockedWarning/DevicePropertiesCountryLockedWarningController.js":201,"./components/devicePropertiesCountryLockedWarning/devicePropertiesCountryLockedWarning.js":202,"./components/devicePropertiesDebugTerminal/DevicePropertiesDebugTerminalController.js":204,"./components/devicePropertiesDebugTerminal/devicePropertiesDebugTerminal.js":205,"./components/devicePropertiesElite/DevicePropertiesEliteController.js":207,"./components/devicePropertiesElite/devicePropertiesElite.js":208,"./components/devicePropertiesEliteDeviceWarning/DevicePropertiesEliteDeviceWarningController.js":210,"./components/devicePropertiesEliteDeviceWarning/devicePropertiesEliteDeviceWarning.js":211,"./components/devicePropertiesIncompatibleModelWarning/DevicePropertiesIncompatibleModelWarningController.js":213,"./components/devicePropertiesIncompatibleModelWarning/devicePropertiesIncompatibleModelWarning.js":214,"./components/devicePropertiesLicenseWarning/DevicePropertiesLicenseWarningController.js":216,"./components/devicePropertiesLicenseWarning/devicePropertiesLicenseWarning.js":217,"./components/devicePropertiesModelEolPendingWarning/DevicePropertiesModelEolPendingWarningController.js":219,"./components/devicePropertiesModelEolPendingWarning/devicePropertiesModelEolPendingWarning.js":220,"./components/devicePropertiesPerformance/DevicePropertiesPerformanceController.js":222,"./components/devicePropertiesPerformance/devicePropertiesPerformance.js":223,"./components/devicePropertiesStunWarning/DevicePropertiesStunWarningController.js":225,"./components/devicePropertiesStunWarning/devicePropertiesStunWarning.js":226,"./components/devicePropertiesTags/DevicePropertiesTagsController.js":228,"./components/devicePropertiesTags/devicePropertiesTags.js":229,"./components/formGroupWarnings/FormGroupWarningsController.js":231,"./components/formGroupWarnings/formGroupWarnings.js":232,"./components/formGroupWarnings/formGroupWarningsInput.js":233,"./components/gatewayProperties/GatewayPropertiesController.js":234,"./components/gatewayProperties/gatewayProperties.js":235,"./components/gatewayPropertiesConfigure/gatewayPropertiesConfigure.js":237,"./components/gatewayPropertiesConfigureAdvanced/GatewayPropertiesConfigureAdvancedController.js":239,"./components/gatewayPropertiesConfigureAdvanced/gatewayPropertiesConfigureAdvanced.js":240,"./components/gatewayPropertiesConfigureServices/GatewayPropertiesConfigureServicesController.js":242,"./components/gatewayPropertiesConfigureServices/gatewayPropertiesConfigureServices.js":243,"./components/gatewayPropertiesDetails/gatewayPropertiesDetails.js":245,"./components/gatewayPropertiesNetworkList/GatewayPropertiesNetworkListController.js":247,"./components/gatewayPropertiesNetworkList/gatewayPropertiesNetworkList.js":248,"./components/gatewayPropertiesPortForm/GatewayPropertiesPortFormController.js":250,"./components/gatewayPropertiesPortForm/gatewayPropertiesPortForm.js":251,"./components/gatewayPropertiesPortList/GatewayPropertiesPortListController.js":253,"./components/gatewayPropertiesPortList/gatewayPropertiesPortList.js":254,"./components/streamProperties/StreamPropertiesController.js":256,"./components/streamProperties/streamProperties.js":257,"./components/streamPropertiesDetails/streamPropertiesDetails.js":259,"./components/streamPropertiesDeviceList/StreamPropertiesDeviceListController.js":261,"./components/streamPropertiesDeviceList/streamPropertiesDeviceList.js":262,"./components/switchProperties/SwitchPropertiesController.js":264,"./components/switchProperties/switchProperties.js":265,"./components/switchPropertiesBatch/SwitchPropertiesBatchController.js":267,"./components/switchPropertiesBatch/switchPropertiesBatch.js":268,"./components/switchPropertiesBatchConfigure/switchPropertiesBatchConfigure.js":270,"./components/switchPropertiesConfigure/switchPropertiesConfigure.js":272,"./components/switchPropertiesConfigureServices/SwitchPropertiesConfigureServicesController.js":274,"./components/switchPropertiesConfigureServices/switchPropertiesConfigureServices.js":275,"./components/switchPropertiesCopyConfiguration/SwitchPropertiesCopyConfigurationController.js":277,"./components/switchPropertiesCopyConfiguration/switchPropertiesCopyConfiguration.js":278,"./components/switchPropertiesDetails/switchPropertiesDetails.js":280,"./components/switchPropertiesDownlinkList/SwitchPropertiesDownlinkListController.js":282,"./components/switchPropertiesDownlinkList/switchPropertiesDownlinkList.js":283,"./components/switchPropertiesPortForm/SwitchPropertiesPortFormController.js":285,"./components/switchPropertiesPortForm/switchPropertiesPortForm.js":286,"./components/switchPropertiesPortFormBatch/SwitchPropertiesPortFormBatchController.js":288,"./components/switchPropertiesPortFormBatch/switchPropertiesPortFormBatch.js":289,"./components/switchPropertiesPortList/SwitchPropertiesPortListController.js":291,"./components/switchPropertiesPortList/switchPropertiesPortList.js":292,"./components/switchPropertiesPsu/SwitchPropertiesPsuController.js":294,"./components/switchPropertiesPsu/switchPropertiesPsu.js":295,"./components/switchPropertiesTools/switchPropertiesTools.js":297,"./constants/AIR_TIME_PACKETS.js":299,"./constants/AIR_TIME_PACKET_TYPE.js":300,"./controllers/BaseConfigureNetworkController.js":301,"./controllers/BaseConfigureServicesController.js":302,"./controllers/BasePropertiesController.js":303,"./services/airTimeScanUtils.js":305,"./services/factories/AirTimeColors.js":306}],305:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").service("airTimeScanUtils",["AIR_TIME_NODE","AIR_TIME_PACKETS",function(e,t){this.countScanTime=function(e){return 1e3*(e&&e.time_s||0)*1e3},this.countScanTimeNoise=function(e){var t=e&&e.chutil&&e.chutil.total||[],i=t.reduce(function(e,t){return e+t},0)/(t.length||1)/100*this.countScanTime(e)-this.countScanTimeUsed(e);return Math.round(Math.max(0,i||0))},this.countScanTimeUsed=function(e){return(e&&e.aps||[]).reduce(function(e,t){return e+this.countApTime(t)}.bind(this),0)},this.countApTime=function(e){return this.countApSelfTime(e)+this.countApStationsTime(e)},this.countApSelfTime=function(e){return e&&e.time_us||0},this.countApStationsTime=function(e){return(e&&e.stations||[]).reduce(function(e,t){return e+this.countStationTime(t)}.bind(this),0)},this.countStationTime=function(e){return e&&e.time_us||0},this.countPacketTime=function(e){return e&&e.time_us||0},this.countScanPacketsNumber=function(e){return(e&&e.aps||[]).reduce(function(e,t){return e+this.countApPacketsNumber(t)}.bind(this),0)},this.countApPacketsNumber=function(e){var t=this.countApSelfPacketsNumber(e);return this.countApStationsPacketsNumber(e)+t},this.countApSelfPacketsNumber=function(e){return(e&&e.pkts||[]).reduce(function(e,t){return e+this.countPacketsNumber(t)}.bind(this),0)},this.countApStationsPacketsNumber=function(e){return(e&&e.stations||[]).reduce(function(e,t){return e+this.countStationPacketsNumber(t)}.bind(this),0)},this.countStationPacketsNumber=function(e){return(e&&e.pkts||[]).reduce(function(e,t){return e+this.countPacketsNumber(t)}.bind(this),0)},this.countPacketsNumber=function(e){return e&&e.count||0},this.getPacketRate=function(e){return e&&100*e.rate_100kbps*1e3||-1},this.countNodeTimeUsed=function(t){var i=t.data||t;switch(i.type){case e.TYPE.FREE:case e.TYPE.NOISE:return i.time_us;case e.TYPE.AP_SELF:return this.countApSelfTime(i.model);case e.TYPE.AP:return this.countApTime(i.model);case e.TYPE.STATION:return this.countStationTime(i.model);case e.TYPE.PACKET:return this.countPacketTime(i.model);default:return}},this.countNodePacketsNumber=function(t){var i=t.data||t;switch(i.type){case e.TYPE.FREE:case e.TYPE.NOISE:return 0;case e.TYPE.AP_SELF:return this.countApSelfPacketsNumber(i.model);case e.TYPE.AP:return this.countApPacketsNumber(i.model);case e.TYPE.STATION:return this.countStationPacketsNumber(i.model);case e.TYPE.PACKET:return this.countPacketsNumber(i.model);default:return}},this.getNodeHash=function(t){var i=t.data||t,r=t.parent&&(t.parent.data||t.parent),n=t.parent&&t.parent.parent&&(t.parent.parent.data||t.parent.parent);switch(i.type){case e.TYPE.TOTAL:return e.TYPE.TOTAL;case e.TYPE.FREE:return e.TYPE.FREE;case e.TYPE.AP:return i.model.bssid;case e.TYPE.AP_SELF:return[i.model.bssid,i.model.bssid].join("_");case e.TYPE.STATION:return[r.model.bssid,i.model.mac].join("_");case e.TYPE.PACKET:return[n.model.bssid,r.model.mac,i.model.type,i.model.subtype].join("_");default:return}},this.getSortedBssidSet=function(e){return(e||[]).reduce(function(e,t){var i=(t.aps||[]).map(function(e){return e.bssid}).filter(function(t){return e.indexOf(t)<0});return e.concat(i)},[]).sort(this.compareBssid)},this.getApsByBssidMap=function(e){return(e&&e.aps||[]).reduce(function(e,t){return e[t.bssid]=t,e},{})},this.sortAps=function(e){return(e||[]).sort(function(e,t){return this.compareBssid(e.bssid,t.bssid)}.bind(this))},this.compareBssid=function(e,t){return e.localeCompare(t)},this.getPacketDescription=function(e){return t.find(function(t){return t.type===(e&&e.type)})||{}},this.getSubPacketDescription=function(e){var t=this.getPacketDescription(e)||{};return(t&&t.subtypes||[]).find(function(t){return-1!==t.subtype.indexOf(e&&e.subtype)})||{}}}])},{}],306:[function(e,t,i){"use strict";angular.module("app-unifi-manage-property-panel").factory("AirTimeColors",["dynamicCategory","materialColor","AIR_TIME_NODE","AIR_TIME_PACKET_TYPE","MATERIAL_COLOR_TONES","MATERIAL_COLOR_SHADES",function(e,t,i,r,n,o){var s=[o[2],o[4],o[3],o[5],o[4]];function a(){var i;this.bssidCategory=(i=t.interleaveColorDefinitions(s,[n.LIGHT_BLUE,n.BLUE]),e().range(i)),this.macCategories={}}return a.prototype.getColor=function(e){return t.getColor(this.getColorDefinition(e))},a.prototype.getColorDefinition=function(e){switch(e.type||e.data.type){case i.TYPE.FREE:return this.getFreeColorDefinition();case i.TYPE.NOISE:return this.getNoiseColorDefinition();case i.TYPE.AP:return this.getApColorDefinition(e);case i.TYPE.AP_SELF:return this.getApSelfColorDefinition(e);case i.TYPE.STATION:return this.getStationColorDefinition(e);case i.TYPE.PACKET:return this.getPacketColorDefinition(e);default:return}},a.prototype.getFreeColorDefinition=function(){return{tone:n.BLUE_GREY,shade:o[1]}},a.prototype.getNoiseColorDefinition=function(){return{tone:n.BLUE_GREY,shade:o[3]}},a.prototype.getApColorDefinition=function(e){var t=e.model||e.data&&e.data.model;return this.bssidCategory.get(e.bssid||e.data&&e.data.bssid||t.bssid)},a.prototype.getApSelfColorDefinition=function(e){var i=this.getApColorDefinition(e);return t.getDarkerColorDefinition(i)},a.prototype.getStationColorDefinition=function(i){var r,o=i.model||i.data.model,a=i.parent.model||i.parent.data.model,l=o.mac,p=a.bssid;return this.macCategories[p]||(this.macCategories[p]=(r=t.interleaveColorDefinitions(s,[n.AMBER,n.YELLOW]),e().range(r))),this.macCategories[p].get(l)},a.prototype.getPacketColorDefinition=function(e){switch((e.model||e.data.model).type){case r.MANAGEMENT:return t.getDarkerColorDefinition(this.getApColorDefinition(e.parent.parent),2);case r.CONTROL:return{tone:n.DEEP_ORANGE,shade:o[4]};case r.DATA:return{tone:n.GREEN,shade:o[4]};case r.RESERVED:return{tone:n.GREY,shade:o[4]};default:return}},a}])},{}],307:[function(e,t,i){"use strict";function r(){this.modelChangeEvent=this.modelChangeEvent||"change",this.onModelChange=this.onModelChange.bind(this)}r.prototype.setChangeEvent=function(e){this.removeEventHandlers(),this.modelChangeEvent=e,this.addEventHandlers()},r.prototype.updateModel=function(e){this.removeEventHandlers(),this.model=e,this.addEventHandlers(),this.onModelChange()},r.prototype.onModelChange=function(){throw new Error("You must override onModelChange")},r.prototype.addEventHandlers=function(){this.model&&this.model.on(this.modelChangeEvent,this.onModelChange)},r.prototype.removeEventHandlers=function(){this.model&&this.model.off(this.modelChangeEvent,this.onModelChange)},r.$inject=[],lazyRequire.register("BaseModelController",r),t.exports=r},{}]},{},[304]);