!function(){return function e(t,i,n){function o(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){return o(t[a][1][e]||e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}}()({1:[function(e,t,i){},{}],2:[function(e,t,i){"use strict";var n=Object.prototype.hasOwnProperty;function o(e,t){return Array.isArray(e)?function(e,t){for(var i,n="",r="",a=Array.isArray(t),s=0;s<e.length;s++)(i=o(e[s]))&&(a&&t[s]&&(i=l(i)),n=n+r+i,r=" ");return n}(e,t):e&&"object"==typeof e?function(e){var t="",i="";for(var o in e)o&&e[o]&&n.call(e,o)&&(t=t+i+o,i=" ");return t}(e):e||""}function r(e){if(!e)return"";if("object"==typeof e){var t="";for(var i in e)n.call(e,i)&&(t=t+i+":"+e[i]+";");return t}return e+""}function a(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=l(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}i.merge=function e(t,i){if(1===arguments.length){for(var n=t[0],o=1;o<t.length;o++)n=e(n,t[o]);return n}for(var a in i)if("class"===a){var s=t[a]||[];t[a]=(Array.isArray(s)?s:[s]).concat(i[a]||[])}else if("style"===a){var s=r(t[a]);s=s&&";"!==s[s.length-1]?s+";":s;var l=r(i[a]);l=l&&";"!==l[l.length-1]?l+";":l,t[a]=s+l}else t[a]=i[a];return t},i.classes=o,i.style=r,i.attr=a,i.attrs=function(e,t){var i="";for(var s in e)if(n.call(e,s)){var l=e[s];if("class"===s){l=o(l),i=a(s,l,!1,t)+i;continue}"style"===s&&(l=r(l)),i+=a(s,l,!1,t)}return i};var s=/["&<>]/;function l(e){var t=""+e,i=s.exec(t);if(!i)return e;var n,o,r,a="";for(n=i.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}o!==n&&(a+=t.substring(o,n)),o=n+1,a+=r}return o!==n?a+t.substring(o,n):a}i.escape=l,i.rethrow=function t(i,n,o,r){if(!(i instanceof Error))throw i;if(!("undefined"==typeof window&&n||r))throw i.message+=" on line "+o,i;try{r=r||e("fs").readFileSync(n,"utf8")}catch(e){t(i,null,o)}var a=3,s=r.split("\n"),l=Math.max(o-a,0),p=Math.min(s.length,o+a);var a=s.slice(l,p).map(function(e,t){var i=t+l+1;return(i==o?"  > ":"    ")+i+"| "+e}).join("\n");i.path=n;i.message=(n||"Pug")+":"+o+"\n"+a+"\n\n"+i.message;throw i}},{fs:1}],3:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s,l){this.collection=o.repository.collection,s(this),l(this,"admins","useSettingsPanelView"),n.call(this,e,t,i,r,a)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","admins","ENV","preferences","missingModelControllerMixin","panelViewControllerMixin"],angular.module("app-unifi-manage-settings").controller("AdminsController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],4:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiAdmins",{controller:"AdminsController",controllerAs:"adminsCtrl",template:e("./admins.pug")()})},{"./admins.pug":5}],5:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div id="adminSettings" ng-switch="::adminsCtrl.usePanelView()"><div class="appView appView--settingsPanelLayout" ng-switch-when="true"><div class="appViewCenterPanel flexFlag flexFlag--vertical fullWidth"><div class="unifiSettingsContainer"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_ADMINS"></div></div></div><div class="appScrollable appScrollable--centerPanel unifiSettingsPanel flexFlag__body"><div class="unifiSettingsContainer"><unifi-admin-list unifi-admin-list-on-edit="adminsCtrl.edit(model, true)"></unifi-admin-list><div class="unifiSettingsFooter"'+n("unifi-if-role-admin",!0,!0,!0)+"><button class=\"appMainButton\" ng-click=\"adminsCtrl.add(true)\" ng-class=\"adminsCtrl.preferences.model.get('isSettingsDark') ?                 'appMainButton--inputDark' :                 'appMainButton--input'              \"><span class=\"button__icon icon ubnt-icon--plus\"></span><span translate=\"SETTINGS_ADMIN_BUTTON_ADD\"></span></button></div></div></div><div class=\"appScrollable appScrollable--centerPanel unifiSettingsPanel flexFlag__body {{'unifiSettingsPanel--' + (adminsCtrl.preferences.model.get('isSettingsDark') ? 'dark' : 'light')}}\" ng-if=\"adminsCtrl.view === 'form'\" ng-class=\"{'is-resizing': resizablePanelCtrl.isDragging}\""+n("unifi-resizable-panel",!0,!0,!0)+' unifi-resizable-panel-direction="[\'top\']" unifi-resizable-panel-initial-height="adminsCtrl.getInitialPanelHeight(\'form\')" unifi-resizable-panel-on-resize-stop="adminsCtrl.onPanelResizeStop(\'form\', height)"><div class="unifiSettingsContainer verticalRhythmTop--comfy" unifi-admin-form="adminsCtrl.model" unifi-admin-form-on-save="adminsCtrl.list(true)" unifi-admin-form-on-cancel="adminsCtrl.list(true)" unifi-admin-form-is-read-only="!(adminsCtrl.isSuperAdmin() || adminsCtrl.isAdmin() &amp;&amp; adminsCtrl.$stateParams.action === \'add\')"></div></div></div></div><div class="unifiSettingsContainer" ng-switch-when="false"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_ADMINS"></div></div><div ng-switch="adminsCtrl.view"><div ng-switch-when="form" unifi-admin-form="adminsCtrl.model" unifi-admin-form-on-save="adminsCtrl.list()" unifi-admin-form-on-cancel="adminsCtrl.list()" unifi-admin-form-is-read-only="!(adminsCtrl.isSuperAdmin() || adminsCtrl.isAdmin() &amp;&amp; adminsCtrl.$stateParams.action === \'add\')"></div><div ng-switch-when="list"><unifi-admin-list unifi-admin-list-on-edit="adminsCtrl.edit(model)"></unifi-admin-list><div class="unifiSettingsFooter"'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton" ng-click="adminsCtrl.add()" ng-class="adminsCtrl.preferences.model.get(\'isSettingsDark\') ?               \'appMainButton--inputDark\' :               \'appMainButton--input\'            "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_ADMIN_BUTTON_ADD"></span></button></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],6:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("BackupSettingsController",["BaseSettingsController","backup","system","timezones","preferences","BACKUP_DEFAULTS",function(e,t,i,o,r,a){return new(function(s){function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.preferences=r,e.settingsSection="autobackup",e.cronConfig={options:{allowMinute:!1}},e.timezones=o,e.MONTHLY_OCCURANCE=a.MONTHLY_OCCURANCE,e.dataRetentionOptions=[{value:0,translationKey:"SETTINGS_MAINTENANCE_VALUES_DOWNLOAD_SETTINGS_ONLY"}].concat([7,30,60,90,180,365].map(function(e){return{value:e,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:e}}})).concat({value:-1,translationKey:"SETTINGS_MAINTENANCE_VALUES_DOWNLOAD_NO_LIMIT"}),e.getControllerTimezone=i.getControllerTimezone.bind(i),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,e),n(l,[{key:"getCollection",value:function(){return t.repository.collection}},{key:"save",value:function(){var e=this,t=[];return this.isSubmitting=!0,angular.forEach(["super_mgmt"],function(i){t.push(e.saveSection(e.getSettingFromKey(i),e.forms[i].modelCopy.attributes,i))}),this.afterSave(t)}},{key:"isCloudKeySdCardCheckAvailable",value:function(){return i.isCloudKeyModelWithStorageLimitations()&&!i.isCloudKeySdCardMounted()}}]),l}())}])},{}],7:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiBackupSettings",{controller:"BackupSettingsController",controllerAs:"backupSettingsCtrl",template:e("./backupSettings.pug")()})},{"./backupSettings.pug":8}],8:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="backupSettings"><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="backupSettingsCtrl.form" ng-class="{      \'appForm--dark\': backupSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': backupSettingsCtrl.showValidation,      \'is-validation-hidden\': !backupSettingsCtrl.showValidation    }" ng-submit="backupSettingsCtrl.form.$valid &amp;&amp; backupSettingsCtrl.save()"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_AUTOBACKUP"></div></div><unifi-config-changed unifi-config-changed-on-reset="backupSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="backupSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="backupSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="backupSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!backupSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_BACKUP_SECTION_AUTOBACKUP_CONFIGURATION"></div><ng-form name="backupSettingsCtrl.forms.super_mgmt" unifi-model-form="backupSettingsCtrl.getSettingFromKey(\'super_mgmt\', null, true)"><div class="appRow"><div class="col--sm3 flex-centered-vertically"><label class="appLabel--primary mb-0" for="autoBackupEnable" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_ENABLE"></label><div class="ubntTooltipContainer ubntTooltipContainer--hoverable ml-2" ng-if="backupSettingsCtrl.isCloudKeySdCardCheckAvailable()" style="--tooltip-width: 200px"><aura-icon aura-icon="\'info\'" aura-icon-class="[\'ubntIcon\', \'color-primary\']"></aura-icon><div class="ubntTooltip ubntTooltip--topCenter" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_DISABLED_TOOLTIP"></div></div></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': backupSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="autoBackupEnable" id="autoBackupEnable" ng-model="modelFormCtrl.modelCopy.attributes.autobackup_enabled" ng-model-master="modelFormCtrl.model.attributes.autobackup_enabled" ng-disabled="backupSettingsCtrl.isCloudKeySdCardCheckAvailable()"><label for="autoBackupEnable"></label></div></div></div></div><div class="appRow" ng-if="modelFormCtrl.setVisibility(\'autobackup-enabled\', modelFormCtrl.modelCopy.attributes.autobackup_enabled)"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_OCCURRENCE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><cron-selection class="inlineBlock" ng-model="modelFormCtrl.modelCopy.attributes.autobackup_cron_expr" ng-init="modelFormCtrl.modelCopy.attributes.autobackup_cron_expr = modelFormCtrl.model.attributes.autobackup_cron_expr = (modelFormCtrl.modelCopy.attributes.autobackup_cron_expr || backupSettingsCtrl.MONTHLY_OCCURANCE)" template="partials/cronSelection.html" config="backupSettingsCtrl.cronConfig"></cron-selection></div></div><div class="appRow" ng-if="modelFormCtrl.setVisibility(\'autobackup-enabled\', modelFormCtrl.modelCopy.attributes.autobackup_enabled)"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_OCCURRENCE_TIMEZONE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><select name="backupTimezone" ng-init="modelFormCtrl.modelCopy.attributes.autobackup_timezone = modelFormCtrl.model.attributes.autobackup_timezone = (modelFormCtrl.modelCopy.attributes.autobackup_timezone || backupSettingsCtrl.getControllerTimezone())" ng-model="modelFormCtrl.modelCopy.attributes.autobackup_timezone" ng-model-master="modelFormCtrl.model.attributes.autobackup_timezone" ng-options="timezone.timezone as timezone.name for timezone in backupSettingsCtrl.timezones | orderBy:[\'offsetMinutes\', \'name\']"'+n("required",!0,!0,!0)+'><option unifi-option-placeholder="SETTINGS_SITE_VALUES_SELECT_TIMEZONE"></option></select></div></div><div class="appRow" ng-if="modelFormCtrl.getVisibility(\'autobackup-enabled\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_MAX_FILES"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input class="input--smallNumber" type="number" min="1" name="autoBackupMaxFiles" ng-init="modelFormCtrl.modelCopy.attributes.autobackup_max_files = modelFormCtrl.model.attributes.autobackup_max_files = (modelFormCtrl.modelCopy.attributes.autobackup_max_files || 7)" id="autoBackupMaxFiles" ng-model="modelFormCtrl.modelCopy.attributes.autobackup_max_files" ng-model-master="modelFormCtrl.model.attributes.autobackup_max_files"'+n("required",!0,!0,!0)+'></div></div></div><div class="appRow" ng-if="modelFormCtrl.getVisibility(\'autobackup-enabled\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_DAYS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup inlineBlock"><select name="autoBackupDays" id="autoBackupDays" ng-init="modelFormCtrl.modelCopy.attributes.autobackup_days = (modelFormCtrl.modelCopy.attributes.autobackup_days | parseInt) || 0" ng-model="modelFormCtrl.modelCopy.attributes.autobackup_days" ng-options="option.value as option.translationKey | translate:option.translationParams:\'messageformat\' for option in backupSettingsCtrl.dataRetentionOptions"></select></div></div></div></ng-form></div><div class="unifiSettingsSection" ng-show="backupSettingsCtrl.getCollection().models.length &gt; 0"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_BACKUP_LABEL_AVAILABLE_FILES"></div><unifi-backup-list unifi-backup-list-is-dark="backupSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-backup-list-is-download-available="true" unifi-backup-list-is-delete-available="true"></unifi-backup-list></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': backupSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="backupSettingsCtrl.showValidation = true" busy-toggle="backupSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="backupSettingsCtrl.reset()" ng-disabled="backupSettingsCtrl.form.$pristine" ng-class="backupSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?             \'appMainButton--transparentDark\' :             \'appMainButton--transparent\'          ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],9:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("CloudAccessSettingsController",["$q","$translate","account","BaseSettingsController","CloudDashboardHost","frame","heyToasts","preferences","sdn","settings","SettingsModelFactory","system",function(e,t,i,o,r,a,s,l,p,u,d,c){return new(function(m){function g(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return e.account=i,e.CloudDashboardHost=r,e.sdn=p,e.preferences=l,e.settingsSection="cloud_access",e.super_sdn=u.getSettingFromKey("super_sdn")||d({key:"super_sdn"}),e.cloudaccess=u.getSettingFromKey("super_cloudaccess")||d({key:"super_cloudaccess"}),e.super_mgmt=u.getSettingFromKey("super_mgmt")||d({key:"super_mgmt"}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,o),n(g,[{key:"save",value:function(){this.isSubmitting=!0;var e=this.forms.sdn.modelCopy.attributes.enabled,t=this.forms.super_sdn.modelCopy.attributes,i=t.oauth_enabled,n=t.sso_login_enabled,o=t.oauth_redirect_uris,r=this.forms.super_mgmt.modelCopy.attributes.upload_debugging_info_enabled,a=[],s=this.saveSection(this.getSdnSettings(),{enabled:e}).then(function(){p.fetchWithPolling()}),l=this.saveSection(this.getSettingFromKey("super_sdn"),{oauth_enabled:i,oauth_redirect_uris:o||[],sso_login_enabled:n}),u=this.saveSection(this.getSettingFromKey("super_mgmt"),{upload_debugging_info_enabled:r});return a.push(s),a.push(l),a.push(u),this.afterSave(a)}},{key:"onCloudAccessEnabledChange",value:function(){var e=this.forms.sdn.modelCopy.attributes.enabled,t=this.getSdnSettings();!e||t&&t.get("ubic_uuid")||this.registerUser(),e||(this.forms.super_sdn.modelCopy.attributes.oauth_enabled=!1)}},{key:"onSsoLoginEnabledChange",value:function(){var e=this.forms.super_sdn.modelCopy.attributes;e.sso_login_enabled&&(e.oauth_enabled=!1)}},{key:"onOauthLoginEnabledChange",value:function(){var e=this.forms.super_sdn.modelCopy.attributes;e.oauth_enabled&&(e.sso_login_enabled=!1)}},{key:"unregisterOwner",value:function(){var e=this;a.show("confirm",{title:function(){return t.instant("SETTINGS_CLOUD_ACCESS_UNREGISTER_CONFIRM_TITLE")},message:function(){return t.instant("SETTINGS_CLOUD_ACCESS_UNREGISTER_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return e.forms.sdn.modelCopy.attributes.enabled=!1,e.forms.super_sdn.modelCopy.attributes.oauth_enabled=!1,e.isSubmitting=!0,p.unregisterOwner().then(function(){return i.repository.refresh()}).then(function(){return u.repository.refresh()}).then(function(){return p.repository.refresh()}).catch(function(t){return s.pushError(t),e.reset(),!1}).finally(function(){e.isSubmitting=!1})})}},{key:"unregisterUser",value:function(){var e=this;return this.isSubmitting=!0,p.unregister().finally(function(){e.isSubmitting=!1})}},{key:"registerUser",value:function(t){var n=this;this.isSubmitting=!0;var o=!t&&p.isDisabled()&&i.isSuperAdmin();a.show("cloudAccessUser").then(function(t){return(o?p.registerOwner(t):p.register(t)).catch(function(n){return n===p.ERROR.TOKEN_2FA_REQUIRED?a.show("cloudAccess2faToken").then(function(e){return p.isDisabled()&&i.isSuperAdmin()?p.registerOwner(angular.extend({},t,{token:e})):p.register(angular.extend({},t,{token:e}))}):e.reject(n)}).then(function(){return i.repository.refresh()}).then(function(){return u.repository.refresh()}).then(function(){p.fetchWithPolling()})}).catch(function(e){e&&s.pushError(e),o&&(n.forms.sdn.modelCopy.attributes.enabled=!1)}).finally(function(){n.isSubmitting=!1})}},{key:"isUsernameVisible",value:function(){return i.hasEnabledFor()}},{key:"isOwner",value:function(){var e=this.getSdnSettings();return!!e&&e.get("ubic_uuid")===i.repository.model.get("ubic_uuid")}},{key:"getSdnSettings",value:function(){return p.isUbicEnv()?this.getSettingFromKey("super_sdn",{},!0):this.getSettingFromKey("super_cloudaccess",{},!0)}},{key:"isUnregisterVisible",value:function(){return i.hasEnabledFor()&&i.isSuperAdmin()&&!c.isUnifiGo()&&this.isOwner()}},{key:"isUnregisterUserVisible",value:function(){return i.hasEnabledFor()&&(!this.isOwner()||!p.isRegistered())}},{key:"isRegisterUserVisible",value:function(){return!i.hasEnabledFor()&&(this.isRegisteredAndEnabled()||this.isSsoLoginEnabled())}},{key:"isRegisteredAndEnabled",value:function(){return p.isRegistered()&&p.isEnabled()}},{key:"isSsoLoginEnabled",value:function(){return p.isSsoLoginEnabled()}},{key:"isActionVisible",value:function(){return i.isSuperAdmin()&&(p.isDisabled()||this.isOwner())&&!c.isUnifiGo()}},{key:"isConnecting",value:function(){return p.isConnecting()}},{key:"getPreconfiguredRedirectURIs",value:function(){var e=c.repository.model,t=e.get("https_port"),i=e.get("ip_addrs"),n=e.get("hostname"),o=["127.0.0.1","localhost"].concat(i).concat(n).filter(function(e){return!!e}).map(function(e){return"https://"+e+(443!==t?":"+t:"")+"/manage/oauth.html"}).sort();return Array.from(new Set(o))}},{key:"removeRedirectUri",value:function(e){this.forms.super_sdn.modelCopy.attributes.oauth_redirect_uris.splice(e,1)}},{key:"addRedirectUri",value:function(){var e=this.forms.super_sdn.modelCopy.attributes;e.oauth_redirect_uris||(e.oauth_redirect_uris=[]),e.oauth_redirect_uris.push("")}}]),g}())}])},{}],10:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiCloudAccessSettings",{controller:"CloudAccessSettingsController",controllerAs:"cloudAccessSettingsCtrl",template:e("./cloudAccessSettings.pug")()})},{"./cloudAccessSettings.pug":11}],11:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="cloudAccessSettings"><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="cloudAccessSettingsCtrl.form" ng-class="{      \'appForm--dark\': cloudAccessSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': cloudAccessSettingsCtrl.showValidation,      \'is-validation-hidden\': !cloudAccessSettingsCtrl.showValidation    }" ng-submit="cloudAccessSettingsCtrl.form.$valid &amp;&amp; cloudAccessSettingsCtrl.save()"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_CLOUD_ACCESS"></div></div><unifi-config-changed unifi-config-changed-on-reset="cloudAccessSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="cloudAccessSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="cloudAccessSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="cloudAccessSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet"><ng-form name="cloudAccessSettingsCtrl.forms.super_sdn" unifi-model-form="cloudAccessSettingsCtrl.super_sdn"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_CLOUD_ACCESS_SECTION_CONTROLLER"></div><div class="appRow" ng-if="cloudAccessSettingsCtrl.isActionVisible()"><ng-form name="cloudAccessSettingsCtrl.forms.sdn" unifi-model-form="cloudAccessSettingsCtrl.sdn.repository.model"><div class="col--sm3"><label class="appLabel--primary" for="cloudAccessEnable" translate="SETTINGS_CLOUD_ACCESS_LABEL_ENABLE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                      \'appToggle--dark\': cloudAccessSettingsCtrl.preferences.model.get(\'isSettingsDark\'),                      \'is-toggle-disabled\': cloudAccessSettingsCtrl.isSubmitting                    }"><input type="checkbox" name="cloudAccessEnable" id="cloudAccessEnable" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled" ng-change="cloudAccessSettingsCtrl.onCloudAccessEnabledChange()" ng-disabled="cloudAccessSettingsCtrl.isSubmitting"><label for="cloudAccessEnable"></label></div></div></div></ng-form></div><div class="appRow" ng-if="cloudAccessSettingsCtrl.isActionVisible()"><div class="col--sm3"><label class="appLabel--primary" for="cloudAccessSsoLoginEnable" translate="SETTINGS_CLOUD_ACCESS_LABEL_SSO_LOGIN_ENABLE"></label><unifi-tooltip class="ml-1"><content translate="SETTINGS_CLOUD_ACCESS_TOOLTIP_SSO_LOGIN"></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><unifi-tooltip unifi-tooltip-disabled="!modelFormCtrl.modelCopy.attributes.oauth_enabled"><content translate="SETTINGS_CLOUD_ACCESS_TOOLTIP_SSO_LOGIN_WITH_OAUTH"></content><prompt><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                        \'appToggle--dark\': cloudAccessSettingsCtrl.preferences.model.get(\'isSettingsDark\'),                        \'is-toggle-disabled\': cloudAccessSettingsCtrl.isSubmitting || modelFormCtrl.modelCopy.attributes.oauth_enabled                      }"><input type="checkbox" name="cloudAccessSsoLoginEnable" id="cloudAccessSsoLoginEnable" ng-model="modelFormCtrl.modelCopy.attributes.sso_login_enabled" ng-model-master="modelFormCtrl.model.attributes.sso_login_enabled" ng-change="cloudAccessSettingsCtrl.onSsoLoginEnabledChange()" ng-disabled="cloudAccessSettingsCtrl.isSubmitting || modelFormCtrl.modelCopy.attributes.oauth_enabled"><label for="cloudAccessSsoLoginEnable"></label></div></prompt></unifi-tooltip></div></div></div><div class="appRow" unifi-feature-flag-enable="enableOAuthLogin" unifi-feature-flag-and="cloudAccessSettingsCtrl.isActionVisible()"><div class="col--sm3"><label class="appLabel--primary" for="oAuthLoginEnable" translate="SETTINGS_CLOUD_ACCESS_LABEL_OAUTH_ENABLE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="appTooltipContainer appTooltipContainer--hoverable"><div class="appTooltip" ng-if="!cloudAccessSettingsCtrl.forms.sdn.modelCopy.attributes.enabled || modelFormCtrl.modelCopy.attributes.sso_login_enabled" ng-class="{\'appTooltip--dark\': cloudAccessSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><span ng-if="!cloudAccessSettingsCtrl.forms.sdn.modelCopy.attributes.enabled" translate="SETTINGS_CLOUD_ACCESS_TOOLTIP_OAUTH_REQUIRES_CLOUD"></span><span ng-if="cloudAccessSettingsCtrl.forms.sdn.modelCopy.attributes.enabled &amp;&amp; modelFormCtrl.modelCopy.attributes.sso_login_enabled" translate="SETTINGS_CLOUD_ACCESS_TOOLTIP_SSO_LOGIN_WITH_OAUTH"></span></div><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                      \'appToggle--dark\': cloudAccessSettingsCtrl.preferences.model.get(\'isSettingsDark\'),                      \'is-toggle-disabled\': cloudAccessSettingsCtrl.isSubmitting || !cloudAccessSettingsCtrl.forms.sdn.modelCopy.attributes.enabled || modelFormCtrl.modelCopy.attributes.sso_login_enabled                    }"><input type="checkbox" name="oAuthLoginEnable" id="oAuthLoginEnable" ng-model="modelFormCtrl.modelCopy.attributes.oauth_enabled" ng-model-master="modelFormCtrl.model.attributes.oauth_enabled" ng-change="cloudAccessSettingsCtrl.onOauthLoginEnabledChange()" ng-disabled="cloudAccessSettingsCtrl.isSubmitting || !cloudAccessSettingsCtrl.forms.sdn.modelCopy.attributes.enabled || modelFormCtrl.modelCopy.attributes.sso_login_enabled"><label for="oAuthLoginEnable"></label></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CLOUD_ACCESS_LABEL_STATUS"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><unifi-sdn-status></unifi-sdn-status></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="cloudAccessSettingsCtrl.sdn.isCloudDebugEnv()" ng-class="{\'appInfoBox--dark\': cloudAccessSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">This controller is configured to use cloud services on {{cloudAccessSettingsCtrl.sdn.getCloudEnv()}} environment.</p></div></div></div></div></div><div class="appRow" ng-if="!cloudAccessSettingsCtrl.isActionVisible()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CLOUD_ACCESS_LABEL_SSO_LOGIN_STATUS"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><h5 class="noMarginBottom"><span class="appBadge" ng-class="{                      \'appBadge--medium\': !cloudAccessSettingsCtrl.isSsoLoginEnabled(),                      \'appBadge--success\': cloudAccessSettingsCtrl.isSsoLoginEnabled()                    }" translate="SETTINGS_CLOUD_ACCESS_LABEL_SSO_LOGIN_STATUS_{{cloudAccessSettingsCtrl.isSsoLoginEnabled() ? \'ENABLED\' : \'DISABLED\'}}"></span></h5></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-switch="cloudAccessSettingsCtrl.isOwner()"><span ng-switch-when="true" translate="SETTINGS_CLOUD_ACCESS_SECTION_OWNER"></span><span ng-switch-when="false" translate="SETTINGS_CLOUD_ACCESS_SECTION_USER"></span></div><div class="appRow" ng-if="cloudAccessSettingsCtrl.isRegisteredAndEnabled()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CLOUD_ACCESS_LABEL_DASHBOARD"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><label><a class="label" ng-href="{{cloudAccessSettingsCtrl.CloudDashboardHost}}">{{cloudAccessSettingsCtrl.CloudDashboardHost}}</a></label><span class="appBadge appBadge--success appBadge--boxAlign" ng-if="!cloudAccessSettingsCtrl.sdn.isUbicEnv()">New Cloud Access</span></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CLOUD_ACCESS_LABEL_CONFIGURED_FOR"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup" ng-if="cloudAccessSettingsCtrl.isUsernameVisible()"><label>{{cloudAccessSettingsCtrl.account.getSsoUsername()}}</label></div><div class="appInputGroup" ng-if="!cloudAccessSettingsCtrl.isUsernameVisible()"><h5 class="noMarginBottom"><span class="appBadge appBadge--medium" translate="SETTINGS_CLOUD_ACCESS_LABEL_STATUS_NOT_CONFIGURED"></span></h5></div></div></div><div class="appRow" ng-if="cloudAccessSettingsCtrl.isUnregisterUserVisible()"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><button class="appMainButton appMainButton--danger appMainButton--cozy unregisterUser" type="button" ng-click="cloudAccessSettingsCtrl.unregisterUser()" busy-toggle="cloudAccessSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_CLOUD_ACCESS_ACTIONS_DISABLE_REMOVE_USER\' | translate}}</button></div></div></div><div class="appRow" ng-if="cloudAccessSettingsCtrl.isRegisterUserVisible()"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><button class="appMainButton appMainButton--primary appMainButton--cozy registerUser" type="button" ng-click="cloudAccessSettingsCtrl.registerUser(true)" busy-toggle="cloudAccessSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_CLOUD_ACCESS_ACTIONS_ENABLE_USER\' | translate}}</button></div></div></div></div><div class="unifiSettingsSection" ng-if="cloudAccessSettingsCtrl.isActionVisible()"><div class="appSubHeading appSubHeading--comfy" ng-click="cloudAccessSettingsCtrl.isAdvancedExpanded = !cloudAccessSettingsCtrl.isAdvancedExpanded" ng-class="cloudAccessSettingsCtrl.isAdvancedExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="COMMON_SECTION_ADVANCED_OPTIONS"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="cloudAccessSettingsCtrl.isAdvancedExpanded"><div class="appRow" unifi-feature-flag-enable="enableOAuthLogin"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CLOUD_ACCESS_LABEL_OAUTH_REDIRECT_URIS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy" ng-repeat="uri in cloudAccessSettingsCtrl.getPreconfiguredRedirectURIs()"><input class="input--half" type="url" ng-value="uri"'+n("disabled",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy" ng-repeat="uri in modelFormCtrl.modelCopy.attributes.oauth_redirect_uris track by $index"><input class="input--half" type="url" name="oAuthAccessRedirectURI{{$index}}" id="oAuthAccessRedirectURI{{$index}}" ng-model="modelFormCtrl.modelCopy.attributes.oauth_redirect_uris[$index]" placeholder="https://yourdomain.com:8443/manage/oauth.html"'+n("required",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="cloudAccessSettingsCtrl.removeRedirectUri($index)" ng-disabled="!cloudAccessSettingsCtrl.isSuperAdmin()" title="{{\'SETTINGS_CLOUD_ACCESS_LABEL_OAUTH_REMOVE_REDIRECT_URI\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-if="cloudAccessSettingsCtrl.isSuperAdmin()"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRestrictedSubnet" type="button" ng-click="cloudAccessSettingsCtrl.addRedirectUri()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_CLOUD_ACCESS_LABEL_OAUTH_ADD_REDIRECT_URI"></span></button></div></div></div><div class="appRow"><ng-form name="cloudAccessSettingsCtrl.forms.super_mgmt" unifi-model-form="cloudAccessSettingsCtrl.super_mgmt"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CLOUD_ACCESS_LABEL_REPORT_CONNECTION_ERRORS"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableAdvancedFeatures" id="siteEnableAdvancedFeatures" ng-model="modelFormCtrl.modelCopy.attributes.upload_debugging_info_enabled" ng-model-master="modelFormCtrl.model.attributes.upload_debugging_info_enabled"><label for="siteEnableAdvancedFeatures" translate="SETTINGS_CLOUD_ACCESS_VALUES_ENABLE_REPORT_CONNECTION_ERRORS"></label><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-class="{\'appInfoBox--dark\': cloudAccessSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p ng-if="!modelFormCtrl.modelCopy.attributes.upload_debugging_info_enabled" translate="SETTINGS_CLOUD_ACCESS_TOOLTIP_REPORT_CONNECTION_ERRORS"></p><p translate="SETTINGS_CLOUD_ACCESS_TOOLTIP_REPORT_CONNECTION_ERRORS_DETAILS"></p></div></div></div></div></div></ng-form></div></fieldset></div></ng-form></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-if="cloudAccessSettingsCtrl.isActionVisible()" ng-class="{\'appFormFooter--dark\': cloudAccessSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="cloudAccessSettingsCtrl.showValidation = true" busy-toggle="cloudAccessSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="cloudAccessSettingsCtrl.reset()" ng-disabled="cloudAccessSettingsCtrl.form.$pristine" ng-class="cloudAccessSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?             \'appMainButton--transparentDark\' :             \'appMainButton--transparent\'          ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div><div class="appFormFooter__right"><button class="appMainButton appMainButton--danger unregisterOwner" type="button" ng-click="cloudAccessSettingsCtrl.unregisterOwner()" ng-if="cloudAccessSettingsCtrl.isUnregisterVisible()" busy-toggle="cloudAccessSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_CLOUD_ACCESS_ACTIONS_DISABLE_REMOVE\' | translate}}</button></div></div></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],12:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("ControllerSettingsController",["$q","$translate","heyToasts","featureFlag","frame","BaseSettingsController","controllerWarnings","settings","system","preferences","ReporterMgrModel","EASTER_EGGS","REGEX_PATTERNS","CHAT_LEVELS","LIVE_UPDATES_LEVELS","STORE_LEVELS","URLS",function(e,t,i,o,r,a,s,l,p,u,d,c,m,g,_,f,S){return new(function(b){function v(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return e.controllerWarnings=s,e.featureFlag=o,e.preferences=u,e.system=p,e.settingsSection="controller",e.EASTER_EGGS=c,e.URLS=S,e.patterns={email:m.EMAIL,name:m.NAME,hostname:m.HOSTNAME,ipAddress:m.IPV4_ADDRESS,portNumber:m.PORT_NUMBER},e.chatOptions=[{id:g.SUPER_ONLY,translationKey:"SETTINGS_CONTROLLER_VALUES_CHAT_SUPER_ONLY"},{id:g.EVERYONE,translationKey:"SETTINGS_CONTROLLER_VALUES_CHAT_ENABLED"},{id:g.DISABLED,translationKey:"SETTINGS_CONTROLLER_VALUES_CHAT_DISABLED"}],e.storeOptions=[{id:f.SUPER_ONLY,translationKey:"SETTINGS_CONTROLLER_VALUES_STORE_SUPER_ONLY"},{id:f.EVERYONE,translationKey:"SETTINGS_CONTROLLER_VALUES_STORE_ENABLED"},{id:f.DISABLED,translationKey:"SETTINGS_CONTROLLER_VALUES_STORE_DISABLED"}],e.liveUpdatesOptions=[{id:_.AUTO,translationKey:"SETTINGS_CONTROLLER_VALUES_LIVE_UPDATES_AUTO"},{id:_.ENABLED,translationKey:"SETTINGS_CONTROLLER_VALUES_LIVE_UPDATES_ENABLED"},{id:_.DISABLED,translationKey:"SETTINGS_CONTROLLER_VALUES_LIVE_UPDATES_DISABLED"}],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,a),n(v,[{key:"confirmOverrideInformHost",value:function(){var e=this;this.forms.super_mgmt1.modelCopy.attributes.override_inform_host&&r.show("confirm",{title:function(){return t.instant("SETTINGS_CONTROLLER_CONFIRM_OVERRIDE_INFORM_HOST_TITLE")},message:function(){return t.instant("SETTINGS_CONTROLLER_CONFIRM_OVERRIDE_INFORM_HOST_MESSAGE")},options:angular.noop}).catch(function(){e.forms.super_mgmt1.modelCopy.attributes.override_inform_host=!1})}},{key:"confirmInformHostChange",value:function(){if(this.forms.super_mgmt1&&this.forms.super_identity){var i=this.getSettingFromKey("super_identity",null,!0).get("hostname"),n=this.forms.super_identity.modelCopy.attributes.hostname,o=this.getSettingFromKey("super_mgmt",null,!0).get("override_inform_host"),a=this.forms.super_mgmt1.modelCopy.attributes.override_inform_host;if(o&&a&&i!==n)return r.show("confirm",{title:function(){return t.instant("SETTINGS_CONTROLLER_CONFIRM_CHANGE_INFORM_HOST_TITLE")},message:function(){return t.instant("SETTINGS_CONTROLLER_CONFIRM_CHANGE_INFORM_HOST_MESSAGE",{host:n})},options:angular.noop})}return e.when()}},{key:"sendTestEmail",value:function(e){var t=this;this.forms.super_smtp.$valid?(this.isSendingTestEmail=!0,l.sendTestEmail(this.forms.super_smtp.modelCopy,e).then(function(e){return i.pushSuccess(e),!0}).catch(function(e){return i.pushError(e),!1}).finally(function(){t.isSendingTestEmail=!1})):this.showValidation=!0}},{key:"savePreflight",value:function(){var e=this;return this.confirmInformHostChange().then(function(){e.save()})}},{key:"save",value:function(){var e=this,t=[];return angular.forEach(["super_smtp","super_identity"],function(i){e.forms[i]&&e.forms[i].modelCopy&&t.push(e.saveSection(e.getSettingFromKey(i),e.forms[i].modelCopy.attributes,i))}),t.push(this.saveReportApproved()),t.push(this.saveSection(this.getSettingFromKey("super_mgmt"),this.getSuperMgmtAttributes(),"super_mgmt")),this.afterSave(t).finally(function(){p.repository.refresh(),l.repository.refresh()})}},{key:"getSuperMgmtAttributes",value:function(){var e={};return this.forms.super_mgmt1&&this.forms.super_mgmt1.modelCopy&&angular.extend(e,{override_inform_host:this.forms.super_mgmt1.modelCopy.attributes.override_inform_host,discoverable:this.forms.super_mgmt1.modelCopy.attributes.discoverable,live_chat:this.forms.super_mgmt1.modelCopy.attributes.live_chat,live_updates:this.forms.super_mgmt1.modelCopy.attributes.live_updates,store_enabled:this.forms.super_mgmt1.modelCopy.attributes.store_enabled}),this.forms.super_mgmt2&&this.forms.super_mgmt2.modelCopy&&angular.extend(e,{google_maps_api_key:this.forms.super_mgmt2.modelCopy.attributes.google_maps_api_key}),e}},{key:"saveReportApproved",value:function(){if(this.forms.statistics_report&&this.forms.statistics_report.modelCopy){var n=this.forms.statistics_report.modelCopy.attributes;return(new d).save({cmd:n.report_approved?"approve":"disapprove",approved_terms_version:n.terms_version,report_device_stats:n.report_approved,report_cloud_error:this.getSettingFromKey("super_mgmt",null,!0).get("upload_debugging_info_enabled")}).then(function(){return!0}).catch(function(){return i.pushError(t.instant("SETTINGS_CONTROLLER_ERROR_STATS_REPORT_SAVE_FAILED")),!1})}return e.resolve(!0)}}]),v}())}])},{}],13:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiControllerSettings",{controller:"ControllerSettingsController",controllerAs:"controllerSettingsCtrl",template:e("./controllerSettings.pug")()})},{"./controllerSettings.pug":14}],14:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="controllerSettings"><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="controllerSettingsCtrl.form" ng-class="{      \'appForm--dark\': controllerSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': controllerSettingsCtrl.showValidation,      \'is-validation-hidden\': !controllerSettingsCtrl.showValidation    }" ng-submit="controllerSettingsCtrl.form.$valid &amp;&amp; controllerSettingsCtrl.savePreflight()"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_CONTROLLER"></div></div><unifi-config-changed unifi-config-changed-on-reset="controllerSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="controllerSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="controllerSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="controllerSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!controllerSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_CONTROLLER_SECTION_CONTROLLER_VERSION"></div><div class="appRow appRow--cozy"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_CONTROLLER_UI_VERSION"></label></div><div class="col--sm9"><label class="appLabel">{{\'VERSION\' | constant}}</label></div></div><div class="appRow appRow--cozy"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_CONTROLLER_BACKEND_VERSION"></label></div><div class="col--sm9"><label class="appLabel">{{controllerSettingsCtrl.system.repository.model.get(\'version\')}}</label></div></div><div class="appRow appRow--cozy" ng-if="controllerSettingsCtrl.system.repository.model.get(\'build\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_CONTROLLER_BUILD"></label></div><div class="col--sm9"><label class="appLabel">{{controllerSettingsCtrl.system.repository.model.get(\'build\')}}</label></div></div>\x3c!-- temporary hide device limit--\x3e\x3c!-- https://github.com/ubiquiti/unifi-sdn/issues/272--\x3e\x3c!--.appRow.appRow--cozy(--\x3e\x3c!--  unifi-if-role-admin--\x3e\x3c!--  unifi-if-role-admin-and="controllerSettingsCtrl.controllerWarnings.getDevicesLimit()"--\x3e\x3c!--  ng-init="limit = controllerSettingsCtrl.controllerWarnings.getDevicesLimit()"--\x3e\x3c!--)--\x3e\x3c!--  .col--sm3--\x3e\x3c!--    label.appLabel--primary(--\x3e\x3c!--      translate="SETTINGS_CONTROLLER_LABEL_DEVICES_LIMIT"--\x3e\x3c!--    )--\x3e\x3c!----\x3e\x3c!--  .col--sm4--\x3e\x3c!--    .flexFlag.flexFlag--centered--\x3e\x3c!--      .flexFlag__body.inflexible.noMarginTop.appInputHelp.horizontalRhythm--cozy--\x3e\x3c!--        | {{limit.adopted}} / {{limit.limit}}--\x3e\x3c!----\x3e\x3c!--      .flexFlag__body.statusBar.appStatusBar.appStatusBar--small(--\x3e\x3c!--        ng-class="{\\--\x3e\x3c!--          \'appStatusBar--dark\': controllerSettingsCtrl.preferences.model.get(\'isSettingsDark\'),\\--\x3e\x3c!--          \'appStatusBar--low\': limit.adopted / limit.limit > 0.9,\\--\x3e\x3c!--          \'appStatusBar--medium\': limit.adopted / limit.limit > 0.8 && limit.adopted / limit.limit < 0.9,\\--\x3e\x3c!--          \'appStatusBar--high\': limit.adopted / limit.limit < 0.8\\--\x3e\x3c!--        }"--\x3e\x3c!--      )--\x3e\x3c!--        .statusBar__inner(--\x3e\x3c!--          ng-style="{\\--\x3e\x3c!--            \'width\': (limit.adopted / limit.limit * 100) + \'%\'\\--\x3e\x3c!--          }"--\x3e\x3c!--        )--\x3e<div class="appRow appRow--cozy" ng-if="controllerSettingsCtrl.system.isDemoMode()"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_CONTROLLER_LABEL_CONTROLLER_PLATFORM"></label></div><div class="col--sm9"><label class="appLabel" translate="SETTINGS_CONTROLLER_LABEL_UNIFI_ELITE_TEASER" translate-values="{version: controllerSettingsCtrl.EASTER_EGGS.ELITE_TEASER_VERSION}"></label></div></div></div><div class="unifiSettingsSection verticalRhythmTop--comfy"'+n("unifi-if-role-super-admin",!0,!0,!0)+'><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_CONTROLLER_SECTION_CONTROLLER"></div><ng-form name="controllerSettingsCtrl.forms.super_identity" unifi-model-form="controllerSettingsCtrl.getSettingFromKey(\'super_identity\', null, true)"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_CONTROLLER_LABEL_CONTROLLER_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="controllerHostname" ng-model="modelFormCtrl.modelCopy.attributes.name" ng-model-master="modelFormCtrl.model.attributes.name"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_CONTROLLER_LABEL_CONTROLLER_HOSTNAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy" ng-if="controllerSettingsCtrl.system.isUnifiGo()"><div class="appInputGroup appInputGroup--cozy">{{modelFormCtrl.model.attributes.hostname}}</div></div><div class="col--sm5 appFormGroup appFormGroup--cozy" ng-if="!controllerSettingsCtrl.system.isUnifiGo()"><input class="input--full" type="text" name="controllerHostname" ng-model="modelFormCtrl.modelCopy.attributes.hostname" ng-model-master="modelFormCtrl.model.attributes.hostname" unifi-validate-patterns="[                  controllerSettingsCtrl.patterns.hostname,                  controllerSettingsCtrl.patterns.ipAddress                ]"><div class="appInputFeedback appInputFeedback--danger" ng-if="modelFormCtrl.form.controllerHostname.$invalid" translate="VALIDATION_HINT_HOSTNAME_OR_IP"></div></div></div></ng-form><ng-form name="controllerSettingsCtrl.forms.super_mgmt1" unifi-model-form="controllerSettingsCtrl.getSettingFromKey(\'super_mgmt\', null, true)"><div class="appRow" ng-if="!controllerSettingsCtrl.system.isUnifiGo()"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="controllerOverrideInformHost" id="controllerOverrideInformHost" ng-model="modelFormCtrl.modelCopy.attributes.override_inform_host" ng-model-master="modelFormCtrl.model.attributes.override_inform_host" ng-change="controllerSettingsCtrl.confirmOverrideInformHost()"><label for="controllerOverrideInformHost" translate="SETTINGS_CONTROLLER_VALUES_OVERRIDE_INFORM_HOST"></label></div></div></div><div class="appRow" ng-if="!controllerSettingsCtrl.system.isUnifiGo()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_NETWORK_DISCOVERY"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="controllerEnableNetworkDiscovery" id="controllerEnableNetworkDiscovery" ng-model="modelFormCtrl.modelCopy.attributes.discoverable" ng-model-master="modelFormCtrl.model.attributes.discoverable"><label for="controllerEnableNetworkDiscovery" translate="SETTINGS_CONTROLLER_VALUES_NETWORK_DISCOVERY"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_STORE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select class="select--full" name="controllerStoreEnabled" id="controllerStoreEnabled" ng-model="modelFormCtrl.modelCopy.attributes.store_enabled" ng-options="store.id as store.translationKey | translate for store in controllerSettingsCtrl.storeOptions"></select></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_SUPPORT_MESSAGING"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select class="select--full" name="controllerSupportMessaging" id="controllerSupportMessaging" ng-model="modelFormCtrl.modelCopy.attributes.live_chat" ng-options="chat.id as chat.translationKey | translate for chat in controllerSettingsCtrl.chatOptions"></select></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_LIVE_UPDATES"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select class="select--full" name="controllerLiveUpdateEnabled" id="controllerLiveUpdateEnabled" ng-model="modelFormCtrl.modelCopy.attributes.live_updates" ng-options="liveUpdates.id as liveUpdates.translationKey | translate for liveUpdates in controllerSettingsCtrl.liveUpdatesOptions"></select></div></div><div class="col--sm4 pull-left appFormGroup appFormGroup--cozy noPaddingLeft pt-1"><unifi-tooltip><content translate="SETTINGS_CONTROLLER_LABEL_LIVE_UPDATES_TOOLTIP"></content></unifi-tooltip></div></div></ng-form></div><div class="unifiSettingsSection"'+n("unifi-if-role-super-admin",!0,!0,!0)+' unifi-if-role-super-admin-and="!controllerSettingsCtrl.system.isUnifiGo() &amp;&amp; controllerSettingsCtrl.featureFlag.isEnabled(\'enableReporterManager\')"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_CONTROLLER_SECTION_STATS_REPORT"></div><ng-form name="controllerSettingsCtrl.forms.statistics_report" unifi-model-form="controllerSettingsCtrl.getSettingFromKey(\'super_mgmt\', null, true)"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_STATS_REPORT"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--flex"><input type="checkbox" name="controllerReportApproved" id="controllerReportApproved" ng-model="modelFormCtrl.modelCopy.attributes.report_approved" ng-model-master="modelFormCtrl.model.attributes.report_approved"><label for="controllerReportApproved" translate="SETTINGS_CONTROLLER_VALUES_STATS_REPORT"></label></div></div></div><div class="appRow"><div class="col--sm7 col--smOffset3"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy" ng-class="{\'appInfoBox--dark\': controllerSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--eye2"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_CONTROLLER_INFO_BOX_STATS_REPORT" translate-values="{                        \'linkTerms\': controllerSettingsCtrl.URLS.LEGAL_TOS,                        \'linkPrivacy\': controllerSettingsCtrl.URLS.LEGAL_PP                      }"></p></div></div></div></div></div></ng-form></div><div class="unifiSettingsSection"'+n("unifi-if-role-super-admin",!0,!0,!0)+' unifi-if-role-super-admin-and="!controllerSettingsCtrl.system.isUnifiGo()"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_CONTROLLER_SECTION_MAPS"></div><ng-form name="controllerSettingsCtrl.forms.super_mgmt2" unifi-model-form="controllerSettingsCtrl.getSettingFromKey(\'super_mgmt\', null, true)"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_GOOGLE_MAPS_API_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="controllerGoogleMapsApiKey" ng-model="modelFormCtrl.modelCopy.attributes.google_maps_api_key" ng-model-master="modelFormCtrl.model.attributes.google_maps_api_key"></div></div></div><div class="appRow"><div class="col--sm7 col--smOffset3"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy" ng-class="{\'appInfoBox--dark\': controllerSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--eye2"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_CONTROLLER_LABEL_GOOGLE_MAPS_API_KEY_PROMPT" translate-values="{helpLink: controllerSettingsCtrl.URLS.GOOGLE_MAP_API_KEY_HELP}"></p></div></div></div></div></div></ng-form></div><div class="unifiSettingsSection"'+n("unifi-if-role-super-admin",!0,!0,!0)+' unifi-if-role-super-admin-and="!controllerSettingsCtrl.system.isUnifiGo()"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_CONTROLLER_SECTION_MAIL_SERVER"></div><ng-form name="controllerSettingsCtrl.forms.super_smtp" unifi-model-form="controllerSettingsCtrl.getSettingFromKey(\'super_smtp\', null, true)"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_SMTP_SERVER"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="controllerEnableSmtpServer" id="controllerEnableSmtpServer" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="controllerEnableSmtpServer" translate="SETTINGS_CONTROLLER_VALUES_ENABLE_SMTP_SERVER"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="controllerSmtpHost" translate="SETTINGS_CONTROLLER_LABEL_SMTP_HOSTNAME" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.enabled}"></label><input type="text" name="controllerSmtpHost" id="controllerSmtpHost" ng-model="modelFormCtrl.modelCopy.attributes.host" ng-model-master="modelFormCtrl.model.attributes.host" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="controllerSmtpPort" translate="SETTINGS_CONTROLLER_LABEL_SMTP_PORT" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.enabled}"></label><input type="text" name="controllerSmtpPort" id="controllerSmtpPort" size="5" ng-model="modelFormCtrl.modelCopy.attributes.port" ng-model-master="modelFormCtrl.model.attributes.port" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-pattern="controllerSettingsCtrl.patterns.portNumber" ng-attr-placeholder="{{modelFormCtrl.modelCopy.attributes.use_ssl ? 465 : 25}}"'+n("unifi-use-placeholder",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="controllerEnableSmtpSsl" id="controllerEnableSmtpSsl" ng-model="modelFormCtrl.modelCopy.attributes.use_ssl" ng-model-master="modelFormCtrl.model.attributes.use_ssl" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled"><label for="controllerEnableSmtpSsl" translate="SETTINGS_CONTROLLER_VALUES_ENABLE_SSL" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.enabled || !modelFormCtrl.model.attributes.use_ssl}"></label></div></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="controllerEnableSmtpAuth" id="controllerEnableSmtpAuth" ng-model="modelFormCtrl.modelCopy.attributes.use_auth" ng-model-master="modelFormCtrl.model.attributes.use_auth" ng-model-master-cleanup="true"><label for="controllerEnableSmtpAuth" translate="SETTINGS_CONTROLLER_VALUES_ENABLE_AUTHENTICATION"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="controllerSmtpUsername" translate="SETTINGS_CONTROLLER_LABEL_SMTP_USERNAME" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.use_auth}"></label><input type="text" name="controllerSmtpU" id="controllerSmtpUsername" ng-model="modelFormCtrl.modelCopy.attributes.username" ng-model-master="modelFormCtrl.model.attributes.username" ng-model-master-cleanup="true" ng-disabled="!modelFormCtrl.modelCopy.attributes.use_auth" ng-required="modelFormCtrl.modelCopy.attributes.use_auth"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="controllerSmtpPassword" translate="SETTINGS_CONTROLLER_LABEL_SMTP_PASSWORD" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.use_auth}"></label><unifi-password-reveal><input type="password" name="controllerSmtpP" id="controllerSmtpPassword" ng-model="modelFormCtrl.modelCopy.attributes.x_password" ng-model-master="modelFormCtrl.model.attributes.x_password" ng-model-master-cleanup="true" ng-disabled="!modelFormCtrl.modelCopy.attributes.use_auth" ng-required="modelFormCtrl.modelCopy.attributes.use_auth"></unifi-password-reveal></div></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="controllerEnableSmtpSender" id="controllerEnableSmtpSender" ng-model="modelFormCtrl.modelCopy.attributes.use_sender" ng-model-master="modelFormCtrl.model.attributes.use_sender" ng-model-master-cleanup="true"><label for="controllerEnableSmtpSender" translate="SETTINGS_CONTROLLER_VALUES_SPECIFY_SENDER"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="email" name="controllerSmtpSender" id="controllerSmtpSender" ng-model="modelFormCtrl.modelCopy.attributes.sender" ng-model-master="modelFormCtrl.model.attributes.sender" ng-model-master-cleanup="true" ng-model-options="{ allowInvalid: true }" ng-disabled="!modelFormCtrl.modelCopy.attributes.use_sender" ng-pattern="controllerSettingsCtrl.patterns.email" ng-required="modelFormCtrl.modelCopy.attributes.use_sender"></div></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_CONTROLLER_LABEL_TEST_SMTP_SERVER"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><label for="controllerSmtpTestEmail" translate="SETTINGS_CONTROLLER_VALUES_SEND_TEST_EMAIL_TO"></label><input type="email" name="controllerSmtpTestEmail" id="controllerSmtpTestEmail" ng-model="modelFormCtrl.testEmail" ng-pattern="controllerSettingsCtrl.patterns.email"><button class="appMainButton appMainButton--primary appMainButton--cozy sendTestEmail" type="button" ng-disabled="!modelFormCtrl.testEmail" ng-click="controllerSettingsCtrl.sendTestEmail(modelFormCtrl.testEmail)" busy-toggle="controllerSettingsCtrl.isSendingTestEmail" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SEND\' | translate}}</button></div></div></div></ng-form></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+n("unifi-if-role-super-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': controllerSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="controllerSettingsCtrl.showValidation = true" busy-toggle="controllerSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="controllerSettingsCtrl.reset()" ng-disabled="controllerSettingsCtrl.form.$pristine" ng-class="controllerSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?             \'appMainButton--transparentDark\' :             \'appMainButton--transparent\'          ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],15:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("DhcpRelayController",["BaseSettingsController","gatewayUtils","preferences","REGEX_PATTERNS",function(e,t,i,o){return new(function(r){function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return e.preferences=i,e.hasSiteGateway=t.hasSiteGateway.bind(t),e.settingsSectionTranslationKey="SETTINGS_DHCP_TAB_DHCP_RELAY",e.settingsSectionTranslationKeys={usg:"SETTINGS_DHCP_TAB_DHCP_RELAY"},e.patterns={ip:o.IPV4_ADDRESS,port:o.PORT_NUMBER,hopCount:/^([1-9]|[1-8][0-9]|9[0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,maxPacketSize:/^(6[4-9]|[7-9][0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|1[0-3][0-9]{2}|1400)$/},e.agentPacketOptions=[{value:"",translationKey:"SETTINGS_DHCP_RELAY_OPTIONS_HANDLING_OPTION_DEFAULT"},{value:"append",translationKey:"SETTINGS_DHCP_RELAY_OPTIONS_HANDLING_OPTION_APPEND"},{value:"discard",translationKey:"SETTINGS_DHCP_RELAY_OPTIONS_HANDLING_OPTION_DISCARD"},{value:"forward",translationKey:"SETTINGS_DHCP_RELAY_OPTIONS_HANDLING_OPTION_FORWARD"},{value:"replace",translationKey:"SETTINGS_DHCP_RELAY_OPTIONS_HANDLING_OPTION_REPLACE"}],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e),n(a,[{key:"save",value:function(){var e=this,t=[];return this.isSubmitting=!0,angular.forEach(["usg"],function(i){t.push(e.saveSection(e.getSettingFromKey(i),e.forms[i].modelCopy.attributes,i))}),this.afterSave(t).finally(function(){e.isSubmitting=!1})}}]),a}())}])},{}],16:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiDhcpRelay",{controller:"DhcpRelayController",controllerAs:"dhcpRelayCtrl",template:e("./dhcpRelay.pug")()})},{"./dhcpRelay.pug":17}],17:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="upnpSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-sub-menu-dhcp></unifi-settings-sub-menu-dhcp><unifi-settings-security-gateway-is-required ng-if="!dhcpRelayCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_DHCP_RELAY_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="dhcpRelayCtrl.form" ng-class="{      \'appForm--dark\': dhcpRelayCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': dhcpRelayCtrl.showValidation,      \'is-validation-hidden\': !dhcpRelayCtrl.showValidation    }" ng-submit="dhcpRelayCtrl.form.$valid &amp;&amp; dhcpRelayCtrl.save()" ng-if="dhcpRelayCtrl.hasSiteGateway()"><unifi-config-changed unifi-config-changed-on-reset="dhcpRelayCtrl.resolveDivergence()" unifi-config-changed-on-ignore="dhcpRelayCtrl.ignoreDivergence()" unifi-config-changed-is-dark="dhcpRelayCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="dhcpRelayCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!dhcpRelayCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="dhcpRelayCtrl.forms.usg" unifi-model-form="dhcpRelayCtrl.getSettingFromKey(\'usg\', {dhcp_relay_agents_packets: \'\', dhcp_relay_port: \'\', dhcp_relay_hop_count: \'\'})"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_DHCP_RELAY_LABEL_DHCP_SERVERS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"'+n("unifi-repeatable-form",!0,!0,!0)+' unifi-repeatable-form-min="0" unifi-repeatable-form-max="5" unifi-repeatable-form-model="modelFormCtrl.modelCopy" unifi-repeatable-form-attrs="[\'dhcp_relay_server_{key}\']" unifi-repeatable-form-is-read-only="!dhcpRelayCtrl.isAdmin()"><div class="allowedSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableFormCtrl.getOptions() track by $index"><input type="text" name="dhcpRelayServer{{$index}}" id="dhcpRelayServer{{$index}}" ng-model="repeatableFormCtrl.model.attributes[\'dhcp_relay_server_\' + ($index + 1)]" ng-pattern="dhcpRelayCtrl.patterns.ip"'+n("required",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeAllowedSubnet" type="button" ng-show="!repeatableFormCtrl.isReadOnly" ng-click="repeatableFormCtrl.removeItem($index + 1)" ng-disabled="!repeatableFormCtrl.isRemoveAllowed()" title="{{\'SETTINGS_DHCP_RELAY_LABEL_REMOVE_SERVER\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-if="!repeatableFormCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addAllowedSubnet" type="button" ng-click="repeatableFormCtrl.addItem()" ng-disabled="!repeatableFormCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_DHCP_RELAY_LABEL_ADD_SERVER"></span></button></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_DHCP_RELAY_LABEL_HOP_COUNT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="text" size="4" name="dhcpRelayHopCount" ng-model="modelFormCtrl.modelCopy.attributes.dhcp_relay_hop_count" ng-model-master="modelFormCtrl.model.attributes.dhcp_relay_hop_count" ng-pattern="dhcpRelayCtrl.patterns.hopCount"><label>(1-255)</label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_DHCP_RELAY_LABEL_MAX_PACKET_SIZE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="text" size="4" name="dhcpRelayMaxSize" ng-model="modelFormCtrl.modelCopy.attributes.dhcp_relay_max_size" ng-model-master="modelFormCtrl.model.attributes.dhcp_relay_max_size" ng-pattern="dhcpRelayCtrl.patterns.maxPacketSize"><label>(64-1400)</label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_DHCP_RELAY_LABEL_PORT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="text" size="4" name="dhcpRelayPort" ng-model="modelFormCtrl.modelCopy.attributes.dhcp_relay_port" ng-model-master="modelFormCtrl.model.attributes.dhcp_relay_port" ng-pattern="dhcpRelayCtrl.patterns.port"><label>(1-65535)</label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_DHCP_RELAY_LABEL_OPTIONS_HANDLING"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="dhcpRelayAgentPackets" ng-model="modelFormCtrl.modelCopy.attributes.dhcp_relay_agents_packets" ng-model-master="modelFormCtrl.model.attributes.dhcp_relay_agents_packets" ng-options="option.value as option.translationKey | translate for option in dhcpRelayCtrl.agentPacketOptions"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': dhcpRelayCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="dhcpRelayCtrl.showValidation = true" busy-toggle="dhcpRelayCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="dhcpRelayCtrl.reset()" ng-disabled="dhcpRelayCtrl.form.$pristine" ng-class="dhcpRelayCtrl.preferences.model.get(\'isSettingsDark\') ?                         \'appMainButton--transparentDark\' :                         \'appMainButton--transparent\'                      ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></div></div></ng-form></div></fieldset></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],18:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("DhcpServerController",["BaseSettingsController","gatewayUtils","preferences",function(e,t,i){return new(function(o){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return e.preferences=i,e.hasSiteGateway=t.hasSiteGateway.bind(t),e.settingsSectionTranslationKey="SETTINGS_DHCP_TAB_DHCP_SERVER",e.settingsSectionTranslationKeys={usg:"SETTINGS_DHCP_TAB_DHCP_RELAY"},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),n(r,[{key:"save",value:function(){var e=this,t=[];return this.isSubmitting=!0,angular.forEach(["usg"],function(i){t.push(e.saveSection(e.getSettingFromKey(i),e.forms[i].modelCopy.attributes,i))}),this.afterSave(t).finally(function(){e.isSubmitting=!1})}}]),r}())}])},{}],19:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiDhcpServer",{controller:"DhcpServerController",controllerAs:"dhcpServerCtrl",template:e("./dhcpServer.pug")()})},{"./dhcpServer.pug":20}],20:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="appContainer appContainer--comfy appContainer--fixed" id="upnpSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-sub-menu-dhcp></unifi-settings-sub-menu-dhcp><div class="appRow" ng-if="!dhcpServerCtrl.hasSiteGateway()"><div class="col--xs12"><unifi-settings-security-gateway-is-required unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_DHCP_SERVER_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required></div></div><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="dhcpServerCtrl.form" ng-class="{      \'appForm--dark\': dhcpServerCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': dhcpServerCtrl.showValidation,      \'is-validation-hidden\': !dhcpServerCtrl.showValidation    }" ng-submit="dhcpServerCtrl.form.$valid &amp;&amp; dhcpServerCtrl.save()" ng-if="dhcpServerCtrl.hasSiteGateway()"><unifi-config-changed unifi-config-changed-on-reset="dhcpServerCtrl.resolveDivergence()" unifi-config-changed-on-ignore="dhcpServerCtrl.ignoreDivergence()" unifi-config-changed-is-dark="dhcpServerCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="dhcpServerCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!dhcpServerCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="dhcpServerCtrl.forms.usg" unifi-model-form="dhcpServerCtrl.getSettingFromKey(\'usg\', {dhcpd_hostfile_update: true, dhcpd_use_dnsmasq: false})"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" for="dhcpdHostfileUpdateEnabled" translate="SETTINGS_DHCP_SERVER_LABEL_ENABLE_DHCPD_HOSTFILE_UPDATE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': dhcpServerCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="dhcpdHostfileUpdateEnabled" id="dhcpdHostfileUpdateEnabled" ng-model="modelFormCtrl.modelCopy.attributes.dhcpd_hostfile_update" ng-model-master="modelFormCtrl.model.attributes.dhcpd_hostfile_update"><label for="dhcpdHostfileUpdateEnabled"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" for="dhcpdUseDnsmasqEnabled" translate="SETTINGS_DHCP_SERVER_LABEL_ENABLE_DHCPD_USE_DNSMASQ"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': dhcpServerCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="dhcpdUseDnsmasqEnabled" id="dhcpdUseDnsmasqEnabled" ng-model="modelFormCtrl.modelCopy.attributes.dhcpd_use_dnsmasq" ng-model-master="modelFormCtrl.model.attributes.dhcpd_use_dnsmasq"><label for="dhcpdUseDnsmasqEnabled"></label></div></div></div></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': dhcpServerCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="dhcpServerCtrl.showValidation = true" busy-toggle="dhcpServerCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="dhcpServerCtrl.reset()" ng-disabled="dhcpServerCtrl.form.$pristine" ng-class="dhcpServerCtrl.preferences.model.get(\'isSettingsDark\') ? \'appMainButton--transparentDark\' : \'appMainButton--transparent\'">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></div></div></ng-form></div></fieldset></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],21:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s){this.collection=o.repository.collection,n.call(this,e,t,i,s,a)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","dhcpOptions","missingModelControllerMixin","preferences","ENV"],angular.module("app-unifi-manage-settings").controller("DhcpSettingsController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],22:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiDhcpSettings",{controller:"DhcpSettingsController",controllerAs:"dhcpSettingsCtrl",template:e("./dhcpSettings.pug")()})},{"./dhcpSettings.pug":23}],23:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="appContainer appContainer--comfy appContainer--fixed" id="networkSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-sub-menu-dhcp></unifi-settings-sub-menu-dhcp><div class="appRow appRow--comfy"><div class="col--xs12"><div ng-if="dhcpSettingsCtrl.view === \'form\'" unifi-dhcp-option-form="dhcpSettingsCtrl.model" unifi-dhcp-option-form-attrs="dhcpSettingsCtrl.sharedAttrs" unifi-dhcp-option-form-on-save="dhcpSettingsCtrl.list()" unifi-dhcp-option-form-on-cancel="dhcpSettingsCtrl.list()" unifi-dhcp-option-form-is-read-only="!dhcpSettingsCtrl.isAdmin()"></div><div ng-if="dhcpSettingsCtrl.view === \'list\'"><unifi-dhcp-option-list unifi-dhcp-option-list-on-edit="dhcpSettingsCtrl.edit(model)"></unifi-dhcp-option-list><div class="unifiSettingsFooter"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton" ng-click="dhcpSettingsCtrl.add()" ng-class="dhcpSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?               \'appMainButton--inputDark\' :               \'appMainButton--input\'            "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_DHCP_OPTION_BUTTON_CREATE"></span></button></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],24:[function(e,t,i){"use strict";function n(e,t){this.frame=e,this.preferences=t}n.prototype.addAssignment=function(){this.frame.show("dpiRestrictionNetworkAssignmentForm")},n.$inject=["frame","preferences"],angular.module("app-unifi-manage-settings").controller("DpiRestrictionAssignmentsController",n)},{}],25:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiDpiRestrictionAssignments",{controller:"DpiRestrictionAssignmentsController",controllerAs:"dpiRestrictionAssignmentsCtrl",template:e("./dpiRestrictionAssignments.pug")()})},{"./dpiRestrictionAssignments.pug":26}],26:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="dpiRestrictionAssignments"><unifi-settings-sub-menu-dpi></unifi-settings-sub-menu-dpi><unifi-settings-sub-menu-dpi-restrictions></unifi-settings-sub-menu-dpi-restrictions><div class="verticalRhythmTop"><div class="appSubHeading appSubHeading--standalone appSubHeading--comfy" ng-class="{\'appSubHeading--dark\': dpiRestrictionAssignmentsCtrl.preferences.model.get(\'isSettingsDark\')}"><span>{{\'DPI_RESTRICTION_GROUP_ASSIGNMENTS_NETWORK\' | translate}}</span></div><unifi-dpi-restriction-network-assignments-list></unifi-dpi-restriction-network-assignments-list></div><div class="verticalRhythmTop"><div class="appSubHeading appSubHeading--standalone appSubHeading--comfy" ng-class="{\'appSubHeading--dark\': dpiRestrictionAssignmentsCtrl.preferences.model.get(\'isSettingsDark\')}"><span>{{\'DPI_RESTRICTION_GROUP_ASSIGNMENTS_WIRELESS_NETWORK\' | translate}}</span></div><unifi-dpi-restriction-wireless-network-assignments-list></unifi-dpi-restriction-wireless-network-assignments-list></div><div class="appFormFooter unifiSettingsFooter verticalRhythmTop--comfy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': dpiRestrictionAssignmentsCtrl.preferences.model.get(\'isSettingsDark\')}"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+"><button class=\"appMainButton\" ng-click=\"dpiRestrictionAssignmentsCtrl.addAssignment()\" ng-class=\"dpiRestrictionAssignmentsCtrl.preferences.model.get('isSettingsDark') ?         'appMainButton--inputDark' :         'appMainButton--input'      \"><span class=\"button__icon icon ubnt-icon--plus\"></span><span>{{'DPI_RESTRICTION_GROUP_ACTION_ASSIGN_NETWORK' | translate}}</span></button></div></div>";var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],27:[function(e,t,i){"use strict";function n(e,t,i,n,o){this.$translate=e,this.DpiGroupModel=t,this.dpiGroups=i,this.frame=n,this.preferences=o,this.isExpanded={}}n.prototype.areAllRestrictionGroupsCollapsed=function(){return!this.dpiGroups.repository.collection.reduce(function(e,t){return e=!(!e&&!this.isExpanded[t.id])}.bind(this),!1)},n.prototype.expandRestrictionGroups=function(){this.dpiGroups.repository.collection.each(function(e){this.isExpanded[e.id]=!0}.bind(this))},n.prototype.collapseRestrictionGroups=function(){this.dpiGroups.repository.collection.each(function(e){this.isExpanded[e.id]=!1}.bind(this))},n.prototype.createRestrictionGroup=function(){this.frame.show("dpiRestrictionGroupForm",{model:angular.noop})},n.prototype.addRestriction=function(){this.frame.show("dpiRestrictionForm",{model:angular.noop,restrictionGroup:angular.noop})},n.$inject=["$translate","DpiGroupModel","dpiGroups","frame","preferences"],angular.module("app-unifi-manage-settings").controller("DpiRestrictionGroupsController",n)},{}],28:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiDpiRestrictionGroups",{controller:"DpiRestrictionGroupsController",controllerAs:"dpiRestrictionGroupsCtrl",template:e("./dpiRestrictionGroups.pug")()})},{"./dpiRestrictionGroups.pug":29}],29:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="dpiRestrictionGroups"><unifi-settings-sub-menu-dpi></unifi-settings-sub-menu-dpi><div class="unifiSettingsSubtabsContainer"><unifi-settings-sub-menu-dpi-restrictions></unifi-settings-sub-menu-dpi-restrictions><div class="unifiSettingsSubtabsActionIcon"><div class="appActionIcon appActionIcon--medium appActionIcon--primary" ng-click="isExpandIcon ? dpiRestrictionGroupsCtrl.expandRestrictionGroups() : dpiRestrictionGroupsCtrl.collapseRestrictionGroups()" title="{{(isExpandIcon = dpiRestrictionGroupsCtrl.areAllRestrictionGroupsCollapsed()) ? \'COMMON_PROPERTY_PANEL_EXPAND_ALL\' : \'COMMON_PROPERTY_PANEL_COLLAPSE_ALL\' | translate}}"><span class="icon ubnt-icon--menu"></span></div></div></div><div class="verticalRhythmTop--comfy"><div class="unifiSettingsSection" ng-repeat="model in dpiRestrictionGroupsCtrl.dpiGroups.repository.collection.models track by model.id"><unifi-dpi-restriction-group unifi-dpi-restriction-group-model="model" unifi-dpi-restriction-group-is-expanded="dpiRestrictionGroupsCtrl.isExpanded[model.id]"></unifi-dpi-restriction-group></div></div><div class="appFormFooter appFormFooter--standalone unifiSettingsFooter verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': dpiRestrictionGroupsCtrl.preferences.model.get(\'isSettingsDark\')}"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton" ng-click="dpiRestrictionGroupsCtrl.createRestrictionGroup()" ng-class="dpiRestrictionGroupsCtrl.preferences.model.get(\'isSettingsDark\') ?         \'appMainButton--inputDark\' :         \'appMainButton--input\'      "><span class="button__icon icon ubnt-icon--plus"></span><span translate="DPI_RESTRICTION_ACTION_ADD_RESTRICTION_GROUP"></span></button><button class="appMainButton" ng-click="dpiRestrictionGroupsCtrl.addRestriction()" ng-class="dpiRestrictionGroupsCtrl.preferences.model.get(\'isSettingsDark\') ?         \'appMainButton--inputDark\' :         \'appMainButton--input\'      "><span class="button__icon icon ubnt-icon--plus"></span><span translate="DPI_RESTRICTION_ACTION_ADD_RESTRICTION"></span></button></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],30:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage").controller("DpiSettingsController",["$translate","BaseSettingsController","dpiStatistics","frame","heyToasts","preferences",function(e,t,i,o,r,a){return new(function(s){function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.preferences=a,e.forms={},e.settingsSection="dpi",e.settingsSectionTranslationKey="SETTINGS_SITE_KEY_DPI",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,t),n(l,[{key:"clearDpiCounters",value:function(){var t=this;return o.show("confirm",{title:function(){return e.instant("SETTINGS_SITE_RESET_DPI_CONFIRM_TITLE")},message:function(){return e.instant("SETTINGS_SITE_RESET_DPI_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return t.isClearingDpiCounters=!0,i.resetDpiCounters().then(function(e){return r.pushSuccess(e),!0}).catch(function(e){return r.pushError(e),!1}).finally(function(){t.isClearingDpiCounters=!1})})}},{key:"save",value:function(){var e=this,t=[];return this.isSubmitting=!0,angular.forEach(["config"],function(i){t.push(e.saveSection(e.getSettingFromKey(i),e.forms[i].modelCopy.attributes,i))}),this.afterSave(t).finally(function(){e.isSubmitting=!1})}}]),l}())}])},{}],31:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiDpiSettings",{controller:"DpiSettingsController",controllerAs:"dpiSettingsCtrl",template:e("./dpiSettings.pug")()})},{"./dpiSettings.pug":32}],32:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="dpiSettings"><unifi-settings-sub-menu-dpi></unifi-settings-sub-menu-dpi><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="dpiSettingsCtrl.form" ng-class="{      \'appForm--dark\': dpiSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': dpiSettingsCtrl.showValidation,      \'is-validation-hidden\': !dpiSettingsCtrl.showValidation    }" ng-submit="dpiSettingsCtrl.form.$valid &amp;&amp; dpiSettingsCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="dpiSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="dpiSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="dpiSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="dpiSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!dpiSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="dpiSettingsCtrl.forms.config" unifi-model-form="dpiSettingsCtrl.getSettingFromKey(\'dpi\', { enabled: false })"><div class="appRow"><div class="col--xs4 col--md3"><label class="appLabel--primary" for="dpiEnable" translate="SETTINGS_DPI_VALUES_DPI"></label><unifi-notify-device-requirement class="ml-2" unifi-notify-device-requirement-type="ugw" unifi-notify-device-requirement-tooltip-position="bottomRight"></unifi-notify-device-requirement></div><div class="col--xs8 col--md9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                    \'appToggle--dark\': dpiSettingsCtrl.preferences.model.get(\'isSettingsDark\'),                  }"><input type="checkbox" name="siteEnableDpi" id="siteEnableDpi" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="siteEnableDpi"></label></div></div></div></div><div class="appRow"><div class="col--xs8 col--xsOffset4 col--md9 col--mdOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="modelFormCtrl.model.attributes.enabled || modelFormCtrl.modelCopy.attributes.enabled"><button class="appMainButton appMainButton--primary appMainButton--cozy" type="button" ng-click="dpiSettingsCtrl.clearDpiCounters()" busy-toggle="dpiSettingsCtrl.isClearingDpiCounters" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--xsall\']">{{\'SETTINGS_DPI_ACTIONS_CLEAR_DPI_COUNTERS\' | translate}}</button></div></div></div></ng-form></div><div class="appFormFooter appFormFooter--flush appFormFooter--standalone verticalRhythmTop--breezy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': dpiSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="dpiSettingsCtrl.showValidation = true" busy-toggle="dpiSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--xsall\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="dpiSettingsCtrl.reset()" ng-disabled="dpiSettingsCtrl.form.$pristine" ng-class="dpiSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?               \'appMainButton--transparentDark\' :               \'appMainButton--transparent\'            ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></fieldset></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],33:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s,l){this.collection=o.repository.collection,this.hasSiteGateway=r.hasSiteGateway.bind(r),a(this),n.call(this,e,t,i,l,s)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","dynamicDns","gatewayUtils","missingModelControllerMixin","preferences","ENV"],angular.module("app-unifi-manage-settings").controller("DynamicDnsController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],34:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiDynamicDns",{controller:"DynamicDnsController",controllerAs:"dynamicDnsCtrl",template:e("./dynamicDns.pug")()})},{"./dynamicDns.pug":35}],35:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="dynamicDnsSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-security-gateway-is-required ng-if="!dynamicDnsCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_DYNAMIC_DNS_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><div ng-if="dynamicDnsCtrl.view === \'form\' &amp;&amp; dynamicDnsCtrl.hasSiteGateway()" unifi-dynamic-dns-form="dynamicDnsCtrl.model" unifi-dynamic-dns-form-attrs="dynamicDnsCtrl.sharedAttrs" unifi-dynamic-dns-form-on-save="dynamicDnsCtrl.list()" unifi-dynamic-dns-form-on-cancel="dynamicDnsCtrl.list()" unifi-dynamic-dns-form-is-read-only="!dynamicDnsCtrl.isAdmin()"></div><div ng-if="dynamicDnsCtrl.view === \'list\' &amp;&amp; dynamicDnsCtrl.hasSiteGateway()"><unifi-dynamic-dns-list unifi-dynamic-dns-list-on-edit="dynamicDnsCtrl.edit(model)"></unifi-dynamic-dns-list><div class="unifiSettingsFooter"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton" ng-click="dynamicDnsCtrl.add()" ng-class="dynamicDnsCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--inputDark\' :           \'appMainButton--input\'        "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_DYNAMIC_DNS_BUTTON_CREATE"></span></button></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],36:[function(e,t,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(e,t,i,o,r,a){this.$translate=e,this.heyToasts=t,this.apiResults=o,this.dynamicDns=r,this.preferences=a,this.services=[{id:"afraid",name:"afraid"},{id:"dnspark",name:"dnspark"},{id:"dslreports",name:"dslreports"},{id:"dyndns",name:"dyndns"},{id:"easydns",name:"easydns"},{id:"namecheap",name:"namecheap"},{id:"noip",name:"noip"},{id:"sitelutions",name:"sitelutions"},{id:"zoneedit",name:"zoneedit"}],n.call(this,i)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){this.isSubmitting=!0;var e=angular.extend({},this.modelCopy.attributes);return this.model.save(e,{wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("SETTINGS_SERVICES_TAB_DYNAMIC_DNS")})),this.dynamicDns.repository.collection.add(this.model,{merge:!0}),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("SETTINGS_SERVICES_TAB_DYNAMIC_DNS")}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.setDefaultAttrs=function(e){var t=e?"":"Copy";this["model"+t]&&(this["model"+t].attributes.interface=(this.model?this.model.get("interface"):void 0)||"wan",this["model"+t].attributes.service=(this.model?this.model.get("service"):void 0)||this.services[0].id)},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$translate","heyToasts","modelDivergence","apiResults","dynamicDns","preferences"],angular.module("app-unifi-manage-settings").controller("DynamicDnsFormController",o)},{}],37:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiDynamicDnsForm",["SimpleFormDirective",function(t){return new t("dynamicDns",e("./dynamicDnsForm.pug")())}])},{"./dynamicDnsForm.pug":38}],38:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="dynamicDnsFormCtrl.form" ng-class="{    \'appForm--dark\': dynamicDnsFormCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': dynamicDnsFormCtrl.showValidation,    \'is-validation-hidden\': !dynamicDnsFormCtrl.showValidation  }" ng-submit="dynamicDnsFormCtrl.form.$valid &amp;&amp; dynamicDnsFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="dynamicDnsFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="dynamicDnsFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="dynamicDnsFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="dynamicDnsFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{serviceName: dynamicDnsFormCtrl.model.attributes.service}">{{isReadOnly ? \'SETTINGS_DYNAMIC_DNS_SECTION_VIEW\' : (dynamicDnsFormCtrl.model.id ? \'SETTINGS_DYNAMIC_DNS_SECTION_EDIT\' : \'SETTINGS_DYNAMIC_DNS_SECTION_CREATE\')}}</div><div class="appRow verticalRhythmTop--cozy"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_DYNAMIC_DNS_LABEL_INTERFACE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dynamicDnsInterface" id="dynamicDnsInterfaceWan1" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.interface" ng-model-master="dynamicDnsFormCtrl.model.attributes.interface" value="wan"><label for="dynamicDnsInterfaceWan1" translate="SETTINGS_DYNAMIC_DNS_VALUES_INTERFACE_WAN1"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dynamicDnsInterface" id="dynamicDnsInterfaceWan2" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.interface" ng-model-master="dynamicDnsFormCtrl.model.attributes.interface" value="wan2"><label for="dynamicDnsInterfaceWan2" translate="SETTINGS_DYNAMIC_DNS_VALUES_INTERFACE_WAN2"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_DYNAMIC_DNS_LABEL_SERVICE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="dynamicDnsService" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.service" ng-model-master="dynamicDnsFormCtrl.model.attributes.service" ng-options="service.id as service.name for service in dynamicDnsFormCtrl.services"'+n("required",!0,!0,!0)+'></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_DYNAMIC_DNS_LABEL_HOSTNAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="dynamicDnsHostname" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.host_name" ng-model-master="dynamicDnsFormCtrl.model.attributes.host_name"'+n("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_DYNAMIC_DNS_LABEL_USERNAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="dynamicDnsU" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.login" ng-model-master="dynamicDnsFormCtrl.model.attributes.login"'+n("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_DYNAMIC_DNS_LABEL_PASSWORD"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="dynamicDnsP" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.x_password" ng-model-master="dynamicDnsFormCtrl.model.attributes.x_password"'+n("required",!0,!0,!0)+'></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_DYNAMIC_DNS_LABEL_SERVER"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="dynamicDnsServer" ng-model="dynamicDnsFormCtrl.modelCopy.attributes.server" ng-model-master="dynamicDnsFormCtrl.model.attributes.server"></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{      \'appFormFooter--dark\': dynamicDnsFormCtrl.preferences.model.get(\'isSettingsDark\')    }"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveDynamicDns" ng-if="!isReadOnly" ng-click="dynamicDnsFormCtrl.showValidation = true" busy-toggle="dynamicDnsFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="dynamicDnsFormCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":2}],39:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("DynamicDnsListController",["$translate","BaseListController","frame","heyToasts","preferences","dynamicDns",function(e,t,i,o,r,a){return new(function(s){function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.preferences=r,e.defaultSortBy="service",e.isRemoving={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,t),n(l,[{key:"getCollection",value:function(){return a.repository.collection}},{key:"remove",value:function(t){var n=this;return i.show("confirm",{title:function(){return e.instant("SETTINGS_DYNAMIC_DNS_DELETE_CONFIRM_TITLE",{serviceName:t.get("service")})},message:function(){return e.instant("SETTINGS_DYNAMIC_DNS_DELETE_CONFIRM_MESSAGE",{serviceName:t.get("service")})},options:angular.noop}).then(function(){return n.isRemoving[t.id]=!0,t.destroy({wait:!0}).then(function(){return o.pushSuccess(e.instant("SETTINGS_DYNAMIC_DNS_DELETE_SUCCESS",{serviceName:t.get("service")})),!0}).catch(function(){return o.pushError(e.instant("SETTINGS_DYNAMIC_DNS_DELETE_ERROR",{serviceName:t.get("service")})),!1}).finally(function(){n.isRemoving[t.id]=!1})})}},{key:"edit",value:function(e){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:e})}}]),l}())}])},{}],40:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiDynamicDnsList",["ListDirective",function(t){return new t("dynamicDns",e("./dynamicDnsList.pug")(),{onEdit:"&unifiDynamicDnsListOnEdit"})}])},{"./dynamicDnsList.pug":41}],41:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div><table class="verticalRhythmTop--condensed appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="dynamicDnsTable" collection-view-sort="dynamicDnsListCtrl.view" ng-class="{      \'appTable--dark\': dynamicDnsListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="dynamicDnsService" collection-view-sort-by="service"><span translate="SETTINGS_DYNAMIC_DNS_TABLE_HEADER_SERVICE"></span></th><th class="dynamicDnsHostname" collection-view-sort-by="host_name"><span translate="SETTINGS_DYNAMIC_DNS_TABLE_HEADER_HOSTNAME"></span></th><th class="dynamicDnsServer" collection-view-sort-by="server"><span translate="SETTINGS_DYNAMIC_DNS_TABLE_HEADER_SERVER"></span></th><th class="dynamicDnsActions"><span translate="SETTINGS_DYNAMIC_DNS_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in dynamicDnsListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="dynamicDnsService">{{::model.get(\'service\')}}</td><td class="dynamicDnsHostname">{{::model.get(\'host_name\')}}</td><td class="dynamicDnsServer">{{::model.get(\'server\')}}</td><td class="dynamicDnsActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="dynamicDnsListCtrl.edit(model)" ng-disabled="dynamicDnsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="dynamicDnsListCtrl.edit(model)" ng-disabled="dynamicDnsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="dynamicDnsListCtrl.remove(model)" ng-disabled="dynamicDnsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!dynamicDnsListCtrl.view.getModels().length" ng-class="{      \'appInfoBox--dark\': dynamicDnsListCtrl.preferences.model.get(\'isSettingsDark\')    }"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_DYNAMIC_DNS_TABLE_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],42:[function(e,t,i){"use strict";function n(e,t,i,n,o,r,a,s,l){this.account=e,this.countries=t,this.deviceElite=i,this.deviceEliteDetails=n,this.deviceEliteUtils=o,this.frame=r,this.preferences=a,this.sdn=s,this.settings=l,this.countryNamesMapByCode=this.countries.getCountryNamesMapByCode(),this.isCurrentCountrySupported=o.isCurrentCountrySupported.bind(o),this.isUserAcceptedTos=o.isUserAcceptedTos.bind(o),this.getTosLink=o.getTosLink.bind(o)}n.prototype.isEverythingGood=function(){return this.isCloudConnected()&&!this.deviceEliteUtils.isServiceWithEliteDeviceWarning()},n.prototype.isCloudConnected=function(){return this.sdn.isConnected()},n.prototype.getSupportedCountries=function(){var e=this;return this.deviceEliteDetails.getSupportedCountries().map(function(t){return e.countryNamesMapByCode[t]}).filter(function(e){return!!e})},n.prototype.checkElite=function(){var e=this;this.isCheckingElite=!0,this.deviceElite.checkLicenses().finally(function(){e.isCheckingElite=!1})},n.prototype.acceptTos=function(){var e=this;this.isAcceptingTos=!0,this.deviceElite.acceptTos().finally(function(){e.isAcceptingTos=!1})},n.prototype.updateContactInfo=function(){this.frame.show("instantRma",{device:angular.noop})},n.$inject=["account","countries","deviceElite","deviceEliteDetails","deviceEliteUtils","frame","preferences","sdn","settings"],angular.module("app-unifi-manage-settings").controller("EliteDeviceSettingsController",n)},{}],43:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiEliteDeviceSettings",{controller:"EliteDeviceSettingsController",controllerAs:"eliteDeviceSettingsCtrl",template:e("./eliteDeviceSettings.pug")()})},{"./eliteDeviceSettings.pug":44}],44:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="eliteDeviceSettings"><form class="appForm appForm--cozy" ng-class="{\'appForm--dark\': eliteDeviceSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"'+(i="novalidate",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_ELITE_DEVICE"></div></div><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder" ng-class="{\'appInfoBox--dark\': eliteDeviceSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_ELITE_DEVICE_INFO_BOX_DETAILS"></p></div></div></div><div class="unifiSettingsSection"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_ELITE_DEVICE_LABEL_STATUS"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup inlineBlock"><h5 class="noMarginBottom" ng-if="eliteDeviceSettingsCtrl.isEverythingGood()"><span class="appBadge appBadge--success" translate="SETTINGS_ELITE_DEVICE_LABEL_EVERYTHING_IS_GOOD"></span></h5><h5 class="noMarginBottom" ng-if="!eliteDeviceSettingsCtrl.isEverythingGood()"><span class="appBadge appBadge--warning" translate="SETTINGS_ELITE_DEVICE_LABEL_SOME_REQUIREMENTS_ARE_MISSING"></span></h5></div></div><div class="appDescriptionList appDescriptionList--longDefinition verticalRhythm--cozy horizontalRhythmLeft--cozy"><div class="appDescriptionListRow"><dt ng-if="eliteDeviceSettingsCtrl.isCloudConnected()"><span class="iconText__icon icon ubnt-icon--check-2"></span><span class="iconText__text" translate="SETTINGS_ELITE_DEVICE_VALUES_STATUS_DETAILS_CLOUD_ACCESS"></span></dt><dt class="warning" ng-if="!eliteDeviceSettingsCtrl.isCloudConnected()"><span class="iconText__icon icon ubnt-icon--x"></span><span class="iconText__text" translate="SETTINGS_ELITE_DEVICE_VALUES_STATUS_DETAILS_CLOUD_ACCESS_REQUIRED"></span></dt></div><div class="appDescriptionListRow" ng-if="eliteDeviceSettingsCtrl.isCloudConnected() &amp;&amp; eliteDeviceSettingsCtrl.isCurrentCountrySupported()"><dt ng-if="eliteDeviceSettingsCtrl.isUserAcceptedTos()"><span class="iconText__icon icon ubnt-icon--check-2"></span><span class="iconText__text" translate="SETTINGS_ELITE_DEVICE_VALUES_STATUS_DETAILS_TERMS_OF_SERVICE"></span></dt><dt class="warning" ng-if="!eliteDeviceSettingsCtrl.isUserAcceptedTos()"><span class="iconText__icon icon ubnt-icon--x"></span><span class="iconText__text" translate="SETTINGS_ELITE_DEVICE_VALUES_STATUS_DETAILS_TERMS_OF_SERVICE_REQUIRED"></span></dt></div><div class="appDescriptionListRow" ng-if="eliteDeviceSettingsCtrl.isCloudConnected()"><dt ng-if="eliteDeviceSettingsCtrl.isCurrentCountrySupported()"><span class="iconText__icon icon ubnt-icon--check-2"></span><span class="iconText__text" translate="SETTINGS_ELITE_DEVICE_VALUES_STATUS_DETAILS_COUNTRY"></span></dt><dt class="warning" ng-if="!eliteDeviceSettingsCtrl.isCurrentCountrySupported()"><span class="iconText__icon icon ubnt-icon--x"></span><span class="iconText__text" translate="SETTINGS_ELITE_DEVICE_VALUES_STATUS_DETAILS_COUNTRY_NOT_SUPPORTED"></span></dt></div></div><div class="appInputGroup appInputGroup--cozy" ng-if="eliteDeviceSettingsCtrl.isCloudConnected() &amp;&amp; eliteDeviceSettingsCtrl.account.isSuperAdmin()"><div class="appInputGroup inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy checkEliteDevices" type="button" ng-click="eliteDeviceSettingsCtrl.checkElite()" busy-toggle="eliteDeviceSettingsCtrl.isCheckingElite" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_ELITE_DEVICE_ACTIONS_REFRESH_STATUS\' | translate}}</button></div></div></div></div><div class="appRow" ng-if="eliteDeviceSettingsCtrl.isCloudConnected() &amp;&amp; eliteDeviceSettingsCtrl.isCurrentCountrySupported() &amp;&amp; eliteDeviceSettingsCtrl.getTosLink()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_ELITE_DEVICE_LABEL_TERMS_OF_SERVICE"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy" ng-if="!eliteDeviceSettingsCtrl.isUserAcceptedTos()"><div class="appInputGroup inlineBlock"><input type="checkbox" name="eliteDeviceAcceptTos" id="eliteDeviceAcceptTos" ng-model="eliteDeviceSettingsCtrl.tos_accepted"><label for="eliteDeviceAcceptTos" translate="SETTINGS_ELITE_DEVICE_LABEL_ACCEPT_TOS" translate-values="{                  link: eliteDeviceSettingsCtrl.getTosLink()                }"></label></div></div><div class="appInputGroup appInputGroup--cozy" ng-if="!eliteDeviceSettingsCtrl.isUserAcceptedTos() &amp;&amp; eliteDeviceSettingsCtrl.account.isSuperAdmin()"><div class="appInputGroup inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy acceptEliteDeviceTos" type="button" ng-click="eliteDeviceSettingsCtrl.acceptTos()" ng-disabled="!eliteDeviceSettingsCtrl.tos_accepted" busy-toggle="eliteDeviceSettingsCtrl.isAcceptingTos" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_CONFIRM\' | translate}}</button></div></div><div class="appInputGroup appInputGroup--cozy" ng-if="eliteDeviceSettingsCtrl.isUserAcceptedTos()"><div class="appInputGroup inlineBlock"><label><a class="appLink" ng-href="{{eliteDeviceSettingsCtrl.getTosLink()}}" target="_blank">{{eliteDeviceSettingsCtrl.getTosLink()}}</a></label></div></div></div></div><div class="appRow" ng-if="eliteDeviceSettingsCtrl.isCloudConnected()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_ELITE_DEVICE_LABEL_AVAILABLE_RESTRICTIONS"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appType--quiet verticalRhythm--cozy" translate="SETTINGS_ELITE_DEVICE_VALUES_AVAILABLE_IN_COUNTRIES"></div><div class="flexible appDescriptionList appDescriptionList--longDefinition verticalRhythm--cozy horizontalRhythmLeft--cozy"><div class="appDescriptionListRow" ng-repeat="country in eliteDeviceSettingsCtrl.getSupportedCountries() | orderBy"><dt><span class="iconText__icon icon ubnt-icon--check-2"></span><span class="iconText__text">{{country}}</span></dt></div></div></div></div></div><div class="unifiSettingsSection" ng-show="eliteDeviceSettingsCtrl.isCloudConnected()"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_ELITE_DEVICE_SECTION_CONFIGURATION"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_ELITE_DEVICE_LABEL_SHIPPING_INFO"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="shelfCenter appInputGroup appInputGroup--cozy"><div class="inflexible"><div class="appInputGroup inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy restoreFile" ng-click="eliteDeviceSettingsCtrl.updateContactInfo()">{{\'SETTINGS_ELITE_DEVICE_ACTIONS_UPDATE\' | translate}}</button></div></div></div></div></div></div></form></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],45:[function(e,t,i){"use strict";function n(e,t,i){this.$state=e,this.firewallUtils=t,this.preferences=i}n.prototype.isRulesetDefined=function(){return null!==this.firewallUtils.getDefaultRulesetIpv4()},n.$inject=["$state","firewallUtils","preferences"],angular.module("app-unifi-manage-settings").controller("FirewallController",n)},{}],46:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiFirewall",{controller:"FirewallController",controllerAs:"firewallCtrl",template:e("./firewall.pug")()})},{"./firewall.pug":47}],47:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div id="firewallSettings"><div class="unifiSettingsContainer" ng-if="!firewallCtrl.isRulesetDefined()"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-security-gateway-is-required unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_FIREWALL_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required></div><div ng-if="firewallCtrl.isRulesetDefined()"><ui-view></ui-view></div></div>'}},{"pug-runtime":2}],48:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s){this.collection=a.repository.collection,s(this),n.call(this,e,t,i,o,r)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","ENV","preferences","firewallGroups","missingModelControllerMixin"],angular.module("app-unifi-manage").controller("FirewallGroupsController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],49:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiFirewallGroups",{controller:"FirewallGroupsController",controllerAs:"firewallGroupsCtrl",template:e("./firewallGroups.pug")()})},{"./firewallGroups.pug":50}],50:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="firewallGroupsSettings"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-sub-menu-firewall></unifi-settings-sub-menu-firewall><div ng-if="firewallGroupsCtrl.view === \'form\'" unifi-firewall-groups-form="firewallGroupsCtrl.model" unifi-firewall-groups-form-is-dark="firewallGroupsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-firewall-groups-form-on-save="firewallGroupsCtrl.list()" unifi-firewall-groups-form-on-cancel="firewallGroupsCtrl.list()" unifi-firewall-groups-form-is-read-only="!firewallGroupsCtrl.isAdmin()"></div><div class="verticalRhythmTop--cozy" ng-if="firewallGroupsCtrl.view === \'list\'"><unifi-firewall-groups-list unifi-firewall-groups-list-on-edit="firewallGroupsCtrl.edit(model)"></unifi-firewall-groups-list><div class="unifiSettingsFooter"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton" ng-click="firewallGroupsCtrl.add()" ng-class="firewallGroupsCtrl.preferences.model.get(\'isSettingsDark\') ? \'appMainButton--inputDark\' : \'appMainButton--input\'"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_FIREWALL_GROUPS_BUTTON_ADD"></span></button></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],51:[function(e,t,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(e,t,i,o,r,a){this.$translate=e,this.heyToasts=o,this.firewallGroups=i,this.apiResults=t,this.FIREWALL=a,this.availableFirewallGroups=[this.FIREWALL.GROUPS.ADDRESS_IPV4,this.FIREWALL.GROUPS.ADDRESS_IPV6,this.FIREWALL.GROUPS.PORT],this.groupMembersMin=1,n.call(this,r)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){this.isSubmitting=!0;var e=angular.extend({},this.modelCopy.attributes);return e.group_members=e.group_members.filter(function(e){return!!e}),this.model.save(e,{wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("SETTINGS_ROUTING_TAB_FIREWALL_GROUPS").toLowerCase()})),this.firewallGroups.repository.collection.add(this.model,{merge:!0}),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("SETTINGS_ROUTING_TAB_FIREWALL_GROUPS").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.setDefaultAttrs=function(e){var t=e?"":"Copy";this["model"+t]&&(this["model"+t].attributes.name=this.model&&this.model.get("name")||"",this["model"+t].attributes.group_type=this.model&&this.model.get("group_type")||this.FIREWALL.GROUPS.ADDRESS_IPV4,this["model"+t].attributes.group_members=this.model&&angular.copy(this.model.get("group_members"))||[])},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$translate","apiResults","firewallGroups","heyToasts","modelDivergence","FIREWALL"],angular.module("app-unifi-manage-settings").controller("FirewallGroupsFormController",o)},{}],52:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiFirewallGroupsForm",["SimpleFormDirective",function(t){return new t("firewallGroups",e("./firewallGroupsForm.pug")())}])},{"./firewallGroupsForm.pug":53}],53:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="firewallGroupsFormCtrl.form" ng-class="{    \'appForm--dark\': isDark,    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': firewallGroupsFormCtrl.showValidation,    \'is-validation-hidden\': !firewallGroupsFormCtrl.showValidation  }" ng-submit="firewallGroupsFormCtrl.form.$valid &amp;&amp; firewallGroupsFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="firewallGroupsFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="firewallGroupsFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="isDark" unifi-config-changed-with-icon="true" ng-show="firewallGroupsFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection" ng-class="{\'noMargin\': isModal}"><div class="unifiFirewallGroupsContainerBasicHeader"><div class="appRow"><div class="col--sm12" ng-if="!isModal"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="isReadOnly" translate="SETTINGS_FIREWALL_GROUPS_SECTION_VIEW" translate-values="{groupName: firewallGroupsFormCtrl.model.attributes.name}"></div><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="!isReadOnly &amp;&amp; firewallGroupsFormCtrl.model.id" translate="SETTINGS_FIREWALL_GROUPS_SECTION_EDIT" translate-values="{groupName: firewallGroupsFormCtrl.model.attributes.name}"></div><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="!isReadOnly &amp;&amp; !firewallGroupsFormCtrl.model.id" translate="SETTINGS_FIREWALL_GROUPS_SECTION_CREATE"></div></div><div class="col--sm12" ng-if="isModal"><div class="appControlModal__header noPaddingLeft noPaddingTop" ng-if="isReadOnly" translate="SETTINGS_FIREWALL_GROUPS_SECTION_VIEW" translate-values="{groupName: firewallGroupsFormCtrl.model.attributes.name}"></div><div class="appControlModal__header noPaddingLeft noPaddingTop" ng-if="!isReadOnly &amp;&amp; firewallGroupsFormCtrl.model.id" translate="SETTINGS_FIREWALL_GROUPS_SECTION_EDIT" translate-values="{groupName: firewallGroupsFormCtrl.model.attributes.name}"></div><div class="appControlModal__header noPaddingLeft noPaddingTop" ng-if="!isReadOnly &amp;&amp; !firewallGroupsFormCtrl.model.id" translate="SETTINGS_FIREWALL_GROUPS_SECTION_CREATE"></div></div></div></div><div class="unifiFirewallGroupsContainerBasic" ng-class="{\'appControlModalScrollableContent container\': isModal}"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_FIREWALL_GROUPS_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="firewallGroupName" ng-model="firewallGroupsFormCtrl.modelCopy.attributes.name" ng-model-master="firewallGroupsFormCtrl.model.attributes.name" ng-maxlength="firewallGroupsFormCtrl.FIREWALL.VALIDATORS.GROUP_NAME_MAX_LENGTH" required="true"><div class="appInputFeedback appInputFeedback--danger" ng-show="firewallGroupsFormCtrl.form.firewallGroupName.$error.required" translate="VALIDATION_HINT_REQUIRED"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="firewallGroupsFormCtrl.form.firewallGroupName.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: firewallGroupsFormCtrl.FIREWALL.VALIDATORS.GROUP_NAME_MAX_LENGTH}"></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_GROUPS_LABEL_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="groupType in firewallGroupsFormCtrl.availableFirewallGroups"><input type="radio" name="firewallGroupType" id="firewallGroupType{{groupType}}" ng-value="groupType" ng-model="firewallGroupsFormCtrl.modelCopy.attributes[\'group_type\']" ng-model-master="firewallGroupsFormCtrl.model.attributes[\'group_type\']" ng-disabled="firewallGroupsFormCtrl.model.id" required="true"><label for="firewallGroupType{{groupType}}">{{ \'FIREWALL_GROUPS_TYPE_\' + groupType | toTranslationKey | translate }}</label></div></div></div></div><div class="appRow unifiFirewallGroupsMembers" ng-if="firewallGroupsFormCtrl.modelCopy.attributes.group_type === firewallGroupsFormCtrl.FIREWALL.GROUPS.ADDRESS_IPV4"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_FIREWALL_GROUPS_LABEL_ADDRESSES"></label></div><div class="col--sm9 appFormGroup noMarginBottom"'+n("unifi-repeatable-input",!0,!0,!0)+' unifi-repeatable-input-min="firewallGroupsFormCtrl.groupMembersMin" unifi-repeatable-input-values="firewallGroupsFormCtrl.modelCopy.attributes[\'group_members\']" unifi-repeatable-input-is-read-only="firewallGroupsFormCtrl.isReadOnly"><div class="remoteSubnets appInputGroup appInputGroup--cozy" ng-repeat="option in repeatableInputCtrl.getOptions() track by $index"><input type="text" name="firewallGroupsMembers[]" id="firewallGroupsMembersAddress_{{$index}}" ng-model="repeatableInputCtrl.values[$index]"'+n("unifi-validate-ip-range",!0,!0,!0)+n("unifi-validate-duplicates",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRemoteSubnet" type="button" ng-show="!repeatableInputCtrl.isReadOnly" ng-click="repeatableInputCtrl.removeItem($index)" ng-disabled="!repeatableInputCtrl.isRemoveAllowed()" title="{{\'SETTINGS_FIREWALL_GROUPS_BUTTON_REMOVE_MEMBER\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-show="!repeatableInputCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRemoteSubnet" type="button" ng-click="repeatableInputCtrl.addItem()" ng-disabled="!repeatableInputCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_FIREWALL_GROUPS_BUTTON_ADD_MEMBER"></span></button></div></div></div><div class="appRow unifiFirewallGroupsMembers" ng-if="firewallGroupsFormCtrl.modelCopy.attributes.group_type === firewallGroupsFormCtrl.FIREWALL.GROUPS.ADDRESS_IPV6"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_FIREWALL_GROUPS_LABEL_ADDRESSES"></label></div><div class="col--sm9 appFormGroup noMarginBottom"'+n("unifi-repeatable-input",!0,!0,!0)+' unifi-repeatable-input-min="firewallGroupsFormCtrl.groupMembersMin" unifi-repeatable-input-values="firewallGroupsFormCtrl.modelCopy.attributes[\'group_members\']" unifi-repeatable-input-is-read-only="firewallGroupsFormCtrl.isReadOnly"><div class="remoteSubnets appInputGroup appInputGroup--cozy" ng-repeat="option in repeatableInputCtrl.getOptions() track by $index"><input type="text" name="firewallGroupsMembers[]" id="firewallGroupsMembersAddress_{{$index}}" ng-model="repeatableInputCtrl.values[$index]"'+n("unifi-validate-ipv6-range",!0,!0,!0)+n("unifi-validate-duplicates",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRemoteSubnet" type="button" ng-show="!repeatableInputCtrl.isReadOnly" ng-click="repeatableInputCtrl.removeItem($index)" ng-disabled="!repeatableInputCtrl.isRemoveAllowed()" title="{{\'SETTINGS_FIREWALL_GROUPS_BUTTON_REMOVE_MEMBER\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-show="!repeatableInputCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRemoteSubnet" type="button" ng-click="repeatableInputCtrl.addItem()" ng-disabled="!repeatableInputCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_FIREWALL_GROUPS_BUTTON_ADD_MEMBER"></span></button></div></div></div><div class="appRow unifiFirewallGroupsMembers" ng-if="firewallGroupsFormCtrl.modelCopy.attributes.group_type === firewallGroupsFormCtrl.FIREWALL.GROUPS.PORT"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_FIREWALL_GROUPS_LABEL_PORTS"></label></div><div class="col--sm9 appFormGroup noMarginBottom"'+n("unifi-repeatable-input",!0,!0,!0)+' unifi-repeatable-input-min="firewallGroupsFormCtrl.groupMembersMin" unifi-repeatable-input-values="firewallGroupsFormCtrl.modelCopy.attributes[\'group_members\']" unifi-repeatable-input-is-read-only="firewallGroupsFormCtrl.isReadOnly"><div class="remoteSubnets appInputGroup appInputGroup--cozy" ng-repeat="option in repeatableInputCtrl.getOptions() track by $index"><input type="text" name="firewallGroupsMembers[]" id="firewallGroupsMembersPort_{{$index}}" ng-model="repeatableInputCtrl.values[$index]"'+n("unifi-validate-port-range",!0,!0,!0)+n("unifi-validate-duplicates",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRemoteSubnet" type="button" ng-show="!repeatableInputCtrl.isReadOnly" ng-click="repeatableInputCtrl.removeItem($index)" ng-disabled="!repeatableInputCtrl.isRemoveAllowed()" title="{{\'SETTINGS_FIREWALL_GROUPS_BUTTON_REMOVE_MEMBER\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-show="!repeatableInputCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRemoteSubnet" type="button" ng-click="repeatableInputCtrl.addItem()" ng-disabled="!repeatableInputCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_FIREWALL_GROUPS_BUTTON_ADD_MEMBER"></span></button></div></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--flush" ng-class="{      \'appFormFooter--dark\': isDark,       \'appFormFooter--standalone\': !isModal,       \'verticalRhythmTop--breezy\': !isModal,       \'appFormFooter--smash\': isModal     }"><div class="appFormFooter__left" ng-if="!isModal"><button class="appMainButton appMainButton--success firewallGroupsSaveButton" type="submit" ng-if="!isReadOnly" ng-click="firewallGroupsFormCtrl.showValidation = true" busy-toggle="firewallGroupsFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="isDark ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div><div class="appFormFooter__right" ng-if="isModal"><button class="appMainButton appMainButton--cozy cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="isDark ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary firewallGroupsSaveButton" type="submit" ng-if="!isReadOnly" ng-click="firewallGroupsFormCtrl.showValidation = true" busy-toggle="firewallGroupsFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":2}],54:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("FirewallGroupsListController",["$translate","BaseListController","apiResults","heyToasts","firewallGroups","frame","preferences",function(e,t,i,o,r,a,s){return new(function(l){function p(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return e.preferences=s,e.defaultSortBy="name",e.isRemoving={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,t),n(p,[{key:"getCollection",value:function(){return r.repository.collection}},{key:"edit",value:function(e){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:e})}},{key:"remove",value:function(t){var n=this;return a.show("confirm",{title:function(){return e.instant("SETTINGS_FIREWALL_GROUPS_DELETE_CONFIRM_TITLE",{groupName:t.get("name")})},message:function(){return e.instant("SETTINGS_FIREWALL_GROUPS_DELETE_CONFIRM_MESSAGE",{groupName:t.get("name")})},options:angular.noop}).then(function(){return n.isRemoving[t.id]=!0,t.destroy({wait:!0}).then(function(){return o.pushSuccess(e.instant("SETTINGS_FIREWALL_GROUPS_DELETE_SUCCESS",{groupName:t.get("name")})),!0}).catch(function(n){return o.pushError(i.appendErrorMsg(e.instant("SETTINGS_FIREWALL_GROUPS_DELETE_ERROR",{groupName:t.get("name")}),n)),!1}).finally(function(){n.isRemoving[t.id]=!1})})}}]),p}())}])},{}],55:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiFirewallGroupsList",["ListDirective",function(t){return new t("firewallGroups",e("./firewallGroupsList.pug")(),{onEdit:"&unifiFirewallGroupsListOnEdit"})}])},{"./firewallGroupsList.pug":56}],56:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div><table class="verticalRhythmTop--comfy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="firewallGroupsTable" collection-view-sort="firewallGroupsListCtrl.view" ng-class="{      \'appTable--dark\': firewallGroupsListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="firewallGroupsName" collection-view-sort-by="name"><span translate="SETTINGS_FIREWALL_GROUPS_TABLE_HEADER_NAME"></span></th><th class="firewallGroupsType" collection-view-sort-by="group_type"><span translate="SETTINGS_FIREWALL_GROUPS_TABLE_HEADER_TYPE"></span></th><th class="firewallGroupsCount"><span translate="SETTINGS_FIREWALL_GROUPS_TABLE_HEADER_COUNT"></span></th><th class="firewallGroupsActions"><span translate="SETTINGS_FIREWALL_GROUPS_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in firewallGroupsListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="firewallGroupsName">{{::model.get(\'name\')}}</td><td class="firewallGroupsType" ng-switch="model.get(\'group_type\')">{{ \'FIREWALL_GROUPS_TYPE_\' + model.get(\'group_type\') | toTranslationKey | translate }}</td><td class="firewallGroupsCount">{{::model.get(\'group_members\').length}}</td><td class="firewallGroupsActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="firewallGroupsListCtrl.edit(model)" ng-disabled="firewallGroupsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="firewallGroupsListCtrl.edit(model)" ng-disabled="firewallGroupsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="firewallGroupsListCtrl.remove(model)" ng-disabled="firewallGroupsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!firewallGroupsListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': firewallGroupsListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_FIREWALL_GROUPS_TABLE_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],57:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s){this.$stateParams=t,this.collection=r.repository.collection,s(this,"firewallRules","useSettingsPanelView"),n.call(this,e,t,o,i,a)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onInitViewError=function(e){e.message===this.ERROR_EDIT_NOT_FOUND?(this.errorMsg=e.message,this.$state.go(".",{action:"list",ruleset:void 0,id:void 0})):n.prototype.onInitViewError.call(this,e)},o.prototype.isRulesetDefined=function(){return!!this.$stateParams.ruleset},o.$inject=["$state","$stateParams","ENV","account","firewallRules","preferences","panelViewControllerMixin"],angular.module("app-unifi-manage").controller("FirewallRulesController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],58:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiFirewallRules",{controller:"FirewallRulesController",controllerAs:"firewallRulesCtrl",template:e("./firewallRules.pug")()})},{"./firewallRules.pug":59}],59:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div id="firewallRulesSettings" ng-switch="::firewallRulesCtrl.usePanelView()"><div class="appView appView--settingsPanelLayout" ng-switch-when="true"><div class="appViewCenterPanel flexFlag flexFlag--vertical fullWidth"><div class="unifiSettingsContainer"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-sub-menu-firewall></unifi-settings-sub-menu-firewall></div><div class="appScrollable appScrollable--centerPanel unifiSettingsPanel flexFlag__body"><div class="unifiSettingsContainer verticalRhythmTop--cozy"><unifi-firewall-rules-list unifi-firewall-rules-list-on-edit="firewallRulesCtrl.edit(model, true)" unifi-firewall-rules-list-on-add="firewallRulesCtrl.add(true)"></unifi-firewall-rules-list></div></div><div class="appScrollable appScrollable--centerPanel unifiSettingsPanel flexFlag__body {{\'unifiSettingsPanel--\' + (firewallRulesCtrl.preferences.model.get(\'isSettingsDark\') ? \'dark\' : \'light\')}}" ng-if="firewallRulesCtrl.view === \'form\'" ng-class="{\'is-resizing\': resizablePanelCtrl.isDragging}"'+(i="unifi-resizable-panel",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' unifi-resizable-panel-direction="[\'top\']" unifi-resizable-panel-initial-height="firewallRulesCtrl.getInitialPanelHeight(\'form\')" unifi-resizable-panel-on-resize-stop="firewallRulesCtrl.onPanelResizeStop(\'form\', height)"><div class="unifiSettingsContainer verticalRhythmTop--cozy" unifi-firewall-rules-form="firewallRulesCtrl.model" unifi-firewall-rules-form-on-save="firewallRulesCtrl.list(true)" unifi-firewall-rules-form-on-cancel="firewallRulesCtrl.list(true)" unifi-firewall-rules-form-is-read-only="!firewallRulesCtrl.isAdmin()"></div></div></div></div><div class="unifiSettingsContainer" ng-switch-when="false"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-sub-menu-firewall></unifi-settings-sub-menu-firewall><div ng-if="firewallRulesCtrl.view === \'form\'" unifi-firewall-rules-form="firewallRulesCtrl.model" unifi-firewall-rules-form-on-save="firewallRulesCtrl.list()" unifi-firewall-rules-form-on-cancel="firewallRulesCtrl.list()" unifi-firewall-rules-form-is-read-only="!firewallRulesCtrl.isAdmin()"></div><unifi-firewall-rules-list class="verticalRhythmTop--comfy" ng-if="firewallRulesCtrl.view === \'list\'" unifi-firewall-rules-list-on-edit="firewallRulesCtrl.edit(model)" unifi-firewall-rules-list-on-add="firewallRulesCtrl.add()"></unifi-firewall-rules-list></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],60:[function(e,t,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(e,t,i,o,r,a,s,l,p,u,d,c,m,g,_,f,S){this.$state=e,this.$stateParams=t,this.$translate=i,this.apiResults=o,this.heyToasts=u,this.firewallGroups=a,this.firewallRules=s,this.firewallUtils=l,this.frame=p,this.modelUtils=c,this.networks=m,this.preferences=g,this.FIREWALL=f,this.availableFirewallGroups=[this.FIREWALL.GROUPS.ADDRESS_IPV4,this.FIREWALL.GROUPS.ADDRESS_IPV6,this.FIREWALL.GROUPS.PORT],this.ruleset=this.$stateParams.ruleset,this.isAdvancedExpanded=!0,this.isSourceExpanded=!0,this.isDestinationExpanded=!0,this.networkTypeOptions=[{value:"NETv4",translationKey:"SETTINGS_FIREWALL_RULES_LABEL_NETWORK_TYPE_NETV4"},{value:"ADDRv4",translationKey:"SETTINGS_FIREWALL_RULES_LABEL_NETWORK_TYPE_ADDRV4"}],this.patterns={macAddress:_.exact(S.MAC_ADDRESS),ipv4:S.IPV4_ADDRESS},this.translations={buttonAdd:{"address-group":"SETTINGS_FIREWALL_RULES_BUTTON_ADDRESS_GROUP_ADD","ipv6-address-group":"SETTINGS_FIREWALL_RULES_BUTTON_IPV6_ADDRESS_GROUP_ADD","port-group":"SETTINGS_FIREWALL_RULES_BUTTON_PORT_GROUP_ADD"}},n.call(this,d)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.getGroups=function(){return this.firewallGroups.repository.collection},o.prototype.hasSomeGroupsAvailable=function(e){return this.getGroups().models.some(function(t){return t.get("group_type")===e})},o.prototype.getNetworks=function(){return this.networks.repository.collection.filter(function(e){var t=e.get("purpose");return-1!==["corporate","guest"].indexOf(t)})},o.prototype.save=function(){var e=this;this.isSubmitting=!0,"all"===this.modelCopy.attributes.protocol&&(this.modelCopy.attributes.protocol_match_excepted=!1),"all"===this.modelCopy.attributes.protocol_v6&&(this.modelCopy.attributes.protocol_match_excepted=!1);var t=angular.extend({},this.modelCopy.attributes);angular.isArray(t.src_firewallgroup_ids)&&"group"===this.attrSourceType||(t.src_firewallgroup_ids=[]),angular.isArray(t.dst_firewallgroup_ids)&&"group"===this.attrDestinationType||(t.dst_firewallgroup_ids=[]),t.src_networkconf_id&&"network"===this.attrSourceType||(t.src_networkconf_id=""),t.dst_networkconf_id&&"network"===this.attrDestinationType||(t.dst_networkconf_id=""),t.dst_address&&"ip_address"===this.attrSourceType||(t.dst_address=""),t.src_address&&"ip_address"===this.attrDestinationType||(t.src_address=""),!this.isIpv4IcmpTypeAvailable()&&this.isIpv4Selected()&&(t.icmp_typename=""),!this.isIpv6IcmpTypeAvailable()&&this.isIpv6Selected()&&(t.icmpv6_typename=""),this.isIpv4Selected()||(delete t.protocol,delete t.icmp_typename,delete t.src_networkconf_id,delete t.src_networkconf_type,delete t.dst_networkconf_id,delete t.dst_networkconf_type),this.isIpv6Selected()||(delete t.protocol_v6,delete t.icmpv6_typename);var i=function(e){return!!e};return t.src_firewallgroup_ids=t.src_firewallgroup_ids.filter(i),t.dst_firewallgroup_ids=t.dst_firewallgroup_ids.filter(i),this.model.save(t,{wait:!0}).then(function(){return e.heyToasts.pushSuccess(e.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:e.$translate.instant("SETTINGS_ROUTING_TAB_FIREWALL_RULES").toLowerCase()})),e.firewallRules.repository.collection.add(e.model,{merge:!0}),e.reset(),!0}).catch(function(t){return e.heyToasts.pushError(e.apiResults.appendErrorMsg(e.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:e.$translate.instant("SETTINGS_ROUTING_TAB_FIREWALL_RULES").toLowerCase()}),t)),!1}).finally(function(){e.isSubmitting=!1})},o.prototype.setDefaultAttrs=function(e){var t=this.firewallRules.repository.collection,i=e?"":"Copy";if(this["model"+i]){var n=this["model"+i].attributes;n.ruleset=this.modelUtils.modelGet(this.model,"ruleset",this.ruleset),n.rule_index=this.modelUtils.modelGet(this.model,"rule_index",this.firewallUtils.getNextHighIndex(t,n.ruleset)),n.name=this.modelUtils.modelGet(this.model,"name",""),n.enabled=this.modelUtils.modelGet(this.model,"enabled",!0),n.action=this.modelUtils.modelGet(this.model,"action")||"drop",n.protocol_match_excepted=this.modelUtils.modelGet(this.model,"protocol_match_excepted",!1),n.logging=this.modelUtils.modelGet(this.model,"logging",!1),n.state_new=this.modelUtils.modelGet(this.model,"state_new",!1),n.state_established=this.modelUtils.modelGet(this.model,"state_established",!1),n.state_invalid=this.modelUtils.modelGet(this.model,"state_invalid",!1),n.state_related=this.modelUtils.modelGet(this.model,"state_related",!1),n.ipsec=this.modelUtils.modelGet(this.model,"ipsec",""),n.src_firewallgroup_ids=this.modelUtils.modelGet(this.model,"src_firewallgroup_ids",[]),n.src_mac_address=this.modelUtils.modelGet(this.model,"src_mac_address",""),n.dst_firewallgroup_ids=this.modelUtils.modelGet(this.model,"dst_firewallgroup_ids",[]),n.dst_address=this.modelUtils.modelGet(this.model,"dst_address",""),n.src_address=this.modelUtils.modelGet(this.model,"src_address",""),this.isIpv4Selected()&&(n.protocol=this.modelUtils.modelGet(this.model,"protocol",this.FIREWALL.IPV4.POPULAR_PROTOCOLS[0]),n.icmp_typename=this.modelUtils.modelGet(this.model,"icmp_typename",""),n.src_networkconf_id=this.modelUtils.modelGet(this.model,"src_networkconf_id",""),n.src_networkconf_type=this.modelUtils.modelGet(this.model,"src_networkconf_type","NETv4"),n.dst_networkconf_id=this.modelUtils.modelGet(this.model,"dst_networkconf_id",""),n.dst_networkconf_type=this.modelUtils.modelGet(this.model,"dst_networkconf_type","NETv4")),this.isIpv6Selected()&&(n.protocol_v6=this.modelUtils.modelGet(this.model,"protocol_v6",this.FIREWALL.IPV6.POPULAR_PROTOCOLS[0]),n.icmpv6_typename=this.modelUtils.modelGet(this.model,"icmpv6_typename",""));var o=function(e,t){var i=this.getGroups().get(t);return i&&i.get("group_type")===e}.bind(this),r=n.src_firewallgroup_ids.find(o.bind(this,this.FIREWALL.GROUPS.ADDRESS_IPV4)),a=n.src_firewallgroup_ids.find(o.bind(this,this.FIREWALL.GROUPS.ADDRESS_IPV6)),s=n.src_firewallgroup_ids.find(o.bind(this,this.FIREWALL.GROUPS.PORT)),l=n.dst_firewallgroup_ids.find(o.bind(this,this.FIREWALL.GROUPS.ADDRESS_IPV4)),p=n.dst_firewallgroup_ids.find(o.bind(this,this.FIREWALL.GROUPS.ADDRESS_IPV6)),u=n.dst_firewallgroup_ids.find(o.bind(this,this.FIREWALL.GROUPS.PORT));n.src_firewallgroup_ids=[r,a,s],n.dst_firewallgroup_ids=[l,p,u],this.attrPriority={},this.attrPriority.high=this.firewallUtils.isHighPriority(n.rule_index)?n.rule_index:this.firewallUtils.getNextHighIndex(t,n.ruleset),this.attrPriority.low=this.firewallUtils.isLowPriority(n.rule_index)?n.rule_index:this.firewallUtils.getNextLowIndex(t,n.ruleset),this.attrIpv4ProtocolNumber=1*n.protocol?n.protocol:0,this.attrIpv6ProtocolNumber=1*n.protocol_v6?n.protocol_v6:0,this.attrIpv4ProtocolName=-1!==this.FIREWALL.IPV4.BASIC_PROTOCOLS.indexOf(n.protocol)?n.protocol:this.FIREWALL.IPV4.BASIC_PROTOCOLS[0],this.attrIpv6ProtocolName=-1!==this.FIREWALL.IPV6.BASIC_PROTOCOLS.indexOf(n.protocol_v6)?n.protocol_v6:this.FIREWALL.IPV6.BASIC_PROTOCOLS[0],this.attrSourceType=n.src_networkconf_id?"network":"group",this.attrDestinationType=n.dst_networkconf_id?"network":"group"}},o.prototype.createGroup=function(e,t){var i=this;this.frame.show("firewallGroupsCreate",{groupType:function(){return t}}).then(function(t){switch(t.get("group_type")){case i.FIREWALL.GROUPS.ADDRESS_IPV4:i.modelCopy.attributes[e][0]=t.id;break;case i.FIREWALL.GROUPS.ADDRESS_IPV6:i.modelCopy.attributes[e][1]=t.id;break;case i.FIREWALL.GROUPS.PORT:i.modelCopy.attributes[e][2]=t.id}})},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.prototype.isIpv4IcmpTypeAvailable=function(){return this.modelCopy&&"icmp"===this.modelCopy.get("protocol")&&!1===this.modelCopy.get("protocol_match_excepted")},o.prototype.isIpv6IcmpTypeAvailable=function(){return this.modelCopy&&"icmpv6"===this.modelCopy.get("protocol_v6")&&!1===this.modelCopy.get("protocol_match_excepted")},o.prototype.isIpv4Selected=function(){return this.$state.is("manage.site.settings.routingAndFirewall.firewall.rulesIpv4")},o.prototype.isIpv6Selected=function(){return this.$state.is("manage.site.settings.routingAndFirewall.firewall.rulesIpv6")},o.prototype.isGroupTypeAllowed=function(e){switch(e){case this.FIREWALL.GROUPS.ADDRESS_IPV4:return this.isIpv4Selected();case this.FIREWALL.GROUPS.ADDRESS_IPV6:return this.isIpv6Selected();case this.FIREWALL.GROUPS.PORT:default:return!0}},o.$inject=["$state","$stateParams","$translate","apiResults","featureFlag","firewallGroups","firewallRules","firewallUtils","frame","heyToasts","modelDivergence","modelUtils","networks","preferences","regexUtils","FIREWALL","REGEX_PATTERNS"],angular.module("app-unifi-manage-settings").controller("FirewallRulesFormController",o)},{}],61:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiFirewallRulesForm",["SimpleFormDirective",function(t){return new t("firewallRules",e("./firewallRulesForm.pug")())}])},{"./firewallRulesForm.pug":62}],62:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy"'+(i="novalidate",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="firewallRulesFormCtrl.form" ng-class="{      \'appForm--dark\': firewallRulesFormCtrl.preferences.model.get(\'isSettingsDark\'),      \'appForm--isLoading\': !isLoaded,      \'is-form-validation-visible\': firewallRulesFormCtrl.showValidation,      \'is-validation-hidden\': !firewallRulesFormCtrl.showValidation    }" ng-submit="firewallRulesFormCtrl.form.$valid &amp;&amp; firewallRulesFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="firewallRulesFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="firewallRulesFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="firewallRulesFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="firewallRulesFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection"><div class="firewallContainerBasicHeader"><div class="appRow"><div class="col--sm12"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="isReadOnly" translate="SETTINGS_FIREWALL_RULES_SECTION_VIEW" translate-values="{ruleName: firewallRulesFormCtrl.model.attributes.name}"></div><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="!isReadOnly &amp;&amp; firewallRulesFormCtrl.model.id" translate="SETTINGS_FIREWALL_RULES_SECTION_EDIT" translate-values="{ruleName: firewallRulesFormCtrl.model.attributes.name}"></div><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="!isReadOnly &amp;&amp; !firewallRulesFormCtrl.model.id" translate="SETTINGS_FIREWALL_RULES_SECTION_CREATE"></div></div></div></div><div class="firewallContainerBasic"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_FIREWALL_RULES_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="firewallRuleName" ng-model="firewallRulesFormCtrl.modelCopy.attributes.name" ng-model-master="firewallRulesFormCtrl.model.attributes.name" ng-maxlength="firewallRulesFormCtrl.FIREWALL.VALIDATORS.RULE_NAME_MAX_LENGTH" required="true"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="firewallRulesFormCtrl.form.firewallRuleName.$error.required" translate="VALIDATION_HINT_REQUIRED"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="firewallRulesFormCtrl.form.firewallRuleName.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: firewallRulesFormCtrl.FIREWALL.VALIDATORS.RULE_NAME_MAX_LENGTH}"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_ENABLED"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{ \'COMMON_TOGGLE_ON\' | translate }}" data-off="{{ \'COMMON_TOGGLE_OFF\' | translate }}" ng-class="{\'appToggle--dark\': firewallRulesFormCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="firewallRuleEnabled" id="firewallRuleEnabled" ng-model="firewallRulesFormCtrl.modelCopy.attributes.enabled" ng-model-master="firewallRulesFormCtrl.model.attributes.enabled"><label for="firewallRuleEnabled"></label></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_PRIORITY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="priority in [\'high\', \'low\']"><input type="radio" name="firewallRulePriority" id="firewallRulePriority{{priority}}" ng-value="firewallRulesFormCtrl.attrPriority[priority]" ng-model="firewallRulesFormCtrl.modelCopy.attributes.rule_index" ng-model-master="firewallRulesFormCtrl.model.attributes.rule_index" required="true"><label for="firewallRulePriority{{priority}}">{{ \'FIREWALL_RULES_TYPE_PRIORITY_\' + priority | uppercase | translate }}</label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_ACTION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="action in [\'drop\', \'reject\', \'accept\']"><input type="radio" name="firewallRuleAction" id="firewallRuleAction{{action}}" ng-value="action" ng-model="firewallRulesFormCtrl.modelCopy.attributes.action" ng-model-master="firewallRulesFormCtrl.model.attributes.action" required="true"><label for="firewallRuleAction{{action}}">{{ \'FIREWALL_RULES_TYPE_ACTION_\' + action | uppercase | translate }}</label></div></div></div></div><div class="appRow" ng-if="firewallRulesFormCtrl.isIpv4Selected()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_IPV4"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy" ng-repeat="popularProtocol in firewallRulesFormCtrl.FIREWALL.IPV4.POPULAR_PROTOCOLS"><input type="radio" name="firewallRuleIpv4Protocol" id="firewallRuleIpv4Protocol{{popularProtocol}}" ng-value="popularProtocol" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol" required="true"><label for="firewallRuleIpv4Protocol{{popularProtocol}}">{{ \'FIREWALL_RULES_TYPE_PROTOCOL_\' + popularProtocol | toTranslationKey | translate }}</label></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="firewallRuleIpv4Protocol" ng-value="firewallRulesFormCtrl.attrIpv4ProtocolName" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol" required="true"><label for="firewallRuleIpv4ProtocolName" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_BY_NAME"></label><select name="firewallRuleIpv4ProtocolName" id="firewallRuleIpv4ProtocolName" ng-focus="firewallRulesFormCtrl.modelCopy.attributes.protocol=firewallRulesFormCtrl.attrIpv4ProtocolName" ng-change="firewallRulesFormCtrl.modelCopy.attributes.protocol=firewallRulesFormCtrl.attrIpv4ProtocolName" ng-model="firewallRulesFormCtrl.attrIpv4ProtocolName" ng-options="value as \'FIREWALL_RULES_TYPE_PROTOCOL_\' + value | toTranslationKey | translate for value in firewallRulesFormCtrl.FIREWALL.IPV4.BASIC_PROTOCOLS track by value"></select></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="firewallRuleIpv4Protocol" ng-value="firewallRulesFormCtrl.attrIpv4ProtocolNumber" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol" required="true"><label for="firewallRuleIpv4ProtocolNumber" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_BY_NUMBER"></label><input type="number" name="firewallRuleIpv4ProtocolNumber" id="firewallRuleIpv4ProtocolNumber" min="0" max="255" ng-focus="firewallRulesFormCtrl.modelCopy.attributes.protocol=firewallRulesFormCtrl.attrIpv4ProtocolNumber" ng-change="firewallRulesFormCtrl.modelCopy.attributes.protocol=firewallRulesFormCtrl.attrIpv4ProtocolNumber" ng-model="firewallRulesFormCtrl.attrIpv4ProtocolNumber"></div></div><div class="appInputGroup" ng-show="firewallRulesFormCtrl.modelCopy.attributes.protocol !== \'all\'"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="firewallRuleIpv4ProtocolExcepted" id="firewallRuleIpv4ProtocolExcepted" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol_match_excepted" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol_match_excepted"><label for="firewallRuleIpv4ProtocolExcepted" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_MATCH_EXCEPTED"></label></div></div></div></div><div class="appRow" ng-if="firewallRulesFormCtrl.isIpv6Selected()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_IPV6"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy" ng-repeat="popularProtocol in firewallRulesFormCtrl.FIREWALL.IPV6.POPULAR_PROTOCOLS"><input type="radio" name="firewallRuleIpv6Protocol" id="firewallRuleIpv6Protocol{{popularProtocol}}" ng-value="popularProtocol" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol_v6" required="true"><label for="firewallRuleIpv6Protocol{{popularProtocol}}">{{ \'FIREWALL_RULES_TYPE_PROTOCOL_\' + popularProtocol | toTranslationKey | translate }}</label></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="firewallRuleIpv6Protocol" ng-value="firewallRulesFormCtrl.attrIpv6ProtocolName" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol_v6" required="true"><label for="firewallRuleIpv6ProtocolName" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_BY_NAME"></label><select name="firewallRuleIpv6ProtocolName" id="firewallRuleIpv6ProtocolName" ng-focus="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6=firewallRulesFormCtrl.attrIpv6ProtocolName" ng-change="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6=firewallRulesFormCtrl.attrIpv6ProtocolName" ng-model="firewallRulesFormCtrl.attrIpv6ProtocolName" ng-options="value as \'FIREWALL_RULES_TYPE_PROTOCOL_\' + value | toTranslationKey | translate for value in firewallRulesFormCtrl.FIREWALL.IPV6.BASIC_PROTOCOLS track by value"></select></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="firewallRuleIpv6Protocol" ng-value="firewallRulesFormCtrl.attrIpv6ProtocolNumber" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol_v6" required="true"><label for="firewallRuleIpv6ProtocolNumber" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_BY_NUMBER"></label><input type="number" name="firewallRuleIpv6ProtocolNumber" id="firewallRuleIpv6ProtocolNumber" min="0" max="255" ng-focus="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6=firewallRulesFormCtrl.attrIpv6ProtocolNumber" ng-change="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6=firewallRulesFormCtrl.attrIpv6ProtocolNumber" ng-model="firewallRulesFormCtrl.attrIpv6ProtocolNumber"></div></div><div class="appInputGroup" ng-show="firewallRulesFormCtrl.modelCopy.attributes.protocol_v6 !== \'all\'"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="firewallRuleIpv6ProtocolExcepted" id="firewallRuleIpv6ProtocolExcepted" ng-model="firewallRulesFormCtrl.modelCopy.attributes.protocol_match_excepted" ng-model-master="firewallRulesFormCtrl.model.attributes.protocol_match_excepted"><label for="firewallRuleIpv6ProtocolExcepted" translate="SETTINGS_FIREWALL_RULES_LABEL_PROTOCOL_MATCH_EXCEPTED"></label></div></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.isIpv4IcmpTypeAvailable()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_ICMP_TYPE_IPV4"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><select name="firewallRuleIpv4IcmpType" id="firewallRuleIpv4IcmpType" ng-model="firewallRulesFormCtrl.modelCopy.attributes.icmp_typename" ng-model-master="firewallRulesFormCtrl.model.attributes.icmp_typename" ng-options="value as \'FIREWALL_RULES_ICMP_TYPE_\' + value | toTranslationKey | translate for value in firewallRulesFormCtrl.FIREWALL.IPV4.ICMP_TYPES track by value"></select></div></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.isIpv6IcmpTypeAvailable()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_ICMP_TYPE_IPV6"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><select name="firewallRuleIpv6IcmpType" id="firewallRuleIpv6IcmpType" ng-model="firewallRulesFormCtrl.modelCopy.attributes.icmpv6_typename" ng-model-master="firewallRulesFormCtrl.model.attributes.icmpv6_typename" ng-options="value as \'FIREWALL_RULES_ICMP_TYPE_\' + value | toTranslationKey | translate for value in firewallRulesFormCtrl.FIREWALL.IPV6.ICMP_TYPES track by value"></select></div></div></div></div></div><div class="firewallContainerAdvancedHeader"><div class="appRow"><div class="col--sm12"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-click="firewallRulesFormCtrl.isAdvancedExpanded = !firewallRulesFormCtrl.isAdvancedExpanded" ng-class="firewallRulesFormCtrl.isAdvancedExpanded ? [\'appCollapserType\'] : \'appExpanderType\'" translate="SETTINGS_FIREWALL_RULES_LABEL_ADVANCED"></div></div></div></div><div class="firewallContainerAdvanced" ng-show="firewallRulesFormCtrl.isAdvancedExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_LOGGING"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="firewallRuleLogging" id="firewallRuleLogging" ng-model="firewallRulesFormCtrl.modelCopy.attributes.logging" ng-model-master="firewallRulesFormCtrl.model.attributes.logging"><label for="firewallRuleLogging" translate="SETTINGS_FIREWALL_RULES_VALUES_LOGGING"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_STATE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy" ng-repeat="state in [\'new\', \'established\', \'invalid\', \'related\']"><input type="checkbox" name="firewallRuleState" id="firewallRuleState{{state}}" ng-model="firewallRulesFormCtrl.modelCopy.attributes[\'state_\' + state]" ng-model-master="firewallRulesFormCtrl.model.attributes[\'state_\' + state]"><label for="firewallRuleState{{state}}">{{ \'SETTINGS_FIREWALL_RULES_VALUES_STATE_\' + state | uppercase | translate }}</label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_IPSEC"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy" ng-repeat="ipsec in [\'\', \'match-ipsec\', \'match-none\']"><input type="radio" name="firewallRuleIpsec" id="firewallRuleIpsec{{ipsec}}" ng-value="ipsec" ng-model="firewallRulesFormCtrl.modelCopy.attributes.ipsec" ng-model-master="firewallRulesFormCtrl.model.attributes.ipsec"><label for="firewallRuleIpsec{{ipsec}}">{{ \'FIREWALL_RULES_TYPE_IPSEC_\' + ipsec | toTranslationKey | translate }}</label></div></div></div></div></div><div class="firewallContainerSourceHeader"><div class="appRow"><div class="col--sm12"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-click="firewallRulesFormCtrl.isSourceExpanded = !firewallRulesFormCtrl.isSourceExpanded" ng-class="firewallRulesFormCtrl.isSourceExpanded ? [\'appCollapserType\'] : \'appExpanderType\'" translate="SETTINGS_FIREWALL_RULES_LABEL_SOURCE"></div></div></div></div><div class="firewallContainerSource" ng-show="firewallRulesFormCtrl.isSourceExpanded"><div class="appRow" ng-if="firewallRulesFormCtrl.isIpv4Selected()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_SOURCE_TYPE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="sourceType in [\'group\', \'network\', \'ip_address\']"><input type="radio" name="firewallRuleSourceType" id="firewallRuleSourceType{{sourceType}}" ng-value="sourceType" ng-model="firewallRulesFormCtrl.attrSourceType"><label for="firewallRuleSourceType{{sourceType}}">{{ \'SETTINGS_FIREWALL_RULES_LABEL_SOURCE_\' + sourceType | uppercase | translate }}</label></div></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.attrSourceType === \'group\'" ng-repeat="groupType in firewallRulesFormCtrl.availableFirewallGroups" ng-if="firewallRulesFormCtrl.isGroupTypeAllowed(groupType)"><div class="col--sm3"><label class="appLabel--primary">{{\'SETTINGS_FIREWALL_RULES_LABEL_SOURCE_\' + groupType | toTranslationKey | translate }}</label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="firewallRuleSourceGroup[]" ng-model="firewallRulesFormCtrl.modelCopy.attributes.src_firewallgroup_ids[$index]" ng-model-master="firewallRulesFormCtrl.model.attributes.src_firewallgroup_ids[$index]" ng-options="group.id as group.get(\'name\') for group in firewallRulesFormCtrl.getGroups().models | filter:{attributes:{group_type: groupType}}:true" ng-disabled="!firewallRulesFormCtrl.hasSomeGroupsAvailable(groupType)"><option translate="SETTINGS_FIREWALL_RULES_SELECT_GROUP"></option></select><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="firewallRulesFormCtrl.createGroup(\'src_firewallgroup_ids\', groupType)">{{firewallRulesFormCtrl.translations.buttonAdd[groupType] | translate}}</button></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.attrSourceType === \'network\'"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_SOURCE_NETWORK"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="firewallRuleSourceNetwork" id="firewallRuleSourceNetwork" ng-model="firewallRulesFormCtrl.modelCopy.attributes.src_networkconf_id" ng-model-master="firewallRulesFormCtrl.model.attributes.src_networkconf_id" ng-options="network.id as network.get(\'name\') for network in firewallRulesFormCtrl.getNetworks()"><option translate="SETTINGS_FIREWALL_RULES_SELECT_NETWORK"></option></select><select name="firewallRuleSourceNetworkType" id="firewallRuleSourceNetworkType" ng-model="firewallRulesFormCtrl.modelCopy.attributes.src_networkconf_type" ng-model-master="firewallRulesFormCtrl.model.attributes.src_networkconf_type" ng-options="option.value as option.translationKey | translate for option in firewallRulesFormCtrl.networkTypeOptions"></select></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.attrSourceType === \'ip_address\'"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_SOURCE_IPV4_ADDRESS"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="text" name="firewallRuleSourceIpv4Address" id="firewallRuleSourceIpv4Address" ng-model="firewallRulesFormCtrl.modelCopy.attributes.src_address" ng-model-master="firewallRulesFormCtrl.model.attributes.src_address" ng-pattern="firewallRulesFormCtrl.patterns.ipv4"></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_SOURCE_MAC"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="text" name="firewallRuleSourceMac" id="firewallRuleSourceMac" ng-model="firewallRulesFormCtrl.modelCopy.attributes.src_mac_address" ng-model-master="firewallRulesFormCtrl.model.attributes.src_mac_address" ng-pattern="firewallRulesFormCtrl.patterns.macAddress"></div></div></div></div></div><div class="firewallContainerDestinationHeader"><div class="appRow"><div class="col--sm12"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-click="firewallRulesFormCtrl.isDestinationExpanded = !firewallRulesFormCtrl.isDestinationExpanded" ng-class="firewallRulesFormCtrl.isDestinationExpanded ? [\'appCollapserType\'] : \'appExpanderType\'" translate="SETTINGS_FIREWALL_RULES_LABEL_DESTINATION"></div></div></div></div><div class="firewallContainerDestination" ng-show="firewallRulesFormCtrl.isDestinationExpanded"><div class="appRow" ng-if="firewallRulesFormCtrl.isIpv4Selected()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_DESTINATION_TYPE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="destinationType in [\'group\', \'network\', \'ip_address\']"><input type="radio" name="firewallRuleDestinationType" id="firewallRuleDestinationType{{destinationType}}" ng-value="destinationType" ng-model="firewallRulesFormCtrl.attrDestinationType"><label for="firewallRuleDestinationType{{destinationType}}">{{ \'SETTINGS_FIREWALL_RULES_LABEL_DESTINATION_\' + destinationType | uppercase | translate }}</label></div></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.attrDestinationType === \'group\'" ng-repeat="groupType in firewallRulesFormCtrl.availableFirewallGroups" ng-if="firewallRulesFormCtrl.isGroupTypeAllowed(groupType)"><div class="col--sm3"><label class="appLabel--primary">{{\'SETTINGS_FIREWALL_RULES_LABEL_DESTINATION_\' + groupType | toTranslationKey | translate }}</label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="firewallRuleDestinationGroup[]" ng-model="firewallRulesFormCtrl.modelCopy.attributes.dst_firewallgroup_ids[$index]" ng-model-master="firewallRulesFormCtrl.model.attributes.dst_firewallgroup_ids[$index]" ng-options="group.id as group.get(\'name\') for group in firewallRulesFormCtrl.getGroups().models | filter:{attributes:{group_type: groupType}}:true" ng-disabled="!firewallRulesFormCtrl.hasSomeGroupsAvailable(groupType)"><option translate="SETTINGS_FIREWALL_RULES_SELECT_GROUP"></option></select><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="firewallRulesFormCtrl.createGroup(\'dst_firewallgroup_ids\', groupType)">{{firewallRulesFormCtrl.translations.buttonAdd[groupType] | translate}}</button></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.attrDestinationType === \'network\'"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_DESTINATION_NETWORK"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="firewallRuleDestinationNetwork" id="firewallRuleDestinationNetwork" ng-model="firewallRulesFormCtrl.modelCopy.attributes.dst_networkconf_id" ng-model-master="firewallRulesFormCtrl.model.attributes.dst_networkconf_id" ng-options="network.id as network.get(\'name\') for network in firewallRulesFormCtrl.getNetworks()"><option translate="SETTINGS_FIREWALL_RULES_SELECT_NETWORK"></option></select><select name="firewallRuleDestinationNetworkType" id="firewallRuleDestinationNetworkType" ng-model="firewallRulesFormCtrl.modelCopy.attributes.dst_networkconf_type" ng-model-master="firewallRulesFormCtrl.model.attributes.dst_networkconf_type" ng-options="option.value as option.translationKey | translate for option in firewallRulesFormCtrl.networkTypeOptions"></select></div></div></div><div class="appRow" ng-show="firewallRulesFormCtrl.attrDestinationType === \'ip_address\'"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_FIREWALL_RULES_LABEL_DESTINATION_IPV4_ADDRESS"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="text" name="firewallRuleDestinationIpv4Address" id="firewallRuleDestinationIpv4Address" ng-model="firewallRulesFormCtrl.modelCopy.attributes.dst_address" ng-model-master="firewallRulesFormCtrl.model.attributes.dst_address" ng-pattern="firewallRulesFormCtrl.patterns.ipv4"></div></div></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': firewallRulesFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success firewallRulesSaveButton" type="submit" ng-if="!isReadOnly" ng-click="firewallRulesFormCtrl.showValidation = true" busy-toggle="firewallRulesFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="firewallRulesFormCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],63:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("FirewallRulesListController",["$state","$stateParams","$translate","BaseListController","bowser","FirewallRulesetFilter","apiResults","heyToasts","featureFlag","firewallGroups","firewallRules","firewallUtils","frame","networks","preferences",function(e,t,i,o,r,a,s,l,p,u,d,c,m,g,_){return new(function(p){function f(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return e.filter=new a,e.preferences=_,e.isRemoving={},e.isMoving=!1,e.initRulesets(),e.initSortBy(),e.sortableConfig={animation:100,sort:!0,forceFallback:!!r.firefox,handle:".unifiSettingsSortableHandle",ghostClass:"unifiSettingsSortablePlaceholder",chosenClass:"unifiSettingsSortableChosen",filter:".unifiFirewallRulesSortableDisabled",onMove:function(t){var i=t.dragged.attributes["data-rule-index"].value,n=t.related.attributes["data-rule-index"].value;return!e.isMoving&&c.getPriority(i)===c.getPriority(n)},onEnd:function(){e.saveRulesOrder()}},e.translations={ruleset:{GUEST_IN:"SETTINGS_FIREWALL_RULESET_LABEL_GUEST_IN",GUEST_LOCAL:"SETTINGS_FIREWALL_RULESET_LABEL_GUEST_LOCAL",GUEST_OUT:"SETTINGS_FIREWALL_RULESET_LABEL_GUEST_OUT",LAN_IN:"SETTINGS_FIREWALL_RULESET_LABEL_LAN_IN",LAN_LOCAL:"SETTINGS_FIREWALL_RULESET_LABEL_LAN_LOCAL",LAN_OUT:"SETTINGS_FIREWALL_RULESET_LABEL_LAN_OUT",WAN_IN:"SETTINGS_FIREWALL_RULESET_LABEL_WAN_IN",WAN_LOCAL:"SETTINGS_FIREWALL_RULESET_LABEL_WAN_LOCAL",WAN_OUT:"SETTINGS_FIREWALL_RULESET_LABEL_WAN_OUT",GUESTv6_IN:"SETTINGS_FIREWALL_RULESET_LABEL_GUEST_IN",GUESTv6_LOCAL:"SETTINGS_FIREWALL_RULESET_LABEL_GUEST_LOCAL",GUESTv6_OUT:"SETTINGS_FIREWALL_RULESET_LABEL_GUEST_OUT",LANv6_IN:"SETTINGS_FIREWALL_RULESET_LABEL_LAN_IN",LANv6_LOCAL:"SETTINGS_FIREWALL_RULESET_LABEL_LAN_LOCAL",LANv6_OUT:"SETTINGS_FIREWALL_RULESET_LABEL_LAN_OUT",WANv6_IN:"SETTINGS_FIREWALL_RULESET_LABEL_WAN_IN",WANv6_LOCAL:"SETTINGS_FIREWALL_RULESET_LABEL_WAN_LOCAL",WANv6_OUT:"SETTINGS_FIREWALL_RULESET_LABEL_WAN_OUT"}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,o),n(f,[{key:"getCollection",value:function(){return d.repository.collection}},{key:"edit",value:function(e){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:e})}},{key:"add",value:function(){if(!this.onAdd)throw new Error("You must pass an onAdd function to the directive");this.onAdd()}},{key:"remove",value:function(e){var t=this;return m.show("confirm",{title:function(){return i.instant("SETTINGS_FIREWALL_RULES_DELETE_CONFIRM_TITLE",{ruleName:e.get("name")})},message:function(){return i.instant("SETTINGS_FIREWALL_RULES_DELETE_CONFIRM_MESSAGE",{ruleName:e.get("name")})},options:angular.noop}).then(function(){return t.isRemoving[e.id]=!0,e.destroy({wait:!0}).then(function(){return l.pushSuccess(i.instant("SETTINGS_FIREWALL_RULES_DELETE_SUCCESS",{ruleName:e.get("name")})),!0}).catch(function(t){return l.pushError(s.appendErrorMsg(i.instant("SETTINGS_FIREWALL_RULES_DELETE_ERROR",{ruleName:e.get("name")}),t)),!1}).finally(function(){t.isRemoving[e.id]=!1})})}},{key:"initRulesets",value:function(){this.rulesetsV4=c.RULESETS_V4,this.rulesetsV6=c.RULESETS_V6}},{key:"initSortBy",value:function(){this.defaultSortBy="rule_index"}},{key:"initFilters",value:function(){t.ruleset&&this.filter.updateRuleset(t.ruleset)}},{key:"updateRuleset",value:function(t){e.go(".",{ruleset:t})}},{key:"isRulesetSelected",value:function(e){return t.ruleset===e}},{key:"isIpv4Selected",value:function(){return e.is("manage.site.settings.routingAndFirewall.firewall.rulesIpv4")}},{key:"isIpv6Selected",value:function(){return e.is("manage.site.settings.routingAndFirewall.firewall.rulesIpv6")}},{key:"isPredefinedRule",value:function(e){return c.isPredefinedRule(e)}},{key:"isNumeric",value:function(e){return Number.isInteger(e)}},{key:"hasGroupsId",value:function(e,t){var i=e.get(t);return i&&i.some(function(e){return!!e})}},{key:"getGroupsName",value:function(e,t){var i=e.get(t),n=u.repository.collection;return i.map(function(e){var t=n.get(e);return t?t.get("name"):e})}},{key:"getNetworkName",value:function(e,t){var i,n=e.get(t);return n&&(i=g.repository.collection.get(n))&&i.get("name")}},{key:"saveRulesOrder",value:function(){var e=this;this.isMoving=!0,this.view.disableRefresh(),c.saveRulesOrder(this.view.getModels(),t.ruleset).then(function(t){t.forEach(function(t){e.getCollection().get(t._id).set("rule_index",t.rule_index)})}).catch(function(){return l.pushError(i.instant("SETTINGS_FIREWALL_RULES_DRAG_AND_DROP_SAVE_ERROR"))}).finally(function(){e.view.enableRefresh(),e.view.refresh(),e.isMoving=!1})}}]),f}())}])},{}],64:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiFirewallRulesList",["ListDirective",function(t){return new t("firewallRules",e("./firewallRulesList.pug")(),{onEdit:"&unifiFirewallRulesListOnEdit",onAdd:"&unifiFirewallRulesListOnAdd"})}])},{"./firewallRulesList.pug":65}],65:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup" ng-if="firewallRulesListCtrl.isIpv4Selected()" ng-class="{\'appMainButtonGroup--dark\': firewallRulesListCtrl.preferences.model.get(\'isSettingsDark\')}"><li class="button appMainButton appMainButton--cozy" ng-repeat="ruleset in firewallRulesListCtrl.rulesetsV4" ng-click="firewallRulesListCtrl.updateRuleset(ruleset)" ng-class="{\'is-button-selected\': firewallRulesListCtrl.isRulesetSelected(ruleset) }" translate="{{firewallRulesListCtrl.translations.ruleset[ruleset]}}"></li></ul><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup verticalRhythmTop--cozy" ng-if="firewallRulesListCtrl.isIpv6Selected()" ng-class="{\'appMainButtonGroup--dark\': firewallRulesListCtrl.preferences.model.get(\'isSettingsDark\')}"><li class="button appMainButton appMainButton--cozy" ng-repeat="ruleset in firewallRulesListCtrl.rulesetsV6" ng-click="firewallRulesListCtrl.updateRuleset(ruleset)" ng-class="{\'is-button-selected\': firewallRulesListCtrl.isRulesetSelected(ruleset) }" translate="{{firewallRulesListCtrl.translations.ruleset[ruleset]}}"></li></ul><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="firewallRulesTable" ng-class="{      \'appTable--dark\': firewallRulesListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="firewallRulesSortable"></th><th class="firewallRulesIndex"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_INDEX"></span></th><th class="firewallRulesEnabled"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_ENABLED"></span></th><th class="firewallRulesName"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_NAME"></span></th><th class="firewallRulesAction"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_ACTION"></span></th><th class="firewallRulesProtocol"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_PROTOCOL"></span></th><th class="firewallRulesSource"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_SOURCE"></span></th><th class="firewallRulesDestination"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_DESTINATION"></span></th><th class="firewallRulesActions"><span translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody ng-sortable="firewallRulesListCtrl.sortableConfig"><tr ng-repeat="model in firewallRulesListCtrl.view.getModels()" data-id="{{model.id}}" data-rule-index="{{model.get(\'rule_index\')}}" ng-class="{          \'unifiFirewallRulesSortableDisabled\': firewallRulesListCtrl.isPredefinedRule(model)        }"><td class="firewallRulesSortable"><button class="appMainButton appMainButton--tertiary appMainButton--condensed unifiSettingsSortableHandle"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-disabled="firewallRulesListCtrl.isMoving || firewallRulesListCtrl.isPredefinedRule(model) || firewallRulesListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--arrows-updown-leftright"></span></button></td><td class="firewallRulesIndex">{{model.get(\'rule_index\')}}</td><td class="firewallRulesEnabled" ng-bind-html="model.get(\'enabled\') | enabledIcon"></td><td class="firewallRulesName">{{model.get(\'name\')}}</td><td class="firewallRulesAction" ng-switch="model.get(\'action\')"><span ng-switch-when="drop" translate="FIREWALL_RULES_TYPE_ACTION_DROP"></span><span ng-switch-when="reject" translate="FIREWALL_RULES_TYPE_ACTION_REJECT"></span><span ng-switch-when="accept" translate="FIREWALL_RULES_TYPE_ACTION_ACCEPT"></span></td><td class="firewallRulesProtocol" ng-if="firewallRulesListCtrl.isIpv4Selected()"><span ng-if="model.get(\'protocol_match_excepted\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_PROTOCOL_EXCEPT"></span><span ng-if="!firewallRulesListCtrl.isNumeric(model.get(\'protocol\'))" translate="{{\'FIREWALL_RULES_TYPE_PROTOCOL_\' + model.get(\'protocol\') | toTranslationKey}}"></span><span ng-if="firewallRulesListCtrl.isNumeric(model.get(\'protocol\'))">{{model.get(\'protocol\')}}</span></td><td class="firewallRulesProtocol" ng-if="firewallRulesListCtrl.isIpv6Selected()"><span ng-if="model.get(\'protocol_match_excepted\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_PROTOCOL_EXCEPT"></span><span ng-if="!firewallRulesListCtrl.isNumeric(model.get(\'protocol_v6\'))" translate="{{\'FIREWALL_RULES_TYPE_PROTOCOL_\' + model.get(\'protocol_v6\') | toTranslationKey}}"></span><span ng-if="firewallRulesListCtrl.isNumeric(model.get(\'protocol_v6\'))">{{model.get(\'protocol_v6\')}}</span></td><td class="firewallRulesSource"><ul class="list list--cozy"><li class="allowWrap" ng-if="firewallRulesListCtrl.hasGroupsId(model, \'src_firewallgroup_ids\')">{{\'SETTINGS_FIREWALL_RULES_TABLE_HEADER_SOURCE_GROUPS\' | translate}}<div class="inlineBlock noWrap horizontalRhythmLeft--smash" ng-repeat="groupName in firewallRulesListCtrl.getGroupsName(model, \'src_firewallgroup_ids\') track by $index" ng-if="groupName">{{groupName}}</div></li><li ng-if="model.get(\'src_networkconf_id\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_SOURCE_NETWORK" translate-values="{value: firewallRulesListCtrl.getNetworkName(model, \'src_networkconf_id\')}"></li><li ng-if="model.get(\'src_networkconf_id\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_SOURCE_NETWORK_TYPE" translate-values="{value: (\'SETTINGS_FIREWALL_RULES_LABEL_NETWORK_TYPE_\' + model.get(\'src_networkconf_type\') | toTranslationKey | translate ) }"></li><li ng-if="model.get(\'src_address\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_SOURCE_IP_ADDRESS" translate-values="{value: model.get(\'src_address\')}"></li><li ng-if="model.get(\'src_mac_address\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_SOURCE_MAC" translate-values="{value: model.get(\'src_mac_address\')}"></li></ul></td><td class="firewallRulesDestination"><ul class="list list--cozy"><li class="allowWrap" ng-if="firewallRulesListCtrl.hasGroupsId(model, \'dst_firewallgroup_ids\')">{{\'SETTINGS_FIREWALL_RULES_TABLE_HEADER_DESTINATION_GROUPS\' | translate}}<div class="inlineBlock noWrap horizontalRhythmLeft--smash" ng-repeat="groupName in firewallRulesListCtrl.getGroupsName(model, \'dst_firewallgroup_ids\') track by $index" ng-if="groupName">{{groupName}}</div></li><li ng-if="model.get(\'dst_networkconf_id\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_DESTINATION_NETWORK" translate-values="{value: firewallRulesListCtrl.getNetworkName(model, \'dst_networkconf_id\')}"></li><li ng-if="model.get(\'dst_networkconf_id\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_DESTINATION_NETWORK_TYPE" translate-values="{value: (\'SETTINGS_FIREWALL_RULES_LABEL_NETWORK_TYPE_\' + model.get(\'dst_networkconf_type\') | toTranslationKey | translate ) }"></li><li ng-if="model.get(\'dst_address\')" translate="SETTINGS_FIREWALL_RULES_TABLE_HEADER_DESTINATION_IP_ADDRESS" translate-values="{value: model.get(\'dst_address\')}"></li></ul></td><td class="firewallRulesActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="firewallRulesListCtrl.edit(model)" ng-disabled="firewallRulesListCtrl.isPredefinedRule(model) || firewallRulesListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="firewallRulesListCtrl.edit(model)" ng-disabled="firewallRulesListCtrl.isPredefinedRule(model) || firewallRulesListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="firewallRulesListCtrl.remove(model)" ng-disabled="firewallRulesListCtrl.isPredefinedRule(model) || firewallRulesListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!firewallRulesListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': firewallRulesListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_FIREWALL_RULES_TABLE_EMPTY"></p></div></div></div><div class="unifiSettingsFooter"'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton" ng-click="firewallRulesListCtrl.add()" ng-class="firewallRulesListCtrl.preferences.model.get(\'isSettingsDark\') ? \'appMainButton--inputDark\' : \'appMainButton--input\'"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_FIREWALL_RULES_BUTTON_ADD"></span></button></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],66:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage").controller("FirewallSettingsController",["BaseSettingsController","preferences",function(e,t){return new(function(i){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return e.preferences=t,e.settingsSectionTranslationKey="SETTINGS_FIREWALL_SETTINGS_SECTION_NAME",e.settingsSectionTranslationKeys={usg:"SETTINGS_FIREWALL_SETTINGS_SECTION_NAME"},e.inputs={modules:[{attr:"ftp_module",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_MODULES_FTP"},{attr:"gre_module",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_MODULES_GRE"},{attr:"h323_module",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_MODULES_H323"},{attr:"pptp_module",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_MODULES_PPTP"},{attr:"sip_module",default:!1,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_MODULES_SIP"},{attr:"tftp_module",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_MODULES_TFTP"}],timeouts:[{attr:"icmp_timeout",default:30,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_ICMP",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_ICMP"},{attr:"other_timeout",default:600,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_OTHER",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_OTHER"},{attr:"tcp_close_timeout",default:10,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_CLOSE",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_CLOSE"},{attr:"tcp_close_wait_timeout",default:60,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_CLOSE_WAIT",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_CLOSE_WAIT"},{attr:"tcp_established_timeout",default:7440,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_ESTABLISHED",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_ESTABLISHED"},{attr:"tcp_fin_wait_timeout",default:120,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_FIN_WAIT",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_FIN_WAIT"},{attr:"tcp_last_ack_timeout",default:30,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_LAST_ACK",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_LAST_ACK"},{attr:"tcp_syn_recv_timeout",default:60,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_SYN_RECV",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_SYN_RECV"},{attr:"tcp_syn_sent_timeout",default:120,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_SYN_SENT",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_SYN_SENT"},{attr:"tcp_time_wait_timeout",default:120,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_TCP_TIME_WAIT",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_TCP_TIME_WAIT"},{attr:"udp_other_timeout",default:30,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_UDP_OTHER",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_UDP_OTHER"},{attr:"udp_stream_timeout",default:180,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_TIMEOUTS_UDP_STREAM",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_TIMEOUTS_UDP_STREAM"}],options:[{attr:"broadcast_ping",default:!1,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_OPTIONS_BROADCAST_PING",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_OPTIONS_BROADCAST_PING"},{attr:"receive_redirects",default:!1,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_OPTIONS_RECEIVE_REDIRECTS",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_OPTIONS_RECEIVE_REDIRECTS"},{attr:"send_redirects",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_OPTIONS_SEND_REDIRECTS",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_OPTIONS_SEND_REDIRECTS"},{attr:"syn_cookies",default:!0,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_OPTIONS_SYN_COOKIES",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_OPTIONS_SYN_COOKIES"}],logging:[{attr:"firewall_wan_default_log",default:!1,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_LOGGING_WAN",tooltip:"SETTINGS_FIREWALL_SETTINGS_TOOLTIP_LOGGING"},{attr:"firewall_lan_default_log",default:!1,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_LOGGING_LAN"},{attr:"firewall_guest_default_log",default:!1,label:"SETTINGS_FIREWALL_SETTINGS_LABEL_LOGGING_GUEST"}]},e.isRequired={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),n(o,[{key:"onModuleChange",value:function(){this.isRequired.gre_module=!!this.forms.usg.modelCopy.attributes.pptp_module}},{key:"save",value:function(){var e=this,t=[];return this.isSubmitting=!0,this.inputs.timeouts.forEach(function(t){null===e.forms.usg.modelCopy.attributes[t.attr]&&(e.forms.usg.modelCopy.attributes[t.attr]="")}),angular.forEach(["usg"],function(i){t.push(e.saveSection(e.getSettingFromKey(i),e.forms[i].modelCopy.attributes,i))}),this.afterSave(t).finally(function(){e.isSubmitting=!1})}},{key:"getDefaultAttrs",value:function(){var e=this,t={};return this.inputs.modules.forEach(function(i){!i.hasOwnProperty("default")||e.model&&e.model.has(i.attr)||(t[i.attr]=i.default)}),this.inputs.options.forEach(function(i){!i.hasOwnProperty("default")||e.model&&e.model.has(i.attr)||(t[i.attr]=i.default)}),this.inputs.timeouts.forEach(function(i){!i.hasOwnProperty("default")||e.model&&e.model.has(i.attr)||(t[i.attr]=i.default)}),this.inputs.logging.forEach(function(i){!i.hasOwnProperty("default")||e.model&&e.model.has(i.attr)||(t[i.attr]=i.default)}),t}},{key:"onModelChange",value:function(){this.setDefaultAttrs(!0)}}]),o}())}])},{}],67:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiFirewallSettings",{controller:"FirewallSettingsController",controllerAs:"firewallSettingsCtrl",template:e("./firewallSettings.pug")()})},{"./firewallSettings.pug":68}],68:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="firewallSettings"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-sub-menu-firewall></unifi-settings-sub-menu-firewall><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="firewallSettingsCtrl.form" ng-class="{      \'appForm--dark\': firewallSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': firewallSettingsCtrl.showValidation,      \'is-validation-hidden\': !firewallSettingsCtrl.showValidation    }" ng-submit="firewallSettingsCtrl.form.$valid &amp;&amp; firewallSettingsCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="firewallSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="firewallSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="firewallSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="firewallSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!firewallSettingsCtrl.isAdmin()"><ng-form name="firewallSettingsCtrl.forms.usg" unifi-model-form="firewallSettingsCtrl.getSettingFromKey(\'usg\', firewallSettingsCtrl.getDefaultAttrs())"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_FIREWALL_SETTINGS_HEADER_CONNTRACK_MODULES"></div><div class="appRow appRow--condensed" ng-repeat="input in firewallSettingsCtrl.inputs.modules"><div class="col--sm3 col--xs4"><label class="appLabel--primary" for="firewallModules{{$index}}" translate="{{input.label}}"></label></div><div class="col--sm9 col--xs8"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle appToggle--inline" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                    \'appToggle--dark\': firewallSettingsCtrl.preferences.model.get(\'isSettingsDark\'),                    \'appToggle--invalid\': firewallSettingsCtrl.showValidation &amp;&amp; firewallSettingsCtrl.forms.usg[\'firewallModules\' + $index].$invalid                  }"><input type="checkbox" name="firewallModules{{$index}}" id="firewallModules{{$index}}" ng-model="modelFormCtrl.modelCopy.attributes[input.attr]" ng-model-master="modelFormCtrl.model.attributes[input.attr]" ng-change="firewallSettingsCtrl.onModuleChange(input.attr)" ng-required="firewallSettingsCtrl.isRequired[input.attr]"><label for="firewallModules{{$index}}"></label></div><unifi-tooltip ng-if="input.tooltip"><content translate="{{::input.tooltip}}"></content></unifi-tooltip></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_FIREWALL_SETTINGS_HEADER_STATE_TIMEOUTS"></div><div class="appRow appRow--condensed" ng-repeat="input in firewallSettingsCtrl.inputs.timeouts"><div class="col--sm3 col--xs4"><label class="appLabel--primary" for="firewallTimeouts{{$index}}" translate="{{input.label}}"></label></div><div class="col--sm9 col--xs8"><div class="appInputGroup appInputGroup--cozy"><input class="input--mediumNumber" type="number" min="1" max="21474836" id="firewallTimeouts{{$index}}" name="firewallTimeouts{{$index}}" ng-model="modelFormCtrl.modelCopy.attributes[input.attr]" ng-model-master="modelFormCtrl.model.attributes[input.attr]" ng-attr-placeholder="{{input.default}}"><label class="appLabel--boxInline" translate="DATETIME_SECONDS_FULL"></label><unifi-tooltip ng-if="input.tooltip"><content translate="{{::input.tooltip}}"></content></unifi-tooltip></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_FIREWALL_SETTINGS_HEADER_FIREWALL_OPTIONS"></div><div class="appRow appRow--condensed" ng-repeat="input in firewallSettingsCtrl.inputs.options"><div class="col--sm3 col--xs4"><label class="appLabel--primary" for="firewallOptions{{$index}}" translate="{{input.label}}"></label></div><div class="col--sm9 col--xs8"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle appToggle--inline" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': firewallSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="firewallOptions{{$index}}" id="firewallOptions{{$index}}" ng-model="modelFormCtrl.modelCopy.attributes[input.attr]" ng-model-master="modelFormCtrl.model.attributes[input.attr]"><label for="firewallOptions{{$index}}"></label></div><unifi-tooltip ng-if="input.tooltip"><content translate="{{::input.tooltip}}"></content></unifi-tooltip></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_FIREWALL_SETTINGS_HEADER_LOGGING"></div><div class="appRow appRow--condensed" ng-repeat="input in firewallSettingsCtrl.inputs.logging"><div class="col--sm3 col--xs4"><label class="appLabel--primary" for="firewallLogging{{$index}}" translate="{{input.label}}"></label></div><div class="col--sm9 col--xs8"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle appToggle--inline" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': firewallSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="firewallLogging{{$index}}" id="firewallLogging{{$index}}" ng-model="modelFormCtrl.modelCopy.attributes[input.attr]" ng-model-master="modelFormCtrl.model.attributes[input.attr]"><label for="firewallLogging{{$index}}"></label></div><unifi-tooltip ng-if="input.tooltip"><content translate="{{::input.tooltip}}"></content></unifi-tooltip></div></div></div></div></ng-form></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythm--cozy verticalRhythmTop--breezy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': firewallSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="firewallSettingsCtrl.showValidation = true" busy-toggle="firewallSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="firewallSettingsCtrl.reset()" ng-disabled="firewallSettingsCtrl.form.$pristine" ng-class="firewallSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?             \'appMainButton--transparentDark\' :             \'appMainButton--transparent\'          ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],69:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("GeoIpFilteringController",["_","BaseSettingsController","geoIpFilteringUtils","preferences","settings",function(e,t,i,o,r){return new(function(a){function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return e.preferences=o,e.settingsSection="geoip_blocking",e.settingsKey="usg",e.availableToSelectCountries=[],e.filteredCountries=[],e.maxAllowedCountries=15,e.prepareDefaultCountries(),e.resetCountrySelection(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,t),n(s,[{key:"save",value:function(){var e=this;this.isSubmitting=!0;var t=this.filteredCountries.map(function(e){return e.country}).join(","),i={geo_ip_filtering_enabled:this.forms.usg.modelCopy.attributes.geo_ip_filtering_enabled,geo_ip_filtering_block:this.forms.usg.modelCopy.attributes.geo_ip_filtering_block,geo_ip_filtering_countries:t,geo_ip_filtering_traffic_direction:this.forms.usg.modelCopy.attributes.geo_ip_filtering_traffic_direction},n=this.site?this.site.id:void 0,o=r.buildSettingFromKey(this.settingsKey,{},n),a=this.saveSection(o,i,this.settingsKey);return this.afterSave([a]).finally(function(){e.isSubmitting=!1})}},{key:"getModel",value:function(){return this.getSettingFromKey(this.settingsKey,{geo_ip_filtering_enabled:!1,geo_ip_filtering_block:"block",geo_ip_filtering_countries:"",geo_ip_filtering_traffic_direction:"both"})}},{key:"prepareDefaultCountries",value:function(){var e=this;this.allCountries=i.getCountryMap(),(this.getSettingFromKey(this.settingsKey,{}).get("geo_ip_filtering_countries")||"").split(",").forEach(function(t){t&&(e.allCountries[t].available=!1)})}},{key:"resetCountrySelection",value:function(){var t=this;this.availableToSelectCountries=[],this.filteredCountries=[],angular.forEach(this.allCountries,function(e,i){e.available?t.availableToSelectCountries.push({value:i,text:e.name}):t.filteredCountries.push({name:e.name,country:i})}),this.availableToSelectCountries=e.sortBy(this.availableToSelectCountries,"text"),this.filteredCountries=e.sortBy(this.filteredCountries,"name")}},{key:"addCountry",value:function(){this.filteredCountries.length<this.maxAllowedCountries&&(this.allCountries[this.selectedCountry]&&(this.allCountries[this.selectedCountry].available=!1),this.resetCountrySelection())}},{key:"removeCountry",value:function(e){this.allCountries[e.country].available=!0,this.resetCountrySelection()}}]),s}())}])},{}],70:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiGeoIpFiltering",{controller:"GeoIpFilteringController",controllerAs:"geoIpFilteringCtrl",template:e("./geoIpFiltering.pug")()})},{"./geoIpFiltering.pug":71}],71:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="geoIpFilteringSettings"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="geoIpFilteringCtrl.form" ng-class="{      \'appForm--dark\': geoIpFilteringCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': geoIpFilteringCtrl.showValidation,      \'is-validation-hidden\': !geoIpFilteringCtrl.showValidation    }" ng-submit="geoIpFilteringCtrl.form.$valid &amp;&amp; geoIpFilteringCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="geoIpFilteringCtrl.resolveDivergence()" unifi-config-changed-on-ignore="geoIpFilteringCtrl.ignoreDivergence()" unifi-config-changed-is-dark="geoIpFilteringCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="geoIpFilteringCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!geoIpFilteringCtrl.isAdmin()"><ng-form name="geoIpFilteringCtrl.forms.usg" unifi-model-form="geoIpFilteringCtrl.getModel()"><div class="unifiSettingsSection"><div class="appRow appRow--cozy"><div class="col--xs3"><label class="appLabel--primary appLabel--boxAlign" for="geoipFilteringEnabled" translate="SETTINGS_GEO_IP_FILTERING_LABEL_ENABLE"></label></div><div class="col--xs9"><div class="appInputGroup appInputGroup--cozy inlineBlock"><div class="toggle appToggle floatLeft" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': geoIpFilteringCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="geoipFilteringEnabled" id="geoipFilteringEnabled" ng-model="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_enabled" ng-model-master="modelFormCtrl.model.attributes.geo_ip_filtering_enabled"><label for="geoipFilteringEnabled"></label></div><unifi-tooltip class="inlineBlock mt-1"><content translate="SETTINGS_GEO_IP_FILTERING_LABEL_TOOLTIP_ENABLE"></content></unifi-tooltip></div><unifi-notify-device-requirement class="horizontalRhythmLeft--condensed" unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div></div><div class="unifiSettingsSection" ng-if="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_enabled"><div class="appRow appRow--comfy"><div class="col--xs3"><label class="appLabel--primary appLabel--boxAlign" for="selectCountry" translate="SETTINGS_GEO_IP_FILTERING_LABEL_COUNTRY"></label></div><div class="col--xs9 col--sm4"><div class="appInputGroup appInputGroup--cozy"><select class="select--full" type="text" id="selectCountry" name="selectCountry" ng-model="geoIpFilteringCtrl.selectedCountry" ng-options="country.value as country.text for country in geoIpFilteringCtrl.availableToSelectCountries" ng-change="geoIpFilteringCtrl.addCountry()" ng-disabled="geoIpFilteringCtrl.filteredCountries.length &gt;= geoIpFilteringCtrl.maxAllowedCountries"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div><div class="col xs9 col-xsOffset3 col--sm4 colsmOffset0" ng-if="geoIpFilteringCtrl.filteredCountries.length &gt;= geoIpFilteringCtrl.maxAllowedCountries"><div class="appType--micro appType--quiet appLabel appLabel--boxAlign italicized" translate="SETTINGS_GEO_IP_FILTERING_TOOLTIP_FILTER_MAX_REACHED" translate-values="{max_countries: geoIpFilteringCtrl.maxAllowedCountries}"></div></div></div><div class="appRow appRow--comfy" ng-if="geoIpFilteringCtrl.filteredCountries.length"><div class="col--xs3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GEO_IP_FILTERING_LABEL_COUNTRIES"></label></div><div class="col--xs9"><unifi-tag-list unifi-tag-list-tags="geoIpFilteringCtrl.filteredCountries" unifi-tag-list-name-property="\'name\'" unifi-tag-list-on-remove="geoIpFilteringCtrl.removeCountry(tag)" unifi-tag-list-is-dark="geoIpFilteringCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-tag-list></div></div><div class="appRow appRow--comfy"><div class="col--xs3"><label class="appLabel--primary" for="action" translate="SETTINGS_GEO_IP_FILTERING_LABEL_ACTION"></label></div><div class="col--xs9"><div class="appInputGroup appInputGroup--cozy inline-block"><input type="radio" name="action" id="actionBlock" value="block" ng-model="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_block" ng-model-master="modelFormCtrl.model.attributes.geo_ip_filtering_block"><label for="actionBlock" translate="SETTINGS_GEO_IP_FILTERING_VALUE_BLOCK"></label><input type="radio" name="action" id="actionAllow" value="allow" ng-model="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_block" ng-model-master="modelFormCtrl.model.attributes.geo_ip_filtering_block"><label for="actionAllow" translate="SETTINGS_GEO_IP_FILTERING_VALUE_ALLOW"></label></div></div></div><div class="appRow appRow--comfy"><div class="col--xs3"><label class="appLabel--primary" for="trafficDirection" translate="SETTINGS_GEO_IP_FILTERING_LABEL_TRAFFIC_DIRECTION"></label></div><div class="col--xs9"><div class="appInputGroup appInputGroup--cozy inline-block"><input type="radio" name="trafficDirection" id="trafficDirectionIncoming" value="ingress" ng-model="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_traffic_direction" ng-model-master="modelFormCtrl.model.attributes.geo_ip_filtering_traffic_direction"><label for="trafficDirectionIncoming" translate="SETTINGS_GEO_IP_FILTERING_VALUE_INCOMING"></label><input type="radio" name="trafficDirection" id="trafficDirectionOutgoing" value="egress" ng-model="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_traffic_direction" ng-model-master="modelFormCtrl.model.attributes.geo_ip_filtering_traffic_direction"><label for="trafficDirectionOutgoing" translate="SETTINGS_GEO_IP_FILTERING_VALUE_OUTGOING"></label><input type="radio" name="trafficDirection" id="trafficDirectionBoth" value="both" ng-model="modelFormCtrl.modelCopy.attributes.geo_ip_filtering_traffic_direction" ng-model-master="modelFormCtrl.model.attributes.geo_ip_filtering_traffic_direction"><label for="trafficDirectionBoth" translate="SETTINGS_GEO_IP_FILTERING_VALUE_BOTH"></label></div></div></div></div></ng-form></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythm--cozy verticalRhythmTop--breezy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': geoIpFilteringCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="geoIpFilteringCtrl.showValidation = true" busy-toggle="geoIpFilteringCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="geoIpFilteringCtrl.reset()" ng-disabled="geoIpFilteringCtrl.form.$pristine" ng-class="geoIpFilteringCtrl.preferences.model.get(\'isSettingsDark\') ?             \'appMainButton--transparentDark\' :             \'appMainButton--transparent\'          ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],72:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("GuestControlSettingsController",["_","$q","$translate","BaseSettingsController","bowser","countries","currencyUtils","customPortalPreview","frame","guestPortalImage","heyToasts","HotspotPackageModel","hotspotPackages","preferences","siteUtils","system","UseWebrtc","HOTSPOT_LANGUAGES","HOTSPOT_PAYMENT_FIELDS","HOTSPOT_PORTAL_OVERRIDE_TEMPLATE_HELP","REGEX_PATTERNS","TERMS_OF_SERVICE_DEFAULT","URLS",function(e,t,i,o,r,a,s,l,p,u,d,c,m,g,_,f,S,b,v,C,E,T,y){var I=["logo","bg_image"],h="portal_customized_";function N(e){return h+e+"_enabled"}function w(e){return h+e+"_filename"}return new(function(h){function A(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(A.__proto__||Object.getPrototypeOf(A)).call(this));return t._=e,t.countryCodes=a.getCountryCodes(),t.countryNamesMap=a.getCountryNamesMap(),t.preferences=g,t.system=f,t.UseWebrtc=S,t.HOTSPOT_PAYMENT_FIELDS=v,t.HOTSPOT_PORTAL_OVERRIDE_TEMPLATE_HELP=C,t.URLS=y,t.getHotspotManagerUrl=_.getHotspotManagerUrl.bind(_),t.isRadiusDisconnectReceiverRunning=f.isRadiusDisconnectReceiverRunning.bind(f),t.isFacebookWifiRegistered=f.isFacebookWifiRegistered.bind(f),t.getActiveSiteDisplayName=_.getActiveSiteDisplayName.bind(_),t.settingsSection="guest_control",t.hotspotPackages=m.repository.collection,t.hotspotPackagesCopy=m.clonePackagesWithDefaults(),t.hotspotPackagesToRemove=[],t.portalPreviewMode="desktop",t.patterns={hostname:E.HOSTNAME,hostnameOrSubnet:E.HOSTNAME_OR_IPV4_SUBNET,ipv6HostnameOrSubnet:E.HOSTNAME_OR_IPV6_SUBNET,ipAddress:E.IPV4_ADDRESS,ipv6Address:E.IPV6_ADDRESS,portNumber:E.PORT_NUMBER,subnet:E.IPV4_SUBNET,ipv6Subnet:E.IPV6_SUBNET,url:E.URL},t.restrictedSubnetMin=0,t.restrictedSubnetMax=1e3,t.allowedSubnetMin=0,t.allowedSubnetMax=1e3,t.guestAccessFormDefaults={auth:"none",expire:480,redirect_enabled:!1,redirect_url:"",template_engine:"angular",radius_auth_type:"mschapv2",facebook_wifi_gw_name:t.getActiveSiteDisplayName()},t.expirationOptions=[{value:480,translationKey:"DATETIME_HOURS_FULL_PARAMETERIZED",translationParams:{hours:8}},{value:1440,translationKey:"DATETIME_HOURS_FULL_PARAMETERIZED",translationParams:{hours:24}},{value:2880,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:2}},{value:4320,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:3}},{value:5760,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:4}},{value:10080,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:7}},{value:"custom",translationKey:"COMMON_LABEL_CUSTOM"}],t.gatewayOptions=[{id:"paypal",translationKey:"SETTINGS_GUEST_CONTROL_GATEWAY_PAYPAL"},{id:"stripe",translationKey:"SETTINGS_GUEST_CONTROL_GATEWAY_STRIPE"},{id:"quickpay",translationKey:"SETTINGS_GUEST_CONTROL_GATEWAY_QUICKPAY"},{id:"authorize",translationKey:"SETTINGS_GUEST_CONTROL_GATEWAY_AUTHORIZE"},{id:"merchantwarrior",translationKey:"SETTINGS_GUEST_CONTROL_GATEWAY_MERCHANT_WARRIOR"},{id:"ippay",translationKey:"SETTINGS_GUEST_CONTROL_GATEWAY_IP_PAY"}],t.welcomeTextPositionOptions=[{id:"under_logo",translationKey:"SETTINGS_GUEST_CONTROL_PACKAGE_OPTIONS_WELCOME_TEXT_POSITION_UNDER_LOGO"},{id:"above_boxes",translationKey:"SETTINGS_GUEST_CONTROL_PACKAGE_OPTIONS_WELCOME_TEXT_POSITION_ABOVE_BOXES"}],t.radiusAuthenticationTypeOptions=[{id:"chap",label:"CHAP"},{id:"mschapv2",label:"MS-CHAPv2"}],t.sortablePackagesConfig={animation:100,sort:!0,forceFallback:!!r.firefox,handle:".unifiSettingsSortableHandle",ghostClass:"unifiSettingsSortablePlaceholder",onEnd:t.updatePackagesOrder.bind(t)},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(A,o),n(A,[{key:"getLanguages",value:function(){var e=this.forms.guest_access||{};return e&&e.modelCopy&&e.modelCopy.attributes.portal_customized_languages||[]}},{key:"getAvailableLanguages",value:function(){var e=this.getLanguages(),t=this.forms.guest_access;return(t&&t.modelCopy&&t.modelCopy.attributes.portal_customized?b.ALL_LANGUAGES:b.BUILT_IN_LANGUAGES).filter(function(t){return-1===e.indexOf(t)})}},{key:"addLanguage",value:function(e){this.forms.guest_access.modelCopy.attributes.portal_customized_languages.push(e)}},{key:"removeLanguage",value:function(e){var t=this.forms.guest_access.modelCopy.attributes.portal_customized_languages;t.splice(t.indexOf(e),1)}},{key:"isBuiltInLanguage",value:function(e){return-1!==b.BUILT_IN_LANGUAGES.indexOf(e)}},{key:"filterLanguages",value:function(){if(!this.forms.guest_access.modelCopy.attributes.portal_customized){var t=this.forms.guest_access.modelCopy.attributes.portal_customized_languages;this.forms.guest_access.modelCopy.attributes.portal_customized_languages=e.intersection(t,b.BUILT_IN_LANGUAGES)}}},{key:"getPortalPreviewModel",value:function(){return this.forms.guest_access&&this.forms.guest_access.modelCopy?l.getPreviewModel(this.forms.guest_access.modelCopy,this.hotspotPackagesCopy,this.portalPreviewMode):void 0}},{key:"save",value:function(){var e=this;this.isSubmitting=!0;var t=this.getSettingFromKey("guest_access"),i=this.forms.guest_access.modelCopy;return this.beforeSave().then(function(){var n=[e.saveSection(t,i.attributes)];return i.get("payment_enabled")&&(e.hotspotPackagesCopy.models.forEach(function(e){n.push(e.save())}),e.hotspotPackagesToRemove.forEach(function(e){n.push(e.destroy())})),e.afterSave(n).then(function(){e.hotspotPackages.set(e.hotspotPackagesCopy.models)})}).then(function(){f.repository.refresh()}).finally(function(){e.isSubmitting=!1,e.hotspotPackagesToRemove=[]})}},{key:"beforeSave",value:function(){return this.savePortalImages()}},{key:"savePortalImages",value:function(){return"angular"===this.forms.guest_access.modelCopy.attributes.template_engine?this.removeOldCustomPortalImages().then(this.uploadNewCustomPortalImages.bind(this)):t.when()}},{key:"removeOldCustomPortalImages",value:function(){var e=[],i=this.getSettingFromKey("guest_access"),n=this.forms.guest_access.modelCopy;return I.forEach(function(t){var o=n.get(N(t)),r=i.get(w(t)),a=n.get(w(t)),s=!o&&!!r,l=o&&angular.isObject(a),p=!!r&&o&&!a;if(s||!!r&&l||p){var d=u.removeFile(r).catch(function(){}).then(function(){(s||p)&&n.set(w(t),"")});e.push(d)}}),t.all(e)}},{key:"uploadNewCustomPortalImages",value:function(){var e=[],n=this.forms.guest_access.modelCopy;return I.forEach(function(o){var r=n.get(N(o)),a=n.get(w(o));if(r&&angular.isObject(a)){var s=u.uploadFile(a.file).then(function(e){n.set(w(o),e)}).catch(function(){return d.pushError(i.instant("COMMON_NOTICE_UPLOAD_ERROR")),t.reject()});e.push(s)}}),t.all(e)}},{key:"resetPortalCustomization",value:function(){this.forms.guest_access.modelCopy.resetPortalCustomization()}},{key:"formatHotspotPackage",value:function(e){var t=[e.get("name")];return 0!==e.get("amount")&&t.push("("+s.formatAmount(e.get("amount"),e.get("currency"))+")"),t.join(" ")}},{key:"removeHotspotPackage",value:function(e){this.hotspotPackagesCopy.remove(e),e.isNew()||this.hotspotPackagesToRemove.push(e),this.form.$setDirty()}},{key:"editHotspotPackage",value:function(e){p.show("hotspotPackage",{model:function(){return e.deepCopy()},freePackageExists:this.freePackageExists(e)}).then(function(t){e.set(t.attributes)})}},{key:"addHotspotPackage",value:function(){var e=this;p.show("hotspotPackage",{model:function(){return new c},freePackageExists:this.freePackageExists()}).then(function(t){e.hotspotPackagesCopy.add(t)})}},{key:"freePackageExists",value:function(e){var t=this;return function(){return t.hotspotPackagesCopy.models.filter(function(t){return t!==e}).some(function(e){return 0===e.get("amount")})}}},{key:"editTermsOfService",value:function(e){if(e.get("portal_customized_tos_enabled"))return e.get("portal_customized_tos")||e.set("portal_customized_tos",T),p.show("simpleTextEditor",{title:function(){return i.instant("SETTINGS_GUEST_CONTROL_TERMS_OF_SERVICE_MODAL_TITLE")},text:function(){return e.get("portal_customized_tos")}}).then(function(t){e.set("portal_customized_tos",t)});e.set("portal_customized_tos","")}},{key:"editWelcomeText",value:function(e){if(e.get("portal_customized_welcome_text_enabled"))return p.show("simpleTextEditor",{title:function(){return i.instant("SETTINGS_GUEST_CONTROL_WELCOME_TEXT_MODAL_TITLE")},text:function(){return e.get("portal_customized_welcome_text")}}).then(function(t){e.set("portal_customized_welcome_text",t)});e.set("portal_customized_welcome_text","")}},{key:"updatePackagesOrder",value:function(){this.hotspotPackagesCopy.each(function(e,t){e.set("index",t)})}},{key:"isAnyJspAuthenticationMethodEnabled",value:function(){var e=this.forms.guest_access&&this.forms.guest_access.modelCopy?this.forms.guest_access.modelCopy.attributes:{};return e.voucher_enabled||e.payment_enabled}},{key:"isAnySocialAuthenticationMethodEnabled",value:function(){var e=this.forms.guest_access&&this.forms.guest_access.modelCopy?this.forms.guest_access.modelCopy.attributes:{};return e.facebook_enabled||e.google_enabled}},{key:"isRadiusDisconnectReceiverEnabled",value:function(){var e=this.getSettingFromKey("guest_access");return!!e&&!!e.get("radius_enabled")&&!!e.get("radius_disconnect_enabled")}}]),A}())}])},{}],73:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiGuestControlSettings",{controller:"GuestControlSettingsController",controllerAs:"guestControlSettingsCtrl",template:e("./guestControlSettings.pug")()})},{"./guestControlSettings.pug":74}],74:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="guestControlSettings"><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="guestControlSettingsCtrl.form" ng-class="{      \'appForm--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': guestControlSettingsCtrl.showValidation,      \'is-validation-hidden\': !guestControlSettingsCtrl.showValidation    }" ng-submit="guestControlSettingsCtrl.form.$valid &amp;&amp; guestControlSettingsCtrl.save()"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_GUEST_CONTROL"></div></div><unifi-config-changed unifi-config-changed-on-reset="guestControlSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="guestControlSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="guestControlSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!guestControlSettingsCtrl.isAdmin()"><ng-form name="guestControlSettingsCtrl.forms.guest_access" unifi-model-form="guestControlSettingsCtrl.getSettingFromKey(\'guest_access\', guestControlSettingsCtrl.guestAccessFormDefaults)"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_SECTION_GUEST_POLICIES"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_ENABLED"></label></div><div class="col--sm5 appFormGroup appFormGroup--condensed"><div class="appInputGroup appInputGroup--comfy"><input type="checkbox" name="guestControlEnable" id="guestControlEnable" ng-model="modelFormCtrl.modelCopy.attributes.portal_enabled" ng-model-master="modelFormCtrl.model.attributes.portal_enabled"><label for="guestControlEnable" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLED"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="controller"></unifi-notify-device-requirement></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-show="modelFormCtrl.setVisibility(\'portal-enabled\', modelFormCtrl.modelCopy.attributes.portal_enabled)"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_AUTHENTICATION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlAuth" id="guestControlAuthNone" value="none" ng-model="modelFormCtrl.modelCopy.attributes.auth" ng-model-master="modelFormCtrl.model.attributes.auth"><label for="guestControlAuthNone" translate="SETTINGS_GUEST_CONTROL_VALUES_AUTH_NO_AUTHENTICATION"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlAuth" id="guestControlAuthPassword" value="password" ng-model="modelFormCtrl.modelCopy.attributes.auth" ng-model-master="modelFormCtrl.model.attributes.auth"><label for="guestControlAuthPassword" translate="SETTINGS_GUEST_CONTROL_VALUES_AUTH_SIMPLE_PASSWORD"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlAuth" id="guestControlAuthHotspot" value="hotspot" ng-model="modelFormCtrl.modelCopy.attributes.auth" ng-model-master="modelFormCtrl.model.attributes.auth"><label for="guestControlAuthHotspot" translate="SETTINGS_GUEST_CONTROL_VALUES_AUTH_HOTSPOT"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" unifi-feature-flag-enable="enableFacebookWifi"><input type="radio" name="guestControlAuth" id="guestControlAuthFacebookWifi" value="facebook_wifi" ng-model="modelFormCtrl.modelCopy.attributes.auth" ng-model-master="modelFormCtrl.model.attributes.auth" ng-change="modelFormCtrl.modelCopy.attributes.redirect_https = false"><label for="guestControlAuthFacebookWifi" translate="SETTINGS_GUEST_CONTROL_VALUES_AUTH_FACEBOOK_WIFI"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlAuth" id="guestControlAuthCustom" value="custom" ng-model="modelFormCtrl.modelCopy.attributes.auth" ng-model-master="modelFormCtrl.model.attributes.auth"><label for="guestControlAuthCustom" translate="SETTINGS_GUEST_CONTROL_VALUES_AUTH_EXTERNAL_PORTAL_SERVER"></label></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.setVisibility(\'password\', modelFormCtrl.modelCopy.attributes.auth === \'password\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_GUEST_PASSWORD"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlP" ng-model="modelFormCtrl.modelCopy.attributes.x_password" ng-model-master="modelFormCtrl.model.attributes.x_password" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'password\'])"></unifi-password-reveal></div></div><div class="appRow" ng-show="modelFormCtrl.setVisibility(\'expiration\', [\'none\', \'hotspot\', \'password\', \'facebook_wifi\'].indexOf(modelFormCtrl.modelCopy.attributes.auth) !== -1)"><div class="col--sm3"><label class="appLabel--primary">{{(modelFormCtrl.getVisibility(\'hotspot\') ? \'SETTINGS_GUEST_CONTROL_LABEL_DEFAULT_EXPIRATION\' : \'SETTINGS_GUEST_CONTROL_LABEL_EXPIRATION\') | translate}}</label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><select name="guestControlExpiration" ng-model="modelFormCtrl.modelCopy.attributes.expire" ng-model-master="modelFormCtrl.model.attributes.expire" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'expiration\'])" ng-options="option.value as option.translationKey | translate:option.translationParams:\'messageformat\' for option in guestControlSettingsCtrl.expirationOptions"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-if="modelFormCtrl.modelCopy.attributes.expire === \'custom\'"><input class="input--smallNumber" type="number" name="guestControlCustomExpireNum" min="1" max="1000000" ng-model="modelFormCtrl.modelCopy.attributes.expire_number" ng-model-master="modelFormCtrl.model.attributes.expire_number" ng-model-master-cleanup="true" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'expiration\']) &amp;&amp; modelFormCtrl.modelCopy.attributes.expire === \'custom\'"'+n("unifi-string-to-integer-input",!0,!0,!0)+'><select name="guestControlCustomExpireUnit" ng-model="modelFormCtrl.modelCopy.attributes.expire_unit" ng-model-master="modelFormCtrl.model.attributes.expire_unit" ng-model-master-cleanup="true" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'expiration\']) &amp;&amp; modelFormCtrl.modelCopy.attributes.expire === \'custom\'"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option><option value="1"><span>{{\'DATETIME_MINUTES_FULL\' | translate}}</span></option><option value="60"><span>{{\'DATETIME_HOURS_FULL\' | translate}}</span></option><option value="1440"><span>{{\'DATETIME_DAYS_FULL\' | translate}}</span></option></select></div></div><div class="appInputFeedback appInputFeedback--danger" ng-if="modelFormCtrl.form.guestControlCustomExpireNum.$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: 1, max: 1000000}"></div></div></div><div class="appRow" ng-show="modelFormCtrl.setVisibility(\'landing-page\', [\'none\', \'password\', \'hotspot\'].indexOf(modelFormCtrl.modelCopy.attributes.auth) !== -1)"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_LANDING_PAGE"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlRedirect" id="guestControlRedirectFalse" ng-value="false" ng-model="modelFormCtrl.modelCopy.attributes.redirect_enabled" ng-model-master="modelFormCtrl.model.attributes.redirect_enabled"><label for="guestControlRedirectFalse" translate="SETTINGS_GUEST_CONTROL_VALUES_LANDING_ORIGINAL_URL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlRedirect" id="guestControlRedirectTrue" ng-value="true" ng-model="modelFormCtrl.modelCopy.attributes.redirect_enabled" ng-model-master="modelFormCtrl.model.attributes.redirect_enabled"><label for="guestControlRedirectTrue" translate="SETTINGS_GUEST_CONTROL_VALUES_LANDING_PROMOTIONAL_URL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" name="guestControlRedirectUrl" ng-model="modelFormCtrl.modelCopy.attributes.redirect_url" ng-model-master="modelFormCtrl.model.attributes.redirect_url" ng-disabled="!modelFormCtrl.modelCopy.attributes.redirect_enabled" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'landing-page\']) &amp;&amp; modelFormCtrl.modelCopy.attributes.redirect_enabled" ng-pattern="guestControlSettingsCtrl.patterns.url" placeholder="http://"></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.setVisibility(\'custom-portal-ip\', modelFormCtrl.modelCopy.attributes.auth === \'custom\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_CUSTOM_PORTAL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><label class="appLabel--boxInline" for="guestControlPortalIpAddress" translate="SETTINGS_GUEST_CONTROL_VALUES_IP_ADDRESS"></label><input type="text" id="guestControlPortalIpAddress" name="guestControlPortalIpAddress" ng-model="modelFormCtrl.modelCopy.attributes.custom_ip" ng-model-master="modelFormCtrl.model.attributes.custom_ip" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'custom-portal-ip\'])" ng-pattern="guestControlSettingsCtrl.patterns.ipAddress"></div><div class="appInputGroup appInputGroup--cozy" unifi-feature-flag-enable="enableIpv6GuestControl"><label class="appLabel--boxInline" for="guestControlPortalIpv6Address" translate="SETTINGS_GUEST_CONTROL_VALUES_IPV6_ADDRESS"></label><input type="text" id="guestControlPortalIpv6Address" name="guestControlPortalIpv6Address" ng-model="modelFormCtrl.modelCopy.attributes.custom_ipv6" ng-model-master="modelFormCtrl.model.attributes.custom_ipv6" ng-pattern="guestControlSettingsCtrl.patterns.ipv6Address"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_REDIRECTION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="guestControlPortalToHttps" id="guestControlPortalToHttps" ng-model="modelFormCtrl.modelCopy.attributes.redirect_to_https" ng-model-master="modelFormCtrl.model.attributes.redirect_to_https"><label for="guestControlPortalToHttps" translate="SETTINGS_GUEST_CONTROL_VALUES_REDIRECT_TO_HTTPS"></label><unifi-tooltip ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_REDIRECT_TO_HTTPS"></content></unifi-tooltip></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlPortalUseHostname" id="guestControlPortalUseHostname" ng-disabled="guestControlSettingsCtrl.system.isUnifiGo()" ng-model="modelFormCtrl.modelCopy.attributes.portal_use_hostname" ng-model-master="modelFormCtrl.model.attributes.portal_use_hostname" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'new-angular-engine\']) &amp;&amp; guestControlSettingsCtrl.isAnySocialAuthenticationMethodEnabled()"><label for="guestControlPortalUseHostname" translate="SETTINGS_GUEST_CONTROL_VALUES_REDIRECT_USING_HOSTNAME"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><div class="appIconInput appIconInput--left"><div class="appIconInput__icon" ng-show="!modelFormCtrl.modelCopy.attributes.redirect_to_https">http://</div><div class="appIconInput__icon" ng-show="modelFormCtrl.modelCopy.attributes.redirect_to_https">https://</div><input type="text" name="guestControlPortalHostname" ng-model="modelFormCtrl.modelCopy.attributes.portal_hostname" ng-model-master="modelFormCtrl.model.attributes.portal_hostname" ng-disabled="!modelFormCtrl.modelCopy.attributes.portal_use_hostname || guestControlSettingsCtrl.system.isUnifiGo()" ng-required="modelFormCtrl.getVisibility([\'portal-enabled\']) &amp;&amp; modelFormCtrl.modelCopy.attributes.portal_use_hostname" style="padding-left: {{modelFormCtrl.modelCopy.attributes.redirect_to_https ? 41 : 36}}px"></div></div><div class="appInputGroup appInputGroup--cozy noMarginTop" ng-if="guestControlSettingsCtrl.forms.guest_access.guestControlPortalUseHostname.$invalid" ng-show="guestControlSettingsCtrl.showValidation"><div class="appInputFeedback appInputFeedback--danger" translate="SETTINGS_GUEST_CONTROL_VALIDATION_USE_HOSTNAME"></div></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="guestControlPortalHttps" id="guestControlPortalHttps" ng-model="modelFormCtrl.modelCopy.attributes.redirect_https" ng-model-master="modelFormCtrl.model.attributes.redirect_https" ng-disabled="modelFormCtrl.modelCopy.attributes.auth === \'facebook_wifi\' || (modelFormCtrl.getVisibility(\'hotspot\') &amp;&amp; (modelFormCtrl.modelCopy.attributes.facebook_enabled || modelFormCtrl.modelCopy.attributes.google_enabled))"><label for="guestControlPortalHttps" translate="SETTINGS_GUEST_CONTROL_VALUES_REDIRECT_HTTPS"></label><unifi-tooltip ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_REDIRECT_HTTPS"></content></unifi-tooltip></div></div></div></div></fieldset></div>\x3c!-- Portal Customization--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility(\'portal-enabled\') &amp;&amp; modelFormCtrl.setVisibility(\'portal-customization\', [\'none\', \'password\', \'hotspot\'].indexOf(modelFormCtrl.modelCopy.attributes.auth) !== -1)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_PORTAL_CUSTOMIZATION"></span></div><fieldset class="appFieldset appFieldset--quiet"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_TEMPLATE_ENGINE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlTemplateEngine" id="guestControlTemplateEngineAngular" value="angular" ng-model="modelFormCtrl.modelCopy.attributes.template_engine" ng-model-master="modelFormCtrl.model.attributes.template_engine"><label for="guestControlTemplateEngineAngular" translate="SETTINGS_GUEST_CONTROL_VALUES_TEMPLATE_ENGINE_ANGULAR"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlTemplateEngine" id="guestControlTemplateEngineJSP" value="jsp" ng-model="modelFormCtrl.modelCopy.attributes.template_engine" ng-model-master="modelFormCtrl.model.attributes.template_engine"><label for="guestControlTemplateEngineJSP" translate="SETTINGS_GUEST_CONTROL_VALUES_TEMPLATE_ENGINE_JSP"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_OVERRIDE_DEFAULT_TEMPLATES"></label></div></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--comfy"><input type="checkbox" name="guestControlCustomPortal" id="guestControlCustomPortal" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized" ng-model-master="modelFormCtrl.model.attributes.portal_customized" ng-change="guestControlSettingsCtrl.filterLanguages()"><label for="guestControlCustomPortal" translate="SETTINGS_GUEST_CONTROL_VALUES_OVERRIDE_DEFAULT_TEMPLATES"></label><unifi-tooltip unifi-tooltip-clickable="true" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_PROMPT_OVERRIDE_DEFAULT_TEMPLATES" translate-values="{helpLink: guestControlSettingsCtrl.HOTSPOT_PORTAL_OVERRIDE_TEMPLATE_HELP[modelFormCtrl.modelCopy.attributes.template_engine]}"></content></unifi-tooltip></div><div class="appInputGroup appInputGroup--cozy" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\' &amp;&amp; modelFormCtrl.modelCopy.attributes.portal_customized"><unifi-hotspot-overrides-upgrade></unifi-hotspot-overrides-upgrade></div></div></div><div class="appRow" ng-show="modelFormCtrl.setVisibility(\'new-angular-engine\', modelFormCtrl.modelCopy.attributes.template_engine === \'angular\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_PORTAL_CUSTOMIZATION_TITLE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="text" name="guestControlCustomPortalTitle" id="guestControlCustomPortalTitle" ng-maxlength="128" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_title" ng-model-master="modelFormCtrl.model.attributes.portal_customized_title" placeholder="{{ \'SETTINGS_GUEST_CONTROL_PLACEHOLDER_PORTAL_CUSTOMIZATION_TITLE\' | translate }}"></div></div></div><div class="appRow" ng-show="modelFormCtrl.getVisibility(\'new-angular-engine\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_WELCOME_TEXT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlWelcomeText" id="guestControlWelcomeText" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_welcome_text_enabled" ng-model-master="modelFormCtrl.model.attributes.portal_customized_welcome_text_enabled" ng-change="guestControlSettingsCtrl.editWelcomeText(modelFormCtrl.modelCopy)"><label for="guestControlWelcomeText" translate="SETTINGS_GUEST_CONTROL_VALUES_WELCOME_TEXT"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="modelFormCtrl.setVisibility(\'welcome-text\', modelFormCtrl.modelCopy.attributes.portal_customized_welcome_text_enabled)"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="guestControlSettingsCtrl.editWelcomeText(modelFormCtrl.modelCopy)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button></div></div><div class="appInputGroup appInputGroup--cozy" ng-show="modelFormCtrl.getVisibility(\'new-angular-engine\') &amp;&amp; modelFormCtrl.modelCopy.attributes.portal_customized_welcome_text_enabled"><label class="appLabel appLabel--boxInline" for="welcomeTextPosition" translate="SETTINGS_GUEST_CONTROL_LABEL_WELCOME_TEXT_POSITION"></label><select name="welcomeTextPosition" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_welcome_text_position" ng-model-master="modelFormCtrl.model.attributes.portal_customized_welcome_text_position" ng-options="position.id as position.translationKey | translate for position in guestControlSettingsCtrl.welcomeTextPositionOptions" ng-required="modelFormCtrl.getVisibility([\'welcome-text\'])"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div></div><div class="appRow" ng-show="modelFormCtrl.getVisibility(\'new-angular-engine\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_TERMS_OF_SERVICE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlTermsOfService" id="guestControlTermsOfService" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_tos_enabled" ng-model-master="modelFormCtrl.model.attributes.portal_customized_tos_enabled" ng-change="guestControlSettingsCtrl.editTermsOfService(modelFormCtrl.modelCopy)"><label for="guestControlTermsOfService" translate="SETTINGS_GUEST_CONTROL_VALUES_TERMS_OF_SERVICE"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="modelFormCtrl.modelCopy.attributes.portal_customized_tos_enabled"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="guestControlSettingsCtrl.editTermsOfService(modelFormCtrl.modelCopy)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.getVisibility(\'new-angular-engine\')"><div class="col--sm3"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_LANGUAGES"></label></div></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><table class="appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="hotspotLanguages" ng-class="{                      \'appTable--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')                    }" unifi-condensed="appTable--condensed"><thead><th class="unifiSettingsGuestControlTable__languageCode" colspan="2"><span translate="SETTINGS_GUEST_CONTROL_LANGUAGE_OPTIONS_TABLE_HEADER_CODE"></span></th><th><span translate="SETTINGS_GUEST_CONTROL_LANGUAGE_OPTIONS_TABLE_HEADER_LANGUAGE"></span></th><th><span translate="SETTINGS_GUEST_CONTROL_LANGUAGE_OPTIONS_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="languageCode in guestControlSettingsCtrl.getLanguages() | orderBy"><td class="unifiSettingsGuestControlTable__languageCode"><span>{{languageCode}}</span></td><td class="wrappable appTableCell--smash"><unifi-tooltip><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_CUSTOM_LANGUAGE" translate-values="{directory: languageCode}"></content></unifi-tooltip></td><td>{{\'LANGUAGE_\' + languageCode.toUpperCase() | translate}}</td><td class="appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="guestControlSettingsCtrl.removeLanguage(languageCode)" title="{{\'COMMON_ACTIONS_DELETE\' | translate}}" ng-disabled="languageCode === \'en\'"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-if="guestControlSettingsCtrl.getAvailableLanguages().length &gt; 0"><select ng-model="languageToAdd" ng-options="(\'LANGUAGE_\' + languageCode.toUpperCase() | translate) + \' [\' + languageCode + \']\' for languageCode in guestControlSettingsCtrl.getAvailableLanguages()"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="guestControlSettingsCtrl.addLanguage(languageToAdd); languageToAdd = null" ng-disabled="!languageToAdd"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_GUEST_CONTROL_LANGUAGE_OPTIONS_ACTIONS_ADD_LANGUAGE"></span></button></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="modelFormCtrl.getVisibility(\'new-angular-engine\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_PORTAL_CUSTOMIZATION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appRow"><div class="col--lg4"><div class="appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" id="guestControlCustomPortalEnableLogo" name="guestControlCustomPortalEnableLogo" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_logo_enabled" ng-model-master="modelFormCtrl.model.attributes.portal_customized_logo_enabled"><label for="guestControlCustomPortalEnableLogo" translate="SETTINGS_GUEST_CONTROL_LABEL_PORTAL_CUSTOMIZATION_ENABLE_LOGO"></label><unifi-upload-guest-portal-image ng-show="modelFormCtrl.modelCopy.attributes.portal_customized_logo_enabled" unifi-upload-guest-portal-image-label-change="SETTINGS_GUEST_CONTROL_ACTIONS_PORTAL_CUSTOMIZATION_CHANGE_IMAGE" unifi-upload-guest-portal-image-label-upload="SETTINGS_GUEST_CONTROL_ACTIONS_PORTAL_CUSTOMIZATION_UPLOAD_IMAGE" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_logo_filename" ng-model-master="modelFormCtrl.model.attributes.portal_customized_logo_filename"></unifi-upload-guest-portal-image></div></div><div class="appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" id="guestControlCustomPortalEnableBackgroundImage" name="guestControlCustomPortalEnableBackgroundImage" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_bg_image_enabled" ng-model-master="modelFormCtrl.model.attributes.portal_customized_bg_image_enabled"><label for="guestControlCustomPortalEnableBackgroundImage" translate="SETTINGS_GUEST_CONTROL_LABEL_PORTAL_CUSTOMIZATION_ENABLE_BACKGROUND_IMAGE"></label><unifi-upload-guest-portal-image ng-show="modelFormCtrl.modelCopy.attributes.portal_customized_bg_image_enabled" unifi-upload-guest-portal-image-label-change="SETTINGS_GUEST_CONTROL_ACTIONS_PORTAL_CUSTOMIZATION_CHANGE_IMAGE" unifi-upload-guest-portal-image-label-upload="SETTINGS_GUEST_CONTROL_ACTIONS_PORTAL_CUSTOMIZATION_UPLOAD_IMAGE" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_bg_image_filename" ng-model-master="modelFormCtrl.model.attributes.portal_customized_bg_image_filename"></unifi-upload-guest-portal-image></div><div class="appInputGroup appInputGroup--cozy" ng-show="modelFormCtrl.modelCopy.attributes.portal_customized_bg_image_enabled"><input type="checkbox" id="guestControlCustomPortalTileBackgroundImage" name="guestControlCustomPortalTileBackgroundImage" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_bg_image_tile" ng-model-master="modelFormCtrl.model.attributes.portal_customized_bg_image_tile"><label for="guestControlCustomPortalTileBackgroundImage" translate="SETTINGS_GUEST_CONTROL_LABEL_PORTAL_CUSTOMIZATION_TILE_BACKGROUND_IMAGE"></label></div></div><div class="appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_bg_color" unifi-color-picker-is-dark="guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_bg_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalBgColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BACKGROUND_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+n("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalBgColor" name="guestControlCustomPortalBgColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_bg_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_bg_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_text_color" unifi-color-picker-is-dark="guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_text_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalTextColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_TEXT_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+n("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalTextColor" name="guestControlCustomPortalTextColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_text_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_text_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_button_color" unifi-color-picker-is-dark="guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_button_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalButtonColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BUTTON_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+n("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalButtonColor" name="guestControlCustomPortalButtonColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_button_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_button_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_button_text_color" unifi-color-picker-is-dark="guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_button_text_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalButtonTextColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BUTTON_TEXT_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+n("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalButtonTextColor" name="guestControlCustomPortalButtonTextColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_button_text_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_button_text_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_link_color" unifi-color-picker-is-dark="guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_link_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalLinkColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_LINK_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+n("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalLinkColor" name="guestControlCustomPortalLinkColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_link_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_link_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_color" unifi-color-picker-is-dark="guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_box_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalBoxColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BOX_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+n("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalBoxColor" name="guestControlCustomPortalBoxColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_box_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_text_color" unifi-color-picker-is-dark="guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_box_text_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalBoxTextColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BOX_TEXT_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+n("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalBoxTextColor" name="guestControlCustomPortalBoxTextColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_text_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_box_text_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><unifi-color-picker unifi-color-picker-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_link_color" unifi-color-picker-is-dark="guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')"><div class="appInputGroup appInputGroup--cozy"><div class="unifiColorBall" ng-class="{\'unifiColorBall--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-style="{\'background-color\': modelFormCtrl.modelCopy.attributes.portal_customized_box_link_color}"></div><label class="appLabel appLabel--boxInline" for="guestControlCustomPortalBoxLinkColor" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BOX_LINK_COLOR"></label><div class="appIconInput appIconInput--left"><div class="appIconInput__icon">#</div><input class="input--hexColor appIconInput__input"'+n("unifi-hex-color-input",!0,!0,!0)+' maxlength="6" id="guestControlCustomPortalBoxLinkColor" name="guestControlCustomPortalBoxLinkColor" type="text" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_link_color" ng-model-master="modelFormCtrl.model.attributes.portal_customized_box_link_color" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></unifi-color-picker></div><div class="appInputGroup appInputGroup--cozy"><input'+n("unifi-truthy-checkbox",!0,!0,!0)+' unifi-truthy-checkbox-false-value="100" unifi-truthy-checkbox-default-true-value="30" type="checkbox" id="guestControlCustomPortalBoxOpacityCheckbox" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_opacity"><label for="guestControlCustomPortalBoxOpacityCheckbox" translate="SETTINGS_GUEST_CONTROL_VALUES_PORTAL_CUSTOMIZATION_BOX_OPACITY"></label><div class="appIconInput appIconInput--right"><div class="appIconInput__icon">%</div><input class="appIconInput__input" min="0" max="100" maxlength="3" id="guestControlCustomPortalBoxOpacity" name="guestControlCustomPortalBoxOpacity" type="number" ng-model="modelFormCtrl.modelCopy.attributes.portal_customized_box_opacity" ng-model-master="modelFormCtrl.model.attributes.portal_customized_box_opacity" ng-required="modelFormCtrl.getVisibility([\'portal-customized\'])"></div></div></div></div><div class="col--lg8 visible--desktop"><button class="appMainButton appMainButton--tertiary appMainButton--condensed floatRight" type="button" ng-click="guestControlSettingsCtrl.resetPortalCustomization()"><span class="button__icon icon ubnt-icon--reset"></span><span translate="SETTINGS_GUEST_CONTROL_ACTIONS_PORTAL_CUSTOMIZATION_RESET_STYLE"></span></button><unifi-custom-portal-preview ng-if="modelFormCtrl.getVisibility([\'portal-enabled\', \'new-angular-engine\']) &amp;&amp; !modelFormCtrl.getVisibility([\'facebook-wifi\']) &amp;&amp; !guestControlSettingsCtrl.UseWebrtc" unifi-custom-portal-preview-mode="guestControlSettingsCtrl.portalPreviewMode" unifi-custom-portal-preview-model="guestControlSettingsCtrl.getPortalPreviewModel()" unifi-custom-portal-preview-is-dark="guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-custom-portal-preview><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTop" ng-if="modelFormCtrl.getVisibility([\'portal-enabled\', \'new-angular-engine\']) &amp;&amp; guestControlSettingsCtrl.UseWebrtc" ng-class="{\'appInfoBox--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_GUEST_CONTROL_LABEL_CUSTOM_PORTAL_PREVIEW_LOCAL_ONLY"></p></div></div></div></div></div></div></div></fieldset></div>\x3c!-- Hotspot--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'hotspot\', modelFormCtrl.modelCopy.attributes.portal_enabled &amp;&amp; modelFormCtrl.modelCopy.attributes.auth === \'hotspot\')"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_HOTSPOT"></span><a class="appMainButton appMainButton--tertiary appMainButton--condensed floatRight" ng-href="{{guestControlSettingsCtrl.getHotspotManagerUrl()}}" target="_blank"><span class="button__icon icon ubnt-icon--popout"></span><span translate="SETTINGS_GUEST_CONTROL_VALUES_GO_TO_HOTSPOT_MANAGER"></span></a></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_API"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnableApi" id="guestControlEnableApi"'+n("checked",!0,!0,!0)+n("disabled",!0,!0,!0)+'><label for="guestControlEnableApi" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_API_AUTHORIZATION"></label><unifi-tooltip ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_API_AUTHORIZATION"></content></unifi-tooltip></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_VOUCHERS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnableVouchers" id="guestControlEnableVouchers" ng-model="modelFormCtrl.modelCopy.attributes.voucher_enabled" ng-model-master="modelFormCtrl.model.attributes.voucher_enabled" ng-required="modelFormCtrl.getVisibility([\'hotspot\']) &amp;&amp; modelFormCtrl.modelCopy.attributes.template_engine === \'jsp\' &amp;&amp; !guestControlSettingsCtrl.isAnyJspAuthenticationMethodEnabled()"><label for="guestControlEnableVouchers" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_VOUCHER_AUTHORIZATION"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_PAYMENTS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnablePayments" id="guestControlEnablePayments" ng-model="modelFormCtrl.modelCopy.attributes.payment_enabled" ng-model-master="modelFormCtrl.model.attributes.payment_enabled" ng-required="modelFormCtrl.getVisibility([\'hotspot\']) &amp;&amp; modelFormCtrl.modelCopy.attributes.template_engine === \'jsp\' &amp;&amp; !guestControlSettingsCtrl.isAnyJspAuthenticationMethodEnabled()"><label for="guestControlEnablePayments" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_PAYMENT_AUTHORIZATION"></label></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><div class="col--sm3"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS"></label></div></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnableRadius" id="guestControlEnableRadius" ng-model="modelFormCtrl.modelCopy.attributes.radius_enabled" ng-model-master="modelFormCtrl.model.attributes.radius_enabled"><label for="guestControlEnableRadius" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_RADIUS_AUTHORIZATION"></label><unifi-tooltip ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_RADIUS_AUTHORIZATION"></content></unifi-tooltip></div></div></div><div class="appRow"><div class="col--sm6"><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><div class="col--sm6"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_FACEBOOK"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnableFacebook" id="guestControlEnableFacebook" ng-model="modelFormCtrl.modelCopy.attributes.facebook_enabled" ng-model-master="modelFormCtrl.model.attributes.facebook_enabled" ng-change="modelFormCtrl.modelCopy.attributes.redirect_https = false"><label for="guestControlEnableFacebook" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_FACEBOOK_AUTHORIZATION"></label></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><div class="col--sm6"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_GOOGLE"></label></div></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnableGoogle" id="guestControlEnableGoogle" ng-model="modelFormCtrl.modelCopy.attributes.google_enabled" ng-model-master="modelFormCtrl.model.attributes.google_enabled" ng-change="modelFormCtrl.modelCopy.attributes.redirect_https = false"><label for="guestControlEnableGoogle" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_GOOGLE_AUTHORIZATION"></label></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><div class="col--sm6"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_WECHAT"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlEnableWechat" id="guestControlEnableWechat" ng-model="modelFormCtrl.modelCopy.attributes.wechat_enabled" ng-model-master="modelFormCtrl.model.attributes.wechat_enabled"><label for="guestControlEnableWechat" translate="SETTINGS_GUEST_CONTROL_VALUES_ENABLE_WECHAT_AUTHORIZATION"></label><unifi-tooltip><prompt class="icon ubnt-icon--mobile-phone"></prompt><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_WECHAT_MOBILE"></content></unifi-tooltip></div></div></div></div><div class="col--sm6"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--dark" ng-show="modelFormCtrl.getVisibility([\'hotspot\', \'new-angular-engine\']) &amp;&amp; guestControlSettingsCtrl.isAnySocialAuthenticationMethodEnabled() &amp;&amp; !modelFormCtrl.modelCopy.attributes.portal_use_hostname"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p translate="SETTINGS_GUEST_CONTROL_INFO_BOX_OAUTH_REDIRECT_URI"></p></div></div></div></div></div><div class="appRow" ng-if="guestControlSettingsCtrl.forms.guest_access.guestControlEnablePayments.$invalid" ng-show="guestControlSettingsCtrl.showValidation"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputFeedback appInputFeedback--danger" translate="SETTINGS_GUEST_CONTROL_VALIDATION_HINT_AUTHORIZATION"></div></div></div></div>\x3c!-- Vouchers--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility(\'hotspot\', \'portal-customization\') &amp;&amp; modelFormCtrl.setVisibility(\'voucher-customization\', modelFormCtrl.modelCopy.attributes.voucher_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_VOUCHER_CUSTOMIZATION"></span></div><fieldset class="appFieldset appFieldset--quiet"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_TEMPLATE_ENGINE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="guestControlVoucherTemplateEngine" id="guestControlVoucherTemplateEngineJSP" value="jsp" checked="checked"'+n("disabled",!0,!0,!0)+'><label for="guestControlTemplateEngineJSP" translate="SETTINGS_GUEST_CONTROL_VALUES_TEMPLATE_ENGINE_JSP"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_OVERRIDE_DEFAULT_TEMPLATES"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlCustomVoucher" id="guestControlCustomVoucher" ng-model="modelFormCtrl.modelCopy.attributes.voucher_customized" ng-model-master="modelFormCtrl.model.attributes.voucher_customized"><label for="guestControlCustomVoucher" translate="SETTINGS_GUEST_CONTROL_VALUES_OVERRIDE_DEFAULT_TEMPLATES"></label><unifi-tooltip unifi-tooltip-clickable="true" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_PROMPT_OVERRIDE_DEFAULT_TEMPLATES" translate-values="{helpLink: guestControlSettingsCtrl.HOTSPOT_PORTAL_OVERRIDE_TEMPLATE_HELP[modelFormCtrl.modelCopy.attributes.template_engine]}"></content></unifi-tooltip></div></div></div></fieldset></div>\x3c!-- Payments--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility(\'hotspot\') &amp;&amp; modelFormCtrl.setVisibility(\'payments-enabled\', modelFormCtrl.modelCopy.attributes.payment_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_PAYMENTS"></span></div><fieldset class="appFieldset appFieldset--quiet verticalRhythm--cozy" ng-show="modelFormCtrl.setVisibility(\'new-payments-enabled\', modelFormCtrl.modelCopy.attributes.payment_enabled &amp;&amp; modelFormCtrl.modelCopy.attributes.template_engine === \'angular\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_PAYMENT_PACKAGES"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><table class="appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="hotspotPackages" ng-class="{                    \'appTable--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')                  }" unifi-condensed="appTable--condensed"><thead><th class="appTableCell--smash"'+n("unifi-if-role-admin",!0,!0,!0)+'></th><th><span translate="SETTINGS_GUEST_CONTROL_PACKAGE_OPTIONS_TABLE_HEADER_PACKAGE"></span></th><th><span translate="SETTINGS_GUEST_CONTROL_PACKAGE_OPTIONS_TABLE_HEADER_ACTIONS"></span></th></thead><tbody ng-sortable="guestControlSettingsCtrl.sortablePackagesConfig"><tr ng-repeat="model in guestControlSettingsCtrl.hotspotPackagesCopy.models"><td class="appTableCell--smash"'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed unifiSettingsSortableHandle"><span class="button__icon icon ubnt-icon--arrows-updown-leftright"></span></button></td><td>{{ guestControlSettingsCtrl.formatHotspotPackage(model) }}</td><td class="appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="guestControlSettingsCtrl.editHotspotPackage(model)" title="{{\'COMMON_ACTIONS_EDIT\' | translate}}"><span class="button__icon icon ubnt-icon--pencil"></span><span class="button__label" translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="guestControlSettingsCtrl.removeHotspotPackage(model)" title="{{\'COMMON_ACTIONS_DELETE\' | translate}}"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><button class="appMainButton appMainButton--tertiary appMainButton--condensed addHotspotPackage" type="button" ng-click="guestControlSettingsCtrl.addHotspotPackage()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_GUEST_CONTROL_PACKAGE_OPTIONS_ACTIONS_ADD_PACKAGE"></span></button></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet verticalRhythm--cozy" ng-show="modelFormCtrl.getVisibility(\'new-payments-enabled\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_PAYMENT_FIELD_OPTIONS"></label><unifi-tooltip class="ml-1"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_PAYMENT_FIELD_OPTIONS"></content></unifi-tooltip></div><div class="col--sm9"><div class="appRow appRow--cozy" ng-repeat="option in guestControlSettingsCtrl.HOTSPOT_PAYMENT_FIELDS"><div class="col--sm4 appFormGroup appFormGroup--smash"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" id="guestControlCustomPortalPaymentField_{{option.id}}_enabled" ng-model="modelFormCtrl.modelCopy.attributes[\'payment_fields_\' + option.id + \'_enabled\']" ng-model-master="modelFormCtrl.model.attributes[\'payment_fields_\' + option.id + \'_enabled\']" ng-disabled="option.forceRequiredForNonFreePayments &amp;&amp; modelFormCtrl.model.attributes[\'payment_fields_\' + option.id + \'_enabled\']"><label for="guestControlCustomPortalPaymentField_{{option.id}}_enabled">{{\'SETTINGS_GUEST_CONTROL_VALUES_PAYMENT_FIELD_\' + option.id.toUpperCase() + \'_ENABLED\' | translate}}</label></div></div><div class="col--sm3 appFormGroup appFormGroup--smash"><div class="appInputGroup appInputGroup--cozy" ng-show="modelFormCtrl.modelCopy.attributes[\'payment_fields_\' + option.id + \'_enabled\']"><input type="checkbox" id="guestControlCustomPortalPaymentField_{{option.id}}_required" ng-model="modelFormCtrl.modelCopy.attributes[\'payment_fields_\' + option.id + \'_required\']" ng-model-master="modelFormCtrl.model.attributes[\'payment_fields_\' + option.id + \'_required\']" ng-disabled="option.forceRequiredForNonFreePayments &amp;&amp; modelFormCtrl.model.attributes[\'payment_fields_\' + option.id + \'_required\']"><label for="guestControlCustomPortalPaymentField_{{option.id}}_required">{{\'SETTINGS_GUEST_CONTROL_VALUES_PAYMENT_FIELD_\' + option.id.toUpperCase() + \'_REQUIRED\' | translate}}</label></div></div><div class="col--sm5 appFormGroup appFormGroup--smash" ng-if="option.id === \'country\'"><div class="appInputGroup appInputGroup--cozy"><label class="appLabel--boxInline" for="guestControlCustomPortalPaymentFieldCountryDefault" translate="SETTINGS_GUEST_CONTROL_VALUES_PAYMENT_FIELD_COUNTRY_DEFAULT" ng-show="modelFormCtrl.modelCopy.attributes.payment_fields_country_enabled"></label><select class="select-full" name="guestControlCustomPortalPaymentFieldCountryDefault" ng-model="modelFormCtrl.modelCopy.attributes.payment_fields_country_default" ng-model-master="modelFormCtrl.model.attributes.payment_fields_country_default" ng-options="guestControlSettingsCtrl.countryNamesMap[countryCode] for countryCode in guestControlSettingsCtrl.countryCodes track by countryCode" ng-show="modelFormCtrl.modelCopy.attributes.payment_fields_country_enabled"><option unifi-option-placeholder="SETTINGS_GUEST_CONTROL_VALUES_PAYMENT_FIELD_COUNTRY_SELECT_DEFAULT"></option></select></div></div></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="modelFormCtrl.setVisibility(\'payment-gateway\', modelFormCtrl.modelCopy.attributes.payment_enabled)"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="guestControlGateway" ng-model="modelFormCtrl.modelCopy.attributes.gateway" ng-model-master="modelFormCtrl.model.attributes.gateway" ng-options="gateway.id as gateway.translationKey | translate for gateway in guestControlSettingsCtrl.gatewayOptions" ng-required="modelFormCtrl.getVisibility([\'hotspot\', \'payment-gateway\'])"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div><div class="col--sm4" ng-show="modelFormCtrl.setVisibility(\'missingGateway\', !modelFormCtrl.modelCopy.attributes.gateway &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy" ng-class="{\'appInfoBox--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body" translate="SETTINGS_GUEST_CONTROL_INFO_BOX_MISSING_GATEWAY"></div></div></div></div></div></fieldset></div>\x3c!-- PayPal--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'paypal\', modelFormCtrl.modelCopy.attributes.gateway === \'paypal\' &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_GATEWAY_PAYPAL"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_USERNAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlPaypalU" ng-model="modelFormCtrl.modelCopy.attributes.x_paypal_username" ng-model-master="modelFormCtrl.model.attributes.x_paypal_username" ng-required="modelFormCtrl.getVisibility([\'paypal\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_PASSWORD"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlPaypalP" ng-model="modelFormCtrl.modelCopy.attributes.x_paypal_password" ng-model-master="modelFormCtrl.model.attributes.x_paypal_password" ng-required="modelFormCtrl.getVisibility([\'paypal\'])"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_SIGNATURE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlPaypalSignature" ng-model="modelFormCtrl.modelCopy.attributes.x_paypal_signature" ng-model-master="modelFormCtrl.model.attributes.x_paypal_signature" ng-required="modelFormCtrl.getVisibility([\'paypal\'])"></div></div><div class="appRow"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="guestControlPaypalSandbox" id="guestControlPaypalSandbox" ng-model="modelFormCtrl.modelCopy.attributes.paypal_use_sandbox" ng-model-master="modelFormCtrl.model.attributes.paypal_use_sandbox"><label for="guestControlPaypalSandbox" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_USE_SANDBOX_ACCOUNT"></label><a href="https://developer.paypal.com/" target="_blank" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_APPLY_SANDBOX_ACCOUNT"></a></div></div></div></div>\x3c!-- Stripe--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'stripe\', modelFormCtrl.modelCopy.attributes.gateway === \'stripe\' &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_GATEWAY_STRIPE"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_API_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlStripeApiKey" ng-model="modelFormCtrl.modelCopy.attributes.x_stripe_api_key" ng-model-master="modelFormCtrl.model.attributes.x_stripe_api_key" ng-required="modelFormCtrl.getVisibility([\'stripe\'])"></div></div></div>\x3c!-- QuickPay--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'quickpay\', modelFormCtrl.modelCopy.attributes.gateway === \'quickpay\' &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_GATEWAY_QUICKPAY"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_MERCHANT_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlQuickPayMerchantId" ng-model="modelFormCtrl.modelCopy.attributes.x_quickpay_merchantid" ng-model-master="modelFormCtrl.model.attributes.x_quickpay_merchantid" ng-required="modelFormCtrl.getVisibility([\'quickpay\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_API_USER_API_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlQuickPayApiKey" ng-model="modelFormCtrl.modelCopy.attributes.x_quickpay_apikey" ng-model-master="modelFormCtrl.model.attributes.x_quickpay_apikey" ng-required="modelFormCtrl.getVisibility([\'quickpay\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_AGREEMENT_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlQuickPayAgreementId" ng-model="modelFormCtrl.modelCopy.attributes.x_quickpay_agreementid" ng-model-master="modelFormCtrl.model.attributes.x_quickpay_agreementid" ng-required="modelFormCtrl.getVisibility([\'quickpay\'])"></div></div><div class="appRow"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="guestControlQuickPayTestMode" id="guestControlQuickPayTestMode" ng-model="modelFormCtrl.modelCopy.attributes.quickpay_testmode" ng-model-master="modelFormCtrl.model.attributes.quickpay_testmode"><label for="guestControlQuickPayTestMode" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_QUICKPAY_TEST_MODE"></label></div></div></div></div>\x3c!-- Authorize.net--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'authorize\', modelFormCtrl.modelCopy.attributes.gateway === \'authorize\' &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_GATEWAY_AUTHORIZE"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_API_LOGIN_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlAuthorizeLoginId" ng-model="modelFormCtrl.modelCopy.attributes.x_authorize_loginid" ng-model-master="modelFormCtrl.model.attributes.x_authorize_loginid" ng-required="modelFormCtrl.getVisibility([\'authorize\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_TRANSACTION_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlAuthorizeTransactionKey" ng-model="modelFormCtrl.modelCopy.attributes.x_authorize_transactionkey" ng-model-master="modelFormCtrl.model.attributes.x_authorize_transactionkey" ng-required="modelFormCtrl.getVisibility([\'authorize\'])"></div></div><div class="appRow"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="guestControlAuthorizeSandbox" id="guestControlAuthorizeSandbox" ng-model="modelFormCtrl.modelCopy.attributes.authorize_use_sandbox" ng-model-master="modelFormCtrl.model.attributes.authorize_use_sandbox"><label for="guestControlAuthorizeSandbox" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_USE_TEST_ACCOUNT"></label><a href="http://developer.authorize.net/testaccount/" target="_blank" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_APPLY_TEST_ACCOUNT"></a></div></div></div></div>\x3c!-- Merchant Warrior--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'merchantwarrior\', modelFormCtrl.modelCopy.attributes.gateway === \'merchantwarrior\' &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_GATEWAY_MERCHANT_WARRIOR"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_MERCHANT_UUID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlMerchantWarriorMerchantUuid" ng-model="modelFormCtrl.modelCopy.attributes.x_merchantwarrior_merchantuuid" ng-model-master="modelFormCtrl.model.attributes.x_merchantwarrior_merchantuuid" ng-required="modelFormCtrl.getVisibility([\'merchantwarrior\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_API_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlMerchantWarriorApiKey" ng-model="modelFormCtrl.modelCopy.attributes.x_merchantwarrior_apikey" ng-model-master="modelFormCtrl.model.attributes.x_merchantwarrior_apikey" ng-required="modelFormCtrl.getVisibility([\'merchantwarrior\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_API_PASSPHRASE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlMerchantWarriorApiPassphrase" ng-model="modelFormCtrl.modelCopy.attributes.x_merchantwarrior_apipassphrase" ng-model-master="modelFormCtrl.model.attributes.x_merchantwarrior_apipassphrase" ng-required="modelFormCtrl.getVisibility([\'merchantwarrior\'])"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="guestControlMerchantWarriorSandbox" id="guestControlMerchantWarriorSandbox" ng-model="modelFormCtrl.modelCopy.attributes.merchantwarrior_use_sandbox" ng-model-master="modelFormCtrl.model.attributes.merchantwarrior_use_sandbox"><label for="guestControlMerchantWarriorSandbox" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_USE_TEST_ACCOUNT"></label><a href="https://www.merchantwarrior.com/join" target="_blank" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_APPLY_TEST_ACCOUNT"></a></div></div></div></div>\x3c!-- IpPay--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.setVisibility(\'ippay\', modelFormCtrl.modelCopy.attributes.gateway === \'ippay\' &amp;&amp; modelFormCtrl.getVisibility([\'portal-enabled\', \'hotspot\', \'payment-gateway\']))"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_GATEWAY_IP_PAY"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GATEWAY_TERMINAL_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlIpPayTerminalId" ng-model="modelFormCtrl.modelCopy.attributes.x_ippay_terminalid" ng-model-master="modelFormCtrl.model.attributes.x_ippay_terminalid" ng-required="modelFormCtrl.getVisibility([\'ippay\'])"></div></div><div class="appRow"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="guestControlIpPaySandbox" id="guestControlIpPaySandbox" ng-model="modelFormCtrl.modelCopy.attributes.ippay_use_sandbox" ng-model-master="modelFormCtrl.model.attributes.ippay_use_sandbox"><label for="guestControlIpPaySandbox" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_USE_TEST_ACCOUNT"></label><a href="http://www.converge-tech.com/IPPay-s/1821.htm" target="_blank" translate="SETTINGS_GUEST_CONTROL_VALUES_GATEWAY_APPLY_TEST_ACCOUNT"></a></div></div></div></div>\x3c!-- RADIUS--\x3e<div class="unifiSettingsSection" ng-if="modelFormCtrl.getVisibility([\'hotspot\', \'new-angular-engine\']) &amp;&amp; modelFormCtrl.setVisibility(\'radius-enabled\', modelFormCtrl.modelCopy.attributes.radius_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_RADIUS"></span></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_PROFILE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><unifi-radius-selector unifi-radius-selector-radius-profile-id="modelFormCtrl.modelCopy.attributes.radiusprofile_id" unifi-radius-selector-is-required="modelFormCtrl.modelCopy.attributes.radius_enabled"></unifi-radius-selector></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_AUTHENTICATION_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><select name="radiusAuthenticationType" ng-model="modelFormCtrl.modelCopy.attributes.radius_auth_type" ng-model-master="modelFormCtrl.model.attributes.radius_auth_type" ng-options="authType.id as authType.label for authType in guestControlSettingsCtrl.radiusAuthenticationTypeOptions"></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_DISCONNECT"></label></div><div class="col--sm9"><div class="appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--smash"><input type="checkbox" name="guestControlRadiusDisconnectEnable" id="guestControlRadiusDisconnectEnable" ng-model="modelFormCtrl.modelCopy.attributes.radius_disconnect_enabled" ng-model-master="modelFormCtrl.model.attributes.radius_disconnect_enabled"><label for="guestControlRadiusDisconnectEnable" translate="SETTINGS_GUEST_CONTROL_VALUES_RADIUS_DISCONNECT_ENABLE"></label></div></div><div class="appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--smash"><label for="guestControlRadiusDisconnectPort" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_DISCONNECT_PORT" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.radius_disconnect_enabled}"></label><input type="text" name="guestControlRadiusDisconnectPort" id="guestControlRadiusDisconnectPort" size="5" ng-model="modelFormCtrl.modelCopy.attributes.radius_disconnect_port" ng-model-master="modelFormCtrl.model.attributes.radius_disconnect_port" ng-disabled="!modelFormCtrl.modelCopy.attributes.radius_disconnect_enabled" ng-required="modelFormCtrl.modelCopy.attributes.radius_disconnect_enabled" ng-pattern="guestControlSettingsCtrl.patterns.portNumber" placeholder="3799"'+n("unifi-use-placeholder",!0,!0,!0)+'></div></div><div class="appFormGroup appFormGroup--smash"><div class="appInputGroup appInputGroup--smash"><h5 class="noMarginBottom"><span class="appBadge" ng-class="{                        \'appBadge--medium\': !guestControlSettingsCtrl.isRadiusDisconnectReceiverEnabled(),                        \'appBadge--success\': guestControlSettingsCtrl.isRadiusDisconnectReceiverEnabled() &amp;&amp; guestControlSettingsCtrl.isRadiusDisconnectReceiverRunning(),                        \'appBadge--danger\': guestControlSettingsCtrl.isRadiusDisconnectReceiverEnabled() &amp;&amp; !guestControlSettingsCtrl.isRadiusDisconnectReceiverRunning()                      }"><span ng-if="!guestControlSettingsCtrl.isRadiusDisconnectReceiverEnabled()" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_DISCONNECT_STATUS_DISABLED"></span><span ng-if="guestControlSettingsCtrl.isRadiusDisconnectReceiverEnabled() &amp;&amp; !guestControlSettingsCtrl.isRadiusDisconnectReceiverRunning()" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_DISCONNECT_STATUS_NOT_RUNNING"></span><span ng-if="guestControlSettingsCtrl.isRadiusDisconnectReceiverEnabled() &amp;&amp; guestControlSettingsCtrl.isRadiusDisconnectReceiverRunning()" translate="SETTINGS_GUEST_CONTROL_LABEL_RADIUS_DISCONNECT_STATUS_RUNNING"></span></span></h5></div></div></div></div></div>\x3c!-- Facebook--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility([\'hotspot\', \'new-angular-engine\']) &amp;&amp; modelFormCtrl.setVisibility(\'facebook-enabled\', modelFormCtrl.modelCopy.attributes.facebook_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_FACEBOOK"></span></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_FACEBOOK_APP_ID"></label><unifi-tooltip class="ml-1" unifi-tooltip-clickable="true"><content translate="DEVICE_PROPERTIES_TOOLTIP_LOAD_AVERAGE" translate-values="{helpLink: \'https://developers.facebook.com/docs/apps/register\'}"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlFacebookAppId" ng-model="modelFormCtrl.modelCopy.attributes.facebook_app_id" ng-model-master="modelFormCtrl.model.attributes.facebook_app_id" ng-required="modelFormCtrl.getVisibility([\'facebook-enabled\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_FACEBOOK_APP_SECRET"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlFacebookAppSecret" ng-model="modelFormCtrl.modelCopy.attributes.x_facebook_app_secret" ng-model-master="modelFormCtrl.model.attributes.x_facebook_app_secret" ng-required="modelFormCtrl.getVisibility([\'facebook-enabled\'])"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_OAUTH_SCOPE"></label><unifi-tooltip><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_OAUTH_SCOPE"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlFacebookScopeEmail" id="guestControlFacebookScopeEmail" ng-model="modelFormCtrl.modelCopy.attributes.facebook_scope_email" ng-model-master="modelFormCtrl.model.attributes.facebook_scope_email"><label for="guestControlFacebookScopeEmail" translate="SETTINGS_GUEST_CONTROL_VALUES_OAUTH_SCOPE_EMAIL"></label></div></div></div></div>\x3c!-- Google--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility([\'hotspot\', \'new-angular-engine\']) &amp;&amp; modelFormCtrl.setVisibility(\'google-enabled\', modelFormCtrl.modelCopy.attributes.google_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_GOOGLE"></span></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GOOGLE_CLIENT_ID"></label><unifi-tooltip class="ml-1" unifi-tooltip-clickable="true"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_GOOGLE_APP" translate-values="{helpLink: \'https://developers.google.com/identity/protocols/OAuth2\'}"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlGoogleClientId" ng-model="modelFormCtrl.modelCopy.attributes.google_client_id" ng-model-master="modelFormCtrl.model.attributes.google_client_id" ng-required="modelFormCtrl.getVisibility([\'google-enabled\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GOOGLE_CLIENT_SECRET"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlGoogleClientSecret" ng-model="modelFormCtrl.modelCopy.attributes.x_google_client_secret" ng-model-master="modelFormCtrl.model.attributes.x_google_client_secret" ng-required="modelFormCtrl.getVisibility([\'google-enabled\'])"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_OAUTH_SCOPE"></label><unifi-tooltip><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_OAUTH_SCOPE"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="guestControlGoogleScopeEmail" id="guestControlGoogleScopeEmail" ng-model="modelFormCtrl.modelCopy.attributes.google_scope_email" ng-model-master="modelFormCtrl.model.attributes.google_scope_email"><label for="guestControlGoogleScopeEmail" translate="SETTINGS_GUEST_CONTROL_VALUES_OAUTH_SCOPE_EMAIL"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_GOOGLE_DOMAIN"></label><unifi-tooltip><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_GOOGLE_DOMAIN"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlGoogleDomain" ng-model="modelFormCtrl.modelCopy.attributes.google_domain" ng-model-master="modelFormCtrl.model.attributes.google_domain" ng-pattern="guestControlSettingsCtrl.patterns.hostname"></div></div></div>\x3c!-- Facebook WiFi--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility(\'portal-enabled\') &amp;&amp; modelFormCtrl.setVisibility(\'facebook-wifi\', modelFormCtrl.modelCopy.attributes.auth === \'facebook_wifi\')" ng-switch="guestControlSettingsCtrl.isFacebookWifiRegistered()"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_FACEBOOK_WIFI"></span></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_FACEBOOK_WIFI_GATEWAY_NAME"></label></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="text" name="guestControlFacebookWifiGatewayName" id="guestControlFacebookWifiGatewayName" ng-model="modelFormCtrl.modelCopy.attributes.facebook_wifi_gw_name" ng-model-master="modelFormCtrl.model.attributes.facebook_wifi_gw_name" ng-required="modelFormCtrl.getVisibility(\'portal-enabled\', \'facebook-wifi\')"></div><div class="appInputGroup" ng-switch-when="true" ng-show="modelFormCtrl.modelCopy.attributes.facebook_wifi_gw_name !== modelFormCtrl.model.attributes.facebook_wifi_gw_name"><div class="appInfoBox appInfoBox--cozy appInfoBox--dark appInfoBox--danger verticalRhythmTop--cozy"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_GUEST_CONTROL_INFO_BOX_FACEBOOK_WIFI_REREGISTER"></p></div></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_FACEBOOK_WIFI_BLOCK_HTTPS"></label></div><div class="col--sm6 appFormGroup appFormGroup--condensed"><div class="appInputGroup appInputGroup--comfy"><input type="checkbox" name="guestControlFacebookWifiBlockHttps" id="guestControlFacebookWifiBlockHttps" ng-model="modelFormCtrl.modelCopy.attributes.facebook_wifi_block_https" ng-model-master="modelFormCtrl.model.attributes.facebook_wifi_block_https"><label for="guestControlFacebookWifiBlockHttps" translate="SETTINGS_GUEST_CONTROL_VALUES_FACEBOOK_WIFI_BLOCK_HTTPS"></label></div><div class="appInfoBox appInfoBox--cozy appInfoBox--warning" ng-if="modelFormCtrl.modelCopy.attributes.facebook_wifi_block_https" ng-class="{\'appInfoBox--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_GUEST_CONTROL_INFO_BOX_FACEBOOK_WIFI_HTTPS_BLOCKING"></p></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_FACEBOOK_WIFI_GATEWAY_CONFIGURATION"></label><unifi-tooltip class="ml-1" unifi-tooltip-clickable="true"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_FACEBOOK_WIFI" translate-values="{helpLink: \'https://www.facebook.com/help/facebookwifi\'}"></content></unifi-tooltip></div><div class="col--sm6"><div class="appInfoBox appInfoBox--cozy" ng-switch-when="false" ng-class="{\'appInfoBox--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_GUEST_CONTROL_INFO_BOX_FACEBOOK_WIFI_CONFIGURATION"></p></div></div></div><div class="appFormGroup appFormGroup--cozy" ng-switch-when="true"><div class="appInputGroup appInputGroup--comfy"><a class="appMainButton appMainButton--tertiary appMainButton--cozy" ng-href="{{guestControlSettingsCtrl.URLS.FACEBOOK_WIFI_CONFIG_PREFIX + modelFormCtrl.model.attributes.facebook_wifi_gw_id}}" ng-if="modelFormCtrl.modelCopy.attributes.facebook_wifi_gw_name === modelFormCtrl.model.attributes.facebook_wifi_gw_name" target="_blank"><span class="button__icon icon ubnt-icon--popout"></span><span translate="SETTINGS_GUEST_CONTROL_VALUES_GO_TO_FACEBOOK_WIFI_CONFIG"></span></a><button class="appMainButton appMainButton--tertiary appMainButton--cozy" ng-if="modelFormCtrl.modelCopy.attributes.facebook_wifi_gw_name !== modelFormCtrl.model.attributes.facebook_wifi_gw_name" disabled="true"><span class="button__icon icon ubnt-icon--popout"></span><span translate="SETTINGS_GUEST_CONTROL_VALUES_GO_TO_FACEBOOK_WIFI_CONFIG"></span></button></div></div></div></div></div>\x3c!-- We-Chat--\x3e<div class="unifiSettingsSection" ng-show="modelFormCtrl.getVisibility([\'hotspot\', \'new-angular-engine\']) &amp;&amp; modelFormCtrl.setVisibility(\'wechat-enabled\', modelFormCtrl.modelCopy.attributes.wechat_enabled)"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"><span translate="SETTINGS_GUEST_CONTROL_SECTION_WECHAT"></span></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_WECHAT_APP_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlWechatAppId" ng-model="modelFormCtrl.modelCopy.attributes.wechat_app_id" ng-model-master="modelFormCtrl.model.attributes.wechat_app_id" ng-required="modelFormCtrl.getVisibility([\'wechat-enabled\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_WECHAT_APP_SECRET"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlWechatAppSecret" ng-model="modelFormCtrl.modelCopy.attributes.x_wechat_app_secret" ng-model-master="modelFormCtrl.model.attributes.x_wechat_app_secret" ng-required="modelFormCtrl.getVisibility([\'wechat-enabled\'])"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_WECHAT_SHOP_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="guestControlWechatShopId" ng-model="modelFormCtrl.modelCopy.attributes.wechat_shop_id" ng-model-master="modelFormCtrl.model.attributes.wechat_shop_id" ng-required="modelFormCtrl.getVisibility([\'wechat-enabled\'])"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_GUEST_CONTROL_LABEL_WECHAT_SECRET_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="guestControlWechatSecretKey" ng-model="modelFormCtrl.modelCopy.attributes.x_wechat_secret_key" ng-model-master="modelFormCtrl.model.attributes.x_wechat_secret_key" ng-required="modelFormCtrl.getVisibility([\'wechat-enabled\'])"></unifi-password-reveal></div></div></div>\x3c!-- Access Control--\x3e<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_GUEST_CONTROL_SECTION_ACCESS_CONTROL"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_PRE_AUTHORIZATION_ACCESS"></label><unifi-tooltip class="ml-1" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_PRE_AUTHORIZATION"></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"'+n("unifi-repeatable-form",!0,!0,!0)+' unifi-repeatable-form-min="guestControlSettingsCtrl.allowedSubnetMin" unifi-repeatable-form-max="guestControlSettingsCtrl.allowedSubnetMax" unifi-repeatable-form-model="modelFormCtrl.modelCopy" unifi-repeatable-form-attrs="[\'allowed_subnet_{key}\']" unifi-repeatable-form-is-read-only="!guestControlSettingsCtrl.isAdmin()"><div class="allowedSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableFormCtrl.getOptions() track by $index"><input type="text" name="guestControlAllowedSubnet{{$index}}" id="guestControlAllowedSubnet{{$index}}" ng-model="repeatableFormCtrl.model.attributes[\'allowed_subnet_\' + ($index + 1)]" ng-pattern="guestControlSettingsCtrl.patterns.hostnameOrSubnet"'+n("required",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeAllowedSubnet" type="button" ng-show="!repeatableFormCtrl.isReadOnly" ng-click="repeatableFormCtrl.removeItem($index + 1)" ng-disabled="!repeatableFormCtrl.isRemoveAllowed()" title="{{\'SETTINGS_COMMON_LABEL_REMOVE_SUBNET_IPV4\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-if="!repeatableFormCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addAllowedSubnet" type="button" ng-click="repeatableFormCtrl.addItem()" ng-disabled="!repeatableFormCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_COMMON_LABEL_ADD_HOSTNAME_OR_SUBNET_IPV4"></span></button></div></div><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy" unifi-feature-flag-enable="enableIpv6GuestControl"'+n("unifi-repeatable-form",!0,!0,!0)+' unifi-repeatable-form-min="guestControlSettingsCtrl.allowedSubnetMin" unifi-repeatable-form-max="guestControlSettingsCtrl.allowedSubnetMax" unifi-repeatable-form-model="modelFormCtrl.modelCopy" unifi-repeatable-form-attrs="[\'allowed_subnetv6_{key}\']" unifi-repeatable-form-is-read-only="!guestControlSettingsCtrl.isAdmin()"><div class="allowedSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableFormCtrl.getOptions() track by $index"><input type="text" name="guestControlAllowedSubnetV6{{$index}}" id="guestControlAllowedSubnetV6{{$index}}" ng-model="repeatableFormCtrl.model.attributes[\'allowed_subnetv6_\' + ($index + 1)]" ng-pattern="guestControlSettingsCtrl.patterns.ipv6HostnameOrSubnet"'+n("required",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeAllowedSubnet" type="button" ng-show="!repeatableFormCtrl.isReadOnly" ng-click="repeatableFormCtrl.removeItem($index + 1)" ng-disabled="!repeatableFormCtrl.isRemoveAllowed()" title="{{\'SETTINGS_COMMON_LABEL_REMOVE_SUBNET_IPV6\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-if="!repeatableFormCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addAllowedSubnet" type="button" ng-click="repeatableFormCtrl.addItem()" ng-disabled="!repeatableFormCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_COMMON_LABEL_ADD_HOSTNAME_OR_SUBNET_IPV6"></span></button></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_LABEL_POST_AUTHORIZATION_RESTRICTIONS"></label><unifi-tooltip class="ml-1" ng-if="modelFormCtrl.modelCopy.attributes.template_engine === \'angular\'"><content translate="SETTINGS_GUEST_CONTROL_TOOLTIP_POST_AUTHORIZATION"></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"'+n("unifi-repeatable-form",!0,!0,!0)+' unifi-repeatable-form-min="guestControlSettingsCtrl.restrictedSubnetMin" unifi-repeatable-form-max="guestControlSettingsCtrl.restrictedSubnetMax" unifi-repeatable-form-model="modelFormCtrl.modelCopy" unifi-repeatable-form-attrs="[\'restricted_subnet_{key}\']" unifi-repeatable-form-is-read-only="!guestControlSettingsCtrl.isAdmin()"><div class="restrictedSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableFormCtrl.getOptions() track by $index"><input type="text" name="guestControlRestrictedSubnet{{$index}}" id="guestControlRestrictedSubnet{{$index}}" ng-model="repeatableFormCtrl.model.attributes[\'restricted_subnet_\' + ($index + 1)]" ng-pattern="guestControlSettingsCtrl.patterns.hostnameOrSubnet"'+n("required",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRestrictedSubnet" type="button" ng-show="!repeatableFormCtrl.isReadOnly" ng-click="repeatableFormCtrl.removeItem($index + 1)" ng-disabled="!repeatableFormCtrl.isRemoveAllowed()" title="{{\'SETTINGS_COMMON_LABEL_REMOVE_SUBNET_IPV4\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-if="!repeatableFormCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRestrictedSubnet" type="button" ng-click="repeatableFormCtrl.addItem()" ng-disabled="!repeatableFormCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_COMMON_LABEL_ADD_HOSTNAME_OR_SUBNET_IPV4"></span></button></div></div><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy" unifi-feature-flag-enable="enableIpv6GuestControl"'+n("unifi-repeatable-form",!0,!0,!0)+' unifi-repeatable-form-min="guestControlSettingsCtrl.restrictedSubnetMin" unifi-repeatable-form-max="guestControlSettingsCtrl.restrictedSubnetMax" unifi-repeatable-form-model="modelFormCtrl.modelCopy" unifi-repeatable-form-attrs="[\'restricted_subnetv6_{key}\']" unifi-repeatable-form-is-read-only="!guestControlSettingsCtrl.isAdmin()"><div class="restrictedSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableFormCtrl.getOptions() track by $index"><input type="text" name="guestControlRestrictedV6Subnet{{$index}}" id="guestControlRestrictedV6Subnet{{$index}}" ng-model="repeatableFormCtrl.model.attributes[\'restricted_subnetv6_\' + ($index + 1)]" ng-pattern="guestControlSettingsCtrl.patterns.ipv6HostnameOrSubnet"'+n("required",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRestrictedSubnet" type="button" ng-show="!repeatableFormCtrl.isReadOnly" ng-click="repeatableFormCtrl.removeItem($index + 1)" ng-disabled="!repeatableFormCtrl.isRemoveAllowed()" title="{{\'SETTINGS_COMMON_LABEL_REMOVE_SUBNET_IPV6\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-if="!repeatableFormCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRestrictedSubnet" type="button" ng-click="repeatableFormCtrl.addItem()" ng-disabled="!repeatableFormCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_COMMON_LABEL_ADD_HOSTNAME_OR_SUBNET_IPV6"></span></button></div></div></div></div></ng-form></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="guestControlSettingsCtrl.showValidation = true" busy-toggle="guestControlSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="guestControlSettingsCtrl.reset()" ng-disabled="guestControlSettingsCtrl.form.$pristine" ng-class="guestControlSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?             \'appMainButton--transparentDark\' :             \'appMainButton--transparent\'          ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],75:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s){this.collection=r.repository.collection,s(this),n.call(this,e,t,i,o,a)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","ENV","hotspot2","preferences","missingModelControllerMixin"],angular.module("app-unifi-manage-settings").controller("Hotspot2Controller",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],76:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiHotspot2",{controller:"Hotspot2Controller",controllerAs:"hotspot2Ctrl",template:e("./hotspot2.pug")()})},{"./hotspot2.pug":77}],77:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="hotspot2Settings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><div ng-if="hotspot2Ctrl.view === \'form\'" unifi-hotspot2-form="hotspot2Ctrl.model" unifi-hotspot2-form-attrs="hotspot2Ctrl.sharedAttrs" unifi-hotspot2-form-on-save="hotspot2Ctrl.list()" unifi-hotspot2-form-on-cancel="hotspot2Ctrl.list()" unifi-hotspot2-form-is-read-only="!hotspot2Ctrl.isAdmin()"></div><div ng-if="hotspot2Ctrl.view === \'list\'"><unifi-hotspot2-list unifi-hotspot2-list-on-edit="hotspot2Ctrl.edit(model)"></unifi-hotspot2-list><div class="unifiSettingsFooter"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton" ng-click="hotspot2Ctrl.add()" ng-class="hotspot2Ctrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--inputDark\' :           \'appMainButton--input\'        "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_BUTTON_ADD"></span></button><label class="appType--micro appType--quiet italicized" translate="SETTINGS_HOTSPOT2_SQUARE_NOT_SUPPORTED_NOTE"></label></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],78:[function(e,t,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(e,t,i,o,r,a){this.$translate=e,this.heyToasts=i,this.apiResults=t,this.preferences=a,this.hotspot2=o,this.isInterworkingExpanded=!0,n.call(this,r)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){this.isSubmitting=!0;var e=angular.extend({},this.modelCopy.attributes);return this.model.save(e,{wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("SETTINGS_NAV_HOTSPOT2").toLowerCase()})),this.hotspot2.repository.collection.add(this.model,{merge:!0}),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("SETTINGS_NAV_HOTSPOT2").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.$inject=["$translate","apiResults","heyToasts","hotspot2","modelDivergence","preferences"],angular.module("app-unifi-manage-settings").controller("Hotspot2FormController",o)},{}],79:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2Form",["SimpleFormDirective",function(t){return new t("hotspot2",e("./hotspot2Form.pug")())}])},{"./hotspot2Form.pug":80}],80:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" ng-class="{    \'appForm--dark\': hotspot2FormCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded  }" ng-submit="hotspot2FormCtrl.form.$valid &amp;&amp; hotspot2FormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="hotspot2FormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="hotspot2FormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="hotspot2FormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="hotspot2FormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><ng-form name="hotspot2FormCtrl.form" ng-class="{          \'is-form-validation-visible\': hotspot2FormCtrl.showValidation,          \'is-validation-hidden\': !hotspot2FormCtrl.showValidation        }"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{hotspot2Name: hotspot2FormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_HOTSPOT2_SECTION_VIEW\' : (hotspot2FormCtrl.model.id ? \'SETTINGS_HOTSPOT2_SECTION_EDIT\' : \'SETTINGS_HOTSPOT2_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_NAME"></label></div><div class="col--sm3 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="hotspot2Name" ng-model="hotspot2FormCtrl.modelCopy.attributes.name" ng-model-master="hotspot2FormCtrl.model.attributes.name"'+n("required",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="hotspot2FormCtrl.form.hotspot2Name.$error.required" translate="VALIDATION_HINT_REQUIRED"></div></div></div></div><unifi-hotspot2-section-interworking unifi-hotspot2-section-interworking-form="hotspot2FormCtrl.form" unifi-hotspot2-section-interworking-network-type="hotspot2FormCtrl.modelCopy.attributes.network_type" unifi-hotspot2-section-interworking-network-access-internet="hotspot2FormCtrl.modelCopy.attributes.network_access_internet" unifi-hotspot2-section-interworking-network-access-asra="hotspot2FormCtrl.modelCopy.attributes.network_access_asra" unifi-hotspot2-section-interworking-network-access-esr="hotspot2FormCtrl.modelCopy.attributes.network_access_esr" unifi-hotspot2-section-interworking-network-access-uesa="hotspot2FormCtrl.modelCopy.attributes.network_access_uesa" unifi-hotspot2-section-interworking-hessid="hotspot2FormCtrl.modelCopy.attributes.hessid" unifi-hotspot2-section-interworking-venue-group="hotspot2FormCtrl.modelCopy.attributes.venue_group" unifi-hotspot2-section-interworking-venue-type="hotspot2FormCtrl.modelCopy.attributes.venue_type" unifi-hotspot2-section-interworking-is-dark="hotspot2FormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-hotspot2-section-interworking-is-expanded="hotspot2FormCtrl.isInterworkingExpanded"></unifi-hotspot2-section-interworking></ng-form><unifi-hotspot2-section-interworking-venue-name unifi-hotspot2-section-interworking-venue-name-list="hotspot2FormCtrl.modelCopy.attributes.venue_name" unifi-hotspot2-section-interworking-venue-name-is-dark="hotspot2FormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-hotspot2-section-interworking-venue-name-is-expanded="hotspot2FormCtrl.isInterworkingExpanded"></unifi-hotspot2-section-interworking-venue-name><unifi-hotspot2-section-nai-realm unifi-hotspot2-section-nai-realm-list="hotspot2FormCtrl.modelCopy.attributes.nai_realm_list" unifi-hotspot2-section-nai-realm-is-dark="hotspot2FormCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-hotspot2-section-nai-realm><unifi-hotspot2-section-domain-name unifi-hotspot2-section-domain-name-list="hotspot2FormCtrl.modelCopy.attributes.domain_name_list" unifi-hotspot2-section-domain-name-is-dark="hotspot2FormCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-hotspot2-section-domain-name><unifi-hotspot2-section-roaming-consortium unifi-hotspot2-section-roaming-consortium-list="hotspot2FormCtrl.modelCopy.attributes.roaming_consortium_list" unifi-hotspot2-section-roaming-consortium-is-dark="hotspot2FormCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-hotspot2-section-roaming-consortium><unifi-hotspot2-section-cellular-network unifi-hotspot2-section-cellular-network-list="hotspot2FormCtrl.modelCopy.attributes.cellular_network_list" unifi-hotspot2-section-cellular-network-is-dark="hotspot2FormCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-hotspot2-section-cellular-network></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{        \'appFormFooter--dark\': hotspot2FormCtrl.preferences.model.get(\'isSettingsDark\')      }"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveHotspot2" ng-if="!isReadOnly" ng-click="hotspot2FormCtrl.showValidation = true" busy-toggle="hotspot2FormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="hotspot2FormCtrl.preferences.model.get(\'isSettingsDark\') ?             \'appMainButton--transparentDark\' :             \'appMainButton--transparent\'          ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":2}],81:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("Hotspot2ListController",["$translate","BaseListController","frame","heyToasts","hotspot2","preferences",function(e,t,i,o,r,a){return new(function(s){function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.preferences=a,e.defaultSortBy="name",e.isRemoving={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,t),n(l,[{key:"getCollection",value:function(){return r.repository.collection}},{key:"edit",value:function(e){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:e})}},{key:"remove",value:function(t){var n=this;return i.show("confirm",{title:function(){return e.instant("SETTINGS_HOTSPOT2_DELETE_CONFIRM_TITLE",{hotspot2Name:t.get("name")})},message:function(){return e.instant("SETTINGS_HOTSPOT2_DELETE_CONFIRM_MESSAGE",{hotspot2Name:t.get("name")})},options:angular.noop}).then(function(){return n.isRemoving[t.id]=!0,t.destroy({wait:!0}).then(function(){return o.pushSuccess(e.instant("SETTINGS_HOTSPOT2_DELETE_SUCCESS",{hotspot2Name:t.get("name")})),!0}).catch(function(){return o.pushError(e.instant("SETTINGS_HOTSPOT2_DELETE_ERROR",{hotspot2Name:t.get("name")})),!1}).finally(function(){n.isRemoving[t.id]=!1})})}}]),l}())}])},{}],82:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2List",["ListDirective",function(t){return new t("hotspot2",e("./hotspot2List.pug")(),{onEdit:"&unifiHotspot2ListOnEdit"})}])},{"./hotspot2List.pug":83}],83:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div><table class="verticalRhythmTop--condensed appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="hotspot2Table" collection-view-sort="hotspot2ListCtrl.view" ng-class="{      \'appTable--dark\': hotspot2ListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="hotspot2Name" collection-view-sort-by="name"><span translate="SETTINGS_HOTSPOT2_TABLE_HEADER_NAME"></span></th><th class="hotspot2Actions"><span translate="SETTINGS_HOTSPOT2_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in hotspot2ListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="hotspot2Name">{{::model.get(\'name\')}}</td><td class="hotspot2Actions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="hotspot2ListCtrl.edit(model)" ng-disabled="hotspot2ListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="hotspot2ListCtrl.edit(model)" ng-disabled="hotspot2ListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="hotspot2ListCtrl.remove(model)" ng-disabled="hotspot2ListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!hotspot2ListCtrl.view.getModels().length" ng-class="{      \'appInfoBox--dark\': hotspot2ListCtrl.preferences.model.get(\'isSettingsDark\')    }"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_TABLE_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],84:[function(e,t,i){"use strict";function n(e){this.entry={},this.maxListSize=10,this.patterns={mcc:/^\d{3}$/,mnc:/^\d{3}$/},e(function(){this.isExpanded=!!this.list&&this.list.length}.bind(this),0)}n.prototype.addListEntry=function(){this.list=this.list||[],this.form.$valid&&this.list.length<this.maxListSize?(this.showValidation=!1,this.list.push(this.entry),this.entry={},this.form.$setPristine()):this.showValidation=!0},n.prototype.removeListEntry=function(e){this.list&&this.list.splice(e,1)},n.$inject=["$timeout"],angular.module("app-unifi-manage-settings").controller("Hotspot2SectionCellularNetworkController",n)},{}],85:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionCellularNetwork",[function(){return{scope:{list:"=unifiHotspot2SectionCellularNetworkList",isDark:"=unifiHotspot2SectionCellularNetworkIsDark"},controller:"Hotspot2SectionCellularNetworkController",controllerAs:"hotspot2SectionCellularNetworkCtrl",bindToController:!0,template:e("./hotspot2SectionCellularNetwork.pug")()}}])},{"./hotspot2SectionCellularNetwork.pug":86}],86:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionCellularNetworkCtrl.isExpanded = !hotspot2SectionCellularNetworkCtrl.isExpanded" ng-class="hotspot2SectionCellularNetworkCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_3GPP_CELLULAR_NETWORK_LIST"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionCellularNetworkCtrl.isExpanded"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" ng-class="{            \'appTable--dark\': hotspot2SectionCellularNetworkCtrl.isDark          }" unifi-condensed="appTable--condensed"><thead><th class="3gppName"><span translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_NAME"></span></th><th class="3gppMcc"><span translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_MCC"></span></th><th class="3gppMnc"><span translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_MNC"></span></th><th class="3gppActions"'+n("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="cellularNetwork in hotspot2SectionCellularNetworkCtrl.list"><td class="3gppName">{{::cellularNetwork.name}}</td><td class="3gppMcc">{{::cellularNetwork.mcc}}</td><td class="3gppMnc">{{::cellularNetwork.mnc}}</td><td class="3gppActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="hotspot2SectionCellularNetworkCtrl.removeListEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder appInfoBox--dark verticalRhythm" ng-if="!hotspot2SectionCellularNetworkCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_3GPP_TABLE_EMPTY"></p></div></div></div><ng-form'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{            \'is-form-validation-visible\': hotspot2SectionCellularNetworkCtrl.showValidation,            \'is-validation-hidden\': !hotspot2SectionCellularNetworkCtrl.showValidation          }" name="hotspot2SectionCellularNetworkCtrl.form"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_NAME"></label><input type="text" name="cellularName" ng-model="hotspot2SectionCellularNetworkCtrl.entry.name"'+n("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_MCC"></label><input type="text" name="cellularMcc" placeholder="001" ng-model="hotspot2SectionCellularNetworkCtrl.entry.mcc" ng-pattern="hotspot2SectionCellularNetworkCtrl.patterns.mcc"'+n("unifi-use-placeholder",!0,!0,!0)+n("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_3GPP_TABLE_HEADER_MNC"></label><input type="text" name="cellularMnc" placeholder="001" ng-model="hotspot2SectionCellularNetworkCtrl.entry.mnc" ng-pattern="hotspot2SectionCellularNetworkCtrl.patterns.mcc"'+n("unifi-use-placeholder",!0,!0,!0)+n("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionCellularNetworkCtrl.addListEntry()" ng-disabled="hotspot2SectionCellularNetworkCtrl.form.$pristine"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_3GPP_ACTIONS_ADD"></span></button></div></div></ng-form></div></div></fieldset></div>'};var o=/["&<>]/},{"pug-runtime":2}],87:[function(e,t,i){"use strict";function n(e){this.$timeout=e}n.prototype.$onInit=function(){this.maxListSize=10,this.$timeout(function(){this.isExpanded=!!this.list&&this.list.length}.bind(this),0)},n.prototype.addListEntry=function(){this.list=this.list||[],this.form.$valid&&this.list.length<this.maxListSize?(this.showValidation=!1,this.list.push(this.entry),this.entry="",this.form.$setPristine()):this.showValidation=!0},n.prototype.removeListEntry=function(e){this.list&&this.list.splice(e,1)},n.$inject=["$timeout"],angular.module("app-unifi-manage-settings").controller("Hotspot2SectionDomainNameController",n)},{}],88:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionDomainName",[function(){return{scope:{list:"=unifiHotspot2SectionDomainNameList",isDark:"=unifiHotspot2SectionDomainNameIsDark"},controller:"Hotspot2SectionDomainNameController",controllerAs:"hotspot2SectionDomainNameCtrl",bindToController:!0,template:e("./hotspot2SectionDomainName.pug")()}}])},{"./hotspot2SectionDomainName.pug":89}],89:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionDomainNameCtrl.isExpanded = !hotspot2SectionDomainNameCtrl.isExpanded" ng-class="hotspot2SectionDomainNameCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_DOMAIN_NAME_LIST"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionDomainNameCtrl.isExpanded"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" ng-class="{            \'appTable--dark\': hotspot2SectionDomainNameCtrl.isDark          }" unifi-condensed="appTable--condensed"><thead><th class="domainNameListName"><span translate="SETTINGS_HOTSPOT2_DOMAIN_NAME_TABLE_HEADER_NAME"></span></th><th class="domainNameListActions"'+n("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_DOMAIN_NAME_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="domain in hotspot2SectionDomainNameCtrl.list"><td class="domainNamelistName">{{::domain}}</td><td class="domainNameListActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="hotspot2SectionDomainNameCtrl.removeListEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder appInfoBox--dark verticalRhythm" ng-if="!hotspot2SectionDomainNameCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_DOMAIN_NAME_TABLE_EMPTY"></p></div></div></div><ng-form'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{            \'is-form-validation-visible\': hotspot2SectionDomainNameCtrl.showValidation,            \'is-validation-hidden\': !hotspot2SectionDomainNameCtrl.showValidation          }" name="hotspot2SectionDomainNameCtrl.form"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_DOMAIN_NAME_TABLE_HEADER_NAME"></label><input type="text" name="domainName" ng-model="hotspot2SectionDomainNameCtrl.entry"'+n("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionDomainNameCtrl.addListEntry()" ng-disabled="hotspot2SectionDomainNameCtrl.form.$pristine"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_DOMAIN_NAME_LIST_ACTIONS_ADD"></span></button></div></div></ng-form></div></div></fieldset></div>'};var o=/["&<>]/},{"pug-runtime":2}],90:[function(e,t,i){"use strict";function n(e,t,i,n){this.HOTSPOT2_VENUE_GROUPS=t,this.HOTSPOT2_VENUE_TYPES=i,this.HOTSPOT2_NETWORK_TYPES=e,this.patterns={hessid:n.MAC_ADDRESS}}n.$inject=["HOTSPOT2_NETWORK_TYPES","HOTSPOT2_VENUE_GROUPS","HOTSPOT2_VENUE_TYPES","REGEX_PATTERNS"],angular.module("app-unifi-manage-settings").controller("Hotspot2SectionInterworkingController",n)},{}],91:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionInterworking",[function(){return{scope:{form:"=unifiHotspot2SectionInterworkingForm",networkType:"=unifiHotspot2SectionInterworkingNetworkType",networkAccessInternet:"=unifiHotspot2SectionInterworkingNetworkAccessInternet",networkAccessAsra:"=unifiHotspot2SectionInterworkingNetworkAccessAsra",networkAccessEsr:"=unifiHotspot2SectionInterworkingNetworkAccessEsr",networkAccessUesa:"=unifiHotspot2SectionInterworkingNetworkAccessUesa",hessid:"=unifiHotspot2SectionInterworkingHessid",venueGroup:"=unifiHotspot2SectionInterworkingVenueGroup",venueType:"=unifiHotspot2SectionInterworkingVenueType",isDark:"=unifiHotspot2SectionInterworkingIsDark",isExpanded:"=unifiHotspot2SectionInterworkingIsExpanded"},controller:"Hotspot2SectionInterworkingController",controllerAs:"hotspot2SectionInterworkingCtrl",bindToController:!0,template:e("./hotspot2SectionInterworking.pug")()}}])},{"./hotspot2SectionInterworking.pug":92}],92:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionInterworkingCtrl.isExpanded = !hotspot2SectionInterworkingCtrl.isExpanded" ng-class="hotspot2SectionInterworkingCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_INTERWORKING_INFORMATION"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionInterworkingCtrl.isExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_NETWORK_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select name="networkType" ng-model="hotspot2SectionInterworkingCtrl.networkType" ng-options="key as value | translate for (key, value) in hotspot2SectionInterworkingCtrl.HOTSPOT2_NETWORK_TYPES"></select></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_NETWORK_ACCESS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkAccessInternet" id="networkAccessInternet" ng-model="hotspot2SectionInterworkingCtrl.networkAccessInternet"><label translate="SETTINGS_HOTSPOT2_VALUES_NETWORK_INTERNET" for="networkAccessInternet"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkAccessAsra" id="networkAccessAsra" ng-model="hotspot2SectionInterworkingCtrl.networkAccessAsra"><label translate="SETTINGS_HOTSPOT2_VALUES_NETWORK_ASRA" for="networkAccessAsra"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkAccessEsr" id="networkAccessEsr" ng-model="hotspot2SectionInterworkingCtrl.networkAccessEsr"><label translate="SETTINGS_HOTSPOT2_VALUES_NETWORK_ESR" for="networkAccessEsr"></label></div><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkAccessUesa" id="networkAccessUesa" ng-model="hotspot2SectionInterworkingCtrl.networkAccessUesa"><label translate="SETTINGS_HOTSPOT2_VALUES_NETWORK_UESA" for="networkAccessUesa"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_HESSID"></label></div><div class="col--sm3 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="hessid" ng-model="hotspot2SectionInterworkingCtrl.hessid" ng-pattern="hotspot2SectionInterworkingCtrl.patterns.hessid"><div class="appInputFeedback appInputFeedback--danger" ng-if="hotspot2SectionInterworkingCtrl.form.hessid.$invalid" translate="VALIDATION_HINT_MAC_ADDRESS"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_VENUE_INFO"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_VALUES_VENUE_GROUP"></label><select name="venueGroup" ng-model="hotspot2SectionInterworkingCtrl.venueGroup" ng-options="key as value | translate for (key, value) in hotspot2SectionInterworkingCtrl.HOTSPOT2_VENUE_GROUPS" ng-change="hotspot2SectionInterworkingCtrl.venueType = \'0\'"></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_VALUES_VENUE_TYPE"></label><select name="venueType" ng-model="hotspot2SectionInterworkingCtrl.venueType" ng-options="key as value | translate for (key, value) in hotspot2SectionInterworkingCtrl.HOTSPOT2_VENUE_TYPES[hotspot2SectionInterworkingCtrl.venueGroup || \'0\']"></select></div></div></div></div></fieldset></div>'}},{"pug-runtime":2}],93:[function(e,t,i){"use strict";function n(e){this.entry={},this.languages=e.languagesAlpha3,this.maxListSize=10}n.prototype.addListEntry=function(){this.list=this.list||[],this.form.$valid&&this.list.length<this.maxListSize?(this.showValidation=!1,this.list.push(this.entry),this.entry={},this.form.$setPristine()):this.showValidation=!0},n.prototype.removeListEntry=function(e){this.list&&this.list.splice(e,1)},n.$inject=["LANGUAGES"],angular.module("app-unifi-manage-settings").controller("Hotspot2SectionInterworkingVenueNameController",n)},{}],94:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionInterworkingVenueName",[function(){return{scope:{list:"=unifiHotspot2SectionInterworkingVenueNameList",isDark:"=unifiHotspot2SectionInterworkingVenueNameIsDark",isExpanded:"=unifiHotspot2SectionInterworkingVenueNameIsExpanded"},controller:"Hotspot2SectionInterworkingVenueNameController",controllerAs:"hotspot2SectionInterworkingVenueNameCtrl",bindToController:!0,template:e("./hotspot2SectionInterworkingVenueName.pug")()}}])},{"./hotspot2SectionInterworkingVenueName.pug":95}],95:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionInterworkingVenueNameCtrl.isExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_LABEL_VENUE_NAME"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" ng-class="{          \'appTable--dark\': hotspot2SectionInterworkingVenueNameCtrl.isDark        }" unifi-condensed="appTable--condensed" name="venueNameList"><thead><th class="venueNameLanguage"><span translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_HEADER_LANGUAGE"></span></th><th class="venueName"><span translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_HEADER_NAME"></span></th><th class="venueListActions"'+n("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="venue in hotspot2SectionInterworkingVenueNameCtrl.list"><td class="venueNameLanguage">{{::hotspot2SectionInterworkingVenueNameCtrl.languages[venue.language] | translate}}</td><td class="venueName">{{::venue.name}}</td><td class="venueListActions appTableCell--actions"'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="hotspot2SectionInterworkingVenueNameCtrl.removeListEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder appInfoBox--dark verticalRhythm" ng-if="!hotspot2SectionInterworkingVenueNameCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_EMPTY"></p></div></div></div><ng-form'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{          \'is-form-validation-visible\': hotspot2SectionInterworkingVenueNameCtrl.showValidation,          \'is-validation-hidden\': !hotspot2SectionInterworkingVenueNameCtrl.showValidation        }" name="hotspot2SectionInterworkingVenueNameCtrl.form"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_HEADER_LANGUAGE"></label><select name="venueNameLanguage" ng-model="hotspot2SectionInterworkingVenueNameCtrl.entry.language" ng-options="key as value | translate for (key, value) in hotspot2SectionInterworkingVenueNameCtrl.languages"'+n("required",!0,!0,!0)+"><option"+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_VENUE_NAME_TABLE_HEADER_NAME"></label><input type="text" name="venueName" ng-model="hotspot2SectionInterworkingVenueNameCtrl.entry.name"'+n("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionInterworkingVenueNameCtrl.addListEntry()" ng-disabled="hotspot2SectionInterworkingVenueNameCtrl.form.$pristine"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_VENUE_NAME_ACTIONS_ADD"></span></button></div></div></ng-form></div></div></fieldset>'};var o=/["&<>]/},{"pug-runtime":2}],96:[function(e,t,i){"use strict";function n(e,t,i){this.$timeout=e,this.entry={},this.maxListSize=10,this.HOTSPOT2_EAP_METHODS=i,this.frame=t}n.prototype.$onInit=function(){this.$timeout(function(){this.isExpanded=!!this.list&&this.list.length}.bind(this),0)},n.prototype.editEntry=function(e,t){var i,n=this.list;i=angular.copy(e,i),this.frame.show("hotspot2NaiRealmListEntry",{entry:function(){return i}}).then(function(e){n[t]=e})},n.prototype.addEntry=function(){if(this.list){if(this.list.length>=this.maxListSize)return}else this.list=[];this.frame.show("hotspot2NaiRealmListEntry",{entry:function(){return{}}}).then(function(e){this.list.push(e)}.bind(this))},n.prototype.removeEntry=function(e){this.list&&this.list.splice(e,1)},n.$inject=["$timeout","frame","HOTSPOT2_EAP_METHODS"],angular.module("app-unifi-manage-settings").controller("Hotspot2SectionNaiRealmController",n)},{}],97:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionNaiRealm",[function(){return{scope:{list:"=unifiHotspot2SectionNaiRealmList",isDark:"=unifiHotspot2SectionNaiRealmIsDark"},controller:"Hotspot2SectionNaiRealmController",controllerAs:"hotspot2SectionNaiRealmCtrl",bindToController:!0,template:e("./hotspot2SectionNaiRealm.pug")()}}])},{"./hotspot2SectionNaiRealm.pug":98}],98:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionNaiRealmCtrl.isExpanded = !hotspot2SectionNaiRealmCtrl.isExpanded" ng-class="hotspot2SectionNaiRealmCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_NAI_REALM_LIST"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionNaiRealmCtrl.isExpanded"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" ng-class="{            \'appTable--dark\': hotspot2SectionNaiRealmCtrl.isDark          }" unifi-condensed="appTable--condensed" name="naiRealmList"><thead><th class="realmListName"><span translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_HEADER_NAME"></span></th><th class="realmListEAP"><span translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_HEADER_EAP"></span></th><th class="realmListEAP"><span translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_HEADER_ENABLED"></span></th><th class="realmListActions"'+n("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="realm in hotspot2SectionNaiRealmCtrl.list"><td class="realmListName">{{::realm.name}}</td><td class="realmListEAP">{{ hotspot2SectionNaiRealmCtrl.HOTSPOT2_EAP_METHODS[realm.eap_method] }}</td><td class="realmListEnabled">{{ (realm.status ? "COMMON_VALUE_YES" : "COMMON_VALUE_NO") | translate }}</td><td class="realmListActions appTableCell--actions"'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="hotspot2SectionNaiRealmCtrl.editEntry(realm, $index)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="hotspot2SectionNaiRealmCtrl.removeEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder appInfoBox--dark verticalRhythm" ng-if="!hotspot2SectionNaiRealmCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_EMPTY"></p></div></div></div><div class="appInputGroup appInputGroup--cozy inlineBlock"'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionNaiRealmCtrl.addEntry()" ng-disabled="hotspot2SectionNaiRealmCtrl.list.length &gt;= hotspot2SectionNaiRealmCtrl.maxListSize"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_NAI_REALM_LIST_ACTIONS_ADD"></span></button></div></div></div></fieldset></div>'};var o=/["&<>]/},{"pug-runtime":2}],99:[function(e,t,i){"use strict";function n(e){this.entry={},this.maxListSize=10,e(function(){this.isExpanded=!!this.list&&this.list.length}.bind(this),0)}n.prototype.addListEntry=function(){this.list=this.list||[],this.form.$valid&&this.list.length<this.maxListSize?(this.showValidation=!1,this.list.push(this.entry),this.entry={},this.form.$setPristine()):this.showValidation=!0},n.prototype.removeListEntry=function(e){this.list&&this.list.splice(e,1)},n.$inject=["$timeout"],angular.module("app-unifi-manage-settings").controller("Hotspot2SectionRoamingConsortiumController",n)},{}],100:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspot2SectionRoamingConsortium",[function(){return{scope:{list:"=unifiHotspot2SectionRoamingConsortiumList",isDark:"=unifiHotspot2SectionRoamingConsortiumIsDark"},controller:"Hotspot2SectionRoamingConsortiumController",controllerAs:"hotspot2SectionRoamingConsortiumCtrl",bindToController:!0,template:e("./hotspot2SectionRoamingConsortium.pug")()}}])},{"./hotspot2SectionRoamingConsortium.pug":101}],101:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="hotspot2SectionRoamingConsortiumCtrl.isExpanded = !hotspot2SectionRoamingConsortiumCtrl.isExpanded" ng-class="hotspot2SectionRoamingConsortiumCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_HOTSPOT2_SECTION_ROAMING_CONSORTIUM_LIST"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="hotspot2SectionRoamingConsortiumCtrl.isExpanded"><div class="appRow"><div class="col--sm12 appFormGroup appFormGroup--cozy"><table class="appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" ng-class="{            \'appTable--dark\': hotspot2SectionRoamingConsortiumCtrl.isDark          }" unifi-condensed="appTable--condensed"><thead><th class="roamingConsortiumName"><span translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_TABLE_HEADER_NAME"></span></th><th class="roamingConsortiumOid"><span translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_TABLE_HEADER_OID"></span></th><th class="roamingConsortiumActions"'+n("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="roamingConsortium in hotspot2SectionRoamingConsortiumCtrl.list"><td class="roamingConsortiumName">{{::roamingConsortium.name}}</td><td class="roamingConsortiumOid">{{::roamingConsortium.oid}}</td><td class="roamingConsortiumActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="hotspot2SectionRoamingConsortiumCtrl.removeListEntry($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder appInfoBox--dark verticalRhythm" ng-if="!hotspot2SectionRoamingConsortiumCtrl.list.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_TABLE_EMPTY"></p></div></div></div><ng-form'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{            \'is-form-validation-visible\': hotspot2SectionRoamingConsortiumCtrl.showValidation,            \'is-validation-hidden\': !hotspot2SectionRoamingConsortiumCtrl.showValidation          }" name="hotspot2SectionRoamingConsortiumCtrl.form"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_TABLE_HEADER_NAME"></label><input type="text" name="roamingConsortiumName" ng-model="hotspot2SectionRoamingConsortiumCtrl.entry.name"'+n("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_TABLE_HEADER_OID"></label><input type="text" name="roamingConsortiumOid" ng-model="hotspot2SectionRoamingConsortiumCtrl.entry.oid"'+n("required",!0,!0,!0)+'></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-click="hotspot2SectionRoamingConsortiumCtrl.addListEntry()" ng-disabled="hotspot2SectionRoamingConsortiumCtrl.form.$pristine"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_ROAMING_CONSORTIUM_ACTIONS_ADD"></span></button></div></div></ng-form></div></div></fieldset></div>'};var o=/["&<>]/},{"pug-runtime":2}],102:[function(e,t,i){"use strict";function n(e,t,i,n,o,r){this.$q=e,this.$translate=t,this.frame=i,this.heyToasts=n,this.hotspotOverrides=o,this.preferences=r,this.isLoading=!0,this.isUpgrading=!1,o.repository.register().fetch().finally(function(){this.isLoading=!1}.bind(this))}n.prototype.upgradeOverrides=function(){var e=this.$q.when(),t=this.hotspotOverrides.repository.model.get("overrides_modified_files");return t&&t.length>0&&(e=this.frame.show("confirmUpgradeOverrides",{modifiedFiles:function(){return t},options:angular.noop})),e.then(function(){return this.isUpgrading=!0,this.hotspotOverrides.upgrade().then(function(e){this.heyToasts.pushSuccess(e)}.bind(this)).catch(function(e){this.heyToasts.pushError(e)}.bind(this))}.bind(this)).finally(function(){this.isUpgrading=!1}.bind(this))},n.prototype.isUpgradeAvailable=function(){var e=this.hotspotOverrides.repository.model.get("portal_version"),t=this.hotspotOverrides.repository.model.get("overrides_portal_version");return!!e&&!!t&&e!==t},n.prototype.unregister=function(){this.hotspotOverrides.repository.unregister()},n.$inject=["$q","$translate","frame","heyToasts","hotspotOverrides","preferences"],angular.module("app-unifi-manage-settings").controller("HotspotOverridesUpgradeController",n)},{}],103:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiHotspotOverridesUpgrade",[function(){return{controller:"HotspotOverridesUpgradeController",controllerAs:"hotspotOverridesUpgradeCtrl",template:e("./hotspotOverridesUpgrade.pug")(),link:function(e,t,i,n){e.$on("$destroy",function(){n.unregister()})}}}])},{"./hotspotOverridesUpgrade.pug":104}],104:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appInfoBox appInfoBox--warning appInfoBox--cozy" ng-class="{\'appInfoBox--dark\': hotspotOverridesUpgradeCtrl.preferences.model.get(\'isSettingsDark\')}" ng-if="hotspotOverridesUpgradeCtrl.isUpgradeAvailable()"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header">{{\'SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_HEADER\' | translate}}</div><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_BODY_OVERRIDES_VERSION" translate-values="{version: hotspotOverridesUpgradeCtrl.hotspotOverrides.repository.model.get(\'overrides_portal_version\')}"></p><p class="noMarginBottom" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_BODY_CONTROLLER_VERSION" translate-values="{version: hotspotOverridesUpgradeCtrl.hotspotOverrides.repository.model.get(\'portal_version\')}"></p></div><div class="appInfoBox__footer"><button class="appMainButton appMainButton--primary appMainButton--cozy" ng-click="hotspotOverridesUpgradeCtrl.upgradeOverrides()" type="button" busy-toggle="hotspotOverridesUpgradeCtrl.isUpgrading" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_BUTTON\' | translate}}</button></div></div></div>'}},{"pug-runtime":2}],105:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("IpsSettingsController",["_","BaseSettingsController","alerts","arrayUtils","frame","gatewayUtils","ipsSuppression","localStorageFailSafe","networks","preferences","settings","StorageObjectValue","IPS_CATEGORY_DEFAULTS","IPS_CATEGORY_RESTRICTED",function(e,t,i,o,r,a,s,l,p,u,d,c,m,g){return new(function(i){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));e.ipsSuppression=s,s.load(),e.suppressionModified=!1,e.preferences=u,e.forms={},e.settingsSection="ips",e.settingsSectionTranslationKey="SETTINGS_SITE_KEY_IPS",e.storage=new c(l,"IPS_SETTINGS_EXPANDED"),e.storage.hydrate();if(e.isExpanded=Object.assign({categories:!0,suppression:!1,whitelist:!1},e.storage.getValue()||{}),e.areAllGroupsCollapsed=!Object.keys(e.isExpanded).some(function(t){return e.isExpanded[t]}),e.settingsProperties=["enabled_categories","ips_mode","restrict_ip_addresses","restrict_tor","restrict_torrrents","suppression"],e.categories={},a.hasSiteGateway()){var t=a.getSiteGateway().get("model");"UGW3"===t?e.categoryRestriction=!0:"UGW4"===t&&(e.categoryWarn=!0)}e.categoryRestriction?Object.keys(g).forEach(function(t){g[t]&&(e.categories[t]=m[t])}):Object.assign(e.categories,m),e.categoryColumns=o.split(Object.keys(e.categories),3),e.getSettingFromKey("ips",e.getModelDefaults());var i=e.getSettingFromKey(e.settingsSection,{},e.site?e.site.id:void 0);if("enabled_categories"in i.attributes){var n=i.attributes.enabled_categories;n instanceof Array&&(Object.keys(e.categories).forEach(function(t){e.categories[t]=!1}),n.forEach(function(t){e.categories[t]=!0}))}return e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),n(r,[{key:"save",value:function(){var t=this,i=[];this.isSubmitting=!0;var n=this.forms.config.modelCopy.attributes;n.enabled_categories=this.formatCategories(),n.suppression=s.formatSuppression(),n=e.pick.apply(null,[n].concat(this.settingsProperties));var o=this.site?this.site.id:void 0,r=d.buildSettingFromKey(this.settingsSection,{},o);return i.push(this.saveSection(r,n,"config")),this.afterSave(i).finally(function(){t.isSubmitting=!1})}},{key:"formatCategories",value:function(){var e=this;return Object.keys(this.categories).filter(function(t){return!0===e.categories[t]})}},{key:"getModelDefaults",value:function(){return{ips_mode:"disabled",restrict_ip_addresses:!0,restrict_tor:!0}}},{key:"getNetworkName",value:function(e){var t=p.repository.collection.get(e);return t?t.get("name"):""}},{key:"enableReset",value:function(){return this.form.$pristine&&!this.suppressionModified}},{key:"enableDefaults",value:function(){var e=this;Object.keys(this.categories).forEach(function(t){e.categories[t]=m[t]})}},{key:"enableAll",value:function(){var e=this;Object.keys(this.categories).forEach(function(t){e.categories[t]=!0})}},{key:"toggleExpandAll",value:function(){var e=this,t=this.areAllGroupsCollapsed;Object.keys(this.isExpanded).forEach(function(i){e.isExpanded[i]=t}),this.storage.setValue(this.isExpanded),this.updateCollapsedAllGroupsState()}},{key:"toggleExpandGroup",value:function(e){this.isExpanded[e]=!this.isExpanded[e],this.storage.setValue(this.isExpanded),this.updateCollapsedAllGroupsState()}},{key:"showAlertTable",value:function(){return e.size(s.suppressedAlerts)}},{key:"updateCollapsedAllGroupsState",value:function(){var e=this;this.areAllGroupsCollapsed=!Object.keys(this.isExpanded).some(function(t){return e.isExpanded[t]})}}]),r}())}])},{}],106:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiIpsSettings",{controller:"IpsSettingsController",controllerAs:"ipsSettingsCtrl",template:e("./ipsSettings.pug")()})},{"./ipsSettings.pug":107}],107:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="ipsSettings"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_IPS_TITLE"></div></div><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="ipsSettingsCtrl.form" ng-class="{      \'appForm--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': ipsSettingsCtrl.showValidation,      \'is-validation-hidden\': !ipsSettingsCtrl.showValidation    }" ng-submit="ipsSettingsCtrl.form.$valid &amp;&amp; ipsSettingsCtrl.save()"><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!ipsSettingsCtrl.isAdmin()"><unifi-config-changed unifi-config-changed-on-reset="ipsSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="ipsSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="ipsSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><div class="unifiSettingsSection"><ng-form name="ipsSettingsCtrl.forms.config" unifi-model-form="ipsSettingsCtrl.getSettingFromKey(\'ips\', ipsSettingsCtrl.getModelDefaults())"><div class="appRow verticalRhythm--comfy"><div class="col--md7 col--xs12"><div class="appInfoBoxContainer" ng-class="{                  \'appInfoBoxContainer--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')                }"><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder" ng-class="{\'appInfoBox--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom"><span class="appBadge appBadge--warning horizontalRhythm--condensed" translate="COMMON_BETA"></span><span translate="SETTINGS_IPS_ENABLE_IPS_NOTICE"></span></p></div></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder" ng-class="{\'appInfoBox--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_IPS_ENABLE_IPS_WARNING"></p></div></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder" ng-class="{\'appInfoBox--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_IPS_DISABLE_OFFLOAD_WARNING"></p></div></div></div></div></div></div><div class="appRow verticalRhythm--cozy"><div class="col--xs4"><label class="appLabel--primary" for="ipsMode" translate="SETTINGS_IPS_LABEL_PROTECTION_MODE"></label></div><div class="col--xs8"><div class="appInputGroup appInputGroup--cozy"><input type="radio" name="ipsMode" id="ipsModeIds" value="ids" ng-model="modelFormCtrl.modelCopy.attributes.ips_mode" ng-model-master="modelFormCtrl.model.attributes.ips_mode"><label for="ipsModeIds" translate="SETTINGS_IPS_VALUES_MODE_IDS"></label><input type="radio" name="ipsMode" id="ipsModeIps" value="ips" ng-model="modelFormCtrl.modelCopy.attributes.ips_mode" ng-model-master="modelFormCtrl.model.attributes.ips_mode"><label for="ipsModeIps" translate="SETTINGS_IPS_VALUES_MODE_IPS"></label><input type="radio" name="ipsMode" id="ipsModeDisabled" value="disabled" ng-model="modelFormCtrl.modelCopy.attributes.ips_mode" ng-model-master="modelFormCtrl.model.attributes.ips_mode"><label for="ipsModeDisabled" translate="SETTINGS_IPS_VALUES_MODE_DISABLED"></label><unifi-tooltip><content><div class="verticalRhythm--cozy"><span translate="SETTINGS_IPS_MODE_TOOLTIP_IDS"></span></div><div class="verticalRhythm--cozy"><span translate="SETTINGS_IPS_MODE_TOOLTIP_IPS"></span></div><div><span translate="SETTINGS_IPS_MODE_TOOLTIP_DISABLED"></span></div></content></unifi-tooltip><unifi-notify-device-requirement class="horizontalRhythmLeft--condensed" unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div></div><div class="verticalRhythm--cozy" ng-if="modelFormCtrl.modelCopy.get(\'ips_mode\') !== \'disabled\'"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy unifiSettingsHeader"><div class="unifiSettingsHeader__left" translate="SETTINGS_IPS_LABEL_RESTRICTIONS"></div><div class="unifiSettingsHeader__right"><div class="appActionIconGroup"><div class="appActionIcon appActionIcon--medium appActionIcon--primary" ng-click="ipsSettingsCtrl.toggleExpandAll()" title="{{ipsSettingsCtrl.areAllGroupsCollapsed ? \'COMMON_PROPERTY_PANEL_EXPAND_ALL\' : \'COMMON_PROPERTY_PANEL_COLLAPSE_ALL\' | translate}}"><span class="icon ubnt-icon--menu"></span></div></div></div></div><div class="appRow"><div class="col--md4 col--sm10 col--xs8"><label class="appLabel--primary" for="restrictTor" translate="SETTINGS_IPS_VALUES_RESTRICT_TOR"></label></div><div class="col--md8 col--sm2 col--xs4"><div class="appInputGroup appInputGroup--comfy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                        \'appToggle--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')                      }"><input type="checkbox" name="restrictTor" id="restrictTor" ng-model="modelFormCtrl.modelCopy.attributes.restrict_tor" ng-model-master="modelFormCtrl.model.attributes.restrict_tor"><label for="restrictTor"></label></div></div></div>\x3c!-- Not needed for now, add back when needed--\x3e\x3c!--.col--xs4label.appLabel--primary(\n  for="restrictTorrents"\n  translate="SETTINGS_IPS_VALUES_RESTRICT_TORRENTS"\n)--\x3e\x3c!--.col--xs8.appInputGroup.appInputGroup--cozy\n  .toggle.appToggle(\n    data-on="{{\'COMMON_TOGGLE_ON\' | translate}}"\n    data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"\n    ng-class="{\\\n      \'appToggle--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')\\\n    }"\n  )\n    input(\n      type="checkbox"\n      name="restrictTorrents"\n      id="restrictTorrents"\n      ng-model="modelFormCtrl.modelCopy.attributes.restrict_torrents"\n      ng-model-master="modelFormCtrl.model.attributes.restrict_torrents"\n    )\n    label(\n      for="restrictTorrents"\n    )\n--\x3e<div class="col--md4 col--sm10 col--xs8"><label class="appLabel--primary" for="restrictIPAdresses" translate="SETTINGS_IPS_VALUES_RESTRICT_MALICIOUS_IP_ADDRESSES"></label></div><div class="col--md8 col--sm2 col--xs4"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                        \'appToggle--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')                      }"><input type="checkbox" name="restrictIPAdresses" id="restrictIPAdresses" ng-model="modelFormCtrl.modelCopy.attributes.restrict_ip_addresses" ng-model-master="modelFormCtrl.model.attributes.restrict_ip_addresses"><label for="restrictIPAdresses"></label></div></div></div></div></div></div><div class="verticalRhythm--cozy" ng-if="modelFormCtrl.modelCopy.get(\'ips_mode\') !== \'disabled\'"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy unifiSettingsHeader"><div class="unifiSettingsHeader__left" ng-click="ipsSettingsCtrl.toggleExpandGroup(\'categories\')" ng-class="ipsSettingsCtrl.isExpanded[\'categories\'] ? \'appCollapserType\' : \'appExpanderType\'" translate="SETTINGS_IPS_LABEL_RULESET_CATEGORIES"></div><div class="unifiSettingsHeader__right" ng-show="ipsSettingsCtrl.isExpanded[\'categories\']"><button class="appMainButton appMainButton--tertiary appMainButton--cozy noPadding horizontalRhythm--cozy" type="button" ng-click="ipsSettingsCtrl.enableDefaults()">{{ \'SETTINGS_IPS_ACTIONS_ENABLE_DEFAULTS\' | translate }}</button><button class="appMainButton appMainButton--tertiary appMainButton--cozy noPadding horizontalRhythm--cozy" type="button" ng-click="ipsSettingsCtrl.enableAll()">{{ \'SETTINGS_IPS_ACTIONS_ENABLE_ALL\' | translate }}</button></div></div><div class="appRow verticalRhythm" ng-show="ipsSettingsCtrl.isExpanded[\'categories\']" ng-if="ipsSettingsCtrl.categoryRestriction || ipsSettingsCtrl.categoryWarn"><div class="col--md7 col--xs12"><div class="appInfoBoxContainer" ng-class="{                      \'appInfoBoxContainer--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')                    }"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder" ng-class="{\'appInfoBox--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-if="ipsSettingsCtrl.categoryRestriction"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom"><span translate="SETTINGS_IPS_CATEGORY_RESTRICTION_WARNING"></span></p></div></div></div><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder" ng-class="{\'appInfoBox--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-if="ipsSettingsCtrl.categoryWarn"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom"><span translate="SETTINGS_IPS_CATEGORY_NOTICE"></span></p></div></div></div></div></div></div><div class="appRow" ng-show="ipsSettingsCtrl.isExpanded[\'categories\']"><div class="col--md4 col--sm12" ng-repeat="categoryColumn in ipsSettingsCtrl.categoryColumns"><div ng-repeat="category in categoryColumn"><div class="col--md8 col--sm10 col--xs8"><label class="appLabel--primary" translate="SETTINGS_IPS_VALUES_CATEGORY_{{category | uppercase}}"></label></div><div class="col--md4 col--sm2 col--xs4"><div class="appInputGroup appInputGroup--comfy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                            \'appToggle--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')                          }"><input type="checkbox" name="{{category}}" id="{{category}}" ng-model="ipsSettingsCtrl.categories[category]"><label for="{{category}}"></label></div></div></div></div></div></div></div></div><div class="verticalRhythm--cozy" ng-if="modelFormCtrl.modelCopy.get(\'ips_mode\') !== \'disabled\'"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy unifiSettingsHeader"><div class="unifiSettingsHeader__left" ng-click="ipsSettingsCtrl.toggleExpandGroup(\'whitelist\')" ng-class="ipsSettingsCtrl.isExpanded[\'whitelist\'] ? \'appCollapserType\' : \'appExpanderType\'" translate="SETTINGS_IPS_LABEL_WHITELIST"></div></div><div class="appRow" ng-show="ipsSettingsCtrl.isExpanded[\'whitelist\']"><table class="verticalRhythm--cozy col--xs12 col--md6 appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" ng-class="{\'appTable--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-if="ipsSettingsCtrl.ipsSuppression.whitelist.length"><thead unifi-condensed="appTable--condensed"><tr><th class="noPaddingTop suppressTrack"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_TRACK"></span></th><th class="noPaddingTop suppressDirection"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_DIRECTION"></span></th></tr></thead><tbody><tr ng-repeat="track in ipsSettingsCtrl.ipsSuppression.whitelist track by $index"><td class="suppressTrack appTableCell"><span ng-if="track.mode == \'ip\' || track.mode == \'subnet\'">{{track.value}}</span><span ng-if="track.mode == \'network\'">{{ipsSettingsCtrl.getNetworkName(track.value)}}</span></td><td class="suppressDirection appTableCell"><span ng-if="track.direction == \'both\'" translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_BOTH"></span><span ng-if="track.direction == \'src\'" translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_SOURCE"></span><span ng-if="track.direction == \'dest\'" translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_DESTINATION"></span></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm--cozy" ng-if="!ipsSettingsCtrl.ipsSuppression.whitelist.length" ng-class="{\'appInfoBox--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_IPS_WHITELIST_TABLE_EMPTY"></p></div></div></div><div class="col--xs12"><button class="editWhitelist appMainButton appMainButton--inputDark verticalRhythmTop-comfy" type="button" ng-click="ipsSettingsCtrl.ipsSuppression.editWhitelist()"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="SETTINGS_IPS_WHITELIST_EDIT"></span></button></div></div></div></div><div class="verticalRhythm--cozy" ng-if="modelFormCtrl.modelCopy.get(\'ips_mode\') !== \'disabled\'"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy unifiSettingsHeader"><div class="unifiSettingsHeader__left" ng-click="ipsSettingsCtrl.toggleExpandGroup(\'suppression\')" ng-class="ipsSettingsCtrl.isExpanded[\'suppression\'] ? \'appCollapserType\' : \'appExpanderType\'" translate="SETTINGS_IPS_LABEL_RULESET_SUPPRESSION"></div></div><div class="appRow" ng-show="ipsSettingsCtrl.isExpanded[\'suppression\']"><table class="verticalRhythm--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" ng-class="{\'appTable--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-if="ipsSettingsCtrl.showAlertTable()"><thead unifi-condensed="appTable--condensed"><tr><th class="noPaddingTop suppressCategory" collection-view-sort-by="category"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_CATEGORY"></span></th><th class="noPaddingTop suppressSignature" collection-view-sort-by="signature"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_SIGNATURE"></span></th><th class="noPaddingTop suppressTrack"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_TRACK"></span></th><th class="noPaddingTop suppressDirection"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_DIRECTION"></span></th><th class="noPaddingTop suppressAction appTableCell--actions"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_ACTION"></span></th></tr></thead><tbody ng-repeat="(key, suppressed) in ipsSettingsCtrl.ipsSuppression.suppressedAlerts"><tr ng-repeat="track in suppressed.tracking track by $index"><td class="suppressCategory appTableCell--smash" ng-if="$first" ng-attr-rowspan="{{suppressed.tracking.length}}">{{suppressed.category | translate}}</td><td class="suppressSignature" ng-if="$first" ng-attr-rowspan="{{suppressed.tracking.length}}">{{suppressed.signature}}</td><td class="suppressTrack appTableCell" ng-if="suppressed.type == \'all\'" colspan="2"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_ALL"></span></td><td class="suppressTrack appTableCell" ng-if="suppressed.type == \'track\'"><span ng-if="track.mode == \'ip\' || track.mode == \'subnet\'">{{track.value}}</span><span ng-if="track.mode == \'network\'">{{ipsSettingsCtrl.getNetworkName(track.value)}}</span></td><td class="suppressDirection appTableCell" ng-if="suppressed.type == \'track\'"><span ng-if="track.direction == \'both\'" translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_BOTH"></span><span ng-if="track.direction == \'src\'" translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_SOURCE"></span><span ng-if="track.direction == \'dest\'" translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_DESTINATION"></span></td><td class="suppressAction appTableCell--actions" ng-if="$first" ng-attr-rowspan="{{suppressed.tracking.length}}"><button class="suppressEdit appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="ipsSettingsCtrl.ipsSuppression.editSuppressedAlert(suppressed, null)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="suppressDelete appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="ipsSettingsCtrl.ipsSuppression.deleteSuppressedAlert(key)"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder" ng-if="!ipsSettingsCtrl.showAlertTable()" ng-class="{\'appInfoBox--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_IPS_SUPPRESSION_TABLE_EMPTY"></p></div></div></div></div></div><div class="unifiSettingsSection" ng-show="ipsSettingsCtrl.isExpanded[\'suppression\']"><div class="appSubHeading appSubHeading--cozy unifiSettingsHeader"><div class="unifiSettingsHeader__left" translate="SETTINGS_IPS_LABEL_RECENT_ALERTS"></div></div><div class="appRow"><unifi-ips-suppress-list unifi-ips-suppress-list-on-edit="ipsSettingsCtrl.ipsSuppression.addSignatureSuppression(alert)"></unifi-ips-suppress-list></div></div></div></ng-form></div><div class="appFormFooter appFormFooter--flush appFormFooter--standalone verticalRhythmTop--breezy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="ipsSettingsCtrl.showValidation = true" busy-toggle="ipsSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--xsmall\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="ipsSettingsCtrl.reset()" ng-disabled="ipsSettingsCtrl.enableReset()" ng-class="ipsSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?               \'appMainButton--transparentDark\' :               \'appMainButton--transparent\'            ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></fieldset></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],108:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("MDnsSettingsController",["BaseSettingsController","gatewayUtils","preferences",function(e,t,i){return new(function(o){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return e.preferences=i,e.hasSiteGateway=t.hasSiteGateway.bind(t),e.settingsSectionTranslationKey="SETTINGS_SERVICES_TAB_MDNS",e.settingsSectionTranslationKeys={usg:"SETTINGS_SERVICES_TAB_MDNS"},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),n(r,[{key:"save",value:function(){var e=this,t=[];return this.isSubmitting=!0,angular.forEach(["usg"],function(i){t.push(e.saveSection(e.getSettingFromKey(i),e.forms[i].modelCopy.attributes,i))}),this.afterSave(t).finally(function(){e.isSubmitting=!1})}}]),r}())}])},{}],109:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiMdnsSettings",{controller:"MDnsSettingsController",controllerAs:"mDnsSettingsCtrl",template:e("./mDnsSettings.pug")()})},{"./mDnsSettings.pug":110}],110:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="mDnsSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-security-gateway-is-required ng-if="!mDnsSettingsCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_MDNS_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><div ng-if="mDnsSettingsCtrl.hasSiteGateway()"><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="mDnsSettingsCtrl.form" ng-class="{            \'appForm--dark\': mDnsSettingsCtrl.preferences.model.get(\'isSettingsDark\'),            \'is-form-validation-visible\': mDnsSettingsCtrl.showValidation,            \'is-validation-hidden\': !mDnsSettingsCtrl.showValidation          }" ng-submit="mDnsSettingsCtrl.form.$valid &amp;&amp; mDnsSettingsCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="mDnsSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="mDnsSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="mDnsSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="mDnsSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!mDnsSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="mDnsSettingsCtrl.forms.usg" unifi-model-form="mDnsSettingsCtrl.getSettingFromKey(\'usg\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" for="mDnsEnable" translate="SETTINGS_MDNS_LABEL_ENABLE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle floatLeft" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': mDnsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="mDnsEnable" id="mDnsEnable" ng-model="modelFormCtrl.modelCopy.attributes.mdns_enabled" ng-model-master="modelFormCtrl.model.attributes.mdns_enabled"><label for="mDnsEnable"></label></div><unifi-tooltip class="inlineBlock mt-1"><content translate="SETTINGS_MDNS_TOOLTIP_ENABLE"></content></unifi-tooltip></div></div></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': mDnsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="mDnsSettingsCtrl.showValidation = true" busy-toggle="mDnsSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" translate="COMMON_ACTIONS_APPLY_CHANGES"></button><button class="appMainButton" type="button" ng-click="mDnsSettingsCtrl.reset()" ng-disabled="mDnsSettingsCtrl.form.$pristine" ng-class="mDnsSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?                             \'appMainButton--transparentDark\' :                             \'appMainButton--transparent\'                          " translate="COMMON_ACTIONS_RESET"></button></div></div></div></div></ng-form></div></fieldset></form></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],111:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("MaintenanceSettingsController",["$filter","$q","$translate","BaseSettingsController","backupUtils","dataRetention","heyToasts","sdn","settings","system","systemConfig","systemBackupUtils","preferences","frame",function(e,t,i,o,r,a,s,l,p,u,d,c,m,g){return new(function(p){function _(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return e.system=u,e.preferences=m,e.forms={},e.settingsSection="maintenance",e.isCloudKey=l.isCloudKey(),e.logLevelOptions=[{id:"warn",translationKey:"SETTINGS_MAINTENANCE_VALUES_LOG_LEVEL_WARN"},{id:"info",translationKey:"SETTINGS_MAINTENANCE_VALUES_LOG_LEVEL_INFO"},{id:"debug",translationKey:"SETTINGS_MAINTENANCE_VALUES_LOG_LEVEL_DEBUG"}],e.dataRetentionOptions=a.getOptions(!0),e.downloadBackupOptions=[{days:0,translationKey:"SETTINGS_MAINTENANCE_VALUES_DOWNLOAD_SETTINGS_ONLY"}].concat([7,30,60,90,180,365].map(function(e){return{days:e,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:e}}})).concat({days:-1,translationKey:"SETTINGS_MAINTENANCE_VALUES_DOWNLOAD_NO_LIMIT"}),e.filterDevice="site",e.filterState="all",e.filterDeviceTranslationKeys={all:"SETTINGS_MAINTENANCE_FIRMWARE_LABEL_TYPE_ALL",known:"SETTINGS_MAINTENANCE_FIRMWARE_LABEL_TYPE_KNOWN_DEVICES",site:"SETTINGS_MAINTENANCE_FIRMWARE_LABEL_TYPE_SITE_DEVICES"},e.filterStateTranslationKeys={all:"SETTINGS_MAINTENANCE_FIRMWARE_LABEL_TYPE_ALL",cached:"SETTINGS_MAINTENANCE_FIRMWARE_LABEL_TYPE_CACHED",available:"SETTINGS_MAINTENANCE_FIRMWARE_LABEL_TYPE_AVAILABLE"},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(_,o),n(_,[{key:"updateLogLevel",value:function(){var e=this,i=[];return this.isUpdatingLogLevel=!0,angular.forEach(["device","mgmt","system","sdn"],function(t){e.forms.services.modelCopy.attributes["debug_"+t]!==u.repository.model.get("debug_"+t)&&i.push(u.setDebugLevel(t,e.forms.services.modelCopy.attributes["debug_"+t]).then(function(e){return s.pushSuccess(e),!0}).catch(function(e){return s.pushError(e),!1}))}),t.all(i).then(function(e){return e.every(function(e){return e})}).finally(function(){e.isUpdatingLogLevel=!1})}},{key:"compactDatabase",value:function(){var e=this;return g.show("confirm",{title:function(){return i.instant("SETTINGS_MAINTENANCE_COMPACT_DATABASE_CONFIRM_TITLE")},message:function(){return i.instant("SETTINGS_MAINTENANCE_COMPACT_DATABASE_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return e.isCompactingDatabase=!0,u.compactDatabase().then(function(e){return s.pushSuccess(e),!0}).catch(function(e){return s.pushError(e),!1}).finally(function(){e.isCompactingDatabase=!1})})}},{key:"downloadBackup",value:function(){var e=this;return this.isDownloadingBackup=!0,c.generateBackupFile(this.downloadBackupDays,!0).then(function(e){return s.pushSuccess(e),!0}).catch(function(e){return s.pushError(e),!1}).finally(function(){e.isDownloadingBackup=!1})}},{key:"downloadSupportInfo",value:function(){var e=this;return this.isDownloadingSupportInfo=!0,u.generateSupportFile(!0).then(function(e){return s.pushSuccess(e),!0}).catch(function(e){return s.pushError(e),!1}).finally(function(){e.isDownloadingSupportInfo=!1})}},{key:"restoreSettings",value:function(n){var o=this;return n&&n[0]?(this.isRestoringFromBackup=!0,this.restoreProgress={},c.uploadBackupFile(n[0],this.restoreProgress).then(function(t){return o.isRestoringFromBackup=!1,g.show("confirm",{title:function(){return i.instant("SETTINGS_MAINTENANCE_RESTORE_FROM_BACKUP_CONFIRM_TITLE")},message:function(){return i.instant("SETTINGS_MAINTENANCE_RESTORE_FROM_BACKUP_CONFIRM_MESSAGE",{file:t.filename,version:t.version,date:e("moment")(parseInt(t.timestamp),"format","datetime")})},options:function(){return{allowHtml:!0}}}).then(function(){return o.isRestoringFromBackup=!0,r.restoreAndRestart(t.backup_id)}).catch(function(){c.cancelRestoreFromBackup(t.backup_id)})}).catch(function(e){return s.pushError(e),!1}).finally(function(){o.isRestoringFromBackup=!1,o.restoreProgress=void 0})):t.reject()}},{key:"checkDevicesFirmwareUpdate",value:function(){var e=this;return this.isCheckingDevicesFirmwareUpdate=!0,u.checkDevicesFirmwareUpdate().then(function(e){return s.pushSuccess(e),!0}).catch(function(e){return s.pushError(e),!1}).finally(function(){e.isCheckingDevicesFirmwareUpdate=!1})}},{key:"checkForCloudKeyFirmwareUpdate",value:function(){var e=this;return this.isCheckingForCloudKeyFirmwareUpdate=!0,u.isCloudKeyFirmwareUpdateAvailable().then(function(e){return s.pushSuccess(e),!0}).catch(function(e){return s.pushError(e),!1}).finally(function(){e.isCheckingForCloudKeyFirmwareUpdate=!1})}},{key:"updateCloudKeyFirmware",value:function(){var e=this;return g.show("confirm",{title:function(){return i.instant("SETTINGS_MAINTENANCE_UPDATE_CLOUD_KEY_FIRMWARE_CONFIRM_TITLE")},message:function(){return i.instant("SETTINGS_MAINTENANCE_UPDATE_CLOUD_KEY_FIRMWARE_CONFIRM_MESSAGE")},options:function(){var e=u.countEolDevices(),t=i.instant("UNIFI_UPDATE_WARNING_EOL",{count:e},"messageformat");return{dangers:e?[t]:[],warnings:[i.instant("UNIFI_UPDATE_WARNING")]}}}).then(function(){return e.isUpdatingCloudKeyFirmware=!0,u.updateCloudKeyFirmware().then(function(e){return s.pushSuccess(e),u.waitForUpdateFinish(),!0}).catch(function(e){return s.pushError(e),!1}).finally(function(){e.isUpdatingCloudKeyFirmware=!1})})}},{key:"checkForCloudKeyControllerUpdate",value:function(){var e=this;return this.isCheckingForCloudKeyControllerUpdate=!0,u.isCloudKeyControllerUpdateAvailable().then(function(e){return s.pushSuccess(e),!0}).catch(function(e){return s.pushError(e),!1}).finally(function(){e.isCheckingForCloudKeyControllerUpdate=!1})}},{key:"updateCloudKeyController",value:function(){var e=this;return g.show("confirm",{title:function(){return i.instant("UPDATE_CLOUD_KEY_CONTROLLER_CONFIRM_TITLE")},message:function(){return i.instant("UPDATE_CLOUD_KEY_CONTROLLER_CONFIRM_MESSAGE")},options:function(){var e=u.countEolDevices(),t=i.instant("UNIFI_UPDATE_WARNING_EOL",{count:e},"messageformat");return{dangers:e&&u.hasControllerMinorVersionChanged()?[t]:[],warnings:[i.instant("UNIFI_UPDATE_WARNING")]}}}).then(function(){return e.isUpdatingCloudKeyController=!0,u.updateCloudKeyController().then(function(e){return s.pushSuccess(e),!0}).catch(function(e){return s.pushError(e),!1}).finally(function(){e.isUpdatingCloudKeyController=!1})})}},{key:"restartCloudKey",value:function(){var e=this;return g.show("confirm",{title:function(){return i.instant("SETTINGS_MAINTENANCE_RESTART_CLOUD_KEY_CONFIRM_TITLE")},message:function(){return i.instant("SETTINGS_MAINTENANCE_RESTART_CLOUD_KEY_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return e.isRestartingCloudKey=!0,u.restartCloudKey().then(function(e){return s.pushSuccess(e),!0}).catch(function(e){return s.pushError(e),!1}).finally(function(){e.isRestartingCloudKey=!1})})}},{key:"shutdownCloudKey",value:function(){var e=this;return g.show("confirm",{title:function(){return i.instant("SETTINGS_MAINTENANCE_SHUTDOWN_CLOUD_KEY_CONFIRM_TITLE")},message:function(){return i.instant("SETTINGS_MAINTENANCE_SHUTDOWN_CLOUD_KEY_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return e.isShuttingDownCloudKey=!0,u.shutdownCloudKey().then(function(e){return s.pushSuccess(e),!0}).catch(function(e){return s.pushError(e),!1}).finally(function(){e.isShuttingDownCloudKey=!1})})}},{key:"resetCloudKey",value:function(){var e=this;return g.show("confirm",{title:function(){return i.instant("SETTINGS_MAINTENANCE_RESET_CLOUD_KEY_CONFIRM_TITLE")},message:function(){return i.instant("SETTINGS_MAINTENANCE_RESET_CLOUD_KEY_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){return e.isResettingCloudKey=!0,u.resetCloudKey().then(function(e){return s.pushSuccess(e),!0}).catch(function(e){return s.pushError(e),!1}).finally(function(){e.isResettingCloudKey=!1})})}},{key:"showSystemConfig",value:function(){var e=this;this.isPreparingConfig=!0,d.resolve().then(function(){e.isPreparingConfig=!1,g.show("systemConfig")})}},{key:"updateDataRetentionOptions",value:function(e,t){var i=this.getSettingFromKey("super_mgmt",null,!0).get(t);i&&!e.find(function(e){return e.hours===i})&&(i>24?e.unshift({hours:i,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:i/24},disabled:!0}):e.unshift({hours:i,translationKey:"DATETIME_HOURS_FULL_PARAMETERIZED",translationParams:{hours:i},disabled:!0}))}},{key:"applyDataRetention",value:function(){var e=this,t=[];return this.isSubmitting=!0,angular.forEach(["super_mgmt"],function(i){e.forms[i]&&e.forms[i].modelCopy&&t.push(e.saveSection(e.getSettingFromKey(i),e.forms[i].modelCopy.attributes,i))}),this.afterSave(t).finally(function(){u.repository.refresh()})}}]),_}())}])},{}],112:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiMaintenanceSettings",{controller:"MaintenanceSettingsController",controllerAs:"maintenanceSettingsCtrl",template:e("./maintenanceSettings.pug")()})},{"./maintenanceSettings.pug":113}],113:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="maintenanceSettings"><form class="appForm appForm--cozy" ng-class="{\'appForm--dark\': maintenanceSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"'+n("novalidate",!0,!0,!0)+' autocomplete="off"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_MAINTENANCE"></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_SERVER_INFORMATION"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_CURRENT_VERSION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.repository.model.get(\'version\')}}\n({{ \'SETTINGS_MAINTENANCE_LABEL_BUILD\' | translate }}: {{maintenanceSettingsCtrl.system.repository.model.get(\'build\')}})</label></div></div><div class="appRow" ng-if="maintenanceSettingsCtrl.system.repository.model.get(\'update_available\') &amp;&amp; maintenanceSettingsCtrl.system.repository.model.get(\'update_downloaded\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_AVAILABLE_VERSION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.repository.model.get(\'update_version\')}}</label></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_SERVICES"></div><ng-form name="maintenanceSettingsCtrl.forms.services" unifi-model-form="maintenanceSettingsCtrl.system.repository.model"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_MAINTENANCE_LABEL_LOG_LEVEL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="maintenanceLogLevelDevice" translate="SETTINGS_MAINTENANCE_LABEL_LOG_LEVEL_DEVICE"></label><select name="maintenanceLogLevelDevice" id="maintenanceLogLevelDevice" ng-model="modelFormCtrl.modelCopy.attributes.debug_device" ng-options="logLevel.id as logLevel.translationKey | translate for logLevel in maintenanceSettingsCtrl.logLevelOptions"></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="maintenanceLogLevelMgmt" translate="SETTINGS_MAINTENANCE_LABEL_LOG_LEVEL_MGMT"></label><select name="maintenanceLogLevelMgmt" id="maintenanceLogLevelMgmt" ng-model="modelFormCtrl.modelCopy.attributes.debug_mgmt" ng-options="logLevel.id as logLevel.translationKey | translate for logLevel in maintenanceSettingsCtrl.logLevelOptions"></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="maintenanceLogLevelSystem" translate="SETTINGS_MAINTENANCE_LABEL_LOG_LEVEL_SYSTEM"></label><select name="maintenanceLogLevelSystem" id="maintenanceLogLevelSystem" ng-model="modelFormCtrl.modelCopy.attributes.debug_system" ng-options="logLevel.id as logLevel.translationKey | translate for logLevel in maintenanceSettingsCtrl.logLevelOptions"></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="maintenanceLogLevelDevice" translate="SETTINGS_MAINTENANCE_LABEL_LOG_LEVEL_SDN"></label><select name="maintenanceLogLevelSdn" id="maintenanceLogLevelSdn" ng-model="modelFormCtrl.modelCopy.attributes.debug_sdn" ng-options="logLevel.id as logLevel.translationKey | translate for logLevel in maintenanceSettingsCtrl.logLevelOptions"></select></div><button class="appMainButton appMainButton--primary appMainButton--cozy appMainButton--success updateLogLevel" type="button" ng-click="maintenanceSettingsCtrl.updateLogLevel()" busy-toggle="maintenanceSettingsCtrl.isUpdatingLogLevel" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY\' | translate}}</button></div></div></div><div class="appRow" ng-if="!maintenanceSettingsCtrl.system.isUnifiGo()"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy compactDatabase" type="button" ng-click="maintenanceSettingsCtrl.compactDatabase()" busy-toggle="maintenanceSettingsCtrl.isCompactingDatabase" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_COMPACT_DATABASE\' | translate}}</button></div></div></ng-form><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_CHECK_DEVICES_FIRMWARE_UPDATE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="appInputGroup inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy checkFirmwareUpdate" type="button" ng-click="maintenanceSettingsCtrl.checkDevicesFirmwareUpdate()" busy-toggle="maintenanceSettingsCtrl.isCheckingDevicesFirmwareUpdate" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_CHECK_DEVICES_FIRMWARE_UPDATE\' | translate}}</button></div></div></div></div></div><div class="unifiSettingsSection" ng-if="!maintenanceSettingsCtrl.system.isUnifiGo()"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_DATA_RETENTION"></div><ng-form name="maintenanceSettingsCtrl.forms.super_mgmt" unifi-model-form="maintenanceSettingsCtrl.getSettingFromKey(\'super_mgmt\', null, true)"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_TIME_SERIES_DATA_RETENTION_5_MINUTES"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><select name="fiveMinutesDataRetentionDays" id="fiveMinutesDataRetentionDays" ng-model="modelFormCtrl.modelCopy.attributes.data_retention_time_in_hours_for_5minutes_scale" ng-model-master="modelFormCtrl.model.attributes.data_retention_time_in_hours_for_5minutes_scale" ng-init="maintenanceSettingsCtrl.updateDataRetentionOptions(maintenanceSettingsCtrl.dataRetentionOptions.fiveMinutes, \'data_retention_time_in_hours_for_5minutes_scale\')" ng-options="dayOption.hours as dayOption.translationKey | translate:dayOption.translationParams:\'messageformat\' disable when dayOption.disabled for dayOption in maintenanceSettingsCtrl.dataRetentionOptions.fiveMinutes"></select></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_TIME_SERIES_DATA_RETENTION_HOURLY"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><select name="hourlyDataRetentionDays" id="hourlyDataRetentionDays" ng-model="modelFormCtrl.modelCopy.attributes.data_retention_time_in_hours_for_hourly_scale" ng-model-master="modelFormCtrl.model.attributes.data_retention_time_in_hours_for_hourly_scale" ng-init="maintenanceSettingsCtrl.updateDataRetentionOptions(maintenanceSettingsCtrl.dataRetentionOptions.hourly, \'data_retention_time_in_hours_for_hourly_scale\')" ng-options="dayOption.hours as dayOption.translationKey | translate:dayOption.translationParams:\'messageformat\' disable when dayOption.disabled for dayOption in maintenanceSettingsCtrl.dataRetentionOptions.hourly"></select></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_TIME_SERIES_DATA_RETENTION_DAILY"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><select name="dailyDataRetentionDays" id="dailyDataRetentionDays" ng-model="modelFormCtrl.modelCopy.attributes.data_retention_time_in_hours_for_daily_scale" ng-model-master="modelFormCtrl.model.attributes.data_retention_time_in_hours_for_daily_scale" ng-init="maintenanceSettingsCtrl.updateDataRetentionOptions(maintenanceSettingsCtrl.dataRetentionOptions.daily, \'data_retention_time_in_hours_for_daily_scale\')" ng-options="dayOption.hours as dayOption.translationKey | translate:dayOption.translationParams:\'messageformat\' disable when dayOption.disabled for dayOption in maintenanceSettingsCtrl.dataRetentionOptions.daily"></select></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_TIME_SERIES_DATA_RETENTION_MONTHLY"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><select name="monthlyDataRetentionDays" id="monthlyDataRetentionDays" ng-model="modelFormCtrl.modelCopy.attributes.data_retention_time_in_hours_for_monthly_scale" ng-model-master="modelFormCtrl.model.attributes.data_retention_time_in_hours_for_monthly_scale" ng-init="maintenanceSettingsCtrl.updateDataRetentionOptions(maintenanceSettingsCtrl.dataRetentionOptions.monthly, \'data_retention_time_in_hours_for_monthly_scale\')" ng-options="dayOption.hours as dayOption.translationKey | translate:dayOption.translationParams:\'messageformat\' disable when dayOption.disabled for dayOption in maintenanceSettingsCtrl.dataRetentionOptions.monthly"></select></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_NON_TIME_SERIES_DATA_RETENTION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><select name="othersDataRetentionDays" id="othersDataRetentionDays" ng-model="modelFormCtrl.modelCopy.attributes.data_retention_time_in_hours_for_others" ng-model-master="modelFormCtrl.model.attributes.data_retention_time_in_hours_for_others" ng-init="maintenanceSettingsCtrl.updateDataRetentionOptions(maintenanceSettingsCtrl.dataRetentionOptions.others, \'data_retention_time_in_hours_for_others\')" ng-options="dayOption.hours as dayOption.translationKey | translate:dayOption.translationParams:\'messageformat\' disable when dayOption.disabled for dayOption in maintenanceSettingsCtrl.dataRetentionOptions.others"></select></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_COLLECT_CLIENT_STATS"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="maintenanceEnableClientStats" id="maintenanceEnableClientStats" ng-model="modelFormCtrl.modelCopy.attributes.time_series_per_client_stats_enabled" ng-model-master="modelFormCtrl.model.attributes.time_series_per_client_stats_enabled"><label for="maintenanceEnableClientStats" translate="SETTINGS_MAINTENANCE_VALUES_COLLECT_CLIENT_STATS"></label><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="modelFormCtrl.modelCopy.attributes.time_series_per_client_stats_enabled" ng-class="{\'appInfoBox--dark\': maintenanceSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p translate="SETTINGS_MAINTENANC_TOOLTIP_COLLECT_CLIENT_STATS"></p></div></div></div></div></div></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--flush"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': maintenanceSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--cozy appMainButton--success" ng-click="maintenanceSettingsCtrl.applyDataRetention()" busy-toggle="maintenanceSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton appMainButton--cozy" type="button" ng-click="maintenanceSettingsCtrl.reset()" ng-disabled="maintenanceSettingsCtrl.form.$pristine" ng-class="maintenanceSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?                     \'appMainButton--transparentDark\' :                     \'appMainButton--transparent\'                  ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></div></div></ng-form></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_BACKUP"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_BACKUP_DATA_RETENTION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><select name="maintenanceBackupDays" id="maintenanceBackupDays" ng-model="maintenanceSettingsCtrl.downloadBackupDays" ng-init="maintenanceSettingsCtrl.downloadBackupDays = 7" ng-options="dayOption.days as dayOption.translationKey | translate:dayOption.translationParams:\'messageformat\' for dayOption in maintenanceSettingsCtrl.downloadBackupOptions"></select></div><button class="appMainButton appMainButton--primary appMainButton--cozy downloadBackup" type="button" ng-click="maintenanceSettingsCtrl.downloadBackup()" busy-toggle="maintenanceSettingsCtrl.isDownloadingBackup" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_DOWNLOAD_BACKUP\' | translate}}</button></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_RESTORE"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_BROWSE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="shelfCenter appInputGroup appInputGroup--cozy"><div class="inflexible"><div class="appInputGroup inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy restoreFile" type="file"'+n("ngf-select",!0,!0,!0)+' ngf-change="maintenanceSettingsCtrl.restoreSettings($files)" busy-toggle="maintenanceSettingsCtrl.isRestoringFromBackup" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_CHOOSE_FILE\' | translate}}</button></div></div><div class="flexible"><div class="statusBar appStatusBar appStatusBar--high" ng-class="{\'appStatusBar--dark\': maintenanceSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" ng-if="maintenanceSettingsCtrl.restoreProgress &amp;&amp; maintenanceSettingsCtrl.restoreProgress.hasOwnProperty(\'percent\')"><div class="statusBar__inner" style="width: {{maintenanceSettingsCtrl.restoreProgress.percent || 0}}%;"></div></div></div></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_SUPPORT_INFO"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_DOWNLOAD"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy downloadSupportInfo" type="button" ng-click="maintenanceSettingsCtrl.downloadSupportInfo()" busy-toggle="maintenanceSettingsCtrl.isDownloadingSupportInfo" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_DOWNLOAD_SUPPORT_INFO\' | translate}}</button><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-class="{\'appInfoBox--dark\': maintenanceSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_MAINTENANCE_INFO_BOX_SUPPORT_INFO"></p></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_SYSTEM_CONFIG"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy downloadSupportInfo" type="button" ng-click="maintenanceSettingsCtrl.showSystemConfig()" busy-toggle="maintenanceSettingsCtrl.isPreparingConfig" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_SHOW_SYSTEM_CONFIG\' | translate}}</button></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-if="maintenanceSettingsCtrl.isCloudKey"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_CLOUD_KEY_FIRMWARE"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_CURRENT_VERSION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.repository.model.get(\'cloudkey_version\')}}</label></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy checkForCloudKeyFirmwareUpdate" type="button" ng-click="maintenanceSettingsCtrl.checkForCloudKeyFirmwareUpdate()" busy-toggle="maintenanceSettingsCtrl.isCheckingForCloudKeyFirmwareUpdate" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_CHECK_FOR_UPDATE\' | translate}}</button></div></div><div class="appRow" ng-if="maintenanceSettingsCtrl.system.repository.model.get(\'cloudkey_update_available\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_AVAILABLE_VERSION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.repository.model.get(\'cloudkey_update_version\')}}</label></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy updateCloudKeyFirmware" type="button" ng-click="maintenanceSettingsCtrl.updateCloudKeyFirmware()" busy-toggle="maintenanceSettingsCtrl.isUpdatingCloudKeyFirmware" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_APPLY_UPDATE\' | translate}}</button></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_UPDATE_STATUS"></label></div><div class="col--sm9 appFormGroup"><h5 class="noMarginBottom"><span class="appBadge" ng-class="{                  \'appBadge--success\': !maintenanceSettingsCtrl.system.repository.model.get(\'cloudkey_update_available\'),                  \'appBadge--warning\': maintenanceSettingsCtrl.system.repository.model.get(\'cloudkey_update_available\')                }" translate="SETTINGS_MAINTENANCE_LABEL_UPDATE_STATUS_{{maintenanceSettingsCtrl.system.getFirmwareUpdateStatus()}}"></span></h5></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_CLOUD_KEY_CONTROLLER"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_CURRENT_VERSION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.repository.model.get(\'package_version\')}}</label></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy checkForCloudKeyControllerUpdate" type="button" ng-click="maintenanceSettingsCtrl.checkForCloudKeyControllerUpdate()" busy-toggle="maintenanceSettingsCtrl.isCheckingForCloudKeyControllerUpdate" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_CHECK_FOR_UPDATE\' | translate}}</button></div></div><div class="appRow" ng-if="maintenanceSettingsCtrl.system.isPackageUpdateAvailable()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_AVAILABLE_VERSION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><label>{{maintenanceSettingsCtrl.system.getPackageUpdateVersion()}}</label></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--cozy updateCloudKeyController" type="button" ng-click="maintenanceSettingsCtrl.updateCloudKeyController()" busy-toggle="maintenanceSettingsCtrl.isUpdatingCloudKeyController" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_APPLY_UPDATE\' | translate}}</button></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_UPDATE_STATUS"></label></div><div class="col--sm9 appFormGroup"><h5 class="noMarginBottom"><span class="appBadge" ng-class="{                  \'appBadge--success\': !maintenanceSettingsCtrl.system.repository.model.get(\'package_update_version\'),                  \'appBadge--warning\': maintenanceSettingsCtrl.system.repository.model.get(\'package_update_version\')                }" translate="SETTINGS_MAINTENANCE_LABEL_UPDATE_STATUS_{{maintenanceSettingsCtrl.system.getControllerUpdateStatus()}}"></span></h5></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_SECTION_CLOUD_KEY_OPERATIONS"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_MAINTENANCE_LABEL_ACTIONS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy restartCloudKey" type="button" ng-click="maintenanceSettingsCtrl.restartCloudKey()" busy-toggle="maintenanceSettingsCtrl.isRestartingCloudKey" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_RESTART_CLOUD_KEY\' | translate}}</button></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--primary appMainButton--cozy shutdownCloudKey" type="button" ng-click="maintenanceSettingsCtrl.shutdownCloudKey()" busy-toggle="maintenanceSettingsCtrl.isShuttingDownCloudKey" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_SHUTDOWN_CLOUD_KEY\' | translate}}</button></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--danger appMainButton--cozy resetCloudKey" type="button" ng-click="maintenanceSettingsCtrl.resetCloudKey()" busy-toggle="maintenanceSettingsCtrl.isResettingCloudKey" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SETTINGS_MAINTENANCE_ACTIONS_RESET_CLOUD_KEY\' | translate}}</button></div></div></div></div></div></fieldset><div class="unifiSettingsSection" ng-if="!maintenanceSettingsCtrl.system.isUnifiGo()"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_MAINTENANCE_FIRMWARE"></div><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--cozy" ng-class="{ \'appMainButtonGroup--dark\': maintenanceSettingsCtrl.preferences.model.get(\'isSettingsDark\') }"><li class="button appMainButton appMainButton--cozy" ng-repeat="deviceType in [\'all\', \'known\', \'site\']" ng-click="maintenanceSettingsCtrl.filterDevice = deviceType" ng-class="{\'is-button-selected\': maintenanceSettingsCtrl.filterDevice === deviceType }">{{maintenanceSettingsCtrl.filterDeviceTranslationKeys[deviceType] | translate}}</li></ul></div><div class="appActionBarFilter"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--cozy" ng-class="{ \'appMainButtonGroup--dark\': maintenanceSettingsCtrl.preferences.model.get(\'isSettingsDark\') }"><li class="button appMainButton appMainButton--cozy" ng-repeat="state in [\'all\', \'cached\', \'available\']" ng-click="maintenanceSettingsCtrl.filterState = state" ng-class="{\'is-button-selected\': maintenanceSettingsCtrl.filterState === state}">{{maintenanceSettingsCtrl.filterStateTranslationKeys[state] | translate}}</li></ul></div></div></div></div><unifi-firmware-list unifi-firmware-list-filter-device="maintenanceSettingsCtrl.filterDevice" unifi-firmware-list-filter-state="maintenanceSettingsCtrl.filterState"></unifi-firmware-list></div></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],114:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s){this.collection=r.repository.collection,s(this),n.call(this,e,t,i,o,a)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","ENV","networks","preferences","missingModelControllerMixin"],angular.module("app-unifi-manage-settings").controller("NetworksController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],115:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiNetworks",{controller:"NetworksController",controllerAs:"networksCtrl",template:e("./networks.pug")()})},{"./networks.pug":116}],116:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="networkSettings"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_NETWORKS"></div></div><div ng-if="networksCtrl.view === \'form\'" ng-switch="networksCtrl.model.attributes.purpose" ng-init="networksCtrl.sharedAttrs = networksCtrl.model.deepAttributes()"><div ng-switch-when="remote-user-vpn" unifi-network-form-remote-user-vpn="networksCtrl.model" unifi-network-form-remote-user-vpn-attrs="networksCtrl.sharedAttrs" unifi-network-form-remote-user-vpn-on-save="networksCtrl.list()" unifi-network-form-remote-user-vpn-on-cancel="networksCtrl.list()" unifi-network-form-remote-user-vpn-is-read-only="!networksCtrl.isAdmin()"></div><div ng-switch-when="site-vpn" unifi-network-form-site-vpn="networksCtrl.model" unifi-network-form-site-vpn-attrs="networksCtrl.sharedAttrs" unifi-network-form-site-vpn-on-save="networksCtrl.list()" unifi-network-form-site-vpn-on-cancel="networksCtrl.list()" unifi-network-form-site-vpn-is-read-only="!networksCtrl.isAdmin()"></div><div ng-switch-when="vlan-only" unifi-network-form-vlan-only="networksCtrl.model" unifi-network-form-vlan-only-attrs="networksCtrl.sharedAttrs" unifi-network-form-vlan-only-on-save="networksCtrl.list()" unifi-network-form-vlan-only-on-cancel="networksCtrl.list()" unifi-network-form-vlan-only-is-dark="networksCtrl.preferences.model.get(\'isSettingsDark\')" unifi-network-form-vlan-only-is-read-only="!networksCtrl.isAdmin()"></div><div ng-switch-when="vpn-client" unifi-network-form-vpn-client="networksCtrl.model" unifi-network-form-vpn-client-attrs="networksCtrl.sharedAttrs" unifi-network-form-vpn-client-on-save="networksCtrl.list()" unifi-network-form-vpn-client-on-cancel="networksCtrl.list()" unifi-network-form-vpn-client-is-read-only="!networksCtrl.isAdmin()"></div><div ng-switch-when="wan" unifi-network-form-wan="networksCtrl.model" unifi-network-form-wan-attrs="networksCtrl.sharedAttrs" unifi-network-form-wan-on-save="networksCtrl.list()" unifi-network-form-wan-on-cancel="networksCtrl.list()" unifi-network-form-wan-is-read-only="!networksCtrl.isAdmin()"></div><div'+n("ng-switch-default",!0,!0,!0)+' unifi-network-form-lan="networksCtrl.model" unifi-network-form-lan-attrs="networksCtrl.sharedAttrs" unifi-network-form-lan-on-save="networksCtrl.list()" unifi-network-form-lan-on-cancel="networksCtrl.list()" unifi-network-form-lan-is-dark="networksCtrl.preferences.model.get(\'isSettingsDark\')" unifi-network-form-lan-is-read-only="!networksCtrl.isAdmin()"></div></div><div ng-if="networksCtrl.view === \'list\'"><unifi-network-list unifi-network-list-on-edit="networksCtrl.edit(model)"></unifi-network-list><div class="unifiSettingsFooter"'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton" ng-click="networksCtrl.add()" ng-class="networksCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--inputDark\' :           \'appMainButton--input\'        "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_NETWORK_BUTTON_ADD"></span></button></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],117:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("NotificationsSettingsController",["$translate","BaseSettingsController","frame","localStorageFailSafe","StorageObjectValue","notifications","preferences","EVENT_KEYS",function(e,t,i,r,a,s,l,p){return new(function(u){function d(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return e.preferences=l,e.isEventDisabled=s.isEventDisabled.bind(s),e.isEventDefault=s.isEventDefault.bind(s),e.settingsSection="notifications",e.settingsSectionTranslationKeys={super_events:"SETTINGS_NAV_NOTIFICATIONS"},e.storage=new a(r,"LOGGING_SETTINGS_EXPANDED"),e.storage.hydrate(),e.isExpanded=e.storage.getValue()||{},e.withDisabled=!1,e.eventGroups=[{id:"ap",groups:["AP","CF"],translationKey:"SETTINGS_NOTIFICATIONS_SECTION_AP"},{id:"gateway",groups:"GW",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_GATEWAY"},{id:"switch",groups:"SW",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_SWITCH"},{id:"client",groups:["LC","LG","LU","WC","WG","WU"],translationKey:"SETTINGS_NOTIFICATIONS_SECTION_CLIENT"},{id:"hotspot",groups:"HS",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_HOTSPOT"},{id:"stream",groups:"PA",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_STREAM"},{id:"admin",groups:"AD",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_ADMIN"},{id:"ips",groups:"IPS",translationKey:"SETTINGS_NOTIFICATIONS_SECTION_IPS"}],e.updateEvents(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,t),o(d,[{key:"updateEvents",value:function(){var e=this;this.eventsByGroup={},this.eventGroups.forEach(function(t){e.eventsByGroup[t.id]=s.getEventsByGroup(t.groups,!0)})}},{key:"isEventInEventGroup",value:function(e,t){return angular.isArray(t.groups)?-1!==t.groups.indexOf(e.getEventGroup()):t.groups===e.getEventGroup()}},{key:"getDisabledCountByEventGroup",value:function(e){var t=this;return Object.keys(this.forms).reduce(function(i,n){var o=t.forms[n]&&t.forms[n].modelCopy;return o&&t.isEventInEventGroup(o,e)&&s.isEventDisabled(o)?i+1:i},0)}},{key:"getEventLabel",value:function(e){var t=p[e.id];return"object"===(void 0===t?"undefined":n(t))&&(t=t.key),t&&t.replace("EVT_","EVT_LABEL_")}},{key:"getEffectiveEvent",value:function(e){return s.repositories.effectiveEvents.collection.get(e.id)}},{key:"getDefaultEvent",value:function(e){return s.repositories.defaultEvents.collection.get(e.id)}},{key:"areAllEventGroupsCollapsed",value:function(){var e=this;return!this.eventGroups.reduce(function(t,i){return t=!(!t&&!e.isExpanded[i.id])},!1)}},{key:"expandEventGroups",value:function(){var e=this;this.eventGroups.forEach(function(t){e.isExpanded[t.id]=!0}),this.storage.setValue(this.isExpanded)}},{key:"collapseEventGroups",value:function(){var e=this;this.eventGroups.forEach(function(t){e.isExpanded[t.id]=!1}),this.storage.setValue(this.isExpanded)}},{key:"toggleExpandGroup",value:function(e){this.isExpanded[e.id]=!this.isExpanded[e.id],this.storage.setValue(this.isExpanded)}},{key:"resetEventToDefaults",value:function(e){var t=this.getDefaultEvent(e);e.set(t.toJSON())}},{key:"resetToDefaults",value:function(){var t=this;return i.show("confirm",{title:function(){return e.instant("SETTINGS_NOTIFICATIONS_RESET_CONFIRM_TITLE")},message:function(){return e.instant("SETTINGS_NOTIFICATIONS_RESET_CONFIRM_MESSAGE")},options:angular.noop}).then(function(){t.isDefaulting=!0;var e={};angular.forEach(Object.keys(t.forms),function(i){var n=t.forms[i].modelCopy;n.set(t.getDefaultEvent(n).toJSON()),e[i]={}});var i=[];return i.push(t.saveSection(t.getSettingFromKey("super_events"),e,"super_events")),t.afterSave(i).finally(function(){t.isDefaulting=!1})})}},{key:"save",value:function(){var e=this;this.isSubmitting=!0;var t={};angular.forEach(Object.keys(this.forms),function(i){s.isEventDefault(e.forms[i].modelCopy)?t[i]={}:t[i]=e.forms[i].modelCopy.toJSON()});var i=[];return i.push(this.saveSection(this.getSettingFromKey("super_events"),t,"super_events")),this.afterSave(i).finally(function(){e.isSubmitting=!1})}}]),d}())}])},{}],118:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiNotificationsSettings",{controller:"NotificationsSettingsController",controllerAs:"notificationsSettingsCtrl",template:e("./notificationsSettings.pug")()})},{"./notificationsSettings.pug":119}],119:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="notificationsSettings"><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="notificationsSettingsCtrl.form" ng-class="{      \'appForm--dark\': notificationsSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': notificationsSettingsCtrl.showValidation,      \'is-validation-hidden\': !notificationsSettingsCtrl.showValidation    }" ng-submit="notificationsSettingsCtrl.form.$valid &amp;&amp; notificationsSettingsCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="notificationsSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="notificationsSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="notificationsSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="notificationsSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!notificationsSettingsCtrl.isAdmin()"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__left"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_NOTIFICATIONS"></div></div><div class="unifiSettingsHeader__right"><div class="appActionIconGroup"><div class="appActionIcon appActionIcon--medium" ng-click="notificationsSettingsCtrl.withDisabled = !notificationsSettingsCtrl.withDisabled" ng-class="{                \'appActionIcon--dark\': notificationsSettingsCtrl.preferences.model.get(\'isSettingsDark\'),                \'appActionIcon--primary\': notificationsSettingsCtrl.withDisabled,              }" title="{{notificationsSettingsCtrl.withDisabled ? \'SETTINGS_NOTIFICATIONS_ACTION_HIDE_DISABLED_EVENTS\' : \'SETTINGS_NOTIFICATIONS_ACTION_SHOW_DISABLED_EVENTS\' | translate}}"><span class="icon ubnt-icon--eye-fill"></span></div><div class="appActionIcon appActionIcon--medium appActionIcon--primary" ng-click="isExpandIcon ? notificationsSettingsCtrl.expandEventGroups() : notificationsSettingsCtrl.collapseEventGroups()" title="{{(isExpandIcon = notificationsSettingsCtrl.areAllEventGroupsCollapsed()) ? \'COMMON_PROPERTY_PANEL_EXPAND_ALL\' : \'COMMON_PROPERTY_PANEL_COLLAPSE_ALL\' | translate}}"><span class="icon ubnt-icon--menu"></span></div></div></div></div><div class="unifiSettingsSection" ng-repeat="eventGroup in notificationsSettingsCtrl.eventGroups"><div class="appSubHeading appSubHeading--comfy" ng-click="notificationsSettingsCtrl.toggleExpandGroup(eventGroup)" ng-class="notificationsSettingsCtrl.isExpanded[eventGroup.id] ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'"><span translate="{{eventGroup.translationKey}}"></span><a class="appSubHeading__note" ng-if="!notificationsSettingsCtrl.withDisabled &amp;&amp; notificationsSettingsCtrl.isExpanded[eventGroup.id] &amp;&amp; (numDisabled = notificationsSettingsCtrl.getDisabledCountByEventGroup(eventGroup))" ng-click="notificationsSettingsCtrl.withDisabled = true; $event.stopPropagation()" translate="SETTINGS_NOTIFICATIONS_DISABLED_EVENTS" translate-values="{count: numDisabled}" translate-interpolation="messageformat"></a></div><fieldset class="appFieldset appFieldset--quiet" ng-show="notificationsSettingsCtrl.isExpanded[eventGroup.id]"><ng-form ng-repeat="event in notificationsSettingsCtrl.eventsByGroup[eventGroup.id]" ng-if="eventLabel = notificationsSettingsCtrl.getEventLabel(event)" name="notificationsSettingsCtrl.forms[event.id]" unifi-model-form="notificationsSettingsCtrl.getEffectiveEvent(event)"><div class="appRow" ng-hide="!notificationsSettingsCtrl.withDisabled &amp;&amp; notificationsSettingsCtrl.isEventDisabled(modelFormCtrl.modelCopy)"><div class="col--sm5 col--md4 col--lg3"><label class="appLabel--primary" translate="{{eventLabel}}" ng-class="{\'is-label-disabled\': notificationsSettingsCtrl.isEventDisabled(modelFormCtrl.modelCopy)}"></label></div><div class="col--sm7 col--md8 col--lg9 appFormGroup appFormGroup--condensed"><div class="appInputGroup appInputGroup--cozy inlineBlock horizontalRhythm--cozy"><input type="checkbox" name="notificationEvent-{{event.id}}" id="notificationEvent-{{event.id}}" ng-model="modelFormCtrl.modelCopy.attributes.event_enabled" ng-model-master="modelFormCtrl.model.attributes.event_enabled"><label for="notificationEvent-{{event.id}}" translate="SETTINGS_NOTIFICATIONS_LABEL_EVENT"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock horizontalRhythm--cozy"><input type="checkbox" name="notificationAlert-{{event.id}}" id="notificationAlert-{{event.id}}" ng-model="modelFormCtrl.modelCopy.attributes.alert_enabled" ng-model-master="modelFormCtrl.model.attributes.alert_enabled"><label for="notificationAlert-{{event.id}}" translate="SETTINGS_NOTIFICATIONS_LABEL_ALERT"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock horizontalRhythm--cozy"><input type="checkbox" name="notificationEmail-{{event.id}}" id="notificationEmail-{{event.id}}" ng-model="modelFormCtrl.modelCopy.attributes.email_enabled" ng-model-master="modelFormCtrl.model.attributes.email_enabled"><label for="notificationEmail-{{event.id}}" translate="SETTINGS_NOTIFICATIONS_LABEL_EMAIL"></label></div><div class="appInputGroup inlineBlock horizontalRhythmLeft--cozy"><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed" type="button" ng-if="!notificationsSettingsCtrl.isEventDefault(modelFormCtrl.modelCopy)" ng-click="notificationsSettingsCtrl.resetEventToDefaults(modelFormCtrl.modelCopy)" title="{{\'COMMON_ACTIONS_RESET_TO_DEFAULTS\' | translate}}"><span class="button__icon icon ubnt-icon--reset"></span></button></div></div></div></ng-form></fieldset></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+n("unifi-if-role-super-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': notificationsSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="notificationsSettingsCtrl.showValidation = true" ng-disabled="notificationsSettingsCtrl.isDefaulting" busy-toggle="notificationsSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="notificationsSettingsCtrl.reset()" ng-disabled="notificationsSettingsCtrl.form.$pristine" ng-class="notificationsSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?             \'appMainButton--transparentDark\' :             \'appMainButton--transparent\'          ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div><div class="appFormFooter__right"><button class="appMainButton appMainButton--danger" type="button" ng-click="notificationsSettingsCtrl.resetToDefaults()" ng-disabled="notificationsSettingsCtrl.isSubmitting" busy-toggle="notificationsSettingsCtrl.isDefaulting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_RESET_TO_DEFAULTS\' | translate}}</button></div></div></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],120:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("NtpSettingsController",["preferences","BaseSettingsController","REGEX_PATTERNS",function(e,t,i){return new(function(o){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.preferences=e,t.settingsSectionTranslationKey="SETTINGS_SERVICES_TAB_NTP",t.settingsSectionTranslationKeys={ntp:"SETTINGS_SERVICES_TAB_NTP"},t.patterns={hostname:i.HOSTNAME,ipAddress:i.IPV4_ADDRESS},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),n(r,[{key:"save",value:function(){var e=this,t=[];return this.isSubmitting=!0,angular.forEach(["ntp"],function(i){t.push(e.saveSection(e.getSettingFromKey(i),e.forms[i].modelCopy.attributes,i))}),this.afterSave(t).finally(function(){e.isSubmitting=!1})}}]),r}())}])},{}],121:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiNtpSettings",{controller:"NtpSettingsController",controllerAs:"ntpSettingsCtrl",template:e("./ntpSettings.pug")()})},{"./ntpSettings.pug":122}],122:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="ntpSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="ntpSettingsCtrl.form" ng-class="{      \'appForm--dark\': ntpSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': ntpSettingsCtrl.showValidation,      \'is-validation-hidden\': !ntpSettingsCtrl.showValidation    }" ng-submit="ntpSettingsCtrl.form.$valid &amp;&amp; ntpSettingsCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="ntpSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="ntpSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="ntpSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="ntpSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!ntpSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="ntpSettingsCtrl.forms.ntp" unifi-model-form="ntpSettingsCtrl.getSettingFromKey(\'ntp\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" for="ntpServer_1" translate="SETTINGS_NTP_LABEL"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="noMarginBottom"'+n("unifi-repeatable-input",!0,!0,!0)+' unifi-repeatable-input-min="4" unifi-repeatable-input-max="4"><div class="remoteSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableInputCtrl.getOptions() track by $index"><input type="text" name="ntp_server_{{$index + 1}}" id="ntpServer_{{$index + 1}}" ng-model="modelFormCtrl.modelCopy.attributes[\'ntp_server_\' + ($index + 1)]" ng-model-master="modelFormCtrl.model.attributes[\'ntp_server_\' + ($index + 1)]" unifi-validate-patterns="[                        ntpSettingsCtrl.patterns.hostname,                        ntpSettingsCtrl.patterns.ipAddress                      ]"><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRemoteSubnet" type="button" ng-show="!repeatableInputCtrl.isReadOnly" ng-click="repeatableInputCtrl.removeItem($index)" ng-hide="!repeatableInputCtrl.isRemoveAllowed()" title="{{\'SETTINGS_NTP_BUTTON_REMOVE\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-show="!repeatableInputCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRemoteSubnet" type="button" ng-click="repeatableInputCtrl.addItem()" ng-hide="!repeatableInputCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_NTP_BUTTON_ADD"></span></button></div></div></div></div></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': ntpSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" type="submit" ng-click="ntpSettingsCtrl.showValidation = true" busy-toggle="ntpSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" translate="COMMON_ACTIONS_APPLY_CHANGES"></button><button class="appMainButton" type="button" ng-click="ntpSettingsCtrl.reset()" ng-disabled="ntpSettingsCtrl.form.$pristine" ng-class="ntpSettingsCtrl.preferences.model.get(\'isSettingsDark\') ? \'appMainButton--transparentDark\' : \'appMainButton--transparent\'" translate="COMMON_ACTIONS_RESET"></button></div></div></div></div></ng-form></div></fieldset></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],123:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s,l){this.collection=a.repository.collection,this.hasSiteGateway=o.hasSiteGateway.bind(o),r(this),n.call(this,e,t,i,l,s)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","gatewayUtils","missingModelControllerMixin","portForwards","preferences","ENV"],angular.module("app-unifi-manage").controller("PortForwardController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],124:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiPortForward",{controller:"PortForwardController",controllerAs:"portForwardCtrl",template:e("./portForward.pug")()})},{"./portForward.pug":125}],125:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="portForwardSettings"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-security-gateway-is-required ng-if="!portForwardCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_PORT_FORWARD_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><div ng-if="portForwardCtrl.view === \'form\' &amp;&amp; portForwardCtrl.hasSiteGateway()" unifi-port-forward-form="portForwardCtrl.model" unifi-port-forward-form-on-save="portForwardCtrl.list()" unifi-port-forward-form-on-cancel="portForwardCtrl.list()" unifi-port-forward-form-is-read-only="!portForwardCtrl.isAdmin()"></div><div ng-if="portForwardCtrl.view === \'list\' &amp;&amp; portForwardCtrl.hasSiteGateway()"><unifi-port-forward-list unifi-port-forward-list-on-edit="portForwardCtrl.edit(model)"></unifi-port-forward-list><div class="unifiSettingsFooter"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton" ng-click="portForwardCtrl.add()" ng-class="portForwardCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--inputDark\' :           \'appMainButton--input\'        "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_PORT_FORWARD_BUTTON_CREATE"></span></button></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],126:[function(e,t,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(e,t,i,o,r,a,s,l){this.$translate=e,this.heyToasts=t,this.portForwards=r,this.portForwardStats=a,this.preferences=s,this.apiResults=o,this.patterns={ip:l.IPV4_ADDRESS,name:l.NAME},n.call(this,i)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){this.isSubmitting=!0;var e=angular.extend({},this.modelCopy.attributes,{src:"limited"===this.srcType?this.limitedSrc:this.srcType,proto:this.protocol});return this.model.save(e,{wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("SETTINGS_ROUTING_TAB_PORT_FORWARD").toLowerCase()})),this.portForwards.repository.collection.add(this.model,{merge:!0}),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("SETTINGS_ROUTING_TAB_PORT_FORWARD").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.setDefaultAttrs=function(e){var t=e?"Master":"",i=e?"":"Copy";this["srcType"+t]=this.model&&this.model.get("src")&&"any"!==this.model.get("src")?"limited":"any",this["limitedSrc"+t]=this.model&&"any"!==this.model.get("src")?this.model.get("src"):"",this["protocol"+t]=(this.model?this.model.get("proto"):void 0)||"tcp_udp",this["model"+i]&&(this["model"+i].attributes.enabled=!this.model||!1!==this.model.get("enabled"))},o.prototype.updateMultipleDestinationPorts=function(){this.hasMultipleDestinationPorts=!(!this.modelCopy||!this.modelCopy.attributes.dst_port)&&this.isMultiplePortString(this.modelCopy.attributes.dst_port),this.modelCopy.attributes.fwd_port=this.modelCopy.attributes.dst_port},o.prototype.showUpdateMultipleDestinationPortsPrompt=function(){return this.modelCopy&&this.modelCopy.attributes.fwd_port===this.modelCopy.attributes.dst_port||this.form.portForwardDstPort.$invalid},o.prototype.isMultiplePortString=function(e){return!/^[0-9]*$/.test(e)},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$translate","heyToasts","modelDivergence","apiResults","portForwards","portForwardStats","preferences","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("PortForwardFormController",o)},{}],127:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiPortForwardForm",["updateModelDirectiveMixin",function(t){return{scope:{model:"=unifiPortForwardForm",onSave:"&unifiPortForwardFormOnSave",onCancel:"&unifiPortForwardFormOnCancel",isReadOnly:"=unifiPortForwardFormIsReadOnly"},controller:"PortForwardFormController",controllerAs:"portForwardFormCtrl",template:e("./portForwardForm.pug")(),link:function(e,i,n,o){e.directiveId=e.$id,e.onSubmit=function(t){!0===t&&e.onSave()},e.$on("$destroy",function(){o.removeEventHandlers()}),t.init(e,i,n,o,!0)}}}])},{"./portForwardForm.pug":128}],128:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="portForwardFormCtrl.form" ng-class="{    \'appForm--dark\': portForwardFormCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': portForwardFormCtrl.showValidation,    \'is-validation-hidden\': !portForwardFormCtrl.showValidation  }" ng-submit="portForwardFormCtrl.form.$valid &amp;&amp; portForwardFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="portForwardFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="portForwardFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="portForwardFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="portForwardFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{ruleName: portForwardFormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_PORT_FORWARD_SECTION_VIEW\' : (portForwardFormCtrl.model.id ? \'SETTINGS_PORT_FORWARD_SECTION_EDIT\' : \'SETTINGS_PORT_FORWARD_SECTION_CREATE\')}}</div><div class="appRow verticalRhythmTop--cozy"><div class="col--sm3"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="portForwardName" ng-model="portForwardFormCtrl.modelCopy.attributes.name" ng-model-master="portForwardFormCtrl.model.attributes.name" ng-pattern="portForwardFormCtrl.patterns.name"'+n("required",!0,!0,!0)+n("autofocus",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_PORT_LABEL_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="portForwardingEnabled" id="portForwardingEnabled" ng-model="portForwardFormCtrl.modelCopy.attributes.enabled" ng-model-master="portForwardFormCtrl.model.attributes.enabled"><label for="portForwardingEnabled" translate="SETTINGS_PORT_FORWARD_ENABLE"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_FROM"></label></div><div class="col--sm7 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="portForwardSrc" id="portForwardSrcAny" value="any" ng-model="portForwardFormCtrl.srcType" ng-model-master="portForwardFormCtrl.srcTypeMaster"><label for="portForwardSrcAny" translate="DEVICE_PROPERTIES_VALUES_ANYWHERE"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="portForwardSrc" id="portForwardSrcLimited" value="limited" ng-model="portForwardFormCtrl.srcType" ng-model-master="portForwardFormCtrl.srcTypeMaster"><label for="portForwardSrcLimited" translate="DEVICE_PROPERTIES_VALUES_LIMITED"></label><input type="text" name="portForwardSrcLimited" ng-model="portForwardFormCtrl.limitedSrc" ng-model-master="portForwardFormCtrl.limitedSrcMaster" ng-disabled="portForwardFormCtrl.srcType !== \'limited\'" ng-required="portForwardFormCtrl.srcType === \'limited\'"'+n("unifi-validate-ip-range",!0,!0,!0)+'></div><div class="appInputFeedback appInputFeedback--danger" ng-if="portForwardFormCtrl.form.portForwardSrcLimited.$invalid" translate="VALIDATION_HINT_IP_RANGE"></div></div></div></div><div class="appRow"><div class="col--sm3 col--xs12"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_PORT"></label></div><div class="col--sm9 col--xs12 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input class="input--half" type="text" name="portForwardDstPort" ng-model="portForwardFormCtrl.modelCopy.attributes.dst_port" ng-model-master="portForwardFormCtrl.model.attributes.dst_port"'+n("required",!0,!0,!0)+n("unifi-validate-port-range",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-if="portForwardFormCtrl.form.portForwardDstPort.$invalid" translate="VALIDATION_HINT_PORT_RANGE"></div><unifi-tooltip><content><span>1000,1002-1004,...</span></content></unifi-tooltip><button class="appMainButton appMainButton--cozy updateForwardPort" type="button" ng-click="portForwardFormCtrl.updateMultipleDestinationPorts()" ng-show="!portForwardFormCtrl.showUpdateMultipleDestinationPortsPrompt()" ng-class="portForwardFormCtrl.preferences.model.get(\'isSettingsDark\') ?                 \'appMainButton--secondaryDark\' :                 \'appMainButton--secondary\'               " translate="SETTINGS_NETWORK_BUTTON_UPDATE_FORWARD_PORTS"></button></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_FORWARD_IP"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input class="input--half" type="text" name="portForwardFwdIp" ng-model="portForwardFormCtrl.modelCopy.attributes.fwd" ng-model-master="portForwardFormCtrl.model.attributes.fwd" ng-pattern="portForwardFormCtrl.patterns.ip"'+n("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_FORWARD_PORT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input class="input--half" type="text" name="portForwardFwdPort" ng-model="portForwardFormCtrl.modelCopy.attributes.fwd_port" ng-model-master="portForwardFormCtrl.model.attributes.fwd_port" ng-disabled="portForwardFormCtrl.hasMultipleDestinationPorts"'+n("required",!0,!0,!0)+n("unifi-validate-port-range",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-if="portForwardFormCtrl.form.portForwardFwdPort.$invalid" translate="VALIDATION_HINT_PORT_RANGE"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_PROTOCOL"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="portForwardProtocol" id="portForwardProtocolBoth" value="tcp_udp" ng-model="portForwardFormCtrl.protocol" ng-model-master="portForwardFormCtrl.protocolMaster"><label for="portForwardProtocolBoth" translate="DEVICE_PROPERTIES_VALUES_BOTH"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="portForwardProtocol" id="portForwardProtocolTcp" value="tcp" ng-model="portForwardFormCtrl.protocol" ng-model-master="portForwardFormCtrl.protocolMaster"><label for="portForwardProtocolTcp" translate="DEVICE_PROPERTIES_VALUES_TCP"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="portForwardProtocol" id="portForwardProtocolUdp" value="udp" ng-model="portForwardFormCtrl.protocol" ng-model-master="portForwardFormCtrl.protocolMaster"><label for="portForwardProtocolUdp" translate="DEVICE_PROPERTIES_VALUES_UDP"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="DEVICE_PROPERTIES_LABEL_LOG"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="portForwardLog" id="portForwardLog" ng-model="portForwardFormCtrl.modelCopy.attributes.log" ng-model-master="portForwardFormCtrl.model.attributes.log"><label for="portForwardLog" translate="DEVICE_PROPERTIES_VALUES_LOG"></label></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{      \'appFormFooter--dark\': portForwardFormCtrl.preferences.model.get(\'isSettingsDark\')    }"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success savePortForward" ng-if="!isReadOnly" ng-click="portForwardFormCtrl.showValidation = true" busy-toggle="portForwardFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="portForwardFormCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":2}],129:[function(e,t,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(e,t,i,o,r,a,s,l,p,u){this.$translate=e,this.heyToasts=t,this.networks=o,this.networkUtils=r,this.preferences=a,this.switches=s,this.CAST_RATES=l,this.EGRESS_RATE_LIMITS=p,this.PORT_PROFILE_DEFAULTS=u,this.poeOptions=[{value:void 0,translationKey:"COMMON_VALUE_DO_NOT_MODIFY"},{value:"off",translationKey:"DEVICE_PROPERTIES_VALUES_OFF"},{value:"pasv24",translationKey:"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_PASSIVE"},{value:"auto",translationKey:"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_AUTO"},{value:"passthrough",translationKey:"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_PASSTHROUGH"}],this.operationOptions=[{value:"switch",translationKey:"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_OPERATION_SWITCH"},{value:"mirror",translationKey:"DEVICE_PROPERTIES_SWITCH_PORT_VALUES_OPERATION_MIRROR"}],this.speedOptions=[{value:1e4,label:"10 Gbps"},{value:1e3,label:"1000 Mbps"},{value:100,label:"100 Mbps"},{value:10,label:"10 Mbps"}],this.isNetworksVlansExpanded=!0,n.call(this,i)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.addEventHandlers=function(){n.prototype.addEventHandlers.call(this),this.collectionListeners={networks:this.networks.repository.collection.onEvent("add remove change reset",this.onNetworksChange.bind(this))},this.onNetworksChange()},o.prototype.removeEventHandlers=function(){n.prototype.removeEventHandlers.call(this),this.collectionListeners&&Object.keys(this.collectionListeners).forEach(function(e){this.collectionListeners[e].stopListening()}.bind(this))},o.prototype.save=function(){return this.isSubmitting=!0,this.switches.savePortProfile(this.model,this.getAttrsToSave(),{wait:!0}).then(function(e){return this.heyToasts.pushSuccess(e),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(e),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.getAttrsToSave=function(){var e=angular.extend({},this.modelCopy.attributes);return this.getVisibility("poe-mode")||delete e.poe_mode,this.getVisibility("networks")?(e.native_networkconf_id=e.native_networkconf_id||"",e.voice_networkconf_id=e.voice_networkconf_id||"",angular.extend(e,this.getNetworkAttrsToSave())):(delete e.forward,delete e.native_networkconf_id,delete e.voice_networkconf_id,delete e.tagged_networkconf_ids),this.getVisibility("mirror-port")||delete e.mirror_port_idx,this.getVisibility("dot1x-ctrl")||delete e.dot1x_ctrl,this.getVisibility("full-duplex")||delete e.full_duplex,this.getVisibility("speed")||delete e.speed,this.getVisibility("storm-control")||(delete e.stormctrl_ucast_enabled,delete e.stormctrl_mcast_enabled,delete e.stormctrl_bcast_enabled),e.stormctrl_ucast_enabled||delete e.stormctrl_ucast_rate,e.stormctrl_mcast_enabled||delete e.stormctrl_mcast_rate,e.stormctrl_bcast_enabled||delete e.stormctrl_bcast_rate,this.getVisibility("lldp-med")||delete e.lldpmed_enabled,e.lldpmed_enabled||delete e.lldpmed_notify_enabled,e.egress_rate_limit_kbps_enabled||delete e.egress_rate_limit_kbps,e},o.prototype.getNetworkAttrsToSave=function(){var e=[];return angular.forEach(this.taggedNetworksCopy,function(t,i){t.checked&&e.push(i)}),{forward:this.modelCopy.attributes.native_networkconf_id&&!e.length?"native":"customize",tagged_networkconf_ids:e}},o.prototype.setDefaultAttrs=function(e){var t,i=e?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+i]){var n={op_mode:(this.model?this.model.get("op_mode"):void 0)||this.PORT_PROFILE_DEFAULTS.op_mode,dot1x_ctrl:(this.model?this.model.get("dot1x_ctrl"):void 0)||this.PORT_PROFILE_DEFAULTS.dot1x_ctrl,autoneg:this.model&&this.model.has("autoneg")?this.model.get("autoneg"):this.PORT_PROFILE_DEFAULTS.autoneg,full_duplex:this.model&&this.model.has("full_duplex")?this.model.get("full_duplex"):this.PORT_PROFILE_DEFAULTS.full_duplex,lldpmed_enabled:this.model&&this.model.has("lldpmed_enabled")?this.model.get("lldpmed_enabled"):this.PORT_PROFILE_DEFAULTS.lldpmed_enabled,egress_rate_limit_kbps_enabled:this.model&&this.model.has("egress_rate_limit_kbps_enabled")?this.model.get("egress_rate_limit_kbps_enabled"):this.PORT_PROFILE_DEFAULTS.egress_rate_limit_kbps_enabled};(!this.model.id&&!this["model"+i].native_networkconf_id||this.model.id&&"All"===this.model.get("attr_hidden_id"))&&(n.native_networkconf_id=(this.networks.repository.collection.findWhere({attr_no_delete:!0,attr_hidden_id:"LAN"})||{}).id),this.model.id&&"All"===this.model.get("attr_hidden_id")&&(t=this.nativeNetworks.map(function(e){return"LAN"!==e.get("attr_hidden_id")?e.id:void 0})),angular.extend(e?this.masterWithDefaults:this.modelCopy.attributes,n)}this["taggedNetworks"+i]=this.getTaggedNetworks(t)},o.prototype.setAdvancedExpanded=function(){this.model&&(this.model.get("op_mode")&&"switch"!==this.model.get("op_mode")||this.model.get("dot1x_ctrl")&&"force_authorized"!==this.model.get("dot1x_ctrl")||!1===this.model.get("autoneg")||this.model.get("isolation")||this.model.get("stormctrl_ucast_enabled")||this.model.get("stormctrl_mcast_enabled")||this.model.get("stormctrl_bcast_enabled")||this.model.get("lldpmed_enabled"),this.model.get("egress_rate_limit_kbps_enabled")&&(this.isAdvancedExpanded=!0))},o.prototype.setSelectAllTaggedNetworks=function(){if(this.nativeNetworks){var e=0,t=0;this.nativeNetworks.forEach(function(i){i.id!==this.modelCopy.attributes.native_networkconf_id&&(this.taggedNetworksCopy[i.id]&&this.taggedNetworksCopy[i.id].checked?e++:t++)}.bind(this)),e&&!t?(this.selectAllTaggedNetworks=!0,this.isSelectAllTaggedNetworksIndeterminate=!1):(this.selectAllTaggedNetworks=!1,this.isSelectAllTaggedNetworksIndeterminate=!!e)}},o.prototype.toggleSelectAllTaggedNetworks=function(e,t){this.selectAllTaggedNetworks=angular.isUndefined(e)?!this.selectAllTaggedNetworks:e,t||angular.forEach(this.nativeNetworks,function(e){this.taggedNetworksCopy[e.id]=this.taggedNetworksCopy[e.id]||{name:e.get("name")},this.taggedNetworksCopy[e.id].checked=this.selectAllTaggedNetworks&&e.id!==this.modelCopy.attributes.native_networkconf_id}.bind(this))},o.prototype.getTaggedNetworks=function(e){var t={},i=e||(this.model?this.model.get("tagged_networkconf_ids"):void 0)||[];return angular.forEach(this.nativeNetworks,function(e){t[e.id]={name:e.get("name"),checked:-1!==i.indexOf(e.id)}}),this.modelCopy&&this.modelCopy.attributes.native_networkconf_id&&t[this.modelCopy.attributes.native_networkconf_id]&&(t[this.modelCopy.attributes.native_networkconf_id].checked=!1),t},o.prototype.onNativeNetworkChange=function(){if(this.modelCopy&&this.modelCopy.attributes.native_networkconf_id){var e=this.taggedNetworksCopy&&this.taggedNetworksCopy[this.modelCopy.attributes.native_networkconf_id];e&&(e.checked=!1)}},o.prototype.onNetworksChange=function(){this.nativeNetworks=this.networks.repository.collection.filter(function(e){return-1!==this.networkUtils.nativeNetworkTypes.indexOf(e.get("purpose"))}.bind(this))},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0),this.setAdvancedExpanded()},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$translate","heyToasts","modelDivergence","networks","networkUtils","preferences","switches","CAST_RATES","EGRESS_RATE_LIMITS","PORT_PROFILE_DEFAULTS"],angular.module("app-unifi-manage-settings").controller("PortProfileFormController",o)},{}],130:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiPortProfileForm",["SimpleFormDirective",function(t){var i=new t("portProfile",e("./portProfileForm.pug")());return i.addMixin({init:function(e,t,i,n){e.$watch(function(){return n.nativeNetworks},function(){n.setSelectAllTaggedNetworks()}),e.$watch(function(){return n.taggedNetworksCopy},function(){n.setSelectAllTaggedNetworks()},!0)}}),i}])},{"./portProfileForm.pug":131}],131:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="portProfileFormCtrl.form" ng-class="{    \'appForm--dark\': isDark,    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': portProfileFormCtrl.showValidation,    \'is-validation-hidden\': !portProfileFormCtrl.showValidation  }" ng-submit="portProfileFormCtrl.form.$valid &amp;&amp; portProfileFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="portProfileFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="portProfileFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="isDark" unifi-config-changed-with-icon="true" ng-show="portProfileFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{profileName: portProfileFormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_PROFILES_PORT_SECTION_VIEW\' : (portProfileFormCtrl.model.id ? \'SETTINGS_PROFILES_PORT_SECTION_EDIT\' : \'SETTINGS_PROFILES_PORT_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="portProfileName" ng-model="portProfileFormCtrl.modelCopy.attributes.name" ng-model-master="portProfileFormCtrl.model.attributes.name" unifi-validate-duplicate-in-collection="portProfileFormCtrl.switches.repository.collection" unifi-validate-duplicate-in-collection-param="\'name\'"'+n("required",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger invalidPortProfileName" ng-if="portProfileFormCtrl.form.portProfileName.$error.alreadyInCollection" translate="VALIDATION_HINT_UNIQUE"></div></div></div><div class="appRow" ng-if="!(isReadOnly &amp;&amp; !portProfileFormCtrl.model.attributes.poe_mode)" ng-show="portProfileFormCtrl.setVisibility(\'poe-mode\', portProfileFormCtrl.modelCopy.attributes.op_mode === \'switch\')"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_POE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="option in portProfileFormCtrl.poeOptions"><input type="radio" name="poeMode" id="portProfilePoeMode{{option.value}}" ng-model="portProfileFormCtrl.modelCopy.attributes.poe_mode" ng-model-master="portProfileFormCtrl.model.attributes.poe_mode" ng-value="option.value"'+n("unifi-fix-check-undefined",!0,!0,!0)+'><label for="portProfilePoeMode{{option.value}}" translate="{{option.translationKey}}"></label></div></div></div></div></div><div class="unifiSettingsSection" ng-show="portProfileFormCtrl.setVisibility(\'networks\', portProfileFormCtrl.modelCopy.attributes.op_mode === \'switch\')"><div class="appSubHeading appSubHeading--comfy" ng-click="portProfileFormCtrl.isNetworksVlansExpanded = !portProfileFormCtrl.isNetworksVlansExpanded" ng-class="portProfileFormCtrl.isNetworksVlansExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_PROFILES_PORT_SECTION_NETWORKS_VLANS"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="portProfileFormCtrl.isNetworksVlansExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_NATIVE_NETWORK"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="networkVlanNativeNetwork" ng-model="portProfileFormCtrl.modelCopy.attributes.native_networkconf_id" ng-model-master="portProfileFormCtrl.model.attributes.native_networkconf_id" ng-change="portProfileFormCtrl.onNativeNetworkChange()" ng-options="network.id as network | networkVlan for network in portProfileFormCtrl.nativeNetworks"><option value="">{{\'SETTINGS_PROFILES_PORT_VALUES_NONE\' | translate}}</option></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_PROFILES_PORT_LABEL_TAGGED_NETWORKS"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><ol class="list list--inline appInputList"><li class="appInputGroup networkVlanTaggedNetwork" ng-if="portProfileFormCtrl.nativeNetworks &amp;&amp; portProfileFormCtrl.nativeNetworks.length"><input type="checkbox" id="portProfileTaggedNetworksSelectAll" ng-checked="portProfileFormCtrl.selectAllTaggedNetworks" ng-click="portProfileFormCtrl.toggleSelectAllTaggedNetworks()" unifi-indeterminate-checkbox="portProfileFormCtrl.isSelectAllTaggedNetworksIndeterminate"><label for="portProfileTaggedNetworksSelectAll" translate="COMMON_VALUE_SELECT_ALL"></label></li><li class="appInputGroup networkVlanTaggedNetwork" ng-repeat="network in portProfileFormCtrl.nativeNetworks"><input type="checkbox" id="portProfileTaggedNetwork{{::network.id}}" ng-model="portProfileFormCtrl.taggedNetworksCopy[network.id].checked" ng-model-master="portProfileFormCtrl.taggedNetworks[network.id].checked" ng-disabled="network.id === portProfileFormCtrl.modelCopy.attributes.native_networkconf_id"><label for="portProfileTaggedNetwork{{::network.id}}">{{network | networkVlan}}</label></li></ol></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_VOICE_NETWORK"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="networkVlanVoiceNetwork" ng-model="portProfileFormCtrl.modelCopy.attributes.voice_networkconf_id" ng-model-master="portProfileFormCtrl.model.attributes.voice_networkconf_id" ng-options="network.id as network | networkVlan for network in portProfileFormCtrl.nativeNetworks"><option value="">{{\'SETTINGS_PROFILES_PORT_VALUES_NONE\' | translate}}</option></select></div></div></fieldset></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="portProfileFormCtrl.isAdvancedExpanded = !portProfileFormCtrl.isAdvancedExpanded" ng-class="portProfileFormCtrl.isAdvancedExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="COMMON_SECTION_ADVANCED_OPTIONS"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="portProfileFormCtrl.isAdvancedExpanded"><div class="appRow" unifi-feature-flag-enable="allowPortProfileOpMode"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_PROFILES_PORT_LABEL_OPERATION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="option in portProfileFormCtrl.operationOptions"><input type="radio" name="opMode" id="portProfileOpMode{{option.value}}" ng-model="portProfileFormCtrl.modelCopy.attributes.op_mode" ng-model-master="portProfileFormCtrl.masterWithDefaults.op_mode" ng-value="option.value"><label for="portProfileOpMode{{option.value}}" translate="{{option.translationKey}}"></label></div></div></div></div><div class="appRow" ng-show="portProfileFormCtrl.setVisibility(\'mirror-port\', portProfileFormCtrl.modelCopy.attributes.op_mode === \'mirror\')"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_MIRRORING_PORT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input class="input--smallNumber" type="number" name="mirroringPort" min="1" ng-model="portProfileFormCtrl.modelCopy.attributes.mirror_port_idx" ng-model-master="portProfileFormCtrl.model.attributes.mirror_port_idx" ng-required="portProfileFormCtrl.getVisibility(\'mirror-port\')"'+n("unifi-string-to-integer-input",!0,!0,!0)+'></div></div><div class="appRow" ng-show="portProfileFormCtrl.setVisibility(\'dot1x-ctrl\', portProfileFormCtrl.modelCopy.attributes.op_mode === \'switch\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_PROFILES_PORT_LABEL_8021X_CONTROL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dot1xCtrl" id="portProfile8021xCtrlAuto" value="auto" ng-model="portProfileFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="portProfileFormCtrl.masterWithDefaults.dot1x_ctrl"><label for="portProfile8021xCtrlAuto" translate="SETTINGS_PROFILES_PORT_VALUES_8021X_CONTROL_AUTO"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dot1xCtrl" id="portProfile8021xCtrlForceAuthorized" value="force_authorized" ng-model="portProfileFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="portProfileFormCtrl.model.attributes.dot1x_ctrl"><label for="portProfile8021xCtrlForceAuthorized" translate="SETTINGS_PROFILES_PORT_VALUES_8021X_CONTROL_FORCE_AUTHORIZED"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dot1xCtrl" id="portProfile8021xCtrlForceUnauthorized" value="force_unauthorized" ng-model="portProfileFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="portProfileFormCtrl.model.attributes.dot1x_ctrl"><label for="portProfile8021xCtrlForceUnauthorized" translate="SETTINGS_PROFILES_PORT_VALUES_8021X_CONTROL_FORCE_UNAUTHORIZED"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dot1xCtrl" id="portProfile8021xCtrlMacBased" value="mac_based" ng-model="portProfileFormCtrl.modelCopy.attributes.dot1x_ctrl" ng-model-master="portProfileFormCtrl.model.attributes.dot1x_ctrl"><label for="portProfile8021xCtrlMacBased" translate="SETTINGS_PROFILES_PORT_VALUES_8021X_CONTROL_MAC_BASED"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_PROFILES_PORT_LABEL_LINK_NEGOTIATION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="autoNeg" id="portProfileLinkNegAuto" ng-value="true" ng-model="portProfileFormCtrl.modelCopy.attributes.autoneg" ng-model-master="portProfileFormCtrl.model.attributes.autoneg"><label for="portProfileLinkNegAuto" translate="SETTINGS_PROFILES_PORT_VALUES_LINK_NEGOTIATION_AUTO"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="autoNeg" id="portProfileLinkNegManual" ng-value="false" ng-model="portProfileFormCtrl.modelCopy.attributes.autoneg" ng-model-master="portProfileFormCtrl.masterWithDefaults.autoneg"><label for="portProfileLinkNegManual" translate="SETTINGS_PROFILES_PORT_VALUES_LINK_NEGOTIATION_MANUAL"></label></div></div></div></div><div class="appRow" ng-show="portProfileFormCtrl.setVisibility(\'full-duplex\', !portProfileFormCtrl.modelCopy.attributes.autoneg)"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_PROFILES_PORT_LABEL_FULL_DUPLEX"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableFullDuplex" id="portProfileFullDuplex" ng-model="portProfileFormCtrl.modelCopy.attributes.full_duplex" ng-model-master="portProfileFormCtrl.masterWithDefaults.full_duplex"><label for="portProfileFullDuplex" translate="SETTINGS_PROFILES_PORT_VALUES_ENABLE_FULL_DUPLEX"></label></div></div></div><div class="appRow" ng-show="portProfileFormCtrl.setVisibility(\'speed\', !portProfileFormCtrl.modelCopy.attributes.autoneg)"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_LINK_SPEED"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="linkSpeed" ng-model="portProfileFormCtrl.modelCopy.attributes.speed" ng-model-master="portProfileFormCtrl.model.attributes.speed" ng-options="speed.value as speed.label for speed in portProfileFormCtrl.speedOptions" ng-required="portProfileFormCtrl.getVisibility(\'speed\')"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_ISOLATION"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableIsolation" id="portProfileIsolation" ng-model="portProfileFormCtrl.modelCopy.attributes.isolation" ng-model-master="portProfileFormCtrl.model.attributes.isolation"><label for="portProfileIsolation" translate="SETTINGS_PROFILES_PORT_VALUES_ENABLE_ISOLATION"></label></div></div></div><div class="appRow" ng-show="portProfileFormCtrl.setVisibility(\'storm-control\', portProfileFormCtrl.modelCopy.attributes.op_mode === \'switch\')"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_PROFILES_PORT_LABEL_STORM_CONTROL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy" ng-repeat="type in [\'ucast\', \'mcast\', \'bcast\']"><input type="checkbox" name="enableStormControl{{type}}" id="portProfileStormControl{{type}}" ng-model="portProfileFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\']" ng-model-master="portProfileFormCtrl.model.attributes[\'stormctrl_\' + type + \'_enabled\']"><label for="portProfileStormControl{{type}}" translate="{{\'SETTINGS_PROFILES_PORT_VALUES_\' + type | toTranslationKey}}"></label><input type="number" name="stormControl{{type}}Rate" ng-model="portProfileFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_rate\']" ng-model-master="portProfileFormCtrl.model.attributes[\'stormctrl_\' + type + \'_rate\']" ng-disabled="!portProfileFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\']" ng-required="portProfileFormCtrl.getVisibility(\'storm-control\') &amp;&amp; portProfileFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\']" min="{{portProfileFormCtrl.getVisibility(\'storm-control\') ? portProfileFormCtrl.CAST_RATES.MIN : \'\'}}" max="{{portProfileFormCtrl.getVisibility(\'storm-control\') ? portProfileFormCtrl.CAST_RATES.MAX : \'\'}}"><label ng-class="{\'is-label-disabled\': !portProfileFormCtrl.modelCopy.attributes[\'stormctrl_\' + type + \'_enabled\']}">pkts/s</label><div class="appInputFeedback appInputFeedback--danger invalidStormControlRate" ng-if="portProfileFormCtrl.form[\'stormControl\' + type + \'Rate\'].$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: portProfileFormCtrl.CAST_RATES.MIN, max: \'{{portProfileFormCtrl.CAST_RATES.MAX | numberToString}}\'}"></div></div></div></div><div class="appRow" ng-show="portProfileFormCtrl.setVisibility(\'lldp-med\', portProfileFormCtrl.modelCopy.attributes.op_mode === \'switch\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_PROFILES_PORT_LABEL_LLDP_MED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableLldpMed" id="portProfileEnableLldpMed" ng-model="portProfileFormCtrl.modelCopy.attributes.lldpmed_enabled" ng-model-master="portProfileFormCtrl.masterWithDefaults.lldpmed_enabled" ng-required="!!portProfileFormCtrl.modelCopy.attributes.voice_networkconf_id"><label for="portProfileEnableLldpMed" translate="SETTINGS_PROFILES_PORT_VALUES_ENABLE_LLDP_MED"></label><div class="appInputFeedback appInputFeedback--danger invalidLldpMedRequired" ng-show="portProfileFormCtrl.form.enableLldpMed.$error.required" translate="SETTINGS_PROFILES_PORT_VALIDATION_HINT_LLDP_MED_REQUIRED"></div></div><div class="appInputGroup appInputGroup--cozy" ng-show="portProfileFormCtrl.modelCopy.attributes.lldpmed_enabled"><input type="checkbox" name="enableLldpMedNotify" id="portProfileEnableLldpMedNotify" ng-model="portProfileFormCtrl.modelCopy.attributes.lldpmed_notify_enabled" ng-model-master="portProfileFormCtrl.model.attributes.lldpmed_notify_enabled"><label for="portProfileEnableLldpMedNotify" translate="SETTINGS_PROFILES_PORT_VALUES_ENABLE_LLDP_MED_NOTIFY"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_PROFILES_PORT_LABEL_RATE_LIMIT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="enableRateLimit" id="portProfileEnableRateLimit" ng-model="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled" ng-model-master="portProfileFormCtrl.masterWithDefaults.egress_rate_limit_kbps_enabled"><label for="portProfileEnableRateLimit" translate="SETTINGS_PROFILES_PORT_VALUES_ENABLE_RATE_LIMIT"></label><unifi-binary-input unifi-binary-input-suffix="\'bps\'" unifi-binary-input-base-prefix="\'K\'" unifi-binary-input-allowed-prefixes="[\'K\', \'M\']" unifi-binary-input-standard="\'SI\'" unifi-binary-input-min="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled ? portProfileFormCtrl.EGRESS_RATE_LIMITS.MIN : \'\'" unifi-binary-input-max="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled ? portProfileFormCtrl.EGRESS_RATE_LIMITS.MAX : \'\'" name="rateLimitValue" ng-model="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps" ng-disabled="!portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled" ng-required="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled"></unifi-binary-input><div class="appInputFeedback appInputFeedback--danger invalidRateLimit" ng-if="portProfileFormCtrl.modelCopy.attributes.egress_rate_limit_kbps_enabled &amp;&amp; portProfileFormCtrl.form.rateLimitValue.$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: \'{{portProfileFormCtrl.form.rateLimitValue.rateLimitValue.$$attr.min | numberToString: undefined : 3}}\', max: \'{{portProfileFormCtrl.form.rateLimitValue.rateLimitValue.$$attr.max | numberToString: undefined : 3}}\'}"></div></div></div></div></fieldset></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{      \'appFormFooter--dark\': isDark    }"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success savePortProfile" ng-if="!isReadOnly" ng-click="portProfileFormCtrl.showValidation = true" busy-toggle="portProfileFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="isDark ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":2}],132:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("PortProfileListController",["$translate","BaseListController","frame","heyToasts","networks","preferences","switches","switchUtils",function(e,t,i,o,r,a,s,l){return new(function(p){function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return e.preferences=a,e.switchUtils=l,e.defaultSortBy="name",e.isRemoving={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,t),n(u,[{key:"getCollection",value:function(){return s.repository.collection}},{key:"getNetworkName",value:function(e){var t=r.repository.collection.get(e);return t?t.get("name"):""}},{key:"remove",value:function(t){var n=this;return i.show("confirm",{title:function(){return e.instant("SETTINGS_PROFILES_PORT_DELETE_CONFIRM_TITLE",{name:t.get("name")})},message:function(){return e.instant("SETTINGS_PROFILES_PORT_DELETE_CONFIRM_MESSAGE",{name:t.get("name")})},options:angular.noop}).then(function(){return n.isRemoving[t.id]=!0,s.removePortProfile(t,{wait:!0}).then(function(e){return o.pushSuccess(e),!0}).catch(function(e){return o.pushError(e),n.isRemoving[t.id]=!1,!1})})}},{key:"edit",value:function(e){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:e})}}]),u}())}])},{}],133:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiPortProfileList",["ListDirective",function(t){return new t("portProfile",e("./portProfileList.pug")(),{onEdit:"&unifiPortProfileListOnEdit"})}])},{"./portProfileList.pug":134}],134:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="portProfilesTable" collection-view-sort="portProfileListCtrl.view" ng-class="{      \'appTable--dark\': portProfileListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="portProfileName" collection-view-sort-by="name"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_NAME"></span></th><th class="portProfilePoe" collection-view-sort-by="poe_mode"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_POE"></span></th><th class="portProfileNativeNetwork" collection-view-sort-by="native_networkconf_id"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_NATIVE_NETWORK"></span></th><th class="portProfileLinkNegotiation" collection-view-sort-by="autoneg"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_LINK_NEGOTIATION"></span></th><th class="portProfileIsolation" collection-view-sort-by="isolation"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_ISOLATION"></span></th><th class="portProfileStormControl"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_STORM_CONTROL"></span></th><th class="portProfileActions" colspan="2"><span translate="SETTINGS_PROFILES_PORT_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in portProfileListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="portProfileName wrappable">{{::model.get(\'name\')}}</td><td class="portProfilePoe">{{::portProfileListCtrl.switchUtils.getPortPoeModeText(model, true)}}</td><td class="portProfileNativeNetwork">{{::portProfileListCtrl.getNetworkName(model.get(\'native_networkconf_id\'))}}</td><td class="portProfileLinkNegotiation" ng-switch="::model.get(\'autoneg\')"><span ng-switch-when="true">{{\'DEVICE_PROPERTIES_SWITCH_PORT_VALUES_AUTO\' | translate}}</span><span ng-switch-when="false">{{::model | duplex}}</span></td><td class="portProfileIsolation" ng-bind-html="model.get(\'isolation\') | enabledIcon"></td><td class="portProfileStormControl" ng-bind-html="model.get(\'stormctrl_ucast_enabled\') || model.get(\'stormctrl_mcast_enabled\') || model.get(\'stormctrl_bcast_enabled\') | enabledIcon"></td><td class="portProfileActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed noHorizontalMargin"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="!model.get(\'attr_no_edit\')" ng-click="portProfileListCtrl.edit(model)" ng-disabled="portProfileListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed noHorizontalMargin" unifi-if-role-admin="false" unifi-if-role-admin-or="model.get(\'attr_no_edit\')" ng-click="portProfileListCtrl.edit(model)" ng-disabled="portProfileListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button></td><td class="portProfileActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed noHorizontalMargin"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="!model.get(\'attr_no_delete\')" ng-click="portProfileListCtrl.remove(model)" ng-disabled="portProfileListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!portProfileListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': portProfileListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_PROFILES_PORT_TABLE_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],135:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s){this.collection=r.repository.collection,s(this),n.call(this,e,t,i,o,a)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","ENV","switches","preferences","missingModelControllerMixin"],angular.module("app-unifi-manage-settings").controller("PortProfilesController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],136:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiPortProfiles",{controller:"PortProfilesController",controllerAs:"portProfilesCtrl",template:e("./portProfiles.pug")()})},{"./portProfiles.pug":137}],137:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="portProfilesSettings"><unifi-settings-sub-menu-profiles></unifi-settings-sub-menu-profiles><div ng-if="portProfilesCtrl.view === \'form\'" unifi-port-profile-form="portProfilesCtrl.model" unifi-port-profile-form-on-save="portProfilesCtrl.list()" unifi-port-profile-form-on-cancel="portProfilesCtrl.list()" unifi-port-profile-form-is-dark="portProfilesCtrl.preferences.model.get(\'isSettingsDark\')" unifi-port-profile-form-is-read-only="!portProfilesCtrl.isAdmin() || portProfilesCtrl.model.get(\'attr_no_edit\')"></div><div ng-if="portProfilesCtrl.view === \'list\'"><unifi-port-profile-list unifi-port-profile-list-on-edit="portProfilesCtrl.edit(model)"></unifi-port-profile-list><div class="unifiSettingsFooter"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton" ng-click="portProfilesCtrl.add()" ng-class="portProfilesCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--inputDark\' :           \'appMainButton--input\'        "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_PROFILES_PORT_ACTIONS_BUTTON_ADD"></span></button></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],138:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s){this.collection=r.repository.collection,s(this),n.call(this,e,t,i,o,a)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","ENV","radius","preferences","missingModelControllerMixin"],angular.module("app-unifi-manage-settings").controller("RadiusProfilesController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],139:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiRadiusProfiles",{controller:"RadiusProfilesController",controllerAs:"radiusProfilesCtrl",template:e("./radiusProfiles.pug")()})},{"./radiusProfiles.pug":140}],140:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="radiusProfilesSettings"><unifi-settings-sub-menu-profiles></unifi-settings-sub-menu-profiles><div ng-if="radiusProfilesCtrl.view === \'form\'" unifi-radius-profile-form="radiusProfilesCtrl.model" unifi-radius-profile-form-on-save="radiusProfilesCtrl.list()" unifi-radius-profile-form-on-cancel="radiusProfilesCtrl.list()" unifi-radius-profile-form-is-dark="radiusProfilesCtrl.preferences.model.get(\'isSettingsDark\')" unifi-radius-profile-form-is-read-only="!radiusProfilesCtrl.isAdmin()"></div><div ng-if="radiusProfilesCtrl.view === \'list\'"><unifi-radius-profile-list unifi-radius-profile-list-on-edit="radiusProfilesCtrl.edit(model)"></unifi-radius-profile-list><div class="unifiSettingsFooter"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton" ng-click="radiusProfilesCtrl.add()" ng-class="radiusProfilesCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--inputDark\' :           \'appMainButton--input\'        "><span class="button__icon icon ubnt-icon--plus"></span><span translate="PROFILES_RADIUS_ACTIONS_BUTTON_ADD"></span></button></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],141:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("RadiusServerController",["account","BaseSettingsController","devices","gatewayUtils","networks","preferences","radiusUtils","siteUtils","RADIUS_DEFAULTS","RADIUS_LIMITS","REGEX_PATTERNS",function(e,t,i,o,r,a,s,l,p,u,d){return new(function(l){function c(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return t.preferences=a,t.settingsSection="radius",t.settingsSectionTranslationKey="SETTINGS_SERVICES_TAB_RADIUS",t.settingsSectionTranslationKeys={radius:"SETTINGS_SERVICES_TAB_RADIUS"},t.isSuperAdmin=e.isSuperAdmin.bind(e),t.hasSiteGateway=o.hasSiteGateway.bind(o),t.defaultInterimUpdate=p.INTERIM_UPDATE,t.interimUpdateIntervalMin=u.INTERIM_UPDATE_INTERVAL_MIN,t.interimUpdateIntervalMax=u.INTERIM_UPDATE_INTERVAL_MAX,t.patterns={ipAddress:d.IPV4_ADDRESS,portNumber:d.PORT_NUMBER,secret:d.RADIUS_SECRET},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,t),n(c,[{key:"isDeviceOrNetworkUseDefaultProfile",value:function(){var e=s.getDefaultProfile();if(e){var t=!!r.repository.collection.findWhere({radiusprofile_id:e.id}),n=!!i.repository.collection.findWhere({dot1x_portctrl_enabled:!0,radiusprofile_id:e.id});return t||n}return!1}},{key:"save",value:function(){var e=this,t=[];return this.isSubmitting=!0,angular.forEach(["radius"],function(i){t.push(e.saveSection(e.getSettingFromKey(i),e.forms[i].modelCopy.attributes,i))}),this.afterSave(t).finally(function(){e.isSubmitting=!1})}}]),c}())}])},{}],142:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiRadiusServer",{controller:"RadiusServerController",controllerAs:"radiusServerCtrl",template:e("./radiusServer.pug")()})},{"./radiusServer.pug":143}],143:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="radiusServerSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-security-gateway-is-required ng-if="!radiusServerCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_RADIUS_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><div ng-if="radiusServerCtrl.hasSiteGateway()"><unifi-settings-sub-menu-radius></unifi-settings-sub-menu-radius><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="radiusServerCtrl.form" ng-class="{        \'appForm--dark\': radiusServerCtrl.preferences.model.get(\'isSettingsDark\'),        \'is-form-validation-visible\': radiusServerCtrl.showValidation,        \'is-validation-hidden\': !radiusServerCtrl.showValidation      }" ng-submit="radiusServerCtrl.form.$valid &amp;&amp; radiusServerCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="radiusServerCtrl.resolveDivergence()" unifi-config-changed-on-ignore="radiusServerCtrl.ignoreDivergence()" unifi-config-changed-is-dark="radiusServerCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="radiusServerCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!radiusServerCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="radiusServerCtrl.forms.radius" unifi-model-form="radiusServerCtrl.getSettingFromKey(\'radius\', { enabled: false, auth_port: 1812, acct_port: 1813, interim_update_interval: radiusServerCtrl.defaultInterimUpdate, configure_whole_network: true, tunneled_reply: true })"><div class="appRow"><div class="col--sm3 noWrap"><label class="appLabel--primary" for="dpiEnable" translate="SETTINGS_RADIUS_LABEL_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                      \'appToggle--dark\': radiusServerCtrl.preferences.model.get(\'isSettingsDark\'),                    }"><input type="checkbox" name="radiusEnable" id="radiusEnable" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled" ng-required="radiusServerCtrl.isDeviceOrNetworkUseDefaultProfile()"><label for="radiusEnable"></label></div><div class="appInputFeedback appInputFeedback--danger" ng-if="radiusServerCtrl.forms.radius.radiusEnable.$invalid" translate="SETTINGS_RADIUS_VALIDATION_HINT_DEFAULT_SERVER_REQUIRED"></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_RADIUS_LABEL_SECRET"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><unifi-password-reveal><input type="password" id="radiusServerSecret" name="radiusServerSecret" ng-model="modelFormCtrl.modelCopy.attributes.x_secret" ng-model-master="modelFormCtrl.model.attributes.x_secret" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-pattern="radiusServerCtrl.patterns.secret"></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-if="radiusServerCtrl.forms.radius.radiusServerSecret.$invalid" translate="VALIDATION_HINT_RADIUS_SECRET"></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_RADIUS_LABEL_CLIENTS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="radiusServerConfigureWholeNetwork" id="radiusServerConfigureWholeNetwork" ng-model="modelFormCtrl.modelCopy.attributes.configure_whole_network" ng-model-master="modelFormCtrl.model.attributes.configure_whole_network"'+n("disabled",!0,!0,!0)+'><label for="radiusServerConfigureWholeNetwork" translate="SETTINGS_RADIUS_VALUES_CONFIGURE_WHOLE_NETWORK"></label><unifi-tooltip><content translate="SETTINGS_RADIUS_VALUES_CONFIGURE_WHOLE_NETWORK_DISABLED_TOOLTIP"></content></unifi-tooltip></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_RADIUS_LABEL_AUTH_PORT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" id="radiusServerAuthPort" name="radiusServerAuthPort" ng-model="modelFormCtrl.modelCopy.attributes.auth_port" ng-model-master="modelFormCtrl.model.attributes.auth_port" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-pattern="radiusServerCtrl.patterns.portNumber"></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_RADIUS_LABEL_ACCT_PORT"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" id="radiusServerAcctPort" name="radiusServerAcctPort" ng-model="modelFormCtrl.modelCopy.attributes.acct_port" ng-model-master="modelFormCtrl.model.attributes.acct_port" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-pattern="radiusServerCtrl.patterns.portNumber"></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_RADIUS_LABEL_ACCT_INTERIM_INTERVAL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="number" id="radiusServerAcctInterimInterval" name="radiusServerAcctInterimInterval" ng-model="modelFormCtrl.modelCopy.attributes.interim_update_interval" ng-model-master="modelFormCtrl.model.attributes.interim_update_interval" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" min="{{radiusServerCtrl.interimUpdateIntervalMin}}" max="{{radiusServerCtrl.interimUpdateIntervalMax}}"><div class="appInputFeedback appInputFeedback--danger" ng-if="radiusServerCtrl.forms.radius.radiusServerAcctInterimInterval.$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: radiusServerCtrl.interimUpdateIntervalMin, max: radiusServerCtrl.interimUpdateIntervalMax}"></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3 noWrap"><label class="appLabel--primary" for="dpiEnable" translate="SETTINGS_RADIUS_LABEL_TUNNELLED_REPLY"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{                      \'appToggle--dark\': radiusServerCtrl.preferences.model.get(\'isSettingsDark\'),                    }"><input type="checkbox" name="radiusTunnelledReplyEnable" id="radiusTunnelledReplyEnable" ng-model="modelFormCtrl.modelCopy.attributes.tunneled_reply" ng-model-master="modelFormCtrl.model.attributes.tunneled_reply"><label for="radiusTunnelledReplyEnable"></label></div></div></div></div></ng-form></div><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': radiusServerCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="radiusServerCtrl.showValidation = true" busy-toggle="radiusServerCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="radiusServerCtrl.reset()" ng-disabled="radiusServerCtrl.form.$pristine" ng-class="radiusServerCtrl.preferences.model.get(\'isSettingsDark\') ?                 \'appMainButton--transparentDark\' :                 \'appMainButton--transparent\'              ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></fieldset></form></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],144:[function(e,t,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(e,t,i,o,r,a){this.$translate=e,this.heyToasts=t,this.preferences=i,this.radiusUsers=o,this.patterns={ip:a.IPV4_ADDRESS,vlan:a.VLAN,name:a.RADIUS_USER_NAME},this.tunnelsPrepopulationMapping={13:6},n.call(this,r)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.prepopulateTunnelMediumType=function(){var e=this.modelCopy.attributes.tunnel_type;!this.modelCopy.attributes.tunnel_medium_type&&this.tunnelsPrepopulationMapping[e]&&(this.modelCopy.attributes.tunnel_medium_type=this.tunnelsPrepopulationMapping[e])},o.prototype.save=function(){var e=this;return this.isSubmitting=!0,this.radiusUsers.save(this.model,this.modelCopy.attributes).then(function(t){return e.heyToasts.pushSuccess(t),!0}).catch(function(t){return e.heyToasts.pushError(t),!1}).finally(function(){e.isSubmitting=!1})},o.$inject=["$translate","heyToasts","preferences","radiusUsers","modelDivergence","REGEX_PATTERNS"],angular.module("app-unifi-manage-settings").controller("RadiusUserFormController",o)},{}],145:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiRadiusUserForm",["SimpleFormDirective",function(t){return new t("radiusUser",e("./radiusUserForm.pug")())}])},{"./radiusUserForm.pug":146}],146:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="radiusUserFormCtrl.form" ng-class="{    \'appForm--dark\': radiusUserFormCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': radiusUserFormCtrl.showValidation,    \'is-validation-hidden\': !radiusUserFormCtrl.showValidation  }" ng-submit="radiusUserFormCtrl.form.$valid &amp;&amp; radiusUserFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="radiusUserFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="radiusUserFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="radiusUserFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="radiusUserFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{userName: radiusUserFormCtrl.model.attributes.name}">{{radiusUserFormCtrl.model.id ? \'SETTINGS_PROFILES_SECTION_EDIT_USER\' : \'SETTINGS_PROFILES_SECTION_CREATE_USER\'}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_RADIUS_USERS_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="name" ng-model="radiusUserFormCtrl.modelCopy.attributes.name" ng-model-master="radiusUserFormCtrl.model.attributes.name" ng-pattern="radiusUserFormCtrl.patterns.name"'+n("required",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="radiusUserFormCtrl.form.name.$error.pattern" translate="VALIDATION_HINT_RADIUS_USER_NAME"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_RADIUS_USERS_LABEL_PASSWORD"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="radiusUserP" ng-model="radiusUserFormCtrl.modelCopy.attributes.x_password" ng-model-master="radiusUserFormCtrl.model.attributes.x_password"'+n("required",!0,!0,!0)+'></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_RADIUS_USERS_LABEL_VLAN"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--smallNumber" type="text" name="networkVlan" ng-model="radiusUserFormCtrl.modelCopy.attributes.vlan" ng-model-master="radiusUserFormCtrl.model.attributes.vlan" ng-pattern="radiusUserFormCtrl.patterns.vlan"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_RADIUS_USERS_LABEL_TUNNEL_TYPE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="tunnelType" ng-model="radiusUserFormCtrl.modelCopy.attributes.tunnel_type" ng-model-master="radiusUserFormCtrl.model.attributes.tunnel_type" ng-options="tunnelType as tunnelType + \' - \' + (\'SETTINGS_RADIUS_HEADERS_TUNNEL_TYPE_\' + tunnelType | translate) for tunnelType in [] | range:1:13" ng-required="!!radiusUserFormCtrl.modelCopy.attributes.vlan || radiusUserFormCtrl.modelCopy.attributes.tunnel_medium_type" ng-change="radiusUserFormCtrl.prepopulateTunnelMediumType()"'+n("unifi-select-empty-string-option",!0,!0,!0)+'><option value="">{{\'SETTINGS_RADIUS_HEADERS_TUNNEL_TYPE_NONE\' | translate}}</option></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_RADIUS_USERS_LABEL_TUNNEL_MEDIUM_TYPE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="tunnelMediumType" ng-model="radiusUserFormCtrl.modelCopy.attributes.tunnel_medium_type" ng-model-master="radiusUserFormCtrl.model.attributes.tunnel_medium_type" ng-options="tunnelMediumType as tunnelMediumType + \' - \' + (\'SETTINGS_RADIUS_HEADERS_TUNNEL_MEDIUM_TYPE_\' + tunnelMediumType | translate) for tunnelMediumType in [] | range:1:15" ng-required="!!radiusUserFormCtrl.modelCopy.attributes.vlan || radiusUserFormCtrl.modelCopy.attributes.tunnel_type"'+n("unifi-select-empty-string-option",!0,!0,!0)+'><option value="">{{\'SETTINGS_RADIUS_HEADERS_TUNNEL_MEDIUM_TYPE_NONE\' | translate}}</option></select></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': radiusUserFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveRadiusUser" ng-if="!isReadOnly" ng-click="radiusUserFormCtrl.showValidation = true" busy-toggle="radiusUserFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="radiusUserFormCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":2}],147:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s,l){this.gatewayUtils=o,this.collection=a.repository.collection,this.isAdmin=i.isAdmin.bind(i),this.hasSiteGateway=o.hasSiteGateway.bind(o),l(this),n.call(this,e,t,i,s,r)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","gatewayUtils","preferences","radiusUsers","ENV","missingModelControllerMixin"],angular.module("app-unifi-manage-settings").controller("RadiusUsersController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],148:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiRadiusUsers",{controller:"RadiusUsersController",controllerAs:"radiusUsersCtrl",template:e("./radiusUsers.pug")()})},{"./radiusUsers.pug":149}],149:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="radiusUsersSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-security-gateway-is-required ng-if="!radiusUsersCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_RADIUS_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><div ng-if="radiusUsersCtrl.hasSiteGateway()"><unifi-settings-sub-menu-radius></unifi-settings-sub-menu-radius><div ng-switch="radiusUsersCtrl.view"><div ng-switch-when="form" unifi-radius-user-form="radiusUsersCtrl.model" unifi-radius-user-form-on-save="radiusUsersCtrl.list()" unifi-radius-user-form-on-cancel="radiusUsersCtrl.list()" unifi-radius-user-form-is-read-only="!radiusUsersCtrl.isAdmin()"></div><div ng-switch-when="list"><unifi-radius-users-list unifi-radius-users-list-on-edit="radiusUsersCtrl.edit(model)"></unifi-radius-users-list><div'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton" ng-click="radiusUsersCtrl.add()" ng-class="radiusUsersCtrl.preferences.model.get(\'isSettingsDark\') ?               \'appMainButton--inputDark\' :               \'appMainButton--input\'            "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_RADIUS_USERS_BUTTON_ADD"></span></button></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],150:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("RadiusUsersListController",["BasePaginatedListController","$translate","frame","heyToasts","networks","preferences","radiusUsers",function(e,t,i,o,r,a,s){return new(function(l){function p(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return e.preferences=a,e.isRemoving={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,e),n(p,[{key:"getCollection",value:function(){return s.repository.collection}},{key:"getNetworkName",value:function(e){var t=r.repository.collection.get(e);return t?t.get("name"):""}},{key:"removeUser",value:function(e){var n=this;return i.show("confirm",{title:function(){return t.instant("SETTINGS_RADIUS_USERS_DELETE_CONFIRM_TITLE",{name:e.get("name")})},message:function(){return t.instant("SETTINGS_RADIUS_USERS_DELETE_CONFIRM_MESSAGE",{name:e.get("name")})},options:angular.noop}).then(function(){return n.isRemoving[e.id]=!0,s.removeUser(e).then(function(e){return o.pushSuccess(e),!0}).catch(function(t){return o.pushError(t),n.isRemoving[e.id]=!1,!1})})}},{key:"edit",value:function(e){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:e})}}]),p}())}])},{}],151:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiRadiusUsersList",["ListDirective",function(t){return new t("radiusUsers",e("./radiusUsersList.pug")(),{onEdit:"&unifiRadiusUsersListOnEdit"})}])},{"./radiusUsersList.pug":152}],152:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div ng-class="{\'appForm--dark\': radiusUsersListCtrl.preferences.model.get(\'isSettingsDark\')}"><table class="verticalRhythmTop--comfy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="radiusUsersTable" collection-view-sort="radiusUsersListCtrl.view" ng-class="{      \'appTable--dark\': radiusUsersListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="radiusUserName" collection-view-sort-by="name"><span translate="SETTINGS_RADIUS_USERS_TABLE_HEADER_NAME"></span></th><th class="radiusUserNetwork" collection-view-sort-by="vlan"><span translate="SETTINGS_RADIUS_USERS_TABLE_HEADER_VLAN"></span></th><th class="radiusUserActions"><span translate="SETTINGS_RADIUS_USERS_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tfoot ng-if="radiusUsersListCtrl.view.getModels().length"><tr><td colspan="3"><unifi-list-pagination unifi-list-pagination-current-page="radiusUsersListCtrl.currentPage" unifi-list-pagination-rows-per-page="radiusUsersListCtrl.rowsPerPage" unifi-list-pagination-total-rows="radiusUsersListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in radiusUsersListCtrl.view.getModels(),                startFrom (radiusUsersListCtrl.currentPage - 1) * radiusUsersListCtrl.rowsPerPage,                limitTo radiusUsersListCtrl.rowsPerPage" data-id="{{::model.id}}"><td class="radiusUserName">{{::model.get(\'name\')}}</td><td class="radiusUserVlan">{{::model.get(\'vlan\')}}</td><td class="radiusUserActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="radiusUsersListCtrl.edit(model)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="radiusUsersListCtrl.removeUser(model)" ng-disabled="radiusUsersListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!radiusUsersListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': radiusUsersListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_RADIUS_USERS_TABLE_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":2}],153:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s,l){this.activeTab="staticRoutes",this.collection=s.repository.collection,this.hasSiteGateway=r.hasSiteGateway.bind(r),l(this),n.call(this,e,t,i,o,a)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","ENV","gatewayUtils","preferences","routing","missingModelControllerMixin"],angular.module("app-unifi-manage-settings").controller("RoutingController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],154:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiRouting",{controller:"RoutingController",controllerAs:"routingCtrl",template:e("./routing.pug")()})},{"./routing.pug":155}],155:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="routingSettings"><unifi-settings-sub-menu-routing-and-firewall></unifi-settings-sub-menu-routing-and-firewall><unifi-settings-security-gateway-is-required ng-if="!routingCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_ROUTING_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><div ng-if="routingCtrl.view === \'form\' &amp;&amp; routingCtrl.hasSiteGateway()" unifi-routing-form="routingCtrl.model" unifi-routing-form-on-save="routingCtrl.list()" unifi-routing-form-on-cancel="routingCtrl.list()" unifi-routing-form-is-read-only="!routingCtrl.isAdmin()"></div><div ng-if="routingCtrl.view === \'list\' &amp;&amp; routingCtrl.hasSiteGateway()"><unifi-routing-list unifi-routing-list-on-edit="routingCtrl.edit(model)"></unifi-routing-list><div class="unifiSettingsFooter"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton" ng-click="routingCtrl.add()" ng-class="routingCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--inputDark\' :           \'appMainButton--input\'        "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_ROUTING_BUTTON_ADD"></span></button></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],156:[function(e,t,i){"use strict";function n(e,t){this.URLS=e,this.preferences=t}n.$inject=["URLS","preferences"],angular.module("app-unifi-manage-settings").controller("SettingsSecurityGatewayIsRequiredController",n)},{}],157:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSecurityGatewayIsRequired",[function(){return{controller:"SettingsSecurityGatewayIsRequiredController",controllerAs:"settingsSecurityGatewayIsRequiredCtrl",scope:{feature:"@unifiSettingsSecurityGatewayIsRequiredFeature"},bindToController:!0,template:e("./settingsSecurityGatewayIsRequired.pug")()}}])},{"./settingsSecurityGatewayIsRequired.pug":158}],158:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appInfoBox appInfoBox--wide autoMargin verticalRhythmTop--breezy withLayerShadow" ng-class="{\'appInfoBox--dark\': settingsSecurityGatewayIsRequiredCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="SETTINGS_COMMON_GATEWAY_REQUIRED_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE" translate-values="{unifiGatewayLink: settingsSecurityGatewayIsRequiredCtrl.URLS.UNIFI_SECURITY_GATEWAY, feature:settingsSecurityGatewayIsRequiredCtrl.feature}"></p></div></div></div>'}},{"pug-runtime":2}],159:[function(e,t,i){"use strict";function n(){this.tabs=[{translationKey:"SETTINGS_DHCP_TAB_DHCP_SERVER",state:"manage.site.settings.services.dhcp.dhcpServer"},{translationKey:"SETTINGS_DHCP_TAB_DHCP_RELAY",state:"manage.site.settings.services.dhcp.dhcpRelay"},{translationKey:"SETTINGS_DHCP_TAB_DHCP_OPTIONS",state:"manage.site.settings.services.dhcp.dhcpOptions"}]}n.$inject=[],angular.module("app-unifi-manage-settings").controller("SettingsSubMenuDhcpController",n)},{}],160:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuDhcp",[function(){return{controller:"SettingsSubMenuDhcpController",controllerAs:"settingsSubMenuDhcpCtrl",template:e("./settingsSubMenuDhcp.pug")()}}])},{"./settingsSubMenuDhcp.pug":161}],161:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<unifi-settings-sub-tabs-header tabs="settingsSubMenuDhcpCtrl.tabs"></unifi-settings-sub-tabs-header>'}},{"pug-runtime":2}],162:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").controller("SettingsSubMenuDpiController",[function(){return new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tabs=[{translationKey:"SETTINGS_DPI_TAB_SETTINGS",state:"manage.site.settings.dpi.settings"},{translationKey:"SETTINGS_DPI_TAB_RESTRICTIONS",state:"manage.site.settings.dpi.restrictions"}]}}])},{}],163:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiSettingsSubMenuDpi",{template:e("./settingsSubMenuDpi.pug")(),controller:"SettingsSubMenuDpiController",controllerAs:"settingsSubMenuDpiCtrl"})},{"./settingsSubMenuDpi.pug":164}],164:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<unifi-settings-tabs-header tabs="settingsSubMenuDpiCtrl.tabs"></unifi-settings-tabs-header>'}},{"pug-runtime":2}],165:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").controller("SettingsSubMenuDpiRestrictionsController",[function(){return new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tabs=[{translationKey:"SETTINGS_DPI_SUB_TAB_RESTRICTION_GROUPS",state:"manage.site.settings.dpi.restrictions.groups"},{translationKey:"SETTINGS_DPI_SUB_TAB_RESTRICTION_ASSIGNMENTS",state:"manage.site.settings.dpi.restrictions.assignments"}]}}])},{}],166:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiSettingsSubMenuDpiRestrictions",{controller:"SettingsSubMenuDpiRestrictionsController",controllerAs:"settingsSubMenuDpiRestrictionsCtrl",template:e("./settingsSubMenuDpiRestrictions.pug")()})},{"./settingsSubMenuDpiRestrictions.pug":167}],167:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<unifi-settings-sub-tabs-header tabs="settingsSubMenuDpiRestrictionsCtrl.tabs"></unifi-settings-sub-tabs-header>'}},{"pug-runtime":2}],168:[function(e,t,i){"use strict";function n(){this.tabs=[{translationKey:"SETTINGS_ROUTING_TAB_FIREWALL_RULES_IPV4",state:"manage.site.settings.routingAndFirewall.firewall.rulesIpv4"},{translationKey:"SETTINGS_ROUTING_TAB_FIREWALL_RULES_IPV6",state:"manage.site.settings.routingAndFirewall.firewall.rulesIpv6",alpha:!0},{translationKey:"SETTINGS_ROUTING_TAB_FIREWALL_GROUPS",state:"manage.site.settings.routingAndFirewall.firewall.groups"},{translationKey:"SETTINGS_ROUTING_TAB_FIREWALL_SETTINGS",state:"manage.site.settings.routingAndFirewall.firewall.settings"}]}n.$inject=[],angular.module("app-unifi-manage-settings").controller("SettingsSubMenuFirewallController",n)},{}],169:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuFirewall",[function(){return{controller:"SettingsSubMenuFirewallController",controllerAs:"settingsSubMenuFirewallCtrl",template:e("./settingsSubMenuFirewall.pug")()}}])},{"./settingsSubMenuFirewall.pug":170}],170:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<unifi-settings-sub-tabs-header tabs="settingsSubMenuFirewallCtrl.tabs"></unifi-settings-sub-tabs-header>'}},{"pug-runtime":2}],171:[function(e,t,i){"use strict";function n(){this.tabs=[{translationKey:"SETTINGS_PROFILES_TAB_RADIUS",state:"manage.site.settings.profiles.radius"},{translationKey:"SETTINGS_PROFILES_TAB_PORTS",state:"manage.site.settings.profiles.ports",beta:!0}]}n.$inject=[],angular.module("app-unifi-manage-settings").controller("SettingsSubMenuProfilesController",n)},{}],172:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuProfiles",[function(){return{controller:"SettingsSubMenuProfilesController",controllerAs:"settingsSubMenuProfilesCtrl",template:e("./settingsSubMenuProfiles.pug")()}}])},{"./settingsSubMenuProfiles.pug":173}],173:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appRow"><unifi-settings-tabs-header class="col--xs12" tabs="settingsSubMenuProfilesCtrl.tabs"></unifi-settings-tabs-header></div>'}},{"pug-runtime":2}],174:[function(e,t,i){"use strict";function n(){this.tabs=[{translationKey:"SETTINGS_RADIUS_TAB_USERS",state:"manage.site.settings.services.radius.users"},{translationKey:"SETTINGS_RADIUS_TAB_SERVER",state:"manage.site.settings.services.radius.server"}]}n.$inject=[],angular.module("app-unifi-manage-settings").controller("SettingsSubMenuRadiusController",n)},{}],175:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuRadius",[function(){return{controller:"SettingsSubMenuRadiusController",controllerAs:"settingsSubMenuRadiusCtrl",template:e("./settingsSubMenuRadius.pug")()}}])},{"./settingsSubMenuRadius.pug":176}],176:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<unifi-settings-sub-tabs-header tabs="settingsSubMenuRadiusCtrl.tabs"></unifi-settings-sub-tabs-header>'}},{"pug-runtime":2}],177:[function(e,t,i){"use strict";function n(){this.tabs=[{translationKey:"SETTINGS_ROUTING_TAB_STATIC_ROUTES",state:"manage.site.settings.routingAndFirewall.routing"},{translationKey:"SETTINGS_ROUTING_TAB_FIREWALL",state:"manage.site.settings.routingAndFirewall.firewall"},{translationKey:"SETTINGS_ROUTING_TAB_PORT_FORWARD",state:"manage.site.settings.routingAndFirewall.portforward"},{translationKey:"SETTINGS_ROUTING_TAB_GEO_IP_FILTERING",state:"manage.site.settings.routingAndFirewall.geoipfiltering",beta:!0}]}n.$inject=[],angular.module("app-unifi-manage-settings").controller("SettingsSubMenuRoutingAndFirewallController",n)},{}],178:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuRoutingAndFirewall",[function(){return{controller:"SettingsSubMenuRoutingAndFirewallController",controllerAs:"settingsSubMenuRoutingAndFirewallCtrl",template:e("./settingsSubMenuRoutingAndFirewall.pug")()}}])},{"./settingsSubMenuRoutingAndFirewall.pug":179}],179:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<unifi-settings-tabs-header tabs="settingsSubMenuRoutingAndFirewallCtrl.tabs"></unifi-settings-tabs-header>'}},{"pug-runtime":2}],180:[function(e,t,i){"use strict";function n(){this.tabs=[{translationKey:"SETTINGS_SERVICES_TAB_RADIUS",state:"manage.site.settings.services.radius"},{translationKey:"SETTINGS_SERVICES_TAB_HOTSPOT2",state:"manage.site.settings.services.hotspot2"},{translationKey:"SETTINGS_SERVICES_TAB_DHCP",state:"manage.site.settings.services.dhcp",beta:!0},{translationKey:"SETTINGS_SERVICES_TAB_DYNAMIC_DNS",state:"manage.site.settings.services.dynamicdns"},{translationKey:"SETTINGS_SERVICES_TAB_MDNS",state:"manage.site.settings.services.mdns"},{translationKey:"SETTINGS_SERVICES_TAB_SIP",state:"manage.site.settings.services.sip",beta:!0},{translationKey:"SETTINGS_SERVICES_TAB_SNMP",state:"manage.site.settings.services.snmp"},{translationKey:"SETTINGS_SERVICES_TAB_UPNP",state:"manage.site.settings.services.upnp"},{translationKey:"SETTINGS_SERVICES_TAB_NTP",state:"manage.site.settings.services.ntp"},{translationKey:"SETTINGS_SERVICES_TAB_SCHEDULED_UPGRADES",state:"manage.site.settings.services.upgrades"}]}n.$inject=[],angular.module("app-unifi-manage-settings").controller("SettingsSubMenuServicesController",n)},{}],181:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuServices",[function(){return{controller:"SettingsSubMenuServicesController",controllerAs:"settingsSubMenuServicesCtrl",template:e("./settingsSubMenuServices.pug")()}}])},{"./settingsSubMenuServices.pug":182}],182:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appRow"><unifi-settings-tabs-header class="col--xs12" tabs="settingsSubMenuServicesCtrl.tabs"></unifi-settings-tabs-header></div>'}},{"pug-runtime":2}],183:[function(e,t,i){"use strict";function n(){this.tabs=[{translationKey:"SETTINGS_SIP_TAB_SETTINGS",state:"manage.site.settings.services.sip.settings"},{translationKey:"SETTINGS_SIP_TAB_ENDPOINTS",state:"manage.site.settings.services.sip.endpoints"}]}n.$inject=[],angular.module("app-unifi-manage-settings").controller("SettingsSubMenuSipController",n)},{}],184:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubMenuSip",[function(){return{controller:"SettingsSubMenuSipController",controllerAs:"settingsSubMenuSipCtrl",template:e("./settingsSubMenuSip.pug")()}}])},{"./settingsSubMenuSip.pug":185}],185:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<unifi-settings-sub-tabs-header tabs="settingsSubMenuSipCtrl.tabs"></unifi-settings-sub-tabs-header>'}},{"pug-runtime":2}],186:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsSubTabsHeader",["preferences",function(t){return{replace:!0,restrict:"E",scope:{tabs:"=tabs"},template:e("./settingsSubTabsHeader.pug")(),link:function(e){e.preferences=t}}}])},{"./settingsSubTabsHeader.pug":187}],187:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+"<ul class=\"appSubtabs appSubtabs--responsive unifiSettingsSubtabs\" ng-class=\"{'appSubtabs--dark unifiSettingsSubtabs--dark': preferences.model.get('isSettingsDark')}\""+(i="pageutils-nav",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' pageutils-nav-active-class="is-tab-selected"><li class="tabs__item noPaddingTop" ng-repeat="tab in tabs" pageutils-nav-state="{{tab.state}}"><span>{{ tab.translationKey | translate }}</span><span class="appBadge appBadge--warning inline horizontalRhythmLeft--condensed" ng-if="tab.alpha" translate="COMMON_ALPHA"></span></li></ul>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],188:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiSettingsTabsHeader",["preferences",function(t){return{replace:!0,restrict:"E",scope:{tabs:"=tabs"},template:e("./settingsTabsHeader.pug")(),link:function(e){e.preferences=t}}}])},{"./settingsTabsHeader.pug":189}],189:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsHeader unifiSettingsHeader--withTabs noBorder"><ul class="appTabs appTabs--cozy appTabs--flexible" ng-class="{\'appTabs--dark\': preferences.model.get(\'isSettingsDark\')}"'+(i="pageutils-nav",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' pageutils-nav-active-class="is-tab-selected"><li class="tabs__item" ng-repeat="tab in tabs" pageutils-nav-state="{{tab.state}}"><span>{{ tab.translationKey | translate }}</span><span class="appBadge appBadge--warning horizontalRhythmLeft--condensed" ng-if="tab.beta" translate="COMMON_BETA"></span></li></ul></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],190:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a){this.isAdmin=i.isAdmin.bind(i),this.collection=r.repository.collection,n.call(this,e,t,i,a,o)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","preferences","devices","ENV"],angular.module("app-unifi-manage-settings").controller("SipEndpointsController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],191:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiSipEndpoints",{controller:"SipEndpointsController",controllerAs:"sipEndpointsCtrl",template:e("./sipEndpoints.pug")()})},{"./sipEndpoints.pug":192}],192:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="sipSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-sub-menu-sip></unifi-settings-sub-menu-sip><div class="unifiSettingsSection noMarginTop"><div ng-switch="sipEndpointsCtrl.view"><div ng-switch-when="form" unifi-sip-endpoint-form="sipEndpointsCtrl.model" unifi-sip-endpoint-form-on-save="sipEndpointsCtrl.list()" unifi-sip-endpoint-form-on-cancel="sipEndpointsCtrl.list()" unifi-sip-endpoint-form-is-read-only="!sipEndpointsCtrl.isAdmin()"></div><div ng-switch-when="list"><unifi-sip-endpoint-list unifi-sip-endpoint-list-on-edit="sipEndpointsCtrl.edit(model)"></unifi-sip-endpoint-list><div'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton" ng-click="sipEndpointsCtrl.add()" ng-class="sipEndpointsCtrl.preferences.model.get(\'isSettingsDark\') ?               \'appMainButton--inputDark\' :               \'appMainButton--input\'            "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_SIP_ENDPOINT_BUTTON_ADD"></span></button></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],193:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("SipSettingsController",["BaseSettingsController","preferences","regexUtils","REGEX_PATTERNS",function(e,t,i,o){return new(function(r){function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return e.preferences=t,e.settingsSectionTranslationKey="SETTINGS_SERVICES_TAB_SIP",e.settingsSectionTranslationKeys={baresip:"SETTINGS_SERVICES_TAB_SIP"},e.patterns={server:i.or([i.exact(i.bookend("(",i.contains(o.FQDN),")(:"+i.getPattern(i.contains(o.PORT_NUMBER))+")?")),i.exact(i.bookend("(",i.contains(o.IPV4_ADDRESS),")(:"+i.getPattern(i.contains(o.PORT_NUMBER))+")?"))],"i"),outboundProxy:i.or([i.exact(i.bookend("(",i.contains(o.FQDN),")(:"+i.getPattern(i.contains(o.PORT_NUMBER))+")?")),i.exact(i.bookend("(",i.contains(o.IPV4_ADDRESS),")(:"+i.getPattern(i.contains(o.PORT_NUMBER))+")?"))],"i")},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e),n(a,[{key:"save",value:function(){var e=this,t=[];return this.isSubmitting=!0,angular.forEach(["baresip"],function(i){t.push(e.saveSection(e.getSettingFromKey(i),e.forms[i].modelCopy.attributes,i))}),this.afterSave(t).finally(function(){e.isSubmitting=!1})}}]),a}())}])},{}],194:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiSipSettings",{controller:"SipSettingsController",controllerAs:"sipSettingsCtrl",template:e("./sipSettings.pug")()})},{"./sipSettings.pug":195}],195:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="sipSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-sub-menu-sip></unifi-settings-sub-menu-sip><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="sipSettingsCtrl.form" ng-class="{      \'appForm--dark\': sipSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': sipSettingsCtrl.showValidation,      \'is-validation-hidden\': !sipSettingsCtrl.showValidation    }" ng-submit="sipSettingsCtrl.form.$valid &amp;&amp; sipSettingsCtrl.save()"><unifi-config-changed unifi-config-changed-on-reset="sipSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="sipSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="sipSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="sipSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!sipSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><ng-form name="sipSettingsCtrl.forms.baresip" unifi-model-form="sipSettingsCtrl.getSettingFromKey(\'baresip\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" for="sipClientEnable" translate="SETTINGS_SIP_LABEL_ENABLE_CLIENT"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': sipSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="sipClientEnable" id="sipClientEnable" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="sipClientEnable"></label></div></div></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_SIP_LABEL_SERVER"></label></div><div class="col--sm5 col--xs10 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" id="sipServer" name="sipServer" ng-model="modelFormCtrl.modelCopy.attributes.server" ng-model-master="modelFormCtrl.model.attributes.server" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-pattern="modelFormCtrl.modelCopy.attributes.enabled ? sipSettingsCtrl.patterns.server : \'\'"><div class="appInputFeedback appInputFeedback--danger" ng-show="sipSettingsCtrl.forms.baresip.sipServer.$error.pattern" translate="SETTINGS_SIP_VALIDATION_HINT_SERVER"></div></div><div class="col--sm1 col--xs2 noPaddingLeft pt-1"><unifi-tooltip><content translate="SETTINGS_SIP_TOOLTIP_SERVER"></content></unifi-tooltip></div></div><div class="appRow" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_SIP_LABEL_OUTBOUND_PROXY"></label></div><div class="col--sm5 col--xs10 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" id="outboundProxy" name="outboundProxy" ng-model="modelFormCtrl.modelCopy.attributes.outbound_proxy" ng-model-master="modelFormCtrl.model.attributes.outbound_proxy" ng-pattern="modelFormCtrl.modelCopy.attributes.enabled ? sipSettingsCtrl.patterns.outboundProxy : \'\'"><div class="appInputFeedback appInputFeedback--danger" ng-show="sipSettingsCtrl.forms.baresip.outboundProxy.$error.pattern" translate="SETTINGS_SIP_VALIDATION_HINT_OUTBOUND_PROXY"></div></div><div class="col--sm1 col--xs2 noPaddingLeft pt-1"><unifi-tooltip><content translate="SETTINGS_SIP_TOOLTIP_OUTBOUND_PROXY"></content></unifi-tooltip></div></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': sipSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="sipSettingsCtrl.showValidation = true" busy-toggle="sipSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="sipSettingsCtrl.reset()" ng-disabled="sipSettingsCtrl.form.$pristine" ng-class="sipSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?                       \'appMainButton--transparentDark\' :                       \'appMainButton--transparent\'                    ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></div></div></ng-form></div></fieldset></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],196:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("SiteSettingsController",["$state","$translate","account","BaseSettingsController","countries","countryUtils","countryChannels","deviceFeatureUtils","frame","gatewayUtils","heyToasts","preferences","settings","speedTest","siteUtils","timezones","wirelessNetworks","CREDENTIALS_SETTINGS","DEVICE_MODELS","PROVIDER_CAPABILITIES_SETTINGS","REGEX_PATTERNS","WLAN_GROUP_SETTINGS",function(e,t,i,o,r,a,s,l,p,u,d,c,m,g,_,f,S,b,v,C,E,T){return new(function(y){function I(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,I);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));return e.countryUtils=a,e.preferences=c,e.gatewayUtils=u,e.timezones=f,e.WLAN_GROUP_SETTINGS=T,e.CREDENTIALS_SETTINGS=b,e.PROVIDER_CAPABILITIES_SETTINGS=C,e.settingsSection="site",e.settingsSectionTranslationKeys={site:"SETTINGS_SITE_KEY_SITE",mgmt:"SETTINGS_SITE_KEY_MGMT",country:"SETTINGS_SITE_KEY_COUNTRY",locale:"SETTINGS_SITE_KEY_LOCALE",connectivity:"SETTINGS_SITE_KEY_CONNECTIVITY",rsyslogd:"SETTINGS_SITE_KEY_RSYSLOGD",auto_speedtest:"SETTINGS_SITE_KEY_AUTO_SPEEDTEST",dpi:"SETTINGS_SITE_KEY_DPI",provider_capabilities:"SETTINGS_SITE_KEY_PROVIDER_CAPABILITIES",porta:"SETTINGS_SITE_KEY_PORTA"},e.isSuperAdmin=i.isSuperAdmin.bind(i),e.patterns={name:E.NAME,hostname:E.HOSTNAME,ipAddress:E.IPV4_ADDRESS,portNumber:E.PORT_NUMBER,deviceAccountName:E.DEVICE_ACCOUNT_NAME},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(I,o),n(I,[{key:"saveSite",value:function(e){return _.updateActiveSiteDesc(e.desc).then(function(){return!0}).catch(function(e){return d.pushError(e),!1})}},{key:"save",value:function(){var e=this,t=[];this.isSubmitting=!0,t.push(this.saveSite(this.forms.site.modelCopy.attributes)),t.push(this.saveSection(this.getSettingFromKey("mgmt"),{advanced_feature_enabled:this.forms.mgmt1.modelCopy.attributes.advanced_feature_enabled,auto_upgrade:this.forms.mgmt1.modelCopy.attributes.auto_upgrade,led_enabled:this.forms.mgmt1.modelCopy.attributes.led_enabled,outdoor_mode_enabled:this.forms.mgmt1.modelCopy.attributes.outdoor_mode_enabled,alert_enabled:this.forms.mgmt1.modelCopy.attributes.alert_enabled,x_ssh_enabled:this.forms.mgmt2.modelCopy.attributes.x_ssh_enabled,x_ssh_username:this.forms.mgmt2.modelCopy.attributes.x_ssh_username,x_ssh_password:this.forms.mgmt2.modelCopy.attributes.x_ssh_password,x_ssh_keys:this.forms.mgmt2.modelCopy.attributes.x_ssh_keys},"mgmt"));return angular.forEach(["country","locale","connectivity","rsyslogd","auto_speedtest","porta","provider_capabilities"],function(i){e.forms[i]&&t.push(e.saveSection(e.getSettingFromKey(i),e.forms[i].modelCopy.attributes,i))}),this.afterSave(t).then(function(){e.forms.mgmt2.modelCopy.set("x_ssh_keys",m.getSettingFromKey("mgmt").get("x_ssh_keys"))}).finally(function(){s.repository.refresh()})}},{key:"deleteSite",value:function(){var i=this;return p.show("confirm",{title:function(){return t.instant("SETTINGS_SITE_DELETE_CONFIRM_TITLE",{siteDesc:i.site.get("desc")})},message:function(){return t.instant("SETTINGS_SITE_DELETE_CONFIRM_MESSAGE",{siteDesc:i.site.get("desc")})},options:angular.noop}).then(function(){return i.isDeleting=!0,_.deleteSite(i.site).then(function(t){d.pushSuccess(t);var i=_.getDefaultSiteName();return i&&e.go("manage.site.dashboard",{site:i}),!0}).catch(function(e){return d.pushError(e),!1})}).finally(function(){i.isDeleting=!1})}},{key:"exportSite",value:function(){p.show("exportSite")}},{key:"canDeleteSite",value:function(){return this.isSuperAdmin()&&!this.site.get("attr_no_delete")}},{key:"canRemapPort",value:function(){var e=u.getSiteGateway();return!!e&&(!l.isGatewayPortReassignmentSupported(e)&&!!((v[e.get("model")]||{}).features||{}).legacyPortRemap)}},{key:"canEnableConnectivityMonitor",value:function(){var e=S.getWlanCountByGroup();return!Object.keys(e).some(function(t){return e[t]>T.MAX_WLANCONF_WITH_WIRELESS_UPLINK})}},{key:"getCountries",value:function(){return r.repository.collection.models}},{key:"confirmOverrideInformUrl",value:function(){var e=this;this.forms.connectivity.modelCopy.attributes.override_inform_url&&p.show("confirm",{title:function(){return t.instant("SETTINGS_SITE_CONFIRM_OVERRIDE_INFORM_URL_TITLE")},message:function(){return t.instant("SETTINGS_SITE_CONFIRM_OVERRIDE_INFORM_URL_MESSAGE")},options:angular.noop}).catch(function(){e.forms.connectivity.modelCopy.attributes.override_inform_url=!1})}},{key:"addSshKey",value:function(){var e=this;p.show("addSshKey").then(function(t){e.forms.mgmt2.modelCopy.attributes.x_ssh_keys.push(t)})}},{key:"removeSshKey",value:function(e){this.forms.mgmt2.modelCopy.attributes.x_ssh_keys.splice(e,1)}},{key:"populateSpeedTestResults",value:function(){var e=this;this.isPopulatingSpeedTestResults=!0,g.resolve().then(function(e){return g.isTestCompleted(e)?e:(p.show("speedTest"),g.startTest())}).then(function(i){g.isTestCompleted(i)&&e.forms.provider_capabilities&&(d.pushSuccess(t.instant("SETTINGS_SITE_PREPOPULATE_SUCCESS")),e.forms.provider_capabilities.modelCopy.attributes.download=Math.ceil(1e3*i.xput_download),e.forms.provider_capabilities.modelCopy.attributes.upload=Math.ceil(1e3*i.xput_upload),e.forms.provider_capabilities.$setDirty())}).catch(function(){d.pushError(t.instant("SETTINGS_SITE_PREPOPULATE_FAILED"))}).finally(function(){e.isPopulatingSpeedTestResults=!1})}}]),I}())}])},{}],197:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiSiteSettings",{controller:"SiteSettingsController",controllerAs:"siteSettingsCtrl",template:e("./siteSettings.pug")()})},{"./siteSettings.pug":198}],198:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="siteSettings"><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="siteSettingsCtrl.form" ng-class="{      \'appForm--dark\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': siteSettingsCtrl.showValidation,      \'is-validation-hidden\': !siteSettingsCtrl.showValidation    }" ng-submit="siteSettingsCtrl.form.$valid &amp;&amp; siteSettingsCtrl.save()"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_SITE"></div></div><unifi-config-changed unifi-config-changed-on-reset="siteSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="siteSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="siteSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!siteSettingsCtrl.isAdmin()"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_SITE_SECTION_CONFIGURATION"></div><ng-form name="siteSettingsCtrl.forms.site" unifi-model-form="siteSettingsCtrl.site"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_SITE_LABEL_SITE_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="siteName" ng-model="modelFormCtrl.modelCopy.attributes.desc" ng-model-master="modelFormCtrl.model.attributes.desc" ng-pattern="siteSettingsCtrl.patterns.name"'+n("required",!0,!0,!0)+'></div></div></ng-form><ng-form name="siteSettingsCtrl.forms.country" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'country\', { code: \'840\' })"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxInline" translate="SETTINGS_SITE_LABEL_COUNTRY"></label><unifi-tooltip class="ml-1"><content translate="SETTINGS_SITE_TOOLTIP_COUNTRY"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="siteCountry" ng-model="modelFormCtrl.modelCopy.attributes.code" ng-model-master="modelFormCtrl.model.attributes.code" ng-options="country.get(\'code\') as country.get(\'name\') for country in siteSettingsCtrl.getCountries()"><option unifi-option-placeholder="SETTINGS_SITE_VALUES_SELECT_COUNTRY"></option></select></div></div></ng-form><ng-form name="siteSettingsCtrl.forms.locale" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'locale\', { timezone: \'America/Los_Angeles\' })"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_SITE_LABEL_TIMEZONE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="siteTimezone" ng-model="modelFormCtrl.modelCopy.attributes.timezone" ng-model-master="modelFormCtrl.model.attributes.timezone" ng-options="timezone.timezone as timezone.name for timezone in siteSettingsCtrl.timezones | orderBy:[\'offsetMinutes\', \'name\']"><option unifi-option-placeholder="SETTINGS_SITE_VALUES_SELECT_TIMEZONE"></option></select></div></div></ng-form></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_SITE_SECTION_SERVICES"></div><ng-form name="siteSettingsCtrl.forms.mgmt1" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'mgmt\', { led_enabled: true, alert_enabled: true })"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SITE_LABEL_ADVANCED_FEATURES"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableAdvancedFeatures" id="siteEnableAdvancedFeatures" ng-model="modelFormCtrl.modelCopy.attributes.advanced_feature_enabled" ng-model-master="modelFormCtrl.model.attributes.advanced_feature_enabled"><label for="siteEnableAdvancedFeatures" translate="SETTINGS_SITE_VALUES_ADVANCED_FEATURES"></label><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="modelFormCtrl.modelCopy.attributes.advanced_feature_enabled" ng-class="{\'appInfoBox--dark\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p translate="SETTINGS_SITE_TOOLTIP_ADVANCED_FEATURES"></p><p class="bold noMarginBottom" translate="SETTINGS_SITE_TOOLTIP_ADVANCED_FEATURES_DETAILS"></p></div></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SITE_LABEL_AUTOMATIC_UPGRADE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableAutoUpgrade" id="siteEnableAutoUpgrade" ng-model="modelFormCtrl.modelCopy.attributes.auto_upgrade" ng-model-master="modelFormCtrl.model.attributes.auto_upgrade"><label for="siteEnableAutoUpgrade" translate="SETTINGS_SITE_VALUES_AUTOMATIC_UPGRADE"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SITE_LABEL_STATUS_LED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableStatusLed" id="siteEnableStatusLed" ng-model="modelFormCtrl.modelCopy.attributes.led_enabled" ng-model-master="modelFormCtrl.model.attributes.led_enabled"><label for="siteEnableStatusLed" translate="SETTINGS_SITE_VALUES_STATUS_LED"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SITE_LABEL_ALERT_EMAILS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableAlerts" id="siteEnableAlerts" ng-model="modelFormCtrl.modelCopy.attributes.alert_enabled" ng-model-master="modelFormCtrl.model.attributes.alert_enabled"><label for="siteEnableAlerts" translate="SETTINGS_SITE_VALUES_ALERT_EMAILS"></label></div></div></div><div class="appRow" ng-if="siteSettingsCtrl.countryUtils.isOutdoorDfsRestrictedCountry()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SITE_LABEL_OUTDOOR_MODE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableOutdoorMode" id="siteEnableOutdoorMode" ng-model="modelFormCtrl.modelCopy.attributes.outdoor_mode_enabled" ng-model-master="modelFormCtrl.model.attributes.outdoor_mode_enabled"><label for="siteEnableOutdoorMode" translate="SETTINGS_SITE_VALUES_OUTDOOR_MODE"></label></div></div></div></ng-form><ng-form name="siteSettingsCtrl.forms.auto_speedtest" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'auto_speedtest\', { enabled: false, interval: 20 })"><div class="appRow"><div class="col--xs3"><label class="appLabel--primary appLabel--withBadge" translate="SETTINGS_SITE_LABEL_AUTO_SPEED_TEST"></label></div><div class="col--xs9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableAutoSpeedTest" id="siteEnableAutoSpeedTest" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="siteEnableAutoSpeedTest" translate="SETTINGS_SITE_VALUES_AUTO_SPEED_TEST"></label><input class="input--smallNumber" type="number" id="siteAutoSpeedTestInterval" name="siteAutoSpeedTestInterval" ng-model="modelFormCtrl.modelCopy.attributes.interval" ng-model-master="modelFormCtrl.model.attributes.interval" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" min="10" max="49"><label class="appLabel--boxInline" translate="DATETIME_MINUTES_FULL" ng-class="{\'is-label-disabled\': !modelFormCtrl.modelCopy.attributes.enabled}"></label><unifi-tooltip><content translate="SETTINGS_SITE_VALUES_AUTO_SPEED_TEST_TOOLTIP"></content></unifi-tooltip><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div></div></ng-form><ng-form ng-if="siteSettingsCtrl.canRemapPort()" name="siteSettingsCtrl.forms.porta" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'porta\', { ugw3_wan2_enabled: false })"><div class="appRow"><div class="col--xs3"><label class="appLabel--primary appLabel--withBadge" translate="SETTINGS_SITE_LABEL_PORT_REMAP"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div><div class="col--xs9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnablePortRemap" id="siteEnablePortRemap" ng-model="modelFormCtrl.modelCopy.attributes.ugw3_wan2_enabled" ng-model-master="modelFormCtrl.model.attributes.ugw3_wan2_enabled"><label for="siteEnablePortRemap" translate="SETTINGS_SITE_VALUES_PORT_REMAP_UGW3"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div></div></ng-form><ng-form name="siteSettingsCtrl.forms.connectivity" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'connectivity\', { enabled: true })"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SITE_LABEL_UPLINK_CONNECTIVITY_MONITOR"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="siteEnableConnectivityMonitor" id="siteEnableConnectivityMonitor" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled" ng-disabled="isConnectivityMonitorDisabled = !siteSettingsCtrl.canEnableConnectivityMonitor()"><label for="siteEnableConnectivityMonitor" translate="SETTINGS_SITE_VALUES_UPLINK_CONNECTIVITY_MONITOR"></label><div class="appTooltipContainer appTooltipContainer--hoverable" ng-if="isConnectivityMonitorDisabled"><div class="appAlertIcon--condensed appAlertIcon--danger"><div class="icon ubnt-icon--alert"></div></div><div class="appTooltip appTooltip--top" ng-class="{\'appTooltip--dark\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" translate="SETTINGS_SITE_TOOLTIP_UPLINK_CONNECTIVITY_MONITOR" translate-values="{maxWlans: siteSettingsCtrl.WLAN_GROUP_SETTINGS.MAX_WLANCONF_WITH_WIRELESS_UPLINK}"></div></div></div><div class="appInputGroup verticalRhythmTop--condensed" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="siteConnectivityMonitorUplinkType" id="siteConnectivityMonitorUplinkDefaultGateway" value="gateway" ng-model="modelFormCtrl.modelCopy.attributes.uplink_type" ng-model-master="modelFormCtrl.model.attributes.uplink_type"><label for="siteConnectivityMonitorUplinkDefaultGateway" translate="SETTINGS_SITE_VALUES_UPLINK_DEFAULT_GATEWAY"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="siteConnectivityMonitorUplinkType" id="siteConnectivityMonitorUplinkCustomIp" value="custom" ng-model="modelFormCtrl.modelCopy.attributes.uplink_type" ng-model-master="modelFormCtrl.model.attributes.uplink_type"><label for="siteConnectivityMonitorUplinkCustomIp" translate="SETTINGS_SITE_VALUES_UPLINK_CUSTOM_IP"></label><input type="text" name="siteConnectivityMonitorUplinkCustomIp" placeholder="{{::\'SETTINGS_SITE_VALUES_UPLINK_CUSTOM_IP_PLACEHOLDER\' | translate}}" ng-model="modelFormCtrl.modelCopy.attributes.uplink_host" ng-model-master="modelFormCtrl.model.attributes.uplink_host" ng-model-master-cleanup="true" ng-disabled="modelFormCtrl.modelCopy.attributes.uplink_type !== \'custom\'" ng-required="modelFormCtrl.modelCopy.attributes.enabled &amp;&amp; modelFormCtrl.modelCopy.attributes.uplink_type === \'custom\'" ng-pattern="siteSettingsCtrl.patterns.ipAddress"></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="modelFormCtrl.modelCopy.attributes.enabled" ng-class="{\'appInfoBox--dark\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_SITE_INFO_BOX_UPLINK_CONNECTIVITY_MONITOR"></p></div></div></div></div></div><div class="appRow" unifi-feature-flag-enable="withOverrideSiteInformUrl"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SITE_LABEL_INFORM_URL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="siteConnectivityOverrideInformUrl" id="siteConnectivityOverrideInformUrl" ng-model="modelFormCtrl.modelCopy.attributes.override_inform_url" ng-model-master="modelFormCtrl.model.attributes.override_inform_url" ng-change="siteSettingsCtrl.confirmOverrideInformUrl()"><label for="controllerOverrideInformHost" translate="SETTINGS_SITE_VALUES_OVERRIDE_INFORM_URL"></label><input type="text" name="siteConnectivityInformUrl" placeholder="{{\'SETTINGS_SITE_VALUES_INFORM_URL\' | translate}}" ng-model="modelFormCtrl.modelCopy.attributes.inform_url" ng-model-master="modelFormCtrl.model.attributes.inform_url" ng-model-master-cleanup="true" ng-required="modelFormCtrl.modelCopy.attributes.override_inform_url" ng-disabled="!modelFormCtrl.modelCopy.attributes.override_inform_url"></div></div></div></ng-form><ng-form name="siteSettingsCtrl.forms.rsyslogd" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'rsyslogd\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SITE_LABEL_REMOTE_LOGGING"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="siteEnableRemoteSyslog" id="siteEnableRemoteSyslog" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="siteEnableRemoteSyslog" translate="SETTINGS_SITE_VALUES_REMOTE_LOGGING"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><input type="checkbox" name="siteEnableDebugLogging" id="siteEnableDebugLogging" ng-model="modelFormCtrl.modelCopy.attributes.debug"><label for="siteEnableDebugLogging" translate="SETTINGS_SITE_VALUES_REMOTE_LOGGING_DEBUG_LOGGING"></label></div></div><div class="appInputGroup verticalRhythmTop--condensed verticalRhythm--condensed" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="siteRemoteLoggingIpAddress" translate="SETTINGS_SITE_LABEL_REMOTE_LOGGING_IP_OR_HOSTNAME"></label><input type="text" id="siteRemoteLoggingIpAddress" name="siteRemoteLoggingIpAddress" ng-model="modelFormCtrl.modelCopy.attributes.ip" ng-model-master="modelFormCtrl.model.attributes.ip" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-pattern="siteSettingsCtrl.patterns.hostname"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="siteRemoteLoggingPort" translate="SETTINGS_SITE_LABEL_REMOTE_LOGGING_PORT"></label><input type="text" id="siteRemoteLoggingPort" name="siteRemoteLoggingPort" size="5" placeholder="514" ng-model="modelFormCtrl.modelCopy.attributes.port" ng-model-master="modelFormCtrl.model.attributes.port" ng-disabled="!modelFormCtrl.modelCopy.attributes.enabled" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-pattern="siteSettingsCtrl.patterns.portNumber"'+n("unifi-use-placeholder",!0,!0,!0)+'></div></div><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="siteEnableNetconsoleSyslog" id="siteEnableNetconsoleSyslog" ng-model="modelFormCtrl.modelCopy.attributes.netconsole_enabled" ng-model-master="modelFormCtrl.model.attributes.netconsole_enabled"><label for="siteEnableNetconsoleSyslog" translate="SETTINGS_SITE_VALUES_NETCONSOLE_LOGGING"></label></div></div><div class="appInputGroup verticalRhythmTop--condensed" ng-if="modelFormCtrl.modelCopy.attributes.netconsole_enabled"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="siteRemoteNetconsoleLoggingIpAddress" translate="SETTINGS_SITE_LABEL_REMOTE_LOGGING_IP_OR_HOSTNAME"></label><input type="text" id="siteRemoteNetconsoleLoggingIpAddress" name="siteRemoteNetconsoleLoggingIpAddress" ng-model="modelFormCtrl.modelCopy.attributes.netconsole_host" ng-model-master="modelFormCtrl.model.attributes.netconsole_host" ng-disabled="!modelFormCtrl.modelCopy.attributes.netconsole_enabled" ng-required="modelFormCtrl.modelCopy.attributes.netconsole_enabled" ng-pattern="siteSettingsCtrl.patterns.hostname"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="siteRemoteLoggingPort" translate="SETTINGS_SITE_LABEL_REMOTE_LOGGING_PORT"></label><input type="text" id="siteRemoteNetconsoleLoggingPort" name="siteRemoteNetconsoleLoggingPort" size="5" placeholder="514" ng-model="modelFormCtrl.modelCopy.attributes.netconsole_port" ng-model-master="modelFormCtrl.model.attributes.netconsole_port" ng-disabled="!modelFormCtrl.modelCopy.attributes.netconsole_enabled" ng-required="modelFormCtrl.modelCopy.attributes.netconsole_enabled" ng-pattern="siteSettingsCtrl.patterns.portNumber"'+n("unifi-use-placeholder",!0,!0,!0)+'></div></div></div></div></ng-form></div><div class="unifiSettingsSection"'+n("unifi-if-role-admin",!0,!0,!0)+'><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_SITE_SECTION_PROVIDER_CAPABILITIES"></div><ng-form name="siteSettingsCtrl.forms.provider_capabilities" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'provider_capabilities\', {            download: siteSettingsCtrl.PROVIDER_CAPABILITIES_SETTINGS.DOWNLOAD,             upload: siteSettingsCtrl.PROVIDER_CAPABILITIES_SETTINGS.UPLOAD          })"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxInline" translate="SETTINGS_SITE_LABEL_PROVIDER_CAPABILITIES_DOWNLOAD"></label><unifi-tooltip class="ml-1"><content translate="SETTINGS_SITE_VALUES_PROVIDER_CAPABILITIES_TOOLTIP"></content></unifi-tooltip></div><div class="col--sm9"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><div class="appIconInput appIconInput--right appIconInput--comfy"><unifi-binary-input ng-model="modelFormCtrl.modelCopy.attributes.download" ng-model-master="modelFormCtrl.model.attributes.download" unifi-binary-input-suffix="\'COMMON_UNIT_BPS\' | translate" unifi-binary-input-base-prefix="\'K\'" unifi-binary-input-standard="\'SI\'" unifi-binary-input-allowed-prefixes="[\'K\', \'M\', \'G\']"></unifi-binary-input></div></div><div class="appTooltipContainer appTooltipContainer--hoverable" ng-if="siteSettingsCtrl.gatewayUtils.hasSiteGateway()"><button class="appMainButton appMainButton--condensed appMainButton--tertiary appMainButton--transparent" type="button" ng-click="siteSettingsCtrl.populateSpeedTestResults()" busy-toggle="siteSettingsCtrl.isPopulatingSpeedTestResults" busy-toggle-spinner-classes="[\'appSpinner appSpinner--centered\']">{{ \'SETTINGS_SITE_PREPOPULATE_ACTION\' | translate }}</button><div class="appTooltip" ng-class="{\'appTooltip--dark\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" translate="SETTINGS_SITE_PREPOPULATE_TOOLTIP"></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SITE_LABEL_PROVIDER_CAPABILITIES_UPLOAD"></label></div><div class="col--sm9"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><div class="appIconInput appIconInput--right appIconInput--comfy"><unifi-binary-input ng-model="modelFormCtrl.modelCopy.attributes.upload" ng-model-master="modelFormCtrl.model.attributes.upload" unifi-binary-input-suffix="\'COMMON_UNIT_BPS\' | translate" unifi-binary-input-base-prefix="\'K\'" unifi-binary-input-standard="\'SI\'" unifi-binary-input-allowed-prefixes="[\'K\', \'M\', \'G\']"></unifi-binary-input></div></div></div></div></div></ng-form></div><div class="unifiSettingsSection"'+n("unifi-if-role-admin",!0,!0,!0)+'><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_SITE_SECTION_DEVICE_AUTHENTICATION"></div><ng-form name="siteSettingsCtrl.forms.mgmt2" unifi-model-form="siteSettingsCtrl.getSettingFromKey(\'mgmt\', {x_ssh_keys: []})"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH"></label></div><div class="col--sm9 appFormGroup"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="siteEnableSshAuthentication" id="siteEnableSshAuthentication" ng-model="modelFormCtrl.modelCopy.attributes.x_ssh_enabled" ng-model-master="modelFormCtrl.model.attributes.x_ssh_enabled"><label for="siteEnableSshAuthentication" translate="SETTINGS_SITE_VALUES_DEVICE_AUTHENTICATION_SSH"></label></div></div><div class="appInputGroup verticalRhythmTop--condensed" ng-show="modelFormCtrl.modelCopy.attributes.x_ssh_enabled"><div class="appInputGroup appInputGroup--cozy inlineBlock verticalAlign--top"><label class="appLabel--boxInline" for="siteDeviceAuthenticationUsername" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_USERNAME"></label><input type="text" id="siteDeviceAuthenticationUsername" name="siteDeviceAuthenticationU" ng-model="modelFormCtrl.modelCopy.attributes.x_ssh_username" ng-model-master="modelFormCtrl.model.attributes.x_ssh_username" ng-pattern="siteSettingsCtrl.patterns.deviceAccountName" ng-disabled="!modelFormCtrl.modelCopy.attributes.x_ssh_enabled" ng-required="modelFormCtrl.modelCopy.attributes.x_ssh_enabled" ng-maxlength="siteSettingsCtrl.CREDENTIALS_SETTINGS.MAX_SSH_USERNAME_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="siteSettingsCtrl.forms.mgmt2.siteDeviceAuthenticationU.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{ max: siteSettingsCtrl.CREDENTIALS_SETTINGS.MAX_SSH_USERNAME_LENGTH }"></div></div><div class="appInputGroup appInputGroup--cozy inlineBlock verticalAlign--top"><label class="appLabel--boxInline" for="siteDeviceAuthenticationPassword" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_PASSWORD"></label><unifi-password-reveal><input type="password" autocomplete="new-password" id="siteDeviceAuthenticationPassword" name="siteDeviceAuthenticationP" ng-model="modelFormCtrl.modelCopy.attributes.x_ssh_password" ng-model-master="modelFormCtrl.model.attributes.x_ssh_password" ng-disabled="!modelFormCtrl.modelCopy.attributes.x_ssh_enabled" ng-required="modelFormCtrl.modelCopy.attributes.x_ssh_enabled" ng-maxlength="siteSettingsCtrl.CREDENTIALS_SETTINGS.MAX_SSH_PASSWORD_LENGTH"></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-show="siteSettingsCtrl.forms.mgmt2.siteDeviceAuthenticationP.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{ max: siteSettingsCtrl.CREDENTIALS_SETTINGS.MAX_SSH_PASSWORD_LENGTH }"></div></div><div class="appInputHelp" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_DESC"></div></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.x_ssh_enabled"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH_KEYS"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy noMarginBottom"><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm--cozy" ng-if="!modelFormCtrl.modelCopy.attributes.x_ssh_keys.length" ng-class="{\'appInfoBox--dark\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_SITE_INFO_BOX_SSH_KEYS_EMPTY"></p></div></div></div><table class="appTable appTable--noWrap appTable--flexible verticalRhythm--condensed" id="adminSshKeys" ng-class="{                  \'appTable--dark\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')                }"><tbody><tr ng-repeat="sshKey in modelFormCtrl.modelCopy.attributes.x_ssh_keys track by $index"><td class="unifiSettingsAdminSshKeysTable__status"><span class="icon ubnt-icon--key unifiSshKeyIcon" ng-class="{\'unifiSshKeyIcon--active\': !!sshKey.fingerprint}"></span></td><td><div class="verticalRhythm--cozy"><h5 class="verticalRhythm--condensed" ng-class="{\'appType--darkImportant\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')}">{{::sshKey.name}}</h5><div class="verticalRhythm--condensed"><strong class="withColon" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH_KEY_ADDED"></strong><span ng-if="sshKey.date" ng-class="{\'appType--darkImportant\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"> {{::sshKey.date | moment: \'fromNow\'}}</span><span ng-if="!sshKey.date" ng-class="{\'appType--darkImportant\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH_KEY_NOT_SAVED_YET"></span></div><div><strong class="withColon" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH_KEY_FINGERPRINT"></strong><span ng-if="sshKey.fingerprint" ng-class="{\'appType--darkImportant\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"> {{::sshKey.fingerprint}}</span><span ng-if="!sshKey.fingerprint" ng-class="{\'appType--darkImportant\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')}" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH_KEY_APPLY_FOR_FINGERPRINT"></span></div></div></td><td class="appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" title="{{::\'COMMON_ACTIONS_DELETE\' | translate}}" ng-click="siteSettingsCtrl.removeSshKey($index)" ng-disabled="siteSettingsCtrl.isReadOnly"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInputGroup" ng-if="!siteSettingsCtrl.isReadOnly"><button class="appMainButton appMainButton--primary appMainButton--condensed addRestrictedSubnet" type="button" ng-click="siteSettingsCtrl.addSshKey()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_SITE_ACTIONS_ADD_NEW_SSH_KEY"></span></button></div></div></div></ng-form></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': siteSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="siteSettingsCtrl.showValidation = true" busy-toggle="siteSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" translate="COMMON_ACTIONS_APPLY_CHANGES"></button><button class="appMainButton" type="button" ng-click="siteSettingsCtrl.reset()" ng-disabled="siteSettingsCtrl.form.$pristine" ng-class="siteSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?             \'appMainButton--transparentDark\' :             \'appMainButton--transparent\'          " translate="COMMON_ACTIONS_RESET"></button></div><div class="appFormFooter__right"><button class="appMainButton" type="button" ng-if="siteSettingsCtrl.isSuperAdmin()" ng-click="siteSettingsCtrl.exportSite()" busy-toggle="siteSettingsCtrl.isExporting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" translate="SETTINGS_SITE_ACTIONS_EXPORT"></button><button class="appMainButton appMainButton--danger" type="button" ng-if="siteSettingsCtrl.canDeleteSite()" ng-click="siteSettingsCtrl.deleteSite()" busy-toggle="siteSettingsCtrl.isDeleting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" translate="SETTINGS_SITE_ACTIONS_DELETE"></button></div></div></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],199:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("SnmpSettingsController",["BaseSettingsController","preferences","REGEX_PATTERNS","SNMP_SETTINGS",function(e,t,i,o){return new(function(r){function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return e.preferences=t,e.SNMP_SETTINGS=o,e.settingsSectionTranslationKey="SETTINGS_SERVICES_TAB_SNMP",e.settingsSectionTranslationKeys={snmp:"SETTINGS_SERVICES_TAB_SNMP"},e.patterns={snmpv3Username:i.SNMPV3_USERNAME,snmpv3Password:i.SNMPV3_PASSWORD},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e),n(a,[{key:"save",value:function(){var e=this;this.isSubmitting=!0;var t=this.forms.snmp.modelCopy.attributes;t.enabled||delete t.community,t.enabledV3||(delete t.username,delete t.x_password);var i=[this.saveSection(this.getSettingFromKey("snmp"),t,"snmp")];return this.afterSave(i).finally(function(){e.isSubmitting=!1})}}]),a}())}])},{}],200:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiSnmpSettings",{controller:"SnmpSettingsController",controllerAs:"snmpSettingsCtrl",template:e("./snmpSettings.pug")()})},{"./snmpSettings.pug":201}],201:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="snmpSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="snmpSettingsCtrl.form" ng-class="{      \'appForm--dark\': snmpSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': snmpSettingsCtrl.showValidation,      \'is-validation-hidden\': !snmpSettingsCtrl.showValidation    }" ng-submit="snmpSettingsCtrl.form.$valid &amp;&amp; snmpSettingsCtrl.save()"><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!snmpSettingsCtrl.isAdmin()"><unifi-config-changed unifi-config-changed-on-reset="snmpSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="snmpSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="snmpSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="snmpSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><div class="unifiSettingsSection noMarginTop"><ng-form name="snmpSettingsCtrl.forms.snmp" unifi-model-form="snmpSettingsCtrl.getSettingFromKey(\'snmp\')"><fieldset class="appFieldset appFieldset--quiet"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone verticalRhythmTop--cozy" translate="SETTINGS_SNMP_SECTION_VERSION_1_2C"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" for="snmpEnable" translate="SETTINGS_SNMP_LABEL_ENABLE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': snmpSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="snmpEnable" id="snmpEnable" ng-model="modelFormCtrl.modelCopy.attributes.enabled" ng-model-master="modelFormCtrl.model.attributes.enabled"><label for="snmpEnable"></label></div></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="modelFormCtrl.modelCopy.attributes.enabled"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" for="snmpCommunityString" translate="SETTINGS_SNMP_LABEL_COMMUNITY_STRING"></label></div><div class="col--sm5 col--xs10 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="snmpCommunityString" id="snmpCommunityString" ng-model="modelFormCtrl.modelCopy.attributes.community" ng-model-master="modelFormCtrl.model.attributes.community" ng-required="modelFormCtrl.modelCopy.attributes.enabled" ng-maxlength="snmpSettingsCtrl.SNMP_SETTINGS.MAX_COMMUNITY_LENGTH" ng-attr-placeholder="{{\'SETTINGS_SNMP_PLACEHOLDER_COMMUNITY_STRING\' | translate}}"'+n("unifi-use-placeholder",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="snmpSettingsCtrl.forms.snmp.snmpCommunityString.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: snmpSettingsCtrl.SNMP_SETTINGS.MAX_COMMUNITY_LENGTH}"></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone verticalRhythmTop--cozy" translate="SETTINGS_SNMP_SECTION_VERSION_3"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" for="snmpEnableV3" translate="SETTINGS_SNMP_LABEL_ENABLE_V3"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': snmpSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="snmpEnableV3" id="snmpEnableV3" ng-model="modelFormCtrl.modelCopy.attributes.enabledV3" ng-model-master="modelFormCtrl.model.attributes.enabledV3"><label for="snmpEnableV3"></label></div></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="modelFormCtrl.modelCopy.attributes.enabledV3"><div class="appRow"><div class="col--sm5 col--smOffset3"><unifi-notify-firmware-requirement class="appTooltip--boxAlign" unifi-notify-firmware-requirement-firmware-caps="[\'SNMPV3\']" unifi-notify-firmware-requirement-is-dark="snmpSettingsCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-notify-firmware-requirement></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" for="snmpUsername" translate="SETTINGS_SNMP_LABEL_USERNAME"></label></div><div class="col--sm5 col--xs10 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="snmpU" id="snmpUsername" ng-model="modelFormCtrl.modelCopy.attributes.username" ng-model-master="modelFormCtrl.model.attributes.username" ng-maxlength="snmpSettingsCtrl.SNMP_SETTINGS.MAX_USERNAME_LENGTH" ng-required="modelFormCtrl.modelCopy.attributes.enabledV3" ng-pattern="snmpSettingsCtrl.patterns.snmpv3Username"><div class="appInputFeedback appInputFeedback--danger" ng-show="snmpSettingsCtrl.forms.snmp.snmpU.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: snmpSettingsCtrl.SNMP_SETTINGS.MAX_USERNAME_LENGTH}"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="snmpSettingsCtrl.forms.snmp.snmpU.$error.pattern" translate="VALIDATION_HINT_ALPHANUMERIC_DASHES"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" for="snmpPassword" translate="SETTINGS_SNMP_LABEL_PASSWORD"></label></div><div class="col--sm5 col--xs10 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" autocomplete="new-password" name="snmpP" id="snmpPassword" ng-model="modelFormCtrl.modelCopy.attributes.x_password" ng-model-master="modelFormCtrl.model.attributes.x_password" ng-minlength="snmpSettingsCtrl.SNMP_SETTINGS.MIN_PASSWORD_LENGTH" ng-maxlength="snmpSettingsCtrl.SNMP_SETTINGS.MAX_PASSWORD_LENGTH" ng-required="modelFormCtrl.modelCopy.attributes.enabledV3" ng-pattern="snmpSettingsCtrl.patterns.snmpv3Password"></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-show="snmpSettingsCtrl.forms.snmp.snmpP.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{max: snmpSettingsCtrl.SNMP_SETTINGS.MAX_PASSWORD_LENGTH}"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="snmpSettingsCtrl.forms.snmp.snmpP.$error.minlength" translate="VALIDATION_HINT_MIN_LENGTH" translate-values="{min: snmpSettingsCtrl.SNMP_SETTINGS.MIN_PASSWORD_LENGTH}"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="snmpSettingsCtrl.forms.snmp.snmpP.$error.pattern" translate="SETTINGS_SNMP_VALIDATION_HINT_PASSWORD"></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet"><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': snmpSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="snmpSettingsCtrl.showValidation = true" busy-toggle="snmpSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner\', \'appSpinner--light\', \'appSpinner--centered\', \'appSpinner--small\']" translate="COMMON_ACTIONS_APPLY_CHANGES"></button><button class="appMainButton" type="button" ng-click="snmpSettingsCtrl.reset()" ng-disabled="snmpSettingsCtrl.form.$pristine" ng-class="snmpSettingsCtrl.preferences.model.get(\'isSettingsDark\') ? \'appMainButton--transparentDark\' : \'appMainButton--transparent\'" translate="COMMON_ACTIONS_RESET"></button></div></div></div></div></fieldset></ng-form></div></fieldset></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],202:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("UpnpSettingsController",["$q","BaseSettingsController","gatewayUtils","networks","networkUtils","preferences",function(e,t,i,o,r,a){return new(function(s){function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.preferences=a,e.hasSiteGateway=i.hasSiteGateway.bind(i),e.settingsSectionTranslationKey="SETTINGS_SERVICES_TAB_UPNP",e.settingsSectionTranslationKeys={usg:"SETTINGS_SERVICES_TAB_UPNP"},e.hasSiteGateway()&&(e.wanNetworkGroups=i.getWanNetworkGroups(i.getSiteGateway())),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,t),n(l,[{key:"getUpnpNetworks",value:function(){return o.repository.collection.models.filter(function(e){var t=e.get("purpose");return-1!==["corporate","guest"].indexOf(t)})}},{key:"save",value:function(){var t=this,i=[];this.isSubmitting=!0,angular.forEach(["usg"],function(e){i.push(t.saveSection(t.getSettingFromKey(e),t.forms[e].modelCopy.attributes,e))});var n=!this.forms.usg.modelCopy.attributes.upnp_enabled;return this.getUpnpNetworks().map(function(i){var o=t.forms.networks[i.id],a=o&&o.modelCopy.attributes||{};return n&&(a.upnp_lan_enabled=!1),i.get("upnp_lan_enabled")!==a.upnp_lan_enabled?r.saveNetwork(i,a):e.when()}),this.afterSave(i).finally(function(){t.isSubmitting=!1})}}]),l}())}])},{}],203:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiUpnpSettings",{controller:"UpnpSettingsController",controllerAs:"upnpSettingsCtrl",template:e("./upnpSettings.pug")()})},{"./upnpSettings.pug":204}],204:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="upnpSettings"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><unifi-settings-security-gateway-is-required ng-if="!upnpSettingsCtrl.hasSiteGateway()" unifi-settings-security-gateway-is-required-feature="{{\'SETTINGS_COMMON_GATEWAY_REQUIRED_MESSAGE_UPNP_FEATURE\' | translate}}"></unifi-settings-security-gateway-is-required><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="upnpSettingsCtrl.form" ng-class="{      \'appForm--dark\': upnpSettingsCtrl.preferences.model.get(\'isSettingsDark\'),      \'is-form-validation-visible\': upnpSettingsCtrl.showValidation,      \'is-validation-hidden\': !upnpSettingsCtrl.showValidation    }" ng-submit="upnpSettingsCtrl.form.$valid &amp;&amp; upnpSettingsCtrl.save()" ng-if="upnpSettingsCtrl.hasSiteGateway()"><unifi-config-changed unifi-config-changed-on-reset="upnpSettingsCtrl.resolveDivergence()" unifi-config-changed-on-ignore="upnpSettingsCtrl.ignoreDivergence()" unifi-config-changed-is-dark="upnpSettingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="upnpSettingsCtrl.haveFormsDiverged()"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!upnpSettingsCtrl.isAdmin()"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_UPNP_SECTION_CONFIGURATION"></div><ng-form name="upnpSettingsCtrl.forms.usg" unifi-model-form="upnpSettingsCtrl.getSettingFromKey(\'usg\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" for="upnpEnable" translate="SETTINGS_UPNP_LABEL_ENABLE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': upnpSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="upnpEnable" id="upnpEnable" ng-model="modelFormCtrl.modelCopy.attributes.upnp_enabled" ng-model-master="modelFormCtrl.model.attributes.upnp_enabled"><label for="upnpEnable"></label></div><div class="appInputFeedback appInputFeedback--danger" ng-if="upnpSettingsCtrl.forms.usg.upnpEnable.$invalid" translate="SETTINGS_UPNP_VALIDATION_REQUIRED"></div></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.upnp_enabled"><div class="col--sm3"><label class="appLabel--primary" for="wanInterface" translate="SETTINGS_UPNP_LABEL_WAN_NETWORK_GROUP"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="networkgroup in upnpSettingsCtrl.wanNetworkGroups"><input type="radio" name="wanNetworkgroup" id="{{\'wanNetworkgroup\' + networkgroup.value}}" value="{{networkgroup.value}}" ng-model="modelFormCtrl.modelCopy.attributes.upnp_wan_interface" ng-model-master="modelFormCtrl.model.attributes.upnp_wan_interface" ng-required="modelFormCtrl.modelCopy.attributes.upnp_enabled"><label for="{{\'wanNetworkgroup\' + networkgroup.value}}">{{networkgroup.label}}</label></div></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.upnp_enabled"><div class="col--sm3"><label class="appLabel--primary" for="ntpPmpEnable" translate="SETTINGS_UPNP_LABEL_NAT_PMP_ENABLE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': upnpSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="ntpPmpEnable" id="ntpPmpEnable" ng-model="modelFormCtrl.modelCopy.attributes.upnp_nat_pmp_enabled" ng-model-master="modelFormCtrl.model.attributes.upnp_nat_pmp_enabled"><label for="ntpPmpEnable"></label></div></div></div></div><div class="appRow" ng-if="modelFormCtrl.modelCopy.attributes.upnp_enabled"><div class="col--sm3"><label class="appLabel--primary" for="secureModeEnable" translate="SETTINGS_UPNP_LABEL_SECURE_MODE_ENABLE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': upnpSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="secureModeEnable" id="secureModeEnable" ng-model="modelFormCtrl.modelCopy.attributes.upnp_secure_mode" ng-model-master="modelFormCtrl.model.attributes.upnp_secure_mode"><label for="secureModeEnable"></label></div></div></div></div><div ng-if="modelFormCtrl.modelCopy.attributes.upnp_enabled"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_UPNP_SECTION_NETWORKS"></div><ng-form ng-repeat="network in upnpSettingsCtrl.getUpnpNetworks()" name="upnpSettingsCtrl.forms.networks[network.id]" unifi-model-form="network"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" for="network_{{network.id}}">{{network.get(\'name\')}}</label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><div class="toggle appToggle" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}" ng-class="{\'appToggle--dark\': upnpSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><input type="checkbox" name="network_{{network.id}}" id="network_{{network.id}}" ng-model="modelFormCtrl.modelCopy.attributes.upnp_lan_enabled" ng-model-master="modelFormCtrl.model.attributes.upnp_lan_enabled"><label for="network_{{network.id}}"></label></div></div></div></div></ng-form></div><div class="appRow"><div class="col--sm12"><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-class="{\'appFormFooter--dark\': upnpSettingsCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success" ng-click="upnpSettingsCtrl.showValidation = true" busy-toggle="upnpSettingsCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button><button class="appMainButton" type="button" ng-click="upnpSettingsCtrl.reset()" ng-disabled="upnpSettingsCtrl.form.$pristine" ng-class="upnpSettingsCtrl.preferences.model.get(\'isSettingsDark\') ?                         \'appMainButton--transparentDark\' :                         \'appMainButton--transparent\'                      ">{{\'COMMON_ACTIONS_RESET\' | translate}}</button></div></div></div></div></ng-form></div></fieldset></form></div>'};var o=/["&<>]/},{"pug-runtime":2}],205:[function(e,t,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(e,t,i,o,r,a,s){this.$translate=e,this.heyToasts=t,this.userGroups=i,this.preferences=o,this.apiResults=a,this.patterns={name:s.NAME},n.call(this,r)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){this.isSubmitting=!0;var e=angular.extend({},this.modelCopy.attributes,{qos_rate_max_down:this.isDownloadLimited?this.maxDownloadRate:-1,qos_rate_max_up:this.isUploadLimited?this.maxUploadRate:-1});return this.model.save(e,{wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("SETTINGS_NAV_USER_GROUPS").toLowerCase()})),this.userGroups.repository.collection.add(this.model,{merge:!0}),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("SETTINGS_NAV_USER_GROUPS").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.setDefaultAttrs=function(e){var t=e?"Master":"";this["isDownloadLimited"+t]=!(!this.model||-1===this.model.get("qos_rate_max_down")),this["isUploadLimited"+t]=!(!this.model||-1===this.model.get("qos_rate_max_up")),this["maxDownloadRate"+t]=this.model&&-1!==this.model.get("qos_rate_max_down")?this.model.get("qos_rate_max_down"):2,this["maxUploadRate"+t]=this.model&&-1!==this.model.get("qos_rate_max_up")?this.model.get("qos_rate_max_up"):2},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$translate","heyToasts","userGroups","preferences","modelDivergence","apiResults","REGEX_PATTERNS"],angular.module("app-unifi-manage-settings").controller("UserGroupFormController",o)},{}],206:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiUserGroupForm",["SimpleFormDirective",function(t){return new t("userGroup",e("./userGroupForm.pug")())}])},{"./userGroupForm.pug":207}],207:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="userGroupFormCtrl.form" ng-class="{    \'appForm--dark\': userGroupFormCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': userGroupFormCtrl.showValidation,    \'is-validation-hidden\': !userGroupFormCtrl.showValidation  }" ng-submit="userGroupFormCtrl.form.$valid &amp;&amp; userGroupFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="userGroupFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="userGroupFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="userGroupFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="userGroupFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{userGroupName: userGroupFormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_USER_GROUP_SECTION_VIEW\' : (userGroupFormCtrl.model.id ? \'SETTINGS_USER_GROUP_SECTION_EDIT\' : \'SETTINGS_USER_GROUP_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_USER_GROUP_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="userGroupName" ng-model="userGroupFormCtrl.modelCopy.attributes.name" ng-model-master="userGroupFormCtrl.model.attributes.name" ng-pattern="userGroupFormCtrl.patterns.accountName"'+n("required",!0,!0,!0)+'></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_USER_GROUP_LABEL_BANDWIDTH_LIMIT_DOWN"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="userGroupEnableLimitBandwidthDown" id="userGroupEnableLimitBandwidthDown" ng-model="userGroupFormCtrl.isDownloadLimited" ng-model-master="userGroupFormCtrl.isDownloadLimitedMaster"><label for="userGroupEnableLimitBandwidthDown" translate="SETTINGS_USER_GROUP_VALUES_BANDWIDTH_LIMIT_DOWN"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="userGroupLimitBandwidthDownSize" translate="SETTINGS_USER_GROUP_LABEL_LIMITED_TO" ng-class="{\'is-label-disabled\': !userGroupFormCtrl.isDownloadLimited}"></label><div class="inlineBlock"><unifi-binary-input id="userGroupLimitBandwidthDownSize" ng-model="userGroupFormCtrl.maxDownloadRate" ng-model-master="userGroupFormCtrl.maxDownloadRateMaster" unifi-binary-input-suffix="\'COMMON_UNIT_BPS\' | translate" unifi-binary-input-base-prefix="\'K\'" unifi-binary-input-standard="\'SI\'" unifi-binary-input-allowed-prefixes="[\'K\', \'M\']" unifi-binary-input-min="\'2\'" unifi-binary-input-max="\'100000\'" ng-disabled="!userGroupFormCtrl.isDownloadLimited" ng-required="userGroupFormCtrl.isDownloadLimited"></unifi-binary-input></div><unifi-tooltip><content translate="SETTINGS_USER_GROUP_VALUES_BANDWIDTH_LIMIT_DOWN_MAX"></content></unifi-tooltip></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_USER_GROUP_LABEL_BANDWIDTH_LIMIT_UP"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="userGroupEnableLimitBandwidthUp" id="userGroupEnableLimitBandwidthUp" ng-model="userGroupFormCtrl.isUploadLimited" ng-model-master="userGroupFormCtrl.isUploadLimitedMaster"><label for="userGroupEnableLimitBandwidthUp" translate="SETTINGS_USER_GROUP_VALUES_BANDWIDTH_LIMIT_UP"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="userGroupLimitBandwidthUpSize" translate="SETTINGS_USER_GROUP_LABEL_LIMITED_TO" ng-class="{\'is-label-disabled\': !userGroupFormCtrl.isUploadLimited}"></label><div class="inlineBlock"><unifi-binary-input id="userGroupLimitBandwidthUpSize" ng-model="userGroupFormCtrl.maxUploadRate" ng-model-master="userGroupFormCtrl.maxUploadRateMaster" unifi-binary-input-suffix="\'COMMON_UNIT_BPS\' | translate" unifi-binary-input-base-prefix="\'K\'" unifi-binary-input-standard="\'SI\'" unifi-binary-input-allowed-prefixes="[\'K\', \'M\']" unifi-binary-input-min="\'2\'" unifi-binary-input-max="\'100000\'" ng-disabled="!userGroupFormCtrl.isUploadLimited" ng-required="userGroupFormCtrl.isUploadLimited"></unifi-binary-input></div><unifi-tooltip><content translate="SETTINGS_USER_GROUP_VALUES_BANDWIDTH_LIMIT_UP_MAX"></content></unifi-tooltip></div></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': userGroupFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveUserGroup" ng-if="!isReadOnly" ng-click="userGroupFormCtrl.showValidation = true" busy-toggle="userGroupFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="userGroupFormCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":2}],208:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("UserGroupListController",["$translate","apiResults","heyToasts","frame","BaseListController","userGroups","preferences",function(e,t,i,o,r,a,s){return new(function(l){function p(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return e.preferences=s,e.defaultSortBy="name",e.isRemoving={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,r),n(p,[{key:"getCollection",value:function(){return a.repository.collection}},{key:"edit",value:function(e){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:e})}},{key:"remove",value:function(n){var r=this;return o.show("confirm",{title:function(){return e.instant("SETTINGS_USER_GROUP_DELETE_CONFIRM_TITLE",{userGroupName:n.get("name")})},message:function(){return e.instant("SETTINGS_USER_GROUP_DELETE_CONFIRM_MESSAGE",{userGroupName:n.get("name")})},options:angular.noop}).then(function(){return r.isRemoving[n.id]=!0,n.destroy({wait:!0}).then(function(){return i.pushSuccess(e.instant("SETTINGS_USER_GROUP_DELETE_SUCCESS",{userGroupName:n.get("name")})),!0}).catch(function(o){return i.pushError(t.appendErrorMsg(e.instant("SETTINGS_USER_GROUP_DELETE_ERROR",{userGroupName:n.get("name")}),o)),!1}).finally(function(){r.isRemoving[n.id]=!1})})}}]),p}())}])},{}],209:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiUserGroupList",["ListDirective",function(t){return new t("userGroup",e("./userGroupList.pug")(),{onEdit:"&unifiUserGroupListOnEdit"})}])},{"./userGroupList.pug":210}],210:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="userGroupsTable" collection-view-sort="userGroupListCtrl.view" ng-class="{      \'appTable--dark\': userGroupListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="userGroupName" collection-view-sort-by="name"><span translate="SETTINGS_USER_GROUP_TABLE_HEADER_NAME"></span></th><th class="userGroupBandwidthDown" collection-view-sort-by="qos_rate_max_down"><span translate="SETTINGS_USER_GROUP_TABLE_HEADER_BANDWIDTH_LIMIT_DOWN"></span></th><th class="userGroupBandwidthUp" collection-view-sort-by="qos_rate_max_up"><span translate="SETTINGS_USER_GROUP_TABLE_HEADER_BANDWIDTH_LIMIT_UP"></span></th><th class="userGroupActions"><span translate="SETTINGS_USER_GROUP_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in userGroupListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="userGroupName">{{::model.get(\'name\')}}</td><td class="userGroupBandwidthDown">{{::model.get(\'qos_rate_max_down\') === -1 ? (\'SETTINGS_USER_GROUP_TABLE_FLAGS_UNLIMITED\' | translate) : (model.get(\'qos_rate_max_down\') * 1000 | bps:{isSi:true})}}</td><td class="userGroupBandwidthUp">{{::model.get(\'qos_rate_max_up\') === -1 ? (\'SETTINGS_USER_GROUP_TABLE_FLAGS_UNLIMITED\' | translate) : (model.get(\'qos_rate_max_up\') * 1000 | bps:{isSi:true})}}</td><td class="userGroupActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="userGroupListCtrl.edit(model)" ng-disabled="userGroupListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="userGroupListCtrl.edit(model)" ng-disabled="userGroupListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="!model.get(\'attr_no_delete\')" ng-click="userGroupListCtrl.remove(model)" ng-disabled="userGroupListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!userGroupListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': userGroupListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_USER_GROUP_TABLE_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],211:[function(e,t,i){"use strict";var n=e("../../../app-unifi-manage/controllers/BaseListAndFormController");function o(e,t,i,o,r,a,s){this.collection=a.repository.collection,s(this),n.call(this,e,t,i,o,r)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","ENV","preferences","userGroups","missingModelControllerMixin"],angular.module("app-unifi-manage-settings").controller("UserGroupsController",o)},{"../../../app-unifi-manage/controllers/BaseListAndFormController":246}],212:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiUserGroups",{controller:"UserGroupsController",controllerAs:"userGroupsCtrl",template:e("./userGroups.pug")()})},{"./userGroups.pug":213}],213:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="userGroupSettings"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_USER_GROUPS"></div></div><div ng-switch="userGroupsCtrl.view"><div ng-switch-when="form" unifi-user-group-form="userGroupsCtrl.model" unifi-user-group-form-on-save="userGroupsCtrl.list()" unifi-user-group-form-on-cancel="userGroupsCtrl.list()" unifi-user-group-form-is-read-only="!userGroupsCtrl.isAdmin()"></div><div ng-switch-when="list"><unifi-user-group-list unifi-user-group-list-on-edit="userGroupsCtrl.edit(model)"></unifi-user-group-list><div class="unifiSettingsFooter"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(e){var t=""+e,i=n.exec(t);if(!i)return e;var o,r,a,s="";for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=a}return r!==o?s+t.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton" ng-click="userGroupsCtrl.add()" ng-class="userGroupsCtrl.preferences.model.get(\'isSettingsDark\') ?             \'appMainButton--inputDark\' :             \'appMainButton--input\'          "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_USER_GROUP_BUTTON_ADD"></span></button></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":2}],214:[function(e,t,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(e,t,i,o,r,a,s,l,p,u,d,c,m,g,_,f,S,b,v,C){this._=e,this.$translate=t,this.clients=i,this.frame=o,this.heyToasts=r,this.wirelessNetworkGroups=a,this.wirelessNetworks=s,this.userGroups=l,this.preferences=u,this.modelUtils=c,this.apiResults=m,this.featureFlag=_,this.MINRATE_SETTINGS=S,this.WLAN_SETTINGS=v,this.WLAN_SECURITY_TYPES=b,this.URLS=C,this.wpaModeOptions={auto:"SETTINGS_WLAN_VALUES_BOTH",wpa1:"SETTINGS_WLAN_VALUES_WPA1_ONLY",wpa2:"SETTINGS_WLAN_VALUES_WPA2_ONLY"},this.encryptionOptions={auto:"SETTINGS_WLAN_VALUES_AUTO",ccmp:"SETTINGS_WLAN_VALUES_AES_CCMP_ONLY"},this.minrateSliderLabel={ng:"SETTINGS_WLAN_LABEL_MINRATE_NG_MODE",na:"SETTINGS_WLAN_LABEL_MINRATE_NA_MODE",enabled_ng:"SETTINGS_WLAN_VALUES_MINRATE_NG_ENABLED_LABEL",enabled_na:"SETTINGS_WLAN_VALUES_MINRATE_NA_ENABLED_LABEL"},this.patterns={name:f.NAME,macAddress:g.exact(f.MAC_ADDRESS),vlan:f.VLAN,wep:f.WEP,password:f.PASSWORD},this.radiusAuthServerMin=1,this.radiusAuthServerMax=4,this.radiusAcctServerMin=0,this.radiusAcctServerMax=4,this.hotspot2Profiles=p.repository.collection.models,this.minrateBeacon={},this.macFilterMax=512,this.bcFilterMax=256,this.radiusProfile=null,this.macAddressFormatOptions=[{key:"none_lower",label:"aabbccddeeff"},{key:"hyphen_lower",label:"aa-bb-cc-dd-ee-ff"},{key:"colon_lower",label:"aa:bb:cc:dd:ee:ff"},{key:"none_upper",label:"AABBCCDDEEFF"},{key:"hyphen_upper",label:"AA-BB-CC-DD-EE-FF"},{key:"colon_upper",label:"AA:BB:CC:DD:EE:FF"}],n.call(this,d)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.canSave=function(){return this.modelCopy&&(this.modelCopy.get("mac_filter_list")||[]).length<=this.getMacFilterAvailable()&&(this.modelCopy.get("bc_filter_list")||[]).length<=this.getBcFilterAvailable()},o.prototype.save=function(){this.isSubmitting=!0;var e=angular.extend({},this.modelCopy.attributes,{wlangroup_id:this.wlanGroupId});return e.vlan_enabled||delete e.vlan,this.isGroupRekeyRequired()?this.gtkEnabled||(e.group_rekey=0):delete e.group_rekey,e.security!==this.WLAN_SECURITY_TYPES.WEP&&(delete e.x_wep,delete e.wep_idx),e.security!==this.WLAN_SECURITY_TYPES.WPA_PERSONAL&&delete e.x_passphrase,e.security===this.WLAN_SECURITY_TYPES.WPA_ENTERPRISE||e.radius_mac_auth_enabled||delete e.radiusprofile_id,this.isFastRoamingAllowed()&&(e.fast_roaming_enabled=!1),!0!==e.mac_filter_enabled&&(delete e.mac_filter_policy,delete e.mac_filter_list),"default"===e.dtim_mode&&(delete e.dtim_na,delete e.dtim_ng),e.schedule=e.schedule_enabled?this.schedule:[],e.minrate_ng_mgmt_rate_kbps=e.minrate_ng_data_rate_kbps,e.minrate_na_mgmt_rate_kbps=e.minrate_na_data_rate_kbps,e.minrate_ng_beacon_rate_kbps=this.minrateBeacon.ng||e.minrate_ng_data_rate_kbps,e.minrate_na_beacon_rate_kbps=this.minrateBeacon.na||e.minrate_na_data_rate_kbps,this.isMinrateDefaultValue("ng")&&!this.isCckRatesDisabled("ng")&&(e.minrate_ng_advertising_rates=!1),this.isMinrateDefaultValue("na")&&!this.isCckRatesDisabled("na")&&(e.minrate_na_advertising_rates=!1),this.model.save(e,{wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("SETTINGS_NAV_WIRELESS_NETWORKS").toLowerCase()})),this.wirelessNetworks.repository.collection.add(this.model,{merge:!0}),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("SETTINGS_NAV_WIRELESS_NETWORKS").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.setWlanGroupId=function(e){this.wlanGroupId=e,this.wlanGroup=this.wirelessNetworkGroups.repository.collection.get(this.wlanGroupId),this.isWlanGroupRoaming=!!this.wlanGroup&&this.wlanGroup.get("roam_enabled")},o.prototype.isLegacySupportEnabled=function(){return this.wlanGroup=this.wirelessNetworkGroups.repository.collection.get(this.wlanGroupId),!!this.wlanGroup.get("b_supported")},o.prototype.setDefaultAttrs=function(e){var t=e?"":"Copy";if(this["model"+t]){var i=this["model"+t].attributes;i.enabled=!this.model||!this.model.id||this.model.get("enabled"),i.security=(this.model?this.model.get("security"):void 0)||(this.isWlanGroupRoaming?this.WLAN_SECURITY_TYPES.WPA_PERSONAL:this.WLAN_SECURITY_TYPES.OPEN),i.wep_idx=(this.model?this.model.get("wep_idx"):void 0)||1,i.wpa_mode=(this.model?this.model.get("wpa_mode"):void 0)||"wpa2",i.wpa_enc=(this.model?this.model.get("wpa_enc"):void 0)||"ccmp",i.usergroup_id=(this.model?this.model.get("usergroup_id"):void 0)||(this.userGroups.repository.collection.getDefault()||{}).id,i.dtim_mode=(this.model?this.model.get("dtim_mode"):void 0)||"default",i.dtim_ng=(this.model?this.model.get("dtim_ng"):void 0)||this.MINRATE_SETTINGS.DTIM.DEFAULT,i.dtim_na=(this.model?this.model.get("dtim_na"):void 0)||this.MINRATE_SETTINGS.DTIM.DEFAULT,i.minrate_ng_enabled=(this.model?this.model.get("minrate_ng_enabled"):void 0)||!1,i.minrate_ng_advertising_rates=(this.model?this.model.get("minrate_ng_advertising_rates"):void 0)||!1,i.minrate_ng_data_rate_kbps=(this.model?this.model.get("minrate_ng_data_rate_kbps"):void 0)||this.MINRATE_SETTINGS.MCS.ng[0],i.minrate_ng_cck_rates_enabled=!this.model||!1!==this.model.get("minrate_ng_cck_rates_enabled"),this.minrateBeacon.ng=this.model&&this.model.get("minrate_ng_beacon_rate_kbps")&&this.model.get("minrate_ng_beacon_rate_kbps")!==i.minrate_ng_data_rate_kbps?this.MINRATE_SETTINGS.MCS.ng[0]:0,i.minrate_na_enabled=(this.model?this.model.get("minrate_na_enabled"):void 0)||!1,i.minrate_na_advertising_rates=(this.model?this.model.get("minrate_na_advertising_rates"):void 0)||!1,i.minrate_na_data_rate_kbps=(this.model?this.model.get("minrate_na_data_rate_kbps"):void 0)||this.MINRATE_SETTINGS.MCS.na[0],this.minrateBeacon.na=this.model&&this.model.get("minrate_na_beacon_rate_kbps")&&this.model.get("minrate_na_beacon_rate_kbps")!==i.minrate_na_data_rate_kbps?this.MINRATE_SETTINGS.MCS.na[0]:0,i.mac_filter_enabled=(this.model?this.model.get("mac_filter_enabled"):void 0)||!1,i.mac_filter_policy=(this.model?this.model.get("mac_filter_policy"):void 0)||"allow",i.mac_filter_list=(this.model?angular.copy(this.model.get("mac_filter_list")):void 0)||[],i.bc_filter_enabled=(this.model?this.model.get("bc_filter_enabled"):void 0)||!1,i.bc_filter_list=(this.model?angular.copy(this.model.get("bc_filter_list")):void 0)||[],this.bcFilterGatewayAutoDetectEnabled=!1===i.bc_filter_enabled,i.group_rekey=this.modelUtils.modelGet(this.model,"group_rekey",this.WLAN_SETTINGS.GTK_REKEY_DEFAULT_VALUE),this.gtkEnabled=!this.model||0!==this.model.get("group_rekey")}},o.prototype.setAdvancedExpanded=function(){this.model&&((this.model.get("dtim_mode")&&"default"!==this.model.get("dtim_mode")||this.model.get("minrate_ng_enabled")&&this.model.get("minrate_ng_enabled")||this.model.get("minrate_na_enabled")&&this.model.get("minrate_na_enabled"))&&(this.isMinrateExpanded=!0),this.model.get("mac_filter_enabled")&&(this.isMacFilterExpanded=!0),this.isRadiusMacAuthenticationExpanded=this.model.get("radius_mac_auth_enabled"),(this.model.get("vlan_enabled")||this.model.get("fast_roaming_enabled")||this.model.get("hide_ssid")||this.model.get("wpa_mode")&&"wpa2"!==this.model.get("wpa_mode")||this.model.get("wpa_enc")&&"ccmp"!==this.model.get("wpa_enc")||this.model.get("usergroup_id")&&this.model.get("usergroup_id")!==(this.userGroups.repository.collection.getDefault()||{}).id||this.model.get("uapsd_enabled")||this.model.get("schedule_enabled")||this.model.get("group_rekey")&&this.model.get("group_rekey")!==this.WLAN_SETTINGS.GTK_REKEY_DEFAULT_VALUE||this.model.get("bc_filter_enabled")&&!1!==this.model.get("bc_filter_enabled")||this.isMinrateExpanded||this.isMacFilterExpanded||this.isRadiusMacAuthenticationExpanded)&&(this.isAdvancedExpanded=!0))},o.prototype.isMinrateDefaultValue=function(e){return this.modelCopy.attributes["minrate_"+e+"_data_rate_kbps"]===this.MINRATE_SETTINGS.MCS[e][0]},o.prototype.isCckRatesDisabled=function(e){return!1===this.modelCopy.attributes["minrate_"+e+"_cck_rates_enabled"]},o.prototype.isFastRoamingAllowed=function(){return!!this.modelCopy&&-1!==[this.WLAN_SECURITY_TYPES.OPEN,this.WLAN_SECURITY_TYPES.WEP].indexOf(this.modelCopy.get("security"))},o.prototype.onGuestPolicyChange=function(){this.model&&!this.model.id&&this.form.wlanBcFilterEnabled.$pristine&&(this.modelCopy.attributes.bc_filter_enabled=!!this.modelCopy.attributes.is_guest)},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0),this.setAdvancedExpanded()},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.prototype.setRadiusProfile=function(e){this.radiusProfile=e},o.prototype.isProfileWithRadiusAssignedVlan=function(){var e=!(!this.radiusProfile||!this.radiusProfile.isEnabled());return(this.modelCopy&&this.modelCopy.get("security"))===this.WLAN_SECURITY_TYPES.WPA_ENTERPRISE?e:this.modelCopy&&!!this.modelCopy.get("radius_mac_auth_enabled")&&e},o.prototype.getBcFilterAvailable=function(){var e=(this.model&&this.model.get("bc_filter_list")||[]).length,t=this.wirelessNetworks.repository.collection.models.reduce(function(e,t){return e+(t.get("bc_filter_list")||[]).length},0);return this.bcFilterMax-t+e},o.prototype.getMacFilterAvailable=function(){var e=(this.model&&this.model.get("mac_filter_list")||[]).length,t=this.wirelessNetworks.repository.collection.models.filter(function(e){return e.get("wlangroup_id")===this.wlanGroupId}.bind(this)).reduce(function(e,t){return e+(t.get("mac_filter_list")||[]).length},0);return this.macFilterMax-t+e},o.prototype.isGroupRekeyRequired=function(){return this.modelCopy&&-1!==[this.WLAN_SECURITY_TYPES.WPA_ENTERPRISE,this.WLAN_SECURITY_TYPES.WPA_PERSONAL].indexOf(this.modelCopy.get("security"))},o.prototype.onGtkEnabledChange=function(){this.gtkEnabled&&0===this.modelCopy.get("group_rekey")&&(this.modelCopy.attributes.group_rekey=this.WLAN_SETTINGS.GTK_REKEY_DEFAULT_VALUE)},o.$inject=["_","$translate","clients","frame","heyToasts","wirelessNetworkGroups","wirelessNetworks","userGroups","hotspot2","preferences","modelDivergence","modelUtils","apiResults","regexUtils","featureFlag","REGEX_PATTERNS","WLAN_MINRATE_SETTINGS","WLAN_SECURITY_TYPES","WLAN_SETTINGS","URLS"],angular.module("app-unifi-manage-settings").controller("WirelessNetworkFormController",o)},{}],215:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkForm",["$timeout","radius","RADIUS_VLAN_OPTIONS",function(t,i,n){return{scope:{model:"=?unifiWirelessNetworkForm",wlanGroupId:"=unifiWirelessNetworkFormWlanGroupId",onSave:"&unifiWirelessNetworkFormOnSave",onCancel:"&unifiWirelessNetworkFormOnCancel",isReadOnly:"=unifiWirelessNetworkFormIsReadOnly"},controller:"WirelessNetworkFormController",controllerAs:"wirelessNetworkFormCtrl",template:e("./wirelessNetworkForm.pug")(),link:function(e,o,r,a){a.setWlanGroupId(e.wlanGroupId),e.onSubmit=function(t){!0===t&&e.onSave()},e.$watch(function(){return a.modelCopy?a.modelCopy.attributes.radiusprofile_id:void 0},function(e){if(e){var t=i.repository.collection.get(e),o=a.modelCopy.attributes.radius_mac_auth_enabled;t&&(a.setRadiusProfile(t),t.get("vlan_wlan_mode")===n.ENABLED&&o&&(a.modelCopy.attributes.vlan_enabled=!1))}}),e.$watch("model",function(e){a.updateModel(e)}),e.$on("$destroy",function(){a.removeEventHandlers()}),t(function(){e.isLoaded=!0},0)}}}])},{"./wirelessNetworkForm.pug":216}],216:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="wirelessNetworkFormCtrl.form" ng-class="{    \'appForm--dark\': wirelessNetworkFormCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': wirelessNetworkFormCtrl.showValidation,    \'is-validation-hidden\': !wirelessNetworkFormCtrl.showValidation  }" ng-submit="wirelessNetworkFormCtrl.form.$valid &amp;&amp; wirelessNetworkFormCtrl.canSave() &amp;&amp; wirelessNetworkFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="wirelessNetworkFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="wirelessNetworkFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="wirelessNetworkFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="wirelessNetworkFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{wlanName: wirelessNetworkFormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_WLAN_SECTION_VIEW\' : (wirelessNetworkFormCtrl.model.id ? \'SETTINGS_WLAN_SECTION_EDIT\' : \'SETTINGS_WLAN_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_NAME_SSID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="wirelessNetworkName" min="1" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.name" ng-model-master="wirelessNetworkFormCtrl.model.attributes.name" unifi-string-max-length="wirelessNetworkFormCtrl.WLAN_SETTINGS.SSID.MAX_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="wirelessNetworkFormCtrl.form.wirelessNetworkName.$error.text" translate="SETTINGS_WLAN_VALIDATOR_SSID_MAX_LENGTH"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkEnabled" id="wirelessNetworkEnabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.enabled"><label for="wirelessNetworkEnabled" translate="SETTINGS_WLAN_VALUES_ENABLED"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_SECURITY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-if="!wirelessNetworkFormCtrl.isWlanGroupRoaming"><input type="radio" name="wirelessNetworkSecurity" id="wirelessNetworkSecurityOpen" ng-value="wirelessNetworkFormCtrl.WLAN_SECURITY_TYPES.OPEN" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.security" ng-model-master="wirelessNetworkFormCtrl.model.attributes.security"><label for="wirelessNetworkSecurityOpen" translate="SETTINGS_WLAN_VALUES_SECURITY_OPEN"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-if="!wirelessNetworkFormCtrl.isWlanGroupRoaming"><input type="radio" name="wirelessNetworkSecurity" id="wirelessNetworkSecurityWep" ng-value="wirelessNetworkFormCtrl.WLAN_SECURITY_TYPES.WEP" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.security" ng-model-master="wirelessNetworkFormCtrl.model.attributes.security"><label for="wirelessNetworkSecurityWep" translate="SETTINGS_WLAN_VALUES_SECURITY_WEP"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkSecurity" id="wirelessNetworkSecurityWpaPersonal" ng-value="wirelessNetworkFormCtrl.WLAN_SECURITY_TYPES.WPA_PERSONAL" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.security" ng-model-master="wirelessNetworkFormCtrl.model.attributes.security"><label for="wirelessNetworkSecurityWpaPersonal" translate="SETTINGS_WLAN_VALUES_SECURITY_WPA_PERSONAL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkSecurity" id="wirelessNetworkSecurityWpaEnterprise" ng-value="wirelessNetworkFormCtrl.WLAN_SECURITY_TYPES.WPA_ENTERPRISE" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.security" ng-model-master="wirelessNetworkFormCtrl.model.attributes.security"><label for="wirelessNetworkSecurityWpaEnterprise" translate="SETTINGS_WLAN_VALUES_SECURITY_WPA_ENTERPRISE"></label></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wep\'" ng-class="{\'appInfoBox--dark\': wirelessNetworkFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_SECURITY_WEP_THROUGHPUT_NOTE"></p></div><div class="appInfoBox__footer"><a class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-href="{{wirelessNetworkFormCtrl.URLS.WLAN_SECURITY_WEP_THROUGHPUT_NOTE}}" target="_blank"><span class="button__icon icon ubnt-icon--info"></span><span translate="SETTINGS_WLAN_SECURITY_WPA2_THROUGHPUT_NOTE_LEARN_MORE"></span></a></div></div></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.setVisibility(\'wep\', wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wep\')"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_WEP_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="wirelessNetworkWepKey" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.x_wep" ng-model-master="wirelessNetworkFormCtrl.model.attributes.x_wep" ng-pattern="wirelessNetworkFormCtrl.getVisibility(\'wep\') ? wirelessNetworkFormCtrl.patterns.wep : \'\'" ng-required="wirelessNetworkFormCtrl.getVisibility(\'wep\')"></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-if="wirelessNetworkFormCtrl.form.wirelessNetworkWepKey.$invalid" translate="VALIDATION_HINT_WEP_KEY"></div></div></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><label class="appLabel--boxInline" for="wirelessNetworkWepKeyIndex" translate="SETTINGS_WLAN_LABEL_WEP_KEY_INDEX"></label><select name="wirelessNetworkWepKeyIndex" id="wirelessNetworkWepKeyIndex" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wep_idx" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wep_idx"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option></select></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.setVisibility(\'wpapsk\', wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpapsk\')"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_SECURITY_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="wirelessNetworkWpaPskKey" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.x_passphrase" ng-model-master="wirelessNetworkFormCtrl.model.attributes.x_passphrase" ng-pattern="wirelessNetworkFormCtrl.getVisibility(\'wpapsk\') ? wirelessNetworkFormCtrl.patterns.password : \'\'" ng-required="wirelessNetworkFormCtrl.getVisibility(\'wpapsk\')"></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-if="wirelessNetworkFormCtrl.form.wirelessNetworkWpaPskKey.$invalid" translate="VALIDATION_HINT_WPA_PSK"></div></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkFormCtrl.setVisibility(\'wpaeap\', wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpaeap\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_RADIUS_PROFILE"></label><unifi-tooltip class="ml-1"><content translate="SETTINGS_WLAN_TOOLTIP_RADIUS_VLAN"></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><unifi-radius-selector unifi-radius-selector-radius-profile-id="wirelessNetworkFormCtrl.modelCopy.attributes.radiusprofile_id" unifi-radius-selector-is-required="wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpaeap\'"></unifi-radius-selector></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_HOTSPOT2"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="wirelessNetworkHotspot2Enabled" id="wirelessNetworkHotspot2Enabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.hotspot2conf_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.hotspot2conf_enabled"><label translate="SETTINGS_WLAN_VALUES_HOTSPOT2_ENABLED" for="wirelessNetworkHotspot2Enabled"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="gen2"></unifi-notify-device-requirement></div><div class="appInputGroup inlineBlock" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.hotspot2conf_enabled"><label translate="SETTINGS_WLAN_VALUES_HOTSPOT2_WITH_PROFILE" for="wirelessNetworkHotspot2Id"></label><select name="wirelessNetworkHotspot2Id" id="wirelessNetworkHotspot2Id" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.hotspot2conf_id" ng-model-master="wirelessNetworkFormCtrl.model.attributes.hotspot2conf_id" ng-options="hs2.attributes._id as hs2.attributes.name for hs2 in wirelessNetworkFormCtrl.hotspot2Profiles" ng-required="wirelessNetworkFormCtrl.modelCopy.attributes.hotspot2conf_enabled"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div></div></div></fieldset><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_GUEST_POLICY"></label></div><div class="col--sm5 appFormGroup"><div class="appInputGroup"><input type="checkbox" name="wirelessNetworkGuestPolicy" id="wirelessNetworkGuestPolicy" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.is_guest" ng-model-master="wirelessNetworkFormCtrl.model.attributes.is_guest" ng-change="wirelessNetworkFormCtrl.onGuestPolicyChange()"><label for="wirelessNetworkGuestPolicy" translate="SETTINGS_WLAN_VALUES_GUEST_POLICY"></label></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="!wirelessNetworkFormCtrl.model.id &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.bc_filter_enabled &amp;&amp; wirelessNetworkFormCtrl.form.wlanBcFilterEnabled.$pristine" ng-class="{\'appInfoBox--dark\': wirelessNetworkFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_GUEST_BC_FILTER_NOTE"></p></div></div></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="wirelessNetworkFormCtrl.isAdvancedExpanded = !wirelessNetworkFormCtrl.isAdvancedExpanded" ng-class="wirelessNetworkFormCtrl.isAdvancedExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="COMMON_SECTION_ADVANCED_OPTIONS"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkFormCtrl.isAdvancedExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_BC_FILTER_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wlanBcFilterEnabled" id="wlanBcFilterEnabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.bc_filter_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.bc_filter_enabled"><label for="wlanBcFilterEnabled" translate="SETTINGS_WLAN_VALUES_BC_FILTER_ENABLED_LABEL"></label><unifi-tooltip><content><span translate="SETTINGS_WLAN_VALUES_BC_FILTER_ENABLED_TOOLTIP_INFO"></span><span translate="SETTINGS_WLAN_VALUES_BC_FILTER_ENABLED_TOOLTIP_DISABLE"></span></content></unifi-tooltip></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.modelCopy.attributes.bc_filter_enabled"><div class="col--sm9 col--smOffset3 appFormGroup"><label translate="SETTINGS_WLAN_VALUES_BC_FILTER_EXCEPTED_DEVICES_LABEL"></label><unifi-tooltip class="ml-1"><content><span translate="SETTINGS_WLAN_VALUES_BC_FILTER_EXCEPTED_DEVICES_TOOLTIP_SERVICES"></span><span translate="SETTINGS_WLAN_VALUES_BC_FILTER_EXCEPTED_DEVICES_TOOLTIP_GATEWAY"></span><span translate="SETTINGS_WLAN_VALUES_BC_FILTER_EXCEPTED_DEVICES_TOOLTIP_OTHER_DEVICES"></span></content></unifi-tooltip><unifi-wireless-network-mac-address-filter-list unifi-wireless-network-mac-address-filter-list-filter-enabled="wirelessNetworkFormCtrl.modelCopy.attributes.bc_filter_enabled" unifi-wireless-network-mac-address-filter-list-filter-list="wirelessNetworkFormCtrl.modelCopy.attributes.bc_filter_list" unifi-wireless-network-mac-address-filter-list-filter-max-total-per-site="wirelessNetworkFormCtrl.bcFilterMax" unifi-wireless-network-mac-address-filter-list-filter-max-available="wirelessNetworkFormCtrl.getBcFilterAvailable()" unifi-wireless-network-mac-address-filter-list-gateway-auto-detect-enabled="wirelessNetworkFormCtrl.bcFilterGatewayAutoDetectEnabled" unifi-wireless-network-mac-address-filter-list-wireless-clients-only="false"></unifi-wireless-network-mac-address-filter-list></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_VLAN"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup" ng-show="!wirelessNetworkFormCtrl.isProfileWithRadiusAssignedVlan()"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="wirelessNetworkEnableVlan" id="wirelessNetworkEnableVlan" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.vlan_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.vlan_enabled"><label for="wirelessNetworkEnableVlan" translate="SETTINGS_WLAN_VALUES_USE_VLAN"></label></div><div class="appInputGroup appInputGroup--condensed inlineBlock"><input class="input--mediumNumber" type="text" name="wirelessNetworkVlanId" id="wirelessNetworkVlanId" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.vlan" ng-model-master="wirelessNetworkFormCtrl.model.attributes.vlan" ng-disabled="!wirelessNetworkFormCtrl.modelCopy.attributes.vlan_enabled" ng-required="wirelessNetworkFormCtrl.modelCopy.attributes.vlan_enabled" ng-pattern="wirelessNetworkFormCtrl.modelCopy.attributes.vlan_enabled ? wirelessNetworkFormCtrl.patterns.vlan : \'\'" placeholder="{{\'SETTINGS_WLAN_PLACEHOLDER_VLAN_ID\' | translate}}"><label for="wirelessNetworkVlanId" ng-class="{\'is-label-disabled\': !wirelessNetworkFormCtrl.modelCopy.attributes.vlan_enabled}">(2-4009)</label></div></div><div class="appInputGroup" ng-show="wirelessNetworkFormCtrl.isProfileWithRadiusAssignedVlan()"><input type="checkbox" disabled="disabled" checked="checked"><label for="wirelessNetworkEnableVlan" translate="SETTINGS_WLAN_VALUES_VLAN_RADIUS_ASSIGNED"></label><unifi-tooltip unifi-tooltip-clickable="true"><content translate="SETTINGS_WLAN_TOOLTIP_RADIUS_ASSIGNED_VLAN" translate-values="{profilesLink: \'manage.site.settings.profiles\'}"'+n("translate-compile",!0,!0,!0)+'></content></unifi-tooltip></div></div></div><div class="appRow" ng-hide="wirelessNetworkFormCtrl.isFastRoamingAllowed()"><div class="col--sm3"><label class="appLabel--primary appLabel--withBadge" translate="SETTINGS_WLAN_LABEL_FAST_ROAMING"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkFastRoamingEnabled" id="wirelessNetworkFastRoamingEnabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.fast_roaming_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.fast_roaming_enabled"><label for="wirelessNetworkFastRoamingEnabled" translate="SETTINGS_WLAN_VALUES_FAST_ROAMING"></label><unifi-tooltip><content translate="SETTINGS_WLAN_TOOLTIP_FAST_ROAMING"></content></unifi-tooltip></div></div></div><div class="appRow" ng-if="!wirelessNetworkFormCtrl.isWlanGroupRoaming"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_HIDE_SSID"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkHideSsid" id="wirelessNetworkHideSsid" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.hide_ssid" ng-model-master="wirelessNetworkFormCtrl.model.attributes.hide_ssid"><label for="wirelessNetworkHideSsid" translate="SETTINGS_WLAN_VALUES_HIDE_SSID"></label></div></div></div><div class="appRow" ng-if="!wirelessNetworkFormCtrl.isWlanGroupRoaming &amp;&amp; (        wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpapsk\' ||        wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpaeap\'      )"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_WPA_MODE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><select name="wirelessNetworkWpaMode" id="wirelessNetworkWpaMode" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wpa_mode" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wpa_mode" ng-model-master-cleanup="true" ng-options="key as value | translate for (key, value) in wirelessNetworkFormCtrl.wpaModeOptions"></select></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="wirelessNetworkWpaEncryption" translate="SETTINGS_WLAN_LABEL_WPA_ENCRYPTION"></label><select name="wirelessNetworkWpaEncryption" id="wirelessNetworkWpaEncryption" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.wpa_enc" ng-model-master="wirelessNetworkFormCtrl.model.attributes.wpa_enc" ng-model-master-cleanup="true" ng-options="key as value | translate for (key, value) in wirelessNetworkFormCtrl.encryptionOptions"></select></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="wirelessNetworkFormCtrl.modelCopy.attributes.wpa_mode !== \'wpa2\' || wirelessNetworkFormCtrl.modelCopy.attributes.wpa_enc !== \'ccmp\' " ng-class="{\'appInfoBox--dark\': wirelessNetworkFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_SECURITY_WPA2_THROUGHPUT_NOTE"></p></div><div class="appInfoBox__footer"><a class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-href="{{wirelessNetworkFormCtrl.URLS.WLAN_SECURITY_WEP_THROUGHPUT_NOTE}}" target="_blank"><span class="button__icon icon ubnt-icon--info"></span><span translate="SETTINGS_WLAN_SECURITY_WPA2_THROUGHPUT_NOTE_LEARN_MORE"></span></a></div></div></div></div></div><div class="appRow" ng-show="wirelessNetworkFormCtrl.isGroupRekeyRequired()"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_GTK_REKEYING"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="wirelessNetworkEnableGtk" id="wirelessNetworkEnableGtk" ng-model="wirelessNetworkFormCtrl.gtkEnabled" ng-change="wirelessNetworkFormCtrl.onGtkEnabledChange()"><label for="wirelessNetworkEnableGtk" translate="SETTINGS_WLAN_VALUES_ENABLE_GTK"></label><input class="input--mediumNumber" ng-show="wirelessNetworkFormCtrl.gtkEnabled" type="number" name="wirelessNetworkGtkRekeying" id="wirelessNetworkGtkRekeying" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.group_rekey" ng-model-master="wirelessNetworkFormCtrl.model.attributes.group_rekey" ng-required="wirelessNetworkFormCtrl.gtkEnabled" placeholder="60-86400" min="{{wirelessNetworkFormCtrl.gtkEnabled ? 60 : 0}}" max="86400"><input class="input--mediumNumber" ng-hide="wirelessNetworkFormCtrl.gtkEnabled" type="number" ng-disabled="true" value="0"><label for="wirelessNetworkEnableGtk" ng-class="{\'is-label-disabled\': !wirelessNetworkFormCtrl.gtkEnabled}" translate="SETTINGS_WLAN_LABEL_GTK_INTERVAL_UNIT"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_USER_GROUP"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select class="select--full" name="wirelessNetworkUserGroupId" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.usergroup_id" ng-model-master="wirelessNetworkFormCtrl.model.attributes.usergroup_id" ng-options="userGroup.id as userGroup.get(\'name\') for userGroup in wirelessNetworkFormCtrl.userGroups.repository.collection.models"></select></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-class="{\'appInfoBox--dark\': wirelessNetworkFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_USER_GROUP_NOTE"></p></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_UAPSD"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkEnableUapsd" id="wirelessNetworkEnableUapsd" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.uapsd_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.uapsd_enabled"><label for="wirelessNetworkEnableUapsd" translate="SETTINGS_WLAN_VALUES_UAPSD"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_SCHEDULED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkEnableSchedule" id="wirelessNetworkEnableSchedule" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.schedule_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.schedule_enabled"><label for="wirelessNetworkEnableSchedule" translate="SETTINGS_WLAN_VALUES_SCHEDULED"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_MCAST_ENHANCE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkEnableMcastEnhance" id="wirelessNetworkEnableMcastEnhance" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.mcastenhance_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.mcastenhance_enabled"><label for="wirelessNetworkEnableMcastEnhance" translate="SETTINGS_WLAN_VALUES_MCAST_ENHANCE"></label></div></div></div></fieldset></div><div class="unifiSettingsSection" ng-if="wirelessNetworkFormCtrl.modelCopy.attributes.schedule_enabled &amp;&amp; wirelessNetworkFormCtrl.isAdvancedExpanded"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_WLAN_SECTION_WLAN_SCHEDULE"></div><div class="appRow"><unifi-wireless-network-schedule unifi-wireless-network-schedule-use-24-hour-time="wirelessNetworkFormCtrl.preferences.model.get(\'use24HourTime\')" unifi-schedule="wirelessNetworkFormCtrl.schedule" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.schedule" ng-model-master="wirelessNetworkFormCtrl.model.attributes.schedule"></unifi-wireless-network-schedule></div></div><div class="unifiSettingsSection" ng-show="wirelessNetworkFormCtrl.isAdvancedExpanded"><div class="appSubHeading appSubHeading--comfy" ng-click="wirelessNetworkFormCtrl.isMinrateExpanded = !wirelessNetworkFormCtrl.isMinrateExpanded" ng-class="wirelessNetworkFormCtrl.isMinrateExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_WLAN_SECTION_WLAN_RATE_AND_BEACON"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkFormCtrl.isMinrateExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_DTIM_PERIOD"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkDtim" id="wirelessNetworkDtim" ng-true-value="\'default\'" ng-false-value="\'custom\'" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.dtim_mode" ng-model-master="wirelessNetworkFormCtrl.model.attributes.dtim_mode"><label for="wirelessNetworkDtim" translate="SETTINGS_WLAN_LABEL_DTIM_PERIOD_DEFAULT"></label></div></div></div><div class="appRow" ng-repeat="dtimCustom in [\'ng\', \'na\']"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="{{\'SETTINGS_WLAN_LABEL_DTIM_PERIOD_\' + dtimCustom | toTranslationKey}}"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input ng-if="wirelessNetworkFormCtrl.modelCopy.attributes.dtim_mode === \'default\'" type="number" ng-value="wirelessNetworkFormCtrl.MINRATE_SETTINGS.DTIM.DEFAULT" ng-disabled="true"><input ng-if="wirelessNetworkFormCtrl.modelCopy.attributes.dtim_mode === \'custom\'" type="number" min="{{wirelessNetworkFormCtrl.MINRATE_SETTINGS.DTIM.MIN}}" max="{{wirelessNetworkFormCtrl.MINRATE_SETTINGS.DTIM.MAX}}" name="wirelessNetworkDtimCustom" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes[\'dtim_\' + dtimCustom]" ng-model-master="wirelessNetworkFormCtrl.model.attributes[\'dtim_\' + dtimCustom]" ng-required="wirelessNetworkFormCtrl.modelCopy.attributes.dtim_mode === \'custom\'"></div></div></div></div></div><div ng-repeat="radio in [\'ng\', \'na\']"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="{{wirelessNetworkFormCtrl.minrateSliderLabel[radio]}}"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wlanMinrateEnabled_{{radio}}" id="wlanMinrateEnabled_{{radio}}" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_enabled\']" ng-model-master="wirelessNetworkFormCtrl.model.attributes[\'minrate_\' + radio +\'_enabled\']"><label for="wlanMinrateEnabled_{{radio}}" translate="{{wirelessNetworkFormCtrl.minrateSliderLabel[\'enabled_\' + radio]}}"></label><unifi-tooltip><content><div class="verticalRhythmQuarter" translate="SETTINGS_WLAN_MINRATE_ENABLED_TOOLTIP_INFO"></div><div translate="SETTINGS_WLAN_MINRATE_ENABLED_TOOLTIP_DISABLE"></div></content></unifi-tooltip></div></div></div><div class="appRow" ng-if="wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_enabled\']"><div class="col--sm7 col--smOffset3 appFormGroup--cozy"><div class="appInputGroup"><unifi-wireless-network-minrate-slider unifi-wireless-network-minrate-slider-model="wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_data_rate_kbps\']" unifi-wireless-network-minrate-slider-mcs-frequencies="wirelessNetworkFormCtrl.MINRATE_SETTINGS.MCS[radio]" unifi-wireless-network-minrate-slider-radio="radio" unifi-wireless-network-minrate-slider-force-render="[                wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_enabled\'],                 wirelessNetworkFormCtrl.isAdvancedExpanded,                 wirelessNetworkFormCtrl.isMinrateExpanded               ]"></unifi-wireless-network-minrate-slider><unifi-wireless-network-minrate-compatibility-info unifi-wireless-network-minrate-compatibility-info-model="wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_data_rate_kbps\']" unifi-wireless-network-minrate-compatibility-info-mcs-frequencies="wirelessNetworkFormCtrl.MINRATE_SETTINGS.MCS[radio]" unifi-wireless-network-minrate-compatibility-info-radio="radio" unifi-wireless-network-minrate-compatibility-info-force-no-connectivity="wirelessNetworkFormCtrl.isCckRatesDisabled(radio)"></unifi-wireless-network-minrate-compatibility-info></div><div class="appInputGroup appInputGroup--cozy" ng-if="radio === \'ng\'"><input type="checkbox" name="wlanMinrateCckRatesEnabled_{{radio}}" id="wlanMinrateCckRatesEnabled_{{radio}}" ng-true-value="false" ng-false-value="true" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_cck_rates_enabled\']" ng-model-master="wirelessNetworkFormCtrl.model.attributes[\'minrate_\' + radio +\'_cck_rates_enabled\']"><label for="wlanMinrateCckRatesEnabled_{{radio}}" translate="SETTINGS_WLAN_LABEL_MINRATE_DISABLE_CKK_RATES" translate-values="{disabledRates: \'1/2/5.5/11 Mbps\'}"></label></div><div class="appInputGroup appInputGroup--cozy"><input ng-show="wirelessNetworkFormCtrl.isMinrateDefaultValue(radio) &amp;&amp; !wirelessNetworkFormCtrl.isCckRatesDisabled(radio)" type="checkbox" ng-disabled="true"><input ng-hide="wirelessNetworkFormCtrl.isMinrateDefaultValue(radio) &amp;&amp; !wirelessNetworkFormCtrl.isCckRatesDisabled(radio)" ng-disabled="wirelessNetworkFormCtrl.isMinrateDefaultValue(radio) &amp;&amp; !wirelessNetworkFormCtrl.isCckRatesDisabled(radio)" type="checkbox" name="wlanMinrateAdvertisingRates_{{radio}}" id="wlanMinrateAdvertisingRates_{{radio}}" ng-true-value="true" ng-false-value="false" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes[\'minrate_\' + radio +\'_advertising_rates\']" ng-model-master="wirelessNetworkFormCtrl.model.attributes[\'minrate_\' + radio +\'_advertising_rates\']"><label for="wlanMinrateAdvertisingRates_{{radio}}" translate="SETTINGS_WLAN_LABEL_MINRATE_REQUIRE_CLIENTS"></label></div><div class="appInputGroup appInputGroup--cozy"><input ng-if="wirelessNetworkFormCtrl.isMinrateDefaultValue(radio)" type="checkbox" ng-disabled="true"><input ng-hide="wirelessNetworkFormCtrl.isMinrateDefaultValue(radio)" ng-disabled="wirelessNetworkFormCtrl.isMinrateDefaultValue(radio)" type="checkbox" name="wlanMinrateBeacon_{{radio}}" id="wlanMinrateBeacon_{{radio}}" ng-true-value="{{wirelessNetworkFormCtrl.MINRATE_SETTINGS.MCS[radio][0]}}" ng-false-value="0" ng-model="wirelessNetworkFormCtrl.minrateBeacon[radio]"><label for="wlanMinrateBeacon_{{radio}}" translate="SETTINGS_WLAN_LABEL_MINRATE_SEND_BEACONS_AT" translate-values="{rate: wirelessNetworkFormCtrl.MINRATE_SETTINGS.MCS[radio][0] / 1000}"></label></div></div></div></div></fieldset></div><div class="unifiSettingsSection" unifi-feature-flag-enable="enableMacFilter" ng-show="wirelessNetworkFormCtrl.isAdvancedExpanded"><div class="appSubHeading appSubHeading--comfy" ng-click="wirelessNetworkFormCtrl.isMacFilterExpanded = !wirelessNetworkFormCtrl.isMacFilterExpanded" ng-class="wirelessNetworkFormCtrl.isMacFilterExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_WLAN_SECTION_WLAN_MAC_FILTER"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkFormCtrl.isMacFilterExpanded"><div class="appRow"><div class="col--sm5 col--smOffset3"><unifi-notify-firmware-requirement class="appTooltip--boxAlign" unifi-notify-firmware-requirement-wifi-caps="[\'MULTIPLE_ACL_LIST\']" unifi-notify-firmware-requirement-is-dark="wirelessNetworkFormCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-notify-firmware-requirement></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_MAC_FILTER_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wlanMacFilterEnabled" id="wlanMacFilterEnabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.mac_filter_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.mac_filter_enabled"><label for="wlanMacFilterEnabled" translate="SETTINGS_WLAN_VALUES_MAC_FILTER_ENABLED"></label></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkFormCtrl.isMacFilterExpanded &amp;&amp; wirelessNetworkFormCtrl.modelCopy.attributes.mac_filter_enabled"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_MAC_FILTER_POLICY"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy" ng-repeat="macFilterPolicy in [\'allow\', \'deny\']"><input type="radio" name="wlanMacFilterPolicy" id="wlanMacFilterPolicy-{{macFilterPolicy}}" value="{{macFilterPolicy}}" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.mac_filter_policy" ng-model-master="wirelessNetworkFormCtrl.model.attributes.mac_filter_policy"><label for="wlanMacFilterPolicy-{{macFilterPolicy}}">{{ \'SETTINGS_WLAN_VALUES_MAC_FILTER_POLICY_\' + macFilterPolicy | uppercase | translate  }}</label><unifi-tooltip><content><span>{{ \'SETTINGS_WLAN_VALUES_MAC_FILTER_POLICY_TOOLTIP_\' + macFilterPolicy | toTranslationKey | translate  }}</span></content></unifi-tooltip></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_MAC_FILTER_LIST"></label></div><div class="col--sm9 appFormGroup noMarginBottom"><unifi-wireless-network-mac-address-filter-list unifi-wireless-network-mac-address-filter-list-filter-list="wirelessNetworkFormCtrl.modelCopy.attributes.mac_filter_list" unifi-wireless-network-mac-address-filter-list-filter-max-total-per-wlan-group="wirelessNetworkFormCtrl.macFilterMax" unifi-wireless-network-mac-address-filter-list-filter-max-available="wirelessNetworkFormCtrl.getMacFilterAvailable()" unifi-wireless-network-mac-address-filter-list-wireless-clients-only="true"></unifi-wireless-network-mac-address-filter-list></div></div></fieldset></div><div class="unifiSettingsSection" ng-show="wirelessNetworkFormCtrl.isAdvancedExpanded"><div class="appSubHeading appSubHeading--comfy" ng-click="wirelessNetworkFormCtrl.isRadiusMacAuthenticationExpanded = !wirelessNetworkFormCtrl.isRadiusMacAuthenticationExpanded" ng-class="wirelessNetworkFormCtrl.isRadiusMacAuthenticationExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_WLAN_SECTION_WLAN_RADIUS_MAC_AUTHENTICATION"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkFormCtrl.isRadiusMacAuthenticationExpanded"><div class="appRow"><div class="col--sm5 col--smOffset3"><unifi-notify-firmware-requirement class="appTooltip--boxAlign" unifi-notify-firmware-requirement-wifi-caps="[\'UNIFI_WIFI_CAP_RADIUS_MAC_AUTH\']" unifi-notify-firmware-requirement-is-dark="wirelessNetworkFormCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-notify-firmware-requirement></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_RADIUS_MAC_AUTHENTICATION_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="radiusMacAuthenticationEnabled" id="radiusMacAuthenticationEnabled" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.radius_mac_auth_enabled" ng-model-master="wirelessNetworkFormCtrl.model.attributes.radius_mac_auth_enabled"><label for="radiusMacAuthenticationEnabled" translate="SETTINGS_WLAN_VALUES_RADIUS_MAC_AUTHENTICATION_ENABLE"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_LABEL_RADIUS_PROFILE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><unifi-radius-selector unifi-radius-selector-radius-profile-id="wirelessNetworkFormCtrl.modelCopy.attributes.radiusprofile_id" unifi-radius-selector-is-read-only="wirelessNetworkFormCtrl.modelCopy.attributes.security === \'wpaeap\'" unifi-radius-selector-is-required="wirelessNetworkFormCtrl.modelCopy.attributes.radius_mac_auth_enabled"></unifi-radius-selector></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_RADIUS_MAC_AUTHENTICATION_MAC_ADDRESS_FORMAT"></label><unifi-tooltip class="ml-1"><content translate="SETTINGS_WLAN_TOOLTIP_MAC_AUTHENTICATION_FORMAT"></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.radius_macacl_format" ng-model-master="wirelessNetworkFormCtrl.model.attributes.radius_macacl_format" ng-options="format.key as format.label for format in wirelessNetworkFormCtrl.macAddressFormatOptions" ng-required="wirelessNetworkFormCtrl.modelCopy.attributes.radius_mac_auth_enabled"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_LABEL_RADIUS_MAC_AUTHENTICATION_EMPTY_PASSWORD"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed noMarginBottom"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="radiusMacAuthenticationAllowEmptyP" id="radiusMacAuthenticationAllowEmptyPassword" ng-model="wirelessNetworkFormCtrl.modelCopy.attributes.radius_macacl_empty_password" ng-model-master="wirelessNetworkFormCtrl.model.attributes.radius_macacl_empty_password"><label for="radiusMacAuthenticationAllowEmptyPassword" translate="SETTINGS_WLAN_VALUES_RADIUS_MAC_AUTHENTICATION_ALLOW_EMPTY_PASSWORD"></label></div></div></div></fieldset></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': wirelessNetworkFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveWirelessNetwork" ng-if="!isReadOnly" ng-click="wirelessNetworkFormCtrl.showValidation = true" busy-toggle="wirelessNetworkFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="wirelessNetworkFormCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":2}],217:[function(e,t,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(e,t,i,o,r,a,s,l,p,u,d){this.$q=e,this.$translate=t,this.heyToasts=i,this.wirelessNetworks=o,this.wirelessNetworkGroups=r,this.countryChannels=a,this.preferences=s,this.apiResults=p,this.URLS=d,this.shouldDuplicate=!1,this.radioOptions={ng:"SETTINGS_WLAN_GROUP_VALUES_RADIO_NG",na:"SETTINGS_WLAN_GROUP_VALUES_RADIO_NA"},this.patterns={name:u.NAME},n.call(this,l)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){return this.shouldDuplicate?this.saveWithDuplicate():this.saveWlanGroup()},o.prototype.saveWlanGroup=function(){this.isSubmitting=!0;var e=angular.extend({},this.modelCopy.attributes);return this.model.save(e,{wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("SETTINGS_NAV_WIRELESS_NETWORKS").toLowerCase()})),this.wirelessNetworkGroups.repository.collection.add(this.model,{merge:!0}),this.reset(),!0}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("SETTINGS_NAV_WIRELESS_NETWORKS").toLowerCase()}),e)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.saveWithDuplicate=function(){this.isSubmitting=!0;var e=angular.extend({},this.modelCopy.attributes);return this.model.save(e,{wait:!0}).then(function(){this.wirelessNetworkGroups.repository.collection.add(this.model,{merge:!0}),this.reset()}.bind(this)).catch(function(e){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("SETTINGS_NAV_WIRELESS_NETWORKS").toLowerCase()}),e)),this.$q.reject()}.bind(this)).then(function(){return this.duplicateWirelessNetworks().then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("SETTINGS_NAV_WIRELESS_NETWORKS").toLowerCase()})),!0}.bind(this)).catch(function(){return this.heyToasts.pushError(this.$translate.instant("SETTINGS_WLAN_GROUP_SAVE_MIXED")),!0}.bind(this))}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.duplicateWirelessNetworks=function(){var e=[],t=this.wirelessNetworks.getWlansByWlanGroupId(this.wlanGroupId);return angular.forEach(t,function(t){e.push(this.duplicateNetwork(t))}.bind(this)),this.$q.all(e)},o.prototype.duplicateNetwork=function(e){var t=new(0,this.wirelessNetworks.repository.collection.model),i=angular.extend({},e.attributes,{wlangroup_id:this.model.id});return delete i._id,t.save(i).then(function(){this.wirelessNetworks.repository.collection.add(t,{merge:!0})}.bind(this))},o.prototype.getRadioChannels=function(e){switch(e){case"na":return(this.countryChannels.repository.model.get("channels_na")||[]).filter(function(e){return-1===(this.countryChannels.repository.model.get("channels_na_dfs")||[]).indexOf(e)}.bind(this));case"ng":return this.countryChannels.repository.model.get("channels_ng");default:return}},o.prototype.setDefaultAttrs=function(e){var t=e?"":"Copy";this["model"+t]&&(this["model"+t].attributes.roam_radio=(this.model?this.model.get("roam_radio"):void 0)||"ng",this["model"+t].attributes.roam_channel_na=(this.model?this.model.get("roam_channel_na"):void 0)||(this.getRadioChannels("na")||[])[0],this["model"+t].attributes.roam_channel_ng=(this.model?this.model.get("roam_channel_ng"):void 0)||(this.getRadioChannels("ng")||[])[0],this["model"+t].attributes.pmf_mode=(this.model?this.model.get("pmf_mode"):void 0)||"disabled")},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.getWlanGroupOptions=function(){var e=this.wirelessNetworkGroups.repository.collection.filter(function(e){return!e.get("attr_hidden")});return this.wlanGroupId||(this.wlanGroupId=e[0]&&e[0].id),e},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$q","$translate","heyToasts","wirelessNetworks","wirelessNetworkGroups","countryChannels","preferences","modelDivergence","apiResults","REGEX_PATTERNS","URLS"],angular.module("app-unifi-manage-settings").controller("WirelessNetworkGroupFormController",o)},{}],218:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkGroupForm",["$timeout",function(t){return{scope:{model:"=unifiWirelessNetworkGroupForm",onSave:"&unifiWirelessNetworkGroupFormOnSave",onCancel:"&unifiWirelessNetworkGroupFormOnCancel",isReadOnly:"=unifiWirelessNetworkGroupFormIsReadOnly"},controller:"WirelessNetworkGroupFormController",controllerAs:"wirelessNetworkGroupFormCtrl",template:e("./wirelessNetworkGroupForm.pug")(),link:function(e,i,n,o){e.onSubmit=function(t){!0===t&&e.onSave({wlanGroupId:e.model.id})},e.$watch("model",function(e){o.updateModel(e)}),e.$on("$destroy",function(){o.removeEventHandlers()}),t(function(){e.isLoaded=!0},0)}}}])},{"./wirelessNetworkGroupForm.pug":219}],219:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="wirelessNetworkGroupFormCtrl.form" ng-class="{    \'appForm--dark\': wirelessNetworkGroupFormCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': wirelessNetworkGroupFormCtrl.showValidation,    \'is-validation-hidden\': !wirelessNetworkGroupFormCtrl.showValidation  }" ng-submit="wirelessNetworkGroupFormCtrl.form.$valid &amp;&amp; wirelessNetworkGroupFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="wirelessNetworkGroupFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="wirelessNetworkGroupFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="wirelessNetworkGroupFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="wirelessNetworkGroupFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{wlanGroupName: wirelessNetworkGroupFormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_WLAN_GROUP_SECTION_VIEW\' : (wirelessNetworkGroupFormCtrl.model.id ? \'SETTINGS_WLAN_GROUP_SECTION_EDIT\' : \'SETTINGS_WLAN_GROUP_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_WLAN_GROUP_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="wirelessNetworkGroupName" ng-model="wirelessNetworkGroupFormCtrl.modelCopy.attributes.name" ng-model-master="wirelessNetworkGroupFormCtrl.model.attributes.name" ng-pattern="wirelessNetworkGroupFormCtrl.patterns.name"'+n("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_GROUP_LABEL_ROAMING"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wirelessNetworkGroupEnableRoaming" id="wirelessNetworkGroupEnableRoaming" ng-model="wirelessNetworkGroupFormCtrl.modelCopy.attributes.roam_enabled" ng-model-master="wirelessNetworkGroupFormCtrl.model.attributes.roam_enabled" ng-disabled="!!wirelessNetworkGroupFormCtrl.model.id"><label for="wirelessNetworkGroupEnableRoaming" translate="SETTINGS_WLAN_GROUP_VALUES_ROAMING"></label><unifi-tooltip ng-if="wirelessNetworkGroupFormCtrl.model.attributes.attr_hidden_id === \'Default\'"><content translate="SETTINGS_WLAN_GROUP_TOOLTIP_ROAMING_DISABLED"></content></unifi-tooltip></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkGroupFormCtrl.setVisibility(\'roaming\', wirelessNetworkGroupFormCtrl.modelCopy.attributes.roam_enabled)"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_GROUP_LABEL_RADIO"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><select name="wirelessNetworkGroupRadio" id="wirelessNetworkGroupRadio" ng-model="wirelessNetworkGroupFormCtrl.modelCopy.attributes.roam_radio" ng-model-master="wirelessNetworkGroupFormCtrl.model.attributes.roam_radio" ng-options="key as value | translate for (key, value) in wirelessNetworkGroupFormCtrl.radioOptions" ng-disabled="!!wirelessNetworkGroupFormCtrl.model.id"></select></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_GROUP_LABEL_CHANNEL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup" ng-if="wirelessNetworkGroupFormCtrl.modelCopy.attributes.roam_radio === \'na\'"><select ng-if="wirelessNetworkGroupFormCtrl.modelCopy.attributes.roam_radio === \'na\'" name="wirelessNetworkGroupChannel" id="wirelessNetworkGroupChannel" ng-model="wirelessNetworkGroupFormCtrl.modelCopy.attributes.roam_channel_na" ng-model-master="wirelessNetworkGroupFormCtrl.model.attributes.roam_channel_na" ng-model-master-cleanup="true" ng-options="channel for channel in wirelessNetworkGroupFormCtrl.getRadioChannels(\'na\') track by channel.toString()"></select></div><div class="appInputGroup" ng-if="wirelessNetworkGroupFormCtrl.modelCopy.attributes.roam_radio === \'ng\'"><select name="wirelessNetworkGroupChannel" id="wirelessNetworkGroupChannel" ng-model="wirelessNetworkGroupFormCtrl.modelCopy.attributes.roam_channel_ng" ng-model-master="wirelessNetworkGroupFormCtrl.model.attributes.roam_channel_ng" ng-model-master-cleanup="true" ng-options="channel for channel in wirelessNetworkGroupFormCtrl.getRadioChannels(\'ng\') track by channel.toString()"></select></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkGroupFormCtrl.setVisibility(\'not-roaming\', !wirelessNetworkGroupFormCtrl.modelCopy.attributes.roam_enabled)"><div class="appRow"'+n("unifi-if-advanced-features",!0,!0,!0)+'><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_GROUP_LABEL_LOAD_BALANCING"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="wirelessNetworkGroupEnableLoadBalancing" id="wirelessNetworkGroupEnableLoadBalancing" ng-model="wirelessNetworkGroupFormCtrl.modelCopy.attributes.loadbalance_enabled" ng-model-master="wirelessNetworkGroupFormCtrl.model.attributes.loadbalance_enabled"><label for="wirelessNetworkGroupEnableLoadBalancing" translate="SETTINGS_WLAN_GROUP_VALUES_LOAD_BALANCING"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input class="input--smallNumber" type="number" name="wirelessNetworkGroupLoadBalancingMaxSta" min="1" max="200" placeholder="30" ng-model="wirelessNetworkGroupFormCtrl.modelCopy.attributes.maxsta" ng-model-master="wirelessNetworkGroupFormCtrl.model.attributes.maxsta" ng-disabled="!wirelessNetworkGroupFormCtrl.modelCopy.attributes.loadbalance_enabled" ng-required="wirelessNetworkGroupFormCtrl.getVisibility(\'not-roaming\') &amp;&amp; wirelessNetworkGroupFormCtrl.modelCopy.attributes.loadbalance_enabled"'+n("unifi-string-to-integer-input",!0,!0,!0)+'></div></div><div class="appInputFeedback appInputFeedback--danger" ng-if="wirelessNetworkGroupFormCtrl.form.wirelessNetworkGroupLoadBalancingMaxSta.$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: 1, max: 200}"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_GROUP_LABEL_LEGACY_SUPPORT"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="wirelessNetworkGroupEnableLegacySupport" id="wirelessNetworkGroupEnableLegacySupport" ng-model="wirelessNetworkGroupFormCtrl.modelCopy.attributes.b_supported" ng-model-master="wirelessNetworkGroupFormCtrl.model.attributes.b_supported"><label for="wirelessNetworkGroupEnableLegacySupport" translate="SETTINGS_WLAN_GROUP_VALUES_LEGACY_SUPPORT"></label></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="wirelessNetworkGroupFormCtrl.modelCopy.attributes.b_supported" ng-class="{\'appInfoBox--dark\': wirelessNetworkGroupFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_GROUP_LEGACY_NOTE"></p></div><div class="appInfoBox__footer"><a class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-href="{{wirelessNetworkGroupFormCtrl.URLS.WLAN_GROUP_LEGACY_NOTE}}" target="_blank"><span class="button__icon icon ubnt-icon--info"></span><span translate="SETTINGS_WLAN_GROUP_LEGACY_NOTE_LEARN_MORE"></span></a></div></div></div></div></div></fieldset></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="wirelessNetworkGroupFormCtrl.isAdvancedExpanded = !wirelessNetworkGroupFormCtrl.isAdvancedExpanded" ng-class="wirelessNetworkGroupFormCtrl.isAdvancedExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="COMMON_SECTION_ADVANCED_OPTIONS"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="wirelessNetworkGroupFormCtrl.isAdvancedExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_GROUP_DUPLICATE_WLAN_LABEL"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy verticalRhythm--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="wirelessNetworkGroupDuplicateExistingWLANGroup" id="wirelessNetworkGroupDuplicateExistingWLANGroup" ng-click="wirelessNetworkGroupFormCtrl.shouldDuplicate = !wirelessNetworkGroupFormCtrl.shouldDuplicate"><label for="wirelessNetworkGroupDuplicateExistingWLANGroup" translate="SETTINGS_WLAN_GROUP_DUPLICATE_WLAN_INPUT_LABEL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><select ng-model="wirelessNetworkGroupFormCtrl.wlanGroupId" ng-options="wlanGroup.id as wlanGroup | roaming for wlanGroup in wirelessNetworkGroupFormCtrl.getWlanGroupOptions()" ng-disabled="!wirelessNetworkGroupFormCtrl.shouldDuplicate"></select></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WLAN_GROUP_LABEL_PMF"></label></div><div class="col--sm7 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkGroupPmf" id="wirelessNetworkGroupPmfDisabled" value="disabled" ng-model="wirelessNetworkGroupFormCtrl.modelCopy.attributes.pmf_mode" ng-model-master="wirelessNetworkGroupFormCtrl.model.attributes.pmf_mode"><label for="wirelessNetworkGroupPmfDisabled" translate="SETTINGS_WLAN_GROUP_VALUES_DISABLED"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkGroupPmf" id="wirelessNetworkGroupPmfOptional" value="optional" ng-model="wirelessNetworkGroupFormCtrl.modelCopy.attributes.pmf_mode" ng-model-master="wirelessNetworkGroupFormCtrl.model.attributes.pmf_mode"><label for="wirelessNetworkGroupPmfOptional" translate="SETTINGS_WLAN_GROUP_VALUES_OPTIONAL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wirelessNetworkGroupPmf" id="wirelessNetworkGroupPmfEnabled" value="required" ng-model="wirelessNetworkGroupFormCtrl.modelCopy.attributes.pmf_mode" ng-model-master="wirelessNetworkGroupFormCtrl.model.attributes.pmf_mode"><label for="wirelessNetworkGroupPmfEnabled" translate="SETTINGS_WLAN_GROUP_VALUES_REQUIRED"></label></div></div><div class="appInfoBox appInfoBox--cozy verticalRhythmTop--cozy" ng-class="{\'appInfoBox--dark\': wirelessNetworkGroupFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--eye2"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p translate="SETTINGS_WLAN_GROUP_PMF_NOTE"></p><p translate="SETTINGS_WLAN_GROUP_PMF_NOTE_VALUE_DISABLED"'+n("translate-compile",!0,!0,!0)+'></p><p translate="SETTINGS_WLAN_GROUP_PMF_NOTE_VALUE_OPTIONAL"'+n("translate-compile",!0,!0,!0)+'></p><p class="noMarginBottom" translate="SETTINGS_WLAN_GROUP_PMF_NOTE_VALUE_REQUIRED"'+n("translate-compile",!0,!0,!0)+'></p></div><div class="appInfoBox__footer"><div class="appRow"><div class="col--sm8 alignLeft"><div class="appType--micro appType--quiet italicized appLabel--boxAlign" translate="SETTINGS_WLAN_GROUP_PMF_NOTE_REQUIREMENTS"></div></div><div class="col--sm4 alignRight"><a class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-href="{{wirelessNetworkGroupFormCtrl.URLS.WLAN_GROUP_PMF_NOTE}}" target="_blank"><span class="button__icon icon ubnt-icon--info"></span><span translate="SETTINGS_WLAN_GROUP_PMF_NOTE_LEARN_MORE"></span></a></div></div></div></div></div></div></div></fieldset></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': wirelessNetworkGroupFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveWirelessNetworkGroup" ng-if="!isReadOnly" ng-click="wirelessNetworkGroupFormCtrl.showValidation = true" busy-toggle="wirelessNetworkGroupFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="wirelessNetworkGroupFormCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":2}],220:[function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();angular.module("app-unifi-manage-settings").controller("WirelessNetworkListController",["$translate","heyToasts","frame","wirelessNetworksComparator","BaseListController","wirelessNetworks","wirelessNetworkUtils","preferences",function(e,t,i,o,r,a,s,l){return new(function(o){function p(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return e.preferences=l,e.defaultSortBy="name",e.isRemoving={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,r),n(p,[{key:"initFilters",value:function(){var e=this.wlanGroupId;this.filter={getTest:function(){return function(t){return t.get("wlangroup_id")===e}}}}},{key:"getCollection",value:function(){return a.repository.collection}},{key:"isRadiusAssigned",value:function(e){return s.isRadiusEnabled(e)}},{key:"edit",value:function(e){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:e})}},{key:"remove",value:function(n){var o=this;return i.show("confirm",{title:function(){return e.instant("SETTINGS_WLAN_DELETE_CONFIRM_TITLE",{wlanName:n.get("name")})},message:function(){return e.instant("SETTINGS_WLAN_DELETE_CONFIRM_MESSAGE",{wlanName:n.get("name")})},options:angular.noop}).then(function(){return o.isRemoving[n.id]=!0,n.destroy({wait:!0}).then(function(){return t.pushSuccess(e.instant("SETTINGS_WLAN_DELETE_SUCCESS",{wlanName:n.get("name")})),!0}).catch(function(){return t.pushError(e.instant("SETTINGS_WLAN_DELETE_ERROR",{wlanName:n.get("name")})),!1}).finally(function(){o.isRemoving[n.id]=!1})})}}]),p}())}])},{}],221:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkList",["ListDirective",function(t){return new t("wirelessNetwork",e("./wirelessNetworkList.pug")(),{wlanGroupId:"=unifiWirelessNetworkListWlanGroupId",onEdit:"&unifiWirelessNetworkListOnEdit"})}])},{"./wirelessNetworkList.pug":222}],222:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="wirelessNetworksTable" collection-view-sort="wirelessNetworkListCtrl.view" ng-class="{      \'appTable--dark\': wirelessNetworkListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="wlanName" collection-view-sort-by="name"><span translate="SETTINGS_WLAN_TABLE_HEADER_NAME"></span></th><th class="wlanSecurity" collection-view-sort-by="security"><span translate="SETTINGS_WLAN_TABLE_HEADER_SECURITY"></span></th><th class="wlanGuestNetwork" collection-view-sort-by="is_guest"><span translate="SETTINGS_WLAN_TABLE_HEADER_GUEST_NETWORK"></span></th><th class="wlanVlan" collection-view-sort-by="vlan"><span translate="SETTINGS_WLAN_TABLE_HEADER_VLAN"></span></th><th class="wlanActions"><span translate="SETTINGS_WLAN_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in wirelessNetworkListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="wlanName">{{::model.get(\'name\')}}</td><td class="wlanSecurity">{{::model.get(\'security\')}}</td><td class="wlanGuestNetwork" ng-bind-html="model.get(\'is_guest\') | enabledIcon"></td><td class="wlanVlan"><span ng-if="model.get(\'vlan_enabled\') &amp;&amp; !wirelessNetworkListCtrl.isRadiusAssigned(model)">{{model.get(\'vlan\')}}</span><span ng-if="wirelessNetworkListCtrl.isRadiusAssigned(model)">{{\'SETTINGS_WLAN_TABLE_VALUE_VLAN_RADIUS_ASSIGNED\' | translate}}</span></td><td class="wlanActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="wirelessNetworkListCtrl.edit(model)" ng-disabled="wirelessNetworkListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="wirelessNetworkListCtrl.edit(model)" ng-disabled="wirelessNetworkListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="wirelessNetworkListCtrl.remove(model)" ng-disabled="wirelessNetworkListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!wirelessNetworkListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': wirelessNetworkListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_TABLE_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],223:[function(e,t,i){"use strict";function n(e,t,i,n,o,r,a,s,l,p){this._=e,this.$translate=t,this.clients=i,this.devices=n,this.frame=o,this.gateway=r.getSiteGateway(),this.knownClientsCache=a,this.preferences=s,this.patterns={macAddress:l.exact(p.MAC_ADDRESS)},this.filterListCurrentPage=1,this.filterListRowsPerPage=10,this.filterListPristine=!0,this.knownClientsCacheIds=[]}n.prototype.removeEventHandlers=function(){this.knownClientsCacheIds.forEach(function(e){this.knownClientsCache.repository.unregisterItem(e)},this)},n.prototype.addAutoGateway=function(){var e=this.getGatewayMac();if(this.gatewayAutoDetectEnabled&&this.filterMaxAvailable>0&&this.filterListPristine&&e&&!this.hasMacAddress(e)){var t=new String(e);t.autoDeteted=!0,this.filterList.unshift(t)}},n.prototype.removeAutoGateway=function(){var e=this.getGatewayMac();if(this.gatewayAutoDetectEnabled&&this.filterListPristine&&e){var t=this.findMacAddressIndex(e);-1!==t&&!0===this.filterList[t].autoDeteted&&this.filterList.splice(t,1)}},n.prototype.isGateway=function(e){return this.getGatewayMac()===e.toString()},n.prototype.getGatewayMac=function(){return this.gateway&&this.gateway.get("mac")||void 0},n.prototype.addBatchMacAddress=function(){this.frame.show("wirelessNetworkMacFilterAddBatch").then(function(e){if(e.macFilterOverride)this.filterList=e.macFilterList;else{var t=this.getUniqueMacAddresses(e.macFilterList);this.filterList.push.apply(this.filterList,t)}this.filterListPristine=!1}.bind(this))},n.prototype.addClientsMacAddress=function(){this.frame.show("wirelessNetworkMacFilterAddClients",{macFilterList:function(){return this.filterList}.bind(this),wirelessClientsOnly:function(){return this.wirelessClientsOnly}.bind(this)}).then(function(e){var t=this.getUniqueMacAddresses(e.macFilterList);this.filterList.push.apply(this.filterList,t),this.filterListPristine=!1}.bind(this))},n.prototype.getUniqueMacAddresses=function(e){return this._.difference(e,this.filterList.map(function(e){return e.toString()}))},n.prototype.addMacAddress=function(){var e=this.macAddressToAdd;this.isMacAddressValid(e)&&!this.hasMacAddress(e)?(this.filterList.push(e),this.filterListPristine=!1,this.macAddressToAdd="",this.showMacValidation=!1):this.showMacValidation=!0},n.prototype.onAddMacAddress=function(e){return 13===e.keyCode?(e.preventDefault(),this.addMacAddress()):void 0},n.prototype.removeMacAddress=function(e){var t=this.findMacAddressIndex(e);-1!==t&&this.filterList.splice(t,1),this.filterListPristine=!1},n.prototype.findMacAddressIndex=function(e){return(this.filterList||[]).findIndex(function(t){return t.toString()===e.toString()})},n.prototype.hasMacAddress=function(e){return-1!==this.findMacAddressIndex(e||"")},n.prototype.isMacAddressValid=function(e){return""===(e=(e||"").trim())||this.patterns.macAddress.test(e)},n.prototype.getMacFilterLimits=function(){var e=this.filterList?this.filterList.length:0,t=this.filterMaxAvailable-e;return{max:this.filterMaxAvailable,exceeded:t<0?-t:0}},n.prototype.getHostnameByMac=function(e){var t=this.devices.repository.collection.get(e),i=t&&t.get("name");if(i)return i;var n=this.clients.repository.collection.get(e),o=n&&(n.get("name")||n.get("hostname"));if(o)return o;var r=this.knownClientsCache.repository.collection.get(e),a=r&&(r.get("name")||r.get("hostname"));return a||(-1===this.knownClientsCacheIds.indexOf(e)&&(this.knownClientsCacheIds.push(e),this.knownClientsCache.repository.registerItem(e).fetchItem(e)),this.isGateway(e)?this.$translate.instant("SETTINGS_WLAN_TABLE_FILTER_LIST_DEFAULT_GATEWAY"):this.$translate.instant("SETTINGS_WLAN_TABLE_FILTER_LIST_UNKNOWN_HOSTNAME"))},n.$inject=["_","$translate","clients","devices","frame","gatewayUtils","knownClientsCache","preferences","regexUtils","REGEX_PATTERNS"],angular.module("app-unifi-manage-settings").controller("WirelessNetworkMacAddressFilterListController",n)},{}],224:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkMacAddressFilterList",[function(){return{scope:{filterEnabled:"=unifiWirelessNetworkMacAddressFilterListFilterEnabled",filterList:"=unifiWirelessNetworkMacAddressFilterListFilterList",filterMaxTotalPerSite:"=unifiWirelessNetworkMacAddressFilterListFilterMaxTotalPerSite",filterMaxTotalPerWlanGroup:"=unifiWirelessNetworkMacAddressFilterListFilterMaxTotalPerWlanGroup",filterMaxAvailable:"=unifiWirelessNetworkMacAddressFilterListFilterMaxAvailable",gatewayAutoDetectEnabled:"=unifiWirelessNetworkMacAddressFilterListGatewayAutoDetectEnabled",wirelessClientsOnly:"=unifiWirelessNetworkMacAddressFilterListWirelessClientsOnly"},controller:"WirelessNetworkMacAddressFilterListController",controllerAs:"wirelessNetworkMacAddressFilterListCtrl",template:e("./wirelessNetworkMacAddressFilterList.pug")(),bindToController:!0,link:function(e,t,i,n){e.$watch(function(){return n.filterEnabled},function(e,t){void 0!==t&&(e?n.addAutoGateway():n.removeAutoGateway())}),e.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./wirelessNetworkMacAddressFilterList.pug":225}],225:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="wirelessNetworkMacAddressFilterList"><div ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxAvailable &gt; 0"><div class="wirelessNetworkMacAddressFilterListLimitsExceeded appInfoBox appInfoBox--cozy appInfoBox--danger verticalRhythmHalf" ng-class="{\'appInfoBox--dark\': wirelessNetworkMacAddressFilterListCtrl.preferences.model.get(\'isSettingsDark\')}" ng-show="wirelessNetworkMacAddressFilterListCtrl.getMacFilterLimits().exceeded"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom"><span ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_PER_SITE" translate-values="{max: wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite}"></span><span ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_PER_WLAN_GROUP" translate-values="{max: wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup}"></span><span class="appDisplaySpaceBefore" ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite || wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_DETAILS" translate-values="{                configured: wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup + wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite - wirelessNetworkMacAddressFilterListCtrl.filterMaxAvailable,                available: wirelessNetworkMacAddressFilterListCtrl.filterMaxAvailable              }"></span><span ng-if="!wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite &amp;&amp; !wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_PER_WLAN" translate-values="{max: wirelessNetworkMacAddressFilterListCtrl.filterMaxAvailable}"></span><span class="appDisplaySpaceBefore" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_REMOVE" translate-values="wirelessNetworkMacAddressFilterListCtrl.getMacFilterLimits()" translate-interpolation="messageformat"></span></p></div></div></div><table class="appTable appTable--noWrap appTable--minor verticalRhythmHalf" ng-if="wirelessNetworkMacAddressFilterListCtrl.filterList.length" ng-class="{        \'appTable--dark\': wirelessNetworkMacAddressFilterListCtrl.preferences.model.get(\'isSettingsDark\'),        \'appTable--hoverable\': wirelessNetworkMacAddressFilterListCtrl.filterList.length      }" unifi-condensed="appTable--condensed"><thead><tr><th class="wlanMacAddress"><span translate="SETTINGS_WLAN_TABLE_FILTER_LIST_HEADER_MAC"></span></th><th class="wlanClientHostname"><span translate="SETTINGS_WLAN_TABLE_FILTER_LIST_HEADER_NAME"></span></th><th class="wlanAction"><span translate="SETTINGS_WLAN_TABLE_FILTER_LIST_HEADER_ACTION"></span></th></tr></thead><tfoot ng-if="wirelessNetworkMacAddressFilterListCtrl.filterList.length"><tr><td colspan="3"><unifi-list-pagination class="noMarginBottom" unifi-list-pagination-current-page="wirelessNetworkMacAddressFilterListCtrl.filterListCurrentPage" unifi-list-pagination-rows-per-page="wirelessNetworkMacAddressFilterListCtrl.filterListRowsPerPage" unifi-list-pagination-total-rows="wirelessNetworkMacAddressFilterListCtrl.filterList.length" unifi-list-pagination-total-links="5" unifi-list-pagination-is-dark="wirelessNetworkMacAddressFilterListCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-list-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="macAddress in wirelessNetworkMacAddressFilterListCtrl.filterList.sort(),            startFrom (wirelessNetworkMacAddressFilterListCtrl.filterListCurrentPage - 1) * wirelessNetworkMacAddressFilterListCtrl.filterListRowsPerPage,            limitTo wirelessNetworkMacAddressFilterListCtrl.filterListRowsPerPage" collection-view-repeat-watch="wirelessNetworkMacAddressFilterListCtrl.filterList.length" data-id="{{::macAddress}}"><td class="wlanMacAddress">{{::macAddress}}</td><td class="wlanClientHostname">{{wirelessNetworkMacAddressFilterListCtrl.getHostnameByMac(macAddress)}}<span class="horizontalRhythmLeft--smash" ng-if="macAddress.autoDeteted" translate="SETTINGS_WLAN_TABLE_FILTER_LIST_AUTO_DETECTED_GATEWAY"></span></td><td class="wlanAction"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' type="button" ng-click="wirelessNetworkMacAddressFilterListCtrl.removeMacAddress(macAddress)"><span class="button__icon icon ubnt-icon--x-circle"></span><span translate="COMMON_ACTIONS_REMOVE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmHalf noHorizontalPadding" ng-if="!wirelessNetworkMacAddressFilterListCtrl.filterList.length" ng-class="{\'appInfoBox--dark\': wirelessNetworkMacAddressFilterListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_TABLE_FILTER_LIST_EMPTY"></p></div></div></div><div class="appInputGroup appInputGroup--cozy verticalRhythmHalf is-form-validation-visible"><input type="text" ng-class="{          \'ng-invalid\': wirelessNetworkMacAddressFilterListCtrl.showMacValidation &amp;&amp; !wirelessNetworkMacAddressFilterListCtrl.isMacAddressValid(wirelessNetworkMacAddressFilterListCtrl.macAddressToAdd),          \'is-input-warning\': wirelessNetworkMacAddressFilterListCtrl.hasMacAddress(wirelessNetworkMacAddressFilterListCtrl.macAddressToAdd)        }" ng-model="wirelessNetworkMacAddressFilterListCtrl.macAddressToAdd" ng-keydown="wirelessNetworkMacAddressFilterListCtrl.onAddMacAddress($event)"'+n("unifi-mac-address",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed" type="button" ng-click="wirelessNetworkMacAddressFilterListCtrl.addMacAddress()" ng-disabled="!wirelessNetworkMacAddressFilterListCtrl.macAddressToAdd"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_WLAN_BUTTON_FILTER_LIST_ADD_MAC"></span></button></div><div class="appInputGroup appInputGroup--cozy"><button class="appMainButton appMainButton--cozy" type="button" ng-click="wirelessNetworkMacAddressFilterListCtrl.addBatchMacAddress()" ng-class="wirelessNetworkMacAddressFilterListCtrl.preferences.model.get(\'isSettingsDark\') ? \'appMainButton--inputDark\' : \'appMainButton--input\'"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_WLAN_BUTTON_FILTER_LIST_ADD_BATCH"></span></button><button class="appMainButton appMainButton--cozy" type="button" ng-click="wirelessNetworkMacAddressFilterListCtrl.addClientsMacAddress(wirelessNetworkMacAddressFilterListCtrl.filterList)" ng-class="wirelessNetworkMacAddressFilterListCtrl.preferences.model.get(\'isSettingsDark\') ? \'appMainButton--inputDark\' : \'appMainButton--input\'"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_WLAN_BUTTON_FILTER_LIST_ADD_CLIENTS"></span></button></div></div><div ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxAvailable == 0"><div class="appInfoBox appInfoBox--cozy appInfoBox--danger verticalRhythmHalf" ng-class="{\'appInfoBox--dark\': wirelessNetworkMacAddressFilterListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_NO_AVAILABLE" translate-values="{max: wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerSite}"></p><p class="noMarginBottom" ng-if="wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup" translate="SETTINGS_WLAN_VALUES_FILTER_LIST_LIMITS_EXCEEDED_NO_AVAILABLE_PER_GROUP" translate-values="{max: wirelessNetworkMacAddressFilterListCtrl.filterMaxTotalPerWlanGroup}"></p></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],226:[function(e,t,i){"use strict";function n(e){this.preferences=e,this.NO_CONNECTIVITY_NG_BITRATE=12e3}n.prototype.isFullConnectivity=function(){return this.model===this.mcsFrequencies[0]&&!this.isNoConnectivity()},n.prototype.isLimitedConnectivity=function(){return!this.isFullConnectivity()&&!this.isNoConnectivity()},n.prototype.isNoConnectivity=function(){return this.forceNoConnectivity||this.isRadioNg()&&this.model>=this.NO_CONNECTIVITY_NG_BITRATE},n.prototype.isRadioNg=function(){return"ng"===this.radio},n.prototype.isRadioNa=function(){return"na"===this.radio},n.$inject=["preferences"],angular.module("app-unifi-manage-settings").controller("WirelessNetworkMinrateCompatibilityInfoController",n)},{}],227:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkMinrateCompatibilityInfo",[function(){return{controller:"WirelessNetworkMinrateCompatibilityInfoController",controllerAs:"wirelessNetworkMinrateCompatibilityInfoControllerCtrl",template:e("./wirelessNetworkMinrateCompatibilityInfo.pug")(),scope:{forceNoConnectivity:"=unifiWirelessNetworkMinrateCompatibilityInfoForceNoConnectivity",model:"=unifiWirelessNetworkMinrateCompatibilityInfoModel",mcsFrequencies:"=unifiWirelessNetworkMinrateCompatibilityInfoMcsFrequencies",radio:"=unifiWirelessNetworkMinrateCompatibilityInfoRadio"},bindToController:!0,replace:!0}}])},{"./wirelessNetworkMinrateCompatibilityInfo.pug":228}],228:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appInfoBox appInfoBox--cozy verticalRhythmHalf" ng-class="{    \'appInfoBox--dark\': wirelessNetworkMinrateCompatibilityInfoControllerCtrl.preferences.model.get(\'isSettingsDark\'),     \'appInfoBox--warning\': wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isLimitedConnectivity(),     \'appInfoBox--danger\': wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isNoConnectivity()   }"><div class="appInfoBox__icon icon" ng-class="{      \'ubnt-icon--info\': wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isFullConnectivity(),       \'ubnt-icon--eye2\': wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isLimitedConnectivity(),       \'ubnt-icon--alert\': wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isNoConnectivity()     }"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" ng-show="wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isFullConnectivity()" translate="SETTINGS_WLAN_MINRATE_INFO_FULL_COMPATIBILITY"></p><p class="noMarginBottom" ng-show="wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isLimitedConnectivity() &amp;&amp; wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isRadioNa()" translate="SETTINGS_WLAN_MINRATE_INFO_LIMITED_CONNECTIVITY_5G"></p><p class="noMarginBottom" ng-show="wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isLimitedConnectivity() &amp;&amp; wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isRadioNg()" translate="SETTINGS_WLAN_MINRATE_INFO_LIMITED_CONNECTIVITY_2G"></p><p class="noMarginBottom" ng-show="wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isNoConnectivity() &amp;&amp; wirelessNetworkMinrateCompatibilityInfoControllerCtrl.isRadioNg()" translate="SETTINGS_WLAN_MINRATE_INFO_NO_CONNECTIVITY_2G"></p></div></div></div>'}},{"pug-runtime":2}],229:[function(e,t,i){"use strict";function n(e){this.mbpsUnit=" "+e.instant("SETTINGS_WLAN_LABEL_MINRATE_MBPS_UNIT"),this.translateLabel=function(e){return e/1e3+this.mbpsUnit}.bind(this)}n.$inject=["$translate"],angular.module("app-unifi-manage-settings").controller("WirelessNetworkMinrateSliderController",n)},{}],230:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkMinrateSlider",["$timeout",function(t){return{controller:"WirelessNetworkMinrateSliderController",controllerAs:"wirelessNetworkMinrateSliderControllerCtrl",template:e("./wirelessNetworkMinrateSlider.pug")(),scope:{model:"=unifiWirelessNetworkMinrateSliderModel",mcsFrequencies:"=unifiWirelessNetworkMinrateSliderMcsFrequencies",forceRender:"=unifiWirelessNetworkMinrateSliderForceRender"},bindToController:!0,replace:!0,link:function(e,i,n,o){e.$watch(function(){return o.forceRender},function(){t(function(){e.$broadcast("rzSliderForceRender")})},!0)}}}])},{"./wirelessNetworkMinrateSlider.pug":231}],231:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div><div class="verticalRhythmTop--cozy"><rzslider rz-slider-model="wirelessNetworkMinrateSliderControllerCtrl.model" rz-slider-options="{        stepsArray: wirelessNetworkMinrateSliderControllerCtrl.mcsFrequencies,        showSelectionBarEnd: true,        translate: wirelessNetworkMinrateSliderControllerCtrl.translateLabel,        hideLimitLabels: false,        hidePointerLabels: false      }"></rzslider></div><div class="appRow verticalRhythmHalf"><div class="col--sm6"><div class="appInputHelp" translate="SETTINGS_WLAN_MINRATE_LOWER_DENSITY"></div></div><div class="col--sm6 alignRight"><div class="appInputHelp" translate="SETTINGS_WLAN_MINRATE_HIGHER_DENSITY"></div></div></div></div>'}},{"pug-runtime":2}],232:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkSchedule",["scheduleConverter","DEFAULT_WLAN_SCHEDULE",function(t,i){return{template:e("./wirelessNetworkSchedule.pug")(),require:"ngModel",scope:{schedule:"=unifiSchedule",use24HourTime:"=unifiWirelessNetworkScheduleUse24HourTime"},link:function(e,n,o,r){e.$parent.$watch(o.ngModel,function(){var n=r.$modelValue&&r.$modelValue.length>0?r.$modelValue:[i];e.days=t.convertFromHHMM(n)},!0),e.$watch(function(){return e.days},function(){e.schedule=t.convertToHHMM(e.days)},!0)}}}])},{"./wirelessNetworkSchedule.pug":233}],233:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div ng-repeat="daySchedule in days"><div class="col--xs12 appFormGroup appFormGroup--cozy"><unifi-wireless-network-schedule-day unifi-wireless-network-schedule-day-use-24-hour-time="use24HourTime" unifi-day-schedule="daySchedule"></unifi-wireless-network-schedule-day></div></div>'}},{"pug-runtime":2}],234:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").directive("unifiWirelessNetworkScheduleDay",[function(){return{template:e("./wirelessNetworkScheduleDay.pug")(),replace:!0,scope:{daySchedule:"=unifiDaySchedule",use24HourTime:"=unifiWirelessNetworkScheduleDayUse24HourTime"}}}])},{"./wirelessNetworkScheduleDay.pug":235}],235:[function(e,t,i){e("pug-runtime");t.exports=function(e){var t="";return t+='<div class="appRow"><div class="col--xs6 col--sm3 appInputGroup appInputGroup--cozy"><input type="checkbox" name="schedule_{{daySchedule.name}}" ng-attr-id="schedule_{{daySchedule.name}}" ng-model="daySchedule.enabled"><label class="appLabel--primary" for="schedule_{{daySchedule.name}}" translate="{{\'DATETIME_DAYS_\' + daySchedule.name.toUpperCase()}}"></label></div><div class="col--xs6 col--sm3 alignRight" ng-if="daySchedule.enabled"><strong>{{daySchedule.values[0] | minutesToMoment | moment: \'format\': use24HourTime ? \'H:mm\' : \'h:mma\' }}-{{ daySchedule.values[1] | minutesToMoment | moment: \'format\': use24HourTime ? \'H:mm\' : \'h:mma\'}}</strong></div><div class="col--xs12 col--sm5" ng-if="daySchedule.enabled"><rzslider rz-slider-model="daySchedule.values[0]" rz-slider-high="daySchedule.values[1]" rz-slider-options="{        floor: 0,        ceil: 1440,        step: 15,        precision: 1,        hideLimitLabels: true,        hidePointerLabels: true      }"></rzslider></div></div>'}},{"pug-runtime":2}],236:[function(e,t,i){"use strict";function n(e,t,i,n,o,r,a,s,l,p,u,d,c){this.$state=e,this.$stateParams=t,this.$translate=i,this.heyToasts=n,this.frame=o,this.wirelessNetworkGroups=r,this.wirelessNetworks=a,this.preferences=l,this.settings=p,this.siteUtils=u,this.ENV=d,this.WLAN_GROUP_SETTINGS=c,this.isAdmin=s.isAdmin.bind(s),this.isRemoving={},this.initView()}n.prototype.shouldRedirectToWlans=function(){return this.$stateParams.wlanGroupId||"edit"===this.$stateParams.wlanAction&&this.$stateParams.wlanId},n.prototype.initView=function(){try{if(!(this.view=this.initWlanGroupView()||this.initWlanView()))throw new Error("Missing view")}catch(e){this.errorMsg=e.message,this.shouldRedirectToWlans()?this.$state.go("manage.site.settings.wlans",{wlanGroupAction:void 0,wlanGroupId:void 0,wlanAction:void 0,wlanId:void 0}):this.$state.go(this.ENV.FATAL_STATE,{error:404})}},n.prototype.initWlanGroupView=function(){var e;if(this.$stateParams.wlanGroupAction)if("edit"===this.$stateParams.wlanGroupAction){if(this.getCurrentWlanGroup(),!this.wlanGroupId)throw new Error("Unable to edit invalid WLAN group ID");e="group:form"}else if("add"===this.$stateParams.wlanGroupAction){var t=this.wirelessNetworkGroups.repository.collection.model;this.wlanGroupModel=new t,e="group:form"}return e},n.prototype.initWlanView=function(){var e;if(this.getCurrentWlanGroup(!0),!this.wlanGroupId)throw new Error("Missing or invalid WLAN group ID");if("edit"===this.$stateParams.wlanAction){if(this.wlanModel=this.wirelessNetworks.repository.collection.get(this.$stateParams.wlanId),!this.wlanModel)throw new Error("Missing or invalid WLAN ID");if(this.wlanModel.get("wlangroup_id")!==this.wlanGroupId)throw new Error("Mismatched WLAN group IDs");e="network:form"}else if("add"===this.$stateParams.wlanAction){var t=this.wirelessNetworks.repository.collection.model;this.wlanModel=new t,e="network:form"}else e="network:list";return e},n.prototype.isWlanGroupAtCapacity=function(){return this.wirelessNetworks.repository.collection.where({wlangroup_id:this.wlanGroupId}).length>=this.getWlansPerGroupMax()},n.prototype.isConnectivityMonitorEnabled=function(){var e=(this.siteUtils.getActiveSite()||{}).id,t=this.settings.getSettingFromKey("connectivity",e);return!(!t||!t.get("enabled"))},n.prototype.getWlansPerGroupMax=function(){return this.isConnectivityMonitorEnabled()?this.WLAN_GROUP_SETTINGS.MAX_WLANCONF_WITH_WIRELESS_UPLINK:this.WLAN_GROUP_SETTINGS.MAX_WLANCONF},n.prototype.getCurrentWlanGroup=function(e){this.$stateParams.wlanGroupId?this.wlanGroupModel=this.wirelessNetworkGroups.repository.collection.get(this.$stateParams.wlanGroupId):this.wlanGroupModel=e?this.wirelessNetworkGroups.repository.collection.getDefault():void 0,this.wlanGroupId=this.wlanGroupModel?this.wlanGroupModel.id:void 0},n.prototype.getWlanGroupOptions=function(){return this.wirelessNetworkGroups.repository.collection.filter(function(e){return!e.get("attr_hidden")})},n.prototype.onWlanGroupIdChange=function(){this.wlanGroupId&&this.listWlans()},n.prototype.listWlans=function(e){this.$state.go("manage.site.settings.wlans",{wlanGroupAction:null,wlanGroupId:e||this.wlanGroupId,wlanAction:null,wlanId:null})},n.prototype.addWlanGroup=function(){this.$state.go("manage.site.settings.wlans",{wlanGroupAction:"add",wlanGroupId:null,wlanAction:null,wlanId:null})},n.prototype.editWlanGroup=function(){this.$state.go("manage.site.settings.wlans",{wlanGroupAction:"edit",wlanGroupId:this.wlanGroupId,wlanAction:null,wlanId:null})},n.prototype.removeWlanGroup=function(){var e=this.wlanGroupModel;return this.frame.show("confirm",{title:function(){return this.$translate.instant("SETTINGS_WLAN_GROUP_DELETE_CONFIRM_TITLE",{wlanGroupName:e.get("name")})}.bind(this),message:function(){return this.$translate.instant("SETTINGS_WLAN_GROUP_DELETE_CONFIRM_MESSAGE",{wlanGroupName:e.get("name")})}.bind(this),options:angular.noop}).then(function(){return this.isRemoving[e.id]=!0,e.destroy({wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("SETTINGS_WLAN_GROUP_DELETE_SUCCESS",{wlanGroupName:e.get("name")})),this.wlanGroupId=null,this.listWlans(),!0}.bind(this)).catch(function(){return this.heyToasts.pushError(this.$translate.instant("SETTINGS_WLAN_GROUP_DELETE_ERROR",{wlanGroupName:e.get("name")})),!1}.bind(this)).finally(function(){this.isRemoving[e.id]=!1}.bind(this))}.bind(this))},n.prototype.addWlan=function(){this.$state.go("manage.site.settings.wlans",{wlanGroupAction:null,wlanGroupId:this.wlanGroupId,wlanAction:"add",wlanId:null})},n.prototype.editWlan=function(e){this.$state.go("manage.site.settings.wlans",{wlanGroupAction:null,wlanGroupId:this.wlanGroupId,wlanAction:"edit",wlanId:e.id})},n.$inject=["$state","$stateParams","$translate","heyToasts","frame","wirelessNetworkGroups","wirelessNetworks","account","preferences","settings","siteUtils","ENV","WLAN_GROUP_SETTINGS"],angular.module("app-unifi-manage-settings").controller("WirelessNetworksController",n)},{}],237:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").component("unifiWirelessNetworks",{controller:"WirelessNetworksController",controllerAs:"wirelessNetworksCtrl",template:e("./wirelessNetworks.pug")()})},{"./wirelessNetworks.pug":238}],238:[function(e,t,i){e("pug-runtime");function n(e,t,i,n){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(n?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n,r,a,s="";for(n=i.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=a}return r!==n?s+t.substring(r,n):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}t.exports=function(e){var t="";return t=t+'<div class="unifiSettingsContainer" id="wirelessNetworkSettings"><div class="unifiSettingsHeader"><div class="unifiSettingsHeader__left"><div class="unifiSettingsHeader__title" translate="SETTINGS_NAV_WIRELESS_NETWORKS"></div></div><div class="unifiSettingsHeader__right" ng-if="wirelessNetworksCtrl.view === \'network:list\'"><div class="appForm appForm--cozy" ng-class="{\'appForm--dark\': wirelessNetworksCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><label class="appLabel--primary appLabel--boxInline" translate="SETTINGS_WLAN_HEADER_WLAN_GROUP_LABEL"></label><select ng-model="wirelessNetworksCtrl.wlanGroupId" ng-options="wlanGroup.id as wlanGroup | roaming for wlanGroup in wirelessNetworksCtrl.getWlanGroupOptions()" ng-change="wirelessNetworksCtrl.onWlanGroupIdChange()"></select></div><div class="appInputGroup inlineBlock"><button class="appMainButton appMainButton--iconOnly appMainButton--cozy noPadding"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="wirelessNetworksCtrl.editWlanGroup()" ng-class="wirelessNetworksCtrl.preferences.model.get(\'isSettingsDark\') ?                 \'appMainButton--transparentDark\' :                 \'appMainButton--transparent\'              " title="{{\'SETTINGS_WLAN_HEADER_WLAN_GROUP_EDIT_SELECTED\' | translate}}"><span class="icon ubnt-icon--pencil"></span></button><button class="appMainButton appMainButton--iconOnly appMainButton--cozy noPadding"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="wirelessNetworksCtrl.removeWlanGroup()" ng-disabled="wirelessNetworksCtrl.wlanGroupModel.get(\'attr_no_delete\')" ng-class="wirelessNetworksCtrl.preferences.model.get(\'isSettingsDark\') ?                 \'appMainButton--transparentDark\' :                 \'appMainButton--transparent\'              " busy-toggle="wirelessNetworksCtrl.isRemoving[model.id]" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" title="{{\'SETTINGS_WLAN_HEADER_WLAN_GROUP_DELETE_SELECTED\' | translate}}"><span class="icon ubnt-icon--trashcan"></span></button><button class="appMainButton appMainButton--iconOnly appMainButton--cozy noPadding"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="wirelessNetworksCtrl.addWlanGroup()" ng-class="wirelessNetworksCtrl.preferences.model.get(\'isSettingsDark\') ?                 \'appMainButton--transparentDark\' :                 \'appMainButton--transparent\'              " title="{{\'SETTINGS_WLAN_HEADER_WLAN_GROUP_ADD\' | translate}}"><span class="icon ubnt-icon--plus"></span></button><button class="appMainButton appMainButton--iconOnly appMainButton--cozy noPadding" unifi-if-role-admin="false" ng-click="wirelessNetworksCtrl.editWlanGroup()" ng-class="wirelessNetworksCtrl.preferences.model.get(\'isSettingsDark\') ?                 \'appMainButton--transparentDark\' :                 \'appMainButton--transparent\'              " title="{{\'SETTINGS_WLAN_HEADER_WLAN_GROUP_VIEW_SELECTED\' | translate}}"><span class="icon ubnt-icon--eye2"></span></button></div></div></div></div></div><div ng-switch="wirelessNetworksCtrl.view"><div ng-switch-when="group:form" unifi-wireless-network-group-form="wirelessNetworksCtrl.wlanGroupModel" unifi-wireless-network-group-form-on-save="wirelessNetworksCtrl.listWlans(wlanGroupId)" unifi-wireless-network-group-form-on-cancel="wirelessNetworksCtrl.listWlans()" unifi-wireless-network-group-form-is-read-only="!wirelessNetworksCtrl.isAdmin()"></div><div ng-switch-when="network:form" unifi-wireless-network-form="wirelessNetworksCtrl.wlanModel" unifi-wireless-network-form-wlan-group-id="wirelessNetworksCtrl.wlanGroupId" unifi-wireless-network-form-on-save="wirelessNetworksCtrl.listWlans()" unifi-wireless-network-form-on-cancel="wirelessNetworksCtrl.listWlans()" unifi-wireless-network-form-is-read-only="!wirelessNetworksCtrl.isAdmin()"></div><div ng-switch-when="network:list"><unifi-wireless-network-list unifi-wireless-network-list-wlan-group-id="wirelessNetworksCtrl.wlanGroupId" unifi-wireless-network-list-on-edit="wirelessNetworksCtrl.editWlan(model)"></unifi-wireless-network-list><div class="unifiSettingsFooter"'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton" ng-if="!wirelessNetworksCtrl.isWlanGroupAtCapacity()" ng-click="wirelessNetworksCtrl.addWlan()" ng-class="wirelessNetworksCtrl.preferences.model.get(\'isSettingsDark\') ?             \'appMainButton--inputDark\' :             \'appMainButton--input\'          "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_WLAN_BUTTON_ADD"></span></button><label class="appType--micro appType--quiet italicized" translate="SETTINGS_WLAN_MAXIMUM_NOTE" translate-values="{            \'maxWlans\': wirelessNetworksCtrl.getWlansPerGroupMax(),            \'withConnectivity\': wirelessNetworksCtrl.isConnectivityMonitorEnabled()          }" translate-interpolation="messageformat"></label></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":2}],239:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings",[]),e("./components/admins/AdminsController.js"),e("./components/admins/admins.js"),e("./components/backupSettings/BackupSettingsController.js"),e("./components/backupSettings/backupSettings.js"),e("./components/cloudAccessSettings/CloudAccessSettingsController.js"),e("./components/cloudAccessSettings/cloudAccessSettings.js"),e("./components/controllerSettings/ControllerSettingsController.js"),e("./components/controllerSettings/controllerSettings.js"),e("./components/dhcpRelay/DhcpRelayController.js"),e("./components/dhcpRelay/dhcpRelay.js"),e("./components/dhcpServer/DhcpServerController.js"),e("./components/dhcpServer/dhcpServer.js"),e("./components/dhcpSettings/DhcpSettingsController.js"),e("./components/dhcpSettings/dhcpSettings.js"),e("./components/dpiRestrictionAssignments/DpiRestrictionAssignmentsController.js"),e("./components/dpiRestrictionAssignments/dpiRestrictionAssignments.js"),e("./components/dpiRestrictionGroups/DpiRestrictionGroupsController.js"),e("./components/dpiRestrictionGroups/dpiRestrictionGroups.js"),e("./components/dpiSettings/DpiSettingsController.js"),e("./components/dpiSettings/dpiSettings.js"),e("./components/dynamicDns/DynamicDnsController.js"),e("./components/dynamicDns/dynamicDns.js"),e("./components/dynamicDnsForm/DynamicDnsFormController.js"),e("./components/dynamicDnsForm/dynamicDnsForm.js"),e("./components/dynamicDnsList/DynamicDnsListController.js"),e("./components/dynamicDnsList/dynamicDnsList.js"),e("./components/eliteDeviceSettings/EliteDeviceSettingsController.js"),e("./components/eliteDeviceSettings/eliteDeviceSettings.js"),e("./components/firewall/FirewallController.js"),e("./components/firewall/firewall.js"),e("./components/firewallGroups/FirewallGroupsController.js"),e("./components/firewallGroups/firewallGroups.js"),e("./components/firewallGroupsForm/FirewallGroupsFormController.js"),e("./components/firewallGroupsForm/firewallGroupsForm.js"),e("./components/firewallGroupsList/FirewallGroupsListController.js"),e("./components/firewallGroupsList/firewallGroupsList.js"),e("./components/firewallRules/FirewallRulesController.js"),e("./components/firewallRules/firewallRules.js"),e("./components/firewallRulesForm/FirewallRulesFormController.js"),e("./components/firewallRulesForm/firewallRulesForm.js"),e("./components/firewallRulesList/FirewallRulesListController.js"),e("./components/firewallRulesList/firewallRulesList.js"),e("./components/firewallSettings/FirewallSettingsController.js"),e("./components/firewallSettings/firewallSettings.js"),e("./components/geoIpFiltering/GeoIpFilteringController.js"),e("./components/geoIpFiltering/geoIpFiltering.js"),e("./components/guestControlSettings/GuestControlSettingsController.js"),e("./components/guestControlSettings/guestControlSettings.js"),e("./components/hotspot2/Hotspot2Controller.js"),e("./components/hotspot2/hotspot2.js"),e("./components/hotspot2Form/Hotspot2FormController.js"),e("./components/hotspot2Form/hotspot2Form.js"),e("./components/hotspot2List/Hotspot2ListController.js"),e("./components/hotspot2List/hotspot2List.js"),e("./components/hotspot2SectionCellularNetwork/Hotspot2SectionCellularNetworkController.js"),e("./components/hotspot2SectionCellularNetwork/hotspot2SectionCellularNetwork.js"),e("./components/hotspot2SectionDomainName/Hotspot2SectionDomainNameController.js"),e("./components/hotspot2SectionDomainName/hotspot2SectionDomainName.js"),e("./components/hotspot2SectionInterworking/Hotspot2SectionInterworkingController.js"),e("./components/hotspot2SectionInterworking/hotspot2SectionInterworking.js"),e("./components/hotspot2SectionInterworkingVenueName/Hotspot2SectionInterworkingVenueNameController.js"),e("./components/hotspot2SectionInterworkingVenueName/hotspot2SectionInterworkingVenueName.js"),e("./components/hotspot2SectionNaiRealm/Hotspot2SectionNaiRealmController.js"),e("./components/hotspot2SectionNaiRealm/hotspot2SectionNaiRealm.js"),e("./components/hotspot2SectionRoamingConsortium/Hotspot2SectionRoamingConsortiumController.js"),e("./components/hotspot2SectionRoamingConsortium/hotspot2SectionRoamingConsortium.js"),e("./components/hotspotOverridesUpgrade/HotspotOverridesUpgradeController.js"),e("./components/hotspotOverridesUpgrade/hotspotOverridesUpgrade.js"),e("./components/ipsSettings/IpsSettingsController.js"),e("./components/ipsSettings/ipsSettings.js"),e("./components/mDnsSettings/MDnsSettingsController.js"),e("./components/mDnsSettings/mDnsSettings.js"),e("./components/maintenanceSettings/MaintenanceSettingsController.js"),e("./components/maintenanceSettings/maintenanceSettings.js"),e("./components/networks/NetworksController.js"),e("./components/networks/networks.js"),e("./components/notificationSettings/NotificationsSettingsController.js"),e("./components/notificationSettings/notificationsSettings.js"),e("./components/ntpSettings/NtpSettingsController.js"),e("./components/ntpSettings/ntpSettings.js"),e("./components/portForward/PortForwardController.js"),e("./components/portForward/portForward.js"),e("./components/portForwardForm/PortForwardFormController.js"),e("./components/portForwardForm/portForwardForm.js"),e("./components/portProfileForm/PortProfileFormController.js"),e("./components/portProfileForm/portProfileForm.js"),e("./components/portProfileList/PortProfileListController.js"),e("./components/portProfileList/portProfileList.js"),e("./components/portProfiles/PortProfilesController.js"),e("./components/portProfiles/portProfiles.js"),e("./components/radiusProfiles/RadiusProfilesController.js"),e("./components/radiusProfiles/radiusProfiles.js"),e("./components/radiusServer/RadiusServerController.js"),e("./components/radiusServer/radiusServer.js"),e("./components/radiusUserForm/RadiusUserFormController.js"),e("./components/radiusUserForm/radiusUserForm.js"),e("./components/radiusUsers/RadiusUsersController.js"),e("./components/radiusUsers/radiusUsers.js"),e("./components/radiusUsersList/RadiusUsersListController.js"),e("./components/radiusUsersList/radiusUsersList.js"),e("./components/routing/RoutingController.js"),e("./components/routing/routing.js"),e("./components/settingsSecurityGatewayIsRequired/SettingsSecurityGatewayIsRequiredController.js"),e("./components/settingsSecurityGatewayIsRequired/settingsSecurityGatewayIsRequired.js"),e("./components/settingsSubMenuDhcp/SettingsSubMenuDhcpController.js"),e("./components/settingsSubMenuDhcp/settingsSubMenuDhcp.js"),e("./components/settingsSubMenuDpi/SettingsSubMenuDpiController.js"),e("./components/settingsSubMenuDpi/settingsSubMenuDpi.js"),e("./components/settingsSubMenuDpiRestrictions/SettingsSubMenuDpiRestrictionsController.js"),e("./components/settingsSubMenuDpiRestrictions/settingsSubMenuDpiRestrictions.js"),e("./components/settingsSubMenuFirewall/SettingsSubMenuFirewallController.js"),e("./components/settingsSubMenuFirewall/settingsSubMenuFirewall.js"),e("./components/settingsSubMenuProfiles/SettingsSubMenuProfilesController.js"),e("./components/settingsSubMenuProfiles/settingsSubMenuProfiles.js"),e("./components/settingsSubMenuRadius/SettingsSubMenuRadiusController.js"),e("./components/settingsSubMenuRadius/settingsSubMenuRadius.js"),e("./components/settingsSubMenuRoutingAndFirewall/SettingsSubMenuRoutingAndFirewallController.js"),e("./components/settingsSubMenuRoutingAndFirewall/settingsSubMenuRoutingAndFirewall.js"),e("./components/settingsSubMenuServices/SettingsSubMenuServicesController.js"),e("./components/settingsSubMenuServices/settingsSubMenuServices.js"),e("./components/settingsSubMenuSip/SettingsSubMenuSipController.js"),e("./components/settingsSubMenuSip/settingsSubMenuSip.js"),e("./components/settingsSubTabsHeader/settingsSubTabsHeader.js"),e("./components/settingsTabsHeader/settingsTabsHeader.js"),e("./components/sipEndpoints/SipEndpointsController.js"),e("./components/sipEndpoints/sipEndpoints.js"),e("./components/sipSettings/SipSettingsController.js"),e("./components/sipSettings/sipSettings.js"),e("./components/siteSettings/SiteSettingsController.js"),e("./components/siteSettings/siteSettings.js"),e("./components/snmpSettings/SnmpSettingsController.js"),e("./components/snmpSettings/snmpSettings.js"),e("./components/upnpSettings/UpnpSettingsController.js"),e("./components/upnpSettings/upnpSettings.js"),e("./components/userGroupForm/UserGroupFormController.js"),e("./components/userGroupForm/userGroupForm.js"),e("./components/userGroupList/UserGroupListController.js"),e("./components/userGroupList/userGroupList.js"),e("./components/userGroups/UserGroupsController.js"),e("./components/userGroups/userGroups.js"),e("./components/wirelessNetworkForm/WirelessNetworkFormController.js"),e("./components/wirelessNetworkForm/wirelessNetworkForm.js"),e("./components/wirelessNetworkGroupForm/WirelessNetworkGroupFormController.js"),e("./components/wirelessNetworkGroupForm/wirelessNetworkGroupForm.js"),e("./components/wirelessNetworkList/WirelessNetworkListController.js"),e("./components/wirelessNetworkList/wirelessNetworkList.js"),e("./components/wirelessNetworkMacAddressFilterList/WirelessNetworkMacAddressFilterListController.js"),e("./components/wirelessNetworkMacAddressFilterList/wirelessNetworkMacAddressFilterList.js"),e("./components/wirelessNetworkMinrateCompatibilityInfo/WirelessNetworkMinrateCompatibilityInfoController.js"),e("./components/wirelessNetworkMinrateCompatibilityInfo/wirelessNetworkMinrateCompatibilityInfo.js"),e("./components/wirelessNetworkMinrateSlider/WirelessNetworkMinrateSliderController.js"),e("./components/wirelessNetworkMinrateSlider/wirelessNetworkMinrateSlider.js"),e("./components/wirelessNetworkSchedule/wirelessNetworkSchedule.js"),e("./components/wirelessNetworkScheduleDay/wirelessNetworkScheduleDay.js"),e("./components/wirelessNetworks/WirelessNetworksController.js"),e("./components/wirelessNetworks/wirelessNetwork.js"),e("./services/collections/GeoIpCountryCollection.js"),e("./services/geoIpCountries.js"),e("./services/geoIpFilteringUtils.js"),e("./services/guestPortalImage.js"),e("./services/models/GeoIpCountryModel.js"),e("./services/models/GuestPortalImageModel.js")},{"./components/admins/AdminsController.js":3,"./components/admins/admins.js":4,"./components/backupSettings/BackupSettingsController.js":6,"./components/backupSettings/backupSettings.js":7,"./components/cloudAccessSettings/CloudAccessSettingsController.js":9,"./components/cloudAccessSettings/cloudAccessSettings.js":10,"./components/controllerSettings/ControllerSettingsController.js":12,"./components/controllerSettings/controllerSettings.js":13,"./components/dhcpRelay/DhcpRelayController.js":15,"./components/dhcpRelay/dhcpRelay.js":16,"./components/dhcpServer/DhcpServerController.js":18,"./components/dhcpServer/dhcpServer.js":19,"./components/dhcpSettings/DhcpSettingsController.js":21,"./components/dhcpSettings/dhcpSettings.js":22,"./components/dpiRestrictionAssignments/DpiRestrictionAssignmentsController.js":24,"./components/dpiRestrictionAssignments/dpiRestrictionAssignments.js":25,"./components/dpiRestrictionGroups/DpiRestrictionGroupsController.js":27,"./components/dpiRestrictionGroups/dpiRestrictionGroups.js":28,"./components/dpiSettings/DpiSettingsController.js":30,"./components/dpiSettings/dpiSettings.js":31,"./components/dynamicDns/DynamicDnsController.js":33,"./components/dynamicDns/dynamicDns.js":34,"./components/dynamicDnsForm/DynamicDnsFormController.js":36,"./components/dynamicDnsForm/dynamicDnsForm.js":37,"./components/dynamicDnsList/DynamicDnsListController.js":39,"./components/dynamicDnsList/dynamicDnsList.js":40,"./components/eliteDeviceSettings/EliteDeviceSettingsController.js":42,"./components/eliteDeviceSettings/eliteDeviceSettings.js":43,"./components/firewall/FirewallController.js":45,"./components/firewall/firewall.js":46,"./components/firewallGroups/FirewallGroupsController.js":48,"./components/firewallGroups/firewallGroups.js":49,"./components/firewallGroupsForm/FirewallGroupsFormController.js":51,"./components/firewallGroupsForm/firewallGroupsForm.js":52,"./components/firewallGroupsList/FirewallGroupsListController.js":54,"./components/firewallGroupsList/firewallGroupsList.js":55,"./components/firewallRules/FirewallRulesController.js":57,"./components/firewallRules/firewallRules.js":58,"./components/firewallRulesForm/FirewallRulesFormController.js":60,"./components/firewallRulesForm/firewallRulesForm.js":61,"./components/firewallRulesList/FirewallRulesListController.js":63,"./components/firewallRulesList/firewallRulesList.js":64,"./components/firewallSettings/FirewallSettingsController.js":66,"./components/firewallSettings/firewallSettings.js":67,"./components/geoIpFiltering/GeoIpFilteringController.js":69,"./components/geoIpFiltering/geoIpFiltering.js":70,"./components/guestControlSettings/GuestControlSettingsController.js":72,"./components/guestControlSettings/guestControlSettings.js":73,"./components/hotspot2/Hotspot2Controller.js":75,"./components/hotspot2/hotspot2.js":76,"./components/hotspot2Form/Hotspot2FormController.js":78,"./components/hotspot2Form/hotspot2Form.js":79,"./components/hotspot2List/Hotspot2ListController.js":81,"./components/hotspot2List/hotspot2List.js":82,"./components/hotspot2SectionCellularNetwork/Hotspot2SectionCellularNetworkController.js":84,"./components/hotspot2SectionCellularNetwork/hotspot2SectionCellularNetwork.js":85,"./components/hotspot2SectionDomainName/Hotspot2SectionDomainNameController.js":87,"./components/hotspot2SectionDomainName/hotspot2SectionDomainName.js":88,"./components/hotspot2SectionInterworking/Hotspot2SectionInterworkingController.js":90,"./components/hotspot2SectionInterworking/hotspot2SectionInterworking.js":91,"./components/hotspot2SectionInterworkingVenueName/Hotspot2SectionInterworkingVenueNameController.js":93,"./components/hotspot2SectionInterworkingVenueName/hotspot2SectionInterworkingVenueName.js":94,"./components/hotspot2SectionNaiRealm/Hotspot2SectionNaiRealmController.js":96,"./components/hotspot2SectionNaiRealm/hotspot2SectionNaiRealm.js":97,"./components/hotspot2SectionRoamingConsortium/Hotspot2SectionRoamingConsortiumController.js":99,"./components/hotspot2SectionRoamingConsortium/hotspot2SectionRoamingConsortium.js":100,"./components/hotspotOverridesUpgrade/HotspotOverridesUpgradeController.js":102,"./components/hotspotOverridesUpgrade/hotspotOverridesUpgrade.js":103,"./components/ipsSettings/IpsSettingsController.js":105,"./components/ipsSettings/ipsSettings.js":106,"./components/mDnsSettings/MDnsSettingsController.js":108,"./components/mDnsSettings/mDnsSettings.js":109,"./components/maintenanceSettings/MaintenanceSettingsController.js":111,"./components/maintenanceSettings/maintenanceSettings.js":112,"./components/networks/NetworksController.js":114,"./components/networks/networks.js":115,"./components/notificationSettings/NotificationsSettingsController.js":117,"./components/notificationSettings/notificationsSettings.js":118,"./components/ntpSettings/NtpSettingsController.js":120,"./components/ntpSettings/ntpSettings.js":121,"./components/portForward/PortForwardController.js":123,"./components/portForward/portForward.js":124,"./components/portForwardForm/PortForwardFormController.js":126,"./components/portForwardForm/portForwardForm.js":127,"./components/portProfileForm/PortProfileFormController.js":129,"./components/portProfileForm/portProfileForm.js":130,"./components/portProfileList/PortProfileListController.js":132,"./components/portProfileList/portProfileList.js":133,"./components/portProfiles/PortProfilesController.js":135,"./components/portProfiles/portProfiles.js":136,"./components/radiusProfiles/RadiusProfilesController.js":138,"./components/radiusProfiles/radiusProfiles.js":139,"./components/radiusServer/RadiusServerController.js":141,"./components/radiusServer/radiusServer.js":142,"./components/radiusUserForm/RadiusUserFormController.js":144,"./components/radiusUserForm/radiusUserForm.js":145,"./components/radiusUsers/RadiusUsersController.js":147,"./components/radiusUsers/radiusUsers.js":148,"./components/radiusUsersList/RadiusUsersListController.js":150,"./components/radiusUsersList/radiusUsersList.js":151,"./components/routing/RoutingController.js":153,"./components/routing/routing.js":154,"./components/settingsSecurityGatewayIsRequired/SettingsSecurityGatewayIsRequiredController.js":156,"./components/settingsSecurityGatewayIsRequired/settingsSecurityGatewayIsRequired.js":157,"./components/settingsSubMenuDhcp/SettingsSubMenuDhcpController.js":159,"./components/settingsSubMenuDhcp/settingsSubMenuDhcp.js":160,"./components/settingsSubMenuDpi/SettingsSubMenuDpiController.js":162,"./components/settingsSubMenuDpi/settingsSubMenuDpi.js":163,"./components/settingsSubMenuDpiRestrictions/SettingsSubMenuDpiRestrictionsController.js":165,"./components/settingsSubMenuDpiRestrictions/settingsSubMenuDpiRestrictions.js":166,"./components/settingsSubMenuFirewall/SettingsSubMenuFirewallController.js":168,"./components/settingsSubMenuFirewall/settingsSubMenuFirewall.js":169,"./components/settingsSubMenuProfiles/SettingsSubMenuProfilesController.js":171,"./components/settingsSubMenuProfiles/settingsSubMenuProfiles.js":172,"./components/settingsSubMenuRadius/SettingsSubMenuRadiusController.js":174,"./components/settingsSubMenuRadius/settingsSubMenuRadius.js":175,"./components/settingsSubMenuRoutingAndFirewall/SettingsSubMenuRoutingAndFirewallController.js":177,"./components/settingsSubMenuRoutingAndFirewall/settingsSubMenuRoutingAndFirewall.js":178,"./components/settingsSubMenuServices/SettingsSubMenuServicesController.js":180,"./components/settingsSubMenuServices/settingsSubMenuServices.js":181,"./components/settingsSubMenuSip/SettingsSubMenuSipController.js":183,"./components/settingsSubMenuSip/settingsSubMenuSip.js":184,"./components/settingsSubTabsHeader/settingsSubTabsHeader.js":186,"./components/settingsTabsHeader/settingsTabsHeader.js":188,"./components/sipEndpoints/SipEndpointsController.js":190,"./components/sipEndpoints/sipEndpoints.js":191,"./components/sipSettings/SipSettingsController.js":193,"./components/sipSettings/sipSettings.js":194,"./components/siteSettings/SiteSettingsController.js":196,"./components/siteSettings/siteSettings.js":197,"./components/snmpSettings/SnmpSettingsController.js":199,"./components/snmpSettings/snmpSettings.js":200,"./components/upnpSettings/UpnpSettingsController.js":202,"./components/upnpSettings/upnpSettings.js":203,"./components/userGroupForm/UserGroupFormController.js":205,"./components/userGroupForm/userGroupForm.js":206,"./components/userGroupList/UserGroupListController.js":208,"./components/userGroupList/userGroupList.js":209,"./components/userGroups/UserGroupsController.js":211,"./components/userGroups/userGroups.js":212,"./components/wirelessNetworkForm/WirelessNetworkFormController.js":214,"./components/wirelessNetworkForm/wirelessNetworkForm.js":215,"./components/wirelessNetworkGroupForm/WirelessNetworkGroupFormController.js":217,"./components/wirelessNetworkGroupForm/wirelessNetworkGroupForm.js":218,"./components/wirelessNetworkList/WirelessNetworkListController.js":220,"./components/wirelessNetworkList/wirelessNetworkList.js":221,"./components/wirelessNetworkMacAddressFilterList/WirelessNetworkMacAddressFilterListController.js":223,"./components/wirelessNetworkMacAddressFilterList/wirelessNetworkMacAddressFilterList.js":224,"./components/wirelessNetworkMinrateCompatibilityInfo/WirelessNetworkMinrateCompatibilityInfoController.js":226,"./components/wirelessNetworkMinrateCompatibilityInfo/wirelessNetworkMinrateCompatibilityInfo.js":227,"./components/wirelessNetworkMinrateSlider/WirelessNetworkMinrateSliderController.js":229,"./components/wirelessNetworkMinrateSlider/wirelessNetworkMinrateSlider.js":230,"./components/wirelessNetworkSchedule/wirelessNetworkSchedule.js":232,"./components/wirelessNetworkScheduleDay/wirelessNetworkScheduleDay.js":234,"./components/wirelessNetworks/WirelessNetworksController.js":236,"./components/wirelessNetworks/wirelessNetwork.js":237,"./services/collections/GeoIpCountryCollection.js":240,"./services/geoIpCountries.js":241,"./services/geoIpFilteringUtils.js":242,"./services/guestPortalImage.js":243,"./services/models/GeoIpCountryModel.js":244,"./services/models/GuestPortalImageModel.js":245}],240:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").factory("GeoIpCountryCollection",["CORSCollection","GeoIpCountryModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(e,t,i,n,o,r){return e.extend(i).extend(n).extend(o).extend(r).extend({_isActiveSiteOptional:!0,model:t,siteUrl:"stat/geoccode",comparator:"code"})}])},{}],241:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").service("geoIpCountries",["BaseCollectionRepository","GeoIpCountryCollection",function(e,t){this.repository=new e(new t),this.getCountryCodes=function(){return this.repository.collection.pluck("code")}}])},{}],242:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").service("geoIpFilteringUtils",["$translate","geoIpCountries",function(e,t){this.getCountryMap=function(){return t.getCountryCodes().reduce(function(t,i){return t[i]={available:!0,name:e.instant("COUNTRY_"+i.toLocaleUpperCase())},t},{})}}])},{}],243:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").service("guestPortalImage",["$q","$http","GuestPortalImageModel","siteUtils","UnifiFileBasePath","UnifiAPIBasePath","Upload","UseWebrtc",function(e,t,i,n,o,r,a,s){this.removeFile=function(e){return new i({id:e}).destroy()},this.uploadFile=function(t){var i=n.getActiveSite().get("name"),r=[o,"upload","s",i,"portalfile"];return e(function(e,i){a.upload({url:r.join("/"),fileFormDataName:"Filedata",file:t,withCredentials:!0,withWebRTC:s,headers:{"X-Requested-With":"XMLHttpRequest"}}).success(function(t){var i=t.data[0]._id;e(i)}).abort(function(){i(arguments)}).error(function(){i(arguments)})})}}])},{}],244:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").factory("GeoIpCountryModel",["BaseModel",function(e){return e.extend({idAttribute:"code"})}])},{}],245:[function(e,t,i){"use strict";angular.module("app-unifi-manage-settings").factory("GuestPortalImageModel",["CORSModel","siteUrlMixin","webrtcMixin",function(e,t,i){return e.extend(t).extend(i).extend({siteUrl:"rest/portalfile"})}])},{}],246:[function(e,t,i){"use strict";function n(e,t,i,n,o){this.ERROR_EDIT_NOT_FOUND="Missing or invalid item ID",this.$state=e,this.$stateParams=t,this.preferences=o,this.ENV=n,this.isAdmin=i.isAdmin.bind(i),this.isSuperAdmin=i.isSuperAdmin.bind(i),this.initView()}n.prototype.initView=function(e,t){try{if(e=e||this.$stateParams.action,t=t||this.$stateParams.id,"edit"===e){if(this.model=this.collection.get(t),!this.model)throw new Error(this.ERROR_EDIT_NOT_FOUND);this.view="form"}else if("add"===e){var i=this.collection.model;this.model=new i,this.view="form"}else this.view="list"}catch(e){this.onInitViewError(e)}},n.prototype.onInitViewError=function(e){this.errorMsg=e.message,this.$state.go(this.ENV.FATAL_STATE,{error:404})},n.prototype.list=function(e){this.$state.go(this.$state.current.name,{action:"list",id:null},{notify:!e}),e&&this.initView("list")},n.prototype.add=function(e){this.$state.go(this.$state.current.name,{action:"add",id:null},{notify:!e}),e&&this.initView("add")},n.prototype.edit=function(e,t){this.$state.go(this.$state.current.name,{action:"edit",id:e.id},{notify:!t}),t&&this.initView("edit",e.id)},n.$inject=["$state","$stateParams","account","ENV","preferences"],t.exports=n},{}]},{},[239]);