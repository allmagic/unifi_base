!function(){return function t(e,i,n){function o(a,s){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){return o(e[a][1][t]||t)},u,u.exports,t,e,i,n)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}}()({1:[function(t,e,i){"use strict";i.byteLength=function(t){var e=c(t),i=e[0],n=e[1];return 3*(i+n)/4-n},i.toByteArray=function(t){for(var e,i=c(t),n=i[0],a=i[1],s=new r(function(t,e,i){return 3*(e+i)/4-i}(0,n,a)),l=0,u=a>0?n-4:n,d=0;d<u;d+=4)e=o[t.charCodeAt(d)]<<18|o[t.charCodeAt(d+1)]<<12|o[t.charCodeAt(d+2)]<<6|o[t.charCodeAt(d+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;2===a&&(e=o[t.charCodeAt(d)]<<2|o[t.charCodeAt(d+1)]>>4,s[l++]=255&e);1===a&&(e=o[t.charCodeAt(d)]<<10|o[t.charCodeAt(d+1)]<<4|o[t.charCodeAt(d+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e);return s},i.fromByteArray=function(t){for(var e,i=t.length,o=i%3,r=[],a=0,s=i-o;a<s;a+=16383)r.push(u(t,a,a+16383>s?s:a+16383));1===o?(e=t[i-1],r.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[i-2]<<8)+t[i-1],r.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return r.join("")};for(var n=[],o=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function u(t,e,i){for(var o,r,a=[],s=e;s<i;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(r=o)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(t,e,i){},{}],3:[function(t,e,i){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var n=t("base64-js"),o=t("ieee754");i.Buffer=s,i.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},i.INSPECT_MAX_BYTES=50;var r=2147483647;function a(t){if(t>r)throw new RangeError("Invalid typed array length");var e=new Uint8Array(t);return e.__proto__=s.prototype,e}function s(t,e,i){if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(t)}return l(t,e,i)}function l(t,e,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return G(t)||t&&G(t.buffer)?function(t,e,i){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i);return n.__proto__=s.prototype,n}(t,e,i):"string"==typeof t?function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var i=0|f(t,e),n=a(i),o=n.write(t,e);o!==i&&(n=n.slice(0,o));return n}(t,e):function(t){if(s.isBuffer(t)){var e=0|p(t.length),i=a(e);return 0===i.length?i:(t.copy(i,0,0,e),i)}if(t){if(ArrayBuffer.isView(t)||"length"in t)return"number"!=typeof t.length||V(t.length)?a(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}(t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t){return c(t),a(t<0?0:0|p(t))}function d(t){for(var e=t.length<0?0:0|p(t.length),i=a(e),n=0;n<e;n+=1)i[n]=255&t[n];return i}function p(t){if(t>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|t}function f(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return x(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return U(t).length;default:if(n)return x(t).length;e=(""+e).toLowerCase(),n=!0}}function h(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function _(t,e,i,n,o){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),V(i=+i)&&(i=o?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(o)return-1;i=t.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:m(t,e,i,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):m(t,[e],i,n,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,i,n,o){var r,a=1,s=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,i/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var u=-1;for(r=i;r<s;r++)if(c(t,r)===c(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*a}else-1!==u&&(r-=r-u),u=-1}else for(i+l>s&&(i=s-l),r=i;r>=0;r--){for(var d=!0,p=0;p<l;p++)if(c(t,r+p)!==c(e,p)){d=!1;break}if(d)return r}return-1}function g(t,e,i,n){i=Number(i)||0;var o=t.length-i;n?(n=Number(n))>o&&(n=o):n=o;var r=e.length;n>r/2&&(n=r/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(V(s))return a;t[i+a]=s}return a}function v(t,e,i,n){return F(x(e,t.length-i),t,i,n)}function E(t,e,i,n){return F(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function C(t,e,i,n){return E(t,e,i,n)}function T(t,e,i,n){return F(U(e),t,i,n)}function S(t,e,i,n){return F(function(t,e){for(var i,n,o,r=[],a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),n=i>>8,o=i%256,r.push(o),r.push(n);return r}(e,t.length-i),t,i,n)}function y(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function A(t,e,i){i=Math.min(t.length,i);for(var n=[],o=e;o<i;){var r,a,s,l,c=t[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=i)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(r=t[o+1]))&&(l=(31&c)<<6|63&r)>127&&(u=l);break;case 3:r=t[o+1],a=t[o+2],128==(192&r)&&128==(192&a)&&(l=(15&c)<<12|(63&r)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:r=t[o+1],a=t[o+2],s=t[o+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&r)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),o+=d}return function(t){var e=t.length;if(e<=b)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=b));return i}(n)}i.kMaxLength=r,s.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{get:function(){if(this instanceof s)return this.buffer}}),Object.defineProperty(s.prototype,"offset",{get:function(){if(this instanceof s)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(t,e,i){return l(t,e,i)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(t,e,i){return function(t,e,i){return c(t),t<=0?a(t):void 0!==e?"string"==typeof i?a(t).fill(e,i):a(t).fill(e):a(t)}(t,e,i)},s.allocUnsafe=function(t){return u(t)},s.allocUnsafeSlow=function(t){return u(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,o=0,r=Math.min(i,n);o<r;++o)if(t[o]!==e[o]){i=t[o],n=e[o];break}return i<n?-1:n<i?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=s.allocUnsafe(e),o=0;for(i=0;i<t.length;++i){var r=t[i];if(ArrayBuffer.isView(r)&&(r=s.from(r)),!s.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(n,o),o+=r.length}return n},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)h(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)h(this,e,e+3),h(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)h(this,e,e+7),h(this,e+1,e+6),h(this,e+2,e+5),h(this,e+3,e+4);return this},s.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):function(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,i);case"utf8":case"utf-8":return A(this,e,i);case"ascii":return I(this,e,i);case"latin1":case"binary":return O(this,e,i);case"base64":return y(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,i,n,o){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||i>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=i)return 0;if(n>=o)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,o>>>=0,this===t)return 0;for(var r=o-n,a=i-e,l=Math.min(r,a),c=this.slice(n,o),u=t.slice(e,i),d=0;d<l;++d)if(c[d]!==u[d]){r=c[d],a=u[d];break}return r<a?-1:a<r?1:0},s.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},s.prototype.indexOf=function(t,e,i){return _(this,t,e,i,!0)},s.prototype.lastIndexOf=function(t,e,i){return _(this,t,e,i,!1)},s.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var o=this.length-e;if((void 0===i||i>o)&&(i=o),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return g(this,t,e,i);case"utf8":case"utf-8":return v(this,t,e,i);case"ascii":return E(this,t,e,i);case"latin1":case"binary":return C(this,t,e,i);case"base64":return T(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var b=4096;function I(t,e,i){var n="";i=Math.min(t.length,i);for(var o=e;o<i;++o)n+=String.fromCharCode(127&t[o]);return n}function O(t,e,i){var n="";i=Math.min(t.length,i);for(var o=e;o<i;++o)n+=String.fromCharCode(t[o]);return n}function R(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var o="",r=e;r<i;++r)o+=B(t[r]);return o}function D(t,e,i){for(var n=t.slice(e,i),o="",r=0;r<n.length;r+=2)o+=String.fromCharCode(n[r]+256*n[r+1]);return o}function w(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,i,n,o,r){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<r)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function L(t,e,i,n,o,r){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function M(t,e,i,n,r){return e=+e,i>>>=0,r||L(t,0,i,4),o.write(t,e,i,n,23,4),i+4}function P(t,e,i,n,r){return e=+e,i>>>=0,r||L(t,0,i,8),o.write(t,e,i,n,52,8),i+8}s.prototype.slice=function(t,e){var i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var n=this.subarray(t,e);return n.__proto__=s.prototype,n},s.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||w(t,e,this.length);for(var n=this[t],o=1,r=0;++r<e&&(o*=256);)n+=this[t+r]*o;return n},s.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||w(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},s.prototype.readUInt8=function(t,e){return t>>>=0,e||w(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||w(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||w(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||w(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||w(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||w(t,e,this.length);for(var n=this[t],o=1,r=0;++r<e&&(o*=256);)n+=this[t+r]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||w(t,e,this.length);for(var n=e,o=1,r=this[t+--n];n>0&&(o*=256);)r+=this[t+--n]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},s.prototype.readInt8=function(t,e){return t>>>=0,e||w(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||w(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},s.prototype.readInt16BE=function(t,e){t>>>=0,e||w(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||w(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||w(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return t>>>=0,e||w(t,4,this.length),o.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||w(t,4,this.length),o.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||w(t,8,this.length),o.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||w(t,8,this.length),o.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e>>>=0,i>>>=0,n)||N(this,t,e,i,Math.pow(2,8*i)-1,0);var o=1,r=0;for(this[e]=255&t;++r<i&&(o*=256);)this[e+r]=t/o&255;return e+i},s.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e>>>=0,i>>>=0,n)||N(this,t,e,i,Math.pow(2,8*i)-1,0);var o=i-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+i},s.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||N(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||N(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||N(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||N(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||N(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*i-1);N(this,t,e,i,o-1,-o)}var r=0,a=1,s=0;for(this[e]=255&t;++r<i&&(a*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+i},s.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*i-1);N(this,t,e,i,o-1,-o)}var r=i-1,a=1,s=0;for(this[e+r]=255&t;--r>=0&&(a*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+i},s.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||N(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||N(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||N(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||N(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeFloatLE=function(t,e,i){return M(this,t,e,!0,i)},s.prototype.writeFloatBE=function(t,e,i){return M(this,t,e,!1,i)},s.prototype.writeDoubleLE=function(t,e,i){return P(this,t,e,!0,i)},s.prototype.writeDoubleBE=function(t,e,i){return P(this,t,e,!1,i)},s.prototype.copy=function(t,e,i,n){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var o=n-i;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,i,n);else if(this===t&&i<e&&e<n)for(var r=o-1;r>=0;--r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,n),e);return o},s.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var o=t.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(t=o)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var r;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(r=e;r<i;++r)this[r]=t;else{var a=s.isBuffer(t)?t:new s(t,n),l=a.length;if(0===l)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(r=0;r<i-e;++r)this[r+e]=a[r%l]}return this};var k=/[^+/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function x(t,e){var i;e=e||1/0;for(var n=t.length,o=null,r=[],a=0;a<n;++a){if((i=t.charCodeAt(a))>55295&&i<57344){if(!o){if(i>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&r.push(239,191,189);continue}o=i;continue}if(i<56320){(e-=3)>-1&&r.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,i<128){if((e-=1)<0)break;r.push(i)}else if(i<2048){if((e-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function U(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(k,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,i,n){for(var o=0;o<n&&!(o+i>=e.length||o>=t.length);++o)e[o+i]=t[o];return o}function G(t){return t instanceof ArrayBuffer||null!=t&&null!=t.constructor&&"ArrayBuffer"===t.constructor.name&&"number"==typeof t.byteLength}function V(t){return t!=t}},{"base64-js":1,ieee754:6}],4:[function(t,e,i){e.exports={BZ2:{name:"UniFi AP",type:"uap",features:{zh:!0},radios:{ng:{maxPower:23,gain:5}}},BZ2LR:{name:"UniFi AP-LR",type:"uap",features:{zh:!0},radios:{ng:{maxPower:28,gain:3}}},U2HSR:{name:"UniFi AP-Outdoor+",type:"uap",features:{zh:!0},radios:{ng:{maxPower:30,gain:5}}},U2IW:{name:"UniFi AP-In Wall",type:"uap",hybrid:"uap+usw",features:{zh:!0},ports:{standard:2},radios:{ng:{maxPower:18,gain:1}}},U2L48:{name:"UniFi AP-LR",type:"uap",radios:{ng:{maxPower:29,gain:0}}},U2Lv2:{name:"UniFi AP-LR v2",type:"uap",features:{zh:!0},radios:{ng:{maxPower:28,gain:3}}},U2M:{name:"UniFi AP-Mini",type:"uap",radios:{ng:{maxPower:18,gain:0}}},U2O:{name:"UniFi AP-Outdoor",type:"uap",features:{zh:!0},radios:{ng:{maxPower:28,gain:6}}},U2S48:{name:"UniFi AP",type:"uap",radios:{ng:{maxPower:23,gain:0}}},U2Sv2:{name:"UniFi AP v2",type:"uap",features:{zh:!0},radios:{ng:{maxPower:23,gain:0}}},U5O:{name:"UniFi AP-Outdoor 5G",type:"uap",features:{dfs:!0,zh:!0},radios:{na:{maxPower:27,gain:6}}},U7E:{name:"UniFi AP-AC",type:"uap",features:{ac:!0,brcm:!0},radios:{na:{maxPower:24,gain:4},ng:{maxPower:22,gain:4}}},U7EDU:{name:"UniFi AP-AC-EDU",type:"uap",features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:22,gain:3},ng:{maxPower:22,gain:3}}},U7Ev2:{name:"UniFi AP-AC v2",type:"uap",features:{ac:!0,brcm:!0},radios:{na:{maxPower:24,gain:3},ng:{maxPower:22,gain:4}}},U7HD:{name:"UniFi AP-HD",type:"uap",features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:25,gain:4},ng:{maxPower:25,gain:3}}},U7SHD:{name:"UniFi AP-SHD",type:"uap",features:{gen:2,ac:!0,bandsteer:!0,airTime:!0,airView:!0},radios:{na:{maxPower:25,gain:8},ng:{maxPower:25,gain:6}}},U7NHD:{name:"UniFi AP-nanoHD",type:"uap",features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:25,gain:4},ng:{maxPower:20,gain:3}}},UHDIW:{name:"UniFi AP-HD-In Wall",type:"uap",hybrid:"uap+usw",ports:{standard:4},features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:25,gain:4},ng:{maxPower:20,gain:3}},beta:"<=99.0.0"},UCXG:{name:"UniFi AP-XG",type:"uap",features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:25,gain:8},ng:{maxPower:25,gain:6}}},UXSDM:{name:"UniFi AP-BaseStationXG",type:"uap",features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:25,gain:10}}},UXBSDM:{name:"UniFi AP-BlackBaseStationXG",type:"uap",features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:25,gain:10}}},UCMSH:{name:"UniFi AP-MeshXG",type:"uap",features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:25,gain:10},ng:{maxPower:25,gain:15}}},U7IW:{name:"UniFi AP-AC-In Wall",type:"uap",hybrid:"uap+usw",ports:{standard:2},features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:20,gain:1},ng:{maxPower:20,gain:2}}},U7IWP:{name:"UniFi AP-AC-In Wall Pro",type:"uap",hybrid:"uap+usw",ports:{standard:2},features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:22,gain:6},ng:{maxPower:22,gain:5}}},U7MP:{name:"UniFi AP-AC-Mesh-Pro",type:"uap",features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:22,gain:8},ng:{maxPower:22,gain:8}}},U7LR:{name:"UniFi AP-AC-LR",type:"uap",features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:22,gain:3},ng:{maxPower:24,gain:3}}},U7LT:{name:"UniFi AP-AC-Lite",type:"uap",features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:20,gain:3},ng:{maxPower:20,gain:3}}},U7O:{name:"UniFi AP-AC Outdoor",type:"uap",features:{ac:!0,brcm:!0},radios:{na:{maxPower:24,gain:4},ng:{maxPower:22,gain:4}}},U7P:{name:"UniFi AP-Pro",type:"uap",features:{dfs:!0,bandsteer:!0,zh:!0},radios:{na:{maxPower:23,gain:4},ng:{maxPower:30,gain:5}}},U7MSH:{name:"UniFi AP-AC-Mesh",type:"uap",features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:20,gain:4},ng:{maxPower:20,gain:3}}},U7PG2:{name:"UniFi AP-AC-Pro",type:"uap",features:{gen:2,ac:!0,bandsteer:!0},radios:{na:{maxPower:23,gain:3},ng:{maxPower:22,gain:3}}},p2N:{name:"PicoStation M2",type:"uap",features:{zh:!0},radios:{na:{maxPower:22,gain:3},ng:{maxPower:22,gain:3}}},US8:{name:"UniFi Switch 8",type:"usw",features:{poe:!0},ports:{standard:8},power:{capacity:10}},US8P60:{name:"UniFi Switch 8 POE-60W",type:"usw",features:{poe:!0},ports:{standard:8},power:{capacity:60}},US8P150:{name:"UniFi Switch 8 POE-150W",type:"usw",features:{poe:!0},ports:{standard:8,sfp:[9,10]},power:{capacity:150}},S28150:{name:"UniFi Switch 8 AT-150W",type:"usw",features:{poe:!0},ports:{standard:8,sfp:[9,10]},power:{capacity:150}},USC8:{name:"UniFi Switch 8",type:"usw",features:{poe:!0},ports:{standard:8},power:{capacity:10}},USC8P60:{name:"UniFi Switch 8 POE-60W",type:"usw",features:{poe:!0},ports:{standard:8},power:{capacity:60}},USC8P150:{name:"UniFi Switch 8 POE-150W",type:"usw",features:{poe:!0},ports:{standard:8,sfp:[9,10]},power:{capacity:150}},US16P150:{name:"UniFi Switch 16 POE-150W",type:"usw",features:{poe:!0,fan:"simple"},ports:{standard:16,sfp:[17,18]},power:{capacity:150}},S216150:{name:"UniFi Switch 16 AT-150W",type:"usw",features:{poe:!0,fan:"simple"},ports:{standard:16,sfp:[17,18]},power:{capacity:150}},US24:{name:"UniFi Switch 24",type:"usw",features:{fan:"simple"},ports:{standard:24,sfp:[25,26]}},US24P250:{name:"UniFi Switch 24 POE-250W",type:"usw",features:{poe:!0,fan:"alwayson"},ports:{standard:24,sfp:[25,26]},power:{capacity:250}},US24PL2:{name:"UniFi Switch 24 L2 POE",type:"usw",features:{poe:!0,fan:"alwayson"},ports:{standard:24,sfp:[25,26]}},US24P500:{name:"UniFi Switch 24 POE-500W",type:"usw",features:{poe:!0,fan:"alwayson"},ports:{standard:24,sfp:[25,26]},power:{capacity:500}},S224250:{name:"UniFi Switch 24 AT-250W",type:"usw",features:{poe:!0,fan:"alwayson"},ports:{standard:24,sfp:[25,26]},power:{capacity:250}},S224500:{name:"UniFi Switch 24 AT-500W",type:"usw",features:{poe:!0,fan:"alwayson"},ports:{standard:24,sfp:[25,26]},power:{capacity:500}},US48:{name:"UniFi Switch 48",type:"usw",features:{fan:"simple"},ports:{standard:48,sfp:[51,52],plus:[49,50]}},US48P500:{name:"UniFi Switch 48 POE-500W",type:"usw",features:{poe:!0,fan:"alwayson"},ports:{standard:48,sfp:[51,52],plus:[49,50]},power:{capacity:500}},US48PL2:{name:"UniFi Switch 48 L2 POE",type:"usw",features:{poe:!0,fan:"alwayson"},ports:{standard:48,sfp:[51,52],plus:[49,50]}},US48P750:{name:"UniFi Switch 48 POE-750W",type:"usw",features:{poe:!0,fan:"alwayson"},ports:{standard:48,sfp:[51,52],plus:[49,50]},power:{capacity:750}},S248500:{name:"UniFi Switch 48 AT-500W",type:"usw",features:{poe:!0,fan:"alwayson"},ports:{standard:48,sfp:[51,52],plus:[49,50]},power:{capacity:500}},S248750:{name:"UniFi Switch 48 AT-750W",type:"usw",features:{poe:!0,fan:"alwayson"},ports:{standard:48,sfp:[51,52],plus:[49,50]},power:{capacity:750}},US6XG150:{name:"UniFi Switch XG 6POE",type:"usw",features:{poe:!0},ports:{standard:"1-4",plus:"5-6"},ledColors:{amber:[],green:[1e3,100],white:[1e4,5e3,2500]},diagram:["01 02 03 04 __ 05 06"]},USXG:{name:"UniFi Switch 16XG",type:"usw",ports:{plus:"1-12",standard:"13-16"},diagram:["01 03 05 07 09 11 __ __ __ __ __","02 04 06 08 10 12 __ 13 14 15 16"]},UGW3:{name:"UniFi Security Gateway 3P",type:"ugw",diagram:["00 01 02"],ports:{eth0:"WAN 1",eth1:"LAN 1",eth2:"WAN 2/LAN 2"},networkGroups:{eth0:"WAN",eth1:"LAN",eth2:"LAN2"},linkNegotiation:{eth0:{portIdx:1,supportedValues:["autoneg","100 FDX","100 HDX","10 FDX","10 HDX"]},eth1:{portIdx:2,supportedValues:["autoneg","100 FDX","100 HDX","10 FDX","10 HDX"]},eth2:{portIdx:3,supportedValues:["autoneg","100 FDX","100 HDX","10 FDX","10 HDX"]}},features:{legacyPortRemap:!0}},UGW4:{name:"UniFi Security Gateway 4P",type:"ugw",diagram:["00 01 02 03"],temperatureSensors:[{sensor:"PHY",maxTemp:105},{sensor:"CPU",maxTemp:100},{sensor:"Board (PHY)"},{sensor:"Board (CPU)"}],ports:{eth0:"LAN1",eth1:"LAN2",eth2:"WAN1",eth3:"WAN2"},networkGroups:{eth0:"LAN",eth1:"LAN2",eth2:"WAN",eth3:"WAN2"},linkNegotiation:{eth0:{portIdx:1,supportedValues:["autoneg","100 FDX","100 HDX","10 FDX","10 HDX"]},eth1:{portIdx:2,supportedValues:["autoneg","100 FDX","100 HDX","10 FDX","10 HDX"]}}},UGWHD4:{name:"UniFi Security Gateway HD",type:"ugw",diagram:["00 01 02 03"],ports:{eth0:"0",eth1:"1",eth2:"2",eth3:"3"}},UGWXG:{name:"UniFi Security Gateway XG-8",type:"ugw",ports:{eth0:"0",eth1:"1",eth2:"2",eth3:"3",eth4:"4",eth5:"5",eth6:"6",eth7:"7",eth8:"8"},networkGroups:{eth0:"WAN2",eth1:"LAN",eth2:"LAN2",eth3:"LAN3",eth4:"LAN4",eth5:"LAN5",eth6:"LAN6",eth7:"LAN7",eth8:"WAN"},linkNegotiation:{eth0:{portIdx:1,supportedValues:["autoneg","100 FDX","100 HDX","10 FDX","10 HDX"]},eth1:{portIdx:2,supportedValues:["autoneg","10000 FDX","1000 FDX"]},eth2:{bindWith:"eth1"},eth3:{bindWith:"eth1"},eth4:{bindWith:"eth1"},eth5:{portIdx:6,supportedValues:["autoneg","10000 FDX","1000 FDX"]},eth6:{bindWith:"eth5"},eth7:{bindWith:"eth5"},eth8:{bindWith:"eth5"}},diagram:["01 03 05 07 __","02 04 06 08 00"],features:{sfpPlusSupported:!0},temperatureSensors:[{sensor:"Board 1"},{sensor:"Board 2"},{sensor:"CPU",maxTemp:95},{sensor:"PHY 1",maxTemp:100},{sensor:"PHY 2",maxTemp:100}]},U1:{name:"UniFi One",type:"u1",diagram:["00 01 02 03 04"],ports:{eth0:"LAN",eth1:"LAN 2",eth2:"LAN 3",eth3:"LAN 4",eth4:"WAN"},networkGroups:{eth0:"LAN",eth1:"LAN2",eth2:"LAN3",eth3:"LAN4",eth4:"WAN"}},U1P:{name:"UniFi One Plus",type:"u1",diagram:["00 01 02 03 04 05 06 07 08"],ports:{eth0:"LAN",eth1:"LAN 2",eth2:"LAN 3",eth3:"LAN 4",eth4:"LAN 5",eth5:"LAN 6",eth6:"LAN 7",eth7:"WAN"},networkGroups:{eth0:"LAN",eth1:"LAN2",eth2:"LAN3",eth3:"LAN4",eth4:"LAN5",eth5:"LAN6",eth6:"LAN7",eth7:"WAN"}},"U1-RM":{name:"UniFi One RM",type:"u1",diagram:["00 01 02 03 04 05 06 07 08"],ports:{eth0:"LAN",eth1:"LAN 2",eth2:"LAN 3",eth3:"LAN 4",eth4:"LAN 5",eth5:"LAN 6",eth6:"LAN 7",eth7:"WAN"},networkGroups:{eth0:"LAN",eth1:"LAN2",eth2:"LAN3",eth3:"LAN4",eth4:"LAN5",eth5:"LAN6",eth6:"LAN7",eth7:"WAN"}},"U1P-RM":{name:"UniFi One Plus RM",type:"u1",diagram:["00 01 02 03 04 05 06 07 08"],ports:{eth0:"LAN",eth1:"LAN 2",eth2:"LAN 3",eth3:"LAN 4",eth4:"LAN 5",eth5:"LAN 6",eth6:"LAN 7",eth7:"WAN"},networkGroups:{eth0:"LAN",eth1:"LAN2",eth2:"LAN3",eth3:"LAN4",eth4:"LAN5",eth5:"LAN6",eth6:"LAN7",eth7:"WAN"}},UP4:{name:"UniFi Phone-X",type:"uph"},UP5:{name:"UniFi Phone",type:"uph"},UP5t:{name:"UniFi Phone-Pro",type:"uph"},UP7:{name:"UniFi Phone-Executive",type:"uph"},UP5c:{name:"UniFi Phone",type:"uph"},UP5tc:{name:"UniFi Phone-Pro",type:"uph"},UP7c:{name:"UniFi Phone-Executive",type:"uph"},UD55ABTUS:{name:"UniFi Display 55",type:"udisplay"}}},{}],5:[function(t,e,i){e.exports=["af","af_ZA","ar","ar_AE","ar_BH","ar_DZ","ar_EG","ar_IQ","ar_JO","ar_KW","ar_LB","ar_LY","ar_MA","ar_OM","ar_QA","ar_SA","ar_SY","ar_TN","ar_YE","az","az_AZ","be","be_BY","bg","bg_BG","bs","bs_BA","ca","ca_ES","cs","cs_CZ","cy","cy_GB","da","da_DK","de","de_AT","de_CH","de_DE","de_LI","de_LU","dv","dv_MV","el","el_GR","en","en_AU","en_BZ","en_CA","en_CB","en_GB","en_IE","en_JM","en_NZ","en_PH","en_TT","en_US","en_ZA","en_ZW","eo","es","es_AR","es_BO","es_CL","es_CO","es_CR","es_DO","es_EC","es_ES","es_GT","es_HN","es_MX","es_NI","es_PA","es_PE","es_PR","es_PY","es_SV","es_UY","es_VE","et","et_EE","eu","eu_ES","fa","fa_IR","fi","fi_FI","fo","fo_FO","fr","fr_BE","fr_CA","fr_CH","fr_FR","fr_LU","fr_MC","gl","gl_ES","gu","gu_IN","he","he_IL","hi","hi_IN","hr","hr_BA","hr_HR","hu","hu_HU","hy","hy_AM","id","id_ID","is","is_IS","it","it_CH","it_IT","ja","ja_JP","ka","ka_GE","kk","kk_KZ","kn","kn_IN","ko","ko_KR","kok","kok_IN","ky","ky_KG","lt","lt_LT","lv","lv_LV","mi","mi_NZ","mk","mk_MK","mn","mn_MN","mr","mr_IN","ms","ms_BN","ms_MY","mt","mt_MT","nb","nb_NO","nl","nl_BE","nl_NL","nn","nn_NO","no","ns","ns_ZA","pa","pa_IN","pl","pl_PL","ps","ps_AF","pt","pt_BR","pt_PT","qu","qu_BO","qu_EC","qu_PE","ro","ro_RO","ru","ru_RU","sa","sa_IN","se","se_FI","se_NO","se_SE","sk","sk_SK","sl","sl_SI","sq","sq_AL","sr","sr_BA","sr_SP","sv","sv_FI","sv_SE","sw","sw_KE","syr","syr_SY","ta","ta_IN","te","te_IN","th","th_TH","tl","tl_PH","tn","tn_ZA","tr","tr_TR","tt","tt_RU","ts","uk","uk_UA","ur","ur_PK","uz","uz_UZ","vi","vi_VN","xh","xh_ZA","zh","zh_CN","zh_HK","zh_MO","zh_SG","zh_TW","zu","zu_ZA"]},{}],6:[function(t,e,i){i.read=function(t,e,i,n,o){var r,a,s=8*o-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=i?o-1:0,p=i?-1:1,f=t[e+d];for(d+=p,r=f&(1<<-u)-1,f>>=-u,u+=s;u>0;r=256*r+t[e+d],d+=p,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=n;u>0;a=256*a+t[e+d],d+=p,u-=8);if(0===r)r=1-c;else{if(r===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),r-=c}return(f?-1:1)*a*Math.pow(2,r-n)},i.write=function(t,e,i,n,o,r){var a,s,l,c=8*r-o-1,u=(1<<c)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:r-1,h=n?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*l-1)*Math.pow(2,o),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;t[i+f]=255&s,f+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[i+f]=255&a,f+=h,a/=256,c-=8);t[i+f-h]|=128*_}},{}],7:[function(t,e,i){"use strict";i.Address4=t("./lib/ipv4.js"),i.Address6=t("./lib/ipv6.js"),i.v6={helpers:t("./lib/v6/helpers.js")}},{"./lib/ipv4.js":9,"./lib/ipv6.js":10,"./lib/v6/helpers.js":14}],8:[function(t,e,i){"use strict";var n=i.falseIfInvalid=function(t){return function(){return!!this.valid&&t.apply(this,arguments)}};i.isInSubnet=n(function(t){return!(this.subnetMask<t.subnetMask)&&this.mask(t.subnetMask)===t.mask()}),i.isCorrect=function(t){return n(function(){return this.addressMinusSuffix===this.correctForm()&&(this.subnetMask===t&&!this.parsedSubnet||this.parsedSubnet===String(this.subnetMask))})}},{}],9:[function(t,e,i){"use strict";var n=t("jsbn").BigInteger,o=t("./common.js"),r=t("lodash.padstart"),a=t("lodash.repeat"),s=t("sprintf-js").sprintf,l=t("./v4/constants.js");function c(t){this.valid=!1,this.address=t,this.groups=l.GROUPS,this.v4=!0,this.subnet="/32",this.subnetMask=32;var e=l.RE_SUBNET_STRING.exec(t);if(e){if(this.parsedSubnet=e[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,this.subnetMask<0||this.subnetMask>l.BITS)return this.valid=!1,void(this.error="Invalid subnet mask.");t=t.replace(l.RE_SUBNET_STRING,"")}this.addressMinusSuffix=t,this.parsedAddress=this.parse(t)}c.prototype.parse=function(t){var e=t.split(".");return t.match(l.RE_ADDRESS)?this.valid=!0:this.error="Invalid IPv4 address.",e},c.prototype.isValid=function(){return this.valid},c.prototype.correctForm=function(){return this.parsedAddress.map(function(t){return parseInt(t,10)}).join(".")},c.prototype.isCorrect=o.isCorrect(l.BITS),c.fromHex=function(t){var e,i=r(t.replace(/:/g,""),8,"0"),n=[];for(e=0;e<8;e+=2){var o=i.slice(e,e+2);n.push(parseInt(o,16))}return new c(n.join("."))},c.fromInteger=function(t){return c.fromHex(t.toString(16))},c.prototype.toHex=function(){return this.parsedAddress.map(function(t){return s("%02x",parseInt(t,10))}).join(":")},c.prototype.toArray=function(){return this.parsedAddress.map(function(t){return parseInt(t,10)})},c.prototype.toGroup6=function(){var t,e=[];for(t=0;t<l.GROUPS;t+=2){var i=s("%02x%02x",parseInt(this.parsedAddress[t],10),parseInt(this.parsedAddress[t+1],10));e.push(s("%x",parseInt(i,16)))}return e.join(":")},c.prototype.bigInteger=function(){return this.valid?new n(this.parsedAddress.map(function(t){return s("%02x",parseInt(t,10))}).join(""),16):null},c.prototype.startAddress=function(){var t=new n(this.mask()+a(0,l.BITS-this.subnetMask),2);return c.fromBigInteger(t)},c.prototype.endAddress=function(){var t=new n(this.mask()+a(1,l.BITS-this.subnetMask),2);return c.fromBigInteger(t)},c.fromBigInteger=function(t){return c.fromInteger(parseInt(t.toString(),10))},c.prototype.mask=function(t){return void 0===t&&(t=this.subnetMask),this.getBitsBase2(0,t)},c.prototype.getBitsBase2=function(t,e){return this.binaryZeroPad().slice(t,e)},c.prototype.isInSubnet=o.isInSubnet,c.prototype.binaryZeroPad=function(){return r(this.bigInteger().toString(2),l.BITS,"0")},e.exports=c},{"./common.js":8,"./v4/constants.js":11,jsbn:17,"lodash.padstart":21,"lodash.repeat":22,"sprintf-js":25}],10:[function(t,e,i){"use strict";var n=t("jsbn").BigInteger,o=t("lodash.find"),r=t("lodash.max"),a=t("lodash.merge"),s=t("lodash.padstart"),l=t("lodash.repeat"),c=t("sprintf-js").sprintf,u=t("./v4/constants.js"),d=t("./v6/constants.js"),p=t("./ipv4.js");function f(t){return t=(t=t.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2')).replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2')}function h(t,e){this.groups=void 0===e?d.GROUPS:e,this.v4=!1,this.subnet="/128",this.subnetMask=128,this.zone="",this.address=t;var i=d.RE_SUBNET_STRING.exec(t);if(i){if(this.parsedSubnet=i[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>d.BITS)return this.valid=!1,void(this.error="Invalid subnet mask.");t=t.replace(d.RE_SUBNET_STRING,"")}else if(/\//.test(t))return this.valid=!1,void(this.error="Invalid subnet mask.");var n=d.RE_ZONE_STRING.exec(t);n&&(this.zone=n[0],t=t.replace(d.RE_ZONE_STRING,"")),this.addressMinusSuffix=t,this.parsedAddress=this.parse(this.addressMinusSuffix)}function _(t){return c("%04x",parseInt(t,16))}function m(t){return 255&t}a(h.prototype,t("./v6/attributes.js")),a(h.prototype,t("./v6/html.js")),a(h.prototype,t("./v6/regular-expressions.js")),h.fromBigInteger=function(t){var e,i=s(t.toString(16),32,"0"),n=[];for(e=0;e<d.GROUPS;e++)n.push(i.slice(4*e,4*(e+1)));return new h(n.join(":"))},h.fromURL=function(t){var e,i,n;if(-1!==t.indexOf("[")&&-1!==t.indexOf("]:")){if(null===(n=d.RE_URL_WITH_PORT.exec(t)))return{error:"failed to parse address with port",address:null,port:null};e=n[1],i=n[2]}else if(-1!==t.indexOf("/")){if(t=t.replace(/^[a-z0-9]+:\/\//,""),null===(n=d.RE_URL.exec(t)))return{error:"failed to parse address from URL",address:null,port:null};e=n[1]}else e=t;return i?((i=parseInt(i,10))<0||i>65536)&&(i=null):i=null,{address:new h(e),port:i}},h.fromAddress4=function(t){t=new p(t);var e=d.BITS-(u.BITS-t.subnetMask);return new h("::ffff:"+t.correctForm()+"/"+e)},h.fromArpa=function(t){var e=t.replace(/(\.ip6\.arpa)?\.$/,"");if(63!==e.length)return e={error:"Not Valid 'ip6.arpa' form",address:null};e=e.split(".").reverse();for(var i=7;i>0;i--){var n=4*i;e.splice(n,0,":")}return new h(e=e.join(""))},h.prototype.microsoftTranscription=function(){return c("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))},h.prototype.mask=function(t){return void 0===t&&(t=this.subnetMask),this.getBitsBase2(0,t)},h.prototype.possibleSubnets=function(t){void 0===t&&(t=128);var e=d.BITS-this.subnetMask-Math.abs(t-d.BITS);return e<0?"0":function(t){for(var e=/(\d+)(\d{3})/;e.test(t);)t=t.replace(e,"$1,$2");return t}(new n("2",10).pow(e).toString(10))},h.prototype.startAddress=function(){var t=new n(this.mask()+l(0,d.BITS-this.subnetMask),2);return h.fromBigInteger(t)},h.prototype.endAddress=function(){var t=new n(this.mask()+l(1,d.BITS-this.subnetMask),2);return h.fromBigInteger(t)},h.prototype.getScope=function(){var t=d.SCOPES[this.getBits(12,16)];return"Global unicast"===this.getType()&&"Link local"!==t&&(t="Global"),t},h.prototype.getType=function(){var t=this;return o(d.TYPES,function(e,i){return t.isInSubnet(new h(i))})||"Global unicast"},h.prototype.getBits=function(t,e){return new n(this.getBitsBase2(t,e),2)},h.prototype.getBitsBase2=function(t,e){return this.binaryZeroPad().slice(t,e)},h.prototype.getBitsBase16=function(t,e){var i=e-t;return i%4!=0?null:s(this.getBits(t,e).toString(16),i/4,"0")},h.prototype.getBitsPastSubnet=function(){return this.getBitsBase2(this.subnetMask,d.BITS)},h.prototype.reverseForm=function(t){t||(t={});var e=Math.floor(this.subnetMask/4),i=this.canonicalForm().replace(/:/g,"").split("").slice(0,e).reverse().join(".");return e>0?t.omitSuffix?i:c("%s.ip6.arpa.",i):t.omitSuffix?"":"ip6.arpa."},h.prototype.correctForm=function(){if(!this.parsedAddress)return null;var t,e=[],i=0,n=[];for(t=0;t<this.parsedAddress.length;t++){var o=parseInt(this.parsedAddress[t],16);0===o&&i++,0!==o&&i>0&&(i>1&&n.push([t-i,t-1]),i=0)}i>1&&n.push([this.parsedAddress.length-i,this.parsedAddress.length-1]);var a=n.map(function(t){return t[1]-t[0]+1});if(n.length>0){var s=a.indexOf(r(a));e=function(t,e){var i,n=[],o=[];for(i=0;i<t.length;i++)i<e[0]?n.push(t[i]):i>e[1]&&o.push(t[i]);return n.concat(["compact"]).concat(o)}(this.parsedAddress,n[s])}else e=this.parsedAddress;for(t=0;t<e.length;t++)"compact"!==e[t]&&(e[t]=parseInt(e[t],16).toString(16));var l=e.join(":");return l=(l=(l=l.replace(/^compact$/,"::")).replace(/^compact|compact$/,":")).replace(/compact/,"")},h.prototype.binaryZeroPad=function(){return s(this.bigInteger().toString(2),d.BITS,"0")},h.prototype.parse4in6=function(t){var e=t.split(":"),i=e.slice(-1)[0].match(u.RE_ADDRESS);if(i){for(var n=new p(i[0]),o=0;o<n.groups;o++)if(/^0[0-9]+/.test(n.parsedAddress[o]))return this.valid=!1,this.error="IPv4 addresses can not have leading zeroes.",this.parseError=t.replace(u.RE_ADDRESS,n.parsedAddress.map(f).join(".")),null;this.v4=!0,e[e.length-1]=n.toGroup6(),t=e.join(":")}return t},h.prototype.parse=function(t){if(t=this.parse4in6(t),this.error)return null;var e=t.match(d.RE_BAD_CHARACTERS);if(e)return this.valid=!1,this.error=c("Bad character%s detected in address: %s",e.length>1?"s":"",e.join("")),this.parseError=t.replace(d.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'),null;var i=t.match(d.RE_BAD_ADDRESS);if(i)return this.valid=!1,this.error=c("Address failed regex: %s",i.join("")),this.parseError=t.replace(d.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'),null;var n=[],o=t.split("::");if(2===o.length){var r=o[0].split(":"),a=o[1].split(":");1===r.length&&""===r[0]&&(r=[]),1===a.length&&""===a[0]&&(a=[]);var s=this.groups-(r.length+a.length);if(!s)return this.valid=!1,this.error="Error parsing groups",null;this.elidedGroups=s,this.elisionBegin=r.length,this.elisionEnd=r.length+this.elidedGroups,r.forEach(function(t){n.push(t)});for(var l=0;l<s;l++)n.push(0);a.forEach(function(t){n.push(t)})}else{if(1!==o.length)return this.valid=!1,this.error="Too many :: groups found",null;n=t.split(":"),this.elidedGroups=0}return(n=n.map(function(t){return c("%x",parseInt(t,16))})).length!==this.groups?(this.valid=!1,this.error="Incorrect number of groups found",null):(this.valid=!0,n)},h.prototype.canonicalForm=function(){return this.valid?this.parsedAddress.map(_).join(":"):null},h.prototype.decimal=function(){return this.valid?this.parsedAddress.map(function(t){return c("%05d",parseInt(t,16))}).join(":"):null},h.prototype.bigInteger=function(){return this.valid?new n(this.parsedAddress.map(_).join(""),16):null},h.prototype.to4=function(){var t=this.binaryZeroPad().split("");return p.fromHex(new n(t.slice(96,128).join(""),2).toString(16))},h.prototype.to4in6=function(){var t=this.to4(),e=new h(this.parsedAddress.slice(0,6).join(":"),6),i=e.correctForm(),n="";return/:$/.test(i)||(n=":"),e.correctForm()+n+t.address},h.prototype.inspectTeredo=function(){var t=this.getBitsBase16(0,32),e=this.getBits(80,96).xor(new n("ffff",16)).toString(),i=p.fromHex(this.getBitsBase16(32,64)),o=p.fromHex(this.getBits(96,128).xor(new n("ffffffff",16)).toString(16)),r=this.getBits(64,80),a=this.getBitsBase2(64,80),s=r.testBit(15),l=r.testBit(14),u=r.testBit(8),d=r.testBit(9),f=new n(a.slice(2,6)+a.slice(8,16),2).toString(10);return{prefix:c("%s:%s",t.slice(0,4),t.slice(4,8)),server4:i.address,client4:o.address,flags:a,coneNat:s,microsoft:{reserved:l,universalLocal:d,groupIndividual:u,nonce:f},udpPort:e}},h.prototype.inspect6to4=function(){var t=this.getBitsBase16(0,16),e=p.fromHex(this.getBitsBase16(16,48));return{prefix:c("%s",t.slice(0,4)),gateway:e.address}},h.prototype.to6to4=function(){return this.is4()?new h(["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":")):null},h.prototype.toByteArray=function(){var t=this.bigInteger().toByteArray();return 17===t.length&&0===t[0]?t.slice(1):t},h.prototype.toUnsignedByteArray=function(){return this.toByteArray().map(m)},h.fromByteArray=function(t){return this.fromUnsignedByteArray(t.map(m))},h.fromUnsignedByteArray=function(t){for(var e=new n("256",10),i=new n("0",10),o=new n("1",10),r=t.length-1;r>=0;r--)i=i.add(o.multiply(new n(t[r].toString(10),10))),o=o.multiply(e);return h.fromBigInteger(i)},e.exports=h},{"./ipv4.js":9,"./v4/constants.js":11,"./v6/attributes.js":12,"./v6/constants.js":13,"./v6/html.js":15,"./v6/regular-expressions.js":16,jsbn:17,"lodash.find":18,"lodash.max":19,"lodash.merge":20,"lodash.padstart":21,"lodash.repeat":22,"sprintf-js":25}],11:[function(t,e,i){i.BITS=32,i.GROUPS=4,i.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,i.RE_SUBNET_STRING=/\/\d{1,2}$/},{}],12:[function(t,e,i){"use strict";var n=t("../common.js"),o=t("./constants.js");i.isValid=function(){return this.valid},i.isInSubnet=n.isInSubnet,i.isCorrect=n.isCorrect(o.BITS),i.isCanonical=n.falseIfInvalid(function(){return this.addressMinusSuffix===this.canonicalForm()}),i.isLinkLocal=n.falseIfInvalid(function(){return"1111111010000000000000000000000000000000000000000000000000000000"===this.getBitsBase2(0,64)}),i.isMulticast=n.falseIfInvalid(function(){return"Multicast"===this.getType()}),i.is4=n.falseIfInvalid(function(){return this.v4}),i.isTeredo=n.falseIfInvalid(function(){return this.isInSubnet(new this.constructor("2001::/32"))}),i.is6to4=n.falseIfInvalid(function(){return this.isInSubnet(new this.constructor("2002::/16"))}),i.isLoopback=n.falseIfInvalid(function(){return"Loopback"===this.getType()})},{"../common.js":8,"./constants.js":13}],13:[function(t,e,i){i.BITS=128,i.GROUPS=8,i.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"},i.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"},i.RE_BAD_CHARACTERS=/([^0-9a-f:\/%])/gi,i.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi,i.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/,i.RE_ZONE_STRING=/%.*$/,i.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/),i.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)},{}],14:[function(t,e,i){"use strict";var n=t("sprintf-js").sprintf,o=i.spanAllZeroes=function(t){return t.replace(/(0+)/g,'<span class="zero">$1</span>')};function r(t){return t.replace(/^(0+)/,'<span class="zero">$1</span>')}i.spanAll=function(t,e){return void 0===e&&(e=0),t.split("").map(function(t,i){return n('<span class="digit value-%s position-%d">%s</span>',t,i+e,o(t))}).join("")},i.spanLeadingZeroes=function(t){return t.split(":").map(function(t){return r(t)}).join(":")},i.simpleGroup=function(t,e){var i=t.split(":");return e||(e=0),i.map(function(t,i){return/group-v4/.test(t)?t:n('<span class="hover-group group-%d">%s</span>',i+e,r(t))}).join(":")}},{"sprintf-js":25}],15:[function(t,e,i){"use strict";var n=t("../v4/constants.js"),o=t("./helpers.js"),r=t("sprintf-js").sprintf;i.href=function(t){return t=void 0===t?"":r(":%s",t),r("http://[%s]%s/",this.correctForm(),t)},i.link=function(t){t||(t={}),void 0===t.className&&(t.className=""),void 0===t.prefix&&(t.prefix="/#address="),void 0===t.v4&&(t.v4=!1);var e=this.correctForm;return t.v4&&(e=this.to4in6),t.className?r('<a href="%1$s%2$s" class="%3$s">%2$s</a>',t.prefix,e.call(this),t.className):r('<a href="%1$s%2$s">%2$s</a>',t.prefix,e.call(this))},i.group=function(){var t,e=this.address.match(n.RE_ADDRESS);if(e){var i=e[0].split(".");this.address=this.address.replace(n.RE_ADDRESS,r('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',i.slice(0,2).join("."),i.slice(2,4).join(".")))}if(0===this.elidedGroups)return o.simpleGroup(this.address);var a=[],s=this.address.split("::");s[0].length?a.push(o.simpleGroup(s[0])):a.push("");var l=["hover-group"];for(t=this.elisionBegin;t<this.elisionBegin+this.elidedGroups;t++)l.push(r("group-%d",t));return a.push(r('<span class="%s"></span>',l.join(" "))),s[1].length?a.push(o.simpleGroup(s[1],this.elisionEnd)):a.push(""),a.join(":")}},{"../v4/constants.js":11,"./helpers.js":14,"sprintf-js":25}],16:[function(t,e,i){"use strict";var n=t("sprintf-js").sprintf,o=t("./constants.js");function r(t){return n("(%s)",t.join("|"))}function a(t){return t.length<4?n("0{0,%d}%s",4-t.length,t):t}function s(t){var e=[];t.forEach(function(t,i){0===parseInt(t,16)&&e.push(i)});var i=e.map(function(e){return t.map(function(t,i){if(i===e){var n=0===i||i===o.GROUPS-1?":":"";return r([a(t),n])}return a(t)}).join(":")});return i.push(t.map(a).join(":")),r(i)}function l(t,e,i){var o=e?"":":",a=i?"":":",s=[];e||i||s.push("::"),e&&i&&s.push(""),(i&&!e||!i&&e)&&s.push(":"),s.push(n("%s(:0{1,4}){1,%d}",o,t-1)),s.push(n("(0{1,4}:){1,%d}%s",t-1,a)),s.push(n("(0{1,4}:){%d}0{1,4}",t-1));for(var l=1;l<t-1;l++)for(var c=1;c<t-l;c++)s.push(n("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",c,t-c-l-1));return r(s)}i.regularExpressionString=function(t){void 0===t&&(t=!1);var e=[],i=new this.constructor(this.correctForm());if(0===i.elidedGroups)e.push(s(i.parsedAddress));else if(i.elidedGroups===o.GROUPS)e.push(l(o.GROUPS));else{var n=i.address.split("::");n[0].length&&e.push(s(n[0].split(":"))),e.push(l(i.elidedGroups,0!==n[0].length,0!==n[1].length)),n[1].length&&e.push(s(n[1].split(":"))),e=[e.join(":")]}return t||(e=[].concat("(?=^|\\b|[^\\w\\:])(",e,")(?=[^\\w\\:]|\\b|$)")),e.join("")},i.regularExpression=function(t){return new RegExp(this.regularExpressionString(t),"i")}},{"./constants.js":13,"sprintf-js":25}],17:[function(t,e,i){(function(){var t;function n(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function o(){return new n(null)}var r="undefined"!=typeof navigator;r&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(t,e,i,n,o,r){for(var a=32767&e,s=e>>15;--r>=0;){var l=32767&this[t],c=this[t++]>>15,u=s*l+c*a;o=((l=a*l+((32767&u)<<15)+i[n]+(1073741823&o))>>>30)+(u>>>15)+s*c+(o>>>30),i[n++]=1073741823&l}return o},t=30):r&&"Netscape"!=navigator.appName?(n.prototype.am=function(t,e,i,n,o,r){for(;--r>=0;){var a=e*this[t++]+i[n]+o;o=Math.floor(a/67108864),i[n++]=67108863&a}return o},t=26):(n.prototype.am=function(t,e,i,n,o,r){for(var a=16383&e,s=e>>14;--r>=0;){var l=16383&this[t],c=this[t++]>>14,u=s*l+c*a;o=((l=a*l+((16383&u)<<14)+i[n]+o)>>28)+(u>>14)+s*c,i[n++]=268435455&l}return o},t=28),n.prototype.DB=t,n.prototype.DM=(1<<t)-1,n.prototype.DV=1<<t;n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-t,n.prototype.F2=2*t-52;var a,s,l="0123456789abcdefghijklmnopqrstuvwxyz",c=new Array;for(a="0".charCodeAt(0),s=0;s<=9;++s)c[a++]=s;for(a="a".charCodeAt(0),s=10;s<36;++s)c[a++]=s;for(a="A".charCodeAt(0),s=10;s<36;++s)c[a++]=s;function u(t){return l.charAt(t)}function d(t,e){var i=c[t.charCodeAt(e)];return null==i?-1:i}function p(t){var e=o();return e.fromInt(t),e}function f(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i}function h(t){this.m=t}function _(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function m(t,e){return t&e}function g(t,e){return t|e}function v(t,e){return t^e}function E(t,e){return t&~e}function C(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function T(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function S(){}function y(t){return t}function A(t){this.r2=o(),this.q3=o(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}h.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},h.prototype.revert=function(t){return t},h.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},h.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},h.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},_.prototype.convert=function(t){var e=o();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e},_.prototype.revert=function(t){var e=o();return t.copyTo(e),this.reduce(e),e},_.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var i=32767&t[e],n=i*this.mpl+((i*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[i=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},_.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},_.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},n.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},n.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},n.prototype.fromString=function(t,e){var i;if(16==e)i=4;else if(8==e)i=3;else if(256==e)i=8;else if(2==e)i=1;else if(32==e)i=5;else{if(4!=e)return void this.fromRadix(t,e);i=2}this.t=0,this.s=0;for(var o=t.length,r=!1,a=0;--o>=0;){var s=8==i?255&t[o]:d(t,o);s<0?"-"==t.charAt(o)&&(r=!0):(r=!1,0==a?this[this.t++]=s:a+i>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=i)>=this.DB&&(a-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),r&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},n.prototype.dlShiftTo=function(t,e){var i;for(i=this.t-1;i>=0;--i)e[i+t]=this[i];for(i=t-1;i>=0;--i)e[i]=0;e.t=this.t+t,e.s=this.s},n.prototype.drShiftTo=function(t,e){for(var i=t;i<this.t;++i)e[i-t]=this[i];e.t=Math.max(this.t-t,0),e.s=this.s},n.prototype.lShiftTo=function(t,e){var i,n=t%this.DB,o=this.DB-n,r=(1<<o)-1,a=Math.floor(t/this.DB),s=this.s<<n&this.DM;for(i=this.t-1;i>=0;--i)e[i+a+1]=this[i]>>o|s,s=(this[i]&r)<<n;for(i=a-1;i>=0;--i)e[i]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()},n.prototype.rShiftTo=function(t,e){e.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)e.t=0;else{var n=t%this.DB,o=this.DB-n,r=(1<<n)-1;e[0]=this[i]>>n;for(var a=i+1;a<this.t;++a)e[a-i-1]|=(this[a]&r)<<o,e[a-i]=this[a]>>n;n>0&&(e[this.t-i-1]|=(this.s&r)<<o),e.t=this.t-i,e.clamp()}},n.prototype.subTo=function(t,e){for(var i=0,n=0,o=Math.min(t.t,this.t);i<o;)n+=this[i]-t[i],e[i++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;i<this.t;)n+=this[i],e[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<t.t;)n-=t[i],e[i++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[i++]=this.DV+n:n>0&&(e[i++]=n),e.t=i,e.clamp()},n.prototype.multiplyTo=function(t,e){var i=this.abs(),o=t.abs(),r=i.t;for(e.t=r+o.t;--r>=0;)e[r]=0;for(r=0;r<o.t;++r)e[r+i.t]=i.am(0,o[r],e,r,0,i.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)},n.prototype.squareTo=function(t){for(var e=this.abs(),i=t.t=2*e.t;--i>=0;)t[i]=0;for(i=0;i<e.t-1;++i){var n=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,n,e.t-i-1))>=e.DV&&(t[i+e.t]-=e.DV,t[i+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t.clamp()},n.prototype.divRemTo=function(t,e,i){var r=t.abs();if(!(r.t<=0)){var a=this.abs();if(a.t<r.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=o());var s=o(),l=this.s,c=t.s,u=this.DB-f(r[r.t-1]);u>0?(r.lShiftTo(u,s),a.lShiftTo(u,i)):(r.copyTo(s),a.copyTo(i));var d=s.t,p=s[d-1];if(0!=p){var h=p*(1<<this.F1)+(d>1?s[d-2]>>this.F2:0),_=this.FV/h,m=(1<<this.F1)/h,g=1<<this.F2,v=i.t,E=v-d,C=null==e?o():e;for(s.dlShiftTo(E,C),i.compareTo(C)>=0&&(i[i.t++]=1,i.subTo(C,i)),n.ONE.dlShiftTo(d,C),C.subTo(s,s);s.t<d;)s[s.t++]=0;for(;--E>=0;){var T=i[--v]==p?this.DM:Math.floor(i[v]*_+(i[v-1]+g)*m);if((i[v]+=s.am(0,T,i,E,0,d))<T)for(s.dlShiftTo(E,C),i.subTo(C,i);i[v]<--T;)i.subTo(C,i)}null!=e&&(i.drShiftTo(d,e),l!=c&&n.ZERO.subTo(e,e)),i.t=d,i.clamp(),u>0&&i.rShiftTo(u,i),l<0&&n.ZERO.subTo(i,i)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},n.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},n.prototype.exp=function(t,e){if(t>4294967295||t<1)return n.ONE;var i=o(),r=o(),a=e.convert(this),s=f(t)-1;for(a.copyTo(i);--s>=0;)if(e.sqrTo(i,r),(t&1<<s)>0)e.mulTo(r,a,i);else{var l=i;i=r,r=l}return e.revert(i)},n.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var i,n=(1<<e)-1,o=!1,r="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(i=this[a]>>s)>0&&(o=!0,r=u(i));a>=0;)s<e?(i=(this[a]&(1<<s)-1)<<e-s,i|=this[--a]>>(s+=this.DB-e)):(i=this[a]>>(s-=e)&n,s<=0&&(s+=this.DB,--a)),i>0&&(o=!0),o&&(r+=u(i));return o?r:"0"},n.prototype.negate=function(){var t=o();return n.ZERO.subTo(this,t),t},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var i=this.t;if(0!=(e=i-t.t))return this.s<0?-e:e;for(;--i>=0;)if(0!=(e=this[i]-t[i]))return e;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+f(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(t){var e=o();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e},n.prototype.modPowInt=function(t,e){var i;return i=t<256||e.isEven()?new h(e):new _(e),this.exp(t,i)},n.ZERO=p(0),n.ONE=p(1),S.prototype.convert=y,S.prototype.revert=y,S.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i)},S.prototype.sqrTo=function(t,e){t.squareTo(e)},A.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=o();return t.copyTo(e),this.reduce(e),e},A.prototype.revert=function(t){return t},A.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},A.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},A.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var b,I,O,R=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],D=(1<<26)/R[R.length-1];function w(){var t;t=(new Date).getTime(),I[O++]^=255&t,I[O++]^=t>>8&255,I[O++]^=t>>16&255,I[O++]^=t>>24&255,O>=x&&(O-=x)}if(n.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},n.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),i=Math.pow(t,e),n=p(i),r=o(),a=o(),s="";for(this.divRemTo(n,r,a);r.signum()>0;)s=(i+a.intValue()).toString(t).substr(1)+s,r.divRemTo(n,r,a);return a.intValue().toString(t)+s},n.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var i=this.chunkSize(e),o=Math.pow(e,i),r=!1,a=0,s=0,l=0;l<t.length;++l){var c=d(t,l);c<0?"-"==t.charAt(l)&&0==this.signum()&&(r=!0):(s=e*s+c,++a>=i&&(this.dMultiply(o),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),r&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(t,e,i){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),g,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var o=new Array,r=7&t;o.length=1+(t>>3),e.nextBytes(o),r>0?o[0]&=(1<<r)-1:o[0]=0,this.fromString(o,256)}},n.prototype.bitwiseTo=function(t,e,i){var n,o,r=Math.min(t.t,this.t);for(n=0;n<r;++n)i[n]=e(this[n],t[n]);if(t.t<this.t){for(o=t.s&this.DM,n=r;n<this.t;++n)i[n]=e(this[n],o);i.t=this.t}else{for(o=this.s&this.DM,n=r;n<t.t;++n)i[n]=e(o,t[n]);i.t=t.t}i.s=e(this.s,t.s),i.clamp()},n.prototype.changeBit=function(t,e){var i=n.ONE.shiftLeft(t);return this.bitwiseTo(i,e,i),i},n.prototype.addTo=function(t,e){for(var i=0,n=0,o=Math.min(t.t,this.t);i<o;)n+=this[i]+t[i],e[i++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;i<this.t;)n+=this[i],e[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<t.t;)n+=t[i],e[i++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[i++]=n:n<-1&&(e[i++]=this.DV+n),e.t=i,e.clamp()},n.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},n.prototype.multiplyLowerTo=function(t,e,i){var n,o=Math.min(this.t+t.t,e);for(i.s=0,i.t=o;o>0;)i[--o]=0;for(n=i.t-this.t;o<n;++o)i[o+this.t]=this.am(0,t[o],i,o,0,this.t);for(n=Math.min(t.t,e);o<n;++o)this.am(0,t[o],i,o,0,e-o);i.clamp()},n.prototype.multiplyUpperTo=function(t,e,i){--e;var n=i.t=this.t+t.t-e;for(i.s=0;--n>=0;)i[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)i[this.t+n-e]=this.am(e-n,t[n],i,0,0,this.t+n-e);i.clamp(),i.drShiftTo(1,i)},n.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,i=this.s<0?t-1:0;if(this.t>0)if(0==e)i=this[0]%t;else for(var n=this.t-1;n>=0;--n)i=(e*i+this[n])%t;return i},n.prototype.millerRabin=function(t){var e=this.subtract(n.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var r=e.shiftRight(i);(t=t+1>>1)>R.length&&(t=R.length);for(var a=o(),s=0;s<t;++s){a.fromInt(R[Math.floor(Math.random()*R.length)]);var l=a.modPow(r,this);if(0!=l.compareTo(n.ONE)&&0!=l.compareTo(e)){for(var c=1;c++<i&&0!=l.compareTo(e);)if(0==(l=l.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=l.compareTo(e))return!1}}return!0},n.prototype.clone=function(){var t=o();return this.copyTo(t),t},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var i,n=this.DB-t*this.DB%8,o=0;if(t-- >0)for(n<this.DB&&(i=this[t]>>n)!=(this.s&this.DM)>>n&&(e[o++]=i|this.s<<this.DB-n);t>=0;)n<8?(i=(this[t]&(1<<n)-1)<<8-n,i|=this[--t]>>(n+=this.DB-8)):(i=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&i)&&(i|=-256),0==o&&(128&this.s)!=(128&i)&&++o,(o>0||i!=this.s)&&(e[o++]=i);return e},n.prototype.equals=function(t){return 0==this.compareTo(t)},n.prototype.min=function(t){return this.compareTo(t)<0?this:t},n.prototype.max=function(t){return this.compareTo(t)>0?this:t},n.prototype.and=function(t){var e=o();return this.bitwiseTo(t,m,e),e},n.prototype.or=function(t){var e=o();return this.bitwiseTo(t,g,e),e},n.prototype.xor=function(t){var e=o();return this.bitwiseTo(t,v,e),e},n.prototype.andNot=function(t){var e=o();return this.bitwiseTo(t,E,e),e},n.prototype.not=function(){for(var t=o(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},n.prototype.shiftLeft=function(t){var e=o();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},n.prototype.shiftRight=function(t){var e=o();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},n.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+C(this[t]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,i=0;i<this.t;++i)t+=T(this[i]^e);return t},n.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},n.prototype.setBit=function(t){return this.changeBit(t,g)},n.prototype.clearBit=function(t){return this.changeBit(t,E)},n.prototype.flipBit=function(t){return this.changeBit(t,v)},n.prototype.add=function(t){var e=o();return this.addTo(t,e),e},n.prototype.subtract=function(t){var e=o();return this.subTo(t,e),e},n.prototype.multiply=function(t){var e=o();return this.multiplyTo(t,e),e},n.prototype.divide=function(t){var e=o();return this.divRemTo(t,e,null),e},n.prototype.remainder=function(t){var e=o();return this.divRemTo(t,null,e),e},n.prototype.divideAndRemainder=function(t){var e=o(),i=o();return this.divRemTo(t,e,i),new Array(e,i)},n.prototype.modPow=function(t,e){var i,n,r=t.bitLength(),a=p(1);if(r<=0)return a;i=r<18?1:r<48?3:r<144?4:r<768?5:6,n=r<8?new h(e):e.isEven()?new A(e):new _(e);var s=new Array,l=3,c=i-1,u=(1<<i)-1;if(s[1]=n.convert(this),i>1){var d=o();for(n.sqrTo(s[1],d);l<=u;)s[l]=o(),n.mulTo(d,s[l-2],s[l]),l+=2}var m,g,v=t.t-1,E=!0,C=o();for(r=f(t[v])-1;v>=0;){for(r>=c?m=t[v]>>r-c&u:(m=(t[v]&(1<<r+1)-1)<<c-r,v>0&&(m|=t[v-1]>>this.DB+r-c)),l=i;0==(1&m);)m>>=1,--l;if((r-=l)<0&&(r+=this.DB,--v),E)s[m].copyTo(a),E=!1;else{for(;l>1;)n.sqrTo(a,C),n.sqrTo(C,a),l-=2;l>0?n.sqrTo(a,C):(g=a,a=C,C=g),n.mulTo(C,s[m],a)}for(;v>=0&&0==(t[v]&1<<r);)n.sqrTo(a,C),g=a,a=C,C=g,--r<0&&(r=this.DB-1,--v)}return n.revert(a)},n.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var i=t.clone(),o=this.clone(),r=p(1),a=p(0),s=p(0),l=p(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),e?(r.isEven()&&a.isEven()||(r.addTo(this,r),a.subTo(t,a)),r.rShiftTo(1,r)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;o.isEven();)o.rShiftTo(1,o),e?(s.isEven()&&l.isEven()||(s.addTo(this,s),l.subTo(t,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);i.compareTo(o)>=0?(i.subTo(o,i),e&&r.subTo(s,r),a.subTo(l,a)):(o.subTo(i,o),e&&s.subTo(r,s),l.subTo(a,l))}return 0!=o.compareTo(n.ONE)?n.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l},n.prototype.pow=function(t){return this.exp(t,new S)},n.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(e.compareTo(i)<0){var n=e;e=i,i=n}var o=e.getLowestSetBit(),r=i.getLowestSetBit();if(r<0)return e;for(o<r&&(r=o),r>0&&(e.rShiftTo(r,e),i.rShiftTo(r,i));e.signum()>0;)(o=e.getLowestSetBit())>0&&e.rShiftTo(o,e),(o=i.getLowestSetBit())>0&&i.rShiftTo(o,i),e.compareTo(i)>=0?(e.subTo(i,e),e.rShiftTo(1,e)):(i.subTo(e,i),i.rShiftTo(1,i));return r>0&&i.lShiftTo(r,i),i},n.prototype.isProbablePrime=function(t){var e,i=this.abs();if(1==i.t&&i[0]<=R[R.length-1]){for(e=0;e<R.length;++e)if(i[0]==R[e])return!0;return!1}if(i.isEven())return!1;for(e=1;e<R.length;){for(var n=R[e],o=e+1;o<R.length&&n<D;)n*=R[o++];for(n=i.modInt(n);e<o;)if(n%R[e++]==0)return!1}return i.millerRabin(t)},n.prototype.square=function(){var t=o();return this.squareTo(t),t},n.prototype.Barrett=A,null==I){var N;if(I=new Array,O=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var L=new Uint8Array(32);for(window.crypto.getRandomValues(L),N=0;N<32;++N)I[O++]=L[N]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var M=window.crypto.random(32);for(N=0;N<M.length;++N)I[O++]=255&M.charCodeAt(N)}for(;O<x;)N=Math.floor(65536*Math.random()),I[O++]=N>>>8,I[O++]=255&N;O=0,w()}function P(){if(null==b){for(w(),(b=new B).init(I),O=0;O<I.length;++O)I[O]=0;O=0}return b.next()}function k(){}function B(){this.i=0,this.j=0,this.S=new Array}k.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=P()},B.prototype.init=function(t){var e,i,n;for(e=0;e<256;++e)this.S[e]=e;for(i=0,e=0;e<256;++e)i=i+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[i],this.S[i]=n;this.i=0,this.j=0},B.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var x=256;void 0!==i?i=e.exports={default:n,BigInteger:n,SecureRandom:k}:this.jsbn={BigInteger:n,SecureRandom:k}}).call(this)},{}],18:[function(t,e,i){(function(t){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var n=200,o="Expected a function",r="__lodash_hash_undefined__",a=1,s=2,l=1/0,c=9007199254740991,u=1.7976931348623157e308,d=NaN,p="[object Arguments]",f="[object Array]",h="[object Boolean]",_="[object Date]",m="[object Error]",g="[object Function]",v="[object GeneratorFunction]",E="[object Map]",C="[object Number]",T="[object Object]",S="[object RegExp]",y="[object Set]",A="[object String]",b="[object Symbol]",I="[object ArrayBuffer]",O="[object DataView]",R=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,D=/^\w*$/,w=/^\./,N=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,L=/^\s+|\s+$/g,M=/\\(\\)?/g,P=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,B=/^\[object .+?Constructor\]$/,x=/^0o[0-7]+$/i,U=/^(?:0|[1-9]\d*)$/,F={};F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F[p]=F[f]=F[I]=F[h]=F[O]=F[_]=F[m]=F[g]=F[E]=F[C]=F[T]=F[S]=F[y]=F[A]=F["[object WeakMap]"]=!1;var G=parseInt,V="object"==typeof t&&t&&t.Object===Object&&t,H="object"==typeof self&&self&&self.Object===Object&&self,j=V||H||Function("return this")(),W="object"==typeof i&&i&&!i.nodeType&&i,z=W&&"object"==typeof e&&e&&!e.nodeType&&e,$=z&&z.exports===W&&V.process,K=function(){try{return $&&$.binding("util")}catch(t){}}(),q=K&&K.isTypedArray;function Y(t,e){for(var i=-1,n=t?t.length:0;++i<n;)if(e(t[i],i,t))return!0;return!1}function X(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function Q(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}function J(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}var Z,tt,et,it=Array.prototype,nt=Function.prototype,ot=Object.prototype,rt=j["__core-js_shared__"],at=(Z=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",st=nt.toString,lt=ot.hasOwnProperty,ct=ot.toString,ut=RegExp("^"+st.call(lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=j.Symbol,pt=j.Uint8Array,ft=ot.propertyIsEnumerable,ht=it.splice,_t=(tt=Object.keys,et=Object,function(t){return tt(et(t))}),mt=Math.max,gt=Kt(j,"DataView"),vt=Kt(j,"Map"),Et=Kt(j,"Promise"),Ct=Kt(j,"Set"),Tt=Kt(j,"WeakMap"),St=Kt(Object,"create"),yt=ee(gt),At=ee(vt),bt=ee(Et),It=ee(Ct),Ot=ee(Tt),Rt=dt?dt.prototype:void 0,Dt=Rt?Rt.valueOf:void 0,wt=Rt?Rt.toString:void 0;function Nt(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Lt(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Mt(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Pt(t){var e=-1,i=t?t.length:0;for(this.__data__=new Mt;++e<i;)this.add(t[e])}function kt(t){this.__data__=new Lt(t)}function Bt(t,e){var i=se(t)||ae(t)?function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}(t.length,String):[],n=i.length,o=!!n;for(var r in t)!e&&!lt.call(t,r)||o&&("length"==r||Yt(r,n))||i.push(r);return i}function xt(t,e){for(var i=t.length;i--;)if(re(t[i][0],e))return i;return-1}function Ut(t,e){for(var i=0,n=(e=Xt(e,t)?[e]:Wt(e)).length;null!=t&&i<n;)t=t[te(e[i++])];return i&&i==n?t:void 0}function Ft(t,e){return null!=t&&e in Object(t)}function Gt(t,e,i,n,o){return t===e||(null==t||null==e||!de(t)&&!pe(e)?t!=t&&e!=e:function(t,e,i,n,o,r){var l=se(t),c=se(e),u=f,d=f;l||(u=(u=qt(t))==p?T:u);c||(d=(d=qt(e))==p?T:d);var g=u==T&&!X(t),v=d==T&&!X(e),R=u==d;if(R&&!g)return r||(r=new kt),l||he(t)?zt(t,e,i,n,o,r):function(t,e,i,n,o,r,l){switch(i){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I:return!(t.byteLength!=e.byteLength||!n(new pt(t),new pt(e)));case h:case _:case C:return re(+t,+e);case m:return t.name==e.name&&t.message==e.message;case S:case A:return t==e+"";case E:var c=Q;case y:var u=r&s;if(c||(c=J),t.size!=e.size&&!u)return!1;var d=l.get(t);if(d)return d==e;r|=a,l.set(t,e);var p=zt(c(t),c(e),n,o,r,l);return l.delete(t),p;case b:if(Dt)return Dt.call(t)==Dt.call(e)}return!1}(t,e,u,i,n,o,r);if(!(o&s)){var D=g&&lt.call(t,"__wrapped__"),w=v&&lt.call(e,"__wrapped__");if(D||w){var N=D?t.value():t,L=w?e.value():e;return r||(r=new kt),i(N,L,n,o,r)}}if(!R)return!1;return r||(r=new kt),function(t,e,i,n,o,r){var a=o&s,l=_e(t),c=l.length,u=_e(e).length;if(c!=u&&!a)return!1;for(var d=c;d--;){var p=l[d];if(!(a?p in e:lt.call(e,p)))return!1}var f=r.get(t);if(f&&r.get(e))return f==e;var h=!0;r.set(t,e),r.set(e,t);for(var _=a;++d<c;){p=l[d];var m=t[p],g=e[p];if(n)var v=a?n(g,m,p,e,t,r):n(m,g,p,t,e,r);if(!(void 0===v?m===g||i(m,g,n,o,r):v)){h=!1;break}_||(_="constructor"==p)}if(h&&!_){var E=t.constructor,C=e.constructor;E!=C&&"constructor"in t&&"constructor"in e&&!("function"==typeof E&&E instanceof E&&"function"==typeof C&&C instanceof C)&&(h=!1)}return r.delete(t),r.delete(e),h}(t,e,i,n,o,r)}(t,e,Gt,i,n,o))}function Vt(t){return!(!de(t)||at&&at in t)&&(ce(t)||X(t)?ut:B).test(ee(t))}function Ht(t){return"function"==typeof t?t:null==t?me:"object"==typeof t?se(t)?function(t,e){if(Xt(t)&&Qt(e))return Jt(te(t),e);return function(i){var n=function(t,e,i){var n=null==t?void 0:Ut(t,e);return void 0===n?i:n}(i,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,i){var n,o=-1,r=(e=Xt(e,t)?[e]:Wt(e)).length;for(;++o<r;){var a=te(e[o]);if(!(n=null!=t&&i(t,a)))break;t=t[a]}if(n)return n;return!!(r=t?t.length:0)&&ue(r)&&Yt(a,r)&&(se(t)||ae(t))}(t,e,Ft)}(i,t):Gt(e,n,void 0,a|s)}}(t[0],t[1]):function(t){var e=function(t){var e=_e(t),i=e.length;for(;i--;){var n=e[i],o=t[n];e[i]=[n,o,Qt(o)]}return e}(t);if(1==e.length&&e[0][2])return Jt(e[0][0],e[0][1]);return function(i){return i===t||function(t,e,i,n){var o=i.length,r=o,l=!n;if(null==t)return!r;for(t=Object(t);o--;){var c=i[o];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<r;){var u=(c=i[o])[0],d=t[u],p=c[1];if(l&&c[2]){if(void 0===d&&!(u in t))return!1}else{var f=new kt;if(n)var h=n(d,p,u,t,e,f);if(!(void 0===h?Gt(p,d,n,a|s,f):h))return!1}}return!0}(i,t,e)}}(t):Xt(e=t)?(i=te(e),function(t){return null==t?void 0:t[i]}):function(t){return function(e){return Ut(e,t)}}(e);var e,i}function jt(t){if(i=(e=t)&&e.constructor,n="function"==typeof i&&i.prototype||ot,e!==n)return _t(t);var e,i,n,o=[];for(var r in Object(t))lt.call(t,r)&&"constructor"!=r&&o.push(r);return o}function Wt(t){return se(t)?t:Zt(t)}function zt(t,e,i,n,o,r){var l=o&s,c=t.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var d=r.get(t);if(d&&r.get(e))return d==e;var p=-1,f=!0,h=o&a?new Pt:void 0;for(r.set(t,e),r.set(e,t);++p<c;){var _=t[p],m=e[p];if(n)var g=l?n(m,_,p,e,t,r):n(_,m,p,t,e,r);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!Y(e,function(t,e){if(!h.has(e)&&(_===t||i(_,t,n,o,r)))return h.add(e)})){f=!1;break}}else if(_!==m&&!i(_,m,n,o,r)){f=!1;break}}return r.delete(t),r.delete(e),f}function $t(t,e){var i,n,o=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof e?"string":"hash"]:o.map}function Kt(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return Vt(i)?i:void 0}Nt.prototype.clear=function(){this.__data__=St?St(null):{}},Nt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Nt.prototype.get=function(t){var e=this.__data__;if(St){var i=e[t];return i===r?void 0:i}return lt.call(e,t)?e[t]:void 0},Nt.prototype.has=function(t){var e=this.__data__;return St?void 0!==e[t]:lt.call(e,t)},Nt.prototype.set=function(t,e){return this.__data__[t]=St&&void 0===e?r:e,this},Lt.prototype.clear=function(){this.__data__=[]},Lt.prototype.delete=function(t){var e=this.__data__,i=xt(e,t);return!(i<0||(i==e.length-1?e.pop():ht.call(e,i,1),0))},Lt.prototype.get=function(t){var e=this.__data__,i=xt(e,t);return i<0?void 0:e[i][1]},Lt.prototype.has=function(t){return xt(this.__data__,t)>-1},Lt.prototype.set=function(t,e){var i=this.__data__,n=xt(i,t);return n<0?i.push([t,e]):i[n][1]=e,this},Mt.prototype.clear=function(){this.__data__={hash:new Nt,map:new(vt||Lt),string:new Nt}},Mt.prototype.delete=function(t){return $t(this,t).delete(t)},Mt.prototype.get=function(t){return $t(this,t).get(t)},Mt.prototype.has=function(t){return $t(this,t).has(t)},Mt.prototype.set=function(t,e){return $t(this,t).set(t,e),this},Pt.prototype.add=Pt.prototype.push=function(t){return this.__data__.set(t,r),this},Pt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.clear=function(){this.__data__=new Lt},kt.prototype.delete=function(t){return this.__data__.delete(t)},kt.prototype.get=function(t){return this.__data__.get(t)},kt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.set=function(t,e){var i=this.__data__;if(i instanceof Lt){var o=i.__data__;if(!vt||o.length<n-1)return o.push([t,e]),this;i=this.__data__=new Mt(o)}return i.set(t,e),this};var qt=function(t){return ct.call(t)};function Yt(t,e){return!!(e=null==e?c:e)&&("number"==typeof t||U.test(t))&&t>-1&&t%1==0&&t<e}function Xt(t,e){if(se(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!fe(t))||(D.test(t)||!R.test(t)||null!=e&&t in Object(e))}function Qt(t){return t==t&&!de(t)}function Jt(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in Object(i)))}}(gt&&qt(new gt(new ArrayBuffer(1)))!=O||vt&&qt(new vt)!=E||Et&&"[object Promise]"!=qt(Et.resolve())||Ct&&qt(new Ct)!=y||Tt&&"[object WeakMap]"!=qt(new Tt))&&(qt=function(t){var e=ct.call(t),i=e==T?t.constructor:void 0,n=i?ee(i):void 0;if(n)switch(n){case yt:return O;case At:return E;case bt:return"[object Promise]";case It:return y;case Ot:return"[object WeakMap]"}return e});var Zt=oe(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(fe(t))return wt?wt.call(t):"";var e=t+"";return"0"==e&&1/t==-l?"-0":e}(e);var i=[];return w.test(t)&&i.push(""),t.replace(N,function(t,e,n,o){i.push(n?o.replace(M,"$1"):e||t)}),i});function te(t){if("string"==typeof t||fe(t))return t;var e=t+"";return"0"==e&&1/t==-l?"-0":e}function ee(t){if(null!=t){try{return st.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var ie,ne=(ie=function(t,e,i){var n=t?t.length:0;if(!n)return-1;var o,r,a=null==i?0:(o=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(fe(t))return d;if(de(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=de(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(L,"");var i=k.test(t);return i||x.test(t)?G(t.slice(2),i?2:8):P.test(t)?d:+t}(t))===l||t===-l){var e=t<0?-1:1;return e*u}return t==t?t:0}(i),r=o%1,o==o?r?o-r:o:0);return a<0&&(a=mt(n+a,0)),function(t,e,i,n){for(var o=t.length,r=i+(n?1:-1);n?r--:++r<o;)if(e(t[r],r,t))return r;return-1}(t,Ht(e),a)},function(t,e,i){var n=Object(t);if(!le(t)){var o=Ht(e);t=_e(t),e=function(t){return o(n[t],t,n)}}var r=ie(t,e,i);return r>-1?n[o?t[r]:r]:void 0});function oe(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var i=function(){var n=arguments,o=e?e.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var a=t.apply(this,n);return i.cache=r.set(o,a),a};return i.cache=new(oe.Cache||Mt),i}function re(t,e){return t===e||t!=t&&e!=e}function ae(t){return function(t){return pe(t)&&le(t)}(t)&&lt.call(t,"callee")&&(!ft.call(t,"callee")||ct.call(t)==p)}oe.Cache=Mt;var se=Array.isArray;function le(t){return null!=t&&ue(t.length)&&!ce(t)}function ce(t){var e=de(t)?ct.call(t):"";return e==g||e==v}function ue(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function de(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function pe(t){return!!t&&"object"==typeof t}function fe(t){return"symbol"==typeof t||pe(t)&&ct.call(t)==b}var he=q?function(t){return function(e){return t(e)}}(q):function(t){return pe(t)&&ue(t.length)&&!!F[ct.call(t)]};function _e(t){return le(t)?Bt(t):jt(t)}function me(t){return t}e.exports=ne}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e,i){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var n="[object Symbol]",o=Object.prototype.toString;function r(t,e){return t>e}function a(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&o.call(t)==n}function s(t){return t}e.exports=function(t){return t&&t.length?function(t,e,i){for(var n=-1,o=t.length;++n<o;){var r=t[n],s=e(r);if(null!=s&&(void 0===l?s==s&&!a(s):i(s,l)))var l=s,c=r}return c}(t,s,r):void 0}},{}],20:[function(t,e,i){(function(t){
/**
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var n=200,o="__lodash_hash_undefined__",r=800,a=16,s=9007199254740991,l="[object Arguments]",c="[object AsyncFunction]",u="[object Function]",d="[object GeneratorFunction]",p="[object Null]",f="[object Object]",h="[object Proxy]",_="[object Undefined]",m=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[l]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v[u]=v["[object Map]"]=v["[object Number]"]=v[f]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1;var E="object"==typeof t&&t&&t.Object===Object&&t,C="object"==typeof self&&self&&self.Object===Object&&self,T=E||C||Function("return this")(),S="object"==typeof i&&i&&!i.nodeType&&i,y=S&&"object"==typeof e&&e&&!e.nodeType&&e,A=y&&y.exports===S,b=A&&E.process,I=function(){try{return b&&b.binding&&b.binding("util")}catch(t){}}(),O=I&&I.isTypedArray;function R(t,e){return"__proto__"==e?void 0:t[e]}var D,w,N,L=Array.prototype,M=Function.prototype,P=Object.prototype,k=T["__core-js_shared__"],B=M.toString,x=P.hasOwnProperty,U=(D=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",F=P.toString,G=B.call(Object),V=RegExp("^"+B.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=A?T.Buffer:void 0,j=T.Symbol,W=T.Uint8Array,z=H?H.allocUnsafe:void 0,$=(w=Object.getPrototypeOf,N=Object,function(t){return w(N(t))}),K=Object.create,q=P.propertyIsEnumerable,Y=L.splice,X=j?j.toStringTag:void 0,Q=function(){try{var t=St(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),J=H?H.isBuffer:void 0,Z=Math.max,tt=Date.now,et=St(T,"Map"),it=St(Object,"create"),nt=function(){function t(){}return function(e){if(!Mt(e))return{};if(K)return K(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function ot(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function rt(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function at(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function st(t){var e=this.__data__=new rt(t);this.size=e.size}function lt(t,e){var i=Rt(t),n=!i&&Ot(t),o=!i&&!n&&wt(t),r=!i&&!n&&!o&&kt(t),a=i||n||o||r,s=a?function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}(t.length,String):[],l=s.length;for(var c in t)!e&&!x.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yt(c,l))||s.push(c);return s}function ct(t,e,i){(void 0===i||It(t[e],i))&&(void 0!==i||e in t)||pt(t,e,i)}function ut(t,e,i){var n=t[e];x.call(t,e)&&It(n,i)&&(void 0!==i||e in t)||pt(t,e,i)}function dt(t,e){for(var i=t.length;i--;)if(It(t[i][0],e))return i;return-1}function pt(t,e,i){"__proto__"==e&&Q?Q(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}ot.prototype.clear=function(){this.__data__=it?it(null):{},this.size=0},ot.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ot.prototype.get=function(t){var e=this.__data__;if(it){var i=e[t];return i===o?void 0:i}return x.call(e,t)?e[t]:void 0},ot.prototype.has=function(t){var e=this.__data__;return it?void 0!==e[t]:x.call(e,t)},ot.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=it&&void 0===e?o:e,this},rt.prototype.clear=function(){this.__data__=[],this.size=0},rt.prototype.delete=function(t){var e=this.__data__,i=dt(e,t);return!(i<0||(i==e.length-1?e.pop():Y.call(e,i,1),--this.size,0))},rt.prototype.get=function(t){var e=this.__data__,i=dt(e,t);return i<0?void 0:e[i][1]},rt.prototype.has=function(t){return dt(this.__data__,t)>-1},rt.prototype.set=function(t,e){var i=this.__data__,n=dt(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this},at.prototype.clear=function(){this.size=0,this.__data__={hash:new ot,map:new(et||rt),string:new ot}},at.prototype.delete=function(t){var e=Tt(this,t).delete(t);return this.size-=e?1:0,e},at.prototype.get=function(t){return Tt(this,t).get(t)},at.prototype.has=function(t){return Tt(this,t).has(t)},at.prototype.set=function(t,e){var i=Tt(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},st.prototype.clear=function(){this.__data__=new rt,this.size=0},st.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},st.prototype.get=function(t){return this.__data__.get(t)},st.prototype.has=function(t){return this.__data__.has(t)},st.prototype.set=function(t,e){var i=this.__data__;if(i instanceof rt){var o=i.__data__;if(!et||o.length<n-1)return o.push([t,e]),this.size=++i.size,this;i=this.__data__=new at(o)}return i.set(t,e),this.size=i.size,this};var ft,ht=function(t,e,i){for(var n=-1,o=Object(t),r=i(t),a=r.length;a--;){var s=r[ft?a:++n];if(!1===e(o[s],s,o))break}return t};function _t(t){return null==t?void 0===t?_:p:X&&X in Object(t)?function(t){var e=x.call(t,X),i=t[X];try{t[X]=void 0;var n=!0}catch(t){}var o=F.call(t);n&&(e?t[X]=i:delete t[X]);return o}(t):function(t){return F.call(t)}(t)}function mt(t){return Pt(t)&&_t(t)==l}function gt(t){return!(!Mt(t)||U&&U in t)&&(Nt(t)?V:m).test(function(t){if(null!=t){try{return B.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function vt(t){if(!Mt(t))return function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}(t);var e=At(t),i=[];for(var n in t)("constructor"!=n||!e&&x.call(t,n))&&i.push(n);return i}function Et(t,e,i,n,o){t!==e&&ht(e,function(r,a){if(Mt(r))o||(o=new st),function(t,e,i,n,o,r,a){var s=R(t,i),l=R(e,i),c=a.get(l);if(c)return void ct(t,i,c);var u=r?r(s,l,i+"",t,e,a):void 0,d=void 0===u;if(d){var p=Rt(l),h=!p&&wt(l),_=!p&&!h&&kt(l);u=l,p||h||_?Rt(s)?u=s:Pt(C=s)&&Dt(C)?u=function(t,e){var i=-1,n=t.length;e||(e=Array(n));for(;++i<n;)e[i]=t[i];return e}(s):h?(d=!1,u=function(t,e){if(e)return t.slice();var i=t.length,n=z?z(i):new t.constructor(i);return t.copy(n),n}(l,!0)):_?(d=!1,m=l,g=!0?(v=m.buffer,E=new v.constructor(v.byteLength),new W(E).set(new W(v)),E):m.buffer,u=new m.constructor(g,m.byteOffset,m.length)):u=[]:function(t){if(!Pt(t)||_t(t)!=f)return!1;var e=$(t);if(null===e)return!0;var i=x.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&B.call(i)==G}(l)||Ot(l)?(u=s,Ot(s)?u=function(t){return function(t,e,i,n){var o=!i;i||(i={});var r=-1,a=e.length;for(;++r<a;){var s=e[r],l=n?n(i[s],t[s],s,i,t):void 0;void 0===l&&(l=t[s]),o?pt(i,s,l):ut(i,s,l)}return i}(t,Bt(t))}(s):(!Mt(s)||n&&Nt(s))&&(u=function(t){return"function"!=typeof t.constructor||At(t)?{}:nt($(t))}(l))):d=!1}var m,g,v,E;var C;d&&(a.set(l,u),o(u,l,n,r,a),a.delete(l));ct(t,i,u)}(t,e,a,i,Et,n,o);else{var s=n?n(R(t,a),r,a+"",t,e,o):void 0;void 0===s&&(s=r),ct(t,a,s)}},Bt)}function Ct(t,e){return bt(function(t,e,i){return e=Z(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,r=Z(n.length-e,0),a=Array(r);++o<r;)a[o]=n[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=n[o];return s[e]=i(a),function(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}(t,this,s)}}(t,e,Ft),t+"")}function Tt(t,e){var i,n,o=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof e?"string":"hash"]:o.map}function St(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return gt(i)?i:void 0}function yt(t,e){var i=typeof t;return!!(e=null==e?s:e)&&("number"==i||"symbol"!=i&&g.test(t))&&t>-1&&t%1==0&&t<e}function At(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||P)}var bt=function(t){var e=0,i=0;return function(){var n=tt(),o=a-(n-i);if(i=n,o>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Q?function(t,e){return Q(t,"toString",{configurable:!0,enumerable:!1,value:(i=e,function(){return i}),writable:!0});var i}:Ft);function It(t,e){return t===e||t!=t&&e!=e}var Ot=mt(function(){return arguments}())?mt:function(t){return Pt(t)&&x.call(t,"callee")&&!q.call(t,"callee")},Rt=Array.isArray;function Dt(t){return null!=t&&Lt(t.length)&&!Nt(t)}var wt=J||function(){return!1};function Nt(t){if(!Mt(t))return!1;var e=_t(t);return e==u||e==d||e==c||e==h}function Lt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function Mt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Pt(t){return null!=t&&"object"==typeof t}var kt=O?function(t){return function(e){return t(e)}}(O):function(t){return Pt(t)&&Lt(t.length)&&!!v[_t(t)]};function Bt(t){return Dt(t)?lt(t,!0):vt(t)}var xt,Ut=(xt=function(t,e,i){Et(t,e,i)},Ct(function(t,e){var i=-1,n=e.length,o=n>1?e[n-1]:void 0,r=n>2?e[2]:void 0;for(o=xt.length>3&&"function"==typeof o?(n--,o):void 0,r&&function(t,e,i){if(!Mt(i))return!1;var n=typeof e;return!!("number"==n?Dt(i)&&yt(e,i.length):"string"==n&&e in i)&&It(i[e],t)}(e[0],e[1],r)&&(o=n<3?void 0:o,n=1),t=Object(t);++i<n;){var a=e[i];a&&xt(t,a,i,o)}return t}));function Ft(t){return t}e.exports=Ut}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(t,e,i){(function(t){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var i,n=1/0,o=9007199254740991,r=1.7976931348623157e308,a=NaN,s="[object Symbol]",l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,p="[\\ud800-\\udfff]",f="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",h="\\ud83c[\\udffb-\\udfff]",_="[^\\ud800-\\udfff]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="(?:"+f+"|"+h+")"+"?",E="[\\ufe0e\\ufe0f]?"+v+("(?:\\u200d(?:"+[_,m,g].join("|")+")[\\ufe0e\\ufe0f]?"+v+")*"),C="(?:"+[_+f+"?",f,m,g,p].join("|")+")",T=RegExp(h+"(?="+h+")|"+C+E,"g"),S=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),y=parseInt,A="object"==typeof t&&t&&t.Object===Object&&t,b="object"==typeof self&&self&&self.Object===Object&&self,I=A||b||Function("return this")(),O=(i="length",function(t){return null==t?void 0:t[i]});function R(t){return S.test(t)}function D(t){return R(t)?function(t){var e=T.lastIndex=0;for(;T.test(t);)e++;return e}(t):O(t)}function w(t){return R(t)?function(t){return t.match(T)||[]}(t):function(t){return t.split("")}(t)}var N=Object.prototype.toString,L=I.Symbol,M=Math.ceil,P=Math.floor,k=L?L.prototype:void 0,B=k?k.toString:void 0;function x(t,e){var i="";if(!t||e<1||e>o)return i;do{e%2&&(i+=t),(e=P(e/2))&&(t+=t)}while(e);return i}function U(t){if("string"==typeof t)return t;if(V(t))return B?B.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}function F(t,e,i){var n=t.length;return i=void 0===i?n:i,!e&&i>=n?t:function(t,e,i){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(i=i>o?o:i)<0&&(i+=o),o=e>i?0:i-e>>>0,e>>>=0;for(var r=Array(o);++n<o;)r[n]=t[n+e];return r}(t,e,i)}function G(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function V(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&N.call(t)==s}function H(t){return t?(t=function(t){if("number"==typeof t)return t;if(V(t))return a;if(G(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=G(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var i=u.test(t);return i||d.test(t)?y(t.slice(2),i?2:8):c.test(t)?a:+t}(t))===n||t===-n?(t<0?-1:1)*r:t==t?t:0:0===t?t:0}e.exports=function(t,e,i){var n;t=null==(n=t)?"":U(n);var o=(e=function(t){var e=H(t),i=e%1;return e==e?i?e-i:e:0}(e))?D(t):0;return e&&o<e?function(t,e){var i=(e=void 0===e?" ":U(e)).length;if(i<2)return i?x(e,t):e;var n=x(e,M(t/D(e)));return R(e)?F(w(n),0,t).join(""):n.slice(0,t)}(e-o,i)+t:t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(t,e,i){(function(t){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var i=1/0,n=9007199254740991,o=1.7976931348623157e308,r=NaN,a="[object Function]",s="[object GeneratorFunction]",l="[object Symbol]",c=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,f=/^(?:0|[1-9]\d*)$/,h=parseInt,_="object"==typeof t&&t&&t.Object===Object&&t,m="object"==typeof self&&self&&self.Object===Object&&self,g=_||m||Function("return this")(),v=Object.prototype.toString,E=g.Symbol,C=Math.floor,T=E?E.prototype:void 0,S=T?T.toString:void 0;function y(t,e,i){if(!A(i))return!1;var o=typeof e;return!!("number"==o?function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=A(t)?v.call(t):"";return e==a||e==s}(t)}(i)&&function(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||f.test(t))&&t>-1&&t%1==0&&t<e}(e,i.length):"string"==o&&e in i)&&function(t,e){return t===e||t!=t&&e!=e}(i[e],t)}function A(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&v.call(t)==l}function I(t){return t?(t=function(t){if("number"==typeof t)return t;if(b(t))return r;if(A(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=A(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var i=d.test(t);return i||p.test(t)?h(t.slice(2),i?2:8):u.test(t)?r:+t}(t))===i||t===-i?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}function O(t){return null==t?"":function(t){if("string"==typeof t)return t;if(b(t))return S?S.call(t):"";var e=t+"";return"0"==e&&1/t==-i?"-0":e}(t)}e.exports=function(t,e,i){var o,r;return(i?y(t,e,i):void 0===e)?e=1:(o=I(e),r=o%1,e=o==o?r?o-r:o:0),function(t,e){var i="";if(!t||e<1||e>n)return i;do{e%2&&(i+=t),(e=C(e/2))&&(t+=t)}while(e);return i}(O(t),e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty;function o(t,e){return Array.isArray(t)?function(t,e){for(var i,n="",r="",a=Array.isArray(e),s=0;s<t.length;s++)(i=o(t[s]))&&(a&&e[s]&&(i=l(i)),n=n+r+i,r=" ");return n}(t,e):t&&"object"==typeof t?function(t){var e="",i="";for(var o in t)o&&t[o]&&n.call(t,o)&&(e=e+i+o,i=" ");return e}(t):t||""}function r(t){if(!t)return"";if("object"==typeof t){var e="";for(var i in t)n.call(t,i)&&(e=e+i+":"+t[i]+";");return e}return t+""}function a(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=l(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}i.merge=function t(e,i){if(1===arguments.length){for(var n=e[0],o=1;o<e.length;o++)n=t(n,e[o]);return n}for(var a in i)if("class"===a){var s=e[a]||[];e[a]=(Array.isArray(s)?s:[s]).concat(i[a]||[])}else if("style"===a){var s=r(e[a]);s=s&&";"!==s[s.length-1]?s+";":s;var l=r(i[a]);l=l&&";"!==l[l.length-1]?l+";":l,e[a]=s+l}else e[a]=i[a];return e},i.classes=o,i.style=r,i.attr=a,i.attrs=function(t,e){var i="";for(var s in t)if(n.call(t,s)){var l=t[s];if("class"===s){l=o(l),i=a(s,l,!1,e)+i;continue}"style"===s&&(l=r(l)),i+=a(s,l,!1,e)}return i};var s=/["&<>]/;function l(t){var e=""+t,i=s.exec(e);if(!i)return t;var n,o,r,a="";for(n=i.index,o=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}o!==n&&(a+=e.substring(o,n)),o=n+1,a+=r}return o!==n?a+e.substring(o,n):a}i.escape=l,i.rethrow=function e(i,n,o,r){if(!(i instanceof Error))throw i;if(!("undefined"==typeof window&&n||r))throw i.message+=" on line "+o,i;try{r=r||t("fs").readFileSync(n,"utf8")}catch(t){e(i,null,o)}var a=3,s=r.split("\n"),l=Math.max(o-a,0),c=Math.min(s.length,o+a);var a=s.slice(l,c).map(function(t,e){var i=e+l+1;return(i==o?"  > ":"    ")+i+"| "+t}).join("\n");i.path=n;i.message=(n||"Pug")+":"+o+"\n"+a+"\n\n"+i.message;throw i}},{fs:2}],24:[function(t,e,i){(function(i,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var a="function"==typeof Object.assign?Object.assign:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");var e=Object(t),i=[].slice.call(arguments,1);return i.length>0&&i.forEach(function(t){if(void 0!==t&&null!==t){var i=void 0;for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}}),e},s=Array.prototype.includes?function(t){var e=[].slice.call(arguments,1);return Array.prototype.includes.apply(t,e)}:function(t,e){var i=Object(t),n=parseInt(i.length,10)||0;if(0===n)return!1;var o=parseInt(arguments[2],10)||0,r=void 0;for(o>=0?r=o:(r=n+o)<0&&(r=0);r<n;){var a=i[r];if(e===a||e!=e&&a!=a)return!0;r++}return!1};function l(t,e){function i(){var i=this.super;this.super=function(){return e.apply(this,arguments)};var n=t.apply(this,arguments);return this.super=i,n}return i.wrappedFunction=t,i}function c(t,e,i){var n=Object.getPrototypeOf(i);t.forEach(function(t){var o=Object.getOwnPropertyDescriptor(e,t),r=n.hasOwnProperty(t)&&Object.getOwnPropertyDescriptor(n,t);if("function"==typeof r.value&&"function"==typeof o.value){var a=l(o.value,r.value);Object.defineProperty(i,t,{value:a})}else Object.defineProperty(i,t,o)})}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object,i=l(t.constructor,e),n=Object.getOwnPropertyNames(t).filter(function(t){return!s(["constructor","static"],t)});a(i,e),i.prototype=Object.create(e.prototype),c(n,t,i.prototype),i.prototype.constructor=i;var o=t.static;o&&c(Object.getOwnPropertyNames(o),o,i);return i}var d=u({constructor:function(){},static:{extend:function(t){return u(t,this)}}});function p(t){return function(){var e=[].concat(Array.prototype.slice.call(arguments));e.unshift("[JS-BUY-SDK]: "),function(){(console[t]?Function.prototype.bind.call(console[t],console):Function.prototype.bind.call(console.log,console)).apply(void 0,arguments)}.apply(void 0,r(e))}}var f=new(d.extend({constructor:function(){},debug:p("debug"),info:p("info"),warn:p("warn"),error:p("error")})),h=d.extend({constructor:function(t){var e=this;Object.keys(this.deprecatedProperties).forEach(function(i){if(t.hasOwnProperty(i)){var n=e.deprecatedProperties[i];(0,e[n])(t[i],t)}}),this.requiredProperties.forEach(function(i){if(!t.hasOwnProperty(i))throw new Error("new Config() requires the option '"+i+"'");e[i]=t[i]}),this.optionalProperties.forEach(function(i){t.hasOwnProperty(i)&&(e[i]=t[i])})},deprecatedProperties:{myShopifyDomain:"transformMyShopifyDomain"},transformMyShopifyDomain:function(t,e){f.warn("Config - ","myShopifyDomain is deprecated, please use domain and provide the full shop domain."),e.domain=t+".myshopify.com"},requiredProperties:["apiKey","appId","domain"],optionalProperties:["ajaxHeaders"],apiKey:"",appId:"",domain:"",myShopifyDomain:"",ajaxHeaders:{}}),_=d.extend({constructor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.attrs=t,a(this,e)},attrs:null,serializer:null,adapter:null,shopClient:null}),m=_.extend(Object.defineProperties({constructor:function(){this.super.apply(this,arguments),this.selected=this.values[0]}},{name:{get:function(){return this.attrs.name},configurable:!0,enumerable:!0},values:{get:function(){return this.attrs.values},configurable:!0,enumerable:!0},selected:{get:function(){return this._selected},set:function(t){if(!s(this.values,t))throw new Error("Invalid option selection for "+this.name+".");return this._selected=t,t},configurable:!0,enumerable:!0}})),g=[{name:"pico",dimension:"16x16"},{name:"icon",dimension:"32x32"},{name:"thumb",dimension:"50x50"},{name:"small",dimension:"100x100"},{name:"compact",dimension:"160x160"},{name:"medium",dimension:"240x240"},{name:"large",dimension:"480x480"},{name:"grande",dimension:"600x600"},{name:"1024x1024",dimension:"1024x1024"},{name:"2048x2048",dimension:"2048x2048"}],v=d.extend(Object.defineProperties({constructor:function(t){var e=this;Object.keys(t).forEach(function(i){e[i]=t[i]})}},{variants:{get:function(){var t=this.src,e=t.lastIndexOf("."),i=t.slice(0,e),n=t.slice(e);return g.forEach(function(t){t.src=i+"_"+t.name+n}),g},configurable:!0,enumerable:!0}})),E=_.extend(Object.defineProperties({constructor:function(){this.super.apply(this,arguments)},checkoutUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.config;return"https://"+e.domain+"/cart"+"/"+(this.id+":"+parseInt(t,10))+"?"+("access_token="+e.apiKey+"&_fd=0")}},{id:{get:function(){return this.attrs.variant.id},configurable:!0,enumerable:!0},productId:{get:function(){return this.attrs.product.id},configurable:!0,enumerable:!0},title:{get:function(){return this.attrs.variant.title},configurable:!0,enumerable:!0},productTitle:{get:function(){return this.attrs.product.title},configurable:!0,enumerable:!0},compareAtPrice:{get:function(){return this.attrs.variant.compare_at_price},configurable:!0,enumerable:!0},price:{get:function(){return this.attrs.variant.price},configurable:!0,enumerable:!0},formattedPrice:{get:function(){return this.attrs.variant.formatted_price},configurable:!0,enumerable:!0},grams:{get:function(){return this.attrs.variant.grams},configurable:!0,enumerable:!0},optionValues:{get:function(){return this.attrs.variant.option_values},configurable:!0,enumerable:!0},available:{get:function(){return this.attrs.variant.available},configurable:!0,enumerable:!0},image:{get:function(){var t=this.id,e=this.attrs.product.images,i=e[0],n=e.filter(function(e){return-1!==e.variant_ids.indexOf(t)})[0]||i;return n?new v(n):null},configurable:!0,enumerable:!0},imageVariants:{get:function(){return this.image?this.image.variants:[]},configurable:!0,enumerable:!0}})),C=_.extend(Object.defineProperties({constructor:function(){this.super.apply(this,arguments)}},{id:{get:function(){return this.attrs.product_id},configurable:!0,enumerable:!0},title:{get:function(){return this.attrs.title},configurable:!0,enumerable:!0},description:{get:function(){return this.attrs.body_html},configurable:!0,enumerable:!0},images:{get:function(){return this.attrs.images.map(function(t){return new v(t)})},configurable:!0,enumerable:!0},memoized:{get:function(){return this._memoized=this._memoized||{},this._memoized},configurable:!0,enumerable:!0},options:{get:function(){if(this.memoized.options)return this.memoized.options;var t=this.attrs.options,e=this.variants;return this.memoized.options=t.map(function(t){var i=t.name,n=e.reduce(function(e,i){var n=i.optionValues.filter(function(e){return e.name===t.name})[0];return e.push(n.value),e},[]),o=n.reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[]);return new m({name:i,values:o})}),this.memoized.options},configurable:!0,enumerable:!0},variants:{get:function(){var t=this;return this.attrs.variants.map(function(e){return new E({variant:e,product:t},{config:t.config})})},configurable:!0,enumerable:!0},selections:{get:function(){return this.options.map(function(t){return t.selected})},configurable:!0,enumerable:!0},selectedVariant:{get:function(){var t=this.selections.join(" / ");return this.variants.filter(function(e){return e.title===t})[0]||null},configurable:!0,enumerable:!0},selectedVariantImage:{get:function(){return this.selectedVariant?this.selectedVariant.image:null},configurable:!0,enumerable:!0}})),T=d.extend({constructor:function(t){this.config=t},rootKeyForType:function(t){return t.slice(0,-1)+"_listing"},models:{collections:_,products:C},modelForType:function(t){return this.models[t]},deserializeSingle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e[this.rootKeyForType(t)];return this.modelFromAttrs(t,n,i)},deserializeMultiple:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i[this.rootKeyForType(t)+"s"].map(function(i){return e.modelFromAttrs(t,i,n)})},modelFromAttrs:function(t,e,i){var n=this.modelForType(t);return i.config=this.config,new n(e,i)}});function S(t,e,i){return new Promise(function(n,o){var r=new XDomainRequest;function a(){o(new Error("There was an error with the XDR"))}r.onload=function(){try{var t=JSON.parse(r.responseText);n({json:t,originalResponse:r,isJSON:!0})}catch(t){n({text:r.responseText,originalResponse:r,isText:!0})}},r.onerror=a,r.ontimeout=a,r.open(t,function(t,e){var i=void 0;if(e.headers&&Object.keys(e.headers).forEach(function(t){"authorization"===t.toLowerCase()&&(i=e.headers[t])}),i){var n=i.split(" ").slice(-1)[0];try{var o=atob(n);return t.indexOf("?")>-1?t+"&_x_http_authorization="+o:t+"?_x_http_authorization="+o}catch(t){}}return t}(e,i)),r.send(i.data)})}function y(){return"undefined"==typeof window&&"function"==typeof t}function A(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.status=t.status,e.response=t,e}function b(t){return t.json().then(function(e){return{json:e,originalResponse:t,isJSON:!0}}).catch(function(){var e=t.clone();return e.text().then(function(t){return{text:t,originalResponse:e,isText:!0}})})}var I=d.extend(Object.defineProperties({ajax:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y()||"withCredentials"in new XMLHttpRequest?(i.method=t,i.mode="cors",fetch(e,i).then(A).then(b)):S.apply(void 0,arguments)},constructor:function(t){this.config=t},pathForType:function(t){return"/"+t.slice(0,-1)+"_listings"},buildUrl:function(t,e,i){switch(t){case"multiple":return this.buildMultipleUrl(e,i);case"single":return this.buildSingleUrl(e,i);default:return""}},buildMultipleUrl:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=""+this.baseUrl+this.pathForType(t),n=Object.keys(e);return n.length>0?i+"?"+n.map(function(t){var i=void 0;return i=Array.isArray(e[t])?e[t].join(","):e[t],t+"="+encodeURIComponent(i)}).join("&"):i},buildSingleUrl:function(t,e){return""+this.baseUrl+this.pathForType(t)+"/"+e},fetchMultiple:function(){var t=this.buildUrl.apply(this,["multiple"].concat(Array.prototype.slice.call(arguments)));return this.ajax("GET",t,{headers:this.headers}).then(function(t){return t.json})},fetchSingle:function(){var t=this.buildUrl.apply(this,["single"].concat(Array.prototype.slice.call(arguments)));return this.ajax("GET",t,{headers:this.headers}).then(function(t){return t.json})}},{base64ApiKey:{get:function(){return btoa(this.config.apiKey)},configurable:!0,enumerable:!0},baseUrl:{get:function(){var t=this.config;return"https://"+t.domain+"/api/apps/"+t.appId},configurable:!0,enumerable:!0},headers:{get:function(){return a({},{Authorization:"Basic "+this.base64ApiKey,"Content-Type":"application/json","X-SDK-Variant":"javascript","X-SDK-Version":"v0.6.2-c8f438f"},this.config.ajaxHeaders)},configurable:!0,enumerable:!0}})),O="shopify-buy-uuid",R=_.extend(Object.defineProperties({constructor:function(){this.super.apply(this,arguments)}},{id:{get:function(){return this.attrs[O]},configurable:!0,enumerable:!0},variant_id:{get:function(){return this.attrs.variant_id},configurable:!0,enumerable:!0},product_id:{get:function(){return this.attrs.product_id},configurable:!0,enumerable:!0},image:{get:function(){return this.attrs.image?new v(this.attrs.image):null},configurable:!0,enumerable:!0},imageVariants:{get:function(){return this.image?this.image.variants:[]},configurable:!0,enumerable:!0},title:{get:function(){return this.attrs.title},configurable:!0,enumerable:!0},quantity:{get:function(){return this.attrs.quantity},set:function(t){var e=parseInt(t,10);if(e<0)throw new Error("Quantities must be positive");if(e!==parseFloat(t))throw new Error("Quantities must be whole numbers");return this.attrs.quantity=e,this.attrs.quantity},configurable:!0,enumerable:!0},properties:{get:function(){return this.attrs.properties||{}},set:function(t){return this.attrs.properties=t||{},t},configurable:!0,enumerable:!0},variant_title:{get:function(){return this.attrs.variant_title},configurable:!0,enumerable:!0},price:{get:function(){return this.attrs.price},configurable:!0,enumerable:!0},compare_at_price:{get:function(){return this.attrs.compare_at_price},configurable:!0,enumerable:!0},line_price:{get:function(){return(this.quantity*parseFloat(this.price)).toFixed(2)},configurable:!0,enumerable:!0},grams:{get:function(){return this.attrs.grams},configurable:!0,enumerable:!0}})),D="shopify-buy."+Date.now(),w={writable:!0,configurable:!0,enumerable:!0,value:null},N=0;function L(){return++N}var M={},P={};function k(t){if(t&&t[O])return t[O];if(void 0===t)return"(undefined)";if(null===t)return"(null)";var e=void 0;switch(void 0===t?"undefined":o(t)){case"number":(e=M[t])||(e=M[t]="nu"+t);break;case"string":(e=P[t])||(e=P[t]="st"+L());break;case"boolean":e=t?"(true)":"(false)";break;default:if(t===Object){e="(Object)";break}if(t===Array){e="(Array)";break}e=D+"."+L(),null===t[O]?t[O]=e:(w.value=e,Object.defineProperty(t,O,w))}return e}var B=void 0;B=void 0===i?window:i;var x={set:function(t,e){B[t]||(B[t]=e)},get:function(t){return B[t]}};var U=_.extend(Object.defineProperties({constructor:function(){this.super.apply(this,arguments)},addVariants:function(){return f.warn("CartModel - ","addVariants is deprecated, please use createLineItemsFromVariants instead"),this.createLineItemsFromVariants.apply(this,arguments)},createLineItemsFromVariants:function(){var t=[].concat(Array.prototype.slice.call(arguments)).map(function(t){var e={image:t.variant.image,image_variants:t.variant.imageVariants,variant_id:t.variant.id,product_id:t.variant.productId,title:t.variant.productTitle,quantity:parseInt(t.quantity,10),properties:t.properties||{},variant_title:t.variant.title,price:t.variant.price,compare_at_price:t.variant.compareAtPrice,grams:t.variant.grams};return k(e),e}),e=this.attrs.line_items;e.push.apply(e,r(t));var i=e.reduce(function(t,e){var i=t.filter(function(t){return t.variant_id===e.variant_id&&function t(e,i){return e===i||Object.keys(e).every(function(n){return e[n]instanceof Date?e[n].toString()===i[n].toString():"object"===o(e[n])?t(e[n],i[n]):e[n]===i[n]})}(t.properties,e.properties)})[0];return i?i.quantity=i.quantity+e.quantity:t.push(e),t},[]);return this.attrs.line_items=i.reduce(function(t,e){return e.quantity>=1&&t.push(e),t},[]),this.updateModel()},updateLineItem:function(t,e){if(e<1)return this.removeLineItem(t);var i=this.lineItems.filter(function(e){return e.id===t})[0];return i?(i.quantity=e,this.updateModel()):new Promise(function(e,i){i(new Error("line item with id: "+t+" not found in cart#"+this.id))})},removeLineItem:function(t){var e=this.lineItems.length,i=this.lineItems.filter(function(e){return e.id!==t});return i.length<e?(this.attrs.line_items=i.map(function(t){return t.attrs}),this.updateModel()):new Promise(function(e,i){i(new Error("line item with id: "+t+" not found in cart#"+this.id))})},clearLineItems:function(){return this.attrs.line_items=[],this.updateModel()},updateModel:function(){var t=this;return this.shopClient.update("carts",this).then(function(e){return a(t.attrs,e.attrs),t})}},{id:{get:function(){return this.attrs[O]},configurable:!0,enumerable:!0},lineItems:{get:function(){return(this.attrs.line_items||[]).map(function(t){return new R(t)})},configurable:!0,enumerable:!0},lineItemCount:{get:function(){return this.lineItems.reduce(function(t,e){return t+e.quantity},0)},configurable:!0,enumerable:!0},subtotal:{get:function(){return this.lineItems.reduce(function(t,e){return t+parseFloat(e.line_price)},0).toFixed(2)},configurable:!0,enumerable:!0},checkoutUrl:{get:function(){var t=this.config,e="https://"+t.domain+"/cart",i=x.get("ga"),n=this.lineItems.map(function(t){return t.variant_id+":"+t.quantity}),o="access_token="+t.apiKey+"&_fd=0";if("function"==typeof i){var r=void 0;i(function(t){r=t.get("linkerParam")}),r&&(o+="&"+r)}return e+"/"+n+"?"+o},configurable:!0,enumerable:!0}})),F=d.extend({constructor:function(t){this.config=t},rootKeyForType:function(t){return t.slice(0,-1)},modelForType:function(){return U},deserializeSingle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e[this.rootKeyForType(t)];return this.modelFromAttrs(t,n,i)},modelFromAttrs:function(t,e,i){var n=this.modelForType(t);return i.config=this.config,new n(e,i)},serialize:function(t,e){var i=this.rootKeyForType(t),n={},o=a({},e.attrs);return n[i]=o,delete o.attributes,Object.keys(o).forEach(function(t){var e=o[t];(null===e||"string"==typeof e&&0===e.length)&&delete o[t]}),n}}),G=_.extend(Object.defineProperties({constructor:function(t){if(Object.keys(t).indexOf("referenceId")<0)throw new Error("Missing key referenceId of reference. References to null are not allowed");this.super.apply(this,arguments)}},{id:{get:function(){return this.attrs[O]},configurable:!0,enumerable:!0},referenceId:{get:function(){return this.attrs.referenceId},set:function(t){return this.attrs.referenceId=t,t},configurable:!0,enumerable:!0}})),V=d.extend({constructor:function(t){this.config=t},modelForType:function(){return G},deserializeSingle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new(this.modelForType(t))(e,i)},serialize:function(t,e){return a({},e.attrs)}}),H=d.extend({constructor:function(){this.localStorageAvailable=this.storageAvailable("localStorage"),this.cache={}},setItem:function(t,e){return this.localStorageAvailable?localStorage.setItem(t,JSON.stringify(e)):this.cache[t]=e,e},getItem:function(t){if(!this.localStorageAvailable)return this.cache[t]||null;var e=localStorage.getItem(t);try{return JSON.parse(e)}catch(t){return null}},storageAvailable:function(t){try{var e=x.get(t),i="__storage_test__";return e.setItem(i,i),e.removeItem(i),!0}catch(t){return!1}}}),j=d.extend({constructor:function(){this.store=new H},idKeyForType:function(){return O},fetchSingle:function(t,e){var i=this;return new Promise(function(n,o){var r=i.store.getItem(i.storageKey(t,e));null!==r?n(r):o(new Error(t+"#"+e+" not found"))})},create:function(t,e){var i=this;return new Promise(function(n){var o=i.identify(e);i.store.setItem(i.storageKey(t,o),e),n(e)})},update:function(t,e,i){var n=this;return new Promise(function(o){n.store.setItem(n.storageKey(t,e),i),o(i)})},storageKey:function(t,e){return t+"."+e},identify:function(t){var e=Object.keys(t);return 1===e.length&&"object"===o(t[e[0]])?k(t[e[0]]):k(t)}});function W(t,e){var i=void 0;switch(t){case"all":i=function(){return this.fetchAll(e)};break;case"one":i=function(){return this.fetch.apply(this,[e].concat(Array.prototype.slice.call(arguments)))};break;case"query":i=function(){return this.fetchQuery.apply(this,[e].concat(Array.prototype.slice.call(arguments)))}}return i}var z=d.extend(Object.defineProperties({constructor:function(t){this.config=t,this.serializers={products:T,collections:T,carts:F,references:V},this.adapters={products:I,collections:I,carts:j,references:j}},config:null,fetchAll:function(t){var e=this,i=new this.adapters[t](this.config);return i.fetchMultiple(t).then(function(n){return e.deserialize(t,n,i,null,{multiple:!0})})},fetch:function(t,e){var i=this,n=new this.adapters[t](this.config);return n.fetchSingle(t,e).then(function(e){return i.deserialize(t,e,n,null,{single:!0})})},fetchQuery:function(t,e){var i=this,n=new this.adapters[t](this.config);return n.fetchMultiple(t,e).then(function(e){return i.deserialize(t,e,n,null,{multiple:!0})})},create:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new this.adapters[t](this.config),o=new this.serializers[t](this.config),r=new(o.modelForType(t))(i,{shopClient:this}),a=o.serialize(t,r);return n.create(t,a).then(function(i){return e.deserialize(t,i,n,o,{single:!0})})},update:function(t,e){var i=this,n=e.adapter,o=e.serializer,r=o.serialize(t,e),a=e.attrs[n.idKeyForType(t)];return n.update(t,a,r).then(function(e){return i.deserialize(t,e,n,o,{single:!0})})},deserialize:function(t,e,i,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=n||new this.serializers[t](this.config),a={shopClient:this,adapter:i,serializer:r,type:t};return o.multiple?r.deserializeMultiple(t,e,a):r.deserializeSingle(t,e,a)},createCart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};return a(e,{line_items:[]}),a(e,t),this.create("carts",e)},updateCart:function(t){return this.update("carts",t)},fetchCart:W("one","carts"),fetchAllProducts:W("all","products"),fetchAllCollections:W("all","collections"),fetchProduct:W("one","products"),fetchCollection:W("one","collections"),fetchQueryProducts:W("query","products"),fetchQueryCollections:W("query","collections"),fetchRecentCart:function(){var t=this;return this.fetch("references",this.config.domain+".recent-cart").then(function(e){var i=e.referenceId;return t.fetchCart(i)}).catch(function(){return t.createCart().then(function(e){var i={referenceId:e.id};return i[O]=t.config.domain+".recent-cart",t.create("references",i),e})})}},{serializers:{get:function(){return a({},this.shadowedSerializers)},set:function(t){this.shadowedSerializers=a({},t)},configurable:!0,enumerable:!0},adapters:{get:function(){return a({},this.shadowedAdapters)},set:function(t){this.shadowedAdapters=a({},t)},configurable:!0,enumerable:!0}}));if(y()){var $=t("node-fetch");x.set("fetch",$),x.set("Response",$.Response)}y()&&x.set("btoa",function(t){return new n(t).toString("base64")});var K={ShopClient:z,Config:h,version:"v0.6.2-c8f438f",NO_IMAGE_URI:"https://widgets.shopifyapps.com/assets/no-image.svg",buildClient:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new this.Config(t);return new this.ShopClient(e)}};e.exports=K}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{buffer:3}],25:[function(t,e,i){!function(t){"use strict";var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function n(){var t=arguments[0],e=n.cache;return e[t]||(e[t]=n.parse(t)),n.format.call(null,e[t],arguments)}n.format=function(t,i){var o,a,l,c,u,d,p,f=1,h=t.length,_="",m=[],g=!0,v="";for(a=0;a<h;a++)if("string"===(_=r(t[a])))m[m.length]=t[a];else if("array"===_){if((c=t[a])[2])for(o=i[f],l=0;l<c[2].length;l++){if(!o.hasOwnProperty(c[2][l]))throw new Error(n('[sprintf] property "%s" does not exist',c[2][l]));o=o[c[2][l]]}else o=c[1]?i[c[1]]:i[f++];if(e.not_type.test(c[8])&&e.not_primitive.test(c[8])&&"function"==r(o)&&(o=o()),e.numeric_arg.test(c[8])&&"number"!=r(o)&&isNaN(o))throw new TypeError(n("[sprintf] expecting number but found %s",r(o)));switch(e.number.test(c[8])&&(g=o>=0),c[8]){case"b":o=parseInt(o,10).toString(2);break;case"c":o=String.fromCharCode(parseInt(o,10));break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,c[6]?parseInt(c[6]):0);break;case"e":o=c[7]?parseFloat(o).toExponential(c[7]):parseFloat(o).toExponential();break;case"f":o=c[7]?parseFloat(o).toFixed(c[7]):parseFloat(o);break;case"g":o=c[7]?parseFloat(o).toPrecision(c[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=String(o),o=c[7]?o.substring(0,c[7]):o;break;case"t":o=String(!!o),o=c[7]?o.substring(0,c[7]):o;break;case"T":o=r(o),o=c[7]?o.substring(0,c[7]):o;break;case"u":o=parseInt(o,10)>>>0;break;case"v":o=o.valueOf(),o=c[7]?o.substring(0,c[7]):o;break;case"x":o=parseInt(o,10).toString(16);break;case"X":o=parseInt(o,10).toString(16).toUpperCase()}e.json.test(c[8])?m[m.length]=o:(!e.number.test(c[8])||g&&!c[3]?v="":(v=g?"+":"-",o=o.toString().replace(e.sign,"")),d=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",p=c[6]-(v+o).length,u=c[6]&&p>0?s(d,p):"",m[m.length]=c[5]?v+o+u:"0"===d?v+u+o:u+v+o)}return m.join("")},n.cache=Object.create(null),n.parse=function(t){for(var i=t,n=[],o=[],r=0;i;){if(null!==(n=e.text.exec(i)))o[o.length]=n[0];else if(null!==(n=e.modulo.exec(i)))o[o.length]="%";else{if(null===(n=e.placeholder.exec(i)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){r|=1;var a=[],s=n[2],l=[];if(null===(l=e.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a[a.length]=l[1];""!==(s=s.substring(l[0].length));)if(null!==(l=e.key_access.exec(s)))a[a.length]=l[1];else{if(null===(l=e.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a[a.length]=l[1]}n[2]=a}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o[o.length]=n}i=i.substring(n[0].length)}return o};var o=function(t,e,i){return(i=(e||[]).slice(0)).splice(0,0,t),n.apply(null,i)};function r(t){return"number"==typeof t?"number":"string"==typeof t?"string":Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}var a={0:["","0","00","000","0000","00000","000000","0000000"]," ":[""," ","  ","   ","    ","     ","      ","       "],_:["","_","__","___","____","_____","______","_______"]};function s(t,e){return e>=0&&e<=7&&a[t]?a[t][e]:Array(e+1).join(t)}void 0!==i&&(i.sprintf=n,i.vsprintf=o),void 0!==t&&(t.sprintf=n,t.vsprintf=o,"function"==typeof define&&define.amd&&define(function(){return{sprintf:n,vsprintf:o}}))}("undefined"==typeof window?this:window)},{}],26:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./Strings"),a=t("./shared/utils/Browser"),s=t("./ui/RenderDebouncer"),l=t("./ui/Lifecycle"),c=function(t){function e(e){var i=t.call(this)||this;i._terminal=e,i._liveRegionLineCount=0,i._charsToConsume=[],i._accessibilityTreeRoot=document.createElement("div"),i._accessibilityTreeRoot.classList.add("xterm-accessibility"),i._rowContainer=document.createElement("div"),i._rowContainer.classList.add("xterm-accessibility-tree"),i._rowElements=[];for(var n=0;n<i._terminal.rows;n++)i._rowElements[n]=i._createAccessibilityTreeNode(),i._rowContainer.appendChild(i._rowElements[n]);return i._topBoundaryFocusListener=function(t){return i._onBoundaryFocus(t,0)},i._bottomBoundaryFocusListener=function(t){return i._onBoundaryFocus(t,1)},i._rowElements[0].addEventListener("focus",i._topBoundaryFocusListener),i._rowElements[i._rowElements.length-1].addEventListener("focus",i._bottomBoundaryFocusListener),i._refreshRowsDimensions(),i._accessibilityTreeRoot.appendChild(i._rowContainer),i._renderRowsDebouncer=new s.RenderDebouncer(i._terminal,i._renderRows.bind(i)),i._refreshRows(),i._liveRegion=document.createElement("div"),i._liveRegion.classList.add("live-region"),i._liveRegion.setAttribute("aria-live","assertive"),i._accessibilityTreeRoot.appendChild(i._liveRegion),i._terminal.element.insertAdjacentElement("afterbegin",i._accessibilityTreeRoot),i.register(i._renderRowsDebouncer),i.register(i._terminal.addDisposableListener("resize",function(t){return i._onResize(t.cols,t.rows)})),i.register(i._terminal.addDisposableListener("refresh",function(t){return i._refreshRows(t.start,t.end)})),i.register(i._terminal.addDisposableListener("scroll",function(t){return i._refreshRows()})),i.register(i._terminal.addDisposableListener("a11y.char",function(t){return i._onChar(t)})),i.register(i._terminal.addDisposableListener("linefeed",function(){return i._onChar("\n")})),i.register(i._terminal.addDisposableListener("a11y.tab",function(t){return i._onTab(t)})),i.register(i._terminal.addDisposableListener("key",function(t){return i._onKey(t)})),i.register(i._terminal.addDisposableListener("blur",function(){return i._clearLiveRegion()})),i.register(i._terminal.addDisposableListener("dprchange",function(){return i._refreshRowsDimensions()})),i.register(i._terminal.renderer.addDisposableListener("resize",function(){return i._refreshRowsDimensions()})),i.register(l.addDisposableDomListener(window,"resize",function(){return i._refreshRowsDimensions()})),i}return o(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._terminal.element.removeChild(this._accessibilityTreeRoot),this._rowElements.length=0},e.prototype._onBoundaryFocus=function(t,e){var i=t.target,n=this._rowElements[0===e?1:this._rowElements.length-2];if(i.getAttribute("aria-posinset")!==(0===e?"1":""+this._terminal.buffer.lines.length)&&t.relatedTarget===n){var o,r;if(0===e?(o=i,r=this._rowElements.pop(),this._rowContainer.removeChild(r)):(o=this._rowElements.shift(),r=i,this._rowContainer.removeChild(o)),o.removeEventListener("focus",this._topBoundaryFocusListener),r.removeEventListener("focus",this._bottomBoundaryFocusListener),0===e){var a=this._createAccessibilityTreeNode();this._rowElements.unshift(a),this._rowContainer.insertAdjacentElement("afterbegin",a)}else{a=this._createAccessibilityTreeNode();this._rowElements.push(a),this._rowContainer.appendChild(a)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===e?-1:1),this._rowElements[0===e?1:this._rowElements.length-2].focus(),t.preventDefault(),t.stopImmediatePropagation()}},e.prototype._onResize=function(t,e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var i=this._rowContainer.children.length;i<this._terminal.rows;i++)this._rowElements[i]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[i]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},e.prototype._createAccessibilityTreeNode=function(){var t=document.createElement("div");return t.setAttribute("role","listitem"),t.tabIndex=-1,this._refreshRowDimensions(t),t},e.prototype._onTab=function(t){for(var e=0;e<t;e++)this._onChar(" ")},e.prototype._onChar=function(t){var e=this;if(this._liveRegionLineCount<21){if(this._charsToConsume.length>0)this._charsToConsume.shift()!==t&&this._announceCharacter(t);else this._announceCharacter(t);"\n"===t&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=r.tooMuchOutput)),a.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){e._accessibilityTreeRoot.appendChild(e._liveRegion)},0)}},e.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,a.isMac&&this._liveRegion.parentNode&&this._accessibilityTreeRoot.removeChild(this._liveRegion)},e.prototype._onKey=function(t){this._clearLiveRegion(),this._charsToConsume.push(t)},e.prototype._refreshRows=function(t,e){this._renderRowsDebouncer.refresh(t,e)},e.prototype._renderRows=function(t,e){for(var i=this._terminal.buffer,n=i.lines.length.toString(),o=t;o<=e;o++){var a=i.translateBufferLineToString(i.ydisp+o,!0),s=(i.ydisp+o+1).toString(),l=this._rowElements[o];l.textContent=0===a.length?r.blankLine:a,l.setAttribute("aria-posinset",s),l.setAttribute("aria-setsize",n)}},e.prototype._refreshRowsDimensions=function(){if(this._terminal.renderer.dimensions.actualCellHeight)for(var t=0;t<this._terminal.rows;t++)this._refreshRowDimensions(this._rowElements[t])},e.prototype._refreshRowDimensions=function(t){t.style.height=this._terminal.renderer.dimensions.actualCellHeight+"px"},e.prototype._announceCharacter=function(t){" "===t?this._liveRegion.innerHTML+="&nbsp;":this._liveRegion.textContent+=t},e}(t("./common/Lifecycle").Disposable);i.AccessibilityManager=c},{"./Strings":38,"./common/Lifecycle":42,"./shared/utils/Browser":69,"./ui/Lifecycle":71,"./ui/RenderDebouncer":73}],27:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./common/CircularList"),a=t("./EventEmitter");i.DEFAULT_ATTR=131840,i.CHAR_DATA_ATTR_INDEX=0,i.CHAR_DATA_CHAR_INDEX=1,i.CHAR_DATA_WIDTH_INDEX=2,i.CHAR_DATA_CODE_INDEX=3,i.MAX_BUFFER_SIZE=4294967295;var s=function(){function t(t,e){this._terminal=t,this._hasScrollback=e,this.markers=[],this.clear()}return Object.defineProperty(t.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._terminal.rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCursorInViewport",{get:function(){var t=this.ybase+this.y-this.ydisp;return t>=0&&t<this._terminal.rows},enumerable:!0,configurable:!0}),t.prototype._getCorrectBufferLength=function(t){if(!this._hasScrollback)return t;var e=t+this._terminal.options.scrollback;return e>i.MAX_BUFFER_SIZE?i.MAX_BUFFER_SIZE:e},t.prototype.fillViewportRows=function(){if(0===this.lines.length)for(var t=this._terminal.rows;t--;)this.lines.push(this._terminal.blankLine())},t.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new r.CircularList(this._getCorrectBufferLength(this._terminal.rows)),this.scrollTop=0,this.scrollBottom=this._terminal.rows-1,this.setupTabStops()},t.prototype.resize=function(t,e){var n=this._getCorrectBufferLength(e);if(n>this.lines.maxLength&&(this.lines.maxLength=n),this.lines.length>0){if(this._terminal.cols<t)for(var o=[i.DEFAULT_ATTR," ",1,32],r=0;r<this.lines.length;r++)for(;this.lines.get(r).length<t;)this.lines.get(r).push(o);var a=0;if(this._terminal.rows<e)for(var s=this._terminal.rows;s<e;s++)this.lines.length<e+this.ybase&&(this.ybase>0&&this.lines.length<=this.ybase+this.y+a+1?(this.ybase--,a++,this.ydisp>0&&this.ydisp--):this.lines.push(this._terminal.blankLine(void 0,void 0,t)));else for(s=this._terminal.rows;s>e;s--)this.lines.length>e+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(n<this.lines.maxLength){var l=this.lines.length-n;l>0&&(this.lines.trimStart(l),this.ybase=Math.max(this.ybase-l,0),this.ydisp=Math.max(this.ydisp-l,0)),this.lines.maxLength=n}this.x=Math.min(this.x,t-1),this.y=Math.min(this.y,e-1),a&&(this.y+=a),this.savedY=Math.min(this.savedY,e-1),this.savedX=Math.min(this.savedX,t-1),this.scrollTop=0}this.scrollBottom=e-1},t.prototype.translateBufferLineToString=function(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=null);var r="",a=this.lines.get(t);if(!a)return"";var s=n;null===o&&(o=a.length);for(var l=o,c=0;c<a.length;c++){var u=a[c];r+=u[i.CHAR_DATA_CHAR_INDEX],0===u[i.CHAR_DATA_WIDTH_INDEX]?(n>=c&&s--,o>c&&l--):u[i.CHAR_DATA_CHAR_INDEX].length>1&&(n>c&&(s+=u[i.CHAR_DATA_CHAR_INDEX].length-1),o>c&&(l+=u[i.CHAR_DATA_CHAR_INDEX].length-1))}if(e){var d=r.search(/\s+$/);if(-1!==d&&(l=Math.min(l,d)),l<=s)return""}return r.substring(s,l)},t.prototype.getWrappedRangeForLine=function(t){for(var e=t,i=t;e>0&&this.lines.get(e).isWrapped;)e--;for(;i+1<this.lines.length&&this.lines.get(i+1).isWrapped;)i++;return{first:e,last:i}},t.prototype.setupTabStops=function(t){for(null!=t?this.tabs[t]||(t=this.prevStop(t)):(this.tabs={},t=0);t<this._terminal.cols;t+=this._terminal.options.tabStopWidth)this.tabs[t]=!0},t.prototype.prevStop=function(t){for(null==t&&(t=this.x);!this.tabs[--t]&&t>0;);return t>=this._terminal.cols?this._terminal.cols-1:t<0?0:t},t.prototype.nextStop=function(t){for(null==t&&(t=this.x);!this.tabs[++t]&&t<this._terminal.cols;);return t>=this._terminal.cols?this._terminal.cols-1:t<0?0:t},t.prototype.addMarker=function(t){var e=this,i=new l(t);return this.markers.push(i),i.register(this.lines.addDisposableListener("trim",function(t){i.line-=t,i.line<0&&i.dispose()})),i.register(i.addDisposableListener("dispose",function(){return e._removeMarker(i)})),i},t.prototype._removeMarker=function(t){this.markers.splice(this.markers.indexOf(t),1)},t}();i.Buffer=s;var l=function(t){function e(i){var n=t.call(this)||this;return n.line=i,n._id=e._nextId++,n.isDisposed=!1,n}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.emit("dispose"),t.prototype.dispose.call(this))},e._nextId=1,e}(a.EventEmitter);i.Marker=l},{"./EventEmitter":32,"./common/CircularList":41}],28:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./Buffer"),a=function(t){function e(e){var i=t.call(this)||this;return i._terminal=e,i._normal=new r.Buffer(i._terminal,!0),i._normal.fillViewportRows(),i._alt=new r.Buffer(i._terminal,!1),i._activeBuffer=i._normal,i.setupTabStops(),i}return o(e,t),Object.defineProperty(e.prototype,"alt",{get:function(){return this._alt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal},enumerable:!0,configurable:!0}),e.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._alt.clear(),this._activeBuffer=this._normal,this.emit("activate",{activeBuffer:this._normal,inactiveBuffer:this._alt}))},e.prototype.activateAltBuffer=function(){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(),this._activeBuffer=this._alt,this.emit("activate",{activeBuffer:this._alt,inactiveBuffer:this._normal}))},e.prototype.resize=function(t,e){this._normal.resize(t,e),this._alt.resize(t,e)},e.prototype.setupTabStops=function(t){this._normal.setupTabStops(t),this._alt.setupTabStops(t)},e}(t("./EventEmitter").EventEmitter);i.BufferSet=a},{"./Buffer":27,"./EventEmitter":32}],29:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.wcwidth=function(t){var e=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],i=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];function n(t,e){var i,n=0,o=e.length-1;if(t<e[0][0]||t>e[o][1])return!1;for(;o>=n;)if(t>e[i=n+o>>1][1])n=i+1;else{if(!(t<e[i][0]))return!0;o=i-1}return!1}var o=0|t.control,r=null;return function(a){if((a|=0)<32)return 0|o;if(a<127)return 1;var s,l=r||function(){var i;r="undefined"==typeof Uint32Array?new Array(4096):new Uint32Array(4096);for(var o=0;o<4096;++o){for(var a=0,s=16;s--;)a=a<<2|(0===(i=16*o+s)?t.nul:i<32||i>=127&&i<160?t.control:n(i,e)?0:function(t){return t>=4352&&(t<=4447||9001===t||9002===t||t>=11904&&t<=42191&&12351!==t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510)}(i)?2:1);r[o]=a}return r}();return a<65536?l[a>>4]>>((15&a)<<1)&3:n(s=a,i)?0:s>=131072&&s<=196605||s>=196608&&s<=262141?2:1}}({nul:0,control:0})},{}],30:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e,i){this._textarea=t,this._compositionView=e,this._terminal=i,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:null,end:null}}return t.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._compositionView.classList.add("active")},t.prototype.compositionupdate=function(t){var e=this;this._compositionView.textContent=t.data,this.updateCompositionElements(),setTimeout(function(){e._compositionPosition.end=e._textarea.value.length},0)},t.prototype.compositionend=function(){this._finalizeComposition(!0)},t.prototype.keydown=function(t){if(this._isComposing||this._isSendingComposition){if(229===t.keyCode)return!1;if(16===t.keyCode||17===t.keyCode||18===t.keyCode)return!1;this._finalizeComposition(!1)}return 229!==t.keyCode||(this._handleAnyTextareaChanges(),!1)},t.prototype._finalizeComposition=function(t){var e=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,this._clearTextareaPosition(),t){var i={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(e._isSendingComposition){e._isSendingComposition=!1;var t=void 0;t=e._isComposing?e._textarea.value.substring(i.start,i.end):e._textarea.value.substring(i.start),e._terminal.handler(t)}},0)}else{this._isSendingComposition=!1;var n=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._terminal.handler(n)}},t.prototype._handleAnyTextareaChanges=function(){var t=this,e=this._textarea.value;setTimeout(function(){if(!t._isComposing){var i=t._textarea.value.replace(e,"");i.length>0&&t._terminal.handler(i)}},0)},t.prototype.updateCompositionElements=function(t){var e=this;if(this._isComposing){if(this._terminal.buffer.isCursorInViewport){var i=Math.ceil(this._terminal.charMeasure.height*this._terminal.options.lineHeight),n=this._terminal.buffer.y*i,o=this._terminal.buffer.x*this._terminal.charMeasure.width;this._compositionView.style.left=o+"px",this._compositionView.style.top=n+"px",this._compositionView.style.height=i+"px",this._compositionView.style.lineHeight=i+"px";var r=this._compositionView.getBoundingClientRect();this._textarea.style.left=o+"px",this._textarea.style.top=n+"px",this._textarea.style.width=r.width+"px",this._textarea.style.height=r.height+"px",this._textarea.style.lineHeight=r.height+"px"}t||setTimeout(function(){return e.updateCompositionElements(!0)},0)}},t.prototype._clearTextareaPosition=function(){this._textarea.style.left="",this._textarea.style.top=""},t}();i.CompositionHelper=n},{}],31:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./common/Lifecycle");function a(t,e){for(var i=e-t,n=new Array(i);i--;)n[i]=--e;return n}var s=function(){function t(t){this.table="undefined"==typeof Uint8Array?new Array(t):new Uint8Array(t)}return t.prototype.add=function(t,e,i,n){this.table[e<<8|t]=(0|i)<<4|(void 0===n?e:n)},t.prototype.addMany=function(t,e,i,n){for(var o=0;o<t.length;o++)this.add(t[o],e,i,n)},t}();i.TransitionTable=s;var l=a(32,127),c=a(0,24);c.push(25),c.concat(a(28,32));i.VT500_TRANSITION_TABLE=function(){var t,e=new s(4095),i=a(0,14);for(t in i)for(var n=0;n<160;++n)e.add(n,t,1,0);for(t in e.addMany(l,0,2,0),i)e.addMany([24,26,153,154],t,3,0),e.addMany(a(128,144),t,3,0),e.addMany(a(144,152),t,3,0),e.add(156,t,0,0),e.add(27,t,11,1),e.add(157,t,4,8),e.addMany([152,158,159],t,0,7),e.add(155,t,11,3),e.add(144,t,11,9);return e.addMany(c,0,3,0),e.addMany(c,1,3,1),e.add(127,1,0,1),e.addMany(c,8,0,8),e.addMany(c,3,3,3),e.add(127,3,0,3),e.addMany(c,4,3,4),e.add(127,4,0,4),e.addMany(c,6,3,6),e.addMany(c,5,3,5),e.add(127,5,0,5),e.addMany(c,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(l,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(a(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(l,7,0,7),e.addMany(c,7,0,7),e.add(156,7,0,0),e.add(91,1,11,3),e.addMany(a(64,127),3,7,0),e.addMany(a(48,58),3,8,4),e.add(59,3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(a(48,58),4,8,4),e.add(59,4,8,4),e.addMany(a(64,127),4,7,0),e.addMany([58,60,61,62,63],4,0,6),e.addMany(a(32,64),6,0,6),e.add(127,6,0,6),e.addMany(a(64,127),6,0,0),e.add(58,3,0,6),e.addMany(a(32,48),3,9,5),e.addMany(a(32,48),5,9,5),e.addMany(a(48,64),5,0,6),e.addMany(a(64,127),5,7,0),e.addMany(a(32,48),4,9,5),e.addMany(a(32,48),1,9,2),e.addMany(a(32,48),2,9,2),e.addMany(a(48,127),2,10,0),e.addMany(a(48,80),1,10,0),e.addMany(a(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(a(96,127),1,10,0),e.add(80,1,11,9),e.addMany(c,9,0,9),e.add(127,9,0,9),e.addMany(a(28,32),9,0,9),e.addMany(a(32,48),9,9,12),e.add(58,9,0,11),e.addMany(a(48,58),9,8,10),e.add(59,9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(c,11,0,11),e.addMany(a(32,128),11,0,11),e.addMany(a(28,32),11,0,11),e.addMany(c,10,0,10),e.add(127,10,0,10),e.addMany(a(28,32),10,0,10),e.addMany(a(48,58),10,8,10),e.add(59,10,8,10),e.addMany([58,60,61,62,63],10,0,11),e.addMany(a(32,48),10,9,12),e.addMany(c,12,0,12),e.add(127,12,0,12),e.addMany(a(28,32),12,0,12),e.addMany(a(32,48),12,9,12),e.addMany(a(48,64),12,0,11),e.addMany(a(64,127),12,12,13),e.addMany(a(64,127),10,12,13),e.addMany(a(64,127),9,12,13),e.addMany(c,13,13,13),e.addMany(l,13,13,13),e.add(127,13,0,13),e.addMany([27,156],13,14,0),e}();var u=function(){function t(){}return t.prototype.hook=function(t,e,i){},t.prototype.put=function(t,e,i){},t.prototype.unhook=function(){},t}(),d=function(t){function e(e){void 0===e&&(e=i.VT500_TRANSITION_TABLE);var n=t.call(this)||this;return n.TRANSITIONS=e,n.initialState=0,n.currentState=n.initialState,n._osc="",n._params=[0],n._collect="",n._printHandlerFb=function(t,e,i){},n._executeHandlerFb=function(t){},n._csiHandlerFb=function(t,e,i){},n._escHandlerFb=function(t,e){},n._oscHandlerFb=function(t,e){},n._dcsHandlerFb=new u,n._errorHandlerFb=function(t){return t},n._printHandler=n._printHandlerFb,n._executeHandlers=Object.create(null),n._csiHandlers=Object.create(null),n._escHandlers=Object.create(null),n._oscHandlers=Object.create(null),n._dcsHandlers=Object.create(null),n._activeDcsHandler=null,n._errorHandler=n._errorHandlerFb,n}return o(e,t),e.prototype.dispose=function(){this._printHandlerFb=null,this._executeHandlerFb=null,this._csiHandlerFb=null,this._escHandlerFb=null,this._oscHandlerFb=null,this._dcsHandlerFb=null,this._errorHandlerFb=null,this._printHandler=null,this._executeHandlers=null,this._csiHandlers=null,this._escHandlers=null,this._oscHandlers=null,this._dcsHandlers=null,this._activeDcsHandler=null,this._errorHandler=null},e.prototype.setPrintHandler=function(t){this._printHandler=t},e.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},e.prototype.setExecuteHandler=function(t,e){this._executeHandlers[t.charCodeAt(0)]=e},e.prototype.clearExecuteHandler=function(t){this._executeHandlers[t.charCodeAt(0)]&&delete this._executeHandlers[t.charCodeAt(0)]},e.prototype.setExecuteHandlerFallback=function(t){this._executeHandlerFb=t},e.prototype.setCsiHandler=function(t,e){this._csiHandlers[t.charCodeAt(0)]=e},e.prototype.clearCsiHandler=function(t){this._csiHandlers[t.charCodeAt(0)]&&delete this._csiHandlers[t.charCodeAt(0)]},e.prototype.setCsiHandlerFallback=function(t){this._csiHandlerFb=t},e.prototype.setEscHandler=function(t,e){this._escHandlers[t]=e},e.prototype.clearEscHandler=function(t){this._escHandlers[t]&&delete this._escHandlers[t]},e.prototype.setEscHandlerFallback=function(t){this._escHandlerFb=t},e.prototype.setOscHandler=function(t,e){this._oscHandlers[t]=e},e.prototype.clearOscHandler=function(t){this._oscHandlers[t]&&delete this._oscHandlers[t]},e.prototype.setOscHandlerFallback=function(t){this._oscHandlerFb=t},e.prototype.setDcsHandler=function(t,e){this._dcsHandlers[t]=e},e.prototype.clearDcsHandler=function(t){this._dcsHandlers[t]&&delete this._dcsHandlers[t]},e.prototype.setDcsHandlerFallback=function(t){this._dcsHandlerFb=t},e.prototype.setErrorHandler=function(t){this._errorHandler=t},e.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},e.prototype.reset=function(){this.currentState=this.initialState,this._osc="",this._params=[0],this._collect="",this._activeDcsHandler=null},e.prototype.parse=function(t){for(var e=0,i=0,n=!1,o=this.currentState,r=-1,a=-1,s=this._osc,l=this._collect,c=this._params,u=this.TRANSITIONS.table,d=this._activeDcsHandler,p=null,f=t.length,h=0;h<f;++h)if(e=t.charCodeAt(h),0===o&&e>31&&e<128){r=~r?r:h;do{e=t.charCodeAt(++h)}while(h<f&&e>31&&e<128);h--}else if(4===o&&e>47&&e<57)c[c.length-1]=10*c[c.length-1]+e-48;else{switch((i=e<160?u[o<<8|e]:16)>>4){case 2:r=~r?r:h;break;case 3:~r&&(this._printHandler(t,r,h),r=-1),(p=this._executeHandlers[e])?p():this._executeHandlerFb(e);break;case 0:~r?(this._printHandler(t,r,h),r=-1):~a&&(d.put(t,a,h),a=-1);break;case 1:if(e>159)switch(o){case 0:r=~r?r:h;break;case 8:s+=String.fromCharCode(e),i|=8;break;case 6:i|=6;break;case 11:i|=11;break;case 13:a=~a?a:h,i|=13;break;default:n=!0}else n=!0;if(n){if(this._errorHandler({position:h,code:e,currentState:o,print:r,dcs:a,osc:s,collect:l,params:c,abort:!1}).abort)return;n=!1}break;case 7:(p=this._csiHandlers[e])?p(c,l):this._csiHandlerFb(l,c,e);break;case 8:59===e?c.push(0):c[c.length-1]=10*c[c.length-1]+e-48;break;case 9:l+=String.fromCharCode(e);break;case 10:(p=this._escHandlers[l+String.fromCharCode(e)])?p(l,e):this._escHandlerFb(l,e);break;case 11:~r&&(this._printHandler(t,r,h),r=-1),s="",c=[0],l="",a=-1;break;case 12:(d=this._dcsHandlers[l+String.fromCharCode(e)])||(d=this._dcsHandlerFb),d.hook(l,c,e);break;case 13:a=~a?a:h;break;case 14:d&&(~a&&d.put(t,a,h),d.unhook(),d=null),27===e&&(i|=1),s="",c=[0],l="",a=-1;break;case 4:~r&&(this._printHandler(t,r,h),r=-1),s="";break;case 5:s+=t.charAt(h);break;case 6:if(s&&24!==e&&26!==e){var _=s.indexOf(";");if(-1===_)this._oscHandlerFb(-1,s);else{var m=parseInt(s.substring(0,_)),g=s.substring(_+1);(p=this._oscHandlers[m])?p(g):this._oscHandlerFb(m,g)}}27===e&&(i|=1),s="",c=[0],l="",a=-1}o=15&i}0===o&&~r?this._printHandler(t,r,t.length):13===o&&~a&&d&&d.put(t,a,t.length),this._osc=s,this._collect=l,this._params=c,this._activeDcsHandler=d,this.currentState=o},e}(r.Disposable);i.EscapeSequenceParser=d},{"./common/Lifecycle":42}],32:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e._events=e._events||{},e}return o(e,t),e.prototype.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)},e.prototype.addDisposableListener=function(t,e){var i=this;return this.on(t,e),{dispose:function(){e&&(i.off(t,e),e=null)}}},e.prototype.off=function(t,e){if(this._events[t])for(var i=this._events[t],n=i.length;n--;)if(i[n]===e)return void i.splice(n,1)},e.prototype.removeAllListeners=function(t){this._events[t]&&delete this._events[t]},e.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(this._events[t])for(var n=this._events[t],o=0;o<n.length;o++)n[o].apply(this,e)},e.prototype.listeners=function(t){return this._events[t]||[]},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._events={}},e}(t("./common/Lifecycle").Disposable);i.EventEmitter=r},{"./common/Lifecycle":42}],33:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./common/data/EscapeSequences"),a=t("./core/data/Charsets"),s=t("./Buffer"),l=t("./CharWidth"),c=t("./EscapeSequenceParser"),u=t("./common/Lifecycle"),d={"(":0,")":1,"*":2,"+":3,"-":1,".":2},p=function(){function t(t){this._terminal=t}return t.prototype.hook=function(t,e,i){this._data=""},t.prototype.put=function(t,e,i){this._data+=t.substring(e,i)},t.prototype.unhook=function(){this._terminal.send(r.C0.ESC+"P0+r"+this._data+r.C0.ESC+"\\")},t}(),f=function(){function t(t){this._terminal=t}return t.prototype.hook=function(t,e,i){this._data=""},t.prototype.put=function(t,e,i){this._data+=t.substring(e,i)},t.prototype.unhook=function(){switch(this._data){case'"q':return this._terminal.send(r.C0.ESC+'P1$r0"q'+r.C0.ESC+"\\");case'"p':return this._terminal.send(r.C0.ESC+'P1$r61"p'+r.C0.ESC+"\\");case"r":var t=this._terminal.buffer.scrollTop+1+";"+(this._terminal.buffer.scrollBottom+1)+"r";return this._terminal.send(r.C0.ESC+"P1$r"+t+r.C0.ESC+"\\");case"m":return this._terminal.send(r.C0.ESC+"P1$r0m"+r.C0.ESC+"\\");case" q":var e={block:2,underline:4,bar:6}[this._terminal.getOption("cursorStyle")];return e-=this._terminal.getOption("cursorBlink"),this._terminal.send(r.C0.ESC+"P1$r"+e+" q"+r.C0.ESC+"\\");default:this._terminal.error("Unknown DCS $q %s",this._data),this._terminal.send(r.C0.ESC+"P0$r"+this._data+r.C0.ESC+"\\")}},t}(),h=function(t){function e(e,i){void 0===i&&(i=new c.EscapeSequenceParser);var n=t.call(this)||this;n._terminal=e,n._parser=i,n.register(n._parser),n._surrogateHigh="",n._parser.setCsiHandlerFallback(function(t,e,i){n._terminal.error("Unknown CSI code: ",t,e,String.fromCharCode(i))}),n._parser.setEscHandlerFallback(function(t,e){n._terminal.error("Unknown ESC code: ",t,String.fromCharCode(e))}),n._parser.setExecuteHandlerFallback(function(t){n._terminal.error("Unknown EXECUTE code: ",t)}),n._parser.setOscHandlerFallback(function(t,e){n._terminal.error("Unknown OSC code: ",t,e)}),n._parser.setPrintHandler(function(t,e,i){return n.print(t,e,i)}),n._parser.setCsiHandler("@",function(t,e){return n.insertChars(t)}),n._parser.setCsiHandler("A",function(t,e){return n.cursorUp(t)}),n._parser.setCsiHandler("B",function(t,e){return n.cursorDown(t)}),n._parser.setCsiHandler("C",function(t,e){return n.cursorForward(t)}),n._parser.setCsiHandler("D",function(t,e){return n.cursorBackward(t)}),n._parser.setCsiHandler("E",function(t,e){return n.cursorNextLine(t)}),n._parser.setCsiHandler("F",function(t,e){return n.cursorPrecedingLine(t)}),n._parser.setCsiHandler("G",function(t,e){return n.cursorCharAbsolute(t)}),n._parser.setCsiHandler("H",function(t,e){return n.cursorPosition(t)}),n._parser.setCsiHandler("I",function(t,e){return n.cursorForwardTab(t)}),n._parser.setCsiHandler("J",function(t,e){return n.eraseInDisplay(t)}),n._parser.setCsiHandler("K",function(t,e){return n.eraseInLine(t)}),n._parser.setCsiHandler("L",function(t,e){return n.insertLines(t)}),n._parser.setCsiHandler("M",function(t,e){return n.deleteLines(t)}),n._parser.setCsiHandler("P",function(t,e){return n.deleteChars(t)}),n._parser.setCsiHandler("S",function(t,e){return n.scrollUp(t)}),n._parser.setCsiHandler("T",function(t,e){return n.scrollDown(t,e)}),n._parser.setCsiHandler("X",function(t,e){return n.eraseChars(t)}),n._parser.setCsiHandler("Z",function(t,e){return n.cursorBackwardTab(t)}),n._parser.setCsiHandler("`",function(t,e){return n.charPosAbsolute(t)}),n._parser.setCsiHandler("a",function(t,e){return n.hPositionRelative(t)}),n._parser.setCsiHandler("b",function(t,e){return n.repeatPrecedingCharacter(t)}),n._parser.setCsiHandler("c",function(t,e){return n.sendDeviceAttributes(t,e)}),n._parser.setCsiHandler("d",function(t,e){return n.linePosAbsolute(t)}),n._parser.setCsiHandler("e",function(t,e){return n.vPositionRelative(t)}),n._parser.setCsiHandler("f",function(t,e){return n.hVPosition(t)}),n._parser.setCsiHandler("g",function(t,e){return n.tabClear(t)}),n._parser.setCsiHandler("h",function(t,e){return n.setMode(t,e)}),n._parser.setCsiHandler("l",function(t,e){return n.resetMode(t,e)}),n._parser.setCsiHandler("m",function(t,e){return n.charAttributes(t)}),n._parser.setCsiHandler("n",function(t,e){return n.deviceStatus(t,e)}),n._parser.setCsiHandler("p",function(t,e){return n.softReset(t,e)}),n._parser.setCsiHandler("q",function(t,e){return n.setCursorStyle(t,e)}),n._parser.setCsiHandler("r",function(t,e){return n.setScrollRegion(t,e)}),n._parser.setCsiHandler("s",function(t,e){return n.saveCursor(t)}),n._parser.setCsiHandler("u",function(t,e){return n.restoreCursor(t)}),n._parser.setExecuteHandler(r.C0.BEL,function(){return n.bell()}),n._parser.setExecuteHandler(r.C0.LF,function(){return n.lineFeed()}),n._parser.setExecuteHandler(r.C0.VT,function(){return n.lineFeed()}),n._parser.setExecuteHandler(r.C0.FF,function(){return n.lineFeed()}),n._parser.setExecuteHandler(r.C0.CR,function(){return n.carriageReturn()}),n._parser.setExecuteHandler(r.C0.BS,function(){return n.backspace()}),n._parser.setExecuteHandler(r.C0.HT,function(){return n.tab()}),n._parser.setExecuteHandler(r.C0.SO,function(){return n.shiftOut()}),n._parser.setExecuteHandler(r.C0.SI,function(){return n.shiftIn()}),n._parser.setExecuteHandler(r.C1.IND,function(){return n.index()}),n._parser.setExecuteHandler(r.C1.NEL,function(){return n.nextLine()}),n._parser.setExecuteHandler(r.C1.HTS,function(){return n.tabSet()}),n._parser.setOscHandler(0,function(t){return n.setTitle(t)}),n._parser.setOscHandler(2,function(t){return n.setTitle(t)}),n._parser.setEscHandler("7",function(){return n.saveCursor([])}),n._parser.setEscHandler("8",function(){return n.restoreCursor([])}),n._parser.setEscHandler("D",function(){return n.index()}),n._parser.setEscHandler("E",function(){return n.nextLine()}),n._parser.setEscHandler("H",function(){return n.tabSet()}),n._parser.setEscHandler("M",function(){return n.reverseIndex()}),n._parser.setEscHandler("=",function(){return n.keypadApplicationMode()}),n._parser.setEscHandler(">",function(){return n.keypadNumericMode()}),n._parser.setEscHandler("c",function(){return n.reset()}),n._parser.setEscHandler("n",function(){return n.setgLevel(2)}),n._parser.setEscHandler("o",function(){return n.setgLevel(3)}),n._parser.setEscHandler("|",function(){return n.setgLevel(3)}),n._parser.setEscHandler("}",function(){return n.setgLevel(2)}),n._parser.setEscHandler("~",function(){return n.setgLevel(1)}),n._parser.setEscHandler("%@",function(){return n.selectDefaultCharset()}),n._parser.setEscHandler("%G",function(){return n.selectDefaultCharset()});var o=function(t){s._parser.setEscHandler("("+t,function(){return n.selectCharset("("+t)}),s._parser.setEscHandler(")"+t,function(){return n.selectCharset(")"+t)}),s._parser.setEscHandler("*"+t,function(){return n.selectCharset("*"+t)}),s._parser.setEscHandler("+"+t,function(){return n.selectCharset("+"+t)}),s._parser.setEscHandler("-"+t,function(){return n.selectCharset("-"+t)}),s._parser.setEscHandler("."+t,function(){return n.selectCharset("."+t)}),s._parser.setEscHandler("/"+t,function(){return n.selectCharset("/"+t)})},s=this;for(var l in a.CHARSETS)o(l);return n._parser.setErrorHandler(function(t){return n._terminal.error("Parsing error: ",t),t}),n._parser.setDcsHandler("$q",new f(n._terminal)),n._parser.setDcsHandler("+q",new p(n._terminal)),n}return o(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._terminal=null},e.prototype.parse=function(t){var e=this._terminal.buffer,i=e.x,n=e.y;this._terminal.debug&&this._terminal.log("data: "+t),this._surrogateHigh&&(t=this._surrogateHigh+t,this._surrogateHigh=""),this._parser.parse(t),(e=this._terminal.buffer).x===i&&e.y===n||this._terminal.emit("cursormove")},e.prototype.print=function(t,e,i){var n,o,r,a,c=this._terminal.buffer,u=this._terminal.charset,d=this._terminal.options.screenReaderMode,p=this._terminal.cols,f=this._terminal.wraparoundMode,h=this._terminal.insertMode,_=this._terminal.curAttr,m=c.lines.get(c.y+c.ybase);this._terminal.updateRange(c.y);for(var g=e;g<i;++g){if(n=t.charAt(g),55296<=(o=t.charCodeAt(g))&&o<=56319){if(r=t.charCodeAt(g+1),isNaN(r)){this._surrogateHigh=n;continue}o=1024*(o-55296)+(r-56320)+65536,n+=t.charAt(g+1)}if(!(56320<=o&&o<=57343))if(a=l.wcwidth(o),u&&(o=(n=u[n]||n).charCodeAt(0)),d&&this._terminal.emit("a11y.char",n),a||!c.x){if(c.x+a-1>=p)if(f)c.x=0,c.y++,c.y>c.scrollBottom?(c.y--,this._terminal.scroll(!0)):c.lines.get(c.y).isWrapped=!0,m=c.lines.get(c.y+c.ybase);else if(2===a)continue;if(h)for(var v=0;v<a;++v){0===m.pop()[s.CHAR_DATA_WIDTH_INDEX]&&m[this._terminal.cols-2]&&2===m[this._terminal.cols-2][s.CHAR_DATA_WIDTH_INDEX]&&(m[this._terminal.cols-2]=[_," ",1,32]),m.splice(c.x,0,[_," ",1,32])}m[c.x++]=[_,n,a,o],2===a&&(m[c.x++]=[_,"",0,void 0])}else m[c.x-1]&&(m[c.x-1][s.CHAR_DATA_WIDTH_INDEX]?(m[c.x-1][s.CHAR_DATA_CHAR_INDEX]+=n,m[c.x-1][s.CHAR_DATA_CODE_INDEX]=o):m[c.x-2]&&(m[c.x-2][s.CHAR_DATA_CHAR_INDEX]+=n,m[c.x-2][s.CHAR_DATA_CODE_INDEX]=o))}this._terminal.updateRange(c.y)},e.prototype.bell=function(){this._terminal.bell()},e.prototype.lineFeed=function(){var t=this._terminal.buffer;this._terminal.convertEol&&(t.x=0),t.y++,t.y>t.scrollBottom&&(t.y--,this._terminal.scroll()),t.x>=this._terminal.cols&&t.x--,this._terminal.emit("linefeed")},e.prototype.carriageReturn=function(){this._terminal.buffer.x=0},e.prototype.backspace=function(){this._terminal.buffer.x>0&&this._terminal.buffer.x--},e.prototype.tab=function(){var t=this._terminal.buffer.x;this._terminal.buffer.x=this._terminal.buffer.nextStop(),this._terminal.options.screenReaderMode&&this._terminal.emit("a11y.tab",this._terminal.buffer.x-t)},e.prototype.shiftOut=function(){this._terminal.setgLevel(1)},e.prototype.shiftIn=function(){this._terminal.setgLevel(0)},e.prototype.insertChars=function(t){var e=t[0];e<1&&(e=1);for(var i=this._terminal.buffer,n=i.y+i.ybase,o=i.x,r=[this._terminal.eraseAttr()," ",1,32];e--&&o<this._terminal.cols;)i.lines.get(n).splice(o++,0,r),i.lines.get(n).pop()},e.prototype.cursorUp=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y-=e,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0)},e.prototype.cursorDown=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y+=e,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},e.prototype.cursorForward=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x+=e,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.cursorBackward=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--,this._terminal.buffer.x-=e,this._terminal.buffer.x<0&&(this._terminal.buffer.x=0)},e.prototype.cursorNextLine=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y+=e,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=0},e.prototype.cursorPrecedingLine=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y-=e,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0),this._terminal.buffer.x=0},e.prototype.cursorCharAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x=e-1},e.prototype.cursorPosition=function(t){var e,i=t[0]-1;e=t.length>=2?t[1]-1:0,i<0?i=0:i>=this._terminal.rows&&(i=this._terminal.rows-1),e<0?e=0:e>=this._terminal.cols&&(e=this._terminal.cols-1),this._terminal.buffer.x=e,this._terminal.buffer.y=i},e.prototype.cursorForwardTab=function(t){for(var e=t[0]||1;e--;)this._terminal.buffer.x=this._terminal.buffer.nextStop()},e.prototype.eraseInDisplay=function(t){var e;switch(t[0]){case 0:for(this._terminal.eraseRight(this._terminal.buffer.x,this._terminal.buffer.y),e=this._terminal.buffer.y+1;e<this._terminal.rows;e++)this._terminal.eraseLine(e);break;case 1:for(this._terminal.eraseLeft(this._terminal.buffer.x,this._terminal.buffer.y),e=this._terminal.buffer.y;e--;)this._terminal.eraseLine(e);break;case 2:for(e=this._terminal.rows;e--;)this._terminal.eraseLine(e);break;case 3:var i=this._terminal.buffer.lines.length-this._terminal.rows;i>0&&(this._terminal.buffer.lines.trimStart(i),this._terminal.buffer.ybase=Math.max(this._terminal.buffer.ybase-i,0),this._terminal.buffer.ydisp=Math.max(this._terminal.buffer.ydisp-i,0),this._terminal.emit("scroll",0))}},e.prototype.eraseInLine=function(t){switch(t[0]){case 0:this._terminal.eraseRight(this._terminal.buffer.x,this._terminal.buffer.y);break;case 1:this._terminal.eraseLeft(this._terminal.buffer.x,this._terminal.buffer.y);break;case 2:this._terminal.eraseLine(this._terminal.buffer.y)}},e.prototype.insertLines=function(t){var e=t[0];e<1&&(e=1);for(var i=this._terminal.buffer,n=i.y+i.ybase,o=this._terminal.rows-1-i.scrollBottom,r=this._terminal.rows-1+i.ybase-o+1;e--;)i.lines.splice(r-1,1),i.lines.splice(n,0,this._terminal.blankLine(!0));this._terminal.updateRange(i.y),this._terminal.updateRange(i.scrollBottom)},e.prototype.deleteLines=function(t){var e=t[0];e<1&&(e=1);var i,n=this._terminal.buffer,o=n.y+n.ybase;for(i=this._terminal.rows-1-n.scrollBottom,i=this._terminal.rows-1+n.ybase-i;e--;)n.lines.splice(o,1),n.lines.splice(i,0,this._terminal.blankLine(!0));this._terminal.updateRange(n.y),this._terminal.updateRange(n.scrollBottom)},e.prototype.deleteChars=function(t){var e=t[0];e<1&&(e=1);for(var i=this._terminal.buffer,n=i.y+i.ybase,o=[this._terminal.eraseAttr()," ",1,32];e--;)i.lines.get(n).splice(i.x,1),i.lines.get(n).push(o);this._terminal.updateRange(i.y)},e.prototype.scrollUp=function(t){for(var e=t[0]||1,i=this._terminal.buffer;e--;)i.lines.splice(i.ybase+i.scrollTop,1),i.lines.splice(i.ybase+i.scrollBottom,0,this._terminal.blankLine());this._terminal.updateRange(i.scrollTop),this._terminal.updateRange(i.scrollBottom)},e.prototype.scrollDown=function(t,e){if(t.length<2&&!e){for(var i=t[0]||1,n=this._terminal.buffer;i--;)n.lines.splice(n.ybase+n.scrollBottom,1),n.lines.splice(n.ybase+n.scrollTop,0,this._terminal.blankLine());this._terminal.updateRange(n.scrollTop),this._terminal.updateRange(n.scrollBottom)}},e.prototype.eraseChars=function(t){var e=t[0];e<1&&(e=1);for(var i=this._terminal.buffer,n=i.y+i.ybase,o=i.x,r=[this._terminal.eraseAttr()," ",1,32];e--&&o<this._terminal.cols;)i.lines.get(n)[o++]=r},e.prototype.cursorBackwardTab=function(t){for(var e=t[0]||1,i=this._terminal.buffer;e--;)i.x=i.prevStop()},e.prototype.charPosAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x=e-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.hPositionRelative=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x+=e,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.repeatPrecedingCharacter=function(t){for(var e=t[0]||1,i=this._terminal.buffer,n=i.lines.get(i.ybase+i.y),o=n[i.x-1]||[s.DEFAULT_ATTR," ",1,32];e--;)n[i.x++]=o},e.prototype.sendDeviceAttributes=function(t,e){t[0]>0||(e?">"===e&&(this._terminal.is("xterm")?this._terminal.send(r.C0.ESC+"[>0;276;0c"):this._terminal.is("rxvt-unicode")?this._terminal.send(r.C0.ESC+"[>85;95;0c"):this._terminal.is("linux")?this._terminal.send(t[0]+"c"):this._terminal.is("screen")&&this._terminal.send(r.C0.ESC+"[>83;40003;0c")):this._terminal.is("xterm")||this._terminal.is("rxvt-unicode")||this._terminal.is("screen")?this._terminal.send(r.C0.ESC+"[?1;2c"):this._terminal.is("linux")&&this._terminal.send(r.C0.ESC+"[?6c"))},e.prototype.linePosAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y=e-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1)},e.prototype.vPositionRelative=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y+=e,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},e.prototype.hVPosition=function(t){t[0]<1&&(t[0]=1),t[1]<1&&(t[1]=1),this._terminal.buffer.y=t[0]-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=t[1]-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.tabClear=function(t){var e=t[0];e<=0?delete this._terminal.buffer.tabs[this._terminal.buffer.x]:3===e&&(this._terminal.buffer.tabs={})},e.prototype.setMode=function(t,e){if(t.length>1)for(var i=0;i<t.length;i++)this.setMode([t[i]]);else if(e){if("?"===e)switch(t[0]){case 1:this._terminal.applicationCursor=!0;break;case 2:this._terminal.setgCharset(0,a.DEFAULT_CHARSET),this._terminal.setgCharset(1,a.DEFAULT_CHARSET),this._terminal.setgCharset(2,a.DEFAULT_CHARSET),this._terminal.setgCharset(3,a.DEFAULT_CHARSET);break;case 3:this._terminal.savedCols=this._terminal.cols,this._terminal.resize(132,this._terminal.rows);break;case 6:this._terminal.originMode=!0;break;case 7:this._terminal.wraparoundMode=!0;break;case 12:break;case 66:this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=9===t[0],this._terminal.vt200Mouse=1e3===t[0],this._terminal.normalMouse=t[0]>1e3,this._terminal.mouseEvents=!0,this._terminal.element.classList.add("enable-mouse-events"),this._terminal.selectionManager.disable(),this._terminal.log("Binding to mouse events.");break;case 1004:this._terminal.sendFocus=!0;break;case 1005:this._terminal.utfMouse=!0;break;case 1006:this._terminal.sgrMouse=!0;break;case 1015:this._terminal.urxvtMouse=!0;break;case 25:this._terminal.cursorHidden=!1;break;case 1049:case 47:case 1047:this._terminal.buffers.activateAltBuffer(),this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!0}}else switch(t[0]){case 4:this._terminal.insertMode=!0}},e.prototype.resetMode=function(t,e){if(t.length>1)for(var i=0;i<t.length;i++)this.resetMode([t[i]]);else if(e){if("?"===e)switch(t[0]){case 1:this._terminal.applicationCursor=!1;break;case 3:132===this._terminal.cols&&this._terminal.savedCols&&this._terminal.resize(this._terminal.savedCols,this._terminal.rows),delete this._terminal.savedCols;break;case 6:this._terminal.originMode=!1;break;case 7:this._terminal.wraparoundMode=!1;break;case 12:break;case 66:this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=!1,this._terminal.vt200Mouse=!1,this._terminal.normalMouse=!1,this._terminal.mouseEvents=!1,this._terminal.element.classList.remove("enable-mouse-events"),this._terminal.selectionManager.enable();break;case 1004:this._terminal.sendFocus=!1;break;case 1005:this._terminal.utfMouse=!1;break;case 1006:this._terminal.sgrMouse=!1;break;case 1015:this._terminal.urxvtMouse=!1;break;case 25:this._terminal.cursorHidden=!0;break;case 1049:case 47:case 1047:this._terminal.buffers.activateNormalBuffer(),this._terminal.refresh(0,this._terminal.rows-1),this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!1}}else switch(t[0]){case 4:this._terminal.insertMode=!1}},e.prototype.charAttributes=function(t){if(1!==t.length||0!==t[0]){for(var e,i=t.length,n=this._terminal.curAttr>>18,o=this._terminal.curAttr>>9&511,r=511&this._terminal.curAttr,a=0;a<i;a++)(e=t[a])>=30&&e<=37?o=e-30:e>=40&&e<=47?r=e-40:e>=90&&e<=97?o=(e+=8)-90:e>=100&&e<=107?r=(e+=8)-100:0===e?(n=s.DEFAULT_ATTR>>18,o=s.DEFAULT_ATTR>>9&511,r=511&s.DEFAULT_ATTR):1===e?n|=1:3===e?n|=64:4===e?n|=2:5===e?n|=4:7===e?n|=8:8===e?n|=16:2===e?n|=32:22===e?(n&=-2,n&=-33):24===e?n&=-3:25===e?n&=-5:27===e?n&=-9:28===e?n&=-17:39===e?o=s.DEFAULT_ATTR>>9&511:49===e?r=511&s.DEFAULT_ATTR:38===e?2===t[a+1]?(a+=2,-1===(o=this._terminal.matchColor(255&t[a],255&t[a+1],255&t[a+2]))&&(o=511),a+=2):5===t[a+1]&&(o=e=255&t[a+=2]):48===e?2===t[a+1]?(a+=2,-1===(r=this._terminal.matchColor(255&t[a],255&t[a+1],255&t[a+2]))&&(r=511),a+=2):5===t[a+1]&&(r=e=255&t[a+=2]):100===e?(o=s.DEFAULT_ATTR>>9&511,r=511&s.DEFAULT_ATTR):this._terminal.error("Unknown SGR attribute: %d.",e);this._terminal.curAttr=n<<18|o<<9|r}else this._terminal.curAttr=s.DEFAULT_ATTR},e.prototype.deviceStatus=function(t,e){if(e){if("?"===e)switch(t[0]){case 6:this._terminal.send(r.C0.ESC+"[?"+(this._terminal.buffer.y+1)+";"+(this._terminal.buffer.x+1)+"R")}}else switch(t[0]){case 5:this._terminal.send(r.C0.ESC+"[0n");break;case 6:this._terminal.send(r.C0.ESC+"["+(this._terminal.buffer.y+1)+";"+(this._terminal.buffer.x+1)+"R")}},e.prototype.softReset=function(t,e){"!"===e&&(this._terminal.cursorHidden=!1,this._terminal.insertMode=!1,this._terminal.originMode=!1,this._terminal.wraparoundMode=!0,this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea(),this._terminal.applicationCursor=!1,this._terminal.buffer.scrollTop=0,this._terminal.buffer.scrollBottom=this._terminal.rows-1,this._terminal.curAttr=s.DEFAULT_ATTR,this._terminal.buffer.x=this._terminal.buffer.y=0,this._terminal.charset=null,this._terminal.glevel=0,this._terminal.charsets=[null])},e.prototype.setCursorStyle=function(t,e){if(" "===e){var i=t[0]<1?1:t[0];switch(i){case 1:case 2:this._terminal.setOption("cursorStyle","block");break;case 3:case 4:this._terminal.setOption("cursorStyle","underline");break;case 5:case 6:this._terminal.setOption("cursorStyle","bar")}var n=i%2==1;this._terminal.setOption("cursorBlink",n)}},e.prototype.setScrollRegion=function(t,e){e||(this._terminal.buffer.scrollTop=(t[0]||1)-1,this._terminal.buffer.scrollBottom=(t[1]&&t[1]<=this._terminal.rows?t[1]:this._terminal.rows)-1,this._terminal.buffer.x=0,this._terminal.buffer.y=0)},e.prototype.saveCursor=function(t){this._terminal.buffer.savedX=this._terminal.buffer.x,this._terminal.buffer.savedY=this._terminal.buffer.y,this._terminal.savedCurAttr=this._terminal.curAttr},e.prototype.restoreCursor=function(t){this._terminal.buffer.x=this._terminal.buffer.savedX||0,this._terminal.buffer.y=this._terminal.buffer.savedY||0,this._terminal.curAttr=this._terminal.savedCurAttr||s.DEFAULT_ATTR},e.prototype.setTitle=function(t){this._terminal.handleTitle(t)},e.prototype.nextLine=function(){this._terminal.buffer.x=0,this.index()},e.prototype.keypadApplicationMode=function(){this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport&&this._terminal.viewport.syncScrollArea()},e.prototype.keypadNumericMode=function(){this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea()},e.prototype.selectDefaultCharset=function(){this._terminal.setgLevel(0),this._terminal.setgCharset(0,a.DEFAULT_CHARSET)},e.prototype.selectCharset=function(t){if(2!==t.length)return this.selectDefaultCharset();"/"!==t[0]&&this._terminal.setgCharset(d[t[0]],a.CHARSETS[t[1]]||a.DEFAULT_CHARSET)},e.prototype.index=function(){this._terminal.index()},e.prototype.tabSet=function(){this._terminal.tabSet()},e.prototype.reverseIndex=function(){this._terminal.reverseIndex()},e.prototype.reset=function(){this._parser.reset(),this._terminal.reset()},e.prototype.setgLevel=function(t){this._terminal.setgLevel(t)},e}(u.Disposable);i.InputHandler=h},{"./Buffer":27,"./CharWidth":29,"./EscapeSequenceParser":31,"./common/Lifecycle":42,"./common/data/EscapeSequences":43,"./core/data/Charsets":44}],34:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./ui/MouseZoneManager"),a=function(t){function e(e){var i=t.call(this)||this;return i._terminal=e,i._linkMatchers=[],i._nextLinkMatcherId=0,i._rowsToLinkify={start:null,end:null},i}return o(e,t),e.prototype.attachToDom=function(t){this._mouseZoneManager=t},e.prototype.linkifyRows=function(t,i){var n=this;this._mouseZoneManager&&(null===this._rowsToLinkify.start?(this._rowsToLinkify.start=t,this._rowsToLinkify.end=i):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,t),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,i)),this._mouseZoneManager.clearAll(t,i),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return n._linkifyRows()},e.TIME_BEFORE_LINKIFY))},e.prototype._linkifyRows=function(){this._rowsTimeoutId=null;for(var t=this._rowsToLinkify.start;t<=this._rowsToLinkify.end;t++)this._linkifyRow(t);this._rowsToLinkify.start=null,this._rowsToLinkify.end=null},e.prototype.registerLinkMatcher=function(t,e,i){if(void 0===i&&(i={}),!e)throw new Error("handler must be defined");var n={id:this._nextLinkMatcherId++,regex:t,handler:e,matchIndex:i.matchIndex,validationCallback:i.validationCallback,hoverTooltipCallback:i.tooltipCallback,hoverLeaveCallback:i.leaveCallback,willLinkActivate:i.willLinkActivate,priority:i.priority||0};return this._addLinkMatcherToList(n),n.id},e.prototype._addLinkMatcherToList=function(t){if(0!==this._linkMatchers.length){for(var e=this._linkMatchers.length-1;e>=0;e--)if(t.priority<=this._linkMatchers[e].priority)return void this._linkMatchers.splice(e+1,0,t);this._linkMatchers.splice(0,0,t)}else this._linkMatchers.push(t)},e.prototype.deregisterLinkMatcher=function(t){for(var e=0;e<this._linkMatchers.length;e++)if(this._linkMatchers[e].id===t)return this._linkMatchers.splice(e,1),!0;return!1},e.prototype._linkifyRow=function(t){var e=this._terminal.buffer.ydisp+t;if(!(e>=this._terminal.buffer.lines.length)){if(this._terminal.buffer.lines.get(e).isWrapped){if(0!==t)return;do{t--,e--}while(this._terminal.buffer.lines.get(e).isWrapped)}for(var i=this._terminal.buffer.translateBufferLineToString(e,!1),n=e+1;n<this._terminal.buffer.lines.length&&this._terminal.buffer.lines.get(n).isWrapped;)i+=this._terminal.buffer.translateBufferLineToString(n++,!1);for(var o=0;o<this._linkMatchers.length;o++)this._doLinkifyRow(t,i,this._linkMatchers[o])}},e.prototype._doLinkifyRow=function(t,e,i,n){var o=this;void 0===n&&(n=0);var r=e.match(i.regex);if(r&&0!==r.length){var a=r["number"!=typeof i.matchIndex?0:i.matchIndex],s=e.indexOf(a);i.validationCallback?i.validationCallback(a,function(e){o._rowsTimeoutId||e&&o._addLink(n+s,t,a,i)}):this._addLink(n+s,t,a,i);var l=s+a.length,c=e.substr(l);c.length>0&&this._doLinkifyRow(t,c,i,n+l)}},e.prototype._addLink=function(t,e,i,n){var o=this,a=t%this._terminal.cols,s=e+Math.floor(t/this._terminal.cols),l=(a+i.length)%this._terminal.cols,c=s+Math.floor((a+i.length)/this._terminal.cols);0===l&&(l=this._terminal.cols,c--),this._mouseZoneManager.add(new r.MouseZone(a+1,s+1,l+1,c+1,function(t){if(n.handler)return n.handler(t,i);window.open(i,"_blank")},function(t){o.emit("linkhover",o._createLinkHoverEvent(a,s,l,c)),o._terminal.element.classList.add("xterm-cursor-pointer")},function(t){o.emit("linktooltip",o._createLinkHoverEvent(a,s,l,c)),n.hoverTooltipCallback&&n.hoverTooltipCallback(t,i)},function(){o.emit("linkleave",o._createLinkHoverEvent(a,s,l,c)),o._terminal.element.classList.remove("xterm-cursor-pointer"),n.hoverLeaveCallback&&n.hoverLeaveCallback()},function(t){return!n.willLinkActivate||n.willLinkActivate(t,i)}))},e.prototype._createLinkHoverEvent=function(t,e,i,n){return{x1:t,y1:e,x2:i,y2:n,cols:this._terminal.cols}},e.TIME_BEFORE_LINKIFY=200,e}(t("./EventEmitter").EventEmitter);i.Linkifier=a},{"./EventEmitter":32,"./ui/MouseZoneManager":72}],35:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./utils/MouseHelper"),a=t("./shared/utils/Browser"),s=t("./EventEmitter"),l=t("./SelectionModel"),c=t("./Buffer"),u=t("./handlers/AltClickHandler"),d=String.fromCharCode(160),p=new RegExp(d,"g"),f=function(t){function e(e,i){var n=t.call(this)||this;return n._terminal=e,n._charMeasure=i,n._enabled=!0,n._initListeners(),n.enable(),n._model=new l.SelectionModel(e),n._activeSelectionMode=0,n}return o(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._removeMouseDownListeners()},Object.defineProperty(e.prototype,"_buffer",{get:function(){return this._terminal.buffers.active},enumerable:!0,configurable:!0}),e.prototype._initListeners=function(){var t=this;this._mouseMoveListener=function(e){return t._onMouseMove(e)},this._mouseUpListener=function(e){return t._onMouseUp(e)},this._trimListener=function(e){return t._onTrim(e)},this.initBuffersListeners()},e.prototype.initBuffersListeners=function(){var t=this;this._terminal.buffer.lines.on("trim",this._trimListener),this._terminal.buffers.on("activate",function(e){return t._onBufferActivate(e)})},e.prototype.disable=function(){this.clearSelection(),this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},Object.defineProperty(e.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSelection",{get:function(){var t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;return!(!t||!e)&&(t[0]!==e[0]||t[1]!==e[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionText",{get:function(){var t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;if(!t||!e)return"";var i=[];if(3===this._activeSelectionMode){if(t[0]===e[0])return"";for(var n=t[1];n<=e[1];n++){var o=this._buffer.translateBufferLineToString(n,!0,t[0],e[0]);i.push(o)}}else{var r=t[1]===e[1]?e[0]:null;i.push(this._buffer.translateBufferLineToString(t[1],!0,t[0],r));for(n=t[1]+1;n<=e[1]-1;n++){var s=this._buffer.lines.get(n);o=this._buffer.translateBufferLineToString(n,!0);s.isWrapped?i[i.length-1]+=o:i.push(o)}if(t[1]!==e[1]){s=this._buffer.lines.get(e[1]),o=this._buffer.translateBufferLineToString(e[1],!0,0,e[0]);s.isWrapped?i[i.length-1]+=o:i.push(o)}}return i.map(function(t){return t.replace(p," ")}).join(a.isMSWindows?"\r\n":"\n")},enumerable:!0,configurable:!0}),e.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh()},e.prototype.refresh=function(t){var e=this;(this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return e._refresh()})),a.isLinux&&t)&&(this.selectionText.length&&this.emit("newselection",this.selectionText))},e.prototype._refresh=function(){this._refreshAnimationFrame=null,this.emit("refresh",{start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},e.prototype.isClickInSelection=function(t){var e=this._getMouseBufferCoords(t),i=this._model.finalSelectionStart,n=this._model.finalSelectionEnd;return!(!i||!n)&&(e[1]>i[1]&&e[1]<n[1]||i[1]===n[1]&&e[1]===i[1]&&e[0]>i[0]&&e[0]<n[0]||i[1]<n[1]&&e[1]===n[1]&&e[0]<n[0])},e.prototype.selectWordAtCursor=function(t){var e=this._getMouseBufferCoords(t);e&&(this._selectWordAt(e,!1),this._model.selectionEnd=null,this.refresh(!0))},e.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._terminal.emit("selection")},e.prototype.selectLines=function(t,e){this._model.clearSelection(),t=Math.max(t,0),e=Math.min(e,this._terminal.buffer.lines.length-1),this._model.selectionStart=[0,t],this._model.selectionEnd=[this._terminal.cols,e],this.refresh(),this._terminal.emit("selection")},e.prototype._onTrim=function(t){this._model.onTrim(t)&&this.refresh()},e.prototype._getMouseBufferCoords=function(t){var e=this._terminal.mouseHelper.getCoords(t,this._terminal.screenElement,this._charMeasure,this._terminal.options.lineHeight,this._terminal.cols,this._terminal.rows,!0);return e?(e[0]--,e[1]--,e[1]+=this._terminal.buffer.ydisp,e):null},e.prototype._getMouseEventScrollAmount=function(t){var e=r.MouseHelper.getCoordsRelativeToElement(t,this._terminal.screenElement)[1],i=this._terminal.rows*Math.ceil(this._charMeasure.height*this._terminal.options.lineHeight);return e>=0&&e<=i?0:(e>i&&(e-=i),e=Math.min(Math.max(e,-50),50),(e/=50)/Math.abs(e)+Math.round(14*e))},e.prototype.shouldForceSelection=function(t){return a.isMac?t.altKey&&this._terminal.options.macOptionClickForcesSelection:t.shiftKey},e.prototype.onMouseDown=function(t){if(this._mouseDownTimeStamp=t.timeStamp,(2!==t.button||!this.hasSelection)&&0===t.button){if(!this._enabled){if(!this.shouldForceSelection(t))return;t.stopPropagation()}t.preventDefault(),this._dragScrollAmount=0,this._enabled&&t.shiftKey?this._onIncrementalClick(t):1===t.detail?this._onSingleClick(t):2===t.detail?this._onDoubleClick(t):3===t.detail&&this._onTripleClick(t),this._addMouseDownListeners(),this.refresh(!0)}},e.prototype._addMouseDownListeners=function(){var t=this;this._terminal.element.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.addEventListener("mouseup",this._mouseUpListener),this._dragScrollIntervalTimer=setInterval(function(){return t._dragScroll()},50)},e.prototype._removeMouseDownListeners=function(){this._terminal.element.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.removeEventListener("mouseup",this._mouseUpListener),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=null},e.prototype._onIncrementalClick=function(t){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(t))},e.prototype._onSingleClick=function(t){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(t)?3:0,this._model.selectionStart=this._getMouseBufferCoords(t),this._model.selectionStart){this._model.selectionEnd=null;var e=this._buffer.lines.get(this._model.selectionStart[1]);if(e)if(!(e.length>=this._model.selectionStart[0]))0===e[this._model.selectionStart[0]][c.CHAR_DATA_WIDTH_INDEX]&&this._model.selectionStart[0]++}},e.prototype._onDoubleClick=function(t){var e=this._getMouseBufferCoords(t);e&&(this._activeSelectionMode=1,this._selectWordAt(e,!0))},e.prototype._onTripleClick=function(t){var e=this._getMouseBufferCoords(t);e&&(this._activeSelectionMode=2,this._selectLineAt(e[1]))},e.prototype.shouldColumnSelect=function(t){return t.altKey&&!(a.isMac&&this._terminal.options.macOptionClickForcesSelection)},e.prototype._onMouseMove=function(t){t.stopImmediatePropagation();var e=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(t),this._model.selectionEnd){if(2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._terminal.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(t),this._dragScrollAmount>0?this._model.selectionEnd[0]=this._terminal.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]<this._buffer.lines.length){var i=this._buffer.lines.get(this._model.selectionEnd[1])[this._model.selectionEnd[0]];i&&0===i[c.CHAR_DATA_WIDTH_INDEX]&&this._model.selectionEnd[0]++}e&&e[0]===this._model.selectionEnd[0]&&e[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)},e.prototype._dragScroll=function(){this._dragScrollAmount&&(this._terminal.scrollLines(this._dragScrollAmount,!1),this._dragScrollAmount>0?this._model.selectionEnd=[this._terminal.cols-1,Math.min(this._terminal.buffer.ydisp+this._terminal.rows,this._terminal.buffer.lines.length-1)]:this._model.selectionEnd=[0,this._terminal.buffer.ydisp],this.refresh())},e.prototype._onMouseUp=function(t){var e=t.timeStamp-this._mouseDownTimeStamp;this._removeMouseDownListeners(),this.selectionText.length<=1&&e<500?new u.AltClickHandler(t,this._terminal).move():this.hasSelection&&this._terminal.emit("selection")},e.prototype._onBufferActivate=function(t){this.clearSelection(),t.inactiveBuffer.lines.off("trim",this._trimListener),t.activeBuffer.lines.on("trim",this._trimListener)},e.prototype._convertViewportColToCharacterIndex=function(t,e){for(var i=e[0],n=0;e[0]>=n;n++){var o=t[n];0===o[c.CHAR_DATA_WIDTH_INDEX]?i--:o[c.CHAR_DATA_CHAR_INDEX].length>1&&e[0]!==n&&(i+=o[c.CHAR_DATA_CHAR_INDEX].length-1)}return i},e.prototype.setSelection=function(t,e,i){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[t,e],this._model.selectionStartLength=i,this.refresh()},e.prototype._getWordAt=function(t,e){if(t[0]>=this._terminal.cols)return null;var i=this._buffer.lines.get(t[1]);if(!i)return null;var n=this._buffer.translateBufferLineToString(t[1],!1),o=this._convertViewportColToCharacterIndex(i,t),r=o,a=t[0]-o,s=0,l=0,u=0,d=0;if(" "===n.charAt(o)){for(;o>0&&" "===n.charAt(o-1);)o--;for(;r<n.length&&" "===n.charAt(r+1);)r++}else{var p=t[0],f=t[0];for(0===i[p][c.CHAR_DATA_WIDTH_INDEX]&&(s++,p--),2===i[f][c.CHAR_DATA_WIDTH_INDEX]&&(l++,f++),i[f][c.CHAR_DATA_CHAR_INDEX].length>1&&(d+=i[f][c.CHAR_DATA_CHAR_INDEX].length-1,r+=i[f][c.CHAR_DATA_CHAR_INDEX].length-1);p>0&&o>0&&!this._isCharWordSeparator(i[p-1]);){0===(h=i[p-1])[c.CHAR_DATA_WIDTH_INDEX]?(s++,p--):h[c.CHAR_DATA_CHAR_INDEX].length>1&&(u+=h[c.CHAR_DATA_CHAR_INDEX].length-1,o-=h[c.CHAR_DATA_CHAR_INDEX].length-1),o--,p--}for(;f<i.length&&r+1<n.length&&!this._isCharWordSeparator(i[f+1]);){var h;2===(h=i[f+1])[c.CHAR_DATA_WIDTH_INDEX]?(l++,f++):h[c.CHAR_DATA_CHAR_INDEX].length>1&&(d+=h[c.CHAR_DATA_CHAR_INDEX].length-1,r+=h[c.CHAR_DATA_CHAR_INDEX].length-1),r++,f++}}r++;var _=o+a-s+u,m=Math.min(this._terminal.cols,r-o+s+l-u-d);return e||""!==n.slice(o,r).trim()?{start:_,length:m}:null},e.prototype._selectWordAt=function(t,e){var i=this._getWordAt(t,e);i&&(this._model.selectionStart=[i.start,t[1]],this._model.selectionStartLength=i.length)},e.prototype._selectToWordAt=function(t){var e=this._getWordAt(t,!0);e&&(this._model.selectionEnd=[this._model.areSelectionValuesReversed()?e.start:e.start+e.length,t[1]])},e.prototype._isCharWordSeparator=function(t){return 0!==t[c.CHAR_DATA_WIDTH_INDEX]&&" ()[]{}'\"".indexOf(t[c.CHAR_DATA_CHAR_INDEX])>=0},e.prototype._selectLineAt=function(t){var e=this._buffer.getWrappedRangeForLine(t);this._model.selectionStart=[0,e.first],this._model.selectionEnd=[this._terminal.cols,e.last],this._model.selectionStartLength=0},e}(s.EventEmitter);i.SelectionManager=f},{"./Buffer":27,"./EventEmitter":32,"./SelectionModel":36,"./handlers/AltClickHandler":46,"./shared/utils/Browser":69,"./utils/MouseHelper":76}],36:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){this._terminal=t,this.clearSelection()}return t.prototype.clearSelection=function(){this.selectionStart=null,this.selectionEnd=null,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(t.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finalSelectionEnd",{get:function(){return this.isSelectAllActive?[this._terminal.cols,this._terminal.buffer.ybase+this._terminal.rows-1]:this.selectionStart?!this.selectionEnd||this.areSelectionValuesReversed()?[this.selectionStart[0]+this.selectionStartLength,this.selectionStart[1]]:this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd:null},enumerable:!0,configurable:!0}),t.prototype.areSelectionValuesReversed=function(){var t=this.selectionStart,e=this.selectionEnd;return!(!t||!e)&&(t[1]>e[1]||t[1]===e[1]&&t[0]>e[0])},t.prototype.onTrim=function(t){return this.selectionStart&&(this.selectionStart[1]-=t),this.selectionEnd&&(this.selectionEnd[1]-=t),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},t}();i.SelectionModel=n},{}],37:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_BELL_SOUND="data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==";var n=function(){function t(t){this._terminal=t}return t.prototype.playBellSound=function(){var t=window.AudioContext||window.webkitAudioContext;if(!this._audioContext&&t&&(this._audioContext=new t),this._audioContext){var e=this._audioContext.createBufferSource(),i=this._audioContext;this._audioContext.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)),function(t){e.buffer=t,e.connect(i.destination),e.start(0)})}else console.warn("Sorry, but the Web Audio API is not supported by your browser. Please, consider upgrading to the latest version")},t.prototype._base64ToArrayBuffer=function(t){for(var e=window.atob(t),i=e.length,n=new Uint8Array(i),o=0;o<i;o++)n[o]=e.charCodeAt(o);return n.buffer},t.prototype._removeMimeType=function(t){return t.split(",")[1]},t}();i.SoundManager=n},{}],38:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.blankLine="Blank line",i.promptLabel="Terminal input",i.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},{}],39:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./BufferSet"),a=t("./Buffer"),s=t("./CompositionHelper"),l=t("./EventEmitter"),c=t("./Viewport"),u=t("./handlers/Clipboard"),d=t("./common/data/EscapeSequences"),p=t("./InputHandler"),f=t("./renderer/Renderer"),h=t("./Linkifier"),_=t("./SelectionManager"),m=t("./ui/CharMeasure"),g=t("./shared/utils/Browser"),v=t("./ui/Lifecycle"),E=t("./Strings"),C=t("./utils/MouseHelper"),T=t("./utils/Clone"),S=t("./SoundManager"),y=t("./renderer/ColorManager"),A=t("./ui/MouseZoneManager"),b=t("./AccessibilityManager"),I=t("./ui/ScreenDprMonitor"),O=t("./renderer/atlas/CharAtlasCache"),R=t("./renderer/dom/DomRenderer"),D=t("./core/input/Keyboard"),w="undefined"!=typeof window?window.document:null,N=["cols","rows","rendererType"],L={cols:80,rows:24,convertEol:!1,termName:"xterm",cursorBlink:!1,cursorStyle:"block",bellSound:S.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,enableBold:!0,experimentalCharAtlas:"static",fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,scrollback:1e3,screenKeys:!1,screenReaderMode:!1,debug:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,cancelEvents:!1,disableStdin:!1,useFlowControl:!1,allowTransparency:!1,tabStopWidth:8,theme:null,rightClickSelectsWord:g.isMac,rendererType:"canvas"},M=function(t){function e(e){void 0===e&&(e={});var i=t.call(this)||this;return i.browser=g,i.options=T.clone(e),i._setup(),i}return o(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._customKeyEventHandler=null,O.removeTerminalFromCache(this),this.handler=function(){},this.write=function(){},this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},e.prototype.destroy=function(){this.dispose()},e.prototype._setup=function(){var t=this;Object.keys(L).forEach(function(e){null==t.options[e]&&(t.options[e]=L[e])}),this._parent=w?w.body:null,this.cols=this.options.cols,this.rows=this.options.rows,this.options.handler&&this.on("data",this.options.handler),this.cursorState=0,this.cursorHidden=!1,this._sendDataQueue="",this._customKeyEventHandler=null,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!0,this.bracketedPasteMode=!1,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.curAttr=a.DEFAULT_ATTR,this.params=[],this.currentParam=0,this.writeBuffer=[],this._writeInProgress=!1,this._xoffSentToCatchUp=!1,this._userScrolling=!1,this._inputHandler=new p.InputHandler(this),this.register(this._inputHandler),this.renderer=this.renderer||null,this.selectionManager=this.selectionManager||null,this.linkifier=this.linkifier||new h.Linkifier(this),this._mouseZoneManager=this._mouseZoneManager||null,this.soundManager=this.soundManager||new S.SoundManager(this),this.buffers=new r.BufferSet(this),this.selectionManager&&(this.selectionManager.clearSelection(),this.selectionManager.initBuffersListeners())},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!0,configurable:!0}),e.prototype.eraseAttr=function(){return-512&a.DEFAULT_ATTR|511&this.curAttr},e.prototype.focus=function(){this.textarea&&this.textarea.focus()},Object.defineProperty(e.prototype,"isFocused",{get:function(){return w.activeElement===this.textarea},enumerable:!0,configurable:!0}),e.prototype.getOption=function(t){if(!(t in L))throw new Error('No option with key "'+t+'"');return this.options[t]},e.prototype.setOption=function(t,e){if(!(t in L))throw new Error('No option with key "'+t+'"');switch(-1!==N.indexOf(t)&&console.error('Option "'+t+'" can only be set in the constructor'),t){case"bellStyle":e||(e="none");break;case"cursorStyle":e||(e="block");break;case"fontWeight":e||(e="normal");break;case"fontWeightBold":e||(e="bold");break;case"lineHeight":if(e<1)return void console.warn(t+" cannot be less than 1, value: "+e);case"tabStopWidth":if(e<1)return void console.warn(t+" cannot be less than 1, value: "+e);break;case"theme":if(this.renderer)return void this._setTheme(e);break;case"scrollback":if((e=Math.min(e,a.MAX_BUFFER_SIZE))<0)return void console.warn(t+" cannot be less than 0, value: "+e);if(this.options[t]!==e){var i=this.rows+e;if(this.buffer.lines.length>i){var n=this.buffer.lines.length-i,o=this.buffer.ydisp-n<0;this.buffer.lines.trimStart(n),this.buffer.ybase=Math.max(this.buffer.ybase-n,0),this.buffer.ydisp=Math.max(this.buffer.ydisp-n,0),o&&this.refresh(0,this.rows-1)}}}switch(this.options[t]=e,t){case"fontFamily":case"fontSize":this.renderer&&(this.renderer.clear(),this.charMeasure.measure(this.options));break;case"drawBoldTextInBrightColors":case"experimentalCharAtlas":case"enableBold":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":this.renderer&&(this.renderer.clear(),this.renderer.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));case"scrollback":this.buffers.resize(this.cols,this.rows),this.viewport&&this.viewport.syncScrollArea();break;case"screenReaderMode":e?this._accessibilityManager||(this._accessibilityManager=new b.AccessibilityManager(this)):this._accessibilityManager&&(this._accessibilityManager.dispose(),this._accessibilityManager=null);break;case"tabStopWidth":this.buffers.setupTabStops()}this.renderer&&this.renderer.onOptionsChanged()},e.prototype._onTextAreaFocus=function(){this.sendFocus&&this.send(d.C0.ESC+"[I"),this.element.classList.add("focus"),this.showCursor(),this.emit("focus")},e.prototype.blur=function(){return this.textarea.blur()},e.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.sendFocus&&this.send(d.C0.ESC+"[O"),this.element.classList.remove("focus"),this.emit("blur")},e.prototype._initGlobal=function(){var t=this;this._bindKeys(),this.register(v.addDisposableDomListener(this.element,"copy",function(e){t.hasSelection()&&u.copyHandler(e,t,t.selectionManager)}));var e=function(e){return u.pasteHandler(e,t)};this.register(v.addDisposableDomListener(this.textarea,"paste",e)),this.register(v.addDisposableDomListener(this.element,"paste",e)),g.isFirefox?this.register(v.addDisposableDomListener(this.element,"mousedown",function(e){2===e.button&&u.rightClickHandler(e,t.textarea,t.selectionManager,t.options.rightClickSelectsWord)})):this.register(v.addDisposableDomListener(this.element,"contextmenu",function(e){u.rightClickHandler(e,t.textarea,t.selectionManager,t.options.rightClickSelectsWord)})),g.isLinux&&this.register(v.addDisposableDomListener(this.element,"auxclick",function(e){1===e.button&&u.moveTextAreaUnderMouseCursor(e,t.textarea)}))},e.prototype._bindKeys=function(){var t=this,e=this;this.register(v.addDisposableDomListener(this.element,"keydown",function(t){w.activeElement===this&&e._keyDown(t)},!0)),this.register(v.addDisposableDomListener(this.element,"keypress",function(t){w.activeElement===this&&e._keyPress(t)},!0)),this.register(v.addDisposableDomListener(this.element,"keyup",function(i){(function(t){return 16===t.keyCode||17===t.keyCode||18===t.keyCode})(i)||t.focus(),e._keyUp(i)},!0)),this.register(v.addDisposableDomListener(this.textarea,"keydown",function(e){return t._keyDown(e)},!0)),this.register(v.addDisposableDomListener(this.textarea,"keypress",function(e){return t._keyPress(e)},!0)),this.register(v.addDisposableDomListener(this.textarea,"compositionstart",function(){return t._compositionHelper.compositionstart()})),this.register(v.addDisposableDomListener(this.textarea,"compositionupdate",function(e){return t._compositionHelper.compositionupdate(e)})),this.register(v.addDisposableDomListener(this.textarea,"compositionend",function(){return t._compositionHelper.compositionend()})),this.register(this.addDisposableListener("refresh",function(){return t._compositionHelper.updateCompositionElements()})),this.register(this.addDisposableListener("refresh",function(e){return t._queueLinkification(e.start,e.end)}))},e.prototype.open=function(t){var e=this;if(this._parent=t||this._parent,!this._parent)throw new Error("Terminal requires a parent element.");this._context=this._parent.ownerDocument.defaultView,this._document=this._parent.ownerDocument,this._screenDprMonitor=new I.ScreenDprMonitor,this._screenDprMonitor.setListener(function(){return e.emit("dprchange",window.devicePixelRatio)}),this.register(this._screenDprMonitor),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),this._parent.appendChild(this.element);var i=w.createDocumentFragment();switch(this._viewportElement=w.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),i.appendChild(this._viewportElement),this._viewportScrollArea=w.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=w.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=w.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),i.appendChild(this.screenElement),this._mouseZoneManager=new A.MouseZoneManager(this),this.register(this._mouseZoneManager),this.register(this.addDisposableListener("scroll",function(){return e._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this._mouseZoneManager),this.textarea=w.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",E.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register(v.addDisposableDomListener(this.textarea,"focus",function(){return e._onTextAreaFocus()})),this.register(v.addDisposableDomListener(this.textarea,"blur",function(){return e._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea),this._compositionView=w.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=new s.CompositionHelper(this.textarea,this._compositionView,this),this._helperContainer.appendChild(this._compositionView),this.charMeasure=new m.CharMeasure(w,this._helperContainer),this.element.appendChild(i),this.options.rendererType){case"canvas":this.renderer=new f.Renderer(this,this.options.theme);break;case"dom":this.renderer=new R.DomRenderer(this,this.options.theme);break;default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}this.register(this.renderer),this.options.theme=null,this.viewport=new c.Viewport(this,this._viewportElement,this._viewportScrollArea,this.charMeasure),this.viewport.onThemeChanged(this.renderer.colorManager.colors),this.register(this.viewport),this.register(this.addDisposableListener("cursormove",function(){return e.renderer.onCursorMove()})),this.register(this.addDisposableListener("resize",function(){return e.renderer.onResize(e.cols,e.rows)})),this.register(this.addDisposableListener("blur",function(){return e.renderer.onBlur()})),this.register(this.addDisposableListener("focus",function(){return e.renderer.onFocus()})),this.register(this.addDisposableListener("dprchange",function(){return e.renderer.onWindowResize(window.devicePixelRatio)})),this.register(v.addDisposableDomListener(window,"resize",function(){return e.renderer.onWindowResize(window.devicePixelRatio)})),this.register(this.charMeasure.addDisposableListener("charsizechanged",function(){return e.renderer.onCharSizeChanged()})),this.register(this.renderer.addDisposableListener("resize",function(t){return e.viewport.syncScrollArea()})),this.selectionManager=new _.SelectionManager(this,this.charMeasure),this.register(v.addDisposableDomListener(this.element,"mousedown",function(t){return e.selectionManager.onMouseDown(t)})),this.register(this.selectionManager.addDisposableListener("refresh",function(t){return e.renderer.onSelectionChanged(t.start,t.end,t.columnSelectMode)})),this.register(this.selectionManager.addDisposableListener("newselection",function(t){e.textarea.value=t,e.textarea.focus(),e.textarea.select()})),this.register(this.addDisposableListener("scroll",function(){e.viewport.syncScrollArea(),e.selectionManager.refresh()})),this.register(v.addDisposableDomListener(this._viewportElement,"scroll",function(){return e.selectionManager.refresh()})),this.mouseHelper=new C.MouseHelper(this.renderer),this.options.screenReaderMode&&(this._accessibilityManager=new b.AccessibilityManager(this)),this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},e.prototype._setTheme=function(t){var e=this.renderer.setTheme(t);this.viewport&&this.viewport.onThemeChanged(e)},e.prototype.bindMouse=function(){var t=this,e=this.element,i=this,n=32;function o(t){var e,o;if(e=function(t){var e,n,o,r,a;switch(t.overrideType||t.type){case"mousedown":e=null!=t.button?+t.button:null!=t.which?t.which-1:null,g.isMSIE&&(e=1===e?0:4===e?1:e);break;case"mouseup":e=3;break;case"DOMMouseScroll":e=t.detail<0?64:65;break;case"wheel":e=t.wheelDeltaY>0?64:65}n=t.shiftKey?4:0,o=t.metaKey?8:0,r=t.ctrlKey?16:0,a=n|o|r,i.vt200Mouse?a&=r:i.normalMouse||(a=0);return e=32+(a<<2)+e}(t),o=i.mouseHelper.getRawByteCoords(t,i.screenElement,i.charMeasure,i.options.lineHeight,i.cols,i.rows))switch(a(e,o),t.overrideType||t.type){case"mousedown":n=e;break;case"mouseup":n=32}}function r(t,e){if(i.utfMouse){if(2047===e)return void t.push(0);e<127?t.push(e):(e>2047&&(e=2047),t.push(192|e>>6),t.push(128|63&e))}else{if(255===e)return void t.push(0);e>127&&(e=127),t.push(e)}}function a(t,e){if(i._vt300Mouse){t&=3,e.x-=32,e.y-=32;var n=d.C0.ESC+"[24";if(0===t)n+="1";else if(1===t)n+="3";else if(2===t)n+="5";else{if(3===t)return;n+="0"}return n+="~["+e.x+","+e.y+"]\r",void i.send(n)}if(i._decLocator)return t&=3,e.x-=32,e.y-=32,0===t?t=2:1===t?t=4:2===t?t=6:3===t&&(t=3),void i.send(d.C0.ESC+"["+t+";"+(3===t?4:0)+";"+e.y+";"+e.x+";"+e.page||"0&w");if(i.urxvtMouse)return e.x-=32,e.y-=32,e.x++,e.y++,void i.send(d.C0.ESC+"["+t+";"+e.x+";"+e.y+"M");if(i.sgrMouse)return e.x-=32,e.y-=32,void i.send(d.C0.ESC+"[<"+((3==(3&t)?-4&t:t)-32)+";"+e.x+";"+e.y+(3==(3&t)?"m":"M"));var o=[];r(o,t),r(o,e.x),r(o,e.y),i.send(d.C0.ESC+"[M"+String.fromCharCode.apply(String,o))}this.register(v.addDisposableDomListener(e,"mousedown",function(e){if(e.preventDefault(),t.focus(),t.mouseEvents&&!t.selectionManager.shouldForceSelection(e)){if(o(e),t.vt200Mouse)return e.overrideType="mouseup",o(e),t.cancel(e);var r;t.normalMouse&&(r=function(e){var o,r,s;t.normalMouse&&(o=e,r=n,(s=i.mouseHelper.getRawByteCoords(o,i.screenElement,i.charMeasure,i.options.lineHeight,i.cols,i.rows))&&a(r+=32,s))},t._document.addEventListener("mousemove",r));var s=function(e){return t.normalMouse&&!t.x10Mouse&&o(e),r&&(t._document.removeEventListener("mousemove",r),r=null),t._document.removeEventListener("mouseup",s),t.cancel(e)};return t._document.addEventListener("mouseup",s),t.cancel(e)}})),this.register(v.addDisposableDomListener(e,"wheel",function(e){if(t.mouseEvents)t.x10Mouse||t._vt300Mouse||t._decLocator||(o(e),e.preventDefault());else if(!t.buffer.hasScrollback){var i=t.viewport.getLinesScrolled(e);if(0===i)return;for(var n=d.C0.ESC+(t.applicationCursor?"O":"[")+(e.deltaY<0?"A":"B"),r="",a=0;a<Math.abs(i);a++)r+=n;t.send(r)}})),this.register(v.addDisposableDomListener(e,"wheel",function(e){if(!t.mouseEvents)return t.viewport.onWheel(e),t.cancel(e)})),this.register(v.addDisposableDomListener(e,"touchstart",function(e){if(!t.mouseEvents)return t.viewport.onTouchStart(e),t.cancel(e)})),this.register(v.addDisposableDomListener(e,"touchmove",function(e){if(!t.mouseEvents)return t.viewport.onTouchMove(e),t.cancel(e)}))},e.prototype.refresh=function(t,e){this.renderer&&this.renderer.refreshRows(t,e)},e.prototype._queueLinkification=function(t,e){this.linkifier&&this.linkifier.linkifyRows(t,e)},e.prototype.updateCursorStyle=function(t){this.selectionManager&&this.selectionManager.shouldColumnSelect(t)?this.element.classList.add("xterm-cursor-crosshair"):this.element.classList.remove("xterm-cursor-crosshair")},e.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.buffer.y,this.buffer.y))},e.prototype.scroll=function(t){var e=this.blankLine(void 0,t),i=this.buffer.ybase+this.buffer.scrollTop,n=this.buffer.ybase+this.buffer.scrollBottom;if(0===this.buffer.scrollTop){var o=this.buffer.lines.length===this.buffer.lines.maxLength;n===this.buffer.lines.length-1?this.buffer.lines.push(e):this.buffer.lines.splice(n+1,0,e),o?this._userScrolling&&(this.buffer.ydisp=Math.max(this.buffer.ydisp-1,0)):(this.buffer.ybase++,this._userScrolling||this.buffer.ydisp++)}else{var r=n-i+1;this.buffer.lines.shiftElements(i+1,r-1,-1),this.buffer.lines.set(n,e)}this._userScrolling||(this.buffer.ydisp=this.buffer.ybase),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom),this.emit("scroll",this.buffer.ydisp)},e.prototype.scrollLines=function(t,e){if(t<0){if(0===this.buffer.ydisp)return;this._userScrolling=!0}else t+this.buffer.ydisp>=this.buffer.ybase&&(this._userScrolling=!1);var i=this.buffer.ydisp;this.buffer.ydisp=Math.max(Math.min(this.buffer.ydisp+t,this.buffer.ybase),0),i!==this.buffer.ydisp&&(e||this.emit("scroll",this.buffer.ydisp),this.refresh(0,this.rows-1))},e.prototype.scrollPages=function(t){this.scrollLines(t*(this.rows-1))},e.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},e.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},e.prototype.scrollToLine=function(t){var e=t-this.buffer.ydisp;0!==e&&this.scrollLines(e)},e.prototype.write=function(t){var e=this;t&&(this.writeBuffer.push(t),this.options.useFlowControl&&!this._xoffSentToCatchUp&&this.writeBuffer.length>=5&&(this.send(d.C0.DC3),this._xoffSentToCatchUp=!0),!this._writeInProgress&&this.writeBuffer.length>0&&(this._writeInProgress=!0,setTimeout(function(){e._innerWrite()})))},e.prototype._innerWrite=function(){for(var t=this,e=this.writeBuffer.splice(0,300);e.length>0;){var i=e.shift();this._xoffSentToCatchUp&&0===e.length&&0===this.writeBuffer.length&&(this.send(d.C0.DC1),this._xoffSentToCatchUp=!1),this._refreshStart=this.buffer.y,this._refreshEnd=this.buffer.y,this._inputHandler.parse(i),this.updateRange(this.buffer.y),this.refresh(this._refreshStart,this._refreshEnd)}this.writeBuffer.length>0?setTimeout(function(){return t._innerWrite()},0):this._writeInProgress=!1},e.prototype.writeln=function(t){this.write(t+"\r\n")},e.prototype.attachCustomKeyEventHandler=function(t){this._customKeyEventHandler=t},e.prototype.registerLinkMatcher=function(t,e,i){var n=this.linkifier.registerLinkMatcher(t,e,i);return this.refresh(0,this.rows-1),n},e.prototype.deregisterLinkMatcher=function(t){this.linkifier.deregisterLinkMatcher(t)&&this.refresh(0,this.rows-1)},Object.defineProperty(e.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!0,configurable:!0}),e.prototype.addMarker=function(t){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+t)},e.prototype.hasSelection=function(){return!!this.selectionManager&&this.selectionManager.hasSelection},e.prototype.getSelection=function(){return this.selectionManager?this.selectionManager.selectionText:""},e.prototype.clearSelection=function(){this.selectionManager&&this.selectionManager.clearSelection()},e.prototype.selectAll=function(){this.selectionManager&&this.selectionManager.selectAll()},e.prototype.selectLines=function(t,e){this.selectionManager&&this.selectionManager.selectLines(t,e)},e.prototype._keyDown=function(t){if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(t))return!1;if(!this._compositionHelper.keydown(t))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var e=D.evaluateKeyboardEvent(t,this.applicationCursor,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(t),3===e.type||2===e.type){var i=this.rows-1;return this.scrollLines(2===e.type?-i:i),this.cancel(t,!0)}return 1===e.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,t)||(e.cancel&&this.cancel(t,!0),!e.key||(this.emit("keydown",t),this.emit("key",e.key,t),this.showCursor(),this.handler(e.key),this.cancel(t,!0)))},e.prototype._isThirdLevelShift=function(t,e){var i=t.isMac&&!this.options.macOptionIsMeta&&e.altKey&&!e.ctrlKey&&!e.metaKey||t.isMSWindows&&e.altKey&&e.ctrlKey&&!e.metaKey;return"keypress"===e.type?i:i&&(!e.keyCode||e.keyCode>47)},e.prototype.setgLevel=function(t){this.glevel=t,this.charset=this.charsets[t]},e.prototype.setgCharset=function(t,e){this.charsets[t]=e,this.glevel===t&&(this.charset=e)},e.prototype._keyUp=function(t){this.updateCursorStyle(t)},e.prototype._keyPress=function(t){var e;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(t))return!1;if(this.cancel(t),t.charCode)e=t.charCode;else if(null==t.which)e=t.keyCode;else{if(0===t.which||0===t.charCode)return!1;e=t.which}return!(!e||(t.altKey||t.ctrlKey||t.metaKey)&&!this._isThirdLevelShift(this.browser,t))&&(e=String.fromCharCode(e),this.emit("keypress",e,t),this.emit("key",e,t),this.showCursor(),this.handler(e),!0)},e.prototype.send=function(t){var e=this;this._sendDataQueue||setTimeout(function(){e.handler(e._sendDataQueue),e._sendDataQueue=""},1),this._sendDataQueue+=t},e.prototype.bell=function(){var t=this;this.emit("bell"),this._soundBell()&&this.soundManager.playBellSound(),this._visualBell()&&(this.element.classList.add("visual-bell-active"),clearTimeout(this._visualBellTimer),this._visualBellTimer=window.setTimeout(function(){t.element.classList.remove("visual-bell-active")},200))},e.prototype.log=function(t,e){this.options.debug&&this._context.console&&this._context.console.log&&this._context.console.log(t,e)},e.prototype.error=function(t,e){this.options.debug&&this._context.console&&this._context.console.error&&this._context.console.error(t,e)},e.prototype.resize=function(t,e){isNaN(t)||isNaN(e)||(t!==this.cols||e!==this.rows?(t<1&&(t=1),e<1&&(e=1),this.buffers.resize(t,e),this.cols=t,this.rows=e,this.buffers.setupTabStops(this.cols),this.charMeasure&&this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this.emit("resize",{cols:t,rows:e})):!this.charMeasure||this.charMeasure.width&&this.charMeasure.height||this.charMeasure.measure(this.options))},e.prototype.updateRange=function(t){t<this._refreshStart&&(this._refreshStart=t),t>this._refreshEnd&&(this._refreshEnd=t)},e.prototype.maxRange=function(){this._refreshStart=0,this._refreshEnd=this.rows-1},e.prototype.eraseRight=function(t,e){var i=this.buffer.lines.get(this.buffer.ybase+e);if(i){for(var n=[this.eraseAttr()," ",1,32];t<this.cols;t++)i[t]=n;this.updateRange(e)}},e.prototype.eraseLeft=function(t,e){var i=this.buffer.lines.get(this.buffer.ybase+e);if(i){var n=[this.eraseAttr()," ",1,32];for(t++;t--;)i[t]=n;this.updateRange(e)}},e.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var t=1;t<this.rows;t++)this.buffer.lines.push(this.blankLine());this.refresh(0,this.rows-1),this.emit("scroll",this.buffer.ydisp)}},e.prototype.eraseLine=function(t){this.eraseRight(0,t)},e.prototype.blankLine=function(t,e,i){var n=[t?this.eraseAttr():a.DEFAULT_ATTR," ",1,32],o=[];e&&(o.isWrapped=e),i=i||this.cols;for(var r=0;r<i;r++)o[r]=n;return o},e.prototype.ch=function(t){return t?[this.eraseAttr()," ",1,32]:[a.DEFAULT_ATTR," ",1,32]},e.prototype.is=function(t){return 0===(this.options.termName+"").indexOf(t)},e.prototype.handler=function(t){this.options.disableStdin||(this.selectionManager&&this.selectionManager.hasSelection&&this.selectionManager.clearSelection(),this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),this.emit("data",t))},e.prototype.handleTitle=function(t){this.emit("title",t)},e.prototype.index=function(){this.buffer.y++,this.buffer.y>this.buffer.scrollBottom&&(this.buffer.y--,this.scroll()),this.buffer.x>=this.cols&&this.buffer.x--},e.prototype.reverseIndex=function(){if(this.buffer.y===this.buffer.scrollTop){var t=this.buffer.scrollBottom-this.buffer.scrollTop;this.buffer.lines.shiftElements(this.buffer.y+this.buffer.ybase,t,1),this.buffer.lines.set(this.buffer.y+this.buffer.ybase,this.blankLine(!0)),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom)}else this.buffer.y--},e.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols;var t=this._customKeyEventHandler,e=this._inputHandler,i=this.cursorState;this._setup(),this._customKeyEventHandler=t,this._inputHandler=e,this.cursorState=i,this.refresh(0,this.rows-1),this.viewport&&this.viewport.syncScrollArea()},e.prototype.tabSet=function(){this.buffer.tabs[this.buffer.x]=!0},e.prototype.cancel=function(t,e){if(this.options.cancelEvents||e)return t.preventDefault(),t.stopPropagation(),!1},e.prototype.matchColor=function(t,e,i){var n=t<<16|e<<8|i;if(null!=P[n])return P[n];for(var o,r,a=1/0,s=-1,l=0;l<y.DEFAULT_ANSI_COLORS.length;l++){if(0===(r=k(t,e,i,(o=y.DEFAULT_ANSI_COLORS[l].rgba)>>>24,o>>>16&255,o>>>8&255))){s=l;break}r<a&&(a=r,s=l)}return P[n]=s},e.prototype._visualBell=function(){return!1},e.prototype._soundBell=function(){return"sound"===this.options.bellStyle},e}(l.EventEmitter);i.Terminal=M;var P={};function k(t,e,i,n,o,r){return Math.pow(30*(t-n),2)+Math.pow(59*(e-o),2)+Math.pow(11*(i-r),2)}},{"./AccessibilityManager":26,"./Buffer":27,"./BufferSet":28,"./CompositionHelper":30,"./EventEmitter":32,"./InputHandler":33,"./Linkifier":34,"./SelectionManager":35,"./SoundManager":37,"./Strings":38,"./Viewport":40,"./common/data/EscapeSequences":43,"./core/input/Keyboard":45,"./handlers/Clipboard":47,"./renderer/ColorManager":50,"./renderer/Renderer":54,"./renderer/atlas/CharAtlasCache":58,"./renderer/dom/DomRenderer":65,"./shared/utils/Browser":69,"./ui/CharMeasure":70,"./ui/Lifecycle":71,"./ui/MouseZoneManager":72,"./ui/ScreenDprMonitor":74,"./utils/Clone":75,"./utils/MouseHelper":76}],40:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./common/Lifecycle"),a=t("./ui/Lifecycle"),s=15,l=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r._terminal=e,r._viewportElement=i,r._scrollArea=n,r._charMeasure=o,r.scrollBarWidth=0,r._currentRowHeight=0,r._lastRecordedBufferLength=0,r._lastRecordedViewportHeight=0,r._lastRecordedBufferHeight=0,r._wheelPartialScroll=0,r.scrollBarWidth=r._viewportElement.offsetWidth-r._scrollArea.offsetWidth||s,r.register(a.addDisposableDomListener(r._viewportElement,"scroll",r._onScroll.bind(r))),setTimeout(function(){return r.syncScrollArea()},0),r}return o(e,t),e.prototype.onThemeChanged=function(t){this._viewportElement.style.backgroundColor=t.background.css},e.prototype._refresh=function(){if(this._charMeasure.height>0){this._currentRowHeight=this._terminal.renderer.dimensions.scaledCellHeight/window.devicePixelRatio,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var t=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._terminal.renderer.dimensions.canvasHeight);this._lastRecordedBufferHeight!==t&&(this._lastRecordedBufferHeight=t,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}},e.prototype.syncScrollArea=function(){this._lastRecordedBufferLength!==this._terminal.buffer.lines.length?(this._lastRecordedBufferLength=this._terminal.buffer.lines.length,this._refresh()):this._lastRecordedViewportHeight!==this._terminal.renderer.dimensions.canvasHeight?this._refresh():this._terminal.renderer.dimensions.scaledCellHeight/window.devicePixelRatio!==this._currentRowHeight&&this._refresh();var t=this._terminal.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._viewportElement.scrollTop=t)},e.prototype._onScroll=function(t){if(this._viewportElement.offsetParent){var e=Math.round(this._viewportElement.scrollTop/this._currentRowHeight)-this._terminal.buffer.ydisp;this._terminal.scrollLines(e,!0)}},e.prototype.onWheel=function(t){var e=this._getPixelsScrolled(t);0!==e&&(this._viewportElement.scrollTop+=e,t.preventDefault())},e.prototype._getPixelsScrolled=function(t){if(0===t.deltaY)return 0;var e=t.deltaY;return t.deltaMode===WheelEvent.DOM_DELTA_LINE?e*=this._currentRowHeight:t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e*=this._currentRowHeight*this._terminal.rows),e},e.prototype.getLinesScrolled=function(t){if(0===t.deltaY)return 0;var e=t.deltaY;return t.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(e/=this._currentRowHeight+0,this._wheelPartialScroll+=e,e=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e*=this._terminal.rows),e},e.prototype.onTouchStart=function(t){this._lastTouchY=t.touches[0].pageY},e.prototype.onTouchMove=function(t){var e=this._lastTouchY-t.touches[0].pageY;this._lastTouchY=t.touches[0].pageY,0!==e&&(this._viewportElement.scrollTop+=e,t.preventDefault())},e}(r.Disposable);i.Viewport=l},{"./common/Lifecycle":42,"./ui/Lifecycle":71}],41:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=function(t){function e(e){var i=t.call(this)||this;return i._maxLength=e,i._array=new Array(i._maxLength),i._startIndex=0,i._length=0,i}return o(e,t),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(t){if(this._maxLength!==t){for(var e=new Array(t),i=0;i<Math.min(t,this.length);i++)e[i]=this._array[this._getCyclicIndex(i)];this._array=e,this._maxLength=t,this._startIndex=0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(t){if(t>this._length)for(var e=this._length;e<t;e++)this._array[e]=void 0;this._length=t},enumerable:!0,configurable:!0}),e.prototype.get=function(t){return this._array[this._getCyclicIndex(t)]},e.prototype.set=function(t,e){this._array[this._getCyclicIndex(t)]=e},e.prototype.push=function(t){this._array[this._getCyclicIndex(this._length)]=t,this._length===this._maxLength?(this._startIndex++,this._startIndex===this._maxLength&&(this._startIndex=0),this.emit("trim",1)):this._length++},e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(e){for(var o=t;o<this._length-e;o++)this._array[this._getCyclicIndex(o)]=this._array[this._getCyclicIndex(o+e)];this._length-=e}if(i&&i.length){for(o=this._length-1;o>=t;o--)this._array[this._getCyclicIndex(o+i.length)]=this._array[this._getCyclicIndex(o)];for(o=0;o<i.length;o++)this._array[this._getCyclicIndex(t+o)]=i[o];if(this._length+i.length>this.maxLength){var r=this._length+i.length-this.maxLength;this._startIndex+=r,this._length=this.maxLength,this.emit("trim",r)}else this._length+=i.length}},e.prototype.trimStart=function(t){t>this._length&&(t=this._length),this._startIndex+=t,this._length-=t,this.emit("trim",t)},e.prototype.shiftElements=function(t,e,i){if(!(e<=0)){if(t<0||t>=this._length)throw new Error("start argument out of range");if(t+i<0)throw new Error("Cannot shift elements in list beyond index 0");if(i>0){for(var n=e-1;n>=0;n--)this.set(t+n+i,this.get(t+n));var o=t+e+i-this._length;if(o>0)for(this._length+=o;this._length>this.maxLength;)this._length--,this._startIndex++,this.emit("trim",1)}else for(n=0;n<e;n++)this.set(t+n+i,this.get(t+n))}},e.prototype._getCyclicIndex=function(t){return(this._startIndex+t)%this.maxLength},e}(t("../EventEmitter").EventEmitter);i.CircularList=r},{"../EventEmitter":32}],42:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this._disposables=[]}return t.prototype.dispose=function(){this._disposables.forEach(function(t){return t.dispose()}),this._disposables.length=0},t.prototype.register=function(t){this._disposables.push(t)},t}();i.Disposable=n},{}],43:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(t){t.NUL="\0",t.SOH="",t.STX="",t.ETX="",t.EOT="",t.ENQ="",t.ACK="",t.BEL="",t.BS="\b",t.HT="\t",t.LF="\n",t.VT="\v",t.FF="\f",t.CR="\r",t.SO="",t.SI="",t.DLE="",t.DC1="",t.DC2="",t.DC3="",t.DC4="",t.NAK="",t.SYN="",t.ETB="",t.CAN="",t.EM="",t.SUB="",t.ESC="",t.FS="",t.GS="",t.RS="",t.US="",t.SP=" ",t.DEL=""}(i.C0||(i.C0={})),function(t){t.PAD="",t.HOP="",t.BPH="",t.NBH="",t.IND="",t.NEL="",t.SSA="",t.ESA="",t.HTS="",t.HTJ="",t.VTS="",t.PLD="",t.PLU="",t.RI="",t.SS2="",t.SS3="",t.DCS="",t.PU1="",t.PU2="",t.STS="",t.CCH="",t.MW="",t.SPA="",t.EPA="",t.SOS="",t.SGCI="",t.SCI="",t.CSI="",t.ST="",t.OSC="",t.PM="",t.APC=""}(i.C1||(i.C1={}))},{}],44:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CHARSETS={},i.DEFAULT_CHARSET=i.CHARSETS.B,i.CHARSETS[0]={"`":"",a:"",b:"\t",c:"\f",d:"\r",e:"\n",f:"",g:"",h:"",i:"\v",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},i.CHARSETS.A={"#":""},i.CHARSETS.B=null,i.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},i.CHARSETS.C=i.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},i.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},i.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.E=i.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},i.CHARSETS.H=i.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},{}],45:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../common/data/EscapeSequences"),o={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};i.evaluateKeyboardEvent=function(t,e,i,r){var a={type:0,cancel:!1,key:void 0},s=(t.shiftKey?1:0)|(t.altKey?2:0)|(t.ctrlKey?4:0)|(t.metaKey?8:0);switch(t.keyCode){case 0:"UIKeyInputUpArrow"===t.key?a.key=e?n.C0.ESC+"OA":n.C0.ESC+"[A":"UIKeyInputLeftArrow"===t.key?a.key=e?n.C0.ESC+"OD":n.C0.ESC+"[D":"UIKeyInputRightArrow"===t.key?a.key=e?n.C0.ESC+"OC":n.C0.ESC+"[C":"UIKeyInputDownArrow"===t.key&&(a.key=e?n.C0.ESC+"OB":n.C0.ESC+"[B");break;case 8:if(t.shiftKey){a.key=n.C0.BS;break}if(t.altKey){a.key=n.C0.ESC+n.C0.DEL;break}a.key=n.C0.DEL;break;case 9:if(t.shiftKey){a.key=n.C0.ESC+"[Z";break}a.key=n.C0.HT,a.cancel=!0;break;case 13:a.key=n.C0.CR,a.cancel=!0;break;case 27:a.key=n.C0.ESC,a.cancel=!0;break;case 37:s?(a.key=n.C0.ESC+"[1;"+(s+1)+"D",a.key===n.C0.ESC+"[1;3D"&&(a.key=i?n.C0.ESC+"b":n.C0.ESC+"[1;5D")):a.key=e?n.C0.ESC+"OD":n.C0.ESC+"[D";break;case 39:s?(a.key=n.C0.ESC+"[1;"+(s+1)+"C",a.key===n.C0.ESC+"[1;3C"&&(a.key=i?n.C0.ESC+"f":n.C0.ESC+"[1;5C")):a.key=e?n.C0.ESC+"OC":n.C0.ESC+"[C";break;case 38:s?(a.key=n.C0.ESC+"[1;"+(s+1)+"A",a.key===n.C0.ESC+"[1;3A"&&(a.key=n.C0.ESC+"[1;5A")):a.key=e?n.C0.ESC+"OA":n.C0.ESC+"[A";break;case 40:s?(a.key=n.C0.ESC+"[1;"+(s+1)+"B",a.key===n.C0.ESC+"[1;3B"&&(a.key=n.C0.ESC+"[1;5B")):a.key=e?n.C0.ESC+"OB":n.C0.ESC+"[B";break;case 45:t.shiftKey||t.ctrlKey||(a.key=n.C0.ESC+"[2~");break;case 46:a.key=s?n.C0.ESC+"[3;"+(s+1)+"~":n.C0.ESC+"[3~";break;case 36:a.key=s?n.C0.ESC+"[1;"+(s+1)+"H":e?n.C0.ESC+"OH":n.C0.ESC+"[H";break;case 35:a.key=s?n.C0.ESC+"[1;"+(s+1)+"F":e?n.C0.ESC+"OF":n.C0.ESC+"[F";break;case 33:t.shiftKey?a.type=2:a.key=n.C0.ESC+"[5~";break;case 34:t.shiftKey?a.type=3:a.key=n.C0.ESC+"[6~";break;case 112:a.key=s?n.C0.ESC+"[1;"+(s+1)+"P":n.C0.ESC+"OP";break;case 113:a.key=s?n.C0.ESC+"[1;"+(s+1)+"Q":n.C0.ESC+"OQ";break;case 114:a.key=s?n.C0.ESC+"[1;"+(s+1)+"R":n.C0.ESC+"OR";break;case 115:a.key=s?n.C0.ESC+"[1;"+(s+1)+"S":n.C0.ESC+"OS";break;case 116:a.key=s?n.C0.ESC+"[15;"+(s+1)+"~":n.C0.ESC+"[15~";break;case 117:a.key=s?n.C0.ESC+"[17;"+(s+1)+"~":n.C0.ESC+"[17~";break;case 118:a.key=s?n.C0.ESC+"[18;"+(s+1)+"~":n.C0.ESC+"[18~";break;case 119:a.key=s?n.C0.ESC+"[19;"+(s+1)+"~":n.C0.ESC+"[19~";break;case 120:a.key=s?n.C0.ESC+"[20;"+(s+1)+"~":n.C0.ESC+"[20~";break;case 121:a.key=s?n.C0.ESC+"[21;"+(s+1)+"~":n.C0.ESC+"[21~";break;case 122:a.key=s?n.C0.ESC+"[23;"+(s+1)+"~":n.C0.ESC+"[23~";break;case 123:a.key=s?n.C0.ESC+"[24;"+(s+1)+"~":n.C0.ESC+"[24~";break;default:if(!t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)if(i&&!r||!t.altKey||t.metaKey)i&&!t.altKey&&!t.ctrlKey&&t.metaKey&&65===t.keyCode&&(a.type=1);else{var l=o[t.keyCode],c=l&&l[t.shiftKey?1:0];if(c)a.key=n.C0.ESC+c;else if(t.keyCode>=65&&t.keyCode<=90){var u=t.ctrlKey?t.keyCode-64:t.keyCode+32;a.key=n.C0.ESC+String.fromCharCode(u)}}else t.keyCode>=65&&t.keyCode<=90?a.key=String.fromCharCode(t.keyCode-64):32===t.keyCode?a.key=String.fromCharCode(0):t.keyCode>=51&&t.keyCode<=55?a.key=String.fromCharCode(t.keyCode-51+27):56===t.keyCode?a.key=String.fromCharCode(127):219===t.keyCode?a.key=String.fromCharCode(27):220===t.keyCode?a.key=String.fromCharCode(28):221===t.keyCode&&(a.key=String.fromCharCode(29))}return a}},{"../../common/data/EscapeSequences":43}],46:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("../common/data/EscapeSequences"),o=function(){function t(t,e){this._mouseEvent=t,this._terminal=e,this._lines=this._terminal.buffer.lines,this._startCol=this._terminal.buffer.x,this._startRow=this._terminal.buffer.y;var i,n=this._terminal.mouseHelper.getCoords(this._mouseEvent,this._terminal.element,this._terminal.charMeasure,this._terminal.options.lineHeight,this._terminal.cols,this._terminal.rows,!1);n&&(i=n.map(function(t){return t-1}),this._endCol=i[0],this._endRow=i[1])}return t.prototype.move=function(){this._mouseEvent.altKey&&void 0!==this._endCol&&void 0!==this._endRow&&this._terminal.send(this._arrowSequences())},t.prototype._arrowSequences=function(){return this._terminal.buffer.hasScrollback?this._moveHorizontallyOnly():this._resetStartingRow()+this._moveToRequestedRow()+this._moveToRequestedCol()},t.prototype._resetStartingRow=function(){return 0===this._moveToRequestedRow().length?"":r(this._bufferLine(this._startCol,this._startRow,this._startCol,this._startRow-this._wrappedRowsForRow(this._startRow),!1).length,this._sequence("D"))},t.prototype._moveToRequestedRow=function(){var t=this._startRow-this._wrappedRowsForRow(this._startRow),e=this._endRow-this._wrappedRowsForRow(this._endRow);return r(Math.abs(t-e)-this._wrappedRowsCount(),this._sequence(this._verticalDirection()))},t.prototype._moveToRequestedCol=function(){var t;t=this._moveToRequestedRow().length>0?this._endRow-this._wrappedRowsForRow(this._endRow):this._startRow;var e=this._endRow,i=this._horizontalDirection();return r(this._bufferLine(this._startCol,t,this._endCol,e,"C"===i).length,this._sequence(i))},t.prototype._moveHorizontallyOnly=function(){var t=this._horizontalDirection();return r(Math.abs(this._startCol-this._endCol),this._sequence(t))},t.prototype._wrappedRowsCount=function(){for(var t=0,e=this._startRow-this._wrappedRowsForRow(this._startRow),i=this._endRow-this._wrappedRowsForRow(this._endRow),n=0;n<Math.abs(e-i);n++){var o="A"===this._verticalDirection()?-1:1;this._lines.get(e+o*n).isWrapped&&t++}return t},t.prototype._wrappedRowsForRow=function(t){for(var e=0,i=this._lines.get(t).isWrapped;i&&t>=0&&t<this._terminal.rows;)e++,t--,i=this._lines.get(t).isWrapped;return e},t.prototype._horizontalDirection=function(){var t;return t=this._moveToRequestedRow().length>0?this._endRow-this._wrappedRowsForRow(this._endRow):this._startRow,this._startCol<this._endCol&&t<=this._endRow||this._startCol>=this._endCol&&t<this._endRow?"C":"D"},t.prototype._verticalDirection=function(){return this._startRow>this._endRow?"A":"B"},t.prototype._bufferLine=function(t,e,i,n,o){for(var r=t,a=e,s="";r!==i||a!==n;)r+=o?1:-1,o&&r>this._terminal.cols-1?(s+=this._terminal.buffer.translateBufferLineToString(a,!1,t,r),r=0,t=0,a++):!o&&r<0&&(s+=this._terminal.buffer.translateBufferLineToString(a,!1,0,t+1),t=r=this._terminal.cols-1,a--);return s+this._terminal.buffer.translateBufferLineToString(a,!1,t,r)},t.prototype._sequence=function(t){var e=this._terminal.applicationCursor?"O":"[";return n.C0.ESC+e+t},t}();function r(t,e){t=Math.floor(t);for(var i="",n=0;n<t;n++)i+=e;return i}i.AltClickHandler=o},{"../common/data/EscapeSequences":43}],47:[function(t,e,i){"use strict";function n(t){return t.replace(/\r?\n/g,"\r")}function o(t,e){return e?"[200~"+t+"[201~":t}function r(t,e){e.style.position="fixed",e.style.width="20px",e.style.height="20px",e.style.left=t.clientX-10+"px",e.style.top=t.clientY-10+"px",e.style.zIndex="1000",e.focus(),setTimeout(function(){e.style.position=null,e.style.width=null,e.style.height=null,e.style.left=null,e.style.top=null,e.style.zIndex=null},200)}Object.defineProperty(i,"__esModule",{value:!0}),i.prepareTextForTerminal=n,i.bracketTextForPaste=o,i.copyHandler=function(t,e,i){e.browser.isMSIE?window.clipboardData.setData("Text",i.selectionText):t.clipboardData.setData("text/plain",i.selectionText),t.preventDefault()},i.pasteHandler=function(t,e){t.stopPropagation();var i=function(i){i=o(i=n(i),e.bracketedPasteMode),e.handler(i),e.textarea.value="",e.emit("paste",i),e.cancel(t)};e.browser.isMSIE?window.clipboardData&&i(window.clipboardData.getData("Text")):t.clipboardData&&i(t.clipboardData.getData("text/plain"))},i.moveTextAreaUnderMouseCursor=r,i.rightClickHandler=function(t,e,i,n){r(t,e),n&&!i.isClickInSelection(t)&&i.selectWordAtCursor(t),e.value=i.selectionText,e.select()}},{}],48:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("../Terminal"),o=t("../Strings"),r=function(){function t(t){this._core=new n.Terminal(t)}return Object.defineProperty(t.prototype,"element",{get:function(){return this._core.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._core.rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._core.cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markers",{get:function(){return this._core.markers},enumerable:!0,configurable:!0}),t.prototype.blur=function(){this._core.blur()},t.prototype.focus=function(){this._core.focus()},t.prototype.on=function(t,e){this._core.on(t,e)},t.prototype.off=function(t,e){this._core.off(t,e)},t.prototype.emit=function(t,e){this._core.emit(t,e)},t.prototype.addDisposableListener=function(t,e){return this._core.addDisposableListener(t,e)},t.prototype.resize=function(t,e){this._core.resize(t,e)},t.prototype.writeln=function(t){this._core.writeln(t)},t.prototype.open=function(t){this._core.open(t)},t.prototype.attachCustomKeyEventHandler=function(t){this._core.attachCustomKeyEventHandler(t)},t.prototype.registerLinkMatcher=function(t,e,i){return this._core.registerLinkMatcher(t,e,i)},t.prototype.deregisterLinkMatcher=function(t){this._core.deregisterLinkMatcher(t)},t.prototype.addMarker=function(t){return this._core.addMarker(t)},t.prototype.hasSelection=function(){return this._core.hasSelection()},t.prototype.getSelection=function(){return this._core.getSelection()},t.prototype.clearSelection=function(){this._core.clearSelection()},t.prototype.selectAll=function(){this._core.selectAll()},t.prototype.selectLines=function(t,e){this._core.selectLines(t,e)},t.prototype.dispose=function(){this._core.dispose()},t.prototype.destroy=function(){this._core.destroy()},t.prototype.scrollLines=function(t){this._core.scrollLines(t)},t.prototype.scrollPages=function(t){this._core.scrollPages(t)},t.prototype.scrollToTop=function(){this._core.scrollToTop()},t.prototype.scrollToBottom=function(){this._core.scrollToBottom()},t.prototype.scrollToLine=function(t){this._core.scrollToLine(t)},t.prototype.clear=function(){this._core.clear()},t.prototype.write=function(t){this._core.write(t)},t.prototype.getOption=function(t){return this._core.getOption(t)},t.prototype.setOption=function(t,e){this._core.setOption(t,e)},t.prototype.refresh=function(t,e){this._core.refresh(t,e)},t.prototype.reset=function(){this._core.reset()},t.applyAddon=function(e){e.apply(t)},Object.defineProperty(t,"strings",{get:function(){return o},enumerable:!0,configurable:!0}),t}();i.Terminal=r},{"../Strings":38,"../Terminal":39}],49:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./atlas/Types"),o=t("./atlas/CharAtlasCache"),r=t("../Buffer"),a=function(){function t(t,e,i,n,o){this._container=t,this._alpha=n,this._colors=o,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+e+"-layer"),this._canvas.style.zIndex=i.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return t.prototype._initCanvas=function(){this._ctx=this._canvas.getContext("2d",{alpha:this._alpha}),this._alpha||this.clearAll()},t.prototype.onOptionsChanged=function(t){},t.prototype.onBlur=function(t){},t.prototype.onFocus=function(t){},t.prototype.onCursorMove=function(t){},t.prototype.onGridChanged=function(t,e,i){},t.prototype.onSelectionChanged=function(t,e,i,n){void 0===n&&(n=!1)},t.prototype.onThemeChanged=function(t,e){this._refreshCharAtlas(t,e)},t.prototype.setTransparency=function(t,e){if(e!==this._alpha){var i=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,i),this._refreshCharAtlas(t,this._colors),this.onGridChanged(t,0,t.rows-1)}},t.prototype._refreshCharAtlas=function(t,e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=o.acquireCharAtlas(t,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},t.prototype.resize=function(t,e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this.clearAll(),this._refreshCharAtlas(t,this._colors)},t.prototype.fillCells=function(t,e,i,n){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight)},t.prototype.fillBottomLineAtCells=function(t,e,i){void 0===i&&(i=1),this._ctx.fillRect(t*this._scaledCellWidth,(e+1)*this._scaledCellHeight-window.devicePixelRatio-1,i*this._scaledCellWidth,window.devicePixelRatio)},t.prototype.fillLeftLineAtCell=function(t,e){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,window.devicePixelRatio,this._scaledCellHeight)},t.prototype.strokeRectAtCell=function(t,e,i,n){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(t*this._scaledCellWidth+window.devicePixelRatio/2,e*this._scaledCellHeight+window.devicePixelRatio/2,i*this._scaledCellWidth-window.devicePixelRatio,n*this._scaledCellHeight-window.devicePixelRatio)},t.prototype.clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},t.prototype.clearCells=function(t,e,i,n){this._alpha?this._ctx.clearRect(t*this._scaledCellWidth,e*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight))},t.prototype.fillCharTrueColor=function(t,e,i,n){this._ctx.font=this._getFont(t,!1,!1),this._ctx.textBaseline="top",this._clipRow(t,n),this._ctx.fillText(e[r.CHAR_DATA_CHAR_INDEX],i*this._scaledCellWidth+this._scaledCharLeft,n*this._scaledCellHeight+this._scaledCharTop)},t.prototype.drawChar=function(t,e,i,n,o,r,a,s,l,c,u){a+=t.options.drawBoldTextInBrightColors&&l&&a<8?8:0,this._charAtlas&&this._charAtlas.draw(this._ctx,{char:e,code:i,bg:s,fg:a,bold:l&&t.options.enableBold,dim:c,italic:u},o*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChar(t,e,n,a,o,r,l&&t.options.enableBold,c,u)},t.prototype._drawUncachedChar=function(t,e,i,o,r,a,s,l,c){this._ctx.save(),this._ctx.font=this._getFont(t,s,c),this._ctx.textBaseline="top",o===n.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:this._ctx.fillStyle=o<256?this._colors.ansi[o].css:this._colors.foreground.css,this._clipRow(t,a),l&&(this._ctx.globalAlpha=n.DIM_OPACITY),this._ctx.fillText(e,r*this._scaledCellWidth+this._scaledCharLeft,a*this._scaledCellHeight+this._scaledCharTop),this._ctx.restore()},t.prototype._clipRow=function(t,e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,t.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},t.prototype._getFont=function(t,e,i){var n=e?t.options.fontWeightBold:t.options.fontWeight;return(i?"italic":"")+" "+n+" "+t.options.fontSize*window.devicePixelRatio+"px "+t.options.fontFamily},t}();i.BaseRenderLayer=a},{"../Buffer":27,"./atlas/CharAtlasCache":58,"./atlas/Types":64}],50:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=l("#ffffff"),o=l("#000000"),r=l("#ffffff"),a=l("#000000"),s={css:"rgba(255, 255, 255, 0.3)",rgba:4294967159};function l(t){return{css:t,rgba:parseInt(t.slice(1),16)<<8|255}}function c(t){var e=t.toString(16);return e.length<2?"0"+e:e}i.DEFAULT_ANSI_COLORS=function(){for(var t=[l("#2e3436"),l("#cc0000"),l("#4e9a06"),l("#c4a000"),l("#3465a4"),l("#75507b"),l("#06989a"),l("#d3d7cf"),l("#555753"),l("#ef2929"),l("#8ae234"),l("#fce94f"),l("#729fcf"),l("#ad7fa8"),l("#34e2e2"),l("#eeeeec")],e=[0,95,135,175,215,255],i=0;i<216;i++){var n=e[i/36%6|0],o=e[i/6%6|0],r=e[i%6];t.push({css:"#"+c(n)+c(o)+c(r),rgba:(n<<24|o<<16|r<<8|255)>>>0})}for(i=0;i<24;i++){var a=8+10*i,s=c(a);t.push({css:"#"+s+s+s,rgba:(a<<24|a<<16|a<<8|255)>>>0})}return t}();var u=function(){function t(t,e){this.allowTransparency=e;var l=t.createElement("canvas");l.width=1,l.height=1,this._ctx=l.getContext("2d"),this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this.colors={foreground:n,background:o,cursor:r,cursorAccent:a,selection:s,ansi:i.DEFAULT_ANSI_COLORS.slice()}}return t.prototype.setTheme=function(t){this.colors.foreground=this._parseColor(t.foreground,n),this.colors.background=this._parseColor(t.background,o),this.colors.cursor=this._parseColor(t.cursor,r,!0),this.colors.cursorAccent=this._parseColor(t.cursorAccent,a,!0),this.colors.selection=this._parseColor(t.selection,s,!0),this.colors.ansi[0]=this._parseColor(t.black,i.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(t.red,i.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(t.green,i.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(t.yellow,i.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(t.blue,i.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(t.magenta,i.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(t.cyan,i.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(t.white,i.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(t.brightBlack,i.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(t.brightRed,i.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(t.brightGreen,i.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(t.brightYellow,i.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(t.brightBlue,i.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(t.brightMagenta,i.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(t.brightCyan,i.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(t.brightWhite,i.DEFAULT_ANSI_COLORS[15])},t.prototype._parseColor=function(t,e,i){if(void 0===i&&(i=this.allowTransparency),!t)return e;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=t,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+t+" is invalid using fallback "+e.css),e;this._ctx.fillRect(0,0,1,1);var n=this._ctx.getImageData(0,0,1,1).data;return i||255===n[3]?{css:t,rgba:(n[0]<<24|n[1]<<16|n[2]<<8|n[3])>>>0}:(console.warn("Color: "+t+" is using transparency, but allowTransparency is false. Using fallback "+e.css+"."),e)},t}();i.ColorManager=u},{}],51:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("../Buffer"),a=function(t){function e(e,i,n){var o=t.call(this,e,"cursor",i,!0,n)||this;return o._state={x:null,y:null,isFocused:null,style:null,width:null},o._cursorRenderers={bar:o._renderBarCursor.bind(o),block:o._renderBlockCursor.bind(o),underline:o._renderUnderlineCursor.bind(o)},o}return o(e,t),e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this._state={x:null,y:null,isFocused:null,style:null,width:null}},e.prototype.reset=function(t){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null,this.onOptionsChanged(t))},e.prototype.onBlur=function(t){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),t.refresh(t.buffer.y,t.buffer.y)},e.prototype.onFocus=function(t){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume(t):t.refresh(t.buffer.y,t.buffer.y)},e.prototype.onOptionsChanged=function(t){var e=this;t.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new s(t,function(){e._render(t,!0)})):(this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null),t.refresh(t.buffer.y,t.buffer.y))},e.prototype.onCursorMove=function(t){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation(t)},e.prototype.onGridChanged=function(t,e,i){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(t,!1):this._cursorBlinkStateManager.restartBlinkAnimation(t)},e.prototype._render=function(t,e){if(t.cursorState&&!t.cursorHidden){var i=t.buffer.ybase+t.buffer.y,n=i-t.buffer.ydisp;if(n<0||n>=t.rows)this._clearCursor();else{var o=t.buffer.lines.get(i)[t.buffer.x];if(o){if(!t.isFocused)return this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._renderBlurCursor(t,t.buffer.x,n,o),this._ctx.restore(),this._state.x=t.buffer.x,this._state.y=n,this._state.isFocused=!1,this._state.style=t.options.cursorStyle,void(this._state.width=o[r.CHAR_DATA_WIDTH_INDEX]);if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===t.buffer.x&&this._state.y===n&&this._state.isFocused===t.isFocused&&this._state.style===t.options.cursorStyle&&this._state.width===o[r.CHAR_DATA_WIDTH_INDEX])return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[t.options.cursorStyle||"block"](t,t.buffer.x,n,o),this._ctx.restore(),this._state.x=t.buffer.x,this._state.y=n,this._state.isFocused=!1,this._state.style=t.options.cursorStyle,this._state.width=o[r.CHAR_DATA_WIDTH_INDEX]}else this._clearCursor()}}}else this._clearCursor()},e.prototype._clearCursor=function(){this._state&&(this.clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:null,y:null,isFocused:null,style:null,width:null})},e.prototype._renderBarCursor=function(t,e,i,n){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this.fillLeftLineAtCell(e,i),this._ctx.restore()},e.prototype._renderBlockCursor=function(t,e,i,n){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this.fillCells(e,i,n[r.CHAR_DATA_WIDTH_INDEX],1),this._ctx.fillStyle=this._colors.cursorAccent.css,this.fillCharTrueColor(t,n,e,i),this._ctx.restore()},e.prototype._renderUnderlineCursor=function(t,e,i,n){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this.fillBottomLineAtCells(e,i),this._ctx.restore()},e.prototype._renderBlurCursor=function(t,e,i,n){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this.strokeRectAtCell(e,i,n[r.CHAR_DATA_WIDTH_INDEX],1),this._ctx.restore()},e}(t("./BaseRenderLayer").BaseRenderLayer);i.CursorRenderLayer=a;var s=function(){function t(t,e){this._renderCallback=e,this.isCursorVisible=!0,t.isFocused&&this._restartInterval()}return Object.defineProperty(t.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},t.prototype.restartBlinkAnimation=function(t){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){e._renderCallback(),e._animationFrame=null})))},t.prototype._restartInterval=function(t){var e=this;void 0===t&&(t=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=setTimeout(function(){if(e._animationTimeRestarted){var t=600-(Date.now()-e._animationTimeRestarted);if(e._animationTimeRestarted=null,t>0)return void e._restartInterval(t)}e.isCursorVisible=!1,e._animationFrame=window.requestAnimationFrame(function(){e._renderCallback(),e._animationFrame=null}),e._blinkInterval=setInterval(function(){if(e._animationTimeRestarted){var t=600-(Date.now()-e._animationTimeRestarted);return e._animationTimeRestarted=null,void e._restartInterval(t)}e.isCursorVisible=!e.isCursorVisible,e._animationFrame=window.requestAnimationFrame(function(){e._renderCallback(),e._animationFrame=null})},600)},t)},t.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},t.prototype.resume=function(t){this._animationTimeRestarted=null,this._restartInterval(),this.restartBlinkAnimation(t)},t}()},{"../Buffer":27,"./BaseRenderLayer":49}],52:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.cache=[]}return t.prototype.resize=function(t,e){for(var i=0;i<t;i++){this.cache.length<=i&&this.cache.push([]);for(var n=this.cache[i].length;n<e;n++)this.cache[i].push(null);this.cache[i].length=e}this.cache.length=t},t.prototype.clear=function(){for(var t=0;t<this.cache.length;t++)for(var e=0;e<this.cache[t].length;e++)this.cache[t][e]=null},t}();i.GridCache=n},{}],53:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=function(t){function e(e,i,n,o){var r=t.call(this,e,"link",i,!0,n)||this;return r._state=null,o.linkifier.on("linkhover",function(t){return r._onLinkHover(t)}),o.linkifier.on("linkleave",function(t){return r._onLinkLeave(t)}),r}return o(e,t),e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this._state=null},e.prototype.reset=function(t){this._clearCurrentLink()},e.prototype._clearCurrentLink=function(){if(this._state){this.clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var t=this._state.y2-this._state.y1-1;t>0&&this.clearCells(0,this._state.y1+1,this._state.cols,t),this.clearCells(0,this._state.y2,this._state.x2,1),this._state=null}},e.prototype._onLinkHover=function(t){if(this._ctx.fillStyle=this._colors.foreground.css,t.y1===t.y2)this.fillBottomLineAtCells(t.x1,t.y1,t.x2-t.x1);else{this.fillBottomLineAtCells(t.x1,t.y1,t.cols-t.x1);for(var e=t.y1+1;e<t.y2;e++)this.fillBottomLineAtCells(0,e,t.cols);this.fillBottomLineAtCells(0,t.y2,t.x2)}this._state=t},e.prototype._onLinkLeave=function(t){this._clearCurrentLink()},e}(t("./BaseRenderLayer").BaseRenderLayer);i.LinkRenderLayer=r},{"./BaseRenderLayer":49}],54:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./TextRenderLayer"),a=t("./SelectionRenderLayer"),s=t("./CursorRenderLayer"),l=t("./ColorManager"),c=t("./LinkRenderLayer"),u=t("../EventEmitter"),d=t("../ui/RenderDebouncer"),p=t("../ui/ScreenDprMonitor"),f=function(t){function e(e,i){var n=t.call(this)||this;n._terminal=e,n._isPaused=!1,n._needsFullRefresh=!1;var o=n._terminal.options.allowTransparency;if(n.colorManager=new l.ColorManager(document,o),i&&n.colorManager.setTheme(i),n._renderLayers=[new r.TextRenderLayer(n._terminal.screenElement,0,n.colorManager.colors,o),new a.SelectionRenderLayer(n._terminal.screenElement,1,n.colorManager.colors),new c.LinkRenderLayer(n._terminal.screenElement,2,n.colorManager.colors,n._terminal),new s.CursorRenderLayer(n._terminal.screenElement,3,n.colorManager.colors)],n.dimensions={scaledCharWidth:null,scaledCharHeight:null,scaledCellWidth:null,scaledCellHeight:null,scaledCharLeft:null,scaledCharTop:null,scaledCanvasWidth:null,scaledCanvasHeight:null,canvasWidth:null,canvasHeight:null,actualCellWidth:null,actualCellHeight:null},n._devicePixelRatio=window.devicePixelRatio,n._updateDimensions(),n.onOptionsChanged(),n._renderDebouncer=new d.RenderDebouncer(n._terminal,n._renderRows.bind(n)),n._screenDprMonitor=new p.ScreenDprMonitor,n._screenDprMonitor.setListener(function(){return n.onWindowResize(window.devicePixelRatio)}),n.register(n._screenDprMonitor),"IntersectionObserver"in window){var u=new IntersectionObserver(function(t){return n.onIntersectionChange(t[0])},{threshold:0});u.observe(n._terminal.element),n.register({dispose:function(){return u.disconnect()}})}return n}return o(e,t),e.prototype.onIntersectionChange=function(t){this._isPaused=0===t.intersectionRatio,!this._isPaused&&this._needsFullRefresh&&this._terminal.refresh(0,this._terminal.rows-1)},e.prototype.onWindowResize=function(t){this._devicePixelRatio!==t&&(this._devicePixelRatio=t,this.onResize(this._terminal.cols,this._terminal.rows))},e.prototype.setTheme=function(t){var e=this;return this.colorManager.setTheme(t),this._renderLayers.forEach(function(t){t.onThemeChanged(e._terminal,e.colorManager.colors),t.reset(e._terminal)}),this._isPaused?this._needsFullRefresh=!0:this._terminal.refresh(0,this._terminal.rows-1),this.colorManager.colors},e.prototype.onResize=function(t,e){var i=this;this._updateDimensions(),this._renderLayers.forEach(function(t){return t.resize(i._terminal,i.dimensions)}),this._isPaused?this._needsFullRefresh=!0:this._terminal.refresh(0,this._terminal.rows-1),this._terminal.screenElement.style.width=this.dimensions.canvasWidth+"px",this._terminal.screenElement.style.height=this.dimensions.canvasHeight+"px",this.emit("resize",{width:this.dimensions.canvasWidth,height:this.dimensions.canvasHeight})},e.prototype.onCharSizeChanged=function(){this.onResize(this._terminal.cols,this._terminal.rows)},e.prototype.onBlur=function(){var t=this;this._runOperation(function(e){return e.onBlur(t._terminal)})},e.prototype.onFocus=function(){var t=this;this._runOperation(function(e){return e.onFocus(t._terminal)})},e.prototype.onSelectionChanged=function(t,e,i){var n=this;void 0===i&&(i=!1),this._runOperation(function(o){return o.onSelectionChanged(n._terminal,t,e,i)})},e.prototype.onCursorMove=function(){var t=this;this._runOperation(function(e){return e.onCursorMove(t._terminal)})},e.prototype.onOptionsChanged=function(){var t=this;this.colorManager.allowTransparency=this._terminal.options.allowTransparency,this._runOperation(function(e){return e.onOptionsChanged(t._terminal)})},e.prototype.clear=function(){var t=this;this._runOperation(function(e){return e.reset(t._terminal)})},e.prototype._runOperation=function(t){this._isPaused?this._needsFullRefresh=!0:this._renderLayers.forEach(function(e){return t(e)})},e.prototype.refreshRows=function(t,e){this._isPaused?this._needsFullRefresh=!0:this._renderDebouncer.refresh(t,e)},e.prototype._renderRows=function(t,e){var i=this;this._renderLayers.forEach(function(n){return n.onGridChanged(i._terminal,t,e)}),this._terminal.emit("refresh",{start:t,end:e})},e.prototype._updateDimensions=function(){this._terminal.charMeasure.width&&this._terminal.charMeasure.height&&(this.dimensions.scaledCharWidth=Math.floor(this._terminal.charMeasure.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._terminal.charMeasure.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._terminal.options.lineHeight),this.dimensions.scaledCharTop=1===this._terminal.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._terminal.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._terminal.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._terminal.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._terminal.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._terminal.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._terminal.cols)},e}(u.EventEmitter);i.Renderer=f},{"../EventEmitter":32,"../ui/RenderDebouncer":73,"../ui/ScreenDprMonitor":74,"./ColorManager":50,"./CursorRenderLayer":51,"./LinkRenderLayer":53,"./SelectionRenderLayer":55,"./TextRenderLayer":56}],55:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=function(t){function e(e,i,n){var o=t.call(this,e,"selection",i,!0,n)||this;return o._clearState(),o}return o(e,t),e.prototype._clearState=function(){this._state={start:null,end:null,columnSelectMode:null,ydisp:null}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this._clearState()},e.prototype.reset=function(t){this._state.start&&this._state.end&&(this._clearState(),this.clearAll())},e.prototype.onSelectionChanged=function(t,e,i,n){if(this._didStateChange(e,i,n,t.buffer.ydisp)&&(this.clearAll(),e&&i)){var o=e[1]-t.buffer.ydisp,r=i[1]-t.buffer.ydisp,a=Math.max(o,0),s=Math.min(r,t.rows-1);if(!(a>=t.rows||s<0)){if(this._ctx.fillStyle=this._colors.selection.css,n){var l=o===a?e[0]:0,c=i[0]-l,u=s-a+1;this.fillCells(l,a,c,u)}else{l=o===a?e[0]:0;var d=a===s?i[0]:t.cols;this.fillCells(l,a,d-l,1);var p=Math.max(s-a-1,0);if(this.fillCells(0,a+1,t.cols,p),a!==s){var f=r===s?i[0]:t.cols;this.fillCells(0,s,f,1)}}this._state.start=[e[0],e[1]],this._state.end=[i[0],i[1]],this._state.columnSelectMode=n,this._state.ydisp=t.buffer.ydisp}}},e.prototype._didStateChange=function(t,e,i,n){return!this._areCoordinatesEqual(t,this._state.start)||!this._areCoordinatesEqual(e,this._state.end)||i!==this._state.columnSelectMode||n!==this._state.ydisp},e.prototype._areCoordinatesEqual=function(t,e){return!(!t||!e)&&(t[0]===e[0]&&t[1]===e[1])},e}(t("./BaseRenderLayer").BaseRenderLayer);i.SelectionRenderLayer=r},{"./BaseRenderLayer":49}],56:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("../Buffer"),a=t("./atlas/Types"),s=t("./GridCache"),l=function(t){function e(e,i,n,o){var r=t.call(this,e,"text",i,o,n)||this;return r._characterOverlapCache={},r._state=new s.GridCache,r}return o(e,t),e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i);var n=this._getFont(e,!1,!1);this._characterWidth===i.scaledCharWidth&&this._characterFont===n||(this._characterWidth=i.scaledCharWidth,this._characterFont=n,this._characterOverlapCache={}),this._state.clear(),this._state.resize(e.cols,e.rows)},e.prototype.reset=function(t){this._state.clear(),this.clearAll()},e.prototype._forEachCell=function(t,e,i,n){for(var o=e;o<=i;o++)for(var s=o+t.buffer.ydisp,l=t.buffer.lines.get(s),c=0;c<t.cols;c++){var u=l[c],d=u[r.CHAR_DATA_CODE_INDEX],p=u[r.CHAR_DATA_CHAR_INDEX],f=u[r.CHAR_DATA_ATTR_INDEX],h=u[r.CHAR_DATA_WIDTH_INDEX];if(0!==h){this._isOverlapping(u)&&c<l.length-1&&32===l[c+1][r.CHAR_DATA_CODE_INDEX]&&(h=2);var _=f>>18,m=511&f,g=f>>9&511;if(8&_){var v=m;m=g,256===(g=v)&&(g=a.INVERTED_DEFAULT_COLOR),257===m&&(m=a.INVERTED_DEFAULT_COLOR)}n(d,p,h,c,o,g,m,_)}}},e.prototype._drawBackground=function(t,e,i){var n=this,o=this._ctx,r=t.cols,s=0,l=0,c=null;o.save(),this._forEachCell(t,e,i,function(t,e,i,u,d,p,f,h){var _=null;f===a.INVERTED_DEFAULT_COLOR?_=n._colors.foreground.css:f<256&&(_=n._colors.ansi[f].css),null===c&&(s=u,l=d),d!==l?(o.fillStyle=c,n.fillCells(s,l,r-s,1),s=u,l=d):c!==_&&(o.fillStyle=c,n.fillCells(s,l,u-s,1),s=u,l=d),c=_}),null!==c&&(o.fillStyle=c,this.fillCells(s,l,r-s,1)),o.restore()},e.prototype._drawForeground=function(t,e,i){var n=this;this._forEachCell(t,e,i,function(e,i,o,r,s,l,c,u){16&u||(2&u&&(n._ctx.save(),l===a.INVERTED_DEFAULT_COLOR?n._ctx.fillStyle=n._colors.background.css:n._ctx.fillStyle=l<256?n._colors.ansi[l].css:n._colors.foreground.css,n.fillBottomLineAtCells(r,s),n._ctx.restore()),n.drawChar(t,i,e,o,r,s,l,c,!!(1&u),!!(32&u),!!(64&u)))})},e.prototype.onGridChanged=function(t,e,i){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this.clearCells(0,e,t.cols,i-e+1),this._drawBackground(t,e,i),this._drawForeground(t,e,i))},e.prototype.onOptionsChanged=function(t){this.setTransparency(t,t.options.allowTransparency)},e.prototype._isOverlapping=function(t){if(1!==t[r.CHAR_DATA_WIDTH_INDEX])return!1;if(t[r.CHAR_DATA_CODE_INDEX]<256)return!1;var e=t[r.CHAR_DATA_CHAR_INDEX];if(this._characterOverlapCache.hasOwnProperty(e))return this._characterOverlapCache[e];this._ctx.save(),this._ctx.font=this._characterFont;var i=Math.floor(this._ctx.measureText(e).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[e]=i,i},e}(t("./BaseRenderLayer").BaseRenderLayer);i.TextRenderLayer=l},{"../Buffer":27,"./BaseRenderLayer":49,"./GridCache":52,"./atlas/Types":64}],57:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this._didWarmUp=!1}return t.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},t.prototype._doWarmUp=function(){},t.prototype.beginFrame=function(){},t}();i.default=n},{}],58:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./CharAtlasUtils"),o=t("./DynamicCharAtlas"),r=t("./NoneCharAtlas"),a=t("./StaticCharAtlas"),s={none:r.default,static:a.default,dynamic:o.default},l=[];i.acquireCharAtlas=function(t,e,i,o){for(var r=n.generateConfig(i,o,t,e),a=0;a<l.length;a++){var c=(u=l[a]).ownedBy.indexOf(t);if(c>=0){if(n.configEquals(u.config,r))return u.atlas;1===u.ownedBy.length?l.splice(a,1):u.ownedBy.splice(c,1);break}}for(a=0;a<l.length;a++){var u=l[a];if(n.configEquals(u.config,r))return u.ownedBy.push(t),u.atlas}var d={atlas:new s[t.options.experimentalCharAtlas](document,r),config:r,ownedBy:[t]};return l.push(d),d.atlas},i.removeTerminalFromCache=function(t){for(var e=0;e<l.length;e++){var i=l[e].ownedBy.indexOf(t);if(-1!==i){1===l[e].ownedBy.length?l.splice(e,1):l[e].ownedBy.splice(i,1);break}}}},{"./CharAtlasUtils":59,"./DynamicCharAtlas":60,"./NoneCharAtlas":62,"./StaticCharAtlas":63}],59:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.generateConfig=function(t,e,i,n){var o={foreground:n.foreground,background:n.background,cursor:null,cursorAccent:null,selection:null,ansi:n.ansi.slice(0,16)};return{type:i.options.experimentalCharAtlas,devicePixelRatio:window.devicePixelRatio,scaledCharWidth:t,scaledCharHeight:e,fontFamily:i.options.fontFamily,fontSize:i.options.fontSize,fontWeight:i.options.fontWeight,fontWeightBold:i.options.fontWeightBold,allowTransparency:i.options.allowTransparency,colors:o}},i.configEquals=function(t,e){for(var i=0;i<t.colors.ansi.length;i++)if(t.colors.ansi[i].rgba!==e.colors.ansi[i].rgba)return!1;return t.type===e.type&&t.devicePixelRatio===e.devicePixelRatio&&t.fontFamily===e.fontFamily&&t.fontSize===e.fontSize&&t.fontWeight===e.fontWeight&&t.fontWeightBold===e.fontWeightBold&&t.allowTransparency===e.allowTransparency&&t.scaledCharWidth===e.scaledCharWidth&&t.scaledCharHeight===e.scaledCharHeight&&t.colors.foreground===e.colors.foreground&&t.colors.background===e.colors.background}},{}],60:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./Types"),a=t("./BaseCharAtlas"),s=t("../ColorManager"),l=t("../../shared/atlas/CharAtlasGenerator"),c=t("./LRUMap"),u=1024,d=1024,p={css:"rgba(0, 0, 0, 0)",rgba:0};var f=function(t){function e(e,i){var n=t.call(this)||this;n._config=i,n._drawToCacheCount=0,n._cacheCanvas=e.createElement("canvas"),n._cacheCanvas.width=u,n._cacheCanvas.height=d,n._cacheCtx=n._cacheCanvas.getContext("2d",{alpha:!0});var o=e.createElement("canvas");o.width=n._config.scaledCharWidth,o.height=n._config.scaledCharHeight,n._tmpCtx=o.getContext("2d",{alpha:n._config.allowTransparency}),n._width=Math.floor(u/n._config.scaledCharWidth),n._height=Math.floor(d/n._config.scaledCharHeight);var r=n._width*n._height;return n._cacheMap=new c.default(r),n._cacheMap.prealloc(r),n}return o(e,t),e.prototype.beginFrame=function(){this._drawToCacheCount=0},e.prototype.draw=function(t,e,i,n){var o=function(t){var e=(t.bold?0:4)+(t.dim?0:2)+(t.italic?0:1);return t.bg+"_"+t.fg+"_"+e+t.char}(e),r=this._cacheMap.get(o);if(null!=r)return this._drawFromCache(t,r,i,n),!0;if(this._canCache(e)&&this._drawToCacheCount<100){var a=void 0;a=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var s=this._drawToCache(e,a);return this._cacheMap.set(o,s),this._drawFromCache(t,s,i,n),!0}return!1},e.prototype._canCache=function(t){return t.code<256},e.prototype._toCoordinates=function(t){return[t%this._width*this._config.scaledCharWidth,Math.floor(t/this._width)*this._config.scaledCharHeight]},e.prototype._drawFromCache=function(t,e,i,n){if(!e.isEmpty){var o=this._toCoordinates(e.index),r=o[0],a=o[1];t.drawImage(this._cacheCanvas,r,a,this._config.scaledCharWidth,this._config.scaledCharHeight,i,n,this._config.scaledCharWidth,this._config.scaledCharHeight)}},e.prototype._getColorFromAnsiIndex=function(t){return t<this._config.colors.ansi.length?this._config.colors.ansi[t]:s.DEFAULT_ANSI_COLORS[t]},e.prototype._getBackgroundColor=function(t){return this._config.allowTransparency?p:t.bg===r.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:t.bg<256?this._getColorFromAnsiIndex(t.bg):this._config.colors.background},e.prototype._getForegroundColor=function(t){return t.fg===r.INVERTED_DEFAULT_COLOR?this._config.colors.background:t.fg<256?this._getColorFromAnsiIndex(t.fg):this._config.colors.foreground},e.prototype._drawToCache=function(t,e){this._drawToCacheCount++,this._tmpCtx.save();var i=this._getBackgroundColor(t);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=i.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var n=t.bold?this._config.fontWeightBold:this._config.fontWeight,o=t.italic?"italic":"";this._tmpCtx.font=o+" "+n+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline="top",this._tmpCtx.fillStyle=this._getForegroundColor(t).css,t.dim&&(this._tmpCtx.globalAlpha=r.DIM_OPACITY),this._tmpCtx.fillText(t.char,0,0),this._tmpCtx.restore();var a=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),s=!1;this._config.allowTransparency||(s=l.clearColor(a,i));var c=this._toCoordinates(e),u=c[0],d=c[1];return this._cacheCtx.putImageData(a,u,d),{index:e,isEmpty:s}},e}(a.default);i.default=f},{"../../shared/atlas/CharAtlasGenerator":67,"../ColorManager":50,"./BaseCharAtlas":57,"./LRUMap":61,"./Types":64}],61:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){this.capacity=t,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return t.prototype._unlinkNode=function(t){var e=t.prev,i=t.next;t===this._head&&(this._head=i),t===this._tail&&(this._tail=e),null!==e&&(e.next=i),null!==i&&(i.prev=e)},t.prototype._appendNode=function(t){var e=this._tail;null!==e&&(e.next=t),t.prev=e,t.next=null,this._tail=t,null===this._head&&(this._head=t)},t.prototype.prealloc=function(t){for(var e=this._nodePool,i=0;i<t;i++)e.push({prev:null,next:null,key:null,value:null})},t.prototype.get=function(t){var e=this._map[t];return void 0!==e?(this._unlinkNode(e),this._appendNode(e),e.value):null},t.prototype.peek=function(){var t=this._head;return null===t?null:t.value},t.prototype.set=function(t,e){var i=this._map[t];if(void 0!==i)i=this._map[t],this._unlinkNode(i),i.value=e;else if(this.size>=this.capacity)i=this._head,this._unlinkNode(i),delete this._map[i.key],i.key=t,i.value=e,this._map[t]=i;else{var n=this._nodePool;n.length>0?((i=n.pop()).key=t,i.value=e):i={prev:null,next:null,key:t,value:e},this._map[t]=i,this.size++}this._appendNode(i)},t}();i.default=n},{}],62:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=function(t){function e(e,i){return t.call(this)||this}return o(e,t),e.prototype.draw=function(t,e,i,n){return!1},e}(t("./BaseCharAtlas").default);i.default=r},{"./BaseCharAtlas":57}],63:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("./Types"),a=t("../../shared/atlas/Types"),s=t("../../shared/atlas/CharAtlasGenerator"),l=function(t){function e(e,i){var n=t.call(this)||this;return n._document=e,n._config=i,n._canvasFactory=function(t,e){var i=n._document.createElement("canvas");return i.width=t,i.height=e,i},n}return o(e,t),e.prototype._doWarmUp=function(){var t=this,e=s.generateStaticCharAtlasTexture(window,this._canvasFactory,this._config);e instanceof HTMLCanvasElement?this._texture=e:e.then(function(e){t._texture=e})},e.prototype._isCached=function(t,e){var i=t.code<256,n=t.fg<16,o=t.fg>=256,r=t.bg>=256;return i&&(n||o)&&r&&!t.italic},e.prototype.draw=function(t,e,i,n){if(null==this._texture)return!1;var o=0;if(e.fg<256?o=2+e.fg+(e.bold?16:0):e.bold&&(o=1),!this._isCached(e,o))return!1;t.save();var s=this._config.scaledCharWidth+a.CHAR_ATLAS_CELL_SPACING,l=this._config.scaledCharHeight+a.CHAR_ATLAS_CELL_SPACING;return e.dim&&(t.globalAlpha=r.DIM_OPACITY),t.drawImage(this._texture,e.code*s,o*l,s,this._config.scaledCharHeight,i,n,s,this._config.scaledCharHeight),t.restore(),!0},e}(t("./BaseCharAtlas").default);i.default=l},{"../../shared/atlas/CharAtlasGenerator":67,"../../shared/atlas/Types":68,"./BaseCharAtlas":57,"./Types":64}],64:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.INVERTED_DEFAULT_COLOR=-1,i.DIM_OPACITY=.5},{}],65:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../EventEmitter"),a=t("../ColorManager"),s=t("../../ui/RenderDebouncer"),l=t("./DomRendererRowFactory"),c="xterm-dom-renderer-owner-",u="xterm-rows",d="xterm-selection",p=1,f=function(t){function e(e,i){var n=t.call(this)||this;n._terminal=e,n._terminalClass=p++,n._rowElements=[];var o=n._terminal.options.allowTransparency;return n.colorManager=new a.ColorManager(document,o),n.setTheme(i),n._rowContainer=document.createElement("div"),n._rowContainer.classList.add(u),n._rowContainer.style.lineHeight="normal",n._rowContainer.setAttribute("aria-hidden","true"),n._refreshRowElements(n._terminal.rows,n._terminal.cols),n._selectionContainer=document.createElement("div"),n._selectionContainer.classList.add(d),n._selectionContainer.setAttribute("aria-hidden","true"),n.dimensions={scaledCharWidth:null,scaledCharHeight:null,scaledCellWidth:null,scaledCellHeight:null,scaledCharLeft:null,scaledCharTop:null,scaledCanvasWidth:null,scaledCanvasHeight:null,canvasWidth:null,canvasHeight:null,actualCellWidth:null,actualCellHeight:null},n._updateDimensions(),n._renderDebouncer=new s.RenderDebouncer(n._terminal,n._renderRows.bind(n)),n._rowFactory=new l.DomRendererRowFactory(document),n._terminal.element.classList.add(c+n._terminalClass),n._terminal.screenElement.appendChild(n._rowContainer),n._terminal.screenElement.appendChild(n._selectionContainer),n}return o(e,t),e.prototype._updateDimensions=function(){var t=this;this.dimensions.scaledCharWidth=this._terminal.charMeasure.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=this._terminal.charMeasure.height*window.devicePixelRatio,this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth,this.dimensions.scaledCellHeight=this.dimensions.scaledCharHeight,this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._terminal.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._terminal.rows,this.dimensions.canvasWidth=this._terminal.charMeasure.width*this._terminal.cols,this.dimensions.canvasHeight=this._terminal.charMeasure.height*this._terminal.rows,this.dimensions.actualCellWidth=this._terminal.charMeasure.width,this.dimensions.actualCellHeight=this._terminal.charMeasure.height,this._rowElements.forEach(function(e){e.style.width=t.dimensions.canvasWidth+"px",e.style.height=t._terminal.charMeasure.height+"px"}),this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._terminal.screenElement.appendChild(this._dimensionsStyleElement));var e=this._terminalSelector+" ."+u+" span { display: inline-block; height: 100%; vertical-align: top; width: "+this._terminal.charMeasure.width+"px}";this._dimensionsStyleElement.innerHTML=e,this._selectionContainer.style.height=this._terminal._viewportElement.style.height,this._rowContainer.style.width=this.dimensions.canvasWidth+"px",this._rowContainer.style.height=this.dimensions.canvasHeight+"px"},e.prototype.setTheme=function(t){var e=this;t&&this.colorManager.setTheme(t),this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._terminal.screenElement.appendChild(this._themeStyleElement));var i=this._terminalSelector+" ."+u+" { color: "+this.colorManager.colors.foreground.css+"; background-color: "+this.colorManager.colors.background.css+"; font-family: "+this._terminal.getOption("fontFamily")+"; font-size: "+this._terminal.getOption("fontSize")+"px;}";return i+=this._terminalSelector+" span:not(."+l.BOLD_CLASS+") { font-weight: "+this._terminal.options.fontWeight+";}"+this._terminalSelector+" span."+l.BOLD_CLASS+" { font-weight: "+this._terminal.options.fontWeightBold+";}"+this._terminalSelector+" span."+l.ITALIC_CLASS+" { font-style: italic;}",i+=this._terminalSelector+" ."+u+".xterm-focus ."+l.CURSOR_CLASS+" { background-color: "+this.colorManager.colors.cursor.css+"; color: "+this.colorManager.colors.cursorAccent.css+";}"+this._terminalSelector+" ."+u+":not(.xterm-focus) ."+l.CURSOR_CLASS+" { outline: 1px solid #fff; outline-offset: -1px;}",i+=this._terminalSelector+" ."+d+" { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" ."+d+" div { position: absolute; background-color: "+this.colorManager.colors.selection.css+";}",this.colorManager.colors.ansi.forEach(function(t,n){i+=e._terminalSelector+" .xterm-fg-"+n+" { color: "+t.css+"; }"+e._terminalSelector+" .xterm-bg-"+n+" { background-color: "+t.css+"; }"}),this._themeStyleElement.innerHTML=i,this.colorManager.colors},e.prototype.onWindowResize=function(t){this._updateDimensions()},e.prototype._refreshRowElements=function(t,e){for(var i=this._rowElements.length;i<=e;i++){var n=document.createElement("div");this._rowContainer.appendChild(n),this._rowElements.push(n)}for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop())},e.prototype.onResize=function(t,e){this._refreshRowElements(t,e),this._updateDimensions()},e.prototype.onCharSizeChanged=function(){this._updateDimensions()},e.prototype.onBlur=function(){this._rowContainer.classList.remove("xterm-focus")},e.prototype.onFocus=function(){this._rowContainer.classList.add("xterm-focus")},e.prototype.onSelectionChanged=function(t,e,i){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(t&&e){var n=t[1]-this._terminal.buffer.ydisp,o=e[1]-this._terminal.buffer.ydisp,r=Math.max(n,0),a=Math.min(o,this._terminal.rows-1);if(!(r>=this._terminal.rows||a<0)){var s=document.createDocumentFragment(),l=n===r?t[0]:0;if(i)s.appendChild(this._createSelectionElement(r,l,e[0],a-n+1));else{var c=r===a?e[0]:this._terminal.cols;s.appendChild(this._createSelectionElement(r,l,c));var u=a-r-1;if(s.appendChild(this._createSelectionElement(r+1,0,this._terminal.cols,u)),r!==a){var d=o===a?e[0]:this._terminal.cols;s.appendChild(this._createSelectionElement(a,0,d))}}this._selectionContainer.appendChild(s)}}},e.prototype._createSelectionElement=function(t,e,i,n){void 0===n&&(n=1);var o=document.createElement("div");return o.style.height=n*this._terminal.charMeasure.height+"px",o.style.top=t*this._terminal.charMeasure.height+"px",o.style.left=e*this._terminal.charMeasure.width+"px",o.style.width=this._terminal.charMeasure.width*(i-e)+"px",o},e.prototype.onCursorMove=function(){},e.prototype.onOptionsChanged=function(){this._updateDimensions(),this.setTheme(void 0),this._terminal.refresh(0,this._terminal.rows-1)},e.prototype.clear=function(){this._rowElements.forEach(function(t){return t.innerHTML=""})},e.prototype.refreshRows=function(t,e){this._renderDebouncer.refresh(t,e)},e.prototype._renderRows=function(t,e){for(var i=this._terminal,n=i.buffer.ybase+i.buffer.y,o=this._terminal.buffer.x,r=t;r<=e;r++){var a=this._rowElements[r];a.innerHTML="";var s=r+i.buffer.ydisp,l=i.buffer.lines.get(s);a.appendChild(this._rowFactory.createRow(l,s===n,o,i.charMeasure.width,i.cols))}this._terminal.emit("refresh",{start:t,end:e})},Object.defineProperty(e.prototype,"_terminalSelector",{get:function(){return"."+c+this._terminalClass},enumerable:!0,configurable:!0}),e}(r.EventEmitter);i.DomRenderer=f},{"../../EventEmitter":32,"../../ui/RenderDebouncer":73,"../ColorManager":50,"./DomRendererRowFactory":66}],66:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Buffer");i.BOLD_CLASS="xterm-bold",i.ITALIC_CLASS="xterm-italic",i.CURSOR_CLASS="xterm-cursor";var o=function(){function t(t){this._document=t}return t.prototype.createRow=function(t,e,o,r,a){for(var s=this._document.createDocumentFragment(),l=0,c=0;c<t.length;c++)if(!(l>=a)){var u=t[c],d=u[n.CHAR_DATA_CHAR_INDEX],p=u[n.CHAR_DATA_ATTR_INDEX],f=u[n.CHAR_DATA_WIDTH_INDEX];if(0!==f){var h=this._document.createElement("span");f>1&&(h.style.width=r*f+"px");var _=p>>18,m=511&p,g=p>>9&511;if(e&&c===o&&h.classList.add(i.CURSOR_CLASS),8&_){var v=m;m=g,256===(g=v)&&(g=0),257===m&&(m=15)}1&_&&(g<8&&(g+=8),h.classList.add(i.BOLD_CLASS)),64&_&&h.classList.add(i.ITALIC_CLASS),h.textContent=d,257!==g&&h.classList.add("xterm-fg-"+g),256!==m&&h.classList.add("xterm-bg-"+m),s.appendChild(h),l+=f}}return s},t}();i.DomRendererRowFactory=o},{"../../Buffer":27}],67:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./Types"),o=t("../utils/Browser");function r(t,e){for(var i=!0,n=e.rgba>>>24,o=e.rgba>>>16&255,r=e.rgba>>>8&255,a=0;a<t.data.length;a+=4)t.data[a]===n&&t.data[a+1]===o&&t.data[a+2]===r?t.data[a+3]=0:i=!1;return i}function a(t,e){return t+" "+e.fontSize*e.devicePixelRatio+"px "+e.fontFamily}i.generateStaticCharAtlasTexture=function(t,e,i){var s=i.scaledCharWidth+n.CHAR_ATLAS_CELL_SPACING,l=i.scaledCharHeight+n.CHAR_ATLAS_CELL_SPACING,c=e(255*s,34*l),u=c.getContext("2d",{alpha:i.allowTransparency});u.fillStyle=i.colors.background.css,u.fillRect(0,0,c.width,c.height),u.save(),u.fillStyle=i.colors.foreground.css,u.font=a(i.fontWeight,i),u.textBaseline="top";for(var d=0;d<256;d++)u.save(),u.beginPath(),u.rect(d*s,0,s,l),u.clip(),u.fillText(String.fromCharCode(d),d*s,0),u.restore();for(u.save(),u.font=a(i.fontWeightBold,i),d=0;d<256;d++)u.save(),u.beginPath(),u.rect(d*s,l,s,l),u.clip(),u.fillText(String.fromCharCode(d),d*s,l),u.restore();u.restore(),u.font=a(i.fontWeight,i);for(var p=0;p<16;p++){var f=(p+2)*l;for(d=0;d<256;d++)u.save(),u.beginPath(),u.rect(d*s,f,s,l),u.clip(),u.fillStyle=i.colors.ansi[p].css,u.fillText(String.fromCharCode(d),d*s,f),u.restore()}for(u.font=a(i.fontWeightBold,i),p=0;p<16;p++)for(f=(p+2+16)*l,d=0;d<256;d++)u.save(),u.beginPath(),u.rect(d*s,f,s,l),u.clip(),u.fillStyle=i.colors.ansi[p].css,u.fillText(String.fromCharCode(d),d*s,f),u.restore();if(u.restore(),!("createImageBitmap"in t)||o.isFirefox||o.isSafari)return c instanceof HTMLCanvasElement?c:new Promise(function(t){return t(c.transferToImageBitmap())});var h=u.getImageData(0,0,c.width,c.height);return r(h,i.colors.background),t.createImageBitmap(h)},i.clearColor=r},{"../utils/Browser":69,"./Types":68}],68:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR_ATLAS_CELL_SPACING=1},{}],69:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="undefined"==typeof navigator,o=n?"node":navigator.userAgent,r=n?"node":navigator.platform;function a(t,e){return t.indexOf(e)>=0}i.isFirefox=!!~o.indexOf("Firefox"),i.isSafari=/^((?!chrome|android).)*safari/i.test(o),i.isMSIE=!!~o.indexOf("MSIE")||!!~o.indexOf("Trident"),i.isMac=a(["Macintosh","MacIntel","MacPPC","Mac68K"],r),i.isIpad="iPad"===r,i.isIphone="iPhone"===r,i.isMSWindows=a(["Windows","Win16","Win32","WinCE"],r),i.isLinux=r.indexOf("Linux")>=0},{}],70:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=function(t){function e(e,i){var n=t.call(this)||this;return n._document=e,n._parentElement=i,n._measureElement=n._document.createElement("span"),n._measureElement.classList.add("xterm-char-measure-element"),n._measureElement.textContent="W",n._measureElement.setAttribute("aria-hidden","true"),n._parentElement.appendChild(n._measureElement),n}return o(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.measure=function(t){this._measureElement.style.fontFamily=t.fontFamily,this._measureElement.style.fontSize=t.fontSize+"px";var e=this._measureElement.getBoundingClientRect();0!==e.width&&0!==e.height&&(this._width===e.width&&this._height===e.height||(this._width=e.width,this._height=Math.ceil(e.height),this.emit("charsizechanged")))},e}(t("../EventEmitter").EventEmitter);i.CharMeasure=r},{"../EventEmitter":32}],71:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.addDisposableDomListener=function(t,e,i,n){return t.addEventListener(e,i,n),{dispose:function(){i&&(t.removeEventListener(e,i,n),t=null,i=null)}}}},{}],72:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/Lifecycle"),a=t("./Lifecycle"),s=function(t){function e(e){var i=t.call(this)||this;return i._terminal=e,i._zones=[],i._areZonesActive=!1,i._tooltipTimeout=null,i._currentZone=null,i._lastHoverCoords=[null,null],i.register(a.addDisposableDomListener(i._terminal.element,"mousedown",function(t){return i._onMouseDown(t)})),i._mouseMoveListener=function(t){return i._onMouseMove(t)},i._clickListener=function(t){return i._onClick(t)},i}return o(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._deactivate()},e.prototype.add=function(t){this._zones.push(t),1===this._zones.length&&this._activate()},e.prototype.clearAll=function(t,e){if(0!==this._zones.length){e||(t=0,e=this._terminal.rows-1);for(var i=0;i<this._zones.length;i++){var n=this._zones[i];(n.y1>t&&n.y1<=e+1||n.y2>t&&n.y2<=e+1||n.y1<t&&n.y2>e+1)&&(this._currentZone&&this._currentZone===n&&(this._currentZone.leaveCallback(),this._currentZone=null),this._zones.splice(i--,1))}0===this._zones.length&&this._deactivate()}},e.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._terminal.element.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.addEventListener("click",this._clickListener))},e.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._terminal.element.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.removeEventListener("click",this._clickListener))},e.prototype._onMouseMove=function(t){this._lastHoverCoords[0]===t.pageX&&this._lastHoverCoords[1]===t.pageY||(this._onHover(t),this._lastHoverCoords=[t.pageX,t.pageY])},e.prototype._onHover=function(t){var e=this,i=this._findZoneEventAt(t);i!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=null,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),i&&(this._currentZone=i,i.hoverCallback&&i.hoverCallback(t),this._tooltipTimeout=setTimeout(function(){return e._onTooltip(t)},500)))},e.prototype._onTooltip=function(t){this._tooltipTimeout=null;var e=this._findZoneEventAt(t);e&&e.tooltipCallback&&e.tooltipCallback(t)},e.prototype._onMouseDown=function(t){if(this._areZonesActive){var e=this._findZoneEventAt(t);e&&e.willLinkActivate(t)&&(t.preventDefault(),t.stopImmediatePropagation())}},e.prototype._onClick=function(t){var e=this._findZoneEventAt(t);e&&(e.clickCallback(t),t.preventDefault(),t.stopImmediatePropagation())},e.prototype._findZoneEventAt=function(t){var e=this._terminal.mouseHelper.getCoords(t,this._terminal.screenElement,this._terminal.charMeasure,this._terminal.options.lineHeight,this._terminal.cols,this._terminal.rows);if(!e)return null;for(var i=e[0],n=e[1],o=0;o<this._zones.length;o++){var r=this._zones[o];if(r.y1===r.y2){if(n===r.y1&&i>=r.x1&&i<r.x2)return r}else if(n===r.y1&&i>=r.x1||n===r.y2&&i<r.x2||n>r.y1&&n<r.y2)return r}return null},e}(r.Disposable);i.MouseZoneManager=s;var l=function(){return function(t,e,i,n,o,r,a,s,l){this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.clickCallback=o,this.hoverCallback=r,this.tooltipCallback=a,this.leaveCallback=s,this.willLinkActivate=l}}();i.MouseZone=l},{"../common/Lifecycle":42,"./Lifecycle":71}],73:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){this._terminal=t,this._callback=e,this._animationFrame=null}return t.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},t.prototype.refresh=function(t,e){var i=this;t=t||0,e=e||this._terminal.rows-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,t):t,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,e):e,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return i._innerRefresh()}))},t.prototype._innerRefresh=function(){this._rowStart=Math.max(this._rowStart,0),this._rowEnd=Math.min(this._rowEnd,this._terminal.rows-1),this._callback(this._rowStart,this._rowEnd),this._rowStart=null,this._rowEnd=null,this._animationFrame=null},t}();i.RenderDebouncer=n},{}],74:[function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.setListener=function(t){var e=this;this._listener&&this.clearListener(),this._listener=t,this._outerListener=function(){e._listener(window.devicePixelRatio,e._currentDevicePixelRatio),e._updateDpr()},this._updateDpr()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.clearListener()},e.prototype._updateDpr=function(){this._resolutionMediaMatchList&&this._resolutionMediaMatchList.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener)},e.prototype.clearListener=function(){this._listener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._listener=null,this._outerListener=null)},e}(t("../common/Lifecycle").Disposable);i.ScreenDprMonitor=r},{"../common/Lifecycle":42}],75:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.clone=function(t,e){if(void 0===e&&(e=5),"object"!=typeof t)return t;if(null===t)return null;var n=Array.isArray(t)?[]:{};for(var o in t)n[o]=e<=1?t[o]:i.clone(t[o],e-1);return n}},{}],76:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){this._renderer=t}return t.getCoordsRelativeToElement=function(t,e){if(null==t.pageX)return null;for(var i=e,n=t.pageX,o=t.pageY;e;)n-=e.offsetLeft,o-=e.offsetTop,e=e.offsetParent;for(e=i;e&&e!==e.ownerDocument.body;)n+=e.scrollLeft,o+=e.scrollTop,e=e.parentElement;return[n,o]},t.prototype.getCoords=function(e,i,n,o,r,a,s){if(!n.width||!n.height)return null;var l=t.getCoordsRelativeToElement(e,i);return l?(l[0]=Math.ceil((l[0]+(s?this._renderer.dimensions.actualCellWidth/2:0))/this._renderer.dimensions.actualCellWidth),l[1]=Math.ceil(l[1]/this._renderer.dimensions.actualCellHeight),l[0]=Math.min(Math.max(l[0],1),r+(s?1:0)),l[1]=Math.min(Math.max(l[1],1),a),l):null},t.prototype.getRawByteCoords=function(t,e,i,n,o,r){var a=this.getCoords(t,e,i,n,o,r),s=a[0],l=a[1];return{x:s+=32,y:l+=32}},t}();i.MouseHelper=n},{}],77:[function(t,e,i){e.exports={PAGINATION_SHOWING_ROWS:"Showing {{startRow}}-{{endRow}} of {{totalRows}} {{rowType}}.",PAGINATION_DEFAULT_ROW_TYPE:"records",PAGINATION_ITEMS_PER_PAGE:"Items per page",PAGINATION_PAGES:"Page(s)",PAGINATION_PREVIOUS_PAGE:"Prev",PAGINATION_NEXT_PAGE:"Next",COMMON_EG:"e.g. {{value}}",COMMON_OR:"or",COMMON_CONTROLLER_VERSION:"Controller Version",COMMON_NAV_DASHBOARD:"Dashboard",COMMON_NAV_MAP:"Map",COMMON_NAV_DEVICES:"Devices",COMMON_NAV_CLIENTS:"Clients",COMMON_NAV_STATISTICS:"Statistics",COMMON_NAV_IPS:"Intrusion Prevention System",COMMON_NAV_INSIGHTS:"Insights",COMMON_NAV_ALERTS:"Alerts",COMMON_NAV_EVENTS:"Events",COMMON_NAV_RELEASE_NOTES:"Release Notes",COMMON_NAV_SETTINGS:"Settings",COMMON_NAV_ZOPIM:"Live Chat Support",COMMON_SITE_MENU_TITLE:"Current site",COMMON_SITE_MENU_OPTION_HOTSPOT_MANAGER:"Hotspot Manager",COMMON_SITE_MENU_OPTION_ADD_NEW:"Add new site",COMMON_SITE_MENU_OPTION_IMPORT_SITE:"Import site",COMMON_SITE_MENU_OPTION_OVERVIEW:"Sites overview",COMMON_USER_MENU_TITLE:"Username",COMMON_USER_MENU_OPTION_EDIT_ACCOUNT:"Edit account",COMMON_USER_MENU_OPTION_LOGOUT:"Logout",COMMON_ETC_MENU_TITLE:"More options",COMMON_ETC_MENU_OPTION_PREFERENCES:"Preferences",COMMON_ETC_MENU_OPTION_STORE:"Store",COMMON_ETC_MENU_OPTION_ABOUT:"About",COMMON_REFRESH_RATE_MENU_TITLE:"Refresh rate",COMMON_REFRESH_RATE_MENU_OPTION_15SEC:"15 seconds",COMMON_REFRESH_RATE_MENU_OPTION_1MIN:"1 minute",COMMON_REFRESH_RATE_MENU_OPTION_2MIN:"2 minutes",COMMON_REFRESH_RATE_MENU_OPTION_5MIN:"5 minutes",COMMON_REFRESH_RATE_MENU_OPTION_NEVER:"Never refresh",COMMON_REFRESH_RATE_MOBILE_MENU_TITLE:"Refresh",COMMON_REFRESH_RATE_MOBILE_MENU_OPTION_15SEC:"15s",COMMON_REFRESH_RATE_MOBILE_MENU_OPTION_1MIN:"1m",COMMON_REFRESH_RATE_MOBILE_MENU_OPTION_2MIN:"2m",COMMON_REFRESH_RATE_MOBILE_MENU_OPTION_5MIN:"5m",COMMON_REFRESH_RATE_MOBILE_MENU_OPTION_NEVER:"Off",COMMON_BROWSER_LOG_LEVEL_MENU_OPTION_OFF:"OFF",COMMON_BROWSER_LOG_LEVEL_MENU_OPTION_ERROR:"ERROR",COMMON_BROWSER_LOG_LEVEL_MENU_OPTION_WARN:"WARN",COMMON_BROWSER_LOG_LEVEL_MENU_OPTION_INFO:"INFO",COMMON_BROWSER_LOG_LEVEL_MENU_OPTION_DEBUG:"DEBUG",COMMON_PROPERTY_PANEL_TITLE:"Properties",COMMON_PROPERTY_PANEL_REMOVE_ALL:"Remove all",COMMON_PROPERTY_PANEL_COLLAPSE_ALL:"Collapse all",COMMON_PROPERTY_PANEL_EXPAND_ALL:"Expand all",COMMON_PROPERTY_PANEL_OPEN:"Open property panel",COMMON_PROPERTY_PANEL_CLOSE:"Hide property panel",COMMON_PROPERTY_PANEL_PENDING_MULTIPLE_CHANGES:"{count, plural, one{item with<br />pending changes} other{items with<br />pending changes}}",COMMON_PROPERTY_PANEL_PENDING_DEVICE_CHANGES:"{count, plural, one{device with<br />pending changes} other{devices with<br />pending changes}}",COMMON_PROPERTY_PANEL_PENDING_CLIENT_CHANGES:"{count, plural, one{client with<br />pending changes} other{clients with<br />pending changes}}",COMMON_PROPERTIES_PENDING_CHANGES_FORGET_CONFIRM_TITLE:"Forget pending changes?",COMMON_PROPERTIES_PENDING_CHANGES_FORGET_ALL_CONFIRM_MESSAGE:"{count, plural, one{Are you sure you want to close all the docked property panels? There is one item with pending changes that have not been applied.} other{Are you sure you want to close all the docked property panels? There are # items with pending changes that have not been applied.}}",COMMON_PROPERTY_PANEL_ITEM_REMOVE:"Close properties",COMMON_PROPERTY_PANEL_ITEM_DOCK:"Dock to property panel",COMMON_PROPERTY_PANEL_ITEM_UNDOCK:"Undock from property panel",COMMON_LIST_COLUMN_SELECTOR_VALUE_ENABLE_GROUP_CONFIG:"Enable group config",COMMON_LIST_COLUMN_SELECTOR_VALUE_CUSTOM_COLUMNS:"Customize columns",COMMON_LIST_COLUMN_SELECTOR_VALUE_RESET_COLUMNS:"Reset columns to ...",COMMON_LIST_OPTION_SELECTOR_VALUE_RESET_OPTIONS:"Reset options to ...",COMMON_LIST_COLUMN_ACTION_EXPAND:"Expand",COMMON_LIST_COLUMN_ACTION_COLLAPSE:"Collapse",COMMON_SELECT_SIMPLE_DROPDOWN_SEARCH_PLACEHOLDER:"Select or search",COMMON_SELECT_SIMPLE_DROPDOWN_TABLE_EMPTY:"No matching items are available at this time.",COMMON_SELECT_DEVICE_DROPDOWN_SEARCH_PLACEHOLDER:"Select or search for a device",COMMON_SELECT_DEVICE_DROPDOWN_TABLE_EMPTY:"No matching devices are available at this time.",COMMON_SELECT_ADMIN_DROPDOWN_SEARCH_PLACEHOLDER:"Search for an admin",COMMON_SELECT_ADMIN_DROPDOWN_TABLE_EMPTY:"No matching admins are available at this time.",COMMON_SEARCH_PLACEHOLDER:"Search",COMMON_SEARCH_CLEAR:"Clear",COMMON_TOGGLE_ON:"On",COMMON_TOGGLE_OFF:"Off",COMMON_SECTION_ADVANCED_OPTIONS:"Advanced Options",COMMON_SELECT_LIST_SHOWING_SELECTED:"Selected {{numberOfSelected}} of {{numberOfAllSelectable}} items.",COMMON_WARNING_FEATURE_UNSUPPORTED_BY_BROWSER:"{{feature}} is not supported by your browser. The following browsers are supported: {{browsers}}.",COMMON_ACTIONS_ACCEPT:"Accept",COMMON_ACTIONS_ADD:"Add",COMMON_ACTIONS_APPLY:"Apply",COMMON_ACTIONS_APPLY_ALL:"Apply All",COMMON_ACTIONS_APPLY_CHANGES:"Apply Changes",COMMON_ACTIONS_BACK:"Back",COMMON_ACTIONS_CANCEL:"Cancel",COMMON_ACTIONS_CONFIRM:"Confirm",COMMON_ACTIONS_CHECKOUT:"Checkout",COMMON_ACTIONS_CLOSE:"Close",COMMON_ACTIONS_CREATE:"Create",COMMON_ACTIONS_DELETE:"Delete",COMMON_ACTIONS_DISCARD:"Discard",COMMON_ACTIONS_DISMISS:"Dismiss",COMMON_ACTIONS_DOWNLOAD:"Download",COMMON_ACTIONS_EDIT:"Edit",COMMON_ACTIONS_EDIT_SELECTED:"Edit Selected",COMMON_ACTIONS_FINISH:"Finish",COMMON_ACTIONS_IMPORT:"Import",COMMON_ACTIONS_INSTALL:"Install",COMMON_ACTIONS_NEXT:"Next",COMMON_ACTIONS_OK:"OK",COMMON_ACTIONS_OVERRIDE:"Override",COMMON_ACTIONS_QUEUE_CHANGES:"Queue Changes",COMMON_ACTIONS_REFRESH:"Refresh now",COMMON_ACTIONS_REMOVE:"Remove",COMMON_ACTIONS_REMOVE_OVERRIDES:"Remove Overrides",COMMON_ACTIONS_RESET:"Reset",COMMON_ACTIONS_RESET_TO_DEFAULTS:"Reset to Defaults",COMMON_ACTIONS_RETRY:"Retry",COMMON_ACTIONS_SAVE:"Save",COMMON_ACTIONS_DETAILS:"Details",COMMON_ACTIONS_SKIP:"Skip",COMMON_ACTIONS_SKIP_WIZARD:"Skip Wizard",COMMON_ACTIONS_SUBMIT:"Submit",COMMON_ACTIONS_SEND:"Send",COMMON_ACTIONS_SIGN_IN:"Sign In",COMMON_ACTIONS_TRAINING:"Training",COMMON_ACTIONS_UNDO:"Undo",COMMON_ACTIONS_UPGRADE:"Upgrade",COMMON_ACTIONS_UPDATE:"Update",COMMON_ACTIONS_VIEW:"View",COMMON_ALERT:"Alert",COMMON_ALPHA:"Alpha",COMMON_BETA:"Beta",COMMON_DEBUG:"Debug",COMMON_NEW_FEATURE:"New",COMMON_NOT_AVAILABLE:"N/A",COMMON_COUNT_CLIENTS:"{count, plural, one{# Client} other{# Clients}}",COMMON_FREQUENCY_RANGE_2G:"2.4GHz",COMMON_FREQUENCY_RANGE_5G:"5GHz",COMMON_LABEL_ALL:"All",COMMON_LABEL_CHOOSE_ONE:"Choose one",COMMON_LABEL_CUSTOM:"User-defined",COMMON_LABEL_DEFAULT:"Default",COMMON_LABEL_FILTER_BY:"Filter by:",COMMON_LABEL_FILTER_ALL:"All",COMMON_LABEL_SHOW:"Show",COMMON_LABEL_ENABLED:"Enabled",COMMON_LABEL_DISABLED:"Disabled",COMMON_LABEL_NEVER:"Never",COMMON_LABEL_RADIO_NA:"5G",COMMON_LABEL_RADIO_NG:"2G",COMMON_VALUE_YES:"Yes",COMMON_VALUE_NO:"No",COMMON_VALUE_AUTO:"Auto",COMMON_VALUE_UNDEFINED:"Undefined",COMMON_VALUE_BYPASS_CONFIRM:"Don't ask me this again.",COMMON_VALUE_KEEP_EXISTING:"Keep existing",COMMON_VALUE_SELECT_ALL:"Select all",COMMON_VALUE_DO_NOT_MODIFY:"Do not modify",COMMON_VALUE_LOW:"Low",COMMON_VALUE_MEDIUM:"Medium",COMMON_VALUE_HIGH:"High",COMMON_LATENCY_UNIT:"ms",COMMON_REQUIRES_CONTROLLER_BADGE:"Controller On-Line Required",COMMON_REQUIRES_CONTROLLER_TOOLTIP:"This feature requires a controller to be available permanently.",COMMON_REQUIRES_GEN2_BADGE:"GEN2 Required",COMMON_REQUIRES_GEN2_TOOLTIP:"This feature does not support UAP-AC (square, Broadcom)",COMMON_REQUIRES_UGW_BADGE:"USG Required",COMMON_REQUIRES_UGW_TOOLTIP:"This feature requires a UniFi Security Gateway.",COMMON_REQUIRES_USW_BADGE:"USW Required",COMMON_REQUIRES_USW_TOOLTIP:"This feature requires a UniFi Switch.",COMMON_REQUIRES_UAP_BADGE:"UAP Required",COMMON_REQUIRES_UAP_TOOLTIP:"This feature requires a UniFi Access Point.",COMMON_REQUIRES_CAPS_HEADER:"Some devices do not support this feature",COMMON_REQUIRES_CAPS_INFOBOX_MESSAGE:"At least one of your devices does not support this feature. You need to upgrade its firmware.",COMMON_TITLE_POWER_SAVE_ENABLED:"Power save enabled",COMMON_CONFIG_CHANGED_NOTICE:"The configuration has changed. Do you want to reset the form and lose all your changes or ignore the changes and continue?",COMMON_CONFIG_CHANGED_ACTIONS_RESET:"Reset form",COMMON_CONFIG_CHANGED_ACTIONS_IGNORE:"Ignore changes",COMMON_NOTICE_SAVE_SUCCESS:"The {{section}} changes were saved successfully.",COMMON_NOTICE_SAVE_MIXED:"Some {{section}} changes were saved successfully.",COMMON_NOTICE_SAVE_ERROR:"There was an error saving the {{section}} changes.",COMMON_NOTICE_REQUEST_ERROR:"There was an error making that request. Please try again later.",COMMON_NOTICE_UPLOAD_ERROR:"There was an error uploading file. Please try again later.",COMMON_NOTICE_LOAD_ERROR_TITLE:"Failed to load",COMMON_NOTICE_LOAD_ERROR_MESSAGE:"Some data requirements failed to load. Please try again later.",COMMON_NOTICE_LOAD_ERROR_MISSING_PERMISSION_MESSAGE:"Some data requirements failed to load. Missing permissions <b>{{permission}}</b>",COMMON_NOTICE_WAITING_TITLE:"Working. Please wait.",COMMON_NOTICE_DISABLED_DURING_UPGRADE:"This feature is disabled while the device is upgrading. Please wait.",COMMON_FILTER_ROAMING_UNLABELED:"Unlabeled",COMMON_FILTER_ROAMING_DETAILS:"Zero-Handoff, radio {{radio}}, channel {{channel}}",COMMON_FILTER_ROAMING_DETAILS_ABBR:"Zero-Handoff",COMMON_FILTER_WLAN_GROUP_ZERO_HANDOFF:"ZH",COMMON_GUEST_AUTHORIZATION_API:"API",COMMON_GUEST_AUTHORIZATION_CREDIT_CARD:"Credit card",COMMON_GUEST_AUTHORIZATION_FACEBOOK:"Facebook",COMMON_GUEST_AUTHORIZATION_FACEBOOK_WIFI:"Facebook Wi-Fi",COMMON_GUEST_AUTHORIZATION_FREE:"Free Trial",COMMON_GUEST_AUTHORIZATION_GOOGLE:"Google",COMMON_GUEST_AUTHORIZATION_NONE:"None",COMMON_GUEST_AUTHORIZATION_PASSWORD:"Password",COMMON_GUEST_AUTHORIZATION_PAYPAL:"PayPal",COMMON_GUEST_AUTHORIZATION_RADIUS:"RADIUS",COMMON_GUEST_AUTHORIZATION_WECHAT:"WeChat",COMMON_GUEST_AUTHORIZATION_VOUCHER:"Voucher",COMMON_GUEST_AUTHORIZATION_VOUCHER_WITH_CODE:"Voucher [{{code}}]",COMMON_TOAST_NOT_SUPPORTED_BROWSER_WARNING:"The browser you are using is not supported. Some features may not work correctly. We recommend using Chrome or Firefox to get the best experience.",COMMON_DATE_RANGE_SELECTOR_FROM:"From",COMMON_DATE_RANGE_SELECTOR_TO:"To",COMMON_DATE_RANGE_SELECTOR_VALIDATE_MAX_RANGE:"You can't select the range greater than {{maxDays}} days.",COMMON_DATA_RETENTION_WARNING:"Selected time range starts earlier than current data retention period.",COMMON_BSSID_BROADCAST:"Broadcast",COMMON_BSSID_UNKNOWN:"Unknown",COMMON_MAC_UNKNOWN:"Unknown",COMMON_MAC_BROADCAST:"Broadcast",COMMON_UNIT_BPS:"bps",COMMON_UNIT_KBPS:"kbps",COMMON_UNIT_BYTES:"Bytes",COMMON_SWITCHER_TITLE:"UniFi Apps",AP_ESSID_HIDDEN:"<hidden>",DEBUG_PANEL_ACTION_CLEAR:"Clear",DEBUG_PANEL_ACTION_SEARCH:"Search",DEBUG_PANEL_ACTION_START:"Start Logging",DEBUG_PANEL_ACTION_STOP:"Stop Logging",DEBUG_PANEL_FILTER_BY_PLACEHOLDER:"Filter by",DEBUG_PANEL_TAB_CACHE:"Cache",DEBUG_PANEL_TAB_FLAGS:"Flags",DEBUG_PANEL_TAB_WEBSOCKET:"WS Messages",DEVICE_STATE_DISCONNECTED:"Disconnected",DEVICE_STATE_RESTARTING:"Restarting",DEVICE_STATE_CONNECTED:"Connected",DEVICE_STATE_PENDING:"Pending Adoption",DEVICE_STATE_FIRMWARE_MISMATCH:"Pending Upgrade",DEVICE_STATE_UPGRADING:"Updating",DEVICE_STATE_PROVISIONING:"Provisioning",DEVICE_STATE_HEARTBEAT_MISSED:"Heartbeat Missed",DEVICE_STATE_ADOPTING:"Adopting",DEVICE_STATE_DELETING:"Deleting",DEVICE_STATE_INFORM_ERROR:"Inform Error",DEVICE_STATE_ADOPTION_REQUIRED:"Adoption Required",DEVICE_STATE_ADOPTION_FAILED:"Adoption Failed",DEVICE_STATE_ISOLATED:"Isolated",DEVICE_STATE_RFSCANNING:"RF Scanning",DEVICE_STATE_MANAGED_BY_OTHER:"Managed by Other",DEVICE_STATE_UNKNOWN:"Unknown",DEVICE_STATE_FLAG_INCOMPATIBLE_MODEL:"incompatible model",DEVICE_STATE_FLAG_NEEDS_UPGRADE:"needs upgrade",DEVICE_STATE_FLAG_LICENSE_GRACE_PERIOD:"grace period",DEVICE_STATE_FLAG_LICENSE_REGISTRATION_FAILED:"registration failed",DEVICE_STATE_FLAG_WIRELESS:"wireless",DEVICE_STATE_FLAG_WIRED_FULL_DUPLEX:"{{speed}} FDX",DEVICE_STATE_FLAG_WIRED_HALF_DUPLEX:"{{speed}} HDX",DEVICE_STATE_FLAG_ELITE:"elite",DEVICE_STATE_FLAG_ISOLATED:"limited",DEVICE_STATE_FLAG_DISABLED:"disabled",DEVICE_STATE_FLAG_LOCALLY_DISCOVERED:"locally discovered",DEVICE_STATE_FLAG_MIGRATING:"migrating",DEVICE_STATE_FLAG_MODEL_EOL_PENDING:"EOL pending",DEVICE_STATE_FLAG_UPGRADE_PREPARING_REBOOT:"preparing",DEVICE_STATE_FLAG_FIRMWARE_DOWNLOADING:"downloading",DEVICE_STATE_FLAG_UPGRADE_FAILED_REBOOT:"failed",DEVICE_STATE_FLAG_DEVICE_FIRMWARE_READY:"download completed",DEVICE_STATE_FLAG_DEVICE_FIRMWARE_WRITING:"writing",DEVICE_CATEGORY_INACTIVE:"Inactive",DEVICE_CATEGORY_LAN:"LAN",DEVICE_CATEGORY_WAN:"WAN",DEVICE_CATEGORY_WLAN:"WLAN",DEVICE_CATEGORY_ADOPTING:"Adopting",DEVICE_CATEGORY_PENDING:"Pending Adoption",DEVICE_CATEGORY_PENDING_SHORT:"Pending",DEVICE_CATEGORY_MANAGED_BY_OTHER:"Managed by Other",DEVICE_CATEGORY_MANAGED_BY_OTHER_SHORT:"Other",DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_START:"Start rolling upgrade",DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_START_CONFIRM_TITLE:"Start rolling upgrade?",DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_START_CONFIRM_MESSAGE:"Are you sure you want to start a rolling upgrade of your access points?",DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_START_NOTICE:"The rolling upgrade has been scheduled.",DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_START_ERROR:"There was an error scheduling the rolling upgrade.",DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_STOP:"Cancel rolling upgrade",DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_STOP_CONFIRM_TITLE:"Cancel rolling upgrade?",DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_STOP_CONFIRM_MESSAGE:"Are you sure you want to cancel the rolling upgrade of your access points?",DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_STOP_NOTICE:"The rolling upgrade has been cancelled.",DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_STOP_ERROR:"There was an error cancelling the rolling upgrade.",DEVICE_ACTIONS_SHOW_ON_MAP:"Show on map",DEVICE_ACTIONS_LOCATE:"Locate",DEVICE_ACTIONS_LOCATE_NOTICE:"Locating {{deviceName}}.",DEVICE_ACTIONS_LOCATE_ERROR:"There was an error locating {{deviceName}}.",DEVICE_ACTIONS_LOCATE_OFF_NOTICE:"Stopped locating {{deviceName}}.",DEVICE_ACTIONS_LOCATE_OFF_ERROR:"Unable to stop locating {{deviceName}}.",DEVICE_ACTIONS_RESTART:"Restart",DEVICE_ACTIONS_RESTART_NOTICE:"Restarting {{deviceName}}.",DEVICE_ACTIONS_RESTART_ERROR:"There was an error restarting {{deviceName}}.",DEVICE_ACTIONS_RESTART_CONFIRM_TITLE:"Restart {{deviceName}}?",DEVICE_ACTIONS_RESTART_CONFIRM_MESSAGE:"Are you sure you want to restart {{deviceName}}?",DEVICE_ACTIONS_RESTART_CONFIRM_CYCLE_POE_POWER:"Cycle PoE power",DEVICE_ACTIONS_BATCH_RESTART_CONFIRM_TITLE:"{count, plural, one{Restart 1 device} other{Restart # devices}}?",DEVICE_ACTIONS_BATCH_RESTART_CONFIRM_MESSAGE:"{count, plural, one{Are you sure you want to restart 1 device?} other{Are you sure you want to restart # devices?}}",DEVICE_ACTIONS_BATCH_RESTART_NOTICE:"{count, plural, one{Restarting 1 device} other{Restarting # devices}}.",DEVICE_ACTIONS_BATCH_RESTART_ERROR:"There was an error restarting one or more devices.",DEVICE_ACTIONS_ADOPT:"Adopt",DEVICE_ACTIONS_ADOPT_NOTICE:"Adopting {{deviceName}}.",DEVICE_ACTIONS_ADOPT_ERROR:"There was an error adopting {{deviceName}}.",DEVICE_ACTIONS_FORCE_ADOPT:"Retry ignoring limit",DEVICE_APPLY_CONFIGURATION_HEADER:"Apply configuration from {{deviceName}}",DEVICE_APPLY_CONFIGURATION_MESSAGE:"Would you like to apply configuration from replaced {{deviceName}} device?",DEVICE_ACTIONS_SET_INFORM_ERROR:"There was an error setting the inform for {{deviceName}}.",DEVICE_ACTIONS_SET_INFORM_CONFIRM_ERROR:"There was an error resetting the inform for {{deviceName}}.",DEVICE_ACTIONS_ADOPT_UNTRUSTED_CONFIRM_TITLE:"Are you sure you want to adopt this device?",DEVICE_ACTIONS_ADOPT_UNTRUSTED_CONFIRM_MESSAGE:"The SSH host key has changed. Please make sure that the host you are connecting to is a trusted device and only adopt this device if you are confident it belongs to you.",DEVICE_ACTIONS_MIGRATE_DEVICES_NOTICE:"Migrating devices.",DEVICE_ACTIONS_MIGRATE_DEVICES_ERROR:"There was an error migrating devices.",DEVICE_ACTIONS_UPDATE_FIRMWARE:"Updating",DEVICE_ACTIONS_UPGRADE:"Upgrade",DEVICE_ACTIONS_UPGRADE_CONFIRM_TITLE:"Upgrade {{deviceName}}?",DEVICE_ACTIONS_UPGRADE_CONFIRM_MESSAGE:"Are you sure you want to upgrade {{deviceName}}?",DEVICE_ACTIONS_UPGRADE_CONFIRM_VERSION_MESSAGE:"Are you sure you want to upgrade {{deviceName}} from {{fromVersion}} to {{toVersion}}?",DEVICE_ACTIONS_UPGRADE_NOTICE:"Upgrading {{deviceName}}.",DEVICE_ACTIONS_UPGRADE_ERROR:"There was an error upgrading {{deviceName}}.",DEVICE_ACTIONS_DOWNGRADE:"Downgrade",DEVICE_ACTIONS_DOWNGRADE_CONFIRM_TITLE:"Downgrade {{deviceName}}?",DEVICE_ACTIONS_DOWNGRADE_CONFIRM_VERSION_MESSAGE:"Are you sure you want to downgrade {{deviceName}} from {{fromVersion}} to {{toVersion}}?",DEVICE_ACTIONS_DOWNGRADE_NOTICE:"Downgrading {{deviceName}}.",DEVICE_ACTIONS_DOWNGRADE_ERROR:"There was an error downgrading {{deviceName}}.",DEVICE_ACTIONS_BATCH_UPGRADE_NOTICE:"{count, plural, one{Upgrading 1 device.} other{Upgrading # devices.}}",DEVICE_ACTIONS_BATCH_UPGRADE_ERROR:"There was an error upgrading one or more devices.",DEVICE_ACTIONS_SET_PRIORITY_UPLINK_NOTICE:"Setting the priority uplinks for {{deviceName}}.",DEVICE_ACTIONS_SET_PRIORITY_UPLINK_ERROR:"There was an error setting the priority uplinks for {{deviceName}}.",DEVICE_ACTIONS_UNSET_PRIORITY_UPLINK_NOTICE:"Removing the priority uplinks for {{deviceName}}.",DEVICE_ACTIONS_UNSET_PRIORITY_UPLINK_ERROR:"There was an error removing the priority uplinks for {{deviceName}}.",DEVICE_ACTIONS_UNLINK:"Remove",DEVICE_ACTIONS_UNLINK_NOTICE:"Removing {{downlinkDeviceName}} from uplink {{uplinkDeviceName}}. Please wait for the new settings to propagate.",DEVICE_ACTIONS_UNLINK_ERROR:"There was an error removing {{downlinkDeviceName}} from uplink {{uplinkDeviceName}}.",DEVICE_ACTIONS_LINK:"Select",DEVICE_ACTIONS_LINK_NOTICE:"Adding {{downlinkDeviceName}} to uplink {{uplinkDeviceName}}. Please wait for the new settings to propagate.",DEVICE_ACTIONS_LINK_ERROR:"There was an error adding {{downlinkDeviceName}} to uplink {{uplinkDeviceName}}.",DEVICE_ACTIONS_LINK_DFS_WARNING_HEADER:"DFS Channel Warning",DEVICE_ACTIONS_LINK_DFS_WARNING_MESSAGE:"Your wireless uplink device is using DFS channel {{channel}}. It means that: ",DEVICE_ACTIONS_LINK_DFS_WARNING_CONFIRM_MESSAGE:"Are you sure that you want to choose this wireless uplink?",DEVICE_ACTIONS_LINK_DFS_WARNING_5GHZ_UNAVAILABLE:"5GHz radio will not broadcast any SSIDs.",DEVICE_ACTIONS_LINK_DFS_WARNING_2GHZ_AVAILABLE:"2GHz radio will still be available.",DEVICE_ACTIONS_LINK_DFS_WARNING_5GHZ_USAGE_BEYOND:"To use 5GHz beyond this device, you need to plug in another AP into the port of the downlink device.",DEVICE_ACTIONS_FIND_DEVICES:"Find Devices",DEVICE_ACTIONS_FIND_DEVICES_INCOMPATIBLE_BROWSER_WARNING:"Finding devices in your local network is available only in Google Chrome.",DEVICE_ACTIONS_FINDING_DEVICES:"Finding Devices",DEVICE_ACTIONS_DISABLE:"Disable",DEVICE_ACTIONS_DISABLE_INFO:"A disabled device will be excluded from the dashboard status and device count and its LED and WLAN will be turned off.",DEVICE_ACTIONS_DISABLE_CONFIRM_TITLE:"Disable {{deviceName}}?",DEVICE_ACTIONS_DISABLE_CONFIRM_MESSAGE:"Are you sure you want to disable {{deviceName}}?",DEVICE_ACTIONS_DISABLE_SUCCESS:"{{deviceName}} has been disabled.",DEVICE_ACTIONS_DISABLE_ERROR:"There was an error disabling {{deviceName}}.",DEVICE_ACTIONS_BATCH_DISABLE_CONFIRM_TITLE:"Disable selected devices?",DEVICE_ACTIONS_BATCH_DISABLE_CONFIRM_MESSAGE:"{count, plural, one{Are you sure you want to disable 1 device?} other{Are you sure you want to disable # devices?}}",DEVICE_ACTIONS_ENABLE:"Enable",DEVICE_ACTIONS_ENABLE_INFO:"This device is currently disabled.",DEVICE_ACTIONS_ENABLE_BATCH_INFO:"One or more selected devices are currently disabled.",DEVICE_ACTIONS_ENABLE_CONFIRM_TITLE:"Enable {{deviceName}}?",DEVICE_ACTIONS_ENABLE_CONFIRM_MESSAGE:"Are you sure you want to enable {{deviceName}}?",DEVICE_ACTIONS_ENABLE_SUCCESS:"{{deviceName}} has been enabled.",DEVICE_ACTIONS_ENABLE_ERROR:"There was an error enabling {{deviceName}}.",DEVICE_ACTIONS_BATCH_ENABLE_CONFIRM_TITLE:"Enable selected devices?",DEVICE_ACTIONS_BATCH_ENABLE_CONFIRM_MESSAGE:"{count, plural, one{Are you sure you want to enable 1 device?} other{Are you sure you want to enable # devices?}}",DEVICE_ACTIONS_FORGET:"Forget",DEVICE_ACTIONS_FORGET_INFO:"If you no longer wish to manage a device, you may remove it. Note that all configuration and history with respect to the device will be wiped out.",DEVICE_ACTIONS_FORGET_CONFIRM_TITLE:"Forget {{deviceName}}?",DEVICE_ACTIONS_FORGET_CONFIRM_MESSAGE:"Are you sure you want to remove {{deviceName}} from the system? UniFi will no longer be managing this device and the device will be restored to factory default.",DEVICE_ACTIONS_FORGET_SUCCESS:"{{deviceName}} was removed.",DEVICE_ACTIONS_FORGET_ERROR:"There was an error removing {{deviceName}}.",DEVICE_ACTIONS_BATCH_FORGET_CONFIRM_TITLE:"Forget selected devices?",DEVICE_ACTIONS_BATCH_FORGET_CONFIRM_MESSAGE:"{count, plural, one{Are you sure you want to forget 1 device?} other{Are you sure you want to forget # devices?}}",DEVICE_ACTIONS_BATCH_FORGET_SUCCESS:"{count, plural, one{1 device was removed.} other{# devices were removed.}}",DEVICE_ACTIONS_BATCH_FORGET_ERROR:"There was an error removing one or more devices.",DEVICE_ACTIONS_PROVISION:"Provision",DEVICE_ACTIONS_PROVISION_INFO:"Triggering a provision will ensure that the device has all the latest settings applied to it.",DEVICE_ACTIONS_PROVISION_CONFIRM_TITLE:"Provision {{deviceName}}?",DEVICE_ACTIONS_PROVISION_CONFIRM_MESSAGE:"Are you sure you want to force provision {{deviceName}}?",DEVICE_ACTIONS_PROVISION_NOTICE:"{{deviceName}} is provisioning.",DEVICE_ACTIONS_PROVISION_ERROR:"There was an error provisioning {{deviceName}}.",DEVICE_ACTIONS_BATCH_PROVISION_CONFIRM_TITLE:"Provision selected devices?",DEVICE_ACTIONS_BATCH_PROVISION_CONFIRM_MESSAGE:"{count, plural, one{Are you sure you want to provision 1 device?} other{Are you sure you want to provision # devices?}}",DEVICE_ACTIONS_BATCH_PROVISION_NOTICE:"{count, plural, one{Provisioning 1 device.} other{Provisioning # devices.}}",DEVICE_ACTIONS_BATCH_PROVISION_ERROR:"There was an error provisioning one or more devices.",DEVICE_ACTIONS_CANCEL_MIGRATE:"Cancel migration",DEVICE_ACTIONS_CANCEL_MIGRATE_INFO:"If migration to other controller was unsuccessful, you can cancel it here.",DEVICE_ACTIONS_CANCEL_MIGRATE_SUCCESS:"Migration of {{deviceName}} was canceled.",DEVICE_ACTIONS_CANCEL_MIGRATE_ERROR:"There was an error canceling migration of {{deviceName}}.",DEVICE_ACTIONS_BATCH_CANCEL_MIGRATE_SUCCESS:"{count, plural, one{Migration of 1 device was canceled.} other{Migration of # devices was canceled.}}",DEVICE_ACTIONS_BATCH_CANCEL_MIGRATE_ERROR:"There was an error canceling migration of one or more devices.",DEVICE_ACTIONS_CUSTOM_UPGRADE:"Custom upgrade",DEVICE_ACTIONS_CUSTOM_UPGRADE_INFO:"Please enter the location URL for the firmware update. This URL must be reachable by the device.",DEVICE_ACTIONS_CUSTOM_UPGRADE_DISABLED_INFO:"Custom upgrade is not available, when Automatic Upgrades are enabled.",DEVICE_ACTIONS_CUSTOM_UPGRADE_CONFIRM_TITLE:"Confirm Custom Upgrade",DEVICE_ACTIONS_CUSTOM_UPGRADE_CONFIRM_MESSAGE:"WARNING: Installing firmware from a custom location might lead to UniFi Controller compatibility issues with this device. Are you sure you want to install firmware from a custom location?",DEVICE_ACTIONS_CACHE_DOWNLOAD:"Download device info",DEVICE_ACTIONS_CACHE_DOWNLOAD_INFO:"Download device runtime information from controller.",DEVICE_ACTIONS_CACHE_DOWNLOAD_SUCCESS:"Download {{deviceName}} information successfully.",DEVICE_ACTIONS_CACHE_DOWNLOAD_ERROR:"Download {{deviceName}} information failed.",DEVICE_ACTIONS_MOVE_OPTION:"Move this device to ...",DEVICE_ACTIONS_MOVE_CONFIRM_TITLE:"Move device to {{siteDesc}}?",DEVICE_ACTIONS_MOVE_CONFIRM_MESSAGE:"Are you sure you want to move this device to {{siteDesc}}? The device configurations and history with respect to this site will be wiped out, and the device will reprovision with configurations in {{siteDesc}}.",DEVICE_ACTIONS_MOVE_SUCCESS:"{{deviceName}} was moved to {{siteDesc}}.",DEVICE_ACTIONS_MOVE_ERROR:"There was an error moving {{deviceName}} to {{siteDesc}}.",DEVICE_ACTIONS_COPY_INFO:"You may copy a similar switch's configuration onto this switch.",DEVICE_ACTIONS_COPY_OPTION:"Copy from ...",DEVICE_ACTIONS_COPY_CONFIRM_TITLE:"Copy configuration from {{deviceName}}?",DEVICE_ACTIONS_COPY_CONFIRM_MESSAGE:"Are you sure you want to overwrite this device's configuration with the one from {{deviceName}}?",DEVICE_ACTIONS_COPY_SUCCESS:"The configuration was copied from {{sourceName}} to {{targetName}}.",DEVICE_ACTIONS_COPY_ERROR:"There was an error copying the configuration from {{sourceName}} to {{targetName}}.",DEVICE_ACTIONS_AP_MIN_RSSI_CONFIRM_TITLE:"Confirm Minimum RSSI",DEVICE_ACTIONS_AP_MIN_RSSI_CONFIRM_MESSAGE:'Setting the minimum RSSI higher than {{minRssi}}dBm will often result in intermittent connectivity. Please be careful and judicial in the use of minimum RSSI, doing a full site survey to ensure no "dead zones" result from your settings',DEVICE_ACTIONS_SWITCH_PORT_POWER_CYCLE:"Power cycle",DEVICE_ACTIONS_SWITCH_PORT_POWER_CYCLE_CONFIRM_TITLE:"Switch port power cycle",DEVICE_ACTIONS_SWITCH_PORT_POWER_CYCLE_CONFIRM_MESSAGE:"Are you sure you want to power cycle port {{port}} on {{deviceName}}?",DEVICE_ACTIONS_SWITCH_PORT_POWER_CYCLE_NOTICE:"Port {{port}} on {{deviceName}} was successfully power cycled.",DEVICE_ACTIONS_SWITCH_PORT_POWER_CYCLE_ERROR:"There was an error power cycling port {{port}} on {{deviceName}}.",DEVICE_ACTIONS_SWITCH_PORT_CLEAR_COUNTERS:"Clear counters",DEVICE_ACTIONS_SWITCH_PORT_CLEAR_COUNTERS_CONFIRM_TITLE:"Clear counters for port {{port}} on {{deviceName}}?",DEVICE_ACTIONS_SWITCH_PORT_CLEAR_COUNTERS_CONFIRM_MESSAGE:"Are you sure you want to clear counters for this port?",DEVICE_ACTIONS_SWITCH_PORT_CLEAR_COUNTERS_NOTICE:"Counters for {{port}} on {{deviceName}} were successfully cleared.",DEVICE_ACTIONS_SWITCH_PORT_CLEAR_COUNTERS_ERROR:"There was an error clearing counters for port {{port}} on {{deviceName}}.",DEVICE_ACTIONS_SWITCH_CLEAR_COUNTERS:"Clear counters",DEVICE_ACTIONS_SWITCH_CLEAR_COUNTERS_CONFIRM_TITLE:"Clear counters for {{deviceName}}?",DEVICE_ACTIONS_SWITCH_CLEAR_COUNTERS_CONFIRM_MESSAGE:"Are you sure you want to clear all counters on {{deviceName}}?",DEVICE_ACTIONS_SWITCH_CLEAR_COUNTERS_NOTICE:"Counters on {{deviceName}} were successfully cleared.",DEVICE_ACTIONS_SWITCH_CLEAR_COUNTERS_ERROR:"There was an error clearing counters on {{deviceName}}.",DEVICE_ACTIONS_SWITCH_CLEAR_ALL_COUNTERS:"Clear all counters",DEVICE_ACTIONS_SWITCH_CLEAR_ALL_COUNTERS_CONFIRM_TITLE:"Clear all counters?",DEVICE_ACTIONS_SWITCH_CLEAR_ALL_COUNTERS_CONFIRM_MESSAGE:"Are you sure you want to clear counters for all switch devices?",DEVICE_ACTIONS_SWITCH_CLEAR_ALL_COUNTERS_NOTICE:"All counters were successfully cleared.",DEVICE_ACTIONS_SWITCH_CLEAR_ALL_COUNTERS_ERROR:"There was an error clearing counters.",DEVICE_ACTIONS_DEBUG_TERMINAL:"Open terminal",DEVICE_ACTIONS_DEBUG_TERMINAL_INFO:"Open a terminal to connect directly to this device.",DEVICE_ACTIONS_DEBUG_TERMINAL_RF_SCAN_WARNING:"Debug Terminal is not available while device is RF scanning.",WEBRTC_CONTROLLER_GET_TURN_CREDENTIALS_ERROR:"There was an error getting TURN credentials.",DEVICE_GATEWAY_PORT_TYPE_WAN:"WAN",DEVICE_GATEWAY_PORT_TYPE_ETH:"ETH",DEVICE_GATEWAY_PORT_TYPE_LAN:"LAN",DEVICE_GATEWAY_PORT_TYPE_VOIP:"VOIP",DEVICE_PORT_STATE_DISABLED:"Disabled",DEVICE_PORT_STATE_DISCONNECTED:"Disconnected",DEVICE_PORT_STATE_10000:"10 Gbps",DEVICE_PORT_STATE_1000:"1 Gbps",DEVICE_PORT_STATE_100:"100/10 Mbps",DEVICE_PORT_STATE_MBPS:"{{speeds}} Mbps",DEVICE_PORT_STATE_GBPS:"{{speeds}} Gbps",DEVICE_PORT_STATE_POE:"PoE",DEVICE_PORT_STATE_POE_PLUS:"PoE+",DEVICE_PORT_STATE_POE_PASSIVE:"24V PoE",DEVICE_PORT_STATE_MIRROR:"Mirror",DEVICE_PORT_STATE_RSTP_DISCARDING:"RSTP Discarding",DEVICE_PORT_STATE_STP_BLOCKING:"STP Blocking",DEVICE_PORT_POE_GOOD:"Good",DEVICE_PORT_POE_CPD_TOO_HIGH:"CPD too High",DEVICE_PORT_POE_NOT_DETECTED:"Not detected",DEVICE_PORT_POE_PASSIVE:"Passive",DEVICE_PORT_STP_STATE_DISABLED:"Disabled",DEVICE_PORT_STP_STATE_DISCARDING:"Discarding",DEVICE_PORT_STP_STATE_FORWARDING:"Forwarding",DEVICE_PSU_STATUS_GOOD:"Good",DEVICE_PSU_STATUS_BAD:"Bad",DEVICE_PSU_STATUS_PWC_DISCONNECT:"Power cable disconnected",DEVICE_PSU_STATUS_NOT_PRESENT:"Not present",DEVICE_PSU_STATUS_NA:"N/A",DEVICE_RADIO_CHANNEL_DFS:"DFS",DEVICE_RADIO_CHANNEL_DFS_WAITING:"DFS Waiting",DEVICE_RADIO_TRANSMIT_POWER_DBM:"dBm",DEVICE_RADIO_TRANSMIT_POWER_DBI:"dBi",DEVICE_RADIO_TRANSMIT_POWER_EIRP:"EIRP",DEVICE_RADIO_TOOLTIP_CHANNEL_NOT_SET_AS_CONFIGURED:"Channel {{configured}} was configured but {{used}} is used",DEVICE_RADIO_PROTOCOL_NA:"11N/A",DEVICE_RADIO_PROTOCOL_NA_AC:"11N/A/AC",DEVICE_RADIO_PROTOCOL_NG:"11N/B/G",DEVICE_OFFLINE:"Controller is offline",DEVICE_VERSION_INCOMPATIBLE:"Controller version not supported",DEVICE_TERMINAL_CONNECTING:"Establishing Connection",DEVICE_TERMINAL_CONNECTED:"Connected to Device",DEVICE_TERMINAL_CONNECTION_ERROR:"Connection error",DEVICE_TERMINAL_CHANNEL_CLOSED:"Connection closed",DEVICE_TERMINAL_CHANNEL_MESSAGE:"New message",DEVICE_TERMINAL_WEBRTC_CREATE_ANSWER:"Checking Your Network",DEVICE_TERMINAL_WEBRTC_CREATE_ANSWER_ERROR:"Checking Your Network error",DEVICE_TERMINAL_WEBRTC_CREATE_OFFER:"Checking Your Network",DEVICE_TERMINAL_WEBRTC_CREATE_OFFER_ERROR:"Checking Your Network error",DEVICE_TERMINAL_WEBRTC_SDP_REQUESTING:"Checking Device Network",DEVICE_TERMINAL_WEBRTC_SDP_SENDING:"Syncing with Device",DEVICE_TERMINAL_WEBRTC_SDP_RECEIVED:"Device Network checked",DEVICE_TERMINAL_WEBRTC_INITIALIZED:"Connection Initialized",DEVICE_TERMINAL_WEBRTC_CONNECTED:"Connected to Device",DEVICE_TERMINAL_WEBRTC_CONNECTED_ERROR:"Connection error",CLIENT_ACTIONS_BLOCK:"Block",CLIENT_ACTIONS_BLOCK_NOTICE:"Blocking {{clientName}}.",CLIENT_ACTIONS_BLOCK_ERROR:"There was an error blocking {{clientName}}.",CLIENT_ACTIONS_BLOCK_CONFIRM_TITLE:"Block {{clientName}}?",CLIENT_ACTIONS_BLOCK_CONFIRM_MESSAGE:"Are you sure you want to block {{clientName}}?",CLIENT_ACTIONS_BLOCK_CONTROLLER_CONFIRM_TITLE:"Block UniFi Controller?",CLIENT_ACTIONS_BLOCK_CONTROLLER_CONFIRM_MESSAGE:"{{clientName}} might be the UniFi Controller. Are you sure you want to block it?",CLIENT_ACTIONS_BATCH_BLOCK_CONFIRM_TITLE:"{count, plural, one{Block 1 client?} other{Block # clients?}}",CLIENT_ACTIONS_BATCH_BLOCK_CONFIRM_MESSAGE:"{count, plural, one{Are you sure that you want to block 1 client?} other{Are you sure that you want to block # clients?}}",CLIENT_ACTIONS_BATCH_BLOCK_NOTICE:"{count, plural, one{Blocking 1 client.} other{Blocking # clients.}}",CLIENT_ACTIONS_BATCH_BLOCK_ERROR:"There was an error blocking one or more clients.",CLIENT_ACTIONS_UNBLOCK:"Unblock",CLIENT_ACTIONS_UNBLOCK_NOTICE:"Unblocking {{clientName}}.",CLIENT_ACTIONS_UNBLOCK_ERROR:"There was an error unblocking {{clientName}}.",CLIENT_ACTIONS_BATCH_UNBLOCK_CONFIRM_TITLE:"{count, plural, one{Unblock 1 client?} other{Unblock # clients?}}",CLIENT_ACTIONS_BATCH_UNBLOCK_CONFIRM_MESSAGE:"{count, plural, one{Are you sure that you want to unblock 1 client?} other{Are you sure that you want to unblock # clients?}}",CLIENT_ACTIONS_BATCH_UNBLOCK_NOTICE:"{count, plural, one{Unblocking 1 client.} other{Unblocking # clients.}}",CLIENT_ACTIONS_BATCH_UNBLOCK_ERROR:"There was an error unblocking one or more clients.",CLIENT_ACTIONS_RECONNECT:"Reconnect",CLIENT_ACTIONS_RECONNECT_NOTICE:"Reconnecting {{clientName}}.",CLIENT_ACTIONS_RECONNECT_ERROR:"There was an error reconnecting {{clientName}}.",CLIENT_ACTIONS_AUTHORIZE:"Authorize",CLIENT_ACTIONS_AUTHORIZE_NOTICE:"Authorizing {{clientName}}.",CLIENT_ACTIONS_AUTHORIZE_ERROR:"There was an error authorizing {{clientName}}.",CLIENT_ACTIONS_UNAUTHORIZE:"Unauthorize",CLIENT_ACTIONS_UNAUTHORIZE_NOTICE:"Unauthorizing {{clientName}}.",CLIENT_ACTIONS_UNAUTHORIZE_ERROR:"There was an error unauthorizing {{clientName}}.",CLIENT_ACTIONS_ADD_SUCCESS:"Client {{mac}} added successfully.",CLIENT_ACTIONS_ADD_ERROR:"There was an error adding client {{mac}}.",CLIENT_ACTIONS_BATCH_ADD_SUCCESS:"{count, plural, one{1 client was added successfully.} other{# clients were added successfully.}}",CLIENT_ACTIONS_BATCH_ADD_ERROR:"{count, plural, one{There was an error while adding 1 client.} other{There was an error while adding # clients.}}",CLIENT_ACTIONS_FORGET:"Forget",CLIENT_ACTIONS_FORGET_NOTICE:"Forgetting {{clientName}}.",CLIENT_ACTIONS_FORGET_ERROR:"There was an error forgetting {{clientName}}.",CLIENT_ACTIONS_FORGET_CONFIRM_TITLE:"Forget {{clientName}}?",CLIENT_ACTIONS_FORGET_CONFIRM_MESSAGE:"Are you sure you want to forget {{clientName}}?",ELITE_DEVICE_OFFLINE_HEADER:"Unifi Elite",ELITE_DEVICE_OFFLINE_DETAILS:"Your Elite Devices has been offline for more than 8 hours:",ELITE_DEVICE_OFFLINE_CANCEL_BUTTON:"Cancel",ELITE_DEVICE_OFFLINE_LIVE_SUPPORT_BUTTON:"Live Support",ELITE_DEVICE_LICENSE_CHANGED_MESSAGE:"{{display}} Elite License has been updated",ELITE_DEVICE_LICENSE_REVOKED_MESSAGE:"{{display}} Elite License was revoked",ELITE_DEVICE_WARNING_TERMS_OF_SERVICE_REQUIRED:"Please accept Terms of Service to enable Elite Device.",ELITE_DEVICE_WARNING_COUNTRY_NOT_SUPPORTED:"Elite Device service is not available in selected country.",INSTANT_RMA_HEADER:"RMA Request for {{mac}}",INSTANT_RMA_MESSAGE:"To submit a RMA request for an Elite device, please complete this form.",INSTANT_RMA_REPLACE_MESSAGE:"Would you like to automatically adopt your new device and restore its settings from the old one?",INSTANT_RMA_LABEL_SHIPPING_ADDRESS:"Shipping Address",INSTANT_RMA_LABEL_SHIPPING_ADDRESS_2:"Shipping Address Line 2",INSTANT_RMA_LABEL_CITY:"City",INSTANT_RMA_COUNTRY_PLACEHOLDER:"Select Country",INSTANT_RMA_LABEL_COUNTRY:"Country",INSTANT_RMA_LABEL_REASON:"Select Reason",INSTANT_RMA_LABEL_STATE:"State",INSTANT_RMA_STATE_PLACEHOLDER:"Select State",INSTANT_RMA_LABEL_COMPANY_NAME:"Company Name",INSTANT_RMA_LABEL_FULL_NAME:"Full name",INSTANT_RMA_LABEL_PHONE_NUMBER:"Phone Number",INSTANT_RMA_LABEL_ZIP_CODE:"Zip Code",INSTANT_RMA_LABEL_OVERRIDE_SETTINGS:"Keep this contact information as default one in Controller Settings.",INSTANT_RMA_LABEL_AUTOREPLACE:"Automatically replace device",INSTANT_RMA_LABEL_SHIPPING_INFO:"Shipping Info",INSTANT_RMA_SHIPPING_INFO_CHANGE_SUCCESS:"Shipping Info has been updated",INSTANT_RMA_SHIPPING_INFO_CHANGE_ERROR:"Shipping Info update failed",RADIUS_USER_ACTIONS_REVOKE_SUCCESS:"The RADIUS user {{name}} has been removed.",RADIUS_USER_ACTIONS_REVOKE_ERROR:"There was an error removing the RADIUS user {{name}}.",RADIUS_USER_ACTIONS_SAVE_SUCCESS:"The RADIUS user {{name}} was saved successfully.",RADIUS_USER_ACTIONS_SAVE_ERROR:"There was an error saving the RADIUS user {{name}}.",PROFILES_RADIUS_ACTIONS_DELETE_SUCCESS:"The RADIUS profile {{name}} has been removed.",PROFILES_RADIUS_ACTIONS_DELETE_ERROR:"There was an error removing the RADIUS profile {{name}}.",PROFILES_RADIUS_ACTIONS_SAVE_SUCCESS:"The RADIUS profile {{name}} was saved successfully.",PROFILES_RADIUS_ACTIONS_SAVE_ERROR:"There was an error saving the RADIUS profile {{name}}.",PROFILES_RADIUS_ACTIONS_BUTTON_ADD:"Create new RADIUS profile",PROFILES_RADIUS_VALIDATION_HINT_RADIUS_SERVER_REQUIRED:'You cannot choose the "Default" RADIUS profile if the RADIUS server is disabled.',STREAM_ACTIONS_TERMINATE:"Terminate",STREAM_PROPERTIES_TAB_DETAILS:"Details",STREAM_PROPERTIES_TAB_DEVICES:"Devices",STREAM_PROPERTIES_SECTION_DETAILS_OVERVIEW:"Overview",STREAM_PROPERTIES_SECTION_DETAILS_QUALITY:"Quality",STREAM_PROPERTIES_LABEL_CHANNELS:"Channels",STREAM_PROPERTIES_LABEL_CHANNELS_NUMBER:"{channels, plural, one{# (Mono)} =2{# (Stereo)} other{}}",STREAM_PROPERTIES_LABEL_ENCODING_QUALITY:"Encoding Quality",STREAM_PROPERTIES_LABEL_ID:"Stream ID",STREAM_PROPERTIES_LABEL_NUMBER_OF_DEVICES:"# Devices",STREAM_PROPERTIES_LABEL_QUALITY_LOW:"Low",STREAM_PROPERTIES_LABEL_QUALITY_MEDIUM:"Medium",STREAM_PROPERTIES_LABEL_QUALITY_HIGH:"High",STREAM_PROPERTIES_LABEL_READY:"Ready",STREAM_PROPERTIES_LABEL_RATE:"Rate",STREAM_PROPERTIES_LABEL_STREAMING:"Streaming",STREAM_PROPERTIES_DEVICES_TABLE_HEADER_DEVICE:"Device",STREAM_PROPERTIES_DEVICES_TABLE_HEADER_CONNECTED:"Connected",SETTINGS_NAV_AUTOBACKUP:"Auto Backup",SETTINGS_NAV_SITE:"Site",SETTINGS_NAV_WIRELESS_NETWORKS:"Wireless Networks",SETTINGS_NAV_NETWORKS:"Networks",SETTINGS_NAV_PROFILES:"Profiles",SETTINGS_NAV_ROUTING_AND_FIREWALL:"Routing & Firewall",SETTINGS_NAV_GUEST_CONTROL:"Guest Control",SETTINGS_NAV_SERVICES:"Services",SETTINGS_NAV_ADMINS:"Admins",SETTINGS_NAV_USER_GROUPS:"User Groups",SETTINGS_NAV_DPI:"DPI",SETTINGS_NAV_IPS:"IPS",SETTINGS_NAV_CONTROLLER:"Controller",SETTINGS_NAV_NOTIFICATIONS:"Notifications",SETTINGS_NAV_CLOUD_ACCESS:"Cloud Access",SETTINGS_NAV_ELITE_DEVICE:"Elite Device",SETTINGS_NAV_MAINTENANCE:"Maintenance",SETTINGS_NAV_FIRMWARE:"Firmware",SETTINGS_NAV_GEOIP_BLOCKING:"GeoIP Filtering",PREFERENCES_MODAL_TITLE:"Preferences",PREFERENCES_MODAL_INFO_BOX_LANGUAGE:'Translations for languages other than English are currently in BETA. Please verify the English version before making any major changes; and let us know in our <a href="{{communityLink}}" target="_blank">Community</a> when you find any errors, so we may continue to improve.',PREFERENCES_MODAL_LABEL_ROWS_PER_PAGE:"Rows per page",PREFERENCES_MODAL_LABEL_ROWS_PER_PROPERTY_PANEL:"Rows per panel",PREFERENCES_MODAL_LABEL_DARK_SETTINGS:"Dark settings",PREFERENCES_MODAL_LABEL_CONDENSED_VIEW:"Condensed view",PREFERENCES_MODAL_LABEL_MINIMAL_VIEW:"Minimal view",PREFERENCES_MODAL_LABEL_RESPONSIVE_TABLES:"Responsive tables",PREFERENCES_MODAL_LABEL_UNDOCKED_PANELS:"Undocked panels",PREFERENCES_MODAL_LABEL_USE_SETTINGS_PANEL_VIEW:"Settings panels",PREFERENCES_MODAL_LABEL_REMEMBER_ALL_REFRESH_RATES:"Remember all refresh rates",PREFERENCES_MODAL_LABEL_FORCE_READ_ONLY:"Force read only",PREFERENCES_MODAL_LABEL_BYPASS_AUTO_FIND_DEVICES_FLIPPED:"Auto discover devices",PREFERENCES_MODAL_LABEL_BYPASS_CONFIRM_BLOCK_FLIPPED:"Confirm before blocking client",PREFERENCES_MODAL_LABEL_BYPASS_CONFIRM_UPGRADE_FLIPPED:"Confirm before device upgrade/downgrade",PREFERENCES_MODAL_LABEL_BYPASS_CONFIRM_RESTART_FLIPPED:"Confirm before device restart",PREFERENCES_MODAL_LABEL_24HR_TIME:"Use 24-hour time",PREFERENCES_MODAL_LABEL_WEBSOCKET_ENABLED:"Enable WebSocket connection",PREFERENCES_MODAL_LABEL_DATE_FORMAT:"Date format",PREFERENCES_MODAL_LABEL_DEBUG_TRANSLATION_KEYS:"Debug translation keys",PREFERENCES_MODAL_LABEL_ALLOW_HIDDEN_DASHBOARD_MODULES:"Allow hidden dashboard widgets",PREFERENCES_MODAL_LABEL_TIME_FORMAT:"Time format",PREFERENCES_MODAL_LABEL_DATETIME_FORMAT:"Datetime format",PREFERENCES_MODAL_LABEL_LANGUAGE:"Language",PREFERENCES_MODAL_LABEL_ALERTS_POSITION:"Alerts position",PREFERENCES_MODAL_LABEL_STATS_TZ:"Statistics timezone",PREFERENCES_MODAL_LABEL_REFRESH_BUTTON_ENABLED:"Enable refresh button",PREFERENCES_MODAL_LABEL_REFRESH_RATE:"Refresh rate",PREFERENCES_MODAL_LABEL_BROWSER_LOG_LEVEL:"Browser log level",PREFERENCES_MODAL_LABEL_REGULAR_GRAPH_FOR_AIR_VIEW_ENABLED:"Enable Regular graph for AirView",PREFERENCES_MODAL_LABEL_SERVICE_WORKERS:"Enable Service Workers",PREFERENCES_MODAL_TOOLTIP_ROWS_PER_PROPERTY_PANEL:"The number of rows per page for tables in the property panels.",PREFERENCES_MODAL_TOOLTIP_DARK_SETTINGS:"Use a dark theme on the settings pages.",PREFERENCES_MODAL_TOOLTIP_CONDENSED_VIEW:"Condense the table padding and shrink the font size to fit as much data on the screen as possible.",PREFERENCES_MODAL_TOOLTIP_MINIMAL_VIEW:"Use minimalist icons.",PREFERENCES_MODAL_TOOLTIP_RESPONSIVE_TABLES:"When table columns haven't been customized this will smartly remove columns on smaller browsers to prevent excessive scrolling.",PREFERENCES_MODAL_TOOLTIP_UNDOCKED_PANELS:"Open properties as overlays to the page instead of in the property panel.",PREFERENCES_MODAL_TOOLTIP_USE_SETTINGS_PANEL_VIEW:"Open the settings forms in a panel below the lists.",PREFERENCES_MODAL_TOOLTIP_REMEMBER_ALL_REFRESH_RATES:"Fast refresh rates are not meant for permanent use or large installations.",PREFERENCES_MODAL_TOOLTIP_FORCE_READ_ONLY:"Force the view to display as read-only until the next page refresh. This does not affect permissions and is for development purposes only.",PREFERENCES_MODAL_TOOLTIP_DATE_FORMAT:"<a href='{{dateFormatLink}}' target='_blank'>Learn more</a> about date and time formatting.",PREFERENCES_MODAL_VALUES_SELECT_LANGUAGE:"Select a language",PREFERENCES_MODAL_VALUES_POSITION_TOP_LEFT:"Top left",PREFERENCES_MODAL_VALUES_POSITION_TOP_CENTER:"Top center",PREFERENCES_MODAL_VALUES_POSITION_TOP_RIGHT:"Top right",PREFERENCES_MODAL_VALUES_POSITION_BOTTOM_LEFT:"Bottom left",PREFERENCES_MODAL_VALUES_POSITION_BOTTOM_CENTER:"Bottom center",PREFERENCES_MODAL_VALUES_POSITION_BOTTOM_RIGHT:"Bottom right",PREFERENCES_MODAL_VALUES_STATS_TZ_LOCAL:"Browser's",PREFERENCES_MODAL_VALUES_STATS_TZ_CONTROLLER:"Site's",PREFERENCES_MODAL_VALUES_STATS_TZ_UTC:"UTC",PREFERENCES_ACTIONS_SAVE_SUCCESS:"Your preferences were saved successfully.",PREFERENCES_ACTIONS_CANCEL_SUCCESS:"Your preferences were reverted successfully.",PREFERENCES_ACTIONS_SAVE_AND_CLOSE:"Save and Close",SITES_OVERVIEW_MODAL_TITLE:"Sites Overview",SIMPLE_TEXT_EDITOR_MODAL_MESSAGE:"Note: The text will be formatted as is, including all whitespaces and new lines.",SITE_ADD_MODAL_TITLE:"Add a new site",SITE_ADD_LABEL_SITE_NAME:"Site Name",SITE_EXPORT_MODAL_EXPORT_SITE_TITLE:"Export site",SITE_EXPORT_MODAL_EXPORT_SITE_HELP_TITLE:"To export your current site please download the backup file.",SITE_EXPORT_MODAL_EXPORT_SITE_HELP:"You can import your current site to any other controller that has the same or higher version.",SITE_EXPORT_MODAL_MIGRATE_SITE_TITLE:"Migrate site",SITE_EXPORT_MODAL_MIGRATE_SITE_HELP_TITLE:"To migrate your site please import it into your second controller.",SITE_EXPORT_MODAL_MIGRATE_SITE_HELP:"You can import the site by clicking the <b>Import Site</b> option in the <b>Switch Site</b> dropdown and uploading the backup file of your site.",SITE_EXPORT_MODAL_MIGRATE_DEVICES_TITLE:"Migrate devices",SITE_EXPORT_MODAL_MIGRATE_DEVICES_HELP_TITLE:"Migrate the selected devices to your second controller.",SITE_EXPORT_MODAL_MIGRATE_DEVICES_HELP:"Please provide the Inform URL to your second controller.",SITE_EXPORT_MODAL_FORGET_DEVICES_TITLE:"Forget devices",SITE_EXPORT_MODAL_FORGET_DEVICES_HELP_TITLE:"To finish the migration process please forget the successfully migrated devices.",SITE_EXPORT_MODAL_FORGET_DEVICES_HELP:"Please visit the device page in your second controller and check if all of the migrated devices are visible and connected. This process may take up to couple minutes.",SITE_EXPORT_ACTIONS_DOWNLOAD_FILE:"Download backup file",SITE_EXPORT_ACTIONS_MIGRATE_DEVICES:"Migrate devices",SITE_EXPORT_ACTIONS_FORGET_DEVICES:"Forget devices",SITE_IMPORT_MODAL_TITLE:"Import site",SITE_IMPORT_LABEL_SITE_NAME:"Site Name",SITE_IMPORT_ACTIONS_CHOOSE_FILE:"Choose file",SITE_ACTIONS_ADD_SUCCESS:"The site {{siteDesc}} was added successfully.",SITE_ACTIONS_ADD_ERROR:"There was an error adding the site {{siteDesc}}.",SITE_ACTIONS_RESET_DEVICE_SSH_PASSWORD_SUCCESS:"Device SSH authorization password was resetted successfully for site {{site}}.",SITE_ACTIONS_RESET_DEVICE_SSH_PASSWORD_ERROR:"There was an error resetting device SSH authorization for site {{site}}.",SITE_TOPOLOGY_RESET_SUCCESS:"Reset Topology successfully.",SITE_TOPOLOGY_RESET_ERROR:"There was an error reseting topology.",ADMIN_ACTIONS_CREATE_SUCCESS:"An account has been created for {{adminName}}.",ADMIN_ACTIONS_CREATE_ERROR:"There was an error creating account for {{adminName}}.",ADMIN_ACTIONS_INVITE_SUCCESS:"An invitation has been sent to {{adminName}}.",ADMIN_ACTIONS_INVITE_ERROR:"There was an error inviting {{adminName}}.",ADMIN_ACTIONS_EDIT_SUCCESS:"{{adminName}} was updated successfully.",ADMIN_ACTIONS_EDIT_ERROR:"There was an error updating {{adminName}}.",ADMIN_ACTIONS_GRANT_SUCCESS:"{{adminName}} role was granted successfully.",ADMIN_ACTIONS_GRANT_ERROR:"There was an error granting {{adminName}}'s role.",ADMIN_ACTIONS_REVOKE_SUCCESS:"The administrator {{adminName}} has been removed and all privileges revoked.",ADMIN_ACTIONS_REVOKE_ERROR:"There was an error removing the administrator {{adminName}}.",ADMIN_ACTIONS_GRANT_SUPER_SUCCESS:"Super privileges were granted to {{adminName}} successfully.",ADMIN_ACTIONS_GRANT_SUPER_ERROR:"There was an error granting {{adminName}}'s super privileges.",ADMIN_ACTIONS_GRANT_SUPER_PERMISSIONS_SUCCESS:"Super site permissions were updated for {{adminName}} successfully.",ADMIN_ACTIONS_GRANT_SUPER_PERMISSIONS_ERROR:"There was an error updating {{adminName}}'s super site permissions.",ADMIN_ACTIONS_REVOKE_SUPER_SUCCESS:"Super privileges were revoked from {{adminName}} successfully.",ADMIN_ACTIONS_REVOKE_SUPER_ERROR:"There was an error revoking {{adminName}}'s super privileges.",ADMIN_ACTIONS_ROLE_WAS_AUTO_CHANGED:"The role was change to {{roleType}}.",ADMIN_ACTIONS_SET_PERMISSIONS_SUCCESS:"Permissions for {{adminName}} were updated successfully.",ADMIN_ACTIONS_SET_PERMISSIONS_ERROR:"There was an error updating permissions for {{adminName}}.",EDIT_ACCOUNT_MODAL_TITLE:"Edit account",EDIT_ACCOUNT_MODAL_PASSWORD_NOTE:"Please enter your current password to make any changes to your account.",EDIT_ACCOUNT_LABEL_PASSWORD:"Password",EDIT_ACCOUNT_LABEL_ADMIN_NAME:"Admin Name",EDIT_ACCOUNT_LABEL_EMAIL:"Email",EDIT_ACCOUNT_LABEL_NEW_PASSWORD:"New Password",EDIT_ACCOUNT_LABEL_CONFIRM_PASSWORD:"Confirm Password",EDIT_ACCOUNT_LABEL_ALERT_EMAILS:"Alerts",EDIT_ACCOUNT_LABEL_EMAIL_TEMPLATES:"Email Templates",EDIT_ACCOUNT_LABEL_PROFESSIONAL_INSTALLER:"Professional Installer",EDIT_ACCOUNT_VALUES_ALERT_EMAILS:"Enable alert emails",EDIT_ACCOUNT_VALUES_ALERT_EMAILS_GROUP_TOGETHER:"Send similar alerts in one email",EDIT_ACCOUNT_VALUES_HTML_EMAIL_TEMPLATES:"Enable HTML email templates",EDIT_ACCOUNT_VALUES_PROFESSIONAL_INSTALLER:"Enable options for professional installers",EDIT_ACCOUNT_VALUES_PROFESSIONAL_INSTALLER_CONFIRM:"I hereby certify that I am a professional installer of wireless equipment.",EDIT_ACCOUNT_ACTIONS_SUCCESS:"Your account was updated successfully.",EDIT_ACCOUNT_ACTIONS_ERROR:"There was an error updating your account.",VALIDATION_HINT_HOSTNAME_OR_IP:"This field must be a valid hostname or an IP address.",VALIDATION_HINT_IP:"This field must be a valid IP address.",VALIDATION_HINT_IPV4:"This field must be a valid IPv4 address.",VALIDATION_HINT_IPV6:"This field must be a valid IPv6 address.",VALIDATION_HINT_SUBNET:"This field must be a valid subnet address.",VALIDATION_HINT_PORT_RANGE:"This field can have up to 15 numbers between 1 to 65535 separated by commas (,) or dashes (-) for ranges, and no spaces.",VALIDATION_HINT_IP_RANGE:"This field can have an IP address, a range of IP addresses separated by a dash (-), or a subnet.",VALIDATION_HINT_WEP_KEY:"This field can only be a hex value with 0-9 and A-F in the length of 10 or 26, or printable ASCII characters in the length of 5 or 13.",VALIDATION_HINT_WPA_PSK:"This field can only contain spaces or printable ASCII characters in the length of 8-63.",VALIDATION_HINT_RANGE:"This field must be a number between {{min}} and {{max}}.",VALIDATION_HINT_MAX_LENGTH:"This field can not be longer than {{max}} characters.",VALIDATION_HINT_MIN_LENGTH:"This field must be at least {{min}} characters.",VALIDATION_HINT_REQUIRED:"This field is required.",VALIDATION_HINT_ADMIN_NAME:"Admin name can contain upper and lower letters, numbers and underscore.",VALIDATION_HINT_ALPHANUMERIC:"This field can only contain upper and lower case letters and numbers.",VALIDATION_HINT_ALPHANUMERIC_DASHES:"This field can only contain letters, numbers, - and _.",VALIDATION_HINT_SIP_USERNAME:"This field can start with an optional plus sign followed by alphanumerics, underscores, dashes and periods.",VALIDATION_HINT_EMAIL:"This field must be a valid email address.",VALIDATION_HINT_PASSWORD_MISMATCH:"Password mismatch.",VALIDATION_HINT_IP_IN_SUBNET:"{{ip}} is not in the allowed subnet of {{subnet}}.",VALIDATION_HINT_IP_IN_SUBNET_BATCH:"{count, plural, one{1 IP address is invalid and must be fixed before this form can be submitted. Some errors may be on another page.} other{# IP addresses are invalid and must be fixed before this form can be submitted. Some errors may be on another page.}}",VALIDATION_HINT_URL:"This field must be a valid URL.",VALIDATION_HINT_NON_ZERO:"This field cannot be 0.",VALIDATION_HINT_MAC_ADDRESS:"This field must be a valid MAC address",VALIDATION_HINT_RADIUS_SECRET:"This field can only contain printable ASCII characters.",VALIDATION_HINT_RADIUS_USER_NAME:"This field cannot contain spaces or apostrophes.",VALIDATION_HINT_USG_ALIAS:"USG Alias must be at least two characters, and start and end with alphanumeric characters.",VALIDATION_HINT_UNIQUE:"This field must be unique.",API_ERROR_ADOPTED_DEVICES_LIMIT_REACHED:"Reached limit of adopted devices.",API_ERROR_ALREADY_ADOPTED:"Already adopted.",API_ERROR_ALREADY_JOINED:"Already joined.",API_ERROR_AUTO_CHANNELS_CHANNELS_EXCEEDED:"The number of available channels is not enough to avoid interferences.",API_ERROR_AUTO_CHANNELS_TOO_COMPLEX:"The device configuration is too complex to assign channels automatically.",API_ERROR_BACKUP_FAILED:"Backup failed.",API_ERROR_BETA_QUOTA_REACHED:"Beta quota reached.",API_ERROR_BOOT_FILENAME_INVALID:"Boot filename is invalid.",API_ERROR_BOOT_SERVER_INVALID:"Boot server is invalid.",API_ERROR_CANNOT_ADOPT:"Signal strength is too low.",API_ERROR_CANNOT_ASSIGN_LICENSE:"Cannot assign license.",API_ERROR_CANNOT_BE_EMPTY:'"{{arg_1}}" cannot be empty.',API_ERROR_CANNOT_CREATE_LICENSE:"Cannot create license.",API_ERROR_CANNOT_REGISTER_DEVICE:"Cannot adopt device, no available licenses for device type.",API_ERROR_CANNOT_REVOKE_SELF:"Cannot revoke own privileges.",API_ERROR_CANNOT_UNASSIGN_LICENSE:"Cannot unassign license.",API_ERROR_CONTROLLER_BUSY:"Controller busy.",API_ERROR_DEVICE_BUSY:"Device busy.",API_ERROR_DEVICE_STREAMING:'"{{mac}}" is streaming.',API_ERROR_DOWNLINKS_NOT_UPGRADED:"Please upgrade all the downlink APs first.",API_ERROR_DUPLICATE_ACCOUNT_NAME:"RADIUS user with the same name already exists.",API_ERROR_DUPLICATE_MEMBER_DEVICE:"Duplicate member device.",API_ERROR_DUPLICATE_SITE_NAME:"A site with the same name already exists.",API_ERROR_DYNAMIC_DNS_SERVICE_EXISTED:'Dynamic DNS service "{{ddns_service}}" already exists.',API_ERROR_EMAIL_EXISTED:"That email already exists.",API_ERROR_EMAIL_NOT_ELIGIBLE:"That email is not eligible.",API_ERROR_EXTENSION_EXISTS:'Extension "{{ext}}" already exists.',API_ERROR_FEEDBACK_FAILED:"Cannot send feedback. Please try again later.",API_ERROR_FILE_NOT_READY:"File not ready.",API_ERROR_GATEWAY_IP_NOT_IN_SUBNET:"Gateway IP address is not in subnet.",API_ERROR_GATEWAY_REQUIRED_FOR_PD_CONFIG:"Gateway is required to configure IPv6 prefix delegation.",API_ERROR_ID_INVALID:"ID is invalid.",API_ERROR_ID_REQUIRED:"ID is required.",API_ERROR_INCORRECT_IP_ADDRESS:'"{{arg_1}}" is not a valid IP Address.',API_ERROR_INCORRECT_IP_RANGE:"The subnet is not in a valid IP range.",API_ERROR_INCORRECT_IP_SUBNET_SPEC:'"{{arg_1}}" is not a valid subnet (e.g. 192.168.0.1/24).',API_ERROR_INCORRECT_MULTIPORT_FWD_PORT:"The forward ports {{fwd_port}} need to be the same for multiport forwarding.",API_ERROR_INCORRECT_NETWORK_ADDRESS:'"{{network}}" is not a valid Network Address.',API_ERROR_INCORRECT_NUMBER_RANGE:'"{{arg_1}}" has to be a number between {{arg_2}} to {{arg_3}}.',API_ERROR_INCORRECT_UBIC_CREDS:"Invalid credentials.",API_ERROR_INTERNAL_SERVER_ERROR:"Internal server error.",API_ERROR_INVALID:"Invalid API request.",API_ERROR_INVALID_ADMIN_NAME:"Admin name can contain upper and lower letters, numbers and underscore.",API_ERROR_INVALID_AGGREGATE_RANGE:"Invalid aggregate range.",API_ERROR_INVALID_ARGS:"Invalid arguments.",API_ERROR_INVALID_BACKUP:'"{{filename}}" is not a valid backup.',API_ERROR_INVALID_BACKUP_VERSION:"The backup file you are trying to load is from a newer version of the UniFi Controller and cannot be used with this controller.",API_ERROR_INVALID_DHCP_RANGE:"Invalid DHCP range.",API_ERROR_INVALID_EMAIL:"Invalid email address.",API_ERROR_INVALID_FEEDBACK:"Invalid feedback parameters.",API_ERROR_INVALID_FIRMWARE_URL:'"{{url}}" is not a valid URL.',API_ERROR_INVALID_FIXED_IP:'"{{fixed_ip}}" is an invalid fixed IP.',API_ERROR_INVALID_KEY:"Invalid payload key.",API_ERROR_INVALID_LOGIN:"Invalid username and password.",API_ERROR_INVALID_MEDIA:"Invalid media ID.",API_ERROR_INVALID_MEDIA_FILE:"Invalid media file.",API_ERROR_INVALID_MEMBER_DEVICE:'"{{mac}}" is not a valid broadcast member.',API_ERROR_INVALID_MIRRORING_PORT:'Invalid mirroring port "{{arg_1}}"',API_ERROR_INVALID_OBJECT:"Invalid object.",API_ERROR_INVALID_OPERATOR_NAME:"Invalid operator credentials.",API_ERROR_INVALID_OPERATOR_PASSWORD:"Invalid operator credentials.",API_ERROR_INVALID_PAYLOAD:"Invalid payload.",API_ERROR_INVALID_PD_PREFIX_ID:"Specified prefix ID is invalid for chosen WAN.",API_ERROR_INVALID_PD_PREFIX_ID_USED:"Specified prefix ID is already in use.",API_ERROR_INVALID_PORT_CONF:"Invalid port configuration for Port {{id}}.",API_ERROR_INVALID_RADIUS_DISCONNECT_PORT:"The port selected to listen for incoming RADIUS Disconnect requests is in use.",API_ERROR_INVALID_REQUEST:"Invalid request.",API_ERROR_INVALID_SAMPLE_AUDIO:"Invalid sample audio.",API_ERROR_INVALID_SITE_BACKUP:"Invalid site backup.",API_ERROR_INVALID_SITE_NAME:"Site ID can only be a-z, 0-9, and (case insensitive) in the length of 3-24.",API_ERROR_INVALID_TARGET:'"{{mac}}" is not a valid target.',API_ERROR_INVALID_TARGET_PORT:'Port "{{port}}" is not a valid target.',API_ERROR_INVALID_VALUE:"Invalid payload value.",API_ERROR_INVALID_VERIFICATION:"Invalid verification.",API_ERROR_INVALID_VPN_TYPE:"Missing or invalid VPN type.",API_ERROR_INVALID_WAN_PD_SIZE:"PD size too small for network {{name}}.",API_ERROR_IPSEC_DYNAMIC_ROUTING_REQUIRES_LOCAL_IP_ADDRESS:"IPSec dynamic routing requires a local IP address.",API_ERROR_L2TP_PSK_REQUIRED:"Missing a pre-shared key.",API_ERROR_LOCAL_COMMAND_EXCEPTION:"Local command exception.",API_ERROR_LOCAL_SITE_PORT_FWD_OVERLAPS_IPSEC:"Local site has a port forward conflicting with IPsec (ports 500 and 4500).",API_ERROR_LOGIN_REQUIRED:"Please login first.",API_ERROR_MAC_USED:"MAC is already used.",API_ERROR_MISSING_BROADCAST_GROUP:"Invalid broadcast group.",API_ERROR_MISSING_DEVICES:"Broadcast group has no devices.",API_ERROR_MISSING_STREAM_TYPE:"Missing broadcast stream type.",API_ERROR_NAME_EXISTED:"That admin name already exists.",API_ERROR_NO_DELETE:"Tried to remove an object marked as irremovable.",API_ERROR_NO_EDIT:"Tried to edit an object marked as uneditable.",API_ERROR_NO_LICENSE:"No cloud license is assigned.",API_ERROR_NO_PERMISSION:"Not authorized.",API_ERROR_NO_SECOND_GATEWAY:"Only one gateway is allowed per site.",API_ERROR_NO_SECOND_REMOTE_USER_VPN:"Only one remote user VPN is allowed.",API_ERROR_NO_SITE_CONTEXT:"No site specified.",API_ERROR_NO_SUCH_COMMAND:"No such command.",API_ERROR_NO_TUNNEL_IP_AVAILABLE:"Unable to allocate a remote/local tunnel IP.",API_ERROR_NO_UBNT_SSO:"Missing UBIC user ID.",API_ERROR_NON_PROFESSIONAL_INSTALLER:"You have to be a professional installer to apply changes.",API_ERROR_NOT_CACHED_FIRMWARE:"Firmware was not cached before.",API_ERROR_NOT_CLOUD_KEY:"This controller is not running on a Cloud Key.",API_ERROR_NOT_COMPATIBLE:"Cloud access is not compatible with this OS architecture.",API_ERROR_NOT_FOUND:"Not found.",API_ERROR_NOT_IMPLEMENTED:"Not implemented.",API_ERROR_NOT_SUPPORTED:"Not supported.",API_ERROR_NTP_ADDRESS_INVALID:"NTP address is invalid.",API_ERROR_OBJECT_EXISTED:"Object already exists.",API_ERROR_OBJECT_REFERRED_BY:'Object is referenced by {{type}} "{{mac}}" and cannot be deleted.',API_ERROR_OBJECT_REFERRED_BY_DEVICE:"Object is referenced by {{type}}, MAC: {{mac}}, and cannot be deleted.",API_ERROR_OBJECT_REFERRED_BY_WLAN_OVERRIDE:"Object is referenced by {{type}} MAC: {{mac}}, name: {{name}} and cannot be deleted.",API_ERROR_OPENVPN_ADDRESS_RESERVED:"That address is reserved by OpenVPN (remote IP: {{remote}}, local IP:{{local}}).",API_ERROR_OPENVPN_ADDRESS_USED:"That address is reserved by OpenVPN (name: {{name}}, remote IP: {{remote}}, local IP:{{local}}).",API_ERROR_OPENVPN_PORT_RESERVED:"That port is reserved by OpenVPN (port: {{port}}, suggested port: {{suggest}}).",API_ERROR_OPENVPN_PORT_USED:"That port is in use by OpenVPN (name: {{name}}, remote: {{remote}}, local port: {{local}}, suggested port: {{suggest}}).",API_ERROR_PASSWORDS_DONT_MATCH:"Invalid current password.",API_ERROR_PD_REQUIRES_DHCPV6_WAN:"IPv6 Prefix Delegation Interface must be configured to use DHCPv6.",API_ERROR_PORT_FWD_OVERLAPS_IPSEC:"Port forward conflicts with IPsec (ports 500 and 4500).",API_ERROR_PORT_UNAVAILABLE:"VPN port unavailable.",API_ERROR_PPTP_MODULE_REQUIRES_GRE:"The PPTP module requires GRE to be enabled as well.",API_ERROR_REFUND_ERROR:"Unable to refund payment.",API_ERROR_REMOTE_SITE_PORT_FWD_OVERLAPS_IPSEC:"Remote site has a port forward conflicting with IPsec (ports 500 and 4500).",API_ERROR_REMOTE_SUBNET_OVERLAPPED:"IP/Subnet overlaps with remote {{remote_subnet}} defined in site-vpn {{name}}.",API_ERROR_REMOTE_USER_VPN_RANGE_EXCEEDED:"Remote user VPN IP subnet must be less than or equal to /{{max_size}}, requested /{{ip_subnet}}.",API_ERROR_ROUTER_ADV_PREFERRED_LIFETIME_MUST_BE_LESS_THAN_VALID_LIFETIME:"RA Preferred Lifetime must be less than Valid Lifetime",API_ERROR_SDN_ENABLED:"Cloud connectivity is already enabled.",API_ERROR_SDN_NOT_READY:"Cloud Access is required for this operation",API_ERROR_SERVER_BUSY:"Server {{mac}} is busy.",API_ERROR_SITE_VPN_SUBNET_OVERLAPPED:"Local site subnet {{local_subnet}} overlaps with remote site subnet {{remote_subnet}}.",API_ERROR_SMTP_AUTH:"SMTP authentication failed.",API_ERROR_SMTP_AUTH_FAILED:"Unable to authenticate against the SMTP server. Please check your settings and try again.",API_ERROR_SMTP_NO_SUCH_RECIPIENT:"Unable to send email to the specified recipient. Please check your settings and try again.",API_ERROR_SMTP_NOT_ENABLED:"SMTP is not enabled. It can be enabled in the controller settings.",API_ERROR_SMTP_SEND_FAILED:"Failed to send email to SMTP server. Please check your settings and try again.",API_ERROR_SMTP_UNKNOWN_FAILED:"Failed to send email for unknown reasons.",API_ERROR_SPECTRUM_SCAN_IN_PROGRESS:"The RF scan has already been started.",API_ERROR_STREAM_DOES_NOT_EXIST:"The stream does not exist.",API_ERROR_STREAM_NOT_READY:"The stream is not ready.",API_ERROR_SUBNET_OVERLAPPED:"IP/Subnet overlaps with {{ip_subnet}} defined in {{name}}.",API_ERROR_TFTP_SERVER_INVALID:"TFTP server is invalid.",API_ERROR_TIME_OFFSET_INVALID:"Time offset is invalid.",API_ERROR_TOO_MANY_AGGREGATE:"Too many aggregated ports. A maximum of {{max_aggregate}} are supported.",API_ERROR_TOO_MANY_BLOCKED_USER:"Too many blocked users. A maximum of {{max_blocked_user}} are supported.",API_ERROR_TOO_MANY_DHCP_LEASES:"Too many DHCP leases. A maximum of {{max_dhcp_leases}} are supported.",API_ERROR_TOO_MANY_FIXED_IP_USER:"Too many fixed IP users. A maximum of {{max_fixed_ip_user}} are supported.",API_ERROR_TOO_MANY_MIRROR:"Too many mirrored ports. A maximum of {{max_mirror}} are supported.",API_ERROR_TOO_MANY_MULTIPORT_PORTS:"Too many ports to forward. A maximum of {{max_multiport_ports}} are supported.",API_ERROR_TOO_MANY_NETWORK:"Too many networks. A maximum of {{max_network}} are supported.",API_ERROR_TOO_MANY_QUERIES:"Too many queries.",API_ERROR_TOO_MANY_STREAMS:"Too many broadcast streams. A maximum of {{max_streams}} are supported.",API_ERROR_TOO_MANY_VLAN_NETWORK:"Too many VLAN networks. A maximum of {{max_network}} are supported.",API_ERROR_TOO_MANY_SWITCH_VLANS:"Too many switch VLAN networks. A maximum of {{max_vlans}} are supported by {{mac}}.",API_ERROR_TOO_MANY_VPN_CLIENT_NETWORK:"Too many VPN client networks. A maximum of {{max_network}} are supported.",API_ERROR_TOO_MANY_WIRELESS_NETWORK:"Too many wireless networks. A maximum of {{max_wlan}} are supported.",API_ERROR_TOO_MANY_WIRELESS_NETWORK_IN_WLAN_GROUP:'Too many wireless networks in the WLAN group "{{wlangroup_name}}". A maximum of {{max_wlan}} are allowed.',API_ERROR_UBIC_UNREACHABLE:"Unable to connect to UniFi cloud. Please check your network connection, and try again.",API_ERROR_UBNT_SSO_EXISTED:"Cloud ID already exists.",API_ERROR_UNIFI_CONTROLLER_INVALID:"UniFi Controller is invalid.",API_ERROR_UNKNOWN_DEVICE:"Unknown device {{mac}}.",API_ERROR_UNKNOWN_GUEST:"Unknown guest.",API_ERROR_UNKNOWN_PAYMENT:"Unknown payment.",API_ERROR_UNKNOWN_PAYMENT_GATEWAY:"No payment gateway specified.",API_ERROR_UNKNOWN_STATION:"Unknown station {{mac}}.",API_ERROR_UNKNOWN_UPLOAD:"Unknown file upload.",API_ERROR_UNKNOWN_USER:"Unknown user.",API_ERROR_UPGRADE_IN_PROGRESS:"Upgrade in progress.",API_ERROR_UPLINK_DEVICE_BUSY:"The uplink device is busy.",API_ERROR_VLAN_USED:"VLAN {{vlan}} has already been assigned to the {{name}} network.",API_ERROR_VOICE_VLAN_MUST_BE_TAGGED:"Voice Network must be included in Tagged Networks.",API_ERROR_WIRELESS_UPLINK_DISABLED:"Uplink Connectivity Monitor is required for Wireless Uplink.",API_ERROR_WLAN_CONF_VLAN_MODE_ALREADY_ENABLED:"One of WPA Enterprise Wireless Networks has already assigned VLAN",API_ERROR_WPAD_URL_INVALID:"WPAD url is invalid.",ERROR_NOT_LOGGED_INTO_SSO:"User is not logged in.",ERROR_CONTROLLER_NOT_FOUND:"Controller not found.",ERROR_ESTABLISH_CONNECTION:"Connection failed.",DATETIME_ALL:"All",DATETIME_DAYS_FULL:"days",DATETIME_DAYS_FULL_PARAMETERIZED:"{days, plural, one{# day} other{# days}}",DATETIME_HOUR_FULL:"hour",DATETIME_HOUR_FULL_LAST:"Last hour",DATETIME_HOURS_FULL:"hours",DATETIME_HOURS_ABR:"hrs",DATETIME_HOURS_FULL_LAST:"Last {{hours}} Hours",DATETIME_HOURS_FULL_LAST_PARAMETERIZED:"{hours, plural, one{Last # Hour} other{Last # Hours}}",DATETIME_DAYS_FULL_LAST:"Last {{days}} Days",DATETIME_HOURS_FULL_PARAMETERIZED:"{hours, plural, one{# hour} other{# hours}}",DATETIME_MINUTES_FULL:"minutes",DATETIME_SECONDS_FULL:"seconds",DATETIME_SECONDS_ABBR:"sec",DATETIME_DAYS_MON:"Monday",DATETIME_DAYS_TUE:"Tuesday",DATETIME_DAYS_WED:"Wednesday",DATETIME_DAYS_THU:"Thursday",DATETIME_DAYS_FRI:"Friday",DATETIME_DAYS_SAT:"Saturday",DATETIME_DAYS_SUN:"Sunday",DATETIME_DAYS_SHORT_MON:"Mon",DATETIME_DAYS_SHORT_TUE:"Tue",DATETIME_DAYS_SHORT_WED:"Wed",DATETIME_DAYS_SHORT_THU:"Thu",DATETIME_DAYS_SHORT_FRI:"Fri",DATETIME_DAYS_SHORT_SAT:"Sat",DATETIME_DAYS_SHORT_SUN:"Sun",DATETIME_MONTHS_1:"January",DATETIME_MONTHS_2:"February",DATETIME_MONTHS_3:"March",DATETIME_MONTHS_4:"April",DATETIME_MONTHS_5:"May",DATETIME_MONTHS_6:"June",DATETIME_MONTHS_7:"July",DATETIME_MONTHS_8:"August",DATETIME_MONTHS_9:"September",DATETIME_MONTHS_10:"October",DATETIME_MONTHS_11:"November",DATETIME_MONTHS_12:"December",DATETIME_DAY:"Day",DATETIME_WEEK:"Week",DATETIME_MONTH:"Month",DATETIME_NOW:"now",DATETIME_WEEKS_FULL_PARAMETERIZED:"{{weeks}} weeks",GRANULARITY_5_MINUTES:"5 minutes",GRANULARITY_HOURLY:"hourly",GRANULARITY_DAILY:"daily",GRANULARITY_MONTHLY:"monthly",PERFORMANCE_NO_DATA_AVAILABLE:"No performance data available",PERFORMANCE_CTRL_TIME:"UniFi Controller Time",PERFORMANCE_MEMORY:"Memory",PERFORMANCE_CPU:"CPU",PERFORMANCE_USAGE:"Usage",PERFORMANCE_LOADAVG:"CPU load average",CONNECTION_UNIFI_WEBRTC_OBTAINING_CONTROLLER_INFO:"Verifying Your Account",CONNECTION_UNIFI_WEBRTC_ESTABLISHING_COMMUNICATION:"Establishing Cloud Access",CONNECTION_WEBRTC_CREATING_API_GATEWAY_CLIENT:"Verifying Cloud Access",CONNECTION_WEBRTC_AWS_IOT_CONNECTING:"Syncing with Cloud",CONNECTION_WEBRTC_WS_OPENING:"Opening Cloud Connection",CONNECTION_WEBRTC_WS_OPENING_ERROR:"Opening Cloud Connection error",CONNECTION_WEBRTC_WS_CONNECTED:"Connected to Cloud",CONNECTION_WEBRTC_AWS_OPENING:"Opening Cloud Connection",CONNECTION_WEBRTC_AWS_OPENING_ERROR:"Opening Cloud Connection error",CONNECTION_WEBRTC_AWS_CONNECTED:"Connected to Cloud",CONNECTION_WEBRTC_CREATE_ANSWER:"Checking Your Network",CONNECTION_WEBRTC_CREATE_ANSWER_ERROR:"Checking Your Network error",CONNECTION_WEBRTC_CREATE_OFFER:"Checking Your Network",CONNECTION_WEBRTC_CREATE_OFFER_ERROR:"Checking Your Network error",CONNECTION_WEBRTC_SDP_REQUESTING:"Checking Controller Network",CONNECTION_WEBRTC_SDP_SENDING_ERROR:"Checking Controller Network error",CONNECTION_WEBRTC_SDP_RECEIVED:"Controller Network checked",CONNECTION_WEBRTC_SDP_SENDING:"Syncing with Controller",CONNECTION_WEBRTC_INITIALIZED:"Cloud Access Initialized",CONNECTION_WEBRTC_CONNECTED:"Connected to Controller",CONNECTION_WEBRTC_CONNECTION_ERROR:"Connection error",CONNECTION_UNIFI_WEBRTC_INITIALIZING_APPLICATION:"Initializing application",WEBRTC_FAILED_TOOLTIP_TITLE:"Connection error",WEBRTC_FAILED_TOOLTIP_CONTENT:"Cannot connect to controller due to unknown error. Please try again later.",WEBRTC_FAILED_TOOLTIP_ACTIONS_GOTO_DASHBOARD:"Go to dashboard",WEBRTC_FAILED_TOOLTIP_ACTIONS_GENERATE_REPORT:"Generate report",WEBRTC_FAILED_TOOLTIP_ACTIONS_GET_REPORT_BROWSER:"Download browser log",WEBRTC_FAILED_TOOLTIP_ACTIONS_GET_REPORT_CONTROLLER:"Download controller log",WEBRTC_FAILED_TOOLTIP_GET_REPORT_FAILED:"There was an error getting the report from controller.",WEBRTC_ERROR_TOOLTIP_TITLE:"Connection error",WEBRTC_ERROR_TOOLTIP_ACTIONS_GOTO_DASHBOARD:"Go to dashboard",WEBSOCKET_CONNECTION_ERROR:"WebSocket connection error",SPEED_TEST_TOOLTIP_LABEL:"Speed Test",SPEED_TEST_TOOLTIP_PING_LABEL:"Latency",SPEED_TEST_TOOLTIP_DOWNLOAD_LABEL:"Download",SPEED_TEST_TOOLTIP_UPLOAD_LABEL:"Upload",SPEED_TEST_TOOLTIP_ACTION_CLOSE:"Close",SPEED_TEST_TOOLTIP_ACTION_RUN_SPEED_TEST:"Run Speed Test",SPEED_TEST_TOOLTIP_SPEED_LABEL:"Speed",SPEED_TEST_TOOLTIP_SPEED_UNIT:"Mbps",SPEED_TEST_WARNING_UGW_LIMIT:"{{name}} can generate about {{limit}} Mbps of traffic but still can route close to line-rate (1 Gbps).",SETTINGS_BACKUP_CLOUD_KEY_SD_CARD_CHECK_TITLE:"Missing SD Card",SETTINGS_BACKUP_CLOUD_KEY_SD_CARD_CHECK_MESSAGE:"We have detected that your SD card is missing. Please insert it and reboot your Cloud Key or disable automatic backup.",SETTINGS_BACKUP_CLOUD_KEY_SD_CARD_CHECK_DISABLE:"Disable Auto Backup",SETTINGS_MAINTENANCE_KEY_SUPER_MGMT:"mgmt",SETTINGS_MAINTENANCE_LABEL_TIME_SERIES_DATA_RETENTION_5_MINUTES:"Time Series with 5 Minutes Granularity",SETTINGS_MAINTENANCE_LABEL_TIME_SERIES_DATA_RETENTION_HOURLY:"Time Series with Hourly Granularity",SETTINGS_MAINTENANCE_LABEL_TIME_SERIES_DATA_RETENTION_DAILY:"Time Series with Daily Granularity",SETTINGS_MAINTENANCE_LABEL_TIME_SERIES_DATA_RETENTION_MONTHLY:"Time Series with Monthly Granularity",SETTINGS_MAINTENANCE_LABEL_NON_TIME_SERIES_DATA_RETENTION:"Non time series (Users, Devices, Events,...)",SETTINGS_MAINTENANCE_LABEL_COLLECT_CLIENT_STATS:"Clients Historical Data",SETTINGS_MAINTENANCE_VALUES_COLLECT_CLIENT_STATS:"Collect clients' historical data",SETTINGS_MAINTENANCE_HISTORICAL_DATA_RETENTION_UPDATE_TITLE:"Update data retention",SETTINGS_MAINTENANCE_HISTORICAL_DATA_RETENTION_UPDATE_MESSAGE:"Data retention is not set. Please set data retention to specify how long to store client statistics/history/etc.",SETTINGS_MAINTENANCE_RESTORE_FROM_AUTOBACKUP_CONFIRM_TITLE:"Restore from backup?",SETTINGS_MAINTENANCE_RESTORE_FROM_AUTOBACKUP_CONFIRM_MESSAGE:"Are you sure you want to restore the settings from <strong>{{file}}</strong>?",SETTINGS_MAINTENANCE_DELETE_AUTOBACKUP_CONFIRM_TITLE:"Delete backup?",SETTINGS_MAINTENANCE_DELETE_AUTOBACKUP_CONFIRM_MESSAGE:"Are you sure you want to delete backup file <strong>{{file}}</strong>?",SETTINGS_MAINTENANCE_RESTORE_FROM_BACKUP_UPLOAD_ERROR:"There was an error uploading the backup file.",STORE_CHECKOUT_ACTION_CHECKOUT:"Checkout",STORE_CHECKOUT_ACTION_CONTINUE_SHOPPING:"Continue shopping",STORE_CHECKOUT_ACTION_REMOVE:"Remove",STORE_CHECKOUT_LABEL_TOTAL:"Total:",STORE_CHECKOUT_TABLE_HEADER_ACTIONS:"Actions",STORE_CHECKOUT_TABLE_HEADER_AMOUNT:"Amount",STORE_CHECKOUT_TABLE_HEADER_PRICE:"Price",STORE_CHECKOUT_TABLE_HEADER_QUANTITY:"Quantity",STORE_CHECKOUT_TABLE_HEADER_TITLE:"Title",STORE_CHECKOUT_LIST_EMPTY_HEADER:"No products in cart",STORE_CHECKOUT_LIST_EMPTY_NO_VARIANTS:"Your shopping cart is currently empty.",STORE_CHECKOUT_CLEAR_LINE_ITEMS_LIST_TITLE:"Finished shopping?",STORE_CHECKOUT_CLEAR_LINE_ITEMS_LIST_MESSAGE:"If you've finished shopping and your checkout was successful then you can empty your cart now.",STORE_CHECKOUT_CLEAR_LINE_ITEMS_LIST_ACTIONS_CONFIRM:"Empty Cart",PROFILES_RADIUS_FORM_TITLE_CREATE_RADIUS_PROFILE:"Create new RADIUS profile",PROFILES_RADIUS_FORM_TITLE_EDIT_RADIUS_PROFILE:"Edit RADIUS profile {{name}}",PROFILES_RADIUS_FORM_VALUES_VLAN_ENABLED:"Enable RADIUS assigned VLAN for wired network",PROFILES_RADIUS_FORM_VALUES_ACCOUNTING_ENABLED:"Enable accounting",PROFILES_RADIUS_FORM_VALUES_ACCOUNTING_INTERIM_UPDATE_ENABLED:"Enable Interim Update",PROFILES_RADIUS_FORM_ACTION_ADD_AUTH_SERVER:"Add auth server",PROFILES_RADIUS_FORM_ACTION_REMOVE_AUTH_SERVER:"Remove auth server",PROFILES_RADIUS_FORM_ACTION_ADD_ACCOUNTING_SERVER:"Add accounting server",PROFILES_RADIUS_FORM_ACTION_REMOVE_ACCOUNTING_SERVER:"Remove accounting server",PROFILES_RADIUS_FORM_ACTION_ADD_PROFILE:"Add profile",PROFILES_RADIUS_FORM_ACTION_REMOVE_PROFILE:"Remove profile",PROFILES_RADIUS_FORM_LABEL_NAME:"Profile Name",PROFILES_RADIUS_FORM_LABEL_VLAN_ENABLED:"VLAN Support",PROFILES_RADIUS_FORM_LABEL_ACCOUNTING_ENABLED:"Accounting",PROFILES_RADIUS_FORM_LABEL_AUTH_SERVER:"RADIUS Auth Server",PROFILES_RADIUS_FORM_LABEL_ACCOUNTING_SERVER:"RADIUS Accounting Server",PROFILES_RADIUS_FORM_LABEL_ACCOUNTING_INTERIM_UPDATE:"Interim Update",PROFILES_RADIUS_FORM_LABEL_ACCOUNTING_INTERIM_INTERVAL:"Interim Update Interval",PROFILES_RADIUS_FORM_LABEL_IP_ADDRESS:"IP Address",PROFILES_RADIUS_FORM_LABEL_PORT:"Port",PROFILES_RADIUS_FORM_LABEL_PASSWORD:"Password/Shared Secret",PROFILES_RADIUS_FORM_LABEL_TOOLTIP_ACCOUNTING_INTERIM_INTERVAL:"Applicable only to UniFi Access Points.",PROFILES_RADIUS_FORM_VALUES_VLAN_WLAN_MODE:"Enable RADIUS assigned VLAN for wireless network",DISCOVERY_TOOL_PORT_ALREADY_IN_USE:"The port required to locate and set up your devices is already in use. Please, make sure that there is no UniFi Controller working in the background or stop the process blocking port 10001.",DISCOVERY_TOOL_PORT_ALREADY_IN_USE_TITLE:"Port already in use",DISCOVERY_TOOL_ERROR_WRONG_SSH_CREDENTIALS:"Invalid SSH username and/or password.",DISCOVERY_TOOL_INSTALL_CHROME_REQUIRED:"Use <a href='https://www.google.com/chrome/'>Chrome Browser</a> on your desktop computer and install our <a href='{{url}}' target='_blank'>Ubiquiti Device Discovery Tool</a> to locate and set up your devices.",DISCOVERY_TOOL_INSTALL_LINK:"Install our <a href='{{url}}' target='_blank'>Ubiquiti Device Discovery Tool</a> to locate and set up your devices.",DISCOVERY_TOOL_INSTALL_FAILED:"There was an error installing Ubiquiti Device Discovery Tool.",DISCOVERY_TOOL_WARNING_DISCONNECTED:"Device Discovery has been stopped.",TERMINAL_PANEL_ACTIONS_COPY_CONTENT:"Copy content",TERMINAL_PANEL_LABEL_CONTENT_COPIED:"Content copied",STATISTICS_REPORT_HEADER:"Express Setup",STATISTICS_REPORT_SUB_HEADER_DEFAULT:"The features and settings below have automatically been set for you",STATISTICS_REPORT_SUB_HEADER_CUSTOM:"Customize the features and settings below",STATISTICS_REPORT_ACTIONS_CONTINUE:"Continue",STATISTICS_REPORT_ACTIONS_CUSTOMIZE:"Customize",STATISTICS_REPORT_ENABLE_ANALYTICS_HEADER:"Help Ubiquiti Networks improve its products and services by allowing analytics of devices. This only allows Ubiquiti to view device information and data regarding their usage and does not affect network performence",STATISTICS_REPORT_ENABLE_ANALYTICS_DESCRIPTION:'By clicking Continue, you agree to the <a href="{{linkTerms}}" target="_blank">Terms of Service</a> and the <a href="{{linkPrivacy}}" target="_blank">Privacy Policy</a>.<br />You consent to the collection and use of the device-specific information and usage data.',STATISTICS_REPORT_ENABLE_CLOUD_ERROR_HEADER:"Enable cloud connection error reporting",STATISTICS_REPORT_TOS_UPDATED_HEADER:"We have updated our Terms of Service and Privacy Policy. We are making the updates to clarify our terms and ensure they remain transparent to you.",STATISTICS_REPORT_TOS_UPDATED_DESCRIPTION:'I have read and agree to the <a href="{{linkTerms}}" target="_blank">Terms of Service</a> and the <a href="{{linkPrivacy}}" target="_blank">Privacy Policy</a>.',STATISTICS_REPORT_ERROR_SAVE_FAILED:"There was an error submitting the Terms of Service agreement.",TRAINING_BUTTON_TOOLTIP_CONTENT:"Click here for online training.",TRAINING_LOGIN_MODAL_TITLE:"Training",TRAINING_LOGIN_MODAL_CONTENT:"Please sign in to use the UniFi Training Center. This will allow you to save your progress.",SCHEDULED_UPGRADE_ACTIONS_REMOVE_SUCCESS:"The scheduled upgrade {{name}} has been removed.",SCHEDULED_UPGRADE_ACTIONS_REMOVE_ERROR:"There was an error removing the scheduled upgrade {{name}}.",SCHEDULED_UPGRADE_ACTIONS_SAVE_SUCCESS:"The scheduled upgrade {{name}} was saved successfully.",SCHEDULED_UPGRADE_ACTIONS_SAVE_ERROR:"There was an error saving the scheduled upgrade {{name}}.",ZOPIM_PRE_SALES_GREETINGS:"Hi there, if you have any questions about the products, let us know!",ZOPIM_GREETINGS:"Welcome to UniFi 24/7 live tech support. Chat is available only in English.",ZOPIM_TITLE:"Have a Question?",CHANNEL_GRAPH_CHANNEL_LABEL:"Channel",CHANNEL_GRAPH_LABEL_CLIENTS_PER_AP:"Clients per AP",CHANNEL_GRAPH_LABEL_MIN_AVG_MAX:"(min/avg/max)",CHANNEL_GRAPH_LABEL_UTILIZATION_PER_AP:"Utilization per AP",CHANNEL_GRAPH_LABEL_RATE_RX_PER_CLIENT:"Rx rate per client",CHANNEL_GRAPH_LABEL_RATE_TX_PER_CLIENT:"Tx rate per client",CHANNEL_GRAPH_NO_CLIENTS:"No clients",CHANNEL_GRAPH_NO_DATA_AVAILABLE:"No data available",CHANNEL_GRAPH_NO_DEVICES:"No devices",CHANNEL_GRAPH_VALUE_CLIENTS:"{count, plural, one{client} other{clients}}",CHANNEL_GRAPH_VALUE_DEVICES:"{count, plural, one{device} other{devices}}",UNIFI_TERMINAL_DEVICE:"Device",UNIFI_TERMINAL_CONNECTION_DROPPED:"Connection Dropped",UNIFI_TERMINAL_CONNECTED:"Connected",UNIFI_TERMINAL_CONNECTING:"Connecting",ON_LOAD_WARNING_MISSING_PAYMENT_GATEWAY:"Payment Gateway is missing in Hotspot configuration.",ON_LOAD_WARNING_DEVICES_UPGRADE_AVAILABLE:"There are devices with firmware updates available.",ON_LOAD_WARNING_CONTROLLER_UPDATE_AVAILABLE:"Controller software update {{latestVersion}} is now available.",DEBUG_TERMINAL_LABEL:"Debug Terminal",AIR_TIME_ACTION_START:"Start",AIR_TIME_ACTION_STOP:"Stop",AIR_TIME_ACTION_CLEAR_ALL:"Clear All",AIR_TIME_LABEL:"AirTime",AIR_TIME_LABEL_PACKETS:"Packets",AIR_TIME_LABEL_RADIO_NA:"5G",AIR_TIME_LABEL_RADIO_NG:"2G",AIR_TIME_LABEL_TIME:"Time",AIR_TIME_SCAN_FILTERS_LABELS_APS:"APs",AIR_TIME_SCAN_FILTERS_LABELS_FREE:"Free",AIR_TIME_SCAN_FILTERS_LABELS_NOISE:"Noise",AIR_TIME_SCAN_FILTERS_LABELS_DATA:"Data",AIR_TIME_SCAN_FILTERS_LABELS_STATIONS:"Stations",AIR_TIME_SCAN_GRAPH_LABEL_PACKETS:"Packets",AIR_TIME_SCAN_GRAPH_LABEL_UTILIZATION:"Utilization",AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_BSSID:"BSSID",AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_CHANNEL:"Channel",AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_FREE:"Free",AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_MAC:"MAC",AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_NOISE:"Noise",AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_PACKETS:"Packets",AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_SUMMARY_PACKETS:"Packets:",AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_SUMMARY_PACKETS_RATE:"Rate:",AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_SUMMARY_TIME:"Time:",AIR_TIME_SCAN_GRAPH_LEGEND_LABELS_SUMMARY_UTILIZATION:"Utilization:",AIR_TIME_SCAN_GRAPH_LEGEND_VALUES_UNKNOWN:"UNKNOWN",AIR_TIME_SCAN_LIST_VALUES_UNKNOWN:"UNKNOWN",AIR_TIME_SCAN_TABLE_EMPTY:"No data available.",AIR_TIME_SCAN_TABLE_HEADER_BSSID:"BSSID",AIR_TIME_SCAN_TABLE_HEADER_COUNT:"Count",AIR_TIME_SCAN_TABLE_HEADER_MAC:"MAC",AIR_TIME_SCAN_TABLE_HEADER_PACKET_SUBTYPE:"Subtype",AIR_TIME_SCAN_TABLE_HEADER_PACKET_TYPE:"Packet Type",AIR_TIME_SCAN_TABLE_HEADER_PACKETS:"Packets",AIR_TIME_SCAN_TABLE_HEADER_RATE:"Rate",AIR_TIME_SCAN_TABLE_HEADER_TIME:"Time",AIR_TIME_SESSION_LABEL_BSSID:"BSSID:",AIR_TIME_SESSION_LABEL_NO_SCAN_IS_SELECTED:"No scan is selected.",AIR_TIME_SESSION_LABEL_SCAN:"Scan:",AIR_TIME_SESSION_LABEL_SHOW_DETAILS:"Show details",AIR_TIME_SESSION_LABEL_STATION:"Station:",AIR_TIME_SESSION_STATUS_LABEL_CONNECTING:"Connecting to device...",AIR_TIME_SESSION_STATUS_LABEL_WAITING:"Waiting for results...",AIR_TIME_SESSION_CONNECTION_ERROR:"Cannot establish connection to device.",AIR_TIME_SESSION_CONNECTION_TIMEOUT:"Waiting for data timeout. Probably AirTime is open in another tab or browser.",AIR_TIME_SESSION_WARNING_FEATURE_UNAVAILABLE:"AirTime is not available for {{radio}}. This device has to be connected, enabled and at least one SSID needs to be configured.",AIR_TIME_SESSION_WARNING_RF_SCANNING:"AirTime is not available while device is RF scanning.",AIR_VIEW_ACTION_START:"Start",AIR_VIEW_ACTION_STOP:"Stop",AIR_VIEW_ACTION_CLEAR_ALL:"Clear All",AIR_VIEW_LABEL:"AirView",AIR_VIEW_LABEL_CUMULATIVE:"Cumulative",AIR_VIEW_LABEL_RADIO_NA:"5G",AIR_VIEW_LABEL_RADIO_NG:"2G",AIR_VIEW_LABEL_REGULAR:"Regular",AIR_VIEW_LABEL_WATERFALL:"Waterfall",AIR_VIEW_SCAN_GRAPH_LABEL_POWER_LEVEL:"Power Level",AIR_VIEW_SCAN_GRAPH_LABEL_PROBABILITY:"Probability",AIR_VIEW_SCAN_GRAPH_LABEL_POWER_LEVEL_WITH_PROBABILITY:"Power Level with Probability",AIR_VIEW_SCANS_GRAPH_LABEL_TIME:"Time",AIR_VIEW_SESSION_STATUS_LABEL_CONNECTING:"Connecting to device...",AIR_VIEW_SESSION_STATUS_LABEL_WAITING:"Waiting for results...",AIR_VIEW_SESSION_CONNECTION_ERROR:"Cannot establish connection to device.",AIR_VIEW_SESSION_CONNECTION_TIMEOUT:"Waiting for data timeout. Probably AirView is open in another tab or browser.",AIR_VIEW_SESSION_WARNING_FEATURE_UNAVAILABLE:"AirView is not available. This device has to be connected and enabled.",AIR_VIEW_SESSION_WARNING_RF_SCANNING:"AirView is not available while device is RF scanning.",DEVICE_ELITE_INSTANT_RMA_SUCCESS:"Requested Instant replacement for {{mac}}.",DEVICE_ELITE_INSTANT_RMA_ERROR:"Instant replacement request failed for {{mac}}.",DEVICE_ELITE_INSTANT_REASON_DEAD_ON_ARRIVAL:"Dead on Arrival",DEVICE_ELITE_INSTANT_REASON_ETHERNET_FAILURE:"Ethernet Failure (Negotiation Issues, No ping)",DEVICE_ELITE_INSTANT_REASON_LCD_FAILURE:"LCD Failure",DEVICE_ELITE_INSTANT_REASON_OTHER:"Other",DEVICE_ELITE_INSTANT_REASON_POWER_FAILURE:"Power Failure / ESD",DEVICE_ELITE_INSTANT_REASON_RADIO_FAILURE:"Radio Failure (Low TX/RX Power, etc)",DEVICE_ELITE_INSTANT_REASON_ROUTER_OR_MESH_POINT_POWER_FAILURE:"Router or Mesh Point Power Failure",DEVICE_ELITE_INSTANT_REASON_SOFTWARE_CORRUPTION:"Software corruption",DEVICE_ELITE_INSTANT_REASON_WEATHER_RELATED:"Weather Related",RELEASE_NOTES_BUTTON_SUBMIT:"Send Feedback",RELEASE_NOTES_ERROR_WRONG_LENGTH:"Feedback is limited to {{maxLength}} characters or less.",RELEASE_NOTES_LABEL_SUGGESTIONS:"UniFi feature requests and suggestions",RELEASE_NOTES_PLACEHOLDER_EMAIL:"Email",RELEASE_NOTES_UNAVAILABLE:"Release notes unavailable",RELEASE_NOTES_UNAVAILABLE_BODY:"Release notes are currently unavailable.",RELEASE_NOTES_TOAST_SUCCESS:"Message sent. Thank you for your feedback.",RELEASE_NOTES_TOAST_ERROR:"There was an error while sending feedback.",PERMISSION_API_DEVICE_ADOPT:"Allow devices adoption",PERMISSION_API_DEVICE_RESTART:"Allow devices restart",PERMISSION_API_STAT_DEVICE_ACCESS_SUPER_SITE_PENDING:"Show pending devices",PERMISSION_API_WIDGET_OS_STATS:"Allow system stats access",PERMISSION_API_DASHBOARD_EDIT:"Allow editing dashboards",PERMISSION_GLOBAL_READONLY_ADMIN_ACCESS:"Allow read only access to all sites",PASSWORD_CHANGE_SUGGESTION_MODAL_TITLE:"Security warning",PASSWORD_CHANGE_SUGGESTION_MODAL_REASON:"The password that you're using for your account authentication is also being used for the device SSH authentication for default site.",PASSWORD_CHANGE_SUGGESTION_MODAL_LINK_UPDATE:"Update SSH password",PASSWORD_CHANGE_SUGGESTION_MODAL_DEVICE_AUTHENTICATION_PASSWORD:"New password",PASSWORD_CHANGE_SUGGESTION_MODAL_DEVICE_AUTHENTICATION_LABEL:"We recommend that you change the password for device authentication for default site.",PASSWORD_CHANGE_SUGGESTION_MODAL_DEVICE_AUTHENTICATION_DESC:"SSH Credentials can be seen and changed by all of Site Admins.",DATE_RANGE_CUSTOM:"Custom",DATE_RANGE_TODAY:"Today",DATE_RANGE_YESTERDAY:"Yesterday",DATE_RANGE_LAST_12_MONTHS:"Last 12 Months",DATE_RANGE_THIS_YEAR:"This Year",DATE_RANGE_LAST_YEAR:"Last Year",CREDENTIALS_SSH_PASSWORD_LEVEL_VERY_WEAK:"Password strength: Very Weak",CREDENTIALS_SSH_PASSWORD_LEVEL_WEAK:"Password strength: Weak",CREDENTIALS_SSH_PASSWORD_LEVEL_SOSO:"Password strength: So-so",CREDENTIALS_SSH_PASSWORD_LEVEL_GOOD:"Password strength: Good",CREDENTIALS_SSH_PASSWORD_LEVEL_GREAT:"Password strength: Great",CREDENTIALS_SSH_PASSWORD_REQUIREMENT_NOT_MET:"Please choose a stronger password.",CREDENTIALS_SSH_PASSWORD_DEFAULT_ERROR:"Default password should not be used.",CREDENTIALS_SSH_PASSWORD_NO_MATCH_ERROR:"Both passwords should be the same.",CREDENTIALS_SSH_PASSWORD_TOO_SHORT_ERROR:"Password is too short.",CREDENTIALS_SSH_PASSWORD_WARNING_ADD_ANOTHER_WORD_OR_TWO_UNCOMMON_WORDS_ARE_BETTER:"Add another word or two. Uncommon words are better.",CREDENTIALS_SSH_PASSWORD_WARNING_AVOID_DATES_AND_YEARS_THAT_ARE_ASSOCIATED_WITH_YOU:"Avoid dates and years that are associated with you.",CREDENTIALS_SSH_PASSWORD_WARNING_AVOID_RECENT_YEARS:"Avoid recent years.",CREDENTIALS_SSH_PASSWORD_WARNING_AVOID_REPEATED_WORDS_AND_CHARACTERS:"Avoid repeated words and characters.",CREDENTIALS_SSH_PASSWORD_WARNING_AVOID_SEQUENCES:"Avoid sequences.",CREDENTIALS_SSH_PASSWORD_WARNING_AVOID_YEARS_THAT_ARE_ASSOCIATED_WITH_YOU:"Avoid years that are associated with you.",CREDENTIALS_SSH_PASSWORD_WARNING_NAMES_AND_SURNAMES_ARE_EASY_TO_GUESS:"Names and surnames by themselves are easy to guess.",CREDENTIALS_SSH_PASSWORD_WARNING_CAPITALIZATION_DOES_NOT_HELP_VERY_MUCH:"Capitalization doesn't help very much.",CREDENTIALS_SSH_PASSWORD_WARNING_COMMON_NAMES_AND_SURNAMES_ARE_EASY_TO_GUESS:"Common names and surnames are easy to guess.",CREDENTIALS_SSH_PASSWORD_WARNING_DATES_ARE_OFTEN_EASY_TO_GUESS:"Dates are often easy to guess.",CREDENTIALS_SSH_PASSWORD_WARNING_RECENT_YEARS_ARE_EASY_TO_GUESS:"Recent years are easy to guess.",CREDENTIALS_SSH_PASSWORD_WARNING_REPEATS_LIKE_AAA_ARE_EASY_TO_GUESS:"Repeats like aaa are easy to guess.",CREDENTIALS_SSH_PASSWORD_WARNING_REPEATS_LIKE_ABCABCABC_ARE_ONLY_SLIGHTLY_HARDER_TO_GUESS_THAN_ABC:"Repeats like abcabcabc are only slightly harder to guess than abc.",CREDENTIALS_SSH_PASSWORD_WARNING_SEQUENCES_LIKE_ABC_OR_6543_ARE_EASY_TO_GUESS:"Sequences like abc or 6543 are easy to guess.",CREDENTIALS_SSH_PASSWORD_WARNING_SHORT_KEYBOARD_PATTERNS_ARE_EASY_TO_GUESS:"Short keyboard patterns are easy to guess.",CREDENTIALS_SSH_PASSWORD_WARNING_STRAIGHT_ROWS_OF_KEYS_ARE_EASY_TO_GUESS:"Straight rows of keys are easy to guess.",CREDENTIALS_SSH_PASSWORD_WARNING_TOP_10_COMMON_PASSWORD:"This is a top-10 common password.",CREDENTIALS_SSH_PASSWORD_WARNING_VERY_COMMON_PASSWORD:"This is a very common password.",CREDENTIALS_SSH_PASSWORD_WARNING_USE_A_LONGER_KEYBOARD_PATTERN_WITH_MORE_TURNS:"Use a longer and more complex keyboard pattern.",UPDATE_CLOUD_KEY_CONTROLLER_CONFIRM_TITLE:"Update Cloud Key controller?",UPDATE_CLOUD_KEY_CONTROLLER_CONFIRM_MESSAGE:"Are you sure you want to apply this controller update? The Cloud Key will reboot as part of the update process.",UPDATE_CLOUD_KEY_CONTROLLER_SUCCESS:"The Cloud Key controller is updating.",UPDATE_CLOUD_KEY_CONTROLLER_ERROR:"There was an error updating the Cloud Key controller.",UNIFI_UPDATE_WARNING:"It is recommended that you create a backup before installing a new version.",UNIFI_UPDATE_WARNING_EOL:"{count, plural, one{There is 1 device across all sites in this controller that is discontinued and will not work after this update.} other{There are # devices across all sites in this controller that are discontinued and will not work after this update.}}",PAGINATION_AURA_SHOWING_ROWS:"{{startRow}}-{{endRow}} of {{totalRows}} {{dataType}}",PAGINATION_AURA_ROWS_PER_PAGE:"Rows per page",PAGINATION_AURA_THREATS_DATA_TYPE:"threats",PAGINATION_AURA_THREAT_DATA_TYPE:"threat",ABOUT_TITLE:"About Unifi Controller",ABOUT_UI_LABEL:"UI",ABOUT_BACKEND_LABEL:"Backend",ABOUT_BUILD_LABEL:"Build",ABOUT_UBIQUITI_LABEL:"Ubiquiti"}},{}],78:[function(t,e,i){e.exports={DASHBOARD_NAMES_SYSTEM_DEFAULT:"WiFi Metrics",DASHBOARD_NAMES_UNDEFINED:"Dashboard",DASHBOARD_MODULES_PANEL_PREVIEW_INACTIVE:"Add widget",DASHBOARD_MODULES_PANEL_PREVIEW_ACTIVE:"Added",DASHBOARD_MODULES_PANEL_NO_MODULES:"No modules are available at this time.",DASHBOARD_DASHBOARDS_PANEL_TITLE:"Manage dashboards",DASHBOARD_DASHBOARDS_PANEL_ACTION_CLOSE:"Close",DASHBOARD_DASHBOARDS_PANEL_TABLE_HEADER_NAME:"Dashboard",DASHBOARD_DASHBOARDS_PANEL_TABLE_HEADER_DESC:"Description",DASHBOARD_DASHBOARDS_PANEL_TABLE_HEADER_ACTIONS:"Actions",DASHBOARD_DASHBOARDS_PANEL_TABLE_EMPTY:"No dashboards were found.",DASHBOARD_DASHBOARDS_PANEL_ACTIONS_ACTIVATE:"Open",DASHBOARD_DASHBOARDS_PANEL_ACTIONS_EDIT:"Edit",DASHBOARD_DASHBOARDS_PANEL_ACTIONS_DELETE:"Delete",DASHBOARD_DASHBOARDS_PANEL_ACTIONS_SUBSCRIBE:"Subscribe",DASHBOARD_DASHBOARDS_PANEL_ACTIONS_UNSUBSCRIBE:"Unsubscribe",DASHBOARD_DASHBOARDS_PANEL_ACTIONS_SHARE:"Share",DASHBOARD_DASHBOARDS_PANEL_ACTIONS_UNSHARE:"Unshare",DASHBOARD_DASHBOARDS_PANEL_ACTIONS_EXPORT:"Export",DASHBOARD_FORM_TITLE_ADD:"Add Custom Dashboard",DASHBOARD_FORM_TITLE_EDIT:"Edit Dashboard Information",DASHBOARD_FORM_VALUE_FILENAME_UPLOADED:"File Name: <strong>{{filename}}</strong>",DASHBOARD_FORM_VALUE_FILENAME_MISSING:"File Name: <em>Invalid or missing</em>",DASHBOARD_FORM_LABEL_NAME:"Dashboard Name",DASHBOARD_FORM_LABEL_DESCRIPTION:"Description",DASHBOARD_FORM_LABEL_IMPORT:"Or import a dashboard file",DASHBOARD_FORM_CLEAR_UPLOAD:"Clear upload",DASHBOARD_FORM_UPLOAD_TEXT:"Drag & Drop or",DASHBOARD_FORM_UPLOAD_LINK:"Browse Files",DASHBOARD_ACTIONS_CREATE_ERROR:"There was an error creating the dashboard.",DASHBOARD_ACTIONS_IMPORT_ERROR_INVALID_FILE:"Invalid dashboard file. Only files exported from a UniFi Controller can be imported here.",DASHBOARD_ACTIONS_IMPORT_ERROR_MISSING_FILE:"Missing import file.",DASHBOARD_ACTIONS_IMPORT_ERROR_MISSING_MODULES:"The imported dashboard doesn't have any widgets.",DASHBOARD_ACTIONS_IMPORT_ERROR_INCOMPATIBLE_MODULES:"This dashboard was created in version {{dashboardControllerVersion}} of the UniFi Controller. This controller is running {{currentControllerVersion}}. Please update to a newer version of the controller in order to use all the widgets in this dashboard.",DASHBOARD_ACTIONS_SAVE_ERROR:"There was an error saving the {{name}} dashboard.",DASHBOARD_ACTIONS_SAVE_ERROR_READ_ONLY:"Unable to save the {{name}} dashboard. It is read-only.",DASHBOARD_ACTIONS_REMOVE_ERROR:"There was an error removing the {{name}} dashboard.",DASHBOARD_SWITCHER_ITEM_EDIT_MODULES:"Edit widgets",DASHBOARD_SWITCHER_ITEM_MANAGE_DASHBOARDS:"Manage dashboards",DASHBOARD_SWITCHER_ITEM_ADD_DASHBOARD:"Add custom dashboard",DASHBOARD_SWITCHER_ITEM_DONE_EDITING:"Done",DASHBOARD_ALERT_CUSTOMIZE_DASHBOARD:"Customize dashboard"}},{}],79:[function(t,e,i){e.exports={DASHBOARD_MODULE_DEFINITIONS_ANOMALIES:"Anomalies",DASHBOARD_MODULE_DEFINITIONS_ASSOCIATION_FAILURES:"Association Failures",DASHBOARD_MODULE_DEFINITIONS_CAROUSEL:"Carousel",DASHBOARD_MODULE_DEFINITIONS_CHANNEL_DISTRIBUTION:"WiFi Traffic Distribution",DASHBOARD_MODULE_DEFINITIONS_CLIENTS_FREQ_DISTRIBUTION:"Clients Freq Distribution",DASHBOARD_MODULE_DEFINITIONS_DEVICES_DISTRIBUTION:"Device Distribution",DASHBOARD_MODULE_DEFINITIONS_FLEXIBLE_ROW:"Flexible Row",DASHBOARD_MODULE_DEFINITIONS_INTERNET_CONNECTION:"Internet Connection",DASHBOARD_MODULE_DEFINITIONS_NETWORK:"Network",DASHBOARD_MODULE_DEFINITIONS_NETWORK_HEALTH:"Network Health",DASHBOARD_MODULE_DEFINITIONS_NETWORK_STATUS:"Network Status",DASHBOARD_MODULE_DEFINITIONS_PORT_POWER:"Power & Connectivity",DASHBOARD_MODULE_DEFINITIONS_PORT_USAGE:"Port Usage",DASHBOARD_MODULE_DEFINITIONS_RETRY_RATE:"Access Point Retry Rate",DASHBOARD_MODULE_DEFINITIONS_DROPPED_PACKETS:"Dropped Packets",DASHBOARD_MODULE_DEFINITIONS_AIRTIME:"Airtime",DASHBOARD_MODULE_DEFINITIONS_IPS_MAP:"IPS Map",DASHBOARD_MODULE_DEFINITIONS_WIFI_ASSOCIATIONS:"WiFi Clients",DASHBOARD_MODULE_DEFINITIONS_ROUTING_UTILIZATION:"Routing Utilization",DASHBOARD_MODULE_DEFINITIONS_SPEED_TEST:"Speed Test",DASHBOARD_MODULE_DEFINITIONS_SWITCHING_SUMMARY:"Switching Summary",DASHBOARD_MODULE_DEFINITIONS_TIME_TO_ASSOCIATE:"Time to Associate",DASHBOARD_MODULE_DEFINITIONS_TOP_CLIENTS_ACTIVE:"Most Active Clients",DASHBOARD_MODULE_DEFINITIONS_TOP_CLIENTS_UPTIME:"Longest Client Uptime",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_CHANNEL_UTIL:"Channel Utilization",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_CLIENT_COUNT:"Most Clients",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_UAP_CLIENT_COUNT:"Most Wireless Clients",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_CPU_USAGE:"Top CPU Usage",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_UAP_CPU_USAGE:"Top AP CPU Usage",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_INTERFERENCE:"Top Interference",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_MEMORY_USAGE:"Top Memory Usage",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_UAP_MEMORY_USAGE:"Top AP Memory Usage",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_RETRIES:"Most Retries",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_UAP_ACTIVE:"Most Active APs",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_USW_ACTIVE:"Most Active Switches",DASHBOARD_MODULE_DEFINITIONS_TOP_DPI_APPLICATIONS:"Top Applications",DASHBOARD_MODULE_DEFINITIONS_TOP_DPI_CATEGORIES:"Top Categories",DASHBOARD_MODULE_DEFINITIONS_VPN_LIST:"VPNs",DASHBOARD_MODULE_DEFINITIONS_WAN_HISTOGRAM:"ISP Load",DASHBOARD_MODULE_DEFINITIONS_WAN_LOAD:"ISP Load",DASHBOARD_MODULE_DEFINITIONS_WIFI_CLIENTS:"WiFi Clients",DASHBOARD_MODULE_DEFINITIONS_WIFI_SUMMARY:"WiFi Summary",DASHBOARD_MODULE_DEFINITIONS_WLAN_HISTOGRAM:"WiFi Load",DASHBOARD_MODULE_DEFINITIONS_WLAN_LOAD:"WiFi Load",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_CLIENT_COUNT_FILTERED_NG:"Most 2G Clients",DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_CLIENT_COUNT_FILTERED_NA:"Most 5G Clients",DASHBOARD_MODULE_DEFINITIONS_TOP_CLIENTS_ACTIVE_FILTERED_WIRELESS:"Most Active WiFi Clients",DASHBOARD_MODULE_DEFINITIONS_TOP_CLIENTS_ACTIVE_FILTERED_WIRED:"Most Active Wired Clients",DASHBOARD_MODULE_DEVICE_DISTRIBUTION_NO_DEVICES:"No devices",DASHBOARD_MODULE_CLIENT_FREQ_DISTRIBUTION_NO_CLIENTS:"No clients",DASHBOARD_MODULE_ANOMALIES_NO_DATA:"No anomalies",DASHBOARD_MODULE_ASSOCIATION_FAILURES_NO_DATA:"No data available",DASHBOARD_MODULE_ASSOCIATION_FAILURES_TYPE_TIMEOUT:"Association Timeout",DASHBOARD_MODULE_ASSOCIATION_FAILURES_TYPE_WPA:"WPA Authentication Timeout/Failure",DASHBOARD_MODULE_ASSOCIATION_FAILURES_TYPE_ACL:"Blocked by access control",DASHBOARD_MODULE_ASSOCIATION_FAILURES_TYPE_ACL_EXPLANATION:"See <a ui-sref='{{state}}'>Blocked&nbsp;Known&nbsp;Clients</a> for reasons why clients are blocked",DASHBOARD_MODULE_ASSOCIATION_FAILURES_TYPE_DHCP:"DHCP Timeout/Failure",DASHBOARD_MODULE_ASSOCIATION_FAILURES_TYPE_RADIUS:"RADIUS Authentication Timeout/Failure",DASHBOARD_MODULE_ASSOCIATION_FAILURES_TYPE_OTHERS:"Others",DASHBOARD_MODULE_ASSOCIATION_TABLE_HEADER_TYPE:"Type",DASHBOARD_MODULE_ASSOCIATION_TABLE_HEADER_CLIENTS:"Clients",DASHBOARD_MODULE_ASSOCIATION_TABLE_HEADER_COUNT:"Count",DASHBOARD_MODULE_INTERNET_CONNECTION:"Internet Connection",DASHBOARD_MODULE_INTERNET_CONNECTION_DOWNLOAD:"Download",DASHBOARD_MODULE_INTERNET_CONNECTION_UPLOAD:"Upload",DASHBOARD_MODULE_INTERNET_CONNECTION_THEORETICAL_CAPACITY:"Theoretical Capacity",DASHBOARD_MODULE_INTERNET_CONNECTION_THEORETICAL_UPLOAD:"Theoretical Upload",DASHBOARD_MODULE_INTERNET_CONNECTION_THEORETICAL_DOWNLOAD:"Theoretical Download",DASHBOARD_MODULE_INTERNET_CONNECTION_ACTUAL_CAPACITY:"Actual Capacity",DASHBOARD_MODULE_INTERNET_CONNECTION_NO_USG:"No <a href='{{unifiGatewayLink}}' target='_blank'>UniFi Security Gateway</a> detected. Routing info unavailable.",DASHBOARD_MODULE_INTERNET_CONNECTION_NO_AP:"No <a href='{{unifiAPLink}}' target='_blank'>UniFi Access Point(s)</a> detected. WiFi info unavailable.",DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT:"Throughput",DASHBOARD_MODULE_INTERNET_CONNECTION_TYPE:"Type",DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT_BPS:"bps",DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT_Y_AXIS_LABEL:"Throughput [{{prefix}}bps]",DASHBOARD_MODULE_INTERNET_CONNECTION_MAX_THROUGHPUT:"Max Throughput",DASHBOARD_MODULE_INTERNET_CONNECTION_AVG_AND_MAX_THROUGHPUT:"Avg/Max Throughput",DASHBOARD_MODULE_INTERNET_CONNECTION_LATENCY:"Latency",DASHBOARD_MODULE_INTERNET_CONNECTION_LATENCY_Y_AXIS_LABEL:"Latency [ms]",DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT_NO_DATA_AVAILABLE:"No data available",DASHBOARD_MODULE_INTERNET_CONNECTION_UNAVAILABLE:"No security gateway was found.",DASHBOARD_MODULE_IPS_MAP_UNAVAILABLE:"No security gateway was found.",DASHBOARD_MODULE_NETWORK_HEALTH_LATENCY:"Latency",DASHBOARD_MODULE_NETWORK_HEALTH_THROUGHPUT_TX:"Tx Tput",DASHBOARD_MODULE_NETWORK_HEALTH_THROUGHPUT_RX:"Rx Tput",DASHBOARD_MODULE_NETWORK_HEALTH_ACTIVE:"Active",DASHBOARD_MODULE_NETWORK_HEALTH_PENDING:"Pending",DASHBOARD_MODULE_NETWORK_HEALTH_INACTIVE:"Inactive",DASHBOARD_MODULE_PORT_POWER_PORT_POWER:"Port Power",DASHBOARD_MODULE_PORT_POWER_POWER_CAPACITITY_VS_DRAW:"Power Capacity vs. Draw",DASHBOARD_MODULE_PORT_POWER_UNAVAILABLE:"No port power data was found.",DASHBOARD_MODULE_PORT_USAGE:"Port Usage",DASHBOARD_MODULE_PORT_USAGE_NO_POE:"No PoE",DASHBOARD_MODULE_PORT_USAGE_POE_PASSIVE_24V:"PoE Passive 24V",DASHBOARD_MODULE_PORT_USAGE_POE_PASSTHROUGH:"PoE Passthrough",DASHBOARD_MODULE_PORT_USAGE_POE_PLUS:"PoE+",DASHBOARD_MODULE_PORT_USAGE_ACTIVE:"Active",DASHBOARD_MODULE_PORT_USAGE_TOTAL:"Total",DASHBOARD_MODULE_PORT_USAGE_UNAVAILABLE:"No port usage data was found.",DASHBOARD_MODULE_ROUTING_UTILIZATION_CPU_UTIL:"CPU Util.",DASHBOARD_MODULE_ROUTING_UTILIZATION_GATEWAY:"Gateway",DASHBOARD_MODULE_ROUTING_UTILIZATION_LABEL_NO_GATEWAY:"Gateway not found",DASHBOARD_MODULE_ROUTING_UTILIZATION_CONTROLLER:"Controller",DASHBOARD_MODULE_ROUTING_UTILIZATION_LABEL_NO_CONTROLLER:"Controller not found",DASHBOARD_MODULE_ROUTING_UTILIZATION_UNAVAILABLE:"No security gateway was found.",DASHBOARD_MODULE_SPEED_TEST_BUTTON_RUN_TEST:"Run test",DASHBOARD_MODULE_SPEED_TEST_BUTTON_FULL_SCREEN:"Full screen",DASHBOARD_MODULE_SPEED_TEST_UNAVAILABLE:"No security gateway was found.",DASHBOARD_MODULE_STATUS_MEGA_UTILIZATION:"<em>{{percent}}</em> Utilization",DASHBOARD_MODULE_STATUS_MEGA_NO_GATEWAY:"No Gateway",DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_EXCELLENT:"Excellent",DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_GOOD:"Good",DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_FAIR:"Fair",DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_POOR:"Poor",DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_BAD:"Bad",DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_UNAVAILABLE:"Unavailable",DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_UNKNOWN:"Unknown",DASHBOARD_MODULE_STATUS_MEGA_LABEL_CAPACITY:"Capacity",DASHBOARD_MODULE_STATUS_MEGA_LABEL_CAPACITY_LOAD:"Capacity Load",DASHBOARD_MODULE_STATUS_MEGA_LABEL_LATENCY:"Latency",DASHBOARD_MODULE_STATUS_MEGA_LABEL_UTILIZATION:"Utilization",DASHBOARD_MODULE_STATUS_MEGA_LABEL_AIR_TIME:"Air Time",DASHBOARD_MODULE_STATUS_MEGA_LABEL_DROPPED_PACKETS:"Dropped Packets",DASHBOARD_MODULE_STATUS_MEGA_LABEL_AIRTIME_AVG:"Airtime Avg.",DASHBOARD_MODULE_STATUS_MEGA_LABEL_RETRY_RATE:"Retry rate",DASHBOARD_MODULE_STATUS_MEGA_LABEL_TX_RETRIES:"Tx retries",DASHBOARD_MODULE_STATUS_MEGA_LABEL_TX_PACKETS:"Tx packets",DASHBOARD_MODULE_STATUS_MEGA_LABEL_PAST_24H:"Past 24 hours",DASHBOARD_MODULE_STATUS_MEGA_LABEL_MIN:"Min",DASHBOARD_MODULE_STATUS_MEGA_LABEL_MAX:"Max",DASHBOARD_MODULE_STATUS_MEGA_LABEL_LOW:"Low",DASHBOARD_MODULE_STATUS_MEGA_LABEL_HIGH:"High",DASHBOARD_MODULE_STATUS_MEGA_LABEL_INTERNET:"Internet",DASHBOARD_MODULE_STATUS_MEGA_LABEL_SWITCHES:"Switches",DASHBOARD_MODULE_STATUS_MEGA_LABEL_APS:"Access Points",DASHBOARD_MODULE_STATUS_MEGA_LABEL_GUESTS:"Guests",DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS:"Clients",DASHBOARD_MODULE_STATUS_MEGA_LABEL_WIFI:"WiFi",DASHBOARD_MODULE_STATUS_MEGA_LABEL_IOT:"IoT",DASHBOARD_MODULE_STATUS_MEGA_HEADLINE_EVERYTHING_IS_GREAT:"Everything is <em>great!</em>",DASHBOARD_MODULE_STATUS_MEGA_HEADLINE_EVERYTHING_IS_GOOD:"Everything is <em>good.</em>",DASHBOARD_MODULE_STATUS_MEGA_HEADLINE_YOUR_SETUP_NEEDS_ATTENTION:"Your setup needs <em>attention</em>.",DASHBOARD_MODULE_STATUS_MEGA_SUBTITLE_SOME_DEVICES_ARE_DISCONNECTED:"Some of your devices are disconnected.",DASHBOARD_MODULE_STATUS_MEGA_SUBTITLE_LIMIT_EXCEEDED:"Exceeded limit of max adopted devices.",DASHBOARD_MODULE_STATUS_MEGA_SUBTITLE_SOME_DEVICES_ARE_PENDING:"Some of your devices are pending adoption.",DASHBOARD_MODULE_STATUS_MEGA_SUBTITLE_NO_CONNECTED_DEVICES:"There are no connected devices.",DASHBOARD_MODULE_STATUS_MEGA_SUBTITLE_CONNECT_USG_TO:"Connect a UniFi Security Gateway to get the best experience!",DASHBOARD_MODULE_STATUS_MEGA_SUBTITLE_LOW_SATISFACTION:"Poor WiFi User Experience",DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_HEADER:"WiFi Clients represents all devices connected to your WiFi network(s)",DASHBOARD_MODULE_STATUS_MEGA_LABEL_GUESTS_TOOLTIP_HEADER:"Guests represents all devices connected to your WiFi hotspot network(s)",DASHBOARD_MODULE_STATUS_MEGA_LABEL_IOT_TOOLTIP_HEADER:"IoT represents all devices \u2028that do not require human interaction to operate on your WiFi network(s). Such as smart locks, thermostats... etc.",DASHBOARD_MODULE_STATUS_MEGA_LABEL_IOT_TOOLTIP_TOTAL:"Total IoT Clients",DASHBOARD_MODULE_STATUS_MEGA_LABEL_IOT_TOOLTIP_GROUPS:"IoT Groups",DASHBOARD_MODULE_STATUS_MEGA_LABEL_IOT_TOOLTIP_EXPERIENCE:"WiFi Experience",DASHBOARD_MODULE_STATUS_MEGA_SATISFACTION_TOOLTIP_LABEL:"{{percentage}}% of your clients have a Wi-Fi User Experience score higher than 50%.",DASHBOARD_MODULE_STATUS_MEGA_ISP_TOOLTIP_LABEL:"Current ISP Load",DASHBOARD_MODULE_STATUS_MEGA_ISP_VIEW_HISTORY:"View History",DASHBOARD_MODULE_STATUS_MEGA_SATISFACTION_RETRY_RATE_LABEL:"Retry Rate",DASHBOARD_MODULE_STATUS_MEGA_SATISFACTION_RSSI_LABEL:"RSSI",DASHBOARD_MODULE_STATUS_MEGA_LABEL_USW_TOOLTIP_TOTAL:"Total Ports",DASHBOARD_MODULE_STATUS_MEGA_LABEL_USW_TOOLTIP_AVAILABLE:"Available Ports",DASHBOARD_MODULE_STATUS_MEGA_LABEL_USW_TOOLTIP_POWER_CONSUMPTION:"Power Consumption",DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_TOTAL:"Total Clients",DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_WIRELESS:"Wireless Clients",DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_WIRED:"Wired Clients",DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_GROUPS:"Client Groups",DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_EXPERIENCE:"WiFi Experience",DASHBOARD_MODULE_STATUS_MEGA_LABEL_GUESTS_TOOLTIP_TOTAL:"Total Guests",DASHBOARD_MODULE_STATUS_MEGA_LABEL_INTERNET_TOOLTIP_UPTIME:"Uptime",DASHBOARD_MODULE_STATUS_MEGA_LABEL_INTERNET_TOOLTIP_LATENCY:"Latency",DASHBOARD_MODULE_STATUS_MEGA_LABEL_INTERNET_TOOLTIP_UP:"Up",DASHBOARD_MODULE_STATUS_MEGA_LABEL_INTERNET_TOOLTIP_DOWN:"Down",DASHBOARD_MODULE_STATUS_MEGA_SPEED_TEST_BUTTON:"Speed Test",DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION:"WiFi Traffic Distribution",DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION_LABEL_CHANNEL:"Channel",DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION_LABEL_CHANNELS:"Channels",DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION_LABEL_APS:"APs",DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION_LABEL_CLIENTS:"Clients",DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION_TOOLTIP_HEADER:"{{frequencyRange}} WiFi<br/>Traffic Distribution",DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION_TOOLTIP_UNKNOWN_CHANNEL:"Some devices use channels that are not allowed for the region configured for this site. Check your configuration to resolve the problem.",DASHBOARD_MODULE_SWITCHING_SUMMARY_SWITCHES_ONLINE:"Switches Online",DASHBOARD_MODULE_SWITCHING_SUMMARY_CLIENTS:"Clients",DASHBOARD_MODULE_SWITCHING_SUMMARY_UTILIZATION:"Port Utilization",DASHBOARD_MODULE_SWITCHING_SUMMARY_TRAFFIC:"Traffic",DASHBOARD_MODULE_SWITCHING_SUMMARY_UNAVAILABLE:"No devices were found.",DASHBOARD_MODULE_AP_RETRY_RATE_LEGEND_LABEL:"Retries per AP",DASHBOARD_MODULE_AP_DROPPED_PACKETS_LEGEND_LABEL:"Dropped packets per AP",DASHBOARD_MODULE_AP_AIRTIME_AVG_LEGEND_LABEL:"Utilization per AP",DASHBOARD_MODULE_TIME_TO_ASSOCIATE_NEW_CLIENT_AVERAGE_LABEL:"New Client Average Association Time",DASHBOARD_MODULE_TIME_TO_ASSOCIATE_FIRST_CATEGORY_LABEL:"0-1s",DASHBOARD_MODULE_TIME_TO_ASSOCIATE_SECOND_CATEGORY_LABEL:"1-3s",DASHBOARD_MODULE_TIME_TO_ASSOCIATE_THIRD_CATEGORY_LABEL:"3-12s",DASHBOARD_MODULE_TOP_DPI_ITEMS_TRAFFIC:"Traffic",DASHBOARD_MODULE_TOP_DPI_ITEMS_OTHER:"Other",DASHBOARD_MODULE_TOP_DPI_ITEMS_UNKNOWN_APPLICATION:"Unknown",DASHBOARD_MODULE_TOP_DPI_ITEMS_UNKNOWN_CATEGORY:"Unknown",DASHBOARD_MODULE_TOP_DPI_ITEMS_NO_DATA_APPLICATIONS:"No applications were found.",DASHBOARD_MODULE_TOP_DPI_ITEMS_NO_DATA_CATEGORIES:"No categories were found.",DASHBOARD_MODULE_TOP_ITEMS_NO_DATA_DEVICES:"No devices were found.",DASHBOARD_MODULE_TOP_ITEMS_NO_DATA_CLIENTS:"No clients were found.",DASHBOARD_MODULE_TOP_ITEMS_CLIENT_COUNT:"{count, plural, one{1 client} other{# clients}}",DASHBOARD_MODULE_TOP_ITEMS_EDITOR_RADIO_LABEL:"Radio",DASHBOARD_MODULE_TOP_ITEMS_EDITOR_RADIO_VALUES_ALL:"All",DASHBOARD_MODULE_TOP_ITEMS_EDITOR_RADIO_VALUES_NA:"5G",DASHBOARD_MODULE_TOP_ITEMS_EDITOR_RADIO_VALUES_NG:"2G",DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_LABEL:"Traffic",DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_VALUES_TOTAL:"Total",DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_VALUES_TX:"Tx",DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_VALUES_RX:"Rx",DASHBOARD_MODULE_TOP_ITEMS_EDITOR_CONNECTION_LABEL:"Connection",DASHBOARD_MODULE_TOP_ITEMS_EDITOR_CONNECTION_VALUES_ALL:"All",DASHBOARD_MODULE_TOP_ITEMS_EDITOR_CONNECTION_VALUES_WIRELESS:"Wireless",DASHBOARD_MODULE_TOP_ITEMS_EDITOR_CONNECTION_VALUES_WIRED:"Wired",DASHBOARD_MODULE_VPN_TABLE_HEADER_NAME:"Name",DASHBOARD_MODULE_VPN_TABLE_HEADER_STATUS:"Status",DASHBOARD_MODULE_VPN_TABLE_HEADER_TUNNELS:"Tunnels",DASHBOARD_MODULE_VPN_TABLE_HEADER_AVG_TX_DATA:"Avg. Tx Data",DASHBOARD_MODULE_VPN_TABLE_HEADER_AVG_RX_DATA:"Avg. Rx Data",DASHBOARD_MODULE_VPN_TABLE_EMPTY_NO_DATA:"No VPN networks were found.",DASHBOARD_MODULE_WAN_LOAD_UNAVAILABLE:"No security gateway was found.",DASHBOARD_MODULE_WAN_HISTOGRAM_UNAVAILABLE:"No security gateway was found.",DASHBOARD_MODULE_WLAN_HISTOGRAM_UNAVAILABLE:"No APs were found.",DASHBOARD_MODULE_WIFI_SUMMARY_APS_ONLINE:"APs Online",DASHBOARD_MODULE_WIFI_SUMMARY_CLIENTS:"Clients",DASHBOARD_MODULE_WIFI_SUMMARY_UTILIZATION:"Utilization",DASHBOARD_MODULE_WIFI_SUMMARY_TRAFFIC:"Traffic",DASHBOARD_MODULE_WIFI_SUMMARY_UNAVAILABLE:"No APs were found.",DASHBOARD_MODULE_WIFI_ASSOCIATIONS_NEW:"New",DASHBOARD_MODULE_WIFI_ASSOCIATIONS_EXISTING:"Existing",DASHBOARD_MODULE_WIFI_ASSOCIATIONS_DISCONNECTED:"Disconnected",DASHBOARD_MODULE_WIFI_ASSOCIATIONS_MIN_ASSOC_TIME:"Min. assoc. time",DASHBOARD_MODULE_WIFI_ASSOCIATIONS_MAX_ASSOC_TIME:"Max assoc. time",DASHBOARD_MODULE_ANOMALIES_HEADER:"Anomalies over {{count}} devices",DASHBOARD_MODULE_ANOMALIES_AP_HIGH_UTILISATION:'Excessive utilization for Access Point <a class="appLink">{{name}}</a>',DASHBOARD_MODULE_ANOMALIES_AP_HIGH_TX_RETRIES:'Access Point <a class="appLink">{{name}}</a> experienced high retry rates',DASHBOARD_MODULE_ANOMALIES_AP_HIGH_DROP_RATE:'Excessive packet drops for Access Point <a class="appLink">{{name}}</a>',DASHBOARD_MODULE_ANOMALIES_AP_HIGH_CPU:'High CPU usage for Access Point <a class="appLink">{{name}}</a>',DASHBOARD_MODULE_ANOMALIES_AP_MAC_REJECTION:'Access Point <a class="appLink">{{name}}</a> rejected some MAC address',DASHBOARD_MODULE_ANOMALIES_AP_LONG_ASSOCIATION_TIME:'Long average association time for Access Point <a class="appLink">{{name}}</a>',DASHBOARD_MODULE_ANOMALIES_AP_LONG_MAX_ASSOCIATION_TIME:'Long association time for Access Point <a class="appLink">{{name}}</a>',DASHBOARD_MODULE_ANOMALIES_AP_HIGH_ASSOCIATION_FAILURES:'High associations failures for Access Point <a class="appLink">{{name}}</a>',DASHBOARD_MODULE_ANOMALIES_USER_SIGNAL_STRENGTH_FAILURES:'Low signal strength for Client <a class="appLink">{{name}}</a>',DASHBOARD_MODULE_ANOMALIES_USER_LOW_PHY_RATE:'Low bandwidth for Client <a class="appLink">{{name}}</a>',DASHBOARD_MODULE_ANOMALIES_USER_HIGH_TCP_PACKET_LOSS:'High TCP packet loss for Client <a class="appLink">{{name}}</a>',DASHBOARD_MODULE_ANOMALIES_USER_HIGH_TCP_LATENCY:'High TCP latency for Client <a class="appLink">{{name}}</a>',DASHBOARD_MODULE_ANOMALIES_USER_HIGH_WIFI_RETRIES:'High WiFi retries for Client <a class="appLink">{{name}}</a>',DASHBOARD_MODULE_ANOMALIES_USER_POOR_STREAM_EFF:'Poor stream efficiency for Client <a class="appLink">{{name}}</a>',DASHBOARD_MODULE_ANOMALIES_USER_SLEEPY_CLIENT:'Client <a class="appLink">{{name}}</a> is sleeping too much and losing packets',DASHBOARD_MODULE_ANOMALIES_DURATION:"for last {{duration}}",DASHBOARD_MODULE_ANOMALIES_SHOW_ALL:"Show All",DASHBOARD_MODULE_COMMON_EDITOR_COLOR_PALETTE_LABEL:"Color Palette"}},{}],80:[function(t,e,i){e.exports={FATAL_ERROR_GENERIC_ERROR:"Uh oh! Something went wrong.",FATAL_ERROR_LINK_TO_HOME:"Please <a ui-sref='{{state}}'>click here</a> to get back to the homepage.",FATAL_ERROR_LINK_TO_LOGIN:"Please <a ui-sref='{{state}}'>click here</a> to go to the login page.",HTTP_STATUS_CODE_100:"Continue",HTTP_STATUS_CODE_101:"Switching Protocols",HTTP_STATUS_CODE_102:"Processing",HTTP_STATUS_CODE_200:"OK",HTTP_STATUS_CODE_201:"Created",HTTP_STATUS_CODE_202:"Accepted",HTTP_STATUS_CODE_203:"Non-Authoritative Information",HTTP_STATUS_CODE_204:"No Content",HTTP_STATUS_CODE_205:"Reset Content",HTTP_STATUS_CODE_206:"Partial Content",HTTP_STATUS_CODE_207:"Multi-Status",HTTP_STATUS_CODE_300:"Multiple Choices",HTTP_STATUS_CODE_301:"Moved Permanently",HTTP_STATUS_CODE_302:"Found",HTTP_STATUS_CODE_303:"See Other",HTTP_STATUS_CODE_304:"Not Modified",HTTP_STATUS_CODE_305:"Use Proxy",HTTP_STATUS_CODE_306:"Switch Proxy",HTTP_STATUS_CODE_307:"Temporary Redirect",HTTP_STATUS_CODE_400:"Bad Request",HTTP_STATUS_CODE_401:"Unauthorized",HTTP_STATUS_CODE_402:"Payment Required",HTTP_STATUS_CODE_403:"Forbidden",HTTP_STATUS_CODE_404:"Not Found",HTTP_STATUS_CODE_405:"Method Not Allowed",HTTP_STATUS_CODE_406:"Not Acceptable",HTTP_STATUS_CODE_407:"Proxy Authentication Required",HTTP_STATUS_CODE_408:"Request Timeout",HTTP_STATUS_CODE_409:"Conflict",HTTP_STATUS_CODE_410:"Gone",HTTP_STATUS_CODE_411:"Length Required",HTTP_STATUS_CODE_412:"Precondition Failed",HTTP_STATUS_CODE_413:"Request Entity Too Large",HTTP_STATUS_CODE_414:"Request-URI Too Long",HTTP_STATUS_CODE_415:"Unsupported Media Type",HTTP_STATUS_CODE_416:"Requested Range Not Satisfiable",HTTP_STATUS_CODE_417:"Expectation Failed",HTTP_STATUS_CODE_418:"I'm a teapot",HTTP_STATUS_CODE_422:"Unprocessable Entity",HTTP_STATUS_CODE_423:"Locked",HTTP_STATUS_CODE_424:"Failed Dependency",HTTP_STATUS_CODE_425:"Unordered Collection",HTTP_STATUS_CODE_426:"Upgrade Required",HTTP_STATUS_CODE_449:"Retry With",HTTP_STATUS_CODE_450:"Blocked by Windows Parental Controls",HTTP_STATUS_CODE_500:"Internal Server Error",HTTP_STATUS_CODE_501:"Not Implemented",HTTP_STATUS_CODE_502:"Bad Gateway",HTTP_STATUS_CODE_503:"Service Unavailable",HTTP_STATUS_CODE_504:"Gateway Timeout",HTTP_STATUS_CODE_505:"HTTP Version Not Supported",HTTP_STATUS_CODE_506:"Variant Also Negotiates",HTTP_STATUS_CODE_507:"Insufficient Storage",HTTP_STATUS_CODE_509:"Bandwidth Limit Exceeded",HTTP_STATUS_CODE_510:"Not Extended","HTTP_STATUS_CODE_-1":"Unable to Connect"}},{}],81:[function(t,e,i){e.exports={UNIFI_CHARTS_NO_DATA_AVAILABLE:"No data available"}},{}],82:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiAccordionGroupState",["propertyPanel",function(t){return{require:["^accordionGroup"],link:function(e,i,n){e.$watch(function(){return e.model&&t.getItemState(e.model,"activeAccordionGroup")},function(i){i===n.unifiAccordionGroupStateId&&(e.$parent.isOpen=!0,t.unsetItemState(e.model,"activeAccordionGroup",!1))})}}}])},{}],83:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("ActivityGraphController",["$scope","$translate","account","activityReports","BaseCollectionRepository","binaryPrefix","chartUtils","DataConverter","ReportCollection","statsFeatures","statsUtils","timeBasedGraphControllerMixin","TRAFFIC",function(t,e,i,o,r,a,s,l,c,u,d,p,f){return new(function(){function h(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),p(this),this.isNumber=angular.isNumber,this.data=[]}return n(h,[{key:"$onInit",value:function(){var n,r=this;this.config={dataMarkEvent:"ACTIVITY_GRAPH_DATA_MARK_EVENT",margin:{left:45,top:20,bottom:25,right:45},xProperty:"time",left:{interpolate:"curveMonotoneX",continuous:!1,type:"area",yProperty:["traffic"],bytesUnit:"",yAxisFormat:function(t){var e=Math.floor(t).toFixed(0),i=e!==n?e:"";return n=e,i}},right:{interpolate:"curveMonotoneX",continuous:!1,type:"plot",yProperty:["clients"],yAxisLabel:e.instant("STATISTICS_RECENT_ACTIVITIES_CLIENTS")}},this.config.left.yAxisLabel=function(){return e.instant("STATISTICS_RECENT_ACTIVITIES_TRAFFIC_Y_AXIS_LABEL",{prefix:r.units&&r.units.traffic,unit:r.useBps?f.UNIT.BPS:f.UNIT.BYTES})},this.config.xAxisFormat=function(t){return r.xAxisFormat(r.config.xAxisTickResolution,t)},this.config.right.yAxisFormat=function(t){return t%1==0?a.parse(t,"SI").toString():""},this.config.label=this.device?"":e.instant("STATISTICS_RECENT_ACTIVITIES_TOTAL"),this.bytesAttr=this.device?"bytes":"wlan_bytes",this.numStaAttr=this.device?"num_sta":"wlan-num_sta",this.useBps=u.useBps(),this.updateDataConverter(),this.updateRepository(),this.updateConfig(),t.$on(this.config.dataMarkEvent,function(t,e){r.markItem(e)}),o.registerRepository(this.repository),this.repository.register(),this.listener=this.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),this.repository.refresh(),i.repository.model.on("change",this.updateDataConverter,this),i.repository.model.on("change",this.collectData,this)}},{key:"$onDestroy",value:function(){this.listener.stopListening(),o.unregisterRepository(this.repository),this.repository.unregister(),i.repository.model.off("change",this.updateDataConverter,this),i.repository.model.off("change",this.collectData,this)}},{key:"$onChanges",value:function(t){this.config&&(this.useBps=u.useBps(),t.granularity&&this.updateDataConverter(),(t.start||t.end)&&this.updateConfig(),this.updateRepository(),this.repository.refresh())}},{key:"updateDataConverter",value:function(){var t=this,e={traffic:this.bytesAttr,clients:this.numStaAttr,time:"time"};this.useBps=u.useBps(),this.useBps&&(e.traffic=function(e){return d.bytesToBps(e[t.bytesAttr],t.granularity.grainInSeconds)}),this.dataConverter=(new l).sortedBy("time").withMap(e,!1).withBinaryNormalization(["time","clients"],!0)}},{key:"updateRepository",value:function(){this.repository||(this.repository=new r(new c(this.device?"ap":"site")),this.repository.collection.setAttrs([this.bytesAttr,this.numStaAttr,"time"])),this.device&&this.repository.collection.setMac(this.device.get("mac")),this.repository.collection.setDateInterval(this.start,this.end),this.repository.collection.setGranularity(this.granularity)}},{key:"updateConfig",value:function(){this.config.xScaleDomain=[this.start,this.end],this.config.xAxisTickResolution=this.getTickResolution(this.start,this.end),this.config.shadedBackgroundFilter=this.getBackgroundShader(this.start,this.end)}},{key:"collectData",value:function(){this.data=this.dataConverter.process(this.repository.collection.toJSON()),this.data=s.preventContinuousPlot(this.data,this.granularity.grain,"time"),this.units=this.dataConverter.units}}]),h}())}])},{}],84:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiActivityGraph",{controller:"ActivityGraphController",controllerAs:"activityGraphCtrl",template:t("./activityGraph.pug")(),bindings:{device:"<unifiActivityGraphDevice",start:"<unifiActivityGraphStart",end:"<unifiActivityGraphEnd",granularity:"<unifiActivityGraphGranularity"}})},{"./activityGraph.pug":85}],85:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div><unifi-line-chart-with-tooltip class="is-responsive" unifi-line-chart-with-tooltip-config="activityGraphCtrl.config" unifi-line-chart-with-tooltip-data="activityGraphCtrl.data"><div class="unifiChartTooltipHeader">{{activityGraphCtrl.focusedData.time | statsTimeRange: activityGraphCtrl.granularity}}</div><div class="unifiChartTooltipBody"><div class="verticalRhythmQuarter" ng-if="activityGraphCtrl.isNumber(activityGraphCtrl.focusedData.clients)"><div class="col--xs8 noPadding unifiChartTooltipBody__title" translate="STATISTICS_RECENT_ACTIVITIES_CLIENTS"></div><div class="col--xs4 noPadding unifiChartTooltipBody__number"><strong>{{activityGraphCtrl.focusedData.clients}}</strong></div></div><div class="verticalRhythmQuarter" ng-if="activityGraphCtrl.isNumber(activityGraphCtrl.focusedData.raw.traffic)"><div class="col--xs8 noPadding unifiChartTooltipBody__title" translate="STATISTICS_RECENT_ACTIVITIES_TRAFFIC"></div><div class="col--xs4 noPadding unifiChartTooltipBody__number"><strong ng-if="!activityGraphCtrl.useBps">{{activityGraphCtrl.focusedData.raw.traffic | bytes}}</strong><strong ng-if="activityGraphCtrl.useBps">{{activityGraphCtrl.focusedData.raw.traffic | bps}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="activityGraphCtrl.focusedData.raw.traffic === undefined &amp;&amp; activityGraphCtrl.focusedData.clients === undefined"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="PERFORMANCE_NO_DATA_AVAILABLE"></p></div></div></div></div></unifi-line-chart-with-tooltip></div>'}},{"pug-runtime":23}],86:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(t,e,i,o,r,a,s,l,c,u,d,p,f,h){this.$q=t,this.$stateParams=e,this.$translate=i,this.heyToasts=o,this.admins=a,this.preferences=c,this.settings=u,this.PERMISSIONS=f,this.adminsOverview=s,this.adminOtherSiteFilter=new l,this.CREDENTIALS_SETTINGS=p,this.roleOptions=[{id:"superadmin",translationKey:"SETTINGS_ADMIN_VALUES_ROLE_SUPER_ADMIN",visible:!0},{id:"admin",translationKey:"SETTINGS_ADMIN_VALUES_ROLE_ADMIN",visible:!0},{id:"readonly",translationKey:"SETTINGS_ADMIN_VALUES_ROLE_READ_ONLY",visible:!0}],this.addAction="invite",this.onAddActionChange(),this.patterns={accountName:h.ADMIN_NAME,email:h.EMAIL},this.isSuperAdmin=r.isSuperAdmin.bind(r),this.updatePermissions(),n.call(this,d)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.getAdminsCollection=function(){return this.admins.repository.collection},o.prototype.updateModel=function(t){t&&(t.role=this.model&&this.model.get("role")||"readonly",t.is_super=this.model&&this.model.get("is_super")||!1,this.attrRole=t.is_super?"superadmin":t.role,t.attributes.for_sso=this.settings.getSettingFromKey("super_cloudaccess")&&this.settings.getSettingFromKey("super_cloudaccess").get("enabled"),this.resetEnabledPermissions(t)),n.prototype.updateModel.call(this,t)},o.prototype.isAdvancedFeaturesEnabled=function(){return this.settings.getSettingFromKey("mgmt")&&this.settings.getSettingFromKey("mgmt").get("advanced_feature_enabled")},o.prototype.isCreateState=function(){return"add"===this.$stateParams.action&&"create"===this.addAction},o.prototype.isInviteState=function(){return"add"===this.$stateParams.action&&"invite"===this.addAction},o.prototype.isInviteExistingState=function(){return"add"===this.$stateParams.action&&"invite_existing"===this.addAction},o.prototype.isEditState=function(){return"edit"===this.$stateParams.action},o.prototype.getCurrentState=function(){return this.isEditState()?"edit":this.isCreateState()?"create":this.isInviteState()?"invite":this.isInviteExistingState()?"invite_existing":void 0},o.prototype.adminDataHasBeenChanged=function(){var t=this.model.deepAttributes(),e=this.modelCopy.deepAttributes();return delete t.role,delete e.role,delete t.is_super,delete e.is_super,delete t.permissions,delete e.permissions,delete t.super_site_permissions,delete e.super_site_permissions,!angular.equals(t,e)},o.prototype.adminRoleHasBeenChanged=function(){return this.model.get("role")!==this.modelCopy.get("role")},o.prototype.adminSitePermissionsHaveBeenChanged=function(){return!angular.equals(this.model.get("permissions"),this.modelCopy.get("permissions"))},o.prototype.adminSuperSitePermissionsHaveBeenChanged=function(){return!angular.equals(this.model.get("super_site_permissions")||[],this.modelCopy.get("super_site_permissions")||[])},o.prototype.adminSuperRoleHasBeenChanged=function(){return this.model.get("is_super")!==this.modelCopy.get("is_super")},o.prototype._executeSave=function(t,e){var i=[];if(this.isCreateState()){var n=this.admins.createAdmin(t,e);if(i.push(n),e.is_super){var o=this.$q.defer();i.push(o.promise),n.then(function(){o.resolve(this.admins.grantSuperAdmin(t,e))}.bind(this))}else this.adminSuperSitePermissionsHaveBeenChanged()&&n.then(function(){return this.admins.setSuperSiteAdminPermissions(t,e)}.bind(this))}else this.isInviteState()?i.push(this.admins.inviteAdmin(t,e)):this.isEditState()?(this.adminSuperRoleHasBeenChanged()&&(e.is_super?i.push(this.admins.grantSuperAdmin(t,e)):(i.push(this.admins.revokeSuperAdmin(t,e)),this.adminSuperSitePermissionsHaveBeenChanged()&&i.push(this.admins.setSuperSiteAdminPermissions(t,e)))),this.adminDataHasBeenChanged()&&i.push(this.admins.editAdmin(t,e)),this.adminRoleHasBeenChanged()&&i.push(this.admins.grantAdmin(t,e)),this.adminSitePermissionsHaveBeenChanged()&&!this.adminRoleHasBeenChanged()&&i.push(this.admins.setAdminPermissions(t,e)),this.adminSuperSitePermissionsHaveBeenChanged()&&!this.adminSuperRoleHasBeenChanged()&&i.push(this.admins.setSuperSiteAdminPermissions(t,e))):this.isInviteExistingState()&&i.push(this.admins.grantAdmin(this.existingAdmin,e));return i},o.prototype.save=function(){this.isSubmitting=!0,this.modelCopy.attributes.permissions=Object.keys(this.currentSitePermissions||{}).filter(function(t){return this.currentSitePermissions[t]&&this.PERMISSIONS[t]&&-1!==this.PERMISSIONS[t].roles.indexOf(this.attrRole)}.bind(this)),this.modelCopy.attributes.super_site_permissions=Object.keys(this.currentSuperSitePermissions||{}).filter(function(t){return this.currentSuperSitePermissions[t]&&this.PERMISSIONS[t]&&-1!==this.PERMISSIONS[t].roles.indexOf(this.attrRole)}.bind(this));var t=this._executeSave(this.model,this.modelCopy.attributes);return t.forEach(function(t){t.then(this.heyToasts.pushSuccess.bind(this.heyToasts)).catch(this.heyToasts.pushError.bind(this.heyToasts))}.bind(this)),this.$q.all(t).then(function(){return!0}).catch(function(){return!1}).finally(function(){this.getAdminsCollection().fetch(),this.isSubmitting=!1}.bind(this))},o.prototype.setDefaultAttrs=function(t){var e=t?"":"Copy";if(this["model"+e]){var i=this["model"+e].attributes;i.requires_new_password=!this.model||!1!==this.model.get("requires_new_password"),i.email_alert_enabled=this.model&&this.model.get("email_alert_enabled")||!1,i.email_alert_grouping_enabled=this.model&&this.model.get("email_alert_grouping_enabled")||!1,i.email_alert_grouping_delay=this.model&&angular.copy(this.model.get("email_alert_grouping_delay"))||60,i.role=this.model&&this.model.get("role")||"readonly",i.is_super=this.model&&this.model.get("is_super")||!1,this.attrRole=i.is_super?"superadmin":i.role,this.updatePermissions()}},o.prototype.onAddActionChange=function(){this.roleOptions[0].visible=!(this.isInviteState()||this.isInviteExistingState()),"superadmin"===this.attrRole&&(this.attrRole="admin",this.onRoleChange(),this.heyToasts.pushWarning(this.$translate.instant("ADMIN_ACTIONS_ROLE_WAS_AUTO_CHANGED",{roleType:this.$translate.instant("SETTINGS_ADMIN_VALUES_ROLE_ADMIN")})))},o.prototype.onRoleChange=function(){"superadmin"===this.attrRole?this.modelCopy.attributes.is_super=!0:(this.modelCopy.attributes.is_super=!1,this.modelCopy.attributes.role=this.attrRole),this.updatePermissions(),this.resetEnabledPermissions(this.model)},o.prototype.resetEnabledPermissions=function(t){var e=this;this.currentSitePermissions=(t.get("permissions")||[]).reduce(function(t,e){return t[e]=!0,t},{}),this.currentSuperSitePermissions=(t.get("super_site_permissions")||[]).reduce(function(t,e){return t[e]=!0,t},{}),!this.isEditState()&&Object.keys(this.PERMISSIONS).forEach(function(t){var i=e.PERMISSIONS[t];-1!==(i.enabledByDefaultFor||[]).indexOf(e.attrRole)&&("super_site"==i.level?e.currentSuperSitePermissions[t]=!0:e.currentSitePermissions[t]=!0)})},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.prototype.updatePermissions=function(){var t=this,e=[];Object.keys(this.PERMISSIONS).forEach(function(t){e.push(angular.extend({name:t},this.PERMISSIONS[t]))}.bind(this));var i=function(e){return t.isAdvancedFeaturesEnabled()||e.visibleForAdvancedFeaturesDisabled};this.sitePermissions=e.filter(function(e){return"site"===e.level&&-1!==e.roles.indexOf(t.attrRole)}).filter(i),this.superSitePermissions=e.filter(function(e){return"super_site"===e.level&&-1!==e.roles.indexOf(t.attrRole)}).filter(i)},o.$inject=["$q","$stateParams","$translate","heyToasts","account","admins","adminsOverview","AdminOtherSiteFilter","preferences","settings","modelDivergence","CREDENTIALS_SETTINGS","PERMISSIONS","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("AdminFormController",o)},{}],87:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiAdminForm",["SimpleFormDirective",function(e){return new e("admin",t("./adminForm.pug")())}])},{"./adminForm.pug":88}],88:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="adminFormCtrl.form" ng-class="{    \'appForm--dark\': adminFormCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': adminFormCtrl.showValidation,    \'is-validation-hidden\': !adminFormCtrl.showValidation  }" ng-submit="adminFormCtrl.form.$valid &amp;&amp; adminFormCtrl.save().then(onSubmit)"><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><unifi-config-changed unifi-config-changed-on-reset="adminFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="adminFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="adminFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="adminFormCtrl.form.$error.divergent"></unifi-config-changed><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="{{\'SETTINGS_ADMIN_SECTION_\' + adminFormCtrl.getCurrentState() | toTranslationKey}}" translate-values="{adminName: adminFormCtrl.model.attributes.name}"></div><div class="appRow" ng-if="adminFormCtrl.isSuperAdmin() &amp;&amp; !adminFormCtrl.isEditState()"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ADMIN_LABEL_INVITE"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy" ng-repeat="addAction in [\'invite\', \'create\', \'invite_existing\']"><input type="radio" name="addAction" id="addAction_{{addAction}}" ng-model="adminFormCtrl.addAction" ng-value="addAction" ng-change="adminFormCtrl.onAddActionChange()"><label for="addAction_{{addAction}}" translate="{{\'SETTINGS_ADMIN_VALUES_ADD_BY_\' + addAction | toTranslationKey}}"></label></div></div></div><div class="appRow" ng-show="!adminFormCtrl.isInviteExistingState()"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ADMIN_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="adminName" ng-model="adminFormCtrl.modelCopy.attributes.name" ng-model-master="adminFormCtrl.model.attributes.name" ng-pattern="adminFormCtrl.addAction === \'invite\' ? \'\' : adminFormCtrl.patterns.accountName" ng-required="!adminFormCtrl.isInviteExistingState()" ng-maxlength="adminFormCtrl.CREDENTIALS_SETTINGS.MAX_ADMIN_NAME_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="adminFormCtrl.form.adminName.$error.pattern" translate="VALIDATION_HINT_ADMIN_NAME"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="adminFormCtrl.form.adminName.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{ max: adminFormCtrl.CREDENTIALS_SETTINGS.MAX_ADMIN_NAME_LENGTH }"></div></div></div><div class="appRow" ng-show="adminFormCtrl.isInviteExistingState()"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ADMIN_LABEL_SELECT_ADMIN"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-select-simple-dropdown-list unifi-select-simple-dropdown-list-collection="adminFormCtrl.adminsOverview.repository.collection" unifi-select-simple-dropdown-list-selected-model="adminFormCtrl.existingAdmin" unifi-select-simple-dropdown-list-render-label="adminFormCtrl.existingAdmin.get(\'name\')" unifi-select-simple-dropdown-list-row-template="\'simpleAttributes\'" unifi-select-simple-dropdown-list-row-config="[\'name\']" unifi-select-simple-dropdown-list-searchable-attributes="[\'name\']" unifi-select-simple-dropdown-list-default-sort-by="\'name\'" unifi-select-simple-dropdown-list-default-sort-desc="false" unifi-select-simple-dropdown-list-search-placeholder="\'COMMON_SELECT_ADMIN_DROPDOWN_SEARCH_PLACEHOLDER\'" unifi-select-simple-dropdown-list-empty-table-notice="\'COMMON_SELECT_ADMIN_DROPDOWN_TABLE_EMPTY\'" unifi-select-simple-dropdown-list-is-cozy="true" unifi-select-simple-dropdown-list-is-pagination-optional="true" unifi-select-simple-dropdown-list-local-state="true" unifi-select-simple-dropdown-list-local-state-key="existingAdmins" unifi-select-simple-dropdown-list-rows-per-page="5" unifi-select-simple-dropdown-list-hide-empty-notice="true" unifi-select-simple-dropdown-list-no-clear="false" unifi-select-simple-dropdown-list-supplemental-filter="adminFormCtrl.adminOtherSiteFilter.test(model)" unifi-select-simple-dropdown-list-is-dark="adminFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-select-simple-dropdown-list-is-required="adminFormCtrl.isInviteExistingState()"></unifi-select-simple-dropdown-list></div></div><div class="appRow" ng-show="adminFormCtrl.isCreateState() || adminFormCtrl.isEditState()"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ADMIN_LABEL_PASSWORD"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="password" name="adminP" ng-model="adminFormCtrl.modelCopy.attributes.x_password" ng-model-master="adminFormCtrl.model.attributes.x_password" ng-required="adminFormCtrl.isCreateState()" ng-maxlength="adminFormCtrl.CREDENTIALS_SETTINGS.MAX_ADMIN_PASSWORD_LENGTH"><div class="appInputFeedback appInputFeedback--danger" ng-show="adminFormCtrl.form.adminP.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{ max: adminFormCtrl.CREDENTIALS_SETTINGS.MAX_ADMIN_PASSWORD_LENGTH }"></div></div><div class="appInputGroup appInputGroup--cozy" ng-show="adminFormCtrl.isCreateState()"><input type="checkbox" name="adminRequiresNewP" id="adminRequiresNewPassword" ng-model="adminFormCtrl.modelCopy.attributes.requires_new_password" ng-model-master="adminFormCtrl.model.attributes.requires_new_password"><label for="adminRequiresNewPassword" translate="SETTINGS_ADMIN_LABEL_PASSWORD_REQUIRES_NEW"></label></div></div></div><div class="appRow" ng-if="!adminFormCtrl.isInviteExistingState()"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ADMIN_LABEL_EMAIL"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="email" name="adminEmail" ng-model="adminFormCtrl.modelCopy.attributes.email" ng-model-master="adminFormCtrl.model.attributes.email" ng-pattern="adminFormCtrl.patterns.email" ng-required="adminFormCtrl.isInviteState() || adminFormCtrl.model.attributes.email"></div></div><div class="appRow" ng-show="adminFormCtrl.isInviteState()"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ADMIN_LABEL_SDN"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="inviteToSdn" id="inviteToSdn" ng-model="adminFormCtrl.modelCopy.attributes.for_sso" ng-model-master="adminFormCtrl.model.attributes.for_sso"><label for="inviteToSdn" translate="SETTINGS_ADMIN_VALUES_SDN"></label><unifi-tooltip><content translate="SETTINGS_ADMIN_TOOLTIP_SDN"></content></unifi-tooltip></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ADMIN_LABEL_ROLE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select class="select--full" name="adminRole" ng-model="adminFormCtrl.attrRole" ng-options="opt.id as opt.translationKey | translate for opt in adminFormCtrl.roleOptions | filter:{visible: true}" ng-change="adminFormCtrl.onRoleChange()"></select></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="adminFormCtrl.model.attributes.is_super &amp;&amp; !adminFormCtrl.modelCopy.attributes.is_super" ng-class="{\'appInfoBox--dark\': adminFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body" translate="SETTINGS_ADMIN_HELP_ROLE_REVOKE_SUPER_ADMIN" translate-values="{adminName: adminFormCtrl.model.attributes.name}"></div></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy verticalRhythmTop--cozy" ng-if="!adminFormCtrl.model.attributes.is_super &amp;&amp; adminFormCtrl.modelCopy.attributes.is_super" ng-class="{\'appInfoBox--dark\': adminFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body" translate="SETTINGS_ADMIN_HELP_ROLE_GRANT_SUPER_ADMIN"></div></div></div></div></div><div class="appRow" ng-if="adminFormCtrl.isEditState()"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ADMIN_LABEL_EMAIL_ALERT"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" id="emailAlertEnabled" ng-model="adminFormCtrl.modelCopy.attributes.email_alert_enabled" ng-model-master="adminFormCtrl.model.attributes.email_alert_enabled"><label for="emailAlertEnabled" translate="SETTINGS_ADMIN_VALUES_EMAIL_ALERT_ENABLED"></label></div><div class="appInputGroup appInputGroup--cozy" ng-if="adminFormCtrl.isEditState()" ng-show="adminFormCtrl.modelCopy.attributes.email_alert_enabled"><input type="checkbox" id="emailAlertGroupingEnabled" ng-model="adminFormCtrl.modelCopy.attributes.email_alert_grouping_enabled" ng-model-master="adminFormCtrl.model.attributes.email_alert_grouping_enabled"><label for="emailAlertGroupingEnabled"><span translate="SETTINGS_ADMIN_VALUES_EMAIL_ALERT_GROUPING_ENABLED_1"></span><input class="input--smallNumber input--inSentence" type="number" min="1" max="3600" id="emailAlertGroupingDelay" ng-model="adminFormCtrl.modelCopy.attributes.email_alert_grouping_delay" ng-model-master="adminFormCtrl.model.attributes.email_alert_grouping_delay"'+n("required",!0,!0,!0)+'><span translate="SETTINGS_ADMIN_VALUES_EMAIL_ALERT_GROUPING_ENABLED_2_IN_SECONDS"></span></label><unifi-tooltip><content translate="SETTINGS_ADMIN_VALUES_EMAIL_ALERT_GROUPING_ENABLED_TOOLTIP"></content></unifi-tooltip></div></div></div><div class="appRow" ng-if="adminFormCtrl.attrRole !== \'superadmin\' &amp;&amp; adminFormCtrl.sitePermissions.length &gt; 0"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ADMIN_LABEL_PERMISSIONS"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy" ng-repeat="permission in adminFormCtrl.sitePermissions"><input type="checkbox" id="{{\'site_permissions_\' + permission.name}}" ng-model="adminFormCtrl.currentSitePermissions[permission.name]"><label for="{{\'site_permissions_\' + permission.name}}" translate="{{permission.translationKey}}"></label></div></div></div><div class="appRow" ng-if="adminFormCtrl.isSuperAdmin() &amp;&amp; adminFormCtrl.attrRole !== \'superadmin\' &amp;&amp; adminFormCtrl.superSitePermissions.length &gt; 0"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ADMIN_LABEL_GLOBAL_PERMISSIONS"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy" ng-repeat="permission in adminFormCtrl.superSitePermissions"><input type="checkbox" id="{{\'super_site_permissions_\' + permission.name}}" ng-model="adminFormCtrl.currentSuperSitePermissions[permission.name]"><label for="{{\'super_site_permissions_\' + permission.name}}" translate="{{permission.translationKey}}"></label></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': adminFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveAdmin" ng-if="!isReadOnly" ng-click="adminFormCtrl.showValidation = true" busy-toggle="adminFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']"><span>{{\'SETTINGS_ADMIN_ACTIONS_\' + adminFormCtrl.getCurrentState() | toTranslationKey | translate}}</span></button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="adminFormCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],89:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("AdminListController",["$q","$translate","heyToasts","frame","BaseListController","account","admins","adminsComparator","preferences","editAccount","siteAdminUtils",function(t,e,i,o,r,a,s,l,c,u,d){return new(function(e){function p(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return t.preferences=c,t.siteAdminUtils=d,t.comparator=l,t.userId=a.repository.model.id,t.defaultSortBy="name",t.isRemoving={},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(p,r),n(p,[{key:"getCollection",value:function(){return s.repository.collection}},{key:"isSuperAdmin",value:function(){return a.isSuperAdmin()}},{key:"editSelf",value:function(){u.editAccount()}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}},{key:"remove",value:function(e){var n=this;return o.show("confirmRemoveAdmin",{model:function(){return e}}).then(function(o){return n.isRemoving[e.id]=!0,(o.removeSuperSitePermissions&&n.isSuperAdmin()&&e.get("is_verified")?s.revokeSuperAdmin(e).then(function(t){return i.pushSuccess(t),!0}):t.when()).then(function(){return s.revokeAdmin(e)}).then(function(t){return i.pushSuccess(t),!0}).catch(function(t){return i.pushError(t),n.isRemoving[e.id]=!1,!1})})}},{key:"invite",value:function(t){var e=this;return this.isInviting=t.id,s.inviteAdmin(t).then(function(t){return i.pushSuccess(t),!0}).catch(function(t){return i.pushError(t),e.isInviting=!1,!1})}}]),p}())}])},{}],90:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiAdminList",["ListDirective",function(e){return new e("admin",t("./adminList.pug")(),{onEdit:"&unifiAdminListOnEdit"})}])},{"./adminList.pug":91}],91:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div><table class="appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="adminsTable" collection-view-sort="adminListCtrl.view" ng-class="{      \'appTable--dark\': adminListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="adminName" collection-view-sort-by="name"><span translate="SETTINGS_ADMIN_TABLE_HEADER_NAME"></span></th><th class="adminEmail" collection-view-sort-by="email"><span translate="SETTINGS_ADMIN_TABLE_HEADER_EMAIL"></span></th><th class="adminVerified" collection-view-sort-by="is_verified"><span translate="SETTINGS_ADMIN_TABLE_HEADER_VERIFIED"></span></th><th class="adminRole" collection-view-sort-by="role"><span translate="SETTINGS_ADMIN_TABLE_HEADER_ROLE"></span></th><th class="adminPermissions"><span translate="SETTINGS_ADMIN_TABLE_HEADER_PERMISSIONS"></span></th><th class="adminActions"><span translate="SETTINGS_ADMIN_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in adminListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="adminName">{{::model.get(\'name\') || (\'SETTINGS_ADMIN_TABLE_FLAGS_UNCONFIGURED\' | translate)}}</td><td class="adminEmail">{{::model.get(\'email\')}}</td><td class="adminVerified" ng-bind-html="model.get(\'is_verified\') | enabledIcon"></td><td class="adminRole">{{adminListCtrl.siteAdminUtils.getRoleTranslationKey(model) | translate}}</td><td class="adminPermissions"><span class="appBadge appBadge--success inlineBlock" ng-if="model.get(\'permissions\').indexOf(\'API_DEVICE_ADOPT\') !== -1 || model.get(\'role\') === \'admin\'">{{\'SETTINGS_ADMIN_TABLE_VALUES_PERMISSIONS_DEVICE_ADOPT\' | translate}}</span><span class="appBadge appBadge--success inlineBlock" ng-if="model.get(\'permissions\').indexOf(\'API_DEVICE_RESTART\') !== -1 || model.get(\'role\') === \'admin\'">{{\'SETTINGS_ADMIN_TABLE_VALUES_PERMISSIONS_DEVICE_RESTART\' | translate}}</span><span class="appBadge appBadge--success inlineBlock" ng-if="model.get(\'super_site_permissions\') &amp;&amp; model.get(\'super_site_permissions\').indexOf(\'API_WIDGET_OS_STATS\') !== -1">{{\'SETTINGS_ADMIN_TABLE_VALUES_PERMISSIONS_OS_STATS\' | translate}}</span></td><td class="adminActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-if="adminListCtrl.isSuperAdmin() &amp;&amp; adminListCtrl.userId !== model.id" ng-disabled="!model.get(\'is_verified\')" ng-click="adminListCtrl.edit(model)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-if="adminListCtrl.userId === model.id" ng-click="adminListCtrl.editSelf()"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-if="adminListCtrl.userId !== model.id &amp;&amp; !model.get(\'is_super\')" ng-click="adminListCtrl.remove(model)" ng-disabled="adminListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-if="adminListCtrl.userId !== model.id &amp;&amp; !model.get(\'is_super\') &amp;&amp; !model.get(\'is_verified\') &amp;&amp; model.get(\'role\') !== \'hotspot\'" ng-click="adminListCtrl.invite(model)"><span class="button__icon icon ubnt-icon--email2"></span><span translate="SETTINGS_ADMIN_ACTIONS_REINVITE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!adminListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': adminListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_ADMIN_TABLE_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":23}],92:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("AlertsCalendarController",["alerts","moment",function(t,e){return new(function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.showArchived=t.repositories.alerts.collection.getWithArchived(),this.calendarDate=e(),this.calendarLayout="list",this.filterPeriod="",this.filterLevel="",this.filterLevelTranslationKeys={"":"CALENDAR_VIEW_LABEL_LEVEL_ALL",danger:"CALENDAR_VIEW_LABEL_LEVEL_DANGER",warning:"CALENDAR_VIEW_LABEL_LEVEL_WARNING"}}return n(i,[{key:"getCollection",value:function(){return t.repositories.alerts.collection}},{key:"toggleArchived",value:function(){return this.showArchived=!this.showArchived,this.getCollection().setWithArchived(this.showArchived),t.repositories.alerts.refresh({reset:!0})}},{key:"showMoreAlerts",value:function(){var e=this;return this.isFetchingMore=!0,t.repositories.alerts.fetchMore().finally(function(){e.isFetchingMore=!1})}},{key:"hasMoreAlerts",value:function(){return this.getCollection().length<this.getTotalRows()}},{key:"getTotalRows",value:function(){return this.getCollection().getTotalAlerts()}},{key:"isAlertsLoading",value:function(){return this.getCollection().isLoading}},{key:"setCalendarLayout",value:function(t,e,i){e&&(this.calendarDate=e),this.filterPeriod=i||"",this.calendarLayout=t}},{key:"getCalendarLayout",value:function(){return this.calendarLayout}},{key:"isCalendarLayout",value:function(t){return this.calendarLayout===t}}]),i}())}])},{}],93:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiAlertsCalendar",{controller:"AlertsCalendarController",controllerAs:"alertsCalendarCtrl",template:t("./alertsCalendar.pug")()})},{"./alertsCalendar.pug":94}],94:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiCalendarView"><div class="appActionBar appActionBar--cozy appActionBar--multiline appActionBar--fixedRight appActionBar--dark appActionBar--transparent noHorizontalPadding verticalRhythm--cozy noBorder"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilter"><unifi-search class="fullWidth" unifi-search-query="alertsCalendarCtrl.filterSearchQuery" unifi-search-is-cozy="true" unifi-search-is-dark="true" unifi-search-is-full-width="true"></unifi-search></div></div><div class="appActionBar__right"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" ng-repeat="view in ::[\'list\', \'day\', \'week\', \'month\']" ng-click="alertsCalendarCtrl.setCalendarLayout(view)" ng-class="{\'is-button-selected\': alertsCalendarCtrl.isCalendarLayout(view) &amp;&amp; !alertsCalendarCtrl.filterPeriod}"><span class="button__icon icon" ng-class="{              \'ubnt-icon--preferences\': view === \'list\',              \'ubnt-icon--calendar-day\': view === \'day\',              \'ubnt-icon--calendar-week\': view === \'week\',              \'ubnt-icon--calendar-month\': view === \'month\'            }"></span></button></div></div><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--dark appMainButtonGroup--cozy"><li class="button appMainButton appMainButton--cozy" ng-click="alertsCalendarCtrl.toggleArchived()" ng-class="{\'is-button-selected\': alertsCalendarCtrl.showArchived}" translate="CALENDAR_VIEW_ACTIONS_SHOW_ARCHIVED_ALERTS"></li></ul></div><div class="appActionBarFilter"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--dark appMainButtonGroup--cozy"><li class="button appMainButton appMainButton--cozy" ng-repeat="level in ::[\'\', \'danger\', \'warning\']" ng-click="alertsCalendarCtrl.filterLevel = level" ng-class="{\'is-button-selected\': alertsCalendarCtrl.filterLevel === level}"><div class="statusBall appStatusBall appStatusBall--legend" ng-if="level !== \'\'" ng-class="{                    \'appStatusBall--danger\': level === \'danger\',                    \'appStatusBall--warning\': level === \'warning\'                  }"></div><span ng-class="{\'visible--smUp\': level !== \'\'}" translate="{{alertsCalendarCtrl.filterLevelTranslationKeys[level]}}"></span></li></ul></div></div></div></div></div><div ng-if="alertsCalendarCtrl.getCollection().length &gt; 0" ng-switch="alertsCalendarCtrl.getCalendarLayout()"><unifi-calendar-view-list ng-switch-when="list" unifi-calendar-view-list-is-alerts-view="true" unifi-calendar-view-list-collection="alertsCalendarCtrl.getCollection()" unifi-calendar-view-list-calendar-date="alertsCalendarCtrl.calendarDate" unifi-calendar-view-list-filter-level="alertsCalendarCtrl.filterLevel" unifi-calendar-view-list-filter-period="alertsCalendarCtrl.filterPeriod" unifi-calendar-view-list-filter-search-query="alertsCalendarCtrl.filterSearchQuery" unifi-calendar-view-list-local-state="true" unifi-calendar-view-list-local-state-key="\'alerts\'"></unifi-calendar-view-list><unifi-calendar-view-day ng-switch-when="day" unifi-calendar-view-day-is-alerts-view="true" unifi-calendar-view-day-collection="alertsCalendarCtrl.getCollection()" unifi-calendar-view-day-calendar-date="alertsCalendarCtrl.calendarDate" unifi-calendar-view-day-filter-level="alertsCalendarCtrl.filterLevel" unifi-calendar-view-day-filter-search-query="alertsCalendarCtrl.filterSearchQuery" unifi-calendar-view-day-set-calendar-layout="alertsCalendarCtrl.setCalendarLayout(layout, date, period)"></unifi-calendar-view-day><unifi-calendar-view-week ng-switch-when="week" unifi-calendar-view-week-is-alerts-view="true" unifi-calendar-view-week-collection="alertsCalendarCtrl.getCollection()" unifi-calendar-view-week-calendar-date="alertsCalendarCtrl.calendarDate" unifi-calendar-view-week-filter-level="alertsCalendarCtrl.filterLevel" unifi-calendar-view-week-filter-search-query="alertsCalendarCtrl.filterSearchQuery" unifi-calendar-view-week-set-calendar-layout="alertsCalendarCtrl.setCalendarLayout(layout, date, period)"></unifi-calendar-view-week><unifi-calendar-view-month ng-switch-when="month" unifi-calendar-view-month-collection="alertsCalendarCtrl.getCollection()" unifi-calendar-view-month-calendar-date="alertsCalendarCtrl.calendarDate" unifi-calendar-view-month-filter-level="alertsCalendarCtrl.filterLevel" unifi-calendar-view-month-filter-search-query="alertsCalendarCtrl.filterSearchQuery" unifi-calendar-view-month-set-calendar-layout="alertsCalendarCtrl.setCalendarLayout(layout, date, period)"></unifi-calendar-view-month></div><div class="unifiCalendarView__busy" ng-if="alertsCalendarCtrl.getCollection().length === 0 &amp;&amp; alertsCalendarCtrl.isAlertsLoading()"><div class="appSpinner"></div></div><div class="appInfoBox appInfoBox--cozy appInfoBox--dark appInfoBox--noBorder verticalRhythm--comfy verticalRhythmTop--comfy" ng-if="alertsCalendarCtrl.getCollection().length === 0 &amp;&amp; !alertsCalendarCtrl.isAlertsLoading()"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="CALENDAR_VIEW_EMPTY_ALERTS_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="CALENDAR_VIEW_EMPTY_NO_ALERTS"></p></div></div></div><div class="unifiCalendarView__showMore appType--quiet verticalRhythmTop--cozy" ng-if="alertsCalendarCtrl.hasMoreAlerts()"><div class="inlineBlock horizontalRhythm--condensed" translate="CALENDAR_VIEW_FETCH_MORE_LABEL" translate-values="{        \'currentLength\': alertsCalendarCtrl.getCollection().length,        \'totalLength\': alertsCalendarCtrl.getTotalRows()      }"></div><button class="appTextButton" ng-click="alertsCalendarCtrl.showMoreAlerts()" busy-toggle="alertsCalendarCtrl.isFetchingMore" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" translate="CALENDAR_VIEW_ACTIONS_FETCH_MORE"></button></div></div>'}},{"pug-runtime":23}],95:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var o=t("../../controllers/AlertsLinkController");angular.module("app-unifi-manage").controller("AlertsSideNavController",["alerts","alertFrameUtils",function(t,e){return new(function(i){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,o),n(r,[{key:"hasUnreadAlerts",value:function(){return t.repositories.unread.model.get("count")>0}}]),r}())}])},{"../../controllers/AlertsLinkController":795}],96:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiAlertsSideNav",[function(){return{controller:"AlertsSideNavController",controllerAs:"alertsSideNavCtrl",replace:!0,restrict:"E",template:t("./alertsSideNav.pug")()}}])},{"./alertsSideNav.pug":97}],97:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="ubntNavigation__item" id="alertsLink" ng-class="{\'ubntNavigation__item--withNotification\': alertsSideNavCtrl.hasUnreadAlerts()}" alt="{{::\'COMMON_NAV_ALERTS\' | translate}}" role="link"><div class="appGlobalSideNav__itemTrigger" ng-click="alertsSideNavCtrl.toggleAlerts()"></div><aura-icon aura-icon="\'notifications\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--navigation\']"></aura-icon><div class="ubntTooltip ubntTooltip--navigation" ng-if="!alertsSideNavCtrl.isAlertsOpen()" translate="COMMON_NAV_ALERTS"></div><div class="appAccessibilityDescription" translate="COMMON_NAV_ALERTS"></div><div class="appGlobalSideNavPopover appGlobalSideNavPopover--overlay appGlobalSideNavPopover--overlayAura" side-nav-popover-layout="alertsLayout" ng-init="alertsFullScreen = false" ng-class="{\'appGlobalSideNavPopover--fullscreen\': alertsFullScreen}"><div class="appGlobalSideNavPopover__fullscreenIcon visible--smUp" ng-click="alertsFullScreen = !alertsFullScreen"><div class="icon ubnt-icon--fullscreen"></div></div><div class="appGlobalSideNavPopover__inner"><div'+n("side-nav-popover-content",!0,!0,!0)+"></div><div"+n("side-nav-popover-placeholder",!0,!0,!0)+"></div></div></div></div>"};var o=/["&<>]/},{"pug-runtime":23}],98:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("AnomaliesModuleController",["anomalies","BaseModuleController","clients","devices","moduleControllerMixin","moment","preferences","propertyPanel","resolveRepositoryGroupControllerMixin","dateUtils","timeBasedGraphControllerMixin","DASHBOARD_SHARED_FILTERS","DATE_RANGE_PRESETS",function(t,e,i,r,a,s,l,c,u,d,p,f,h){return new(function(a){function _(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return e.anomalies=t,e.clients=i,e.devices=r,e.macs=[],e.moment=s,e.propertyPanel=c,e.dateUtils=d,e.listeners={},e.macWhiteList=[],e.repositories=["anomalies","clients","devices"],e.use24HourTime=l.model.get("use24HourTime"),e.showAll=!1,e.limit=25,e.icon="ubnt-icon--check-2",p(e),u(e),e.collectData(),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(_,e),n(_,[{key:"init",value:function(){this.listeners.anomalies=this.anomalies.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),this.listeners.devices=this.devices.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),this.updateTimeRange(),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"init",this).call(this)}},{key:"destroy",value:function(){var t=this;o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"destroy",this).call(this),this.unregister(),Object.keys(this.listeners).forEach(function(e){t.listeners[e].stopListening()})}},{key:"itemClicked",value:function(t){var e=this.devices.repository.collection.get(t)||this.clients.repository.collection.get(t);this.propertyPanel.addItem(e,[{state:"activeTab",value:"details",overwrite:!0}])}},{key:"collectData",value:function(){var t=this;if(this.items=[],this.anomalies.repository.collection.length){this.macs=[];var e=this.anomalies.repository.collection.granularity.grain;this.anomalies.repository.collection.models.map(function(t){return t.attributes}).filter(function(e){return!(!e.mac||t.macWhiteList.length&&-1===t.macWhiteList.indexOf(e.mac))}).forEach(function(n){-1===t.macs.indexOf(n.mac)&&t.macs.push(n.mac),n.timestamps.sort(function(t,e){return t-e}).reduce(function(t,i){if(i-t.previousTimestamp>e)t.times.push({timestamp:i,duration:e});else{var n=t.times.slice(-1).pop();n.timestamp=i,n.duration+=e}return t.previousTimestamp=i,t},{previousTimestamp:0,times:[]}).times.forEach(function(o){var a={anomaly:n.anomaly,mac:n.mac,time:o.timestamp};o.duration>e&&(a.duration=o.duration),a.model=r.repository.collection.get(a.mac)||i.repository.collection.get(a.mac);var s=[a.anomaly,a.mac,a.time,a.duration];a.model&&s.push[a.model.getDisplayName()],a.key=s.join("-"),t.items.push(a)})}),this.items.sort(function(t,e){return e.time-t.time})}}},{key:"updateTimeRange",value:function(t){var e=this.getFilteredTimeRange()||this.getDefaultTimeRange();e&&(this.anomalies.repository.collection.setDateInterval.apply(this.anomalies.repository.collection,e),this.anomalies.repository.collection.setGranularity(this.getGranularity(e[0],e[1],!0)),t&&this.anomalies.repository.refresh())}},{key:"getFilteredTimeRange",value:function(){return this.sharedFilters&&this.sharedFilters[f.STATISTICS_TIME_RANGE]&&this.sharedFilters[f.STATISTICS_TIME_RANGE].getFilteredTimeRange()}},{key:"getDefaultTimeRange",value:function(){return[h.LAST_24H.start,h.LAST_24H.end]}},{key:"getFilteredDevices",value:function(){return this.sharedFilters&&this.sharedFilters[f.DEVICE_ACCESS_POINTS]}},{key:"onFilteredDevicesChange",value:function(){var t=this.getFilteredDevices().get("destination").models;t&&(this.macWhiteList=t.map(function(t){return t.id})),this.collectData()}}]),_}())}])},{}],99:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiAnomaliesModule",["deviceFilterWatchDirectiveMixin","ModuleDirective",function(e,i){var n=new i("anomalies",t("./anomaliesModule.pug")());return n.addMixin(e),n.addMixin({init:function(t,e,i,n){t.$watchCollection(n.getFilteredTimeRange.bind(n),function(){n.updateTimeRange(!0)})}}),n}])},{"./anomaliesModule.pug":100}],100:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="module module--anomalies unifiAnomaliesModule"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle" translate="{{::anomaliesModuleCtrl.definition.get(\'translationKey\')}}"></div></div><unifi-loading-module unifi-loading-module-is-loading="anomaliesModuleCtrl.isLoading" unifi-loading-module-failed="anomaliesModuleCtrl.failedToLoad" unifi-loading-module-retry="anomaliesModuleCtrl.retry()" unifi-loading-module-type="anomaliesModuleCtrl.definition.get(\'type\')" unifi-loading-module-layout="anomaliesModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div class="positionRelative" ng-if="!anomaliesModuleCtrl.isLoading"><div class="moduleContentScrollable moduleContentScrollable--withFade" ng-if="anomaliesModuleCtrl.items.length" ng-style="{\'height\': anomaliesModuleCtrl.config.contentHeight ? anomaliesModuleCtrl.config.contentHeight : undefined}"><div class="unifiAnomaliesModuleHeader"><div class="unifiAnomaliesModuleHeader__count">{{anomaliesModuleCtrl.items.length}}</div><div class="unifiAnomaliesModuleHeader__label" translate="DASHBOARD_MODULE_ANOMALIES_HEADER" translate-values="{count: anomaliesModuleCtrl.macs.length}"></div></div><ul class="verticalRhythm--condensed"><li class="unifiAnomaliesModuleList" ng-repeat="              item in anomaliesModuleCtrl.items              | limitTo: anomaliesModuleCtrl.showAll ? undefined : anomaliesModuleCtrl.limit              track by item.key            " unifi-bind-notifier="{              model_refresh: item.key,              model_refresh: anomaliesModuleCtrl.dateUtils.getPreferredTimezone()              }" ng-switch=":model_refresh: anomaliesModuleCtrl.anomalies.repository.collection.granularity.url"><div class="unifiAnomaliesModuleList__date" ng-switch-when="daily">{{:model_refresh: item.time | moment: \'format\': \'Do MMM\'}}</div><div class="unifiAnomaliesModuleList__date" ng-switch-when="monthly">{{:model_refresh: item.time | moment: \'format\': \'MMMM\'}}</div><div class="unifiAnomaliesModuleList__date"'+(i="ng-switch-default",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'>{{:model_refresh: item.time | moment: \'format\': anomaliesModuleCtrl.use24HourTime ? \'H:mm\' : \'h:mma\' : anomaliesModuleCtrl.dateUtils.getPreferredTimezone()}}</div><div class="unifiAnomaliesModuleList__text clickable" ng-click=":model_refresh: anomaliesModuleCtrl.itemClicked(item.mac)"><span class="appDisplaySpaceAfter" ng-bind-html=":model_refresh: \'DASHBOARD_MODULE_ANOMALIES_\' + item.anomaly | translate:{name: (item.model ? item.model.getDisplayName() : item.mac), mac: item.mac}"></span><span ng-if=":model_refresh: item.duration">{{:model_refresh: \'DASHBOARD_MODULE_ANOMALIES_DURATION\' | translate:{duration: anomaliesModuleCtrl.moment.duration(item.duration).format(\'h [hours], m [minutes]\', { useSignificantDigits: true, precision: 3})} }}</span></div></li><li class="unifiAnomaliesModuleList stackCenter" ng-if="!anomaliesModuleCtrl.showAll &amp;&amp; (anomaliesModuleCtrl.items.length &gt; anomaliesModuleCtrl.limit)"><div class="appLink verticalRhythmPaddingHalf" ng-click="anomaliesModuleCtrl.showAll = true" translate="DASHBOARD_MODULE_ANOMALIES_SHOW_ALL"></div></li></ul></div></div><unifi-unavailable-module ng-if="!anomaliesModuleCtrl.isLoading &amp;&amp; !anomaliesModuleCtrl.items.length" unifi-unavailable-module-icon="anomaliesModuleCtrl.icon" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_ANOMALIES_NO_DATA\' | toTranslationKey"></unifi-unavailable-module></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],101:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"wifi-anomalies",translationKey:"DASHBOARD_MODULE_DEFINITIONS_ANOMALIES",directive:"unifi-anomalies-module",preview:"images/dashboard/summary.png",type:"list",layout:"single",requirements:{deviceType:"uap"}}])}])},{}],102:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("ApStatisticsModuleController",["$q","$scope","$timeout","account","BaseModuleController","BaseCollectionRepository","binaryPrefix","DashboardStatsCollection","DataConverter","devices","moment","ReportCollection","dateUtils","timeBasedGraphControllerMixin","DASHBOARD_SHARED_FILTERS","DATE_RANGE_PRESETS","REPORT_GRANULARITY",function(t,e,i,o,r,a,s,l,c,u,d,p,f,h,_,m,g){return new(function(l){function v(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return h(t,!0),t.devices=u,t.moment=d,t.isInitializing=!0,t.isLoading=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(v,r),n(v,[{key:"$onInit",value:function(){var t=this;this.chartConfig={margin:{left:29,top:5,bottom:30,right:1},withSecondaryXAxis:!0,xProperty:"time",hideInfoBox:!0,xAxisPadding:0,xAxisTickSize:2,yAxisTicks:4,scatterPointRadius:8,initialYScaleDomain:[0,4],left:{interpolate:"curveMonotoneX",types:["area","scatter"],yProperty:[],continuous:!0,scatterPlotTransitionDuration:1e3,dataFilter:function(t,e,i){return angular.isNumber(this.getYProperty(t,e,i))}}},this.chartConfig.xScaleDomain=[],this.chartConfig.xAxisSecondaryFormat=function(e){return t.xAxisFormat(t.chartConfig.xAxisTickResolution,d(e).startOf("hour").valueOf())},this.data=[],this.timezone=f.getPreferredTimezone(),this.chartConfig.left.yAxisFormat=function(e){var i="retryRate"===t.definition.get("attrs").type?"%":"";return s.parse(e,"SI").toString()+i},"retryRate"===this.definition.get("attrs").type&&(this.chartConfig.left.domain=[0,100])}},{key:"getLegendRange",value:function(t){var e=void 0;if("retryRate"===this.definition.get("attrs").type){var i=[0,40,66,100];e=[i[t]+"",i[t+1]+"%"]}else{var n=this.chartConfig.left,o=n.maxValue,r=void 0===o?0:o,a=n.minValue,l=void 0===a?0:a,c=r-l;e=[l+Math.floor(t*c/3),l+Math.floor((t+1)*c/3)].map(function(t){var e=s.parse(t,"SI");return""+Math.round(e.value)+e.prefix})}return e}},{key:"init",value:function(){var i=this;switch(this.definition.get("attrs").type){case"retryRate":this.SUFFIX="_retries_rate";break;case"droppedPackets":this.SUFFIX="_tx_dropped"}this.chartConfig.scatterPointCss=function(t){if(i.isLoading)return"";if(t){var e=i.SUFFIX?Object.keys(t).find(function(t){return t.endsWith(i.SUFFIX)}):"airtime_avg";if("retryRate"===i.definition.get("attrs").type)return t[e]>66?"scatterPoint--high":t[e]>40?"scatterPoint--medium":"scatterPoint--low";var n=i.chartConfig.left.maxValue-i.chartConfig.left.minValue,o=Math.floor((t[e]-i.chartConfig.left.minValue)/n*3);return"scatterPoint--"+["low","medium","high"][Math.min(o,2)]}return"scatterPoint--low"},this.chartConfig.scatterPointTooltip=function(n,o,r,a){if(i.tooltipVisible=n,i.tooltipX=o,i.tooltipY=r,i.focusedData={},a){var s=Object.keys(a).find(function(t){return t.endsWith("tx_retries")}),l=Object.keys(a).find(function(t){return t.endsWith("tx_dropped")}),c=Object.keys(a).find(function(t){return t.endsWith("retries_rate")});i.focusedData.mac=i.SUFFIX&&(c||l)&&(c||l).replace(i.SUFFIX,""),i.focusedData.time=a.originalTime||a.time,i.focusedData.txRetries=s&&Math.round(a[s]),i.focusedData.retriesRate=s&&Number(a[c]).toFixed(2),i.focusedData.txDropped=l&&Math.round(a[l]),i.focusedData.airtimeAvg=a.airtime_avg&&Math.round(a.airtime_avg)}return e.$apply(),t.when()},this.updateDataConverter(),this.updateRepository(),this.resolve()}},{key:"updateDataConverter",value:function(){this.dataConverter=(new c).sortedBy("time").withBinaryNormalization(["time","tx_retries","tx_packets","tx_dropped","airtime_avg"],!0)}},{key:"updateRepository",value:function(){switch(this.definition.get("attrs").type){case"retryRate":this.repository?this.repository.collection.setType("ap"):this.repository=new a(new p("ap")),this.repository.collection.setAttrs(["time","tx_retries","tx_packets"]),this.repository.collection.setGranularity(g.HOURLY);break;case"droppedPackets":this.repository?this.repository.collection.setType("ap"):this.repository=new a(new p("ap")),this.repository.collection.setAttrs(["time","tx_dropped"]),this.repository.collection.setGranularity(g.HOURLY);break;case"airtime":this.repository?this.repository.collection.setType("site"):this.repository=new a(new p("site")),this.repository.collection.setAttrs(["time","airtime_avg"]),this.repository.collection.setGranularity(g.HOURLY)}}},{key:"updateTimeRange",value:function(){var t=this.getFilteredTimeRange()||this.getDefaultTimeRange();t&&(this.chartConfig.xAxisTickResolution=this.getTickResolution(t[0],t[1]),this.repository.collection.setDateInterval(t[0],t[1]),this.chartConfig.xScaleDomain=t,this.prepareXAxis(this.chartConfig),this.repository.collection.setGranularity(this.getGranularity(t[0],t[1],!0)),!this.isInitializing&&this.repository.refresh())}},{key:"resolve",value:function(){this.repository.register(),this.listener=this.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),o.repository.model.on("change",this.collectData,this),u.repository.registerAndFetch()}},{key:"unregister",value:function(){this.listener.stopListening(),o.repository.model.off("change",this.collectData,this),this.repository.unregister(),u.repository.unregister()}},{key:"isApAvailable",value:function(t){return t!==this.device&&t.isAdopted()&&t.isAp()}},{key:"changeDevices",value:function(t){"airtime"!==this.definition.get("attrs").type&&(this.repository.collection.setMacs(t),this.repository.refresh())}},{key:"onFilteredDevicesChange",value:function(){var t=this.getFilteredDevices().get("destination").models;if(t){var e=t.map(function(t){return t.id});this.changeDevices(e)}}},{key:"prepareFakeData",value:function(){var t=this,e=this.chartConfig.xAxisTickResolution,n=this.chartConfig.xScaleDomain,o=[];this.data=[];for(var r=function(i){var r="key_"+i;o.push(r);var a=new Array(Math.floor((n[1]-n[0])/e)).fill({}).map(function(t,o){return(t={time:n[0]+e*o+e*(i+1)/6})[r]=Math.round(35*Math.random()),t});t.data=t.data.concat(a)},a=0;a<5;a++)r(a);this.chartConfig.left.yProperty=o,this.isInitializing=!1,this.isLoading=!0,i(function(){t.repository.fetch()},2e3)}},{key:"collectData",value:function(){var t=this;if(this.isLoading=!1,this.data=this.dataConverter.process(this.repository.collection.toJSON()),this.SUFFIX){var e=this.data.reduce(function(t,e){return-1===t.indexOf(e.ap)&&t.push(e.ap),t},[]);this.chartConfig.left.yProperty=e.map(function(e){return e+t.SUFFIX}),this.data=this.data.map(function(i){var n=e.indexOf(i.ap)+1,o={originalTime:i.time,time:i.time-t.repository.collection.granularity.grain*n/(e.length+1)};if("retryRate"===t.definition.get("attrs").type){o[i.ap+"_tx_retries"]=i.tx_retries,o[i.ap+"_tx_packets"]=i.tx_packets;var r=Math.round(1e3*i.tx_retries/(i.tx_packets||1))/10;o[i.ap+"_retries_rate"]=Math.min(100,r)}else"droppedPackets"===t.definition.get("attrs").type&&(o[i.ap+"_tx_dropped"]=i.tx_dropped);return o}).filter(function(e){return e.time>t.repository.collection.getStart()})}else this.chartConfig.left.yProperty=["airtime_avg"],this.data=this.data.map(function(t){return{originalTime:t.time,time:t.time,airtime_avg:t.airtime_avg}}).filter(function(e){return e.time>t.repository.collection.getStart()});this.data.length?this.chartConfig.left.domain="retryRate"===this.definition.get("attrs").type?[0,100]:void 0:this.chartConfig.left.domain=this.chartConfig.initialYScaleDomain,this.units=this.dataConverter.units}},{key:"getFilteredDevices",value:function(){return this.sharedFilters&&this.sharedFilters[_.DEVICE_ACCESS_POINTS]}},{key:"getFilteredTimeRange",value:function(){return this.sharedFilters&&this.sharedFilters[_.STATISTICS_TIME_RANGE]&&this.sharedFilters[_.STATISTICS_TIME_RANGE].getFilteredTimeRange()}},{key:"getDefaultTimeRange",value:function(){return[m.LAST_24H.start,m.LAST_24H.end]}},{key:"destroy",value:function(){this.unregister()}}]),v}())}])},{}],103:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiApStatisticsModule",["deviceFilterWatchDirectiveMixin","ModuleDirective",function(e,i){var n=new i("apStatistics",t("./apStatisticsModule.pug")());return n.addMixin(e),n.addMixin({init:function(t,e,i,n){t.$watchCollection(n.getFilteredTimeRange.bind(n),function(){n.updateTimeRange(),!n.data.length&&n.prepareFakeData()})}}),n}])},{"./apStatisticsModule.pug":104}],104:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="module module--retryRate unifiRetryRateModule" ng-class="{    \'unifiRetryRateModule--isInitializing\' : apStatisticsModuleCtrl.isInitializing,    \'unifiRetryRateModule--isLoading\' : apStatisticsModuleCtrl.isLoading  }"><div class="moduleContent moduleContent--flexible"><div class="moduleHeader moduleHeader--withLineChart"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle" translate="{{apStatisticsModuleCtrl.definition.get(\'translationKey\')}}"></div><div class="modularSubHeading modularSubHeading--secondary moduleHeaderLegend" ng-switch="::apStatisticsModuleCtrl.definition.get(\'attrs\').type"><div class="moduleHeaderLegendItem"><div class="moduleHeaderLegendLabel noMarginLeft withColon" ng-if="::apStatisticsModuleCtrl.definition.get(\'attrs\').type === \'retryRate\'" translate="DASHBOARD_MODULE_AP_RETRY_RATE_LEGEND_LABEL"></div><div class="moduleHeaderLegendLabel noMarginLeft withColon" ng-if="::apStatisticsModuleCtrl.definition.get(\'attrs\').type === \'droppedPackets\'" translate="DASHBOARD_MODULE_AP_DROPPED_PACKETS_LEGEND_LABEL"></div><div class="moduleHeaderLegendLabel noMarginLeft withColon" ng-if="::apStatisticsModuleCtrl.definition.get(\'attrs\').type === \'airtime\'" translate="DASHBOARD_MODULE_AP_AIRTIME_AVG_LEGEND_LABEL"></div></div><div class="moduleHeaderLegendItem"><div class="statusBall appStatusBall appStatusBall--smash appStatusBall--positive"></div><div class="moduleHeaderLegendLabel"'+n("ng-switch-default",!0,!0,!0)+'>{{apStatisticsModuleCtrl.getLegendRange(0)[0]}} - {{apStatisticsModuleCtrl.getLegendRange(0)[1]}}</div><div class="moduleHeaderLegendLabel" ng-switch-when="airtime" translate="COMMON_VALUE_LOW"></div></div><div class="moduleHeaderLegendItem"><div class="statusBall appStatusBall appStatusBall--smash appStatusBall--warning"></div><div class="moduleHeaderLegendLabel"'+n("ng-switch-default",!0,!0,!0)+'>{{apStatisticsModuleCtrl.getLegendRange(1)[0]}} - {{apStatisticsModuleCtrl.getLegendRange(1)[1]}}</div><div class="moduleHeaderLegendLabel" ng-switch-when="airtime" translate="COMMON_VALUE_MEDIUM"></div></div><div class="moduleHeaderLegendItem"><div class="statusBall appStatusBall appStatusBall--smash appStatusBall--danger"></div><div class="moduleHeaderLegendLabel"'+n("ng-switch-default",!0,!0,!0)+'>{{apStatisticsModuleCtrl.getLegendRange(2)[0]}} - {{apStatisticsModuleCtrl.getLegendRange(2)[1]}}</div><div class="moduleHeaderLegendLabel" ng-switch-when="airtime" translate="COMMON_VALUE_HIGH"></div></div></div><div class="moduleHeaderForm moduleHeaderForm--search horizontalRhythmLeft--cozy" ng-if="!apStatisticsModuleCtrl.getFilteredDevices()"><unifi-select-device-dropdown-list unifi-select-device-dropdown-list-selected-model="apStatisticsModuleCtrl.device" unifi-select-device-dropdown-list-is-required="false" unifi-select-device-dropdown-list-device-filter="apStatisticsModuleCtrl.isApAvailable(model)" unifi-select-device-dropdown-list-is-cozy="true" unifi-select-device-dropdown-list-no-clear="false" unifi-select-device-dropdown-list-on-select="apStatisticsModuleCtrl.changeDevices(model &amp;&amp; [model.id])" unifi-select-device-dropdown-list-align-right="true"></unifi-select-device-dropdown-list></div></div><unifi-loading-module unifi-loading-module-loader="apStatisticsModuleCtrl.definition.get(\'loader\')" unifi-loading-module-failed="apStatisticsModuleCtrl.failedToLoad" unifi-loading-module-retry="apStatisticsModuleCtrl.retry()" unifi-loading-module-layout="apStatisticsModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div class="moduleContentStretched positionRelative" ng-class="{        \'noPointerEvents\': apStatisticsModuleCtrl.isInitializing || apStatisticsModuleCtrl.isLoading      }"><svg height="0" width="0"><defs><linearGradient id="retryRateGradient" x1="0" y1="0" x2="0" y2="100%" patternUnits="userSpaceOnUse"><stop offset="0%" stop-color="#0046cc" stop-opacity="0.5"></stop><stop offset="100%" stop-color="#ffffff" stop-opacity="0.1"></stop></linearGradient></defs></svg><unifi-line-chart unifi-line-chart-config="apStatisticsModuleCtrl.chartConfig" unifi-line-chart-data="apStatisticsModuleCtrl.data"></unifi-line-chart><div class="ubntTooltipContainer positionAbsolute ng-animatable" ng-if="apStatisticsModuleCtrl.tooltipVisible" ng-style="{\'left\': apStatisticsModuleCtrl.tooltipX + \'px\', \'top\': apStatisticsModuleCtrl.tooltipY + \'px\'}" style="--tooltip-width: 140px"><div class="ubntTooltip unifiDashboardTooltip"'+n("unifi-auto-position",!0,!0,!0)+' unifi-auto-position-vertical-lock="top"><div class="unifiDashboardTooltip__header truncate"><strong ng-if="::apStatisticsModuleCtrl.focusedData.mac">{{::apStatisticsModuleCtrl.devices.repository.collection.get(apStatisticsModuleCtrl.focusedData.mac).getDisplayName()}}</strong><div class="unweighted"> {{::apStatisticsModuleCtrl.moment(apStatisticsModuleCtrl.focusedData.time).valueOf() | statsTimeRange: apStatisticsModuleCtrl.repository.collection.granularity : true}}</div></div><dl class="appDescriptionList appDescriptionList--inline" ng-if="::apStatisticsModuleCtrl.focusedData.txRetries !== undefined"><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_TX_RETRIES"></dt><dd class="alignRight">{{::apStatisticsModuleCtrl.focusedData.txRetries| humanize}}</dd></div></dl><dl class="appDescriptionList appDescriptionList--inline" ng-if="::apStatisticsModuleCtrl.focusedData.retriesRate !== undefined"><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_RETRY_RATE"></dt><dd class="alignRight">{{::apStatisticsModuleCtrl.focusedData.retriesRate}}</dd></div></dl><dl class="appDescriptionList appDescriptionList--inline" ng-if="::apStatisticsModuleCtrl.focusedData.txDropped !== undefined"><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_DROPPED_PACKETS"></dt><dd class="alignRight">{{::apStatisticsModuleCtrl.focusedData.txDropped | humanize}}</dd></div></dl><dl class="appDescriptionList appDescriptionList--inline" ng-if="::apStatisticsModuleCtrl.focusedData.airtimeAvg !== undefined"><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_AIRTIME_AVG"></dt><dd class="alignRight">{{::apStatisticsModuleCtrl.focusedData.airtimeAvg}}</dd></div></dl></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],105:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){var e="unifi-ap-statistics-module";t.moduleDefinitions.add([{id:"ap-statistics|retry-rate",translationKey:"DASHBOARD_MODULE_DEFINITIONS_RETRY_RATE",directive:e,preview:"images/dashboard/dot-chart.png",layout:"full",attrs:{type:"retryRate"}},{id:"ap-statistics|dropped-packets",translationKey:"DASHBOARD_MODULE_DEFINITIONS_DROPPED_PACKETS",directive:e,preview:"images/dashboard/dot-chart.png",layout:"full",attrs:{type:"droppedPackets"}},{id:"ap-statistics|airtime",translationKey:"DASHBOARD_MODULE_DEFINITIONS_AIRTIME",directive:e,preview:"images/dashboard/dot-chart.png",layout:"full",attrs:{type:"airtime"}}])}])},{}],106:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiAppSwitcherContainer",["device","dynamicModules","UnifiAppSwitcherHost","UseWebrtc",function(e,i,n,o){return{template:t("./appSwitcherContainer.pug")(),link:function(t){t.url=n+"/?deviceId="+e.getActiveDevice(),t.loaded=!1,o&&i.load("react").then(function(){t.loaded=!0})}}}])},{"./appSwitcherContainer.pug":107}],107:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="horizontalRhythm" ng-if="loaded"><unifi-app-switcher class="unifiHeaderIcon" url="url" width="22" height="45"></unifi-app-switcher></div>'}},{"pug-runtime":23}],108:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("AssociationFailuresModuleController",["BaseCollectionRepository","BaseModuleController","ReportCollection","timeBasedGraphControllerMixin","DATE_RANGE_PRESETS","DASHBOARD_SHARED_FILTERS",function(t,e,i,o,r,a){return new(function(s){function l(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return o(t,!0),t.barChartConfig={valueProperty:"count",range:0,renderingWidthThreshold:1,withAutoRange:!0,withSpacing:!0,entryCss:function(e){return"unifiAssociationFailuresType"+t.failures.indexOf(e)}},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,e),n(l,[{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"destroy",this).call(this),this.unregister()}},{key:"$onInit",value:function(){this.repository=new t(new i("ap")),this.repository.collection.setAttrs(["sta_assoc_failures","sta_wpa_auth_failures","mac_filter_rejection","sta_dhcp_failures"])}},{key:"resolve",value:function(){this.repository.register(),this.listener=this.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1})}},{key:"unregister",value:function(){this.listener.stopListening(),this.repository.unregister()}},{key:"updateTimeRange",value:function(){var t=this.getFilteredTimeRange(),e=this.repository.collection.getStart()!==t[0]||this.repository.collection.getEnd()!==t[1];if(t){var i=this.getGranularity(t[0],t[1],!0);this.repository.collection.setDateInterval(t[0],t[1]),this.repository.collection.setGranularity(i)}e?this.repository.refresh():this.repository.collection.fetched?this.collectData():this.repository.fetch()}},{key:"collectData",value:function(){var t=this.repository.collection.reduce(function(t,e){return t.timeout+=e.get("sta_assoc_failures")||0,t.wpa+=e.get("sta_wpa_auth_failures")||0,t.acl+=e.get("mac_filter_rejection")||0,t.dhcp+=e.get("sta_dhcp_failures")||0,t},{timeout:0,wpa:0,acl:0,dhcp:0});this.failures=["timeout","wpa","acl","dhcp"].map(function(e){return{translationKey:"DASHBOARD_MODULE_ASSOCIATION_FAILURES_TYPE_"+e.toUpperCase(),count:t[e]}}),this.total=this.failures.map(function(t){return t.count||0}).reduce(function(t,e){return t+e},0),this.barChartConfig.range=this.total}},{key:"getFilteredTimeRange",value:function(){return this.sharedFilters&&this.sharedFilters[a.STATISTICS_TIME_RANGE]&&this.sharedFilters[a.STATISTICS_TIME_RANGE].getFilteredTimeRange()||[parseInt(r.LAST_24H.start),parseInt(r.LAST_24H.end)]}}]),l}())}])},{}],109:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiAssociationFailuresModule",["ModuleDirective",function(e){var i=new e("associationFailures",t("./associationFailuresModule.pug")());return i.addMixin({init:function(t,e,i,n){t.$watchCollection(n.getFilteredTimeRange.bind(n),function(t){t&&n.updateTimeRange()})}}),i}])},{"./associationFailuresModule.pug":110}],110:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="module module--associationFailures unifiAssociationFailuresModule"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle" translate="{{::associationFailuresModuleCtrl.definition.get(\'translationKey\')}}"></div></div><unifi-loading-module unifi-loading-module-is-loading="associationFailuresModuleCtrl.isLoading" unifi-loading-module-failed="associationFailuresModuleCtrl.failedToLoad" unifi-loading-module-retry="associationFailuresModuleCtrl.retry()" unifi-loading-module-type="associationFailuresModuleCtrl.definition.get(\'type\')" unifi-loading-module-layout="associationFailuresModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div class="positionRelative" ng-if="!associationFailuresModuleCtrl.isLoading"><div class="moduleContentScrollable moduleContentScrollable--withFade" ng-if="associationFailuresModuleCtrl.failures.length" ng-style="{\'height\': associationFailuresModuleCtrl.config.contentHeight ? associationFailuresModuleCtrl.config.contentHeight : undefined}"><div class="unifiAssociationFailuresModuleHeader"><div class="unifiAssociationFailuresModuleHeader__count">{{associationFailuresModuleCtrl.total}}</div><div class="unifiAssociationFailuresModuleHeader__graph"><unifi-bar-chart unifi-bar-chart-config="associationFailuresModuleCtrl.barChartConfig" unifi-bar-chart-data="associationFailuresModuleCtrl.failures"></unifi-bar-chart></div></div><table class="appTable appTable--flexible appTable--striped appTable--flushSides appTable--minor appTable--slimmed verticalRhythm--condensed"><thead><tr><th></th><th translate="DASHBOARD_MODULE_ASSOCIATION_TABLE_HEADER_TYPE"></th><th class="alignRight" translate="DASHBOARD_MODULE_ASSOCIATION_TABLE_HEADER_COUNT"></th></tr></thead><tbody class="noBorderBottom"><tr class="modularTableRow" ng-repeat="failure in associationFailuresModuleCtrl.failures track by failure.translationKey"><td><div class="statusBall appStatusBall appStatusBall--legend appStatusBall--cozy" ng-class="\'unifiAssociationFailuresType\' + $index"></div></td><td><span translate="{{::failure.translationKey}}"></span><unifi-tooltip class="ml-1 positionAbsolute" ng-if="failure.translationKey === \'DASHBOARD_MODULE_ASSOCIATION_FAILURES_TYPE_ACL\'" unifi-tooltip-clickable="true" style="--tooltip-width: 200px; transform: translateY(-2px);"><content translate="DASHBOARD_MODULE_ASSOCIATION_FAILURES_TYPE_ACL_EXPLANATION" translate-values="{state: \'manage.site.insights.knownclients({blocked: &quot;blocked&quot;})\'}"'+(i="translate-compile",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'></content></unifi-tooltip></td><td class="alignRight"><strong>{{failure.count | notAvailable}}</strong></td></tr></tbody></table></div></div><unifi-unavailable-module ng-if="!associationFailuresModuleCtrl.isLoading &amp;&amp; !associationFailuresModuleCtrl.failures.length" unifi-unavailable-module-icon="associationFailuresModuleCtrl.icon" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_ASSOCIATION_FAILURES_NO_DATA\' | toTranslationKey"></unifi-unavailable-module></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],111:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"wifi-association-failures",translationKey:"DASHBOARD_MODULE_DEFINITIONS_ASSOCIATION_FAILURES",directive:"unifi-association-failures-module",preview:"images/dashboard/summary.png",type:"list",layout:"single",requirements:{deviceType:"uap"}}])}])},{}],112:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("auraDark",["$state","preferences",function(t,e){return{restrict:"A",link:function(i,n){i.$watch(function(){var i=t.current.name.endsWith("login"),n=e.model.get("isSettingsDark"),o=t.current.name;return i||n&&o&&o.startsWith("manage.site.settings")},function(t){n[t?"addClass":"removeClass"]("ubnt-mod-dark")})}}}])},{}],113:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("AuraGlobalHeaderController",["settings",function(t){return new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"isGuestPortalEnabled",value:function(){var e=t.getSettingFromKey("guest_access");return!!e&&!!e.get("portal_enabled")}}]),e}())}])},{}],114:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("auraGlobalHeader",{controller:"AuraGlobalHeaderController",controllerAs:"auraGlobalHeaderCtrl",template:t("./auraGlobalHeader.pug")()})},{"./auraGlobalHeader.pug":115}],115:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<header class="ubntHeaderPanel ubntHeaderPanel--global"><div class="ubntHeader ubntHeader--global"><a class="ubntHeader__logo" href="//ubnt.com" target="_blank" style="color: white;"><aura-icon aura-icon="\'ubnt\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--logo\']"></aura-icon></a><div class="ubntHeader__image"><img src="images/header-brand-icon.png" style="height:30px; width: 30px;"></div><div class="ubntHeader__title"><aura-icon aura-icon="\'brand-unifi\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--auto\']"></aura-icon></div><div class="ubntHeader__actions"'+(i="unifi-requires-site-context",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><unifi-store-checkout-button></unifi-store-checkout-button><unifi-training-button></unifi-training-button><unifi-refresh-button></unifi-refresh-button><unifi-app-switcher-container></unifi-app-switcher-container><unifi-site-switcher unifi-site-switcher-display-hotspot-manager="auraGlobalHeaderCtrl.isGuestPortalEnabled()"></unifi-site-switcher><unifi-user-menu unifi-user-menu-with-edit-account="true"></unifi-user-menu><unifi-etc-menu unifi-etc-menu-with-store="true"></unifi-etc-menu></div></div></header>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],116:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("AuraGlobalSideNavController",["$element","$window","gatewayUtils",function(t,e,i){var o=void 0,r=angular.element(e),a=function(){e.innerHeight>=664?o.removeClass("is-navigation-collapsed"):o.addClass("is-navigation-collapsed")};return new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.hasSiteGateway=i.hasSiteGateway.bind(i)}return n(e,[{key:"init",value:function(){o=t.find(".ubntNavigation"),r.on("resize",a),a()}},{key:"$onDestroy",value:function(){r.off("resize",a)}}]),e}())}])},{}],117:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("auraGlobalSideNav",{template:t("./auraGlobalSideNav.pug")(),controller:"AuraGlobalSideNavController",controllerAs:"auraGlobalSideNavCtrl"})},{"./auraGlobalSideNav.pug":118}],118:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="ubntPanelContent ubntPanelContent--overflow"><div class="ubntNavigation"'+n("unifi-requires-site-context",!0,!0,!0)+' ng-init="auraGlobalSideNavCtrl.init()"><div class="ubntNavigation__group ubntNavigation__group--primary"'+n("pageutils-nav",!0,!0,!0)+' pageutils-nav-active-class="is-item-selected"><div class="ubntNavigation__item" pageutils-nav-state="manage.site.dashboard"><aura-icon aura-icon="\'dashboard\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--navigation\']"></aura-icon><div class="ubntTooltip ubntTooltip--navigation" translate="COMMON_NAV_DASHBOARD"></div><div class="appAccessibilityDescription" translate="COMMON_NAV_DASHBOARD"></div></div><div class="ubntNavigation__item" pageutils-nav-state="manage.site.statistics"><aura-icon aura-icon="\'stats\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--navigation\']"></aura-icon><div class="ubntTooltip ubntTooltip--navigation" translate="COMMON_NAV_STATISTICS"></div><div class="appAccessibilityDescription" translate="COMMON_NAV_STATISTICS"></div></div><div class="ubntNavigation__item" pageutils-nav-state="manage.site.maps"><aura-icon aura-icon="\'maps\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--navigation\']"></aura-icon><div class="ubntTooltip ubntTooltip--navigation" translate="COMMON_NAV_MAP"></div><div class="appAccessibilityDescription" translate="COMMON_NAV_MAP"></div></div><div class="ubntNavigation__item" pageutils-nav-state="manage.site.devices"><aura-icon aura-icon="\'devices\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--navigation\']"></aura-icon><div class="ubntTooltip ubntTooltip--navigation" translate="COMMON_NAV_DEVICES"></div><div class="appAccessibilityDescription" translate="COMMON_NAV_DEVICES"></div></div><div class="ubntNavigation__item" pageutils-nav-state="manage.site.clients"><aura-icon aura-icon="\'clients\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--navigation\']"></aura-icon><div class="ubntTooltip ubntTooltip--navigation" translate="COMMON_NAV_CLIENTS"></div><div class="appAccessibilityDescription" translate="COMMON_NAV_CLIENTS"></div></div><div class="ubntNavigation__item ubntNavigation__item--withDivider" pageutils-nav-state="manage.site.insights"><aura-icon aura-icon="\'insights\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--navigation\']"></aura-icon><div class="ubntTooltip ubntTooltip--navigation" translate="COMMON_NAV_INSIGHTS"></div><div class="appAccessibilityDescription" translate="COMMON_NAV_INSIGHTS"></div></div><div class="ubntNavigation__item" ng-if="auraGlobalSideNavCtrl.hasSiteGateway()" pageutils-nav-state="manage.site.ips"><aura-icon aura-icon="\'ips\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--navigation\']"></aura-icon><div class="ubntTooltip ubntTooltip--navigation" translate="COMMON_NAV_IPS"></div><div class="appAccessibilityDescription" translate="COMMON_NAV_IPS"></div></div></div><div class="ubntNavigation__group ubntNavigation__group--secondary"'+n("pageutils-nav",!0,!0,!0)+' pageutils-nav-active-class="is-item-selected"><unifi-release-notes-side-nav></unifi-release-notes-side-nav><unifi-events-side-nav></unifi-events-side-nav><unifi-alerts-side-nav></unifi-alerts-side-nav><unifi-chat-side-nav></unifi-chat-side-nav><unifi-settings-side-nav></unifi-settings-side-nav></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],119:[function(t,e,i){"use strict";angular.module("shared-unifi").component("unifiAuraPagination",{bindings:{currentPage:"=unifiAuraPaginationCurrentPage",rowsPerPage:"=unifiAuraPaginationRowsPerPage",totalRows:"<unifiAuraPaginationTotalRows",dataType:"<unifiAuraPaginationDataType"},template:t("./auraPagination.pug")()})},{"./auraPagination.pug":120}],120:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<pagination pagination-current-page="$ctrl.currentPage" pagination-rows-per-page="$ctrl.rowsPerPage" pagination-total-rows="$ctrl.totalRows" pagination-data-type="$ctrl.dataType"><pagination-state><span translate="PAGINATION_AURA_SHOWING_ROWS" translate-values="{        \'startRow\': pageStart,        \'endRow\': pageEnd,        \'totalRows\': totalRows,        \'dataType\': dataType      }"></span><div class="ubntButtonGroup ubntButtonGroup--joined ml-4"><button class="ubntButton ubntButton--pagination" style="height: 22px;"'+n("pagination-previous",!0,!0,!0)+'><aura-icon aura-icon="\'pagePrev\'" aura-icon-class="[\'ubntButton__icon\']"></aura-icon></button><button class="ubntButton ubntButton--pagination" style="height: 22px;"'+n("pagination-next",!0,!0,!0)+'><aura-icon aura-icon="\'pageNext\'" aura-icon-class="[\'ubntButton__icon\']"></aura-icon></button></div><pagination-page-size><span class="withColon ml-4" translate="PAGINATION_AURA_ROWS_PER_PAGE"></span><select class="ml-1 py-0" name="size" ng-model="rowsPerPage" ng-options="size as size for size in [10, 25, 50, 100]" ng-change="setRowsPerPage(rowsPerPage)">{{size}}</select></pagination-page-size></pagination-state></pagination>'};var o=/["&<>]/},{"pug-runtime":23}],121:[function(t,e,i){"use strict";function n(){this.showHints=!1,this.selectedIndex=-1}n.prototype.openList=function(){this.showHints=!0,this.selectedIndex=-1},n.prototype.closeList=function(){this.showHints=!1,this.selectedIndex=-1},n.prototype.toggleList=function(){this.showHints=!this.showHints},n.prototype.listVisible=function(){return this.showHints&&this.filteredHints.length>0},n.prototype.getFilter=function(){var t={};return t[this.nameProperty]=this.search,t},n.prototype.select=function(t){this.search=t[this.nameProperty],this.onSelect&&(this.onSelect(t),this.search=""),this.closeList()},n.prototype.onKeyDown=function(t){var e=38,i=39,n=40,o=13,r=27,a=9;if(this.showHints)switch(t.keyCode){case e:-1===this.selectedIndex?this.selectedIndex=this.filteredHints.length-1:this.selectedIndex=(this.filteredHints.length+this.selectedIndex-1)%this.filteredHints.length;break;case n:this.selectedIndex=(this.filteredHints.length+this.selectedIndex+1)%this.filteredHints.length;break;case i:case a:-1!==this.selectedIndex&&this.select(this.filteredHints[this.selectedIndex]);break;case o:-1!==this.selectedIndex?this.select(this.filteredHints[this.selectedIndex]):-1!==this.hints.indexOf(this.search)&&this.select(this.search),t.preventDefault();break;case r:this.closeList(),t.preventDefault()}},n.$inject=[],angular.module("app-unifi-manage").controller("AutocompleteController",n)},{}],122:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiAutocomplete",[function(){return{restrict:"E",scope:{search:"=?ngModel",hints:"=unifiAutocompleteHints",onSelect:"=unifiAutocompleteOnSelect",placeholder:"@unifiAutocompletePlaceholder",nameProperty:"=unifiAutocompleteHintNameProperty"},bindToController:!0,controller:"AutocompleteController",controllerAs:"autocompleteCtrl",template:t("./autocomplete.pug")()}}])},{"./autocomplete.pug":123}],123:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiAutocomplete" on-outside-element-click="autocompleteCtrl.closeList()"><div class="unifiAutocomplete__dropdown"><div class="appIconInput appIconInput--right appIconInput--comfy input--full"><div class="appIconInput__icon icon ubnt-icon--pointer-down" ng-click="autocompleteCtrl.toggleList()"></div><input class="appIconInput__input input--full" type="text" ng-model="autocompleteCtrl.search" ng-keydown="autocompleteCtrl.onKeyDown($event)" ng-change="autocompleteCtrl.openList()" placeholder="{{autocompleteCtrl.placeholder}}"></div><ul class="appDropdown" ng-class="{\'is-dropdown-visible\': autocompleteCtrl.listVisible()}"><li class="appDropdown__item" ng-mouseenter="autocompleteCtrl.setIndex($index);" ng-repeat="suggestion in (autocompleteCtrl.filteredHints = (autocompleteCtrl.hints | filter: autocompleteCtrl.getFilter() | orderBy:autocompleteCtrl.nameProperty)) track by $index" ng-class="{ \'unifiAutocompleteItem--selected\': ($index === autocompleteCtrl.selectedIndex) }" ng-click="autocompleteCtrl.select(suggestion)">{{suggestion[autocompleteCtrl.nameProperty]}}</li></ul></div></div>'}},{"pug-runtime":23}],124:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiBatchClientIcon",[function(){return{scope:{batchModel:"=unifiBatchClientIcon"},replace:!0,template:t("./batchClientIcon.pug")(),link:function(t){t.getClientCount=function(){return t.batchModel?(t.batchModel.get("destination")||{}).length:void 0}}}}])},{"./batchClientIcon.pug":125}],125:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiBatchClientIcon"><span class="unifiClientIcon icon ubnt-icon--users"></span><div class="count count--round appCount"><div class="count__value">{{getClientCount() || 0}}</div></div></div>'}},{"pug-runtime":23}],126:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiBatchDeviceIcon",[function(){return{scope:{batchModel:"=unifiBatchDeviceIcon"},replace:!0,template:t("./batchDeviceIcon.pug")(),link:function(t){t.getDeviceType=function(){return t.batchModel?t.batchModel.modelType:void 0},t.getDeviceCount=function(){return t.batchModel?(t.batchModel.get("destination")||[]).length:void 0}}}}])},{"./batchDeviceIcon.pug":127}],127:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="unifiBatchDeviceIcon"><div class="unifiDeviceIcon--uap" ng-if="getDeviceType() === \'batch:uap\' || getDeviceType() === \'batch:device\'"'+n("unifi-device-icon",!0,!0,!0)+'></div><div class="unifiDeviceIcon--usw" ng-if="getDeviceType() === \'batch:usw\'"'+n("unifi-device-icon",!0,!0,!0)+'></div><div class="count count--round appCount"><div class="count__value">{{getDeviceCount() || 0}}</div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],128:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiBinaryInput",["binaryPrefix",function(e){return{template:t("./binaryInput.pug")(),replace:!0,scope:{suffix:"=?unifiBinaryInputSuffix",basePrefix:"=?unifiBinaryInputBasePrefix",allowedPrefixes:"=?unifiBinaryInputAllowedPrefixes",standard:"=?unifiBinaryInputStandard",min:"=?unifiBinaryInputMin",max:"=?unifiBinaryInputMax",disabled:"=?ngDisabled",required:"=?ngRequired",name:"@?name"},require:"ngModel",link:function(t,i,n,o){var r=t.standard||"IEC";t.currentPrefix=t.basePrefix||"",t.allPrefixes=Object.keys(e.getPrefixes(r)),o.$formatters.push(function(i){var n;if(void 0===i)n={value:void 0,prefix:t.basePrefix||""};else if(void 0!==t.basePrefix){var o=i*e.getPrefixes(r)[t.basePrefix];n=0===o?{value:0,prefix:t.basePrefix}:e.getBestMatch(o,r)}else n=e.getBestMatch(i,r);return t.currentPrefix=n.prefix,n.value}),o.$render=function(){t.convertedValue=o.$viewValue},t.$watch("convertedValue",function(){o.$setViewValue(t.convertedValue)}),o.$parsers.push(function(i){var n=i*e.getPrefixes(r)[t.currentPrefix];return t.basePrefix&&(n/=e.getPrefixes(r)[t.basePrefix]),Math.round(n)}),t.keyAllowed=function(){return function(i){return void 0===t.basePrefix||e.getPrefixes(r)[i]>=e.getPrefixes(r)[t.basePrefix]&&(!t.allowedPrefixes||-1!==t.allowedPrefixes.indexOf(i))}},t.onPrefixChange=function(){o.$setViewValue(o.$viewValue+""),o.$$parseAndValidate()},t.$watchGroup(["min","max","currentPrefix"],function(i){t.adjustedMin=i[0]?e.normalizeToPrefix(i[2],i[0],r)*(t.basePrefix?e.getPrefixes(r)[t.basePrefix]:1):void 0,t.adjustedMax=i[1]?e.normalizeToPrefix(i[2],i[1],r)*(t.basePrefix?e.getPrefixes(r)[t.basePrefix]:1):void 0})}}}])},{"./binaryInput.pug":129}],129:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<ng-form class="appCompoundInput appCompoundInput--withValidation"><input class="input--mediumNumber without-standard-validation" type="number" name="{{name}}" ng-model="convertedValue" ng-disabled="disabled" ng-required="required" min="{{adjustedMin}}" max="{{adjustedMax}}"><select class="lineHeight--normal without-standard-validation" ng-model="currentPrefix" ng-options="key as key + suffix for key in allPrefixes | filter:keyAllowed(key)" ng-disabled="disabled" ng-required="required" ng-change="onPrefixChange()"></select></ng-form>'}},{"pug-runtime":23}],130:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiCalendarButtonArchiveAlert",[function(){return{controller:"CalendarButtonArchiveAlertController",controllerAs:"calendarButtonArchiveAlertCtrl",template:t("./calendarButtonArchiveAlert.pug")(),scope:{model:"=unifiCalendarButtonArchiveAlertModel"},bindToController:!0}}])},{"./calendarButtonArchiveAlert.pug":131}],131:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<button class="appMainButton appMainButton--condensed appMainButton--transparent appMainButton--iconOnly noHorizontalPadding"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' ng-click="calendarButtonArchiveAlertCtrl.archive()" ng-disabled="calendarButtonArchiveAlertCtrl.isArchived()" busy-toggle="calendarButtonArchiveAlertCtrl.inProgress()" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" title="{{\'CALENDAR_VIEW_ACTIONS_ARCHIVE\' | translate}}"><span class="icon ubnt-icon--box-archive"></span></button>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],132:[function(t,e,i){"use strict";function n(t){this.alertUtils=t,this.isArchiving=!1}n.prototype.archive=function(){this.isArchiving=!0,this.alertUtils.archiveAlert(this.model).finally(function(){this.isArchiving=!1}.bind(this))},n.prototype.inProgress=function(){return this.isArchiving},n.prototype.isArchived=function(){return!!this.model.get("archived")},n.$inject=["alertUtils"],angular.module("app-unifi-manage").controller("CalendarButtonArchiveAlertController",n)},{}],133:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiCalendarButtonArchiveAlerts",[function(){return{controller:"CalendarButtonArchiveAlertsController",controllerAs:"calendarButtonArchiveAlertsCtrl",template:t("./calendarButtonArchiveAlerts.pug")(),bindToController:!0}}])},{"./calendarButtonArchiveAlerts.pug":134}],134:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<button class="appMainButton appMainButton--transparent appMainButton--cozy"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' ng-click="calendarButtonArchiveAlertsCtrl.archive()" busy-toggle="calendarButtonArchiveAlertsCtrl.inProgress()" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" title="{{\'CALENDAR_VIEW_ACTIONS_ARCHIVE_ALL\' | translate}}">{{ \'CALENDAR_VIEW_ACTIONS_ARCHIVE_ALL\' | translate }}</button>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],135:[function(t,e,i){"use strict";function n(t){this.alertUtils=t,this.isArchiving=!1}n.prototype.archive=function(){this.isArchiving=!0,this.alertUtils.archiveAllAlerts().finally(function(){this.isArchiving=!1}.bind(this))},n.prototype.inProgress=function(){return this.isArchiving},n.$inject=["alertUtils"],angular.module("app-unifi-manage").controller("CalendarButtonArchiveAlertsController",n)},{}],136:[function(t,e,i){"use strict";var n=t("../../controllers/BaseCalendarViewController");function o(t,e,i,o){this.ENTRIES_PER_HOUR=1,n.call(this,t,e,i,o)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.destroy=function(){this.calendarViews.forEach(function(t){t.view.dispose()})},o.prototype.initCalendarView=function(t){this.calendarViews=Array(24).fill().map(function(){var e=new this.CalendarFilter,i=new this.CollectionView(t);return i.setFilters([e.getTest()]),i.setSortBy("datetime"),{filter:e,view:i}}.bind(this))},o.prototype.onCollectionChange=function(){this.updateCalendarView()},o.prototype.onDateChange=function(){this.updateCalendarView()},o.prototype.updateCalendarView=function(){for(var t=this.calendarDate.clone().startOf("day"),e=this.calendarDate.clone().endOf("day"),i=this.preferences.model.get("use24HourTime")?"H:mm":"h A",n=t.clone();n.isSameOrBefore(e);n.add(1,"hour")){var o=this.calendarViews[n.hour()];o.date=n.clone(),o.legend=n.clone().format(i),o.filter.setHour(n.clone()),o.view.refresh()}},o.prototype.updateFilters=function(){this.calendarViews.forEach(function(t){t.filter.updateSearchQuery(this.filterSearchQuery),t.filter.setLevel(this.filterLevel),t.filter.setType(this.filterType),t.view.refresh()}.bind(this))},o.prototype.getDay=function(){return this.calendarViews},o.prototype.getViewItemLimit=function(t){return t.view.getModels().length>this.ENTRIES_PER_HOUR?this.ENTRIES_PER_HOUR-1:this.ENTRIES_PER_HOUR},o.$inject=["CalendarFilter","CollectionView","moment","preferences"],angular.module("app-unifi-manage").controller("CalendarViewDayController",o)},{"../../controllers/BaseCalendarViewController":796}],137:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiCalendarViewDay",[function(){return{controller:"CalendarViewDayController",controllerAs:"calendarViewDayCtrl",template:t("./calendarViewDay.pug")(),scope:{isAlertsView:"=unifiCalendarViewDayIsAlertsView",_collection:"=unifiCalendarViewDayCollection",calendarDate:"=unifiCalendarViewDayCalendarDate",filterSearchQuery:"=unifiCalendarViewDayFilterSearchQuery",filterLevel:"=unifiCalendarViewDayFilterLevel",filterType:"=unifiCalendarViewDayFilterType",setCalendarLayout:"&unifiCalendarViewDaySetCalendarLayout"},bindToController:!0,link:function(t,e,i,n){n.updateCollection(n._collection),t.$watch("calendarViewDayCtrl.calendarDate.toString()",function(){n.onDateChange()}),t.$watchGroup(["calendarViewDayCtrl.filterLevel","calendarViewDayCtrl.filterSearchQuery","calendarViewDayCtrl.filterType"],function(){n.updateFilters()}),t.$on("$destroy",function(){n.destroy(),n.removeEventHandlers()})}}}])},{"./calendarViewDay.pug":138}],138:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiCalendarView unifiCalendarViewDay"><div class="unifiCalendarView__changeDate verticalRhythm--condensed"><div class="button button__icon icon ubnt-icon--pointer-left" ng-click="calendarViewDayCtrl.prevDay()"></div><div class="inlineBlock"><span>{{calendarViewDayCtrl.calendarDate | moment: \'format\': \'date\'}}</span></div><div class="button button__icon button__icon--right icon ubnt-icon--pointer-right" ng-click="calendarViewDayCtrl.nextDay()"></div></div><div class="unifiCalendarView__scrollable"><div class="verticalRhythm--cozy visible--xs"></div><table class="unifiCalendarView__table unifiCalendarViewDay__table noMarginBottom appTable appTable--dark appTable--cozy appTable--flexible appTable--noLines appTable--verticalAlignTop"><thead class="visible--smUp"><tr><th class="unifiCalendarView__legend"><span>&nbsp;</span></th><th class="unifiCalendarView__icon"><span>&nbsp;</span></th><th class="unifiCalendarView__details"><span translate="CALENDAR_VIEW_TABLE_HEADER_EVENT"></span></th><th class="unifiCalendarView__time"><span translate="CALENDAR_VIEW_TABLE_HEADER_TIME"></span></th><th class="unifiCalendarView__icon"><span>&nbsp;</span></th></tr></thead><tbody class="unifiCalendarViewDay__hour" ng-repeat="(hour, models) in calendarViewDayCtrl.getDay()"><tr class="visible--smUp" ng-if="models.view.getModels().length === 0"><td class="unifiCalendarView__legend noPaddingTop"><span>{{::models.legend}}</span></td><td colspan="4">&nbsp;</td></tr><tr ng-repeat="model in models.view.getModels() | limitTo: calendarViewDayCtrl.getViewItemLimit(models)"><td class="unifiCalendarView__legend noPaddingTop"><span ng-if="$first">{{::models.legend}}</span><span ng-if="!$first">&nbsp;</span></td><td class="unifiCalendarView__icon visible--smUp"><div class="appAlertIcon--condensed noPadding" unifi-event-icon="{{::model.get(\'key\')}}"></div></td><td class="unifiCalendarView__details"><div unifi-event-message="model"></div><div class="visible--xs">{{::model.get(\'datetime\') | moment: \'format\': \'time\'}}</div></td><td class="unifiCalendarView__time visible--smUp">{{::model.get(\'datetime\') | moment: \'format\': \'time\'}}</td><td class="unifiCalendarView__icon noPadding"><unifi-calendar-button-archive-alert ng-if="calendarViewDayCtrl.isAlertsView" unifi-calendar-button-archive-alert-model="model"></unifi-calendar-button-archive-alert></td></tr><tr ng-if="models.view.getModels().length &gt; calendarViewDayCtrl.ENTRIES_PER_HOUR"><td class="unifiCalendarView__legend noPaddingTop"><span ng-if="calendarViewDayCtrl.ENTRIES_PER_HOUR === 1">{{::models.legend}}</span><span ng-if="calendarViewDayCtrl.ENTRIES_PER_HOUR &gt; 1">&nbsp;</span></td><td class="visible--smUp">&nbsp;</td><td colspan="2"><a ng-if="calendarViewDayCtrl.ENTRIES_PER_HOUR === 1" ng-click="calendarViewDayCtrl.setListLayout(models.date, \'hour\')" translate="CALENDAR_VIEW_TABLE_SHOW_ALL_EVENTS" translate-values="{count: models.view.getModels().length}"></a><a ng-if="calendarViewDayCtrl.ENTRIES_PER_HOUR &gt; 1" ng-click="calendarViewDayCtrl.setListLayout(models.date, \'hour\')" translate="CALENDAR_VIEW_TABLE_SHOW_MORE_EVENTS" translate-values="{count: models.view.getModels().length - calendarViewDayCtrl.ENTRIES_PER_HOUR + 1}"></a></td><td class="visible--smUp">&nbsp;</td></tr></tbody><tbody class="visible--smUp"><tr><td class="unifiCalendarView__legend autoHeight noVerticalPadding"><span>{{calendarViewDayCtrl.getDay()[0].legend}}</span></td><td class="autoHeight noVerticalPadding" colspan="5">&nbsp;</td></tr></tbody></table></div></div>'}},{"pug-runtime":23}],139:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("CalendarViewListController",["BasePaginatedListController","CalendarFilter",function(t,e){return new(function(i){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return t.CalendarFilter=e,t.defaultSortBy="datetime",t.defaultSortDesc=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,t),n(o,[{key:"getCollection",value:function(){return this.collection}},{key:"initFilters",value:function(){this.filter=new e,this.updateFilters()}},{key:"updateFilters",value:function(){this.filter.setLevel(this.filterLevel),this.filter.setDate("day"===this.filterPeriod?this.calendarDate:null),this.filter.setHour("hour"===this.filterPeriod?this.calendarDate:null),this.filter.updateSearchQuery(this.filterSearchQuery),this.filter.setType(this.filterType),this.refresh()}},{key:"getStartOfHour",value:function(){return this.calendarDate.clone().startOf("hour")}},{key:"getEndOfHour",value:function(){return this.calendarDate.clone().endOf("hour")}}]),o}())}])},{}],140:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiCalendarViewList",["PaginatedListDirective",function(e){var i=new e("calendarView",t("./calendarViewList.pug")(),{isAlertsView:"=unifiCalendarViewListIsAlertsView",collection:"=unifiCalendarViewListCollection",calendarDate:"=unifiCalendarViewListCalendarDate",filterLevel:"=unifiCalendarViewListFilterLevel",filterPeriod:"=unifiCalendarViewListFilterPeriod",filterSearchQuery:"=unifiCalendarViewListFilterSearchQuery",filterType:"=unifiCalendarViewListFilterType"});return i.addMixin({init:function(t,e,i,n){t.$watchGroup(["calendarViewListCtrl.filterLevel","calendarViewListCtrl.filterPeriod","calendarViewListCtrl.filterSearchQuery","calendarViewListCtrl.filterType"],function(){n.updateFilters()})}}),i}])},{"./calendarViewList.pug":141}],141:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiCalendarView unifiCalendarViewList"><div class="unifiCalendarView__changeDate verticalRhythm--condensed" ng-if="calendarViewListCtrl.filterPeriod"><div class="inlineBlock"><div class="icon icon--inline noMarginLeft ubnt-icon--calendar-3"></div><span>{{calendarViewListCtrl.calendarDate | moment: \'format\': \'date\'}}</span></div><div class="inlineBlock" ng-if="calendarViewListCtrl.filterPeriod === \'hour\'"><div class="icon icon--inline noMarginLeft ubnt-icon--clock-2"></div><span>{{calendarViewListCtrl.getStartOfHour() | moment: \'format\': \'time\'}} - {{calendarViewListCtrl.getEndOfHour() | moment: \'format\': \'time\'}}</span></div></div><div class="unifiCalendarView__scrollable" ng-if="calendarViewListCtrl.view.getModels().length &gt; 0"><table class="unifiCalendarView__table unifiCalendarViewList__table noMarginBottom appTable appTable--dark appTable--cozy appTable--flexible appTable--striped appTable--verticalAlignTop"><thead><tr><th class="unifiCalendarView__icon noPadding visible--smUp"><span>&nbsp;</span></th><th class="unifiCalendarView__details"><span translate="CALENDAR_VIEW_TABLE_HEADER_EVENT"></span></th><th class="unifiCalendarView__time visible--smUp"><span translate="CALENDAR_VIEW_TABLE_HEADER_TIME"></span></th><th class="unifiCalendarView__icon alignRight noPadding" colspan="2"><unifi-calendar-button-archive-alerts ng-if="calendarViewListCtrl.isAlertsView"></unifi-calendar-button-archive-alerts></th></tr></thead><tbody><tr collection-view-repeat="model in calendarViewListCtrl.view.getModels(),            startFrom (calendarViewListCtrl.currentPage - 1) * calendarViewListCtrl.rowsPerPage,            limitTo calendarViewListCtrl.rowsPerPage" data-id="{{::model.id}}"><td class="unifiCalendarView__icon visible--smUp"><div class="appAlertIcon--condensed noPadding" unifi-event-icon="{{::model.get(\'key\')}}"></div></td><td class="unifiCalendarView__details visible--smUp"><div class="inlineBlock" unifi-event-message="model"></div></td><td class="unifiCalendarView__details visible--xs" colspan="2"><div unifi-event-message="model"></div><div>{{::model.get(\'datetime\') | moment: \'format\': \'datetime\'}}</div></td><td class="unifiCalendarView__time visible--smUp">{{::model.get(\'datetime\') | moment: \'format\': \'time\'}}</td><td class="unifiCalendarView__date visible--smUp">{{::model.get(\'datetime\') | moment: \'format\': \'date\'}}</td><td class="unifiCalendarView__icon noVerticalPadding"><unifi-calendar-button-archive-alert ng-if="calendarViewListCtrl.isAlertsView" unifi-calendar-button-archive-alert-model="model"></unifi-calendar-button-archive-alert></td></tr></tbody></table></div><div class="unifiCalendarView__pagination verticalRhythmTop--condensed" ng-if="calendarViewListCtrl.view.getModels().length &gt; 0"><unifi-list-pagination unifi-list-pagination-current-page="calendarViewListCtrl.currentPage" unifi-list-pagination-rows-per-page="calendarViewListCtrl.rowsPerPage" unifi-list-pagination-total-rows="calendarViewListCtrl.view.getModels().length" unifi-list-pagination-total-links="5" unifi-list-pagination-is-dark="true"></unifi-list-pagination></div><div class="appInfoBox appInfoBox--cozy appInfoBox--dark appInfoBox--noBorder verticalRhythm--comfy verticalRhythmTop--comfy" ng-if="calendarViewListCtrl.view.getModels().length === 0"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="CALENDAR_VIEW_EMPTY_EVENTS_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="CALENDAR_VIEW_EMPTY_NO_MATCHES"></p></div></div></div></div>'}},{"pug-runtime":23}],142:[function(t,e,i){"use strict";var n=t("../../controllers/BaseCalendarViewController");function o(t,e,i,o){this.moment=i,n.call(this,t,e,i,o)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.destroy=function(){this.view.dispose()},o.prototype.initCalendarView=function(t){this.filter=new this.CalendarFilter,this.view=new this.CollectionView(t,{refreshDebounce:null,listenTo:"update"}),this.view.setFilters([this.filter.getTest()])},o.prototype.onCollectionChange=function(){this.updateCalendarView()},o.prototype.onDateChange=function(){this.filter.setMonth(this.calendarDate.clone()),this.view.refresh(),this.updateCalendarView()},o.prototype.updateCalendarView=function(){var t=this.calendarDate.clone().startOf("month").startOf("week"),e=this.calendarDate.clone().endOf("month").endOf("week"),i=this.getCounters(this.view.getModels());this.month={};for(var n=t.clone();n.isSameOrBefore(e);n.add(1,"day")){var o=n.clone().startOf("week").format(this.INDEX_FORMAT),r=n.clone().format(this.INDEX_FORMAT),a={date:n.clone(),counters:i[r]||{}};void 0===this.month[o]?this.month[o]=[a]:this.month[o].push(a)}},o.prototype.updateFilters=function(){this.filter.updateSearchQuery(this.filterSearchQuery),this.filter.setLevel(this.filterLevel),this.filter.setType(this.filterType),this.view.refresh(),this.updateCalendarView()},o.prototype.getMonth=function(){return this.month||{}},o.prototype.getCounters=function(t){return t.reduce(function(t,e){var i=e.get("level")||"primary",n=this.moment(e.get("datetime")).clone().startOf("day").format(this.INDEX_FORMAT);return t[n]=t[n]||{},t[n][i]=(t[n][i]||0)+1,t}.bind(this),{})},o.prototype.getWeekdaysLabels=function(){for(var t=[],e=0;e<7;e++){var i="DATETIME_DAYS_SHORT_"+this.moment().weekday(e).locale("en_US").format("ddd").toUpperCase();t.push(i)}return t},o.$inject=["CalendarFilter","CollectionView","moment","preferences"],angular.module("app-unifi-manage").controller("CalendarViewMonthController",o)},{"../../controllers/BaseCalendarViewController":796}],143:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiCalendarViewMonth",[function(){return{controller:"CalendarViewMonthController",controllerAs:"calendarViewMonthCtrl",template:t("./calendarViewMonth.pug")(),scope:{isAlertsView:"=unifiCalendarViewMonthIsAlertsView",_collection:"=unifiCalendarViewMonthCollection",calendarDate:"=unifiCalendarViewMonthCalendarDate",filterSearchQuery:"=unifiCalendarViewMonthFilterSearchQuery",filterLevel:"=unifiCalendarViewMonthFilterLevel",filterType:"=unifiCalendarViewMonthFilterType",setCalendarLayout:"&unifiCalendarViewMonthSetCalendarLayout"},bindToController:!0,link:function(t,e,i,n){n.updateCollection(n._collection),t.$watch("calendarViewMonthCtrl.calendarDate.toString()",function(){n.onDateChange()}),t.$watchGroup(["calendarViewMonthCtrl.filterLevel","calendarViewMonthCtrl.filterSearchQuery","calendarViewMonthCtrl.filterType"],function(){n.updateFilters()}),t.$on("$destroy",function(){n.destroy(),n.removeEventHandlers()})}}}])},{"./calendarViewMonth.pug":144}],144:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiCalendarView unifiCalendarViewMonth"><div class="unifiCalendarView__changeDate verticalRhythm--condensed"><div class="button button__icon icon ubnt-icon--pointer-left" ng-click="calendarViewMonthCtrl.prevMonth()"></div><div class="inlineBlock"><span>{{\'DATETIME_MONTHS_\' + (calendarViewMonthCtrl.calendarDate.month() + 1) | translate}} {{calendarViewMonthCtrl.calendarDate | moment: \'format\': \'YYYY\'}}</span></div><div class="button button__icon button__icon--right icon ubnt-icon--pointer-right" ng-click="calendarViewMonthCtrl.nextMonth()"></div></div><div class="unifiCalendarView__scrollable"><table class="unifiCalendarViewMonth__table noMarginBottom appTable appTable--dark appTable--verticalAlignTop appTable--noLines"><thead><tr><th class="unifiCalendarViewMonth__day alignCenter" ng-repeat="label in calendarViewMonthCtrl.getWeekdaysLabels()" translate="{{label}}"></th></tr></thead><tbody><tr ng-repeat="week in calendarViewMonthCtrl.getMonth()"><td class="unifiCalendarViewMonth__day" ng-repeat="day in week" ng-click="calendarViewMonthCtrl.setDate(day.date)" ng-class="{              \'unifiCalendarViewMonth__day--thisMonth\': calendarViewMonthCtrl.isSameMonth(day.date),              \'unifiCalendarViewMonth__day--otherMonth\': !calendarViewMonthCtrl.isSameMonth(day.date),              \'unifiCalendarViewMonth__day--chosen\': calendarViewMonthCtrl.isSameDay(day.date)            }"><div class="unifiCalendarViewMonth__counters"><div class="unifiCalendarViewMonth__counter verticalRhythm--condensed noWrap" ng-repeat="level in [\'danger\', \'warning\', \'primary\']" ng-if="day.counters[level] &gt; 0"><span class="statusBall appStatusBall appStatusBall--legend" ng-class="{                    \'appStatusBall--danger\': level === \'danger\',                    \'appStatusBall--warning\': level === \'warning\',                    \'appStatusBall--primary\': level === \'primary\'                  }"></span><span>{{day.counters[level]}}</span></div></div><div class="unifiCalendarViewMonth__date alignRight"><div class="inlineBlock noWrap clickable" ng-click="calendarViewMonthCtrl.setListLayout(day.date, \'day\')">{{::day.date | moment: \'format\': \'D\'}}</div></div></td></tr></tbody></table></div></div>'}},{"pug-runtime":23}],145:[function(t,e,i){"use strict";var n=t("../../controllers/BaseCalendarViewController");function o(t,e,i,o){this.ENTRIES_PER_WEEKDAY=4,n.call(this,t,e,i,o)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.destroy=function(){this.calendarViews.forEach(function(t){t.view.dispose()})},o.prototype.initCalendarView=function(t){this.calendarViews=Array(7).fill().map(function(){var e=new this.CalendarFilter,i=new this.CollectionView(t);return i.setFilters([e.getTest()]),i.setSortBy("datetime"),{filter:e,view:i}}.bind(this))},o.prototype.onCollectionChange=function(){this.updateCalendarView()},o.prototype.onDateChange=function(){this.updateCalendarView()},o.prototype.updateCalendarView=function(){for(var t=this.calendarDate.clone().startOf("week"),e=this.calendarDate.clone().endOf("week"),i=t.clone();i.isSameOrBefore(e);i.add(1,"day")){var n=this.calendarViews[i.weekday()];n.date=i.clone(),n.legend="DATETIME_DAYS_"+i.clone().locale("en_US").format("ddd").toUpperCase(),n.filter.setDate(i.clone()),n.view.refresh()}},o.prototype.updateFilters=function(){this.calendarViews.forEach(function(t){t.filter.updateSearchQuery(this.filterSearchQuery),t.filter.setLevel(this.filterLevel),t.filter.setType(this.filterType),t.view.refresh()}.bind(this))},o.prototype.getWeek=function(){return this.calendarViews},o.prototype.getViewItemLimit=function(t){return t.view.getModels().length>this.ENTRIES_PER_WEEKDAY?this.ENTRIES_PER_WEEKDAY-1:this.ENTRIES_PER_WEEKDAY},o.$inject=["CalendarFilter","CollectionView","moment","preferences"],angular.module("app-unifi-manage").controller("CalendarViewWeekController",o)},{"../../controllers/BaseCalendarViewController":796}],146:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiCalendarViewWeek",[function(){return{controller:"CalendarViewWeekController",controllerAs:"calendarViewWeekCtrl",template:t("./calendarViewWeek.pug")(),scope:{isAlertsView:"=unifiCalendarViewWeekIsAlertsView",_collection:"=unifiCalendarViewWeekCollection",calendarDate:"=unifiCalendarViewWeekCalendarDate",filterSearchQuery:"=unifiCalendarViewWeekFilterSearchQuery",filterLevel:"=unifiCalendarViewWeekFilterLevel",filterType:"=unifiCalendarViewWeekFilterType",setCalendarLayout:"&unifiCalendarViewWeekSetCalendarLayout"},bindToController:!0,link:function(t,e,i,n){n.updateCollection(n._collection),t.$watch("calendarViewWeekCtrl.calendarDate.toString()",function(){n.onDateChange()}),t.$watchGroup(["calendarViewWeekCtrl.filterLevel","calendarViewWeekCtrl.filterSearchQuery","calendarViewWeekCtrl.filterType"],function(){n.updateFilters()}),t.$on("$destroy",function(){n.destroy(),n.removeEventHandlers()})}}}])},{"./calendarViewWeek.pug":147}],147:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiCalendarView unifiCalendarViewWeek"><div class="unifiCalendarView__changeDate verticalRhythm--condensed"><div class="button button__icon icon ubnt-icon--pointer-left" ng-click="calendarViewWeekCtrl.prevWeek()"></div><div class="inlineBlock"><span>{{calendarViewWeekCtrl.getStartOfWeek() | moment: \'format\': \'date\'}}</span><span class="horizontalRhythm--condensed horizontalRhythmLeft--condensed">-</span><span>{{calendarViewWeekCtrl.getEndOfWeek() | moment: \'format\': \'date\'}}</span></div><div class="button button__icon button__icon--right icon ubnt-icon--pointer-right" ng-click="calendarViewWeekCtrl.nextWeek()"></div></div><div class="unifiCalendarView__scrollable"><table class="unifiCalendarView__table unifiCalendarViewWeek__table noMarginBottom appTable appTable--dark appTable--cozy appTable--flexible appTable--noLines appTable--verticalAlignTop"><thead class="visible--smUp"><tr><th class="unifiCalendarView__legend"><span>&nbsp;</span></th><th class="unifiCalendarView__icon"><span>&nbsp;</span></th><th class="unifiCalendarView__details"><span translate="CALENDAR_VIEW_TABLE_HEADER_EVENT"></span></th><th class="unifiCalendarView__time"><span translate="CALENDAR_VIEW_TABLE_HEADER_TIME"></span></th><th class="unifiCalendarView__date"><span>&nbsp;</span></th><th class="unifiCalendarView__icon"><span>&nbsp;</span></th></tr></thead><tbody class="unifiCalendarViewWeek__day" ng-repeat="(day, models) in calendarViewWeekCtrl.getWeek()" ng-click="calendarViewWeekCtrl.setDate(models.date)" ng-class="{          \'unifiCalendarViewWeek__day--chosen\': calendarViewWeekCtrl.isSameDay(models.date)        }"><tr class="visible--xs" ng-if="models.view.getModels().length &gt; 0"><td class="unifiCalendarView__legendHeader" colspan="6"><span>{{models.legend | translate}}</span></td></tr><tr class="visible--smUp" ng-if="models.view.getModels().length === 0"><td class="unifiCalendarView__legend"><span>{{models.legend | translate}}</span></td><td colspan="5">&nbsp;</td></tr><tr ng-repeat="model in models.view.getModels() | limitTo: calendarViewWeekCtrl.getViewItemLimit(models)"><td class="unifiCalendarView__legend visible--smUp" ng-if="$first" rowspan="{{calendarViewWeekCtrl.ENTRIES_PER_WEEKDAY}}"><span>{{models.legend | translate}}</span></td><td class="unifiCalendarView__icon visible--smUp"><div class="appAlertIcon--condensed noPadding" unifi-event-icon="{{::model.get(\'key\')}}"></div></td><td class="unifiCalendarView__details"><div unifi-event-message="model"></div><div class="visible--xs">{{::model.get(\'datetime\') | moment: \'format\': \'datetime\'}}</div></td><td class="unifiCalendarView__time visible--smUp">{{::model.get(\'datetime\') | moment: \'format\': \'time\'}}</td><td class="unifiCalendarView__date visible--smUp">{{::model.get(\'datetime\') | moment: \'format\': \'date\'}}</td><td class="unifiCalendarView__icon noPadding"><unifi-calendar-button-archive-alert ng-if="calendarViewWeekCtrl.isAlertsView" unifi-calendar-button-archive-alert-model="model"></unifi-calendar-button-archive-alert></td></tr><tr ng-if="models.view.getModels().length &gt; calendarViewWeekCtrl.ENTRIES_PER_WEEKDAY"><td class="unifiCalendarView__legend visible--smUp" ng-if="calendarViewWeekCtrl.getViewItemLimit(models) === 0"><span>{{models.legend | translate}}</span></td><td class="visible--smUp">&nbsp;</td><td colspan="2"><a ng-if="calendarViewWeekCtrl.ENTRIES_PER_WEEKDAY === 1" ng-click="calendarViewWeekCtrl.setListLayout(models.date, \'day\')" translate="CALENDAR_VIEW_TABLE_SHOW_ALL_EVENTS" translate-values="{count: models.view.getModels().length}"></a><a ng-if="calendarViewWeekCtrl.ENTRIES_PER_WEEKDAY &gt; 1" ng-click="calendarViewWeekCtrl.setListLayout(models.date, \'day\')" translate="CALENDAR_VIEW_TABLE_SHOW_MORE_EVENTS" translate-values="{count: models.view.getModels().length - calendarViewWeekCtrl.ENTRIES_PER_WEEKDAY + 1}"></a></td><td class="visible--smUp">&nbsp;</td><td class="visible--smUp">&nbsp;</td></tr></tbody></table></div></div>'}},{"pug-runtime":23}],148:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("base-unifi-dashboard").controller("CarouselModuleController",["$timeout","groupModuleControllerMixin","BaseModuleController",function(t,e,i){return new(function(o){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return e(i),t(function(){i.initializeOther=!0},1e3),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),n(r,[{key:"resolve",value:function(){this.resolveModules(),this.activate()}},{key:"activate",value:function(t){this.activeModuleId=t&&t.id||(this.modules[0]||{}).id,this.previousModule=this.getPrevious(),this.nextModule=this.getNext()}},{key:"isActive",value:function(t){return t&&this.activeModuleId===t.id}},{key:"getCurrentIndex",value:function(){var t=this;return this.modules.findIndex(function(e){return e.id===t.activeModuleId})}},{key:"getPrevious",value:function(){var t=this.getCurrentIndex();return-1!==t&&-1==--t&&(t=this.config.wrapCarousel?this.modules.length-1:-1),-1!==t&&this.modules[t]}},{key:"getNext",value:function(){var t=this.getCurrentIndex();return-1!==t&&++t===this.modules.length&&(t=this.config.wrapCarousel?0:-1),-1!==t&&this.modules[t]}}]),r}())}])},{}],149:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiCarouselModule",["ModuleDirective",function(e){return new e("carousel",t("./carouselModule.pug")())}])},{"./carouselModule.pug":150}],150:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--carousel"><div class="module--carouselElement" ng-repeat="module in carouselModuleCtrl.modules track by module.id" ng-class="[      \'moduleContainer--\' + carouselModuleCtrl.definition.get(\'layout\'),      {\'hidden\': module.id !== carouselModuleCtrl.activeModuleId}    ]" unifi-dynamic-module="module.module" unifi-dynamic-module-definition="module.definition" unifi-dynamic-module-shared-filters="carouselModuleCtrl.sharedFilters" unifi-dynamic-module-is-loading="module.isLoading" unifi-initialize-when="module.id === carouselModuleCtrl.activeModuleId || carouselModuleCtrl.initializeOther"></div><div class="moduleCarousel" ng-if="!carouselModuleCtrl.isLoading" ng-class="carouselModuleCtrl.config.carouselClassName"><div class="moduleCarouselArrow moduleCarouselArrow--left" ng-if="carouselModuleCtrl.previousModule &amp;&amp; carouselModuleCtrl.config.withArrows" ng-click="carouselModuleCtrl.activate(carouselModuleCtrl.previousModule)"><div class="moduleCarouselArrowIcon icon ubnt-icon--pointer-left"></div><div class="moduleCarouselArrowLabel" translate="{{carouselModuleCtrl.previousModule.definition.get(\'translationKey\')}}"></div></div><div class="moduleCarouselArrow moduleCarouselArrow--right" ng-if="carouselModuleCtrl.nextModule &amp;&amp; carouselModuleCtrl.config.withArrows" ng-click="carouselModuleCtrl.activate(carouselModuleCtrl.nextModule)"><div class="moduleCarouselArrowIcon icon ubnt-icon--pointer-right"></div><div class="moduleCarouselArrowLabel" translate="{{carouselModuleCtrl.nextModule.definition.get(\'translationKey\')}}"></div></div><div class="moduleCarouselDotContainer"><div class="moduleCarouselDot" ng-repeat="module in carouselModuleCtrl.modules track by module.id" ng-class="{\'moduleCarouselDot--active\': carouselModuleCtrl.isActive(module)}" ng-click="carouselModuleCtrl.activate(module)"></div></div></div></div>'}},{"pug-runtime":23}],151:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"group|carousel|full",translationKey:"DASHBOARD_MODULE_DEFINITIONS_CAROUSEL",directive:"unifi-carousel-module",preview:"images/dashboard/placeholder.png",type:"carousel",layout:"full",isHidden:!0}])}])},{}],152:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("ChannelDistributionController",["countryChannels","deviceRadioUtils","WIFI_NG_BASE_CHANNELS",function(t,e,i){return new(function(){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.WIFI_NG_BASE_CHANNELS_MAPPING=this.buildNgChannelsMapping(),this.collectData()}return n(o,[{key:"addEventHandlers",value:function(){t.repository.model.on("change",this.collectData,this),t.repository.register().fetch()}},{key:"removeEventHandlers",value:function(){t.repository.model.off("change",this.collectData,this),t.repository.unregister()}},{key:"collectData",value:function(){var t=this;this.ngChannels=e.getUnfilteredChannelOptions("ng",20).reduce(function(e,i){var n=t.WIFI_NG_BASE_CHANNELS_MAPPING[i.channel];return i.channel===n&&e.push(i),e},[]),this.naChannels=e.getUnfilteredChannelOptions("na",20)}},{key:"buildNgChannelsMapping",value:function(){return Object.keys(i).reduce(function(t,e){var n=Number.parseInt(e);return i[e].forEach(function(e){t[e]=n}),t},{})}}]),o}())}])},{}],153:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiChannelDistribution",["eventHandlersDirectiveMixin",function(e){return{scope:{isDark:"=?unifiChannelDistributionIsDark"},controller:"ChannelDistributionController",controllerAs:"channelDistributionCtrl",replace:!0,bindToController:!0,template:t("./channelDistribution.pug")(),link:function(t,i,n,o){e.init(t,i,n,o)}}}])},{"./channelDistribution.pug":154}],154:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiChannelDistribution"><div class="unifiChannelDistributionGroup" ng-style="{\'flex-grow\': channelDistributionCtrl.ngChannels.length}"><div class="flexFlag">\x3c!-- width:0 - workaround for keeping channel rects the same width--\x3e<div class="flexFlag__body modularSubHeading flexible unifiChannelDistributionHeader truncate" style="width: 0;"><div class="truncate" translate="DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION"></div></div><div class="flexFlag__body unifiChannelDistributionChannelHeader alignRight inflexible"><span translate="COMMON_FREQUENCY_RANGE_2G"></span><unifi-channel-distribution-warning unifi-channel-distribution-item-radio-type="ng"></unifi-channel-distribution-warning></div></div><div class="unifiChannelDistributionChannels"><div class="unifiChannelDistributionChannel" ng-repeat="channel in channelDistributionCtrl.ngChannels track by $index"><unifi-channel-distribution-item unifi-channel-distribution-item-channel="channel" unifi-channel-distribution-item-radio-type="\'ng\'" unifi-channel-distribution-item-is-dark="::channelDistributionCtrl.isDark"></unifi-channel-distribution-item></div></div></div><div class="unifiChannelDistributionGroup" ng-style="{\'flex-grow\': channelDistributionCtrl.naChannels.length}"><div class="unifiChannelDistributionChannelHeader"><span translate="COMMON_FREQUENCY_RANGE_5G"></span><unifi-channel-distribution-warning unifi-channel-distribution-item-radio-type="na"></unifi-channel-distribution-warning></div><div class="unifiChannelDistributionChannels"><div class="unifiChannelDistributionChannel unifiChannelDistributionChannel--5g" ng-repeat="channel in channelDistributionCtrl.naChannels track by $index"><unifi-channel-distribution-item unifi-channel-distribution-item-channel="channel" unifi-channel-distribution-item-radio-type="\'na\'" unifi-channel-distribution-item-is-dark="::channelDistributionCtrl.isDark"></unifi-channel-distribution-item></div></div></div></div>'}},{"pug-runtime":23}],155:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("ChannelDistributionItemController",["channelUtilization","WIFI_NG_BASE_CHANNELS",function(t,e){var i=["#48d000","#bbd923","#dcd033","#d0811b","#f7151a"];return new(function(){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.channels=[],this.channelUtilization=0,this.devicesCount=0,this.clientsCount=0}return n(o,[{key:"addEventHandlers",value:function(){t.repository.model.on("change",this.collectData,this),t.repository.register().fetch().then(this.collectData.bind(this))}},{key:"removeEventHandlers",value:function(){t.repository.unregister(),t.repository.model.off("change",this.collectData,this)}},{key:"collectData",value:function(){this.channels="ng"===this.radioType?e[this.channel.channel]:[this.channel.channel];var i=t.getDevicesPerChannel(this.radioType),n=this.channels.map(function(t){return i[t]||[]}).reduce(function(t,e){return t.concat(e)},[]).reduce(function(t,e){return t.devices++,t.clients+=e.num_sta,t.utilization+=e.cu_total,t},{devices:0,clients:0,utilization:0});this.clientsCount=n.clients,this.devicesCount=n.devices,this.channelUtilization=n.devices>0?n.utilization/n.devices:0}},{key:"findColor",value:function(){if(this.devicesCount>0){var t=this.channelUtilization;return i[t>0?Math.ceil(t/100*i.length)-1:0]}return"#e2e2e2"}},{key:"getFormattedChannels",value:function(){return 0===this.channels.length?"":1===this.channels.length?this.channels[0]:this.channels[0]+" - "+this.channels[this.channels.length-1]}}]),o}())}])},{}],156:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiChannelDistributionItem",["eventHandlersDirectiveMixin",function(e){return{scope:{isDark:"=?unifiChannelDistributionItemIsDark",radioType:"=?unifiChannelDistributionItemRadioType",channel:"=?unifiChannelDistributionItemChannel"},controller:"ChannelDistributionItemController",controllerAs:"channelDistributionItemCtrl",replace:!0,bindToController:!0,template:t("./channelDistributionItem.pug")(),link:function(t,i,n,o){e.init(t,i,n,o)}}}])},{"./channelDistributionItem.pug":157}],157:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiChannelDistributionItem flexFlag flexFlag__body flexFlag--stretched positionRelative" ng-mouseover="channelDistributionItemCtrl.tooltipVisible = true" ng-mouseleave="channelDistributionItemCtrl.tooltipVisible = false"><div class="appTooltipContainer appTooltipContainer--hoverable"><div class="unifiChannelDistributionItem__box" ng-style="{\'background-color\': channelDistributionItemCtrl.findColor()}"></div><div class="appTooltip appTooltip--top appTooltip--narrow unifiDashboardTooltip" ng-if="channelDistributionItemCtrl.tooltipVisible"><div class="unifiDashboardTooltip__header" translate="DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION_TOOLTIP_HEADER" translate-values="{frequencyRange: ((channelDistributionItemCtrl.radioType === \'ng\' ? \'COMMON_FREQUENCY_RANGE_2G\' : \'COMMON_FREQUENCY_RANGE_5G\') | toTranslationKey | translate)}"></div><dl class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow"><dt>{{\'DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION_LABEL_\' + (channelDistributionItemCtrl.channels.length === 1 ? \'CHANNEL\' : \'CHANNELS\') | translate}}</dt><dd class="alignRight">{{channelDistributionItemCtrl.getFormattedChannels()}}</dd></div><div class="appDescriptionListRow"><dt translate="DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION_LABEL_APS"></dt><dd class="alignRight">{{channelDistributionItemCtrl.devicesCount}}</dd></div><div class="appDescriptionListRow"><dt translate="DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION_LABEL_CLIENTS"></dt><dd class="alignRight">{{channelDistributionItemCtrl.clientsCount}}</dd></div></dl></div></div><div class="unifiChannelDistributionItem__label">{{channelDistributionItemCtrl.channel.channel}}</div></div>'}},{"pug-runtime":23}],158:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("ChannelDistributionModuleController",["BaseModuleController","resolveRepositoryGroupControllerMixin",function(t,e){return new(function(i){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return t.isLoading=!0,t.repositories=["countryChannels"],e(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,t),n(o,[{key:"destroy",value:function(){this.unregister()}}]),o}())}])},{}],159:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiChannelDistributionModule",["ModuleDirective",function(e){return new e("channelDistribution",t("./channelDistributionModule.pug")())}])},{"./channelDistributionModule.pug":160}],160:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--channelDistribution"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle">{{channelDistributionModuleCtrl.definition.get(\'translationKey\') | translate}}</div></div><unifi-loading-module unifi-loading-module-loader="channelDistributionModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="channelDistributionModuleCtrl.isLoading" unifi-loading-module-failed="channelDistributionModuleCtrl.failedToLoad" unifi-loading-module-retry="channelDistributionModuleCtrl.retry()" unifi-loading-module-layout="channelDistributionModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-if="!channelDistributionModuleCtrl.isLoading"><unifi-channel-distribution unifi-channel-distribution-is-dark="false"></unifi-channel-distribution></div></div></div>'}},{"pug-runtime":23}],161:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"channel-distribution",translationKey:"DASHBOARD_MODULE_DEFINITIONS_CHANNEL_DISTRIBUTION",directive:"unifi-channel-distribution-module",preview:"images/dashboard/channel-distribution.png",layout:"full"}])}])},{}],162:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("ChannelDistributionWarningController",["channelUtilization","countryChannels","deviceRadioUtils","resolveRepositoryGroupControllerMixin",function(t,e,i,o){return new(function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.hasWarning=!1,this.repositories=["countryChannels","channelUtilization"],o(this)}return n(r,[{key:"$onInit",value:function(){var i=this;e.repository.model.on("change",this.updateWarning,this),t.repository.model.on("change",this.updateWarning,this),this.resolve().then(function(){i.updateWarning()})}},{key:"$onDestroy",value:function(){t.repository.model.off("change",this.updateWarning,this),e.repository.model.off("change",this.updateWarning,this),this.unregister()}},{key:"updateWarning",value:function(){var e=i.getUnfilteredChannelOptions(this.radioType,20).map(function(t){return t.channel}),n=Object.keys(t.getDevicesPerChannel(this.radioType)).map(function(t){return parseInt(t)});this.hasWarning=!!n.filter(function(t){return-1===e.indexOf(t)}).length}}]),r}())}])},{}],163:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiChannelDistributionWarning",{template:t("./channelDistributionWarning.pug")(),bindings:{radioType:"@unifiChannelDistributionItemRadioType"},controller:"ChannelDistributionWarningController",controllerAs:"channelDistributionWarningCtrl"})},{"./channelDistributionWarning.pug":164}],164:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appTooltipContainer appTooltipContainer--hoverable"><div class="appTooltip" translate="DASHBOARD_MODULE_STATUS_CHANNEL_DISTRIBUTION_TOOLTIP_UNKNOWN_CHANNEL"></div><div class="appAlertIcon appAlertIcon--warning appAlertIcon--scaled appAlertIcon--baseline noVerticalPadding" ng-if="channelDistributionWarningCtrl.hasWarning"><div class="icon ubnt-icon--alert"></div></div></div>'}},{"pug-runtime":23}],165:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t){this.deviceRadioUtils=t,n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.updateUtilization=function(){this.utilization={},this.model&&this.radio&&(this.utilization=this.deviceRadioUtils.getRadioChannelUtilization(this.model,this.radio),this.utilization&&this.clampUtilization())},o.prototype.clampUtilization=function(){["selfRx","selfTx","interference"].reduce(function(t,e){return t+this.utilization[e]>100&&(this.utilization[e]=100-t),t+this.utilization[e]}.bind(this),0)},o.prototype.onModelChange=function(){this.updateUtilization()},o.$inject=["deviceRadioUtils"],angular.module("app-unifi-manage").controller("ChannelUtilizationStatusBarController",o)},{}],166:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiChannelUtilizationStatusBar",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiChannelUtilizationStatusBarModel",radio:"=unifiChannelUtilizationStatusBarRadio"},controller:"ChannelUtilizationStatusBarController",controllerAs:"channelUtilizationStatusBarCtrl",template:t("./channelUtilizationStatusBar.pug")(),replace:!0,link:function(t,i,n,o){o.radio=t.radio,t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./channelUtilizationStatusBar.pug":167}],167:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appStatusBar appStatusBar--small appStatusBar--ratio"><div class="statusBar__inner unifiChannelUtilizationStatus--rx" ng-style="{\'width\': channelUtilizationStatusBarCtrl.utilization.selfRx + \'%\'}"></div><div class="statusBar__inner unifiChannelUtilizationStatus--tx" ng-style="{\'width\': channelUtilizationStatusBarCtrl.utilization.selfTx + \'%\'}"></div><div class="statusBar__inner unifiChannelUtilizationStatus--interference" ng-style="{\'width\': channelUtilizationStatusBarCtrl.utilization.interference + \'%\'}"></div></div>'}},{"pug-runtime":23}],168:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t,e){this.deviceRadioUtils=t,this.deviceWlanGroupUtils=e,n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.updateUtilization=function(){this.radios=this.model?this.deviceRadioUtils.getRadiosByType(this.model,this.radioType):[]},o.prototype.onModelChange=function(){this.updateUtilization()},o.$inject=["deviceRadioUtils","deviceWlanGroupUtils"],angular.module("app-unifi-manage").controller("ChannelUtilizationStatusBarGroupController",o)},{}],169:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiChannelUtilizationStatusBarGroup",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiChannelUtilizationStatusBarGroupModel",radioType:"=unifiChannelUtilizationStatusBarGroupRadioType"},controller:"ChannelUtilizationStatusBarGroupController",controllerAs:"channelUtilizationStatusBarGroupCtrl",template:t("./channelUtilizationStatusBarGroup.pug")(),link:function(t,i,n,o){o.radioType=t.radioType,t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./channelUtilizationStatusBarGroup.pug":170}],170:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div ng-repeat="radio in channelUtilizationStatusBarGroupCtrl.radios" ng-class="{\'is-cell-disabled\': channelUtilizationStatusBarGroupCtrl.deviceWlanGroupUtils.isWlanGroupOff(radio)}"><unifi-channel-utilization-status-bar unifi-channel-utilization-status-bar-model="model" unifi-channel-utilization-status-bar-radio="radio"></unifi-channel-utilization-status-bar></div>'}},{"pug-runtime":23}],171:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a){this.$cookies=t,this.$q=e,this.$translate=i,this.account=n,this.system=o,this.CHAT_LEVELS=a,this.CHAT_DEPARTMENTS=r}n.prototype.resolve=function(){return this.$q.all([this.account.repository.fetch(),this.system.repository.register().fetch()])},n.prototype.destroy=function(){this.system.repository.unregister()},n.prototype.addEventHandlers=function(){this.system.repository.model.on("change:live_chat",this.onModelChange,this),this.account.repository.model.on("change:is_super",this.onModelChange,this),this.onModelChange()},n.prototype.removeEventHandlers=function(){this.system.repository.model.off("change:live_chat",this.onModelChange,this),this.account.repository.model.off("change:is_super",this.onModelChange,this)},n.prototype.onModelChange=function(){var t=this.system.getLiveChatLevel();this.isChatAvailable=(t===this.CHAT_LEVELS.SUPER_ONLY||void 0===t)&&this.account.isSuperAdmin()||t===this.CHAT_LEVELS.EVERYONE,this.system.isDemoMode()?this.zopimConfig={department:this.CHAT_DEPARTMENTS.PRE_SALES,greetings:this.$translate.instant("ZOPIM_PRE_SALES_GREETINGS")}:this.system.isUnifiGo()?this.zopimConfig={department:this.CHAT_DEPARTMENTS.UNIFI_CONTROLLER,tags:[this.system.isUnifiElite()?"chat_elite":"chat_cloud"]}:this.zopimConfig={department:this.CHAT_DEPARTMENTS.UNIFI_CONTROLLER}},n.$inject=["$cookies","$q","$translate","account","system","CHAT_DEPARTMENTS","CHAT_LEVELS"],angular.module("app-unifi-manage").controller("ChatSideNavController",n)},{}],172:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiChatSideNav",["eventHandlersDirectiveMixin",function(e){return{controller:"ChatSideNavController",controllerAs:"chatSideNavCtrl",template:t("./chatSideNav.pug")(),link:function(t,i,n,o){o.resolve().then(function(){e.init(t,i,n,o)}),t.$on("$destroy",function(){o.destroy()})}}}])},{"./chatSideNav.pug":173}],173:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<zopim-side-nav ng-if="chatSideNavCtrl.isChatAvailable" zopim-side-nav-label="::\'COMMON_NAV_ZOPIM\'" zopim-side-nav-config="chatSideNavCtrl.zopimConfig" zopim-side-nav-unifi-style="true" alt="{{::\'COMMON_NAV_ZOPIM\' | translate}}" role="link"></zopim-side-nav>'}},{"pug-runtime":23}],174:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiChunkedLoadProgressBar",[function(){return{scope:{collection:"=unifiChunkedLoadProgressBarCollection"},template:t("./chunkedLoadProgressBar.pug")(),replace:!0}}])},{"./chunkedLoadProgressBar.pug":175}],175:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="statusBar appStatusBar appStatusBar--high appStatusBar--small verticalAlign--top fullWidth" ng-class="{\'invisible\' : !collection.isLoadingChunks}"><div class="statusBar__inner" ng-style="{width: collection.progress + \'%\'}"></div></div>'}},{"pug-runtime":23}],176:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiClientActivityStatus",[function(){return{scope:{activity:"=unifiClientActivityStatus"},replace:!0,restrict:"A",template:t("./clientActivityStatus.pug")(),link:function(t){t.setStatusLevel=function(e){var i=0;angular.forEach(e,function(t,e){this.activity>=t&&(i=e)},t),t.percentage=Math.ceil(i*(100/(e.length-1)))},t.$watch("activity",function(){t.setStatusLevel([0,500,8e3,64e3,512e3,2048e3])})}}}])},{"./clientActivityStatus.pug":177}],177:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="statusBar appStatusBar appStatusBar--small appStatusBar--high"><div class="statusBar__inner" ng-style="{\'width\': percentage + \'%\'}"></div></div>'}},{"pug-runtime":23}],178:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseButtonController");function o(t,e,i,o,r){this.$translate=t,this.clientUtils=e,this.clientStateUtils=i,this.heyToasts=o,n.call(this,r),this.isAuthorized=!1}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){this.isApplicable=!!(this.model&&this.clientStateUtils.isClientAuthorizable(this.model)&&this.clientStateUtils.isClientConnected(this.model)),this.isAuthorized=!!(this.model&&this.isApplicable&&this.model.get("authorized"))},o.prototype.toggle=function(t){return t.preventDefault(),t.stopPropagation(),this.isPending=!0,this.clientUtils[this.isAuthorized?"unauthorizeGuest":"authorizeGuest"](this.model).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isPending=!1}.bind(this))},o.$inject=["$translate","clientUtils","clientStateUtils","heyToasts","account"],angular.module("app-unifi-manage").controller("ClientButtonAuthorizeController",o)},{}],179:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiClientButtonAuthorize",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiClientButtonAuthorize",isLabeled:"=unifiClientButtonAuthorizeIsLabeled",isResponsive:"=unifiClientButtonAuthorizeIsResponsive"},controller:"ClientButtonAuthorizeController",controllerAs:"clientButtonAuthorizeCtrl",replace:!0,template:t("./clientButtonAuthorize.pug")(),link:function(t,i,n,o){t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./clientButtonAuthorize.pug":180}],180:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div ng-show="clientButtonAuthorizeCtrl.showButton()" ng-click="clientButtonAuthorizeCtrl.toggle($event, model)" ng-class="{\'is-responsive\': isResponsive}" title="{{clientButtonAuthorizeCtrl.isAuthorized ? \'CLIENT_ACTIONS_UNAUTHORIZE\' : \'CLIENT_ACTIONS_AUTHORIZE\' | translate}}"><span class="button__icon icon" ng-class="{      \'ubnt-icon--plus-circle\': !clientButtonAuthorizeCtrl.isAuthorized,      \'ubnt-icon--minus-circle\': clientButtonAuthorizeCtrl.isAuthorized,      \'ubnt-icon--clock-2\': clientButtonAuthorizeCtrl.isPending    }"></span><span class="button__label" ng-if="::isLabeled"'+(i="translate",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+">{{clientButtonAuthorizeCtrl.isAuthorized ? 'CLIENT_ACTIONS_UNAUTHORIZE' : 'CLIENT_ACTIONS_AUTHORIZE'}}</span></div>";var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],181:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseButtonController");function o(t,e,i,o,r,a,s,l,c,u){this.$translate=t,this.$q=e,this.clientUtils=i,this.clientBatchUtils=o,this.devices=r,this.deviceUtils=a,this.frame=s,this.heyToasts=l,this.preferences=u,n.call(this,c),this.isBlocked=!1,this.isApplicable=!0}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){void 0!==this.forceState?this.isBlocked=!this.forceState:this.isBlocked=!(!this.model||!this.model.get("blocked"))},o.prototype.toggle=function(t){t.preventDefault(),t.stopPropagation();var e=this.model.get("ip")&&this.model.get("ip")===this.deviceUtils.getInformIp(this.devices.repository.collection),i=e||this.isBatch,n=!0!==this.preferences.model.get("bypassConfirmBlock");return(i||n&&!this.isBlocked?this.frame.show("confirm",{title:function(){return this.isBatch?this.$translate.instant(this.isBlocked?"CLIENT_ACTIONS_BATCH_UNBLOCK_CONFIRM_TITLE":"CLIENT_ACTIONS_BATCH_BLOCK_CONFIRM_TITLE",{count:this.model.get("destination").length},"messageformat"):this.$translate.instant(e?"CLIENT_ACTIONS_BLOCK_CONTROLLER_CONFIRM_TITLE":"CLIENT_ACTIONS_BLOCK_CONFIRM_TITLE",{clientName:this.model.getDisplayName()})}.bind(this),message:function(){return this.isBatch?this.$translate.instant(this.isBlocked?"CLIENT_ACTIONS_BATCH_UNBLOCK_CONFIRM_MESSAGE":"CLIENT_ACTIONS_BATCH_BLOCK_CONFIRM_MESSAGE",{count:this.model.get("destination").length},"messageformat"):this.$translate.instant(e?"CLIENT_ACTIONS_BLOCK_CONTROLLER_CONFIRM_MESSAGE":"CLIENT_ACTIONS_BLOCK_CONFIRM_MESSAGE",{clientName:this.model.getDisplayName()})}.bind(this),options:function(){return{bypassFlag:i?void 0:"bypassConfirmBlock"}}}):this.$q.when()).then(function(){return this.isPending=!0,(this.isBatch?this.clientBatchUtils[this.isBlocked?"unblockClients":"blockClients"](this.model):this.clientUtils[this.isBlocked?"unblockClient":"blockClient"](this.model)).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isPending=!1}.bind(this))}.bind(this))},o.$inject=["$translate","$q","clientUtils","clientBatchUtils","devices","deviceUtils","frame","heyToasts","account","preferences"],angular.module("app-unifi-manage").controller("ClientButtonBlockController",o)},{}],182:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiClientButtonBlock",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiClientButtonBlock",isBatch:"=unifiClientButtonBlockIsBatch",isLabeled:"=unifiClientButtonBlockIsLabeled",isResponsive:"=unifiClientButtonBlockIsResponsive",forceState:"=unifiClientButtonBlockForceState"},controller:"ClientButtonBlockController",controllerAs:"clientButtonBlockCtrl",replace:!0,template:t("./clientButtonBlock.pug")(),link:function(t,i,n,o){o.isBatch=t.isBatch,o.forceState=t.forceState,t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./clientButtonBlock.pug":183}],183:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div ng-show="clientButtonBlockCtrl.showButton()" ng-click="clientButtonBlockCtrl.toggle($event)" ng-class="{\'is-responsive\': isResponsive}" title="{{clientButtonBlockCtrl.isBlocked ? \'CLIENT_ACTIONS_UNBLOCK\' : \'CLIENT_ACTIONS_BLOCK\' | translate}}"><span class="button__icon icon" ng-class="{      \'ubnt-icon--block\': !clientButtonBlockCtrl.isBlocked,      \'ubnt-icon--check-circle2\': clientButtonBlockCtrl.isBlocked,      \'ubnt-icon--clock-2\': clientButtonBlockCtrl.isPending    }"></span><span class="button__label" ng-if="::isLabeled"'+(i="translate",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+">{{clientButtonBlockCtrl.isBlocked ? 'CLIENT_ACTIONS_UNBLOCK' : 'CLIENT_ACTIONS_BLOCK'}}</span></div>";var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],184:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var o=lazyRequire.get("BaseButtonController");angular.module("app-unifi-manage").controller("ClientButtonForgetController",["$translate","account","clientUtils","frame","heyToasts",function(t,e,i,r,a){return new(function(s){function l(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return t.isApplicable=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,o),n(l,[{key:"onModelChange",value:function(){}},{key:"forgetSta",value:function(e){var n=this;return e.preventDefault(),e.stopPropagation(),r.show("confirm",{title:function(){return t.instant("CLIENT_ACTIONS_FORGET_CONFIRM_TITLE",{clientName:n.model.getDisplayName()})},message:function(){return t.instant("CLIENT_ACTIONS_FORGET_CONFIRM_MESSAGE",{clientName:n.model.getDisplayName()})},options:angular.noop}).then(function(){return n.isPending=!0,i.forgetSta(n.model).then(function(t){return a.pushSuccess(t),!0}).catch(function(t){return a.pushError(t),!1}).finally(function(){n.isPending=!1})})}}]),l}())}])},{}],185:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiClientButtonForget",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiClientButtonForget",isLabeled:"=unifiClientButtonForgetIsLabeled",isResponsive:"=unifiClientButtonForgetIsResponsive"},controller:"ClientButtonForgetController",controllerAs:"clientButtonForgetCtrl",replace:!0,template:t("./clientButtonForget.pug")(),link:function(t,i,n,o){t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./clientButtonForget.pug":186}],186:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div ng-show="clientButtonForgetCtrl.showButton()" ng-click="clientButtonForgetCtrl.forgetSta($event)" ng-class="{\'is-responsive\': isResponsive}" title="{{\'CLIENT_ACTIONS_FORGET\' | translate}}"><span class="button__icon icon" ng-class="{      \'ubnt-icon--trash\': !clientButtonForgetCtrl.isPending,      \'ubnt-icon--clock-2\': clientButtonForgetCtrl.isPending    }"></span><span class="button__label" ng-if="::isLabeled" translate="CLIENT_ACTIONS_FORGET"></span></div>'}},{"pug-runtime":23}],187:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseButtonController");function o(t,e,i,o,r){this.$translate=t,this.clientUtils=e,this.clientStateUtils=i,this.heyToasts=o,n.call(this,r)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){this.isApplicable=!(!this.model||this.model.get("is_wired")||this.model.get("blocked")||!this.clientStateUtils.isClientConnected(this.model))},o.prototype.reconnect=function(t){return t.preventDefault(),t.stopPropagation(),this.isPending=!0,this.clientUtils.reconnectClient(this.model).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isPending=!1}.bind(this))},o.$inject=["$translate","clientUtils","clientStateUtils","heyToasts","account"],angular.module("app-unifi-manage").controller("ClientButtonReconnectController",o)},{}],188:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiClientButtonReconnect",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiClientButtonReconnect",isLabeled:"=unifiClientButtonReconnectIsLabeled",isResponsive:"=unifiClientButtonReconnectIsResponsive"},controller:"ClientButtonReconnectController",controllerAs:"clientButtonReconnectCtrl",replace:!0,template:t("./clientButtonReconnect.pug")(),link:function(t,i,n,o){t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./clientButtonReconnect.pug":189}],189:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div ng-show="clientButtonReconnectCtrl.showButton()" ng-click="clientButtonReconnectCtrl.reconnect($event)" ng-class="{\'is-responsive\': isResponsive}" title="{{\'CLIENT_ACTIONS_RECONNECT\' | translate}}"><span class="button__icon icon" ng-class="clientButtonReconnectCtrl.isPending &amp;&amp; isLabeled ? \'ubnt-icon--clock-2\' : \'ubnt-icon--refresh-2\'"></span><span class="button__label" ng-if="::isLabeled" translate="CLIENT_ACTIONS_RECONNECT"></span></div>'}},{"pug-runtime":23}],190:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("ClientFreqDistributionModuleController",["$state","clients","BaseModuleController","resolveRepositoryGroupControllerMixin","DASHBOARD_COLORS","RADIO_TYPES",function(t,e,i,r,a,s){return new(function(l){function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return t.DASHBOARD_COLORS=a,t.pages=[],t.listeners={},t.repositories=["clients"],r(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,i),n(c,[{key:"init",value:function(){o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"init",this).call(this),this.legendConfig={labelProperty:"freq",valueProperty:"count",valueFormat:function(t){return t+"%"}},this.devicesChartConfig={dataProperty:"count",type:"solid",externalRingOffset:1,label:{main:"",secondary:""}},this.devicesChartConfig.onClick=function(){t.go("manage.site.clients")},this.listeners.clients=e.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),e.repository.collection.fetched&&this.collectData()}},{key:"destroy",value:function(){var t=this;o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"destroy",this).call(this),this.unregister(),Object.keys(this.listeners).forEach(function(e){t.listeners[e].stopListening()})}},{key:"onConfigChange",value:function(){this.collectData()}},{key:"isAvailable",value:function(){return this.data&&this.data.length}},{key:"collectData",value:function(){var t=e.repository.collection.countBy(function(t){return t.get("is_wired")?"none":t.get("radio").toUpperCase()}),i=(t.NA||0)+(t.NG||0);this.data=Object.keys(t).filter(function(t){return!!s[t]}).map(function(e){return{count:Math.round(t[e]/i*100),freq:s[e].frequency}})}}]),c}())}])},{}],191:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiClientFreqDistributionModule",["ModuleDirective",function(e){return new e("clientFreqDistribution",t("./clientFreqDistributionModule.pug")())}])},{"./clientFreqDistributionModule.pug":192}],192:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="module module--donut" ng-class="{\'is-editing\': clientFreqDistributionModuleCtrl.isEditingVisible &amp;&amp; !clientFreqDistributionModuleCtrl.isLoading}"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle" translate="{{::clientFreqDistributionModuleCtrl.definition.get(\'translationKey\')}}"></div></div><unifi-loading-module unifi-loading-module-loader="clientFreqDistributionModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="clientFreqDistributionModuleCtrl.isLoading" unifi-loading-module-failed="clientFreqDistributionModuleCtrl.failedToLoad" unifi-loading-module-retry="clientFreqDistributionModuleCtrl.retry()" unifi-loading-module-layout="clientFreqDistributionModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !clientFreqDistributionModuleCtrl.isLoading,        \'animated fadeOut\': clientFreqDistributionModuleCtrl.isLoading      }"><div class="moduleDonutChart" ng-if="!clientFreqDistributionModuleCtrl.isLoading &amp;&amp; clientFreqDistributionModuleCtrl.isAvailable()" ng-class="{          \'moduleDonutChart--standard10\': clientFreqDistributionModuleCtrl.config.palette === \'STANDARD_10\',          \'moduleDonutChart--blueGradient10\': clientFreqDistributionModuleCtrl.config.palette === \'BLUE_GRADIENT_10\',          \'moduleDonutChart--blueGradient5\': clientFreqDistributionModuleCtrl.config.palette === \'BLUE_GRADIENT_5\'        }"><unifi-donut-chart-with-tooltip unifi-donut-chart-with-tooltip-config="clientFreqDistributionModuleCtrl.devicesChartConfig" unifi-donut-chart-with-tooltip-data="clientFreqDistributionModuleCtrl.data"><div class="ubntTooltip noWrap noPointerEvents"'+(i="unifi-position-absolutely",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' ng-if="tooltipVisible" ng-class="cssTooltipPosition"><div class="type-ubnt-title mb-1">{{::focusedData.freq}}</div><span>{{::clientFreqDistributionModuleCtrl.legendConfig.valueFormat(focusedData.count)}}</span></div></unifi-donut-chart-with-tooltip><unifi-chart-legend class="moduleDonutLegend" unifi-chart-legend-config="clientFreqDistributionModuleCtrl.legendConfig" unifi-chart-legend-data="clientFreqDistributionModuleCtrl.data"></unifi-chart-legend></div><unifi-unavailable-donut-module ng-if="!clientFreqDistributionModuleCtrl.isLoading &amp;&amp; !clientFreqDistributionModuleCtrl.isAvailable()" unifi-unavailable-donut-module-icon="\'ubnt-icon--questionmark\'" unifi-unavailable-donut-module-translation-key="\'DASHBOARD_MODULE_CLIENT_FREQ_DISTRIBUTION_NO_CLIENTS\'"></unifi-unavailable-donut-module></div></div><div class="moduleEditor" ng-if="clientFreqDistributionModuleCtrl.isEditing"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--dark modularSubHeading--clipped moduleHeaderTitle" translate="{{::clientFreqDistributionModuleCtrl.definition.get(\'translationKey\')}}"></div></div><div class="moduleControls"><div class="moduleControlIcon moduleControlIcon--cancelEdit primary icon ubnt-icon--flip-horizontal" ng-click="clientFreqDistributionModuleCtrl._isEditing = false"></div></div><div class="moduleEditorForm"><form class="appForm appForm--cozy appForm--dark"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DASHBOARD_MODULE_COMMON_EDITOR_COLOR_PALETTE_LABEL"></label><div class="appInputGroup" ng-repeat="palette in [\'STANDARD_10\', \'BLUE_GRADIENT_10\'] track by $index"><ul class="list list--inline list--smash noMarginTop"><li class="list__item horizontalRhythm--cozy"><input type="radio" name="colors" ng-value="palette" ng-model="clientFreqDistributionModuleCtrl.config.palette"></li><li class="list__item" ng-repeat="color in clientFreqDistributionModuleCtrl.DASHBOARD_COLORS[palette] track by $index"><div class="statusBall appStatusBall" ng-style="{\'background-color\': color}"></div></li></ul></div></div></form></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],193:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"clients|freq-distribution",loader:"distribution",translationKey:"DASHBOARD_MODULE_DEFINITIONS_CLIENTS_FREQ_DISTRIBUTION",directive:"unifi-client-freq-distribution-module",preview:"images/dashboard/donut-chart.png",layout:"single",attrs:{isEditable:!0,defaultConfig:{palette:"STANDARD_10"}},requirements:{deviceType:"uap"}}])}])},{}],194:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("ClientGraphController",["$scope","$translate","account","BaseCollectionRepository","binaryPrefix","chartUtils","DataConverter","ReportCollection","statsFeatures","statsUtils","timeBasedGraphControllerMixin","REPORT_GRANULARITY","REPORT_TYPES","TRAFFIC",function(t,e,i,o,r,a,s,l,c,u,d,p,f,h){return new(function(){function p(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),d(this),this.isNumber=angular.isNumber,this.REPORT_TYPES=f}return n(p,[{key:"$onInit",value:function(){var e=this;this.chartConfig={dataMarkEvent:"CLIENT_GRAPH_DATA_MARK_EVENT",margin:{left:50,top:20,bottom:25,right:20},xProperty:"time",lockYAxises:!0,left:{interpolate:"curveMonotoneX",continuous:!1,type:"plot"},right:{interpolate:"curveMonotoneX",continuous:!1,type:"plot",yAxisFormat:function(){return""},yAxisLabel:""}},this.chartConfig.left.yAxisFormat=function(t){return e.type===f.CLIENT.BYTES||e.type===f.CLIENT.RATE?t:r.parse(t,"SI").toString()},this.chartConfig.xAxisFormat=function(t){return e.xAxisFormat(e.chartConfig.xAxisTickResolution,t)},this.isCozy&&(this.chartConfig.margin.left=40,this.chartConfig.margin.right=15),this.useBps=c.useBps(),this.updateDataConverter(),this.updateConfig(),this.updateRepository(),t.$on(this.chartConfig.dataMarkEvent,function(t,i){e.markItem(i)}),this.repository.register(),this.listener=this.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),this.repository.refresh(),i.repository.model.on("change",this.update,this)}},{key:"$onChanges",value:function(t){this.chartConfig&&(this.useBps=c.useBps(),t.granularity&&this.updateDataConverter(),(t.type||t.start||t.end)&&this.updateConfig(),this.updateRepository(),this.repository.refresh())}},{key:"$onDestroy",value:function(){this.listener.stopListening(),this.repository.unregister(),i.repository.model.off("change",this.update,this)}},{key:"updateDataConverter",value:function(){var t=this,e={rx:"rx_bytes",tx:"tx_bytes",rx_packets:"rx_packets",tx_packets:"tx_packets",rx_retries:"rx_retries",tx_retries:"tx_retries",rx_rate:"rx_rate",tx_rate:"tx_rate",rx_mcast:"rx_mcast",bytes:"bytes",signal:"signal",time:"time"};e.tx_rate=function(t){return 1e3*t.tx_rate},e.rx_rate=function(t){return 1e3*t.rx_rate},this.useBps&&(e.rx=function(e){return u.bytesToBps(e.rx_bytes,t.granularity.grainInSeconds)},e.tx=function(e){return u.bytesToBps(e.tx_bytes,t.granularity.grainInSeconds)},e.bytes=function(e){return u.bytesToBps(e.bytes,t.granularity.grainInSeconds)}),this.dataConverter=(new s).sortedBy("time").withMap(e,!1).withBinaryNormalization(["time","signal","bytes","rx_mcast","rx_packets","tx_packets","rx_bytes","tx_bytes"],!0,{tx_rate:"SI",rx_rate:"SI"})}},{key:"updateRepository",value:function(){var t=["time"];switch(this.type){case f.CLIENT.BYTES:t=t.concat(["rx_bytes","tx_bytes"]);break;case f.CLIENT.PACKETS:t=t.concat(["rx_packets","tx_packets"]);break;case f.CLIENT.RETRIES:t=t.concat(["rx_retries","tx_retries"]);break;case f.CLIENT.RATE:t=t.concat(["rx_rate","tx_rate"]);break;case f.CLIENT.SIGNAL:t=t.concat(["signal"])}this.repository?this.repository.collection.setType("user"):this.repository=new o(new l("user")),this.repository.collection.setAttrs(t),this.repository.collection.setMac(this.client.get("mac")),this.repository.collection.setDateInterval(this.start,this.end),this.repository.collection.setGranularity(this.granularity)}},{key:"updateConfig",value:function(){switch(this.type){case f.CLIENT.BYTES:this.chartConfig.left.yProperty=["rx"],this.chartConfig.right.yProperty=["tx"],this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_CLIENT_TRAFFIC_LABEL",{prefix:this.units?r.getMaxPrefix(this.units.rx,this.units.tx):"",unit:this.useBps?h.UNIT.BPS:h.UNIT.BYTES});break;case f.CLIENT.PACKETS:this.chartConfig.left.yProperty=["rx_packets"],this.chartConfig.right.yProperty=["tx_packets"],this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_CLIENT_PACKETS_LABEL",{prefix:this.units?r.getMaxPrefix(this.units.rx_packets,this.units.tx_packets):""});break;case f.CLIENT.SIGNAL:this.chartConfig.lockYAxises=!1,this.chartConfig.left.yProperty=["signal"],this.chartConfig.left.domain=[-100,0],this.chartConfig.right={},this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_CLIENT_SIGNAL_LABEL");break;case f.CLIENT.RATE:this.chartConfig.left.yProperty=["rx_rate"],this.chartConfig.right.yProperty=["tx_rate"],this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_CLIENT_RATE_LABEL",{prefix:this.units?r.getMaxPrefix(this.units.rx_rate,this.units.tx_rate):""});break;case f.CLIENT.RETRIES:this.chartConfig.left.yProperty=["rx_retries"],this.chartConfig.right.yProperty=["tx_retries"],this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_CLIENT_RETRIES_LABEL",{prefix:this.units?r.getMaxPrefix(this.units.rx_retries,this.units.tx_retries):""})}this.chartConfig.xScaleDomain=[this.start,this.end],this.chartConfig.xAxisTickResolution=this.getTickResolution(this.start,this.end)}},{key:"collectData",value:function(){var t=this.dataConverter.process(this.repository.collection.toJSON());this.units=this.dataConverter.units,this.data=a.preventContinuousPlot(t,this.granularity.grain,"time"),this.updateConfig()}}]),p}())}])},{}],195:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiClientGraph",{controller:"ClientGraphController",controllerAs:"clientGraphCtrl",template:t("./clientGraph.pug")(),bindings:{client:"<unifiClientGraphClient",start:"<unifiClientGraphStart",end:"<unifiClientGraphEnd",granularity:"<unifiClientGraphGranularity",type:"<unifiClientGraphType",isCozy:"<unifiClientGraphCozy"}})},{"./clientGraph.pug":196}],196:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiClient"><unifi-line-chart-with-tooltip class="unifiClientGraph positionRelative" unifi-line-chart-with-tooltip-config="clientGraphCtrl.chartConfig" unifi-line-chart-with-tooltip-data="clientGraphCtrl.data" unifi-line-chart-with-tooltip-external-source="clientGraphCtrl.focusedData" ng-class="{      \'unifiClientGraph--cozy\': clientGraphCtrl.isCozy,      \'is-responsive\': !clientGraphCtrl.isCozy,      \'unifiClientGraph--bytes\': clientGraphCtrl.type === clientGraphCtrl.REPORT_TYPES.CLIENT.BYTES,       \'unifiClientGraph--packets\': clientGraphCtrl.type === clientGraphCtrl.REPORT_TYPES.CLIENT.PACKETS,       \'unifiClientGraph--signal\': clientGraphCtrl.type === clientGraphCtrl.REPORT_TYPES.CLIENT.SIGNAL,       \'unifiClientGraph--retries\': clientGraphCtrl.type === clientGraphCtrl.REPORT_TYPES.CLIENT.RETRIES,       \'unifiClientGraph--rate\': clientGraphCtrl.type === clientGraphCtrl.REPORT_TYPES.CLIENT.RATE,       \'unifiClientGraph--channelUtilization\': clientGraphCtrl.type === clientGraphCtrl.REPORT_TYPES.CLIENT.CHANNEL_UTILIZATION      }"><div class="unifiChartTooltipHeader">{{clientGraphCtrl.focusedData.time | statsTimeRange: clientGraphCtrl.granularity}}</div><div class="unifiChartTooltipBody" ng-if="clientGraphCtrl.type === clientGraphCtrl.REPORT_TYPES.CLIENT.RETRIES"><div class="verticalRhythmQuarter" ng-if="clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.tx_retries)"><div class="col--xs8 noPadding unifiChartTooltipBody__title">{{\'STATISTICS_CLIENT_RX_RETRIES\' | translate}}</div><div class="col--xs4 noPadding unifiChartTooltipBody__number down"><strong>{{clientGraphCtrl.focusedData.tx_retries | number:0}}</strong></div></div><div class="verticalRhythmQuarter" ng-if="clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.rx_retries)"><div class="col--xs8 noPadding unifiChartTooltipBody__title">{{\'STATISTICS_CLIENT_TX_RETRIES\' | translate}}</div><div class="col--xs4 noPadding unifiChartTooltipBody__number up"><strong>{{clientGraphCtrl.focusedData.rx_retries | number:0}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.rx_retries) &amp;&amp; !clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.tx_retries)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">{{\'PERFORMANCE_NO_DATA_AVAILABLE\' | translate}}</p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="clientGraphCtrl.type === clientGraphCtrl.REPORT_TYPES.CLIENT.BYTES"><div class="verticalRhythmQuarter" ng-if="clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.tx)"><div class="col--xs8 noPadding unifiChartTooltipBody__title">{{\'STATISTICS_CLIENT_RX\' | translate}}</div><div class="col--xs4 noPadding noWrap unifiChartTooltipBody__number down"><strong ng-if="!clientGraphCtrl.useBps">{{clientGraphCtrl.focusedData.raw.tx | bytes}}</strong><strong ng-if="clientGraphCtrl.useBps">{{clientGraphCtrl.focusedData.raw.tx | bps}}</strong></div></div><div class="verticalRhythmQuarter" ng-if="clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.rx)"><div class="col--xs8 noPadding unifiChartTooltipBody__title">{{\'STATISTICS_CLIENT_TX\' | translate}}</div><div class="col--xs4 noPadding noWrap unifiChartTooltipBody__number up"><strong ng-if="!clientGraphCtrl.useBps">{{clientGraphCtrl.focusedData.raw.rx | bytes}}</strong><strong ng-if="clientGraphCtrl.useBps">{{clientGraphCtrl.focusedData.raw.rx | bps}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.rx) &amp;&amp; !clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.tx)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">{{\'PERFORMANCE_NO_DATA_AVAILABLE\' | translate}}</p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="clientGraphCtrl.type === clientGraphCtrl.REPORT_TYPES.CLIENT.PACKETS"><div class="verticalRhythmQuarter" ng-if="clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.tx_packets)"><div class="col--xs8 noPadding unifiChartTooltipBody__title">{{\'STATISTICS_CLIENT_RX_PKTS\' | translate}}</div><div class="col--xs4 noPadding unifiChartTooltipBody__number down"><strong>{{clientGraphCtrl.focusedData.tx_packets | number:0}}</strong></div></div><div class="verticalRhythmQuarter" ng-if="clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.rx_packets)"><div class="col--xs8 noPadding unifiChartTooltipBody__title">{{\'STATISTICS_CLIENT_TX_PKTS\' | translate}}</div><div class="col--xs4 noPadding unifiChartTooltipBody__number up"><strong>{{clientGraphCtrl.focusedData.rx_packets | number:0}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.rx_packets) &amp;&amp; !clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.tx_packets)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">{{\'PERFORMANCE_NO_DATA_AVAILABLE\' | translate}}</p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="clientGraphCtrl.type === clientGraphCtrl.REPORT_TYPES.CLIENT.SIGNAL"><div class="verticalRhythmQuarter" ng-if="clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.signal)"><div class="col--xs8 noPadding unifiChartTooltipBody__title">{{\'STATISTICS_CLIENT_SIGNAL\' | translate}}</div><div class="col--xs4 noPadding unifiChartTooltipBody__number"><strong>{{clientGraphCtrl.focusedData.signal | number:0}}</strong>{{\'DEVICE_RADIO_TRANSMIT_POWER_DBM\' | translate}}</div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.signal)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">{{\'PERFORMANCE_NO_DATA_AVAILABLE\' | translate}}</p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="clientGraphCtrl.type === clientGraphCtrl.REPORT_TYPES.CLIENT.RATE"><div class="verticalRhythmQuarter" ng-if="clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.tx_rate)"><div class="col--xs8 noPadding unifiChartTooltipBody__title">{{\'STATISTICS_CLIENT_RX_RATE\' | translate}}</div><div class="col--xs4 noPadding unifiChartTooltipBody__number down"><strong>{{clientGraphCtrl.focusedData.raw.tx_rate / 1000 | rxtx}}</strong></div></div><div class="verticalRhythmQuarter" ng-if="clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.rx_rate)"><div class="col--xs8 noPadding unifiChartTooltipBody__title">{{\'STATISTICS_CLIENT_TX_RATE\' | translate}}</div><div class="col--xs4 noPadding unifiChartTooltipBody__number up"><strong>{{clientGraphCtrl.focusedData.raw.rx_rate / 1000 | rxtx}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.rx_rate) &amp;&amp; !clientGraphCtrl.isNumber(clientGraphCtrl.focusedData.tx_rate)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">{{\'PERFORMANCE_NO_DATA_AVAILABLE\' | translate}}</p></div></div></div></div></unifi-line-chart-with-tooltip></div>'}},{"pug-runtime":23}],197:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t){this.clientUtils=t,n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){this.className=this.clientUtils.getIconClassName(this.model)},o.prototype.getClassName=function(){return this.className},o.$inject=["clientUtils"],angular.module("app-unifi-manage").controller("ClientIconController",o)},{}],198:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiClientIcon",[function(){return{scope:{client:"=unifiClientIcon"},controller:"ClientIconController",controllerAs:"clientIconCtrl",replace:!0,restrict:"A",template:t("./clientIcon.pug")(),link:function(t,e,i,n){t.$watch("client",function(t){n.updateModel(t)}),t.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./clientIcon.pug":199}],199:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<span class="unifiClientIcon {{clientIconCtrl.getClassName()}}"></span>'}},{"pug-runtime":23}],200:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("ClientListController",["BaseClientListController","account","clients","devices","deviceRadioUtils","dpi","networks","userGroups","clientUplinkUtils","ClientFilter","clientsComparator","clientListColumnStore","BatchClientModel","CacheableClientCollection","CollectionView","preferences","listBatchEditControllerMixin","listCollapsibleColumnControllerMixin",function(t,e,i,r,a,s,l,c,u,d,p,f,h,_,m,g,v,E){return new(function(m){function g(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return t.account=e,t.clients=i,t.devices=r,t.deviceRadioUtils=a,t.dpi=s,t.networks=l,t.userGroups=c,t.comparator=p,t.columnStore=f,t.filter=new d,t.defaultSortBy="state",t.collapsibleColumnKeyActions="collapse:client:actions",t.collapsibleColumnKeyActivity="collapse:client:activity",t.getUplink=u.getUplink.bind(u),t.getUplinkDisplayName=u.getUplinkDisplayName.bind(u),t.getUplinkPropertyPanelState=u.getUplinkPropertyPanelState.bind(u),t.isColumnVisible=t.columnStore.isColumnVisible.bind(t.columnStore),t.listeners={},v(t),t.initBatchEditModel("batch:sta","batch:sta",_,h),t.useBatchEditId("batch:sta"),E(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(g,t),n(g,[{key:"initView",value:function(){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"initView",this).call(this),i.repository.collection.on("countersUpdate",this.setViewFilterCounts,this),this.listeners.devices=r.repository.collection.onUpdate(this.setApFilterCollection.bind(this)),this.setViewFilterCounts(),this.setApFilterCollection()}},{key:"destroyView",value:function(){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"destroyView",this).call(this),Object.keys(this.listeners).forEach(function(t){this.listeners[t].stopListening()}.bind(this)),i.repository.collection.off("countersUpdate",this.setViewFilterCounts,this)}},{key:"initFilters",value:function(){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"initFilters",this).call(this);var t=this.listState.getFilter("radio");this.filter.setRadioTypeFilter(t&&"all"!==t?t:void 0);var e=this.listState.getFilter("active");this.filter.setActiveFilter("active"===e),this.hasActiveFilter=this.filter.hasActiveFilter.bind(this.filter),this.getRadioTypeFilter=this.filter.getRadioTypeFilter.bind(this.filter),this.hasRadioTypeFilter=this.filter.hasRadioTypeFilter.bind(this.filter),this.initFilterView(),this.refreshColumns()}},{key:"initFilterView",value:function(){this.filterViewGroups=[],this.filterViewGroups.push({id:"clientWired",translationKey:"CLIENT_FILTER_TITLE_WIRED",items:[{id:"all",translationKey:"CLIENT_WIRED_FILTER_ALL",excludeFromSummary:!0,getCount:function(){return this.counts.sum.all}.bind(this),isSelected:function(){return!this.hasWiredFilter()}.bind(this),onSelect:function(){return this.clearWiredFilter()}.bind(this)},{id:"wireless",translationKey:"CLIENT_WIRED_FILTER_FALSE",getCount:function(){return this.counts.wireless.sum.all}.bind(this),isSelected:function(){return!1===this.getWiredFilter()}.bind(this),onSelect:function(){return this.setWiredFilter(!1)}.bind(this)},{id:"wired",translationKey:"CLIENT_WIRED_FILTER_TRUE",getCount:function(){return this.counts.wired.all}.bind(this),isSelected:function(){return!0===this.getWiredFilter()}.bind(this),onSelect:function(){return this.setWiredFilter(!0)}.bind(this)}]}),this.filterViewGroups.push({id:"clientRadio",translationKey:"CLIENT_FILTER_TITLE_RADIO",isVisible:function(){return!1===this.getWiredFilter()}.bind(this),items:[{id:"all",translationKey:"CLIENT_RADIO_TYPE_FILTER_ALL",excludeFromSummary:!0,getCount:function(){return this.counts.wireless.sum.all}.bind(this),isSelected:function(){return!this.hasRadioTypeFilter()}.bind(this),onSelect:function(){return this.clearRadioTypeFilter()}.bind(this)},{id:"ng",translationKey:"CLIENT_RADIO_TYPE_FILTER_NG",getCount:function(){return this.counts.wireless.ng.all}.bind(this),isSelected:function(){return"ng"===this.getRadioTypeFilter()}.bind(this),onSelect:function(){return this.setRadioTypeFilter("ng")}.bind(this)},{id:"na",translationKey:"CLIENT_RADIO_TYPE_FILTER_NA",getCount:function(){return this.counts.wireless.na.all}.bind(this),isSelected:function(){return"na"===this.getRadioTypeFilter()}.bind(this),onSelect:function(){return this.setRadioTypeFilter("na")}.bind(this)}]}),this.filterViewGroups.push({id:"clientGuest",translationKey:"CLIENT_FILTER_TITLE_GUEST",items:[{id:"all",translationKey:"CLIENT_GUEST_FILTER_ALL",excludeFromSummary:!0,getCount:function(){return this.viewCounts.clients.all}.bind(this),isSelected:function(){return!this.hasGuestFilter()}.bind(this),onSelect:function(){return this.clearGuestFilter()}.bind(this)},{id:"user",translationKey:"CLIENT_GUEST_FILTER_FALSE",getCount:function(){return this.viewCounts.clients.users}.bind(this),isSelected:function(){return!1===this.getGuestFilter()}.bind(this),onSelect:function(){return this.setGuestFilter(!1)}.bind(this)},{id:"guest",translationKey:"CLIENT_GUEST_FILTER_TRUE",getCount:function(){return this.viewCounts.clients.guests}.bind(this),isSelected:function(){return!0===this.getGuestFilter()}.bind(this),onSelect:function(){return this.setGuestFilter(!0)}.bind(this)}]}),this.filterViewGroups.push({id:"active",translationKey:"CLIENT_FILTER_TITLE_ACTIVE",isVisible:function(){return!1===this.getWiredFilter()}.bind(this),items:[{id:"all",translationKey:"CLIENT_ACTIVE_FILTER_ALL",excludeFromSummary:!0,getCount:function(){return this.counts.wireless.sum.all}.bind(this),isSelected:function(){return!this.hasActiveFilter()}.bind(this),onSelect:function(){return this.clearActiveFilter()}.bind(this)},{id:"active",translationKey:"CLIENT_ACTIVE_FILTER_TRUE",getCount:function(){return this.counts.wireless.sum.active}.bind(this),isSelected:function(){return this.hasActiveFilter()}.bind(this),onSelect:function(){return this.setActiveFilter(!0)}.bind(this)}]})}},{key:"setViewFilterCounts",value:function(){this.counts=i.getClientCounts(),this.viewCounts={clients:{},networks:{}},this.hasWiredFilter()?this.getWiredFilter()?this.viewCounts.clients=this.counts.wired:this.hasRadioTypeFilter()?this.viewCounts.clients=this.counts.wireless[this.getRadioTypeFilter()]:this.viewCounts.clients=this.counts.wireless.sum:this.viewCounts.clients=this.counts.sum,!0===this.getWiredFilter()&&angular.forEach(this.view.getModels(),function(t){t.get("network_id")&&(this.viewCounts.networks[t.get("network_id")]=(this.viewCounts.networks[t.get("network_id")]||0)+1)}.bind(this))}},{key:"setWiredFilter",value:function(t){this.beginStateChange(),o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"setWiredFilter",this).call(this,t),this.clearApFilter(),this.clearNetworkFilter(),t&&(this.clearRadioTypeFilter(),this.clearActiveFilter()),this.commitStateChange()}},{key:"clearWiredFilter",value:function(){this.beginStateChange(),o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"clearWiredFilter",this).call(this),this.clearActiveFilter(),this.clearRadioTypeFilter(),this.clearApFilter(),this.clearNetworkFilter(),this.commitStateChange()}},{key:"setRadioTypeFilter",value:function(t){this.beginStateChange(),this.listState.addFilter("radio",t),this.filter.setRadioTypeFilter(t),this.commitStateChange()}},{key:"clearRadioTypeFilter",value:function(){this.beginStateChange(),this.listState.removeFilter("radio"),this.filter.clearRadioTypeFilter(),this.commitStateChange()}},{key:"setApFilter",value:function(t){this.beginStateChange(),this.filter.setMacFilter(t?t.get("mac"):void 0),this.commitStateChange()}},{key:"clearApFilter",value:function(){this.beginStateChange(),this.filter.clearMacFilter(),this.commitStateChange()}},{key:"setNetworkFilter",value:function(t){this.beginStateChange(),this.filter.setNetworkFilter(t?t.id:void 0),this.commitStateChange()}},{key:"clearNetworkFilter",value:function(){this.beginStateChange(),this.filter.clearNetworkFilter(),this.commitStateChange()}},{key:"setActiveFilter",value:function(t){this.beginStateChange(),t?this.listState.addFilter("active","active"):this.listState.removeFilter("active"),this.filter.setActiveFilter(t),this.commitStateChange()}},{key:"clearActiveFilter",value:function(){this.setActiveFilter(!1)}},{key:"setApFilterCollection",value:function(){this.apFilterCollection=new r.repository.collection.constructor(r.repository.collection.filter(function(t){return t.isAp()&&t.get("num_sta")>0}))}},{key:"getApFilterTitle",value:function(t){var e,i="num_sta";return this.hasGuestFilter()&&(i=(this.getGuestFilter()?"guest-":"user-")+i),e=this.hasRadioTypeFilter()?a.getRadioStatsByType(t,this.getRadioTypeFilter()).reduce(function(t,e){return t+e.get(i)},0):t.get(i)||0,t.getDisplayName()+" ("+e+")"}},{key:"getNetworkFilterTitle",value:function(t){return t.get("name")+" ("+(this.viewCounts.networks[t.id]||0)+")"}},{key:"getUserGroupName",value:function(t){if(t.get("usergroup_id")){var e=c.repository.collection.get(t.get("usergroup_id"));return e&&e.get("name")}}},{key:"refreshColumns",value:function(){this.isStateChanging()||(this.columnStore.setWiredFilter(this.getWiredFilter()),this.columnStore.setGuestFilter(this.getGuestFilter()),this.columnStore.setColumns())}},{key:"refresh",value:function(t){return this.refreshColumns(),o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"refresh",this).call(this,t)}},{key:"commitStateChange",value:function(){var t=this;o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"commitStateChange",this).call(this).then(function(){t.setViewFilterCounts()})}},{key:"getCollection",value:function(){return i.repository.collection}},{key:"isBatchEditAllowed",value:function(){return!0}}]),g}())}])},{}],201:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiClientList",["PaginatedListDirective","listBatchEditDirectiveMixin",function(e,i){var n=new e("client",t("./clientList.pug")());return n.addMixin(i),n}])},{"./clientList.pug":202}],202:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters visible--lgUp"><unifi-ui-list-filter-buttons unifi-ui-list-filter-buttons-config="clientListCtrl.filterViewGroups"></unifi-ui-list-filter-buttons><div class="appActionBarFilter" ng-if="clientListCtrl.getWiredFilter() === false"><unifi-collection-button-dropdown unifi-collection-button-dropdown-collection="clientListCtrl.apFilterCollection" unifi-collection-button-dropdown-default-label="{{\'COMMON_LABEL_ALL\' | translate}}" unifi-collection-button-dropdown-label-prefix="{{\'CLIENT_WIRELESS_AP_FILTER_LABEL\' | translate}}" unifi-collection-button-dropdown-label-icon="ubnt-icon--ap2" unifi-collection-button-dropdown-title-function="clientListCtrl.getApFilterTitle(model)" unifi-collection-button-dropdown-on-item-select="clientListCtrl.setApFilter(model)" unifi-collection-button-dropdown-requires-sorting="true"></unifi-collection-button-dropdown></div><div class="appActionBarFilter" ng-if="clientListCtrl.getWiredFilter() === true"><unifi-collection-button-dropdown unifi-collection-button-dropdown-collection="clientListCtrl.networks.repository.collection" unifi-collection-button-dropdown-default-label="{{\'COMMON_LABEL_ALL\' | translate}}" unifi-collection-button-dropdown-label-prefix="{{\'CLIENT_WIRED_NETWORK_FILTER_LABEL\' | translate}}" unifi-collection-button-dropdown-label-icon="ubnt-icon--network" unifi-collection-button-dropdown-title-function="clientListCtrl.getNetworkFilterTitle(model)" unifi-collection-button-dropdown-on-item-select="clientListCtrl.setNetworkFilter(model)" unifi-collection-button-dropdown-requires-sorting="true"></unifi-collection-button-dropdown></div></div><div class="appActionBarFilters visible--mdDown"><unifi-ui-list-filter-dropdown unifi-ui-list-filter-dropdown-config="clientListCtrl.filterViewGroups" unifi-ui-list-filter-dropdown-filter-by-label="{{\'COMMON_LABEL_FILTER_BY\' | translate}}" unifi-ui-list-filter-dropdown-filter-by-all-label="{{\'COMMON_LABEL_FILTER_ALL\' | translate}}"></unifi-ui-list-filter-dropdown><div class="appActionBarFilter" ng-switch="clientListCtrl.getWiredFilter()"><unifi-collection-button-dropdown ng-switch-when="false" unifi-collection-button-dropdown-collection="clientListCtrl.apFilterCollection" unifi-collection-button-dropdown-default-label="{{\'COMMON_LABEL_ALL\' | translate}}" unifi-collection-button-dropdown-label-prefix="{{\'CLIENT_WIRELESS_AP_FILTER_LABEL\' | translate}}" unifi-collection-button-dropdown-label-icon="ubnt-icon--ap2" unifi-collection-button-dropdown-title-function="clientListCtrl.getApFilterTitle(model)" unifi-collection-button-dropdown-on-item-select="clientListCtrl.setApFilter(model)" unifi-collection-button-dropdown-requires-sorting="true"></unifi-collection-button-dropdown><unifi-collection-button-dropdown ng-switch-when="true" unifi-collection-button-dropdown-collection="clientListCtrl.networks.repository.collection" unifi-collection-button-dropdown-default-label="{{\'COMMON_LABEL_ALL\' | translate}}" unifi-collection-button-dropdown-label-prefix="{{\'CLIENT_WIRED_NETWORK_FILTER_LABEL\' | translate}}" unifi-collection-button-dropdown-label-icon="ubnt-icon--network" unifi-collection-button-dropdown-title-function="clientListCtrl.getNetworkFilterTitle(model)" unifi-collection-button-dropdown-on-item-select="clientListCtrl.setNetworkFilter(model)" unifi-collection-button-dropdown-requires-sorting="true"></unifi-collection-button-dropdown></div></div></div><div class="appActionBar__right"><div class="appActionBarFilters"><div class="appActionBarFilter appActionBarFilter--noBorder visible--lgUp"><a class="appMainButton appMainButton--cozy appMainButton--primary editBatchClients" ng-if="clientListCtrl.isBatchEditable() &amp;&amp; clientListCtrl.getBatchEditDestination().length" unifi-open-panel="clientListCtrl.getBatchEditModel()" unifi-open-panel-active-tab="\'configure\'"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT_SELECTED"></span></a></div><div class="appActionBarFilter appActionBarFilter--noBorder"><a class="appMainButton appMainButton--primary appMainButton--cozy"'+n("unifi-if-role-admin",!0,!0,!0)+' frame-show="addClient"><span class="button__icon ubnt-icon--plus"></span><span translate="CLIENT_LIST_ACTIONS_ADD_CLIENT"></span></a></div><div class="appActionBarFilter"><a class="appMainButton appMainButton--primary appMainButton--cozy" ui-sref="manage.site.insights.knownclients({within: \'0\', configuration: \'configured\'})">{{\'CLIENT_LIST_ACTIONS_ALL_CONFIGURED_CLIENTS\' | translate}}</a></div><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="clientListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="clientListCtrl.view.isRefreshing()"></unifi-search></div></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped appForm appForm--cozy" id="clientsTable" collection-view-sort="clientListCtrl.view" ng-class="{          \'is-not-responsive\': clientListCtrl.columnStore.getCustomized() || !clientListCtrl.isResponsive()        }" unifi-bind-notifier="{          table_refresh: clientListCtrl.columnStore.getColumns(),          table_refresh: clientListCtrl.isResponsive(),          table_refresh: clientListCtrl.isColumnCollapsed(clientListCtrl.collapsibleColumnKeyActions),          table_refresh: clientListCtrl.isColumnCollapsed(clientListCtrl.collapsibleColumnKeyActivity)        }" unifi-condensed="appTable--condensed"><thead><tr>\x3c!-- td here is intentionally. th breaks checkmark style.--\x3e<td class="clientCheckbox appTableCell--smash noPaddingTop"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="::clientListCtrl.isBatchEditable()"><input type="checkbox" name="clientListSelectAllBatchEdit" ng-checked="clientListCtrl.selectAllBatchEdit" ng-click="clientListCtrl.toggleSelectAllBatchEdit()" unifi-indeterminate-checkbox="clientListCtrl.isSelectAllBatchEditIndeterminate"></td><th class="alignCenter clientStateIcon visible--smUp" collection-view-sort-by="state"></th><th class="clientName" ng-if="clientListCtrl.isColumnVisible(\'name\')" collection-view-sort-by="name"><span translate="CLIENT_TABLE_HEADER_NAME"></span></th><th class="clientHostname visible--lgUp" ng-if="clientListCtrl.isColumnVisible(\'hostname\')" collection-view-sort-by="hostname"><span translate="CLIENT_TABLE_HEADER_HOSTNAME"></span></th><th class="clientMacAddress visible--lgUp" ng-if="clientListCtrl.isColumnVisible(\'mac\')" collection-view-sort-by="mac"><span translate="CLIENT_TABLE_HEADER_MAC_ADDRESS"></span></th><th class="clientIp" ng-if="clientListCtrl.isColumnVisible(\'ip\')" collection-view-sort-by="ip"><span translate="CLIENT_TABLE_HEADER_IP"></span></th><th class="clientSatisfaction visible--mdUp" ng-if="(\'enableWiFiExperience\' | featureFlagEnable) &amp;&amp; clientListCtrl.isColumnVisible(\'satisfaction\')" collection-view-sort-by="satisfaction"><span translate="CLIENT_TABLE_HEADER_WIFI_SATISFACTION"></span></th><th class="client8021xIdentity" ng-if="clientListCtrl.isColumnVisible(\'1x_identity\')" collection-view-sort-by="1x_identity"><span translate="CLIENT_TABLE_HEADER_8021X_IDENTITY"></span></th><th class="client8021xVlan" ng-if="clientListCtrl.isColumnVisible(\'vlan\')" collection-view-sort-by="vlan"><span translate="CLIENT_TABLE_HEADER_8021X_VLAN"></span></th><th class="clientStatus" ng-if="clientListCtrl.isColumnVisible(\'status\')" collection-view-sort-by="status"><span translate="CLIENT_TABLE_HEADER_STATUS"></span></th><th class="clientUserGroup" ng-if="clientListCtrl.isColumnVisible(\'usergroup_id\')" collection-view-sort-by="usergroup_id"><span translate="CLIENT_TABLE_HEADER_USER_GROUP"></span></th><th class="clientConnection visible--smUp" ng-if="clientListCtrl.isColumnVisible(\'connection\')" collection-view-sort-by="connection"><span translate="CLIENT_TABLE_HEADER_CONNECTION{{clientListCtrl.hasWiredFilter() ? (clientListCtrl.getWiredFilter() ? \'_WIRED\' : \'_WIRELESS\') : \'\'}}"></span></th><th class="clientApPort" ng-if="clientListCtrl.isColumnVisible(\'uplink\')" collection-view-sort-by="uplink"><span translate="CLIENT_TABLE_HEADER_AP_PORT"></span></th><th class="clientChannel visible--lgUp" ng-if="clientListCtrl.isColumnVisible(\'channel\')" collection-view-sort-by="channel"><span translate="CLIENT_TABLE_HEADER_CHANNEL"></span></th><th class="clientPhyMode visible--lgUp" ng-if="clientListCtrl.isColumnVisible(\'phy_mode\')" collection-view-sort-by="phy_mode"><span translate="CLIENT_TABLE_HEADER_PHY_MODE"></span></th><th class="clientIs11r visible--lgUp appTableCell--smash appTableCell--withTooltip" ng-if="clientListCtrl.isColumnVisible(\'is_11r\')" collection-view-sort-by="is_11r"><span translate="CLIENT_TABLE_HEADER_FT"></span><unifi-tooltip class="ml-1"><content translate="CLIENT_TABLE_TOOLTIP_FT"></content></unifi-tooltip></th><th class="clientSignal visible--mdUp" ng-if="clientListCtrl.isColumnVisible(\'signal\')" collection-view-sort-by="rssi"><span translate="CLIENT_TABLE_HEADER_SIGNAL"></span>\x3c!-- intentionally switched rx/tx as values are reported from AP point of view--\x3e<th class="clientTxRate visible--lgUp" ng-if="clientListCtrl.isColumnVisible(\'tx_rate\')" collection-view-sort-by="tx_rate"><span translate="CLIENT_TABLE_HEADER_RX_RATE"></span></th><th class="clientRxRate visible--lgUp" ng-if="clientListCtrl.isColumnVisible(\'rx_rate\')" collection-view-sort-by="rx_rate"><span translate="CLIENT_TABLE_HEADER_TX_RATE"></span></th></th><th class="clientActivity visible--mdUp" ng-if="clientListCtrl.isColumnVisible(\'activity\')" collection-view-sort-by="activity"><span translate="CLIENT_TABLE_HEADER_ACTIVITY"></span><span unifi-collapsible-table-icon="clientListCtrl.collapsibleColumnKeyActivity"></span></th><th class="clientActivityDown visible--mdUp" ng-if="clientListCtrl.isColumnVisible(\'activity_down\')" collection-view-sort-by="activity_down"><span translate="CLIENT_TABLE_HEADER_ACTIVITY_DOWN"></span></th><th class="clientActivityUp visible--mdUp" ng-if="clientListCtrl.isColumnVisible(\'activity_up\')" collection-view-sort-by="activity_up"><span translate="CLIENT_TABLE_HEADER_ACTIVITY_UP"></span></th><th class="clientInterNetworkDown visible--mdUp" ng-if="clientListCtrl.isColumnVisible(\'inter_network_down\')" collection-view-sort-by="inter_network_down"><span translate="CLIENT_TABLE_HEADER_INTER_NETWORK_DOWN"></span></th><th class="clientInterNetworkUp visible--mdUp" ng-if="clientListCtrl.isColumnVisible(\'inter_network_up\')" collection-view-sort-by="inter_network_up"><span translate="CLIENT_TABLE_HEADER_INTER_NETWORK_UP"></span></th><th class="clientUptime visible--mdUp" ng-if="clientListCtrl.isColumnVisible(\'uptime\')" collection-view-sort-by="uptime"><span translate="CLIENT_TABLE_HEADER_UPTIME"></span></th><th class="clientDeviceVendor visible--mdUp" ng-if="clientListCtrl.isColumnVisible(\'vendor\')" collection-view-sort-by="vendor"><span translate="CLIENT_TABLE_HEADER_DEVICE_VENDOR"></span></th><th class="clientDeviceCatetogry visible--mdUp" ng-if="clientListCtrl.isColumnVisible(\'dev_cat\')" collection-view-sort-by="dev_cat"><span translate="CLIENT_TABLE_HEADER_DEVICE_CAT"></span></th><th class="clientDeviceId visible--mdUp" ng-if="clientListCtrl.isColumnVisible(\'dev_id\')" collection-view-sort-by="dev_id"><span translate="CLIENT_TABLE_HEADER_DEVICE_ID"></span></th><th class="clientOsName visible--mdUp" ng-if="clientListCtrl.isColumnVisible(\'os_name\')" collection-view-sort-by="os_name"><span translate="CLIENT_TABLE_HEADER_OS_NAME"></span></th><th class="clientActions appTableCell--withAction"'+n("unifi-if-role-admin",!0,!0,!0)+'><span translate="CLIENT_TABLE_HEADER_ACTIONS"></span><span unifi-collapsible-table-icon="clientListCtrl.collapsibleColumnKeyActions"></span><unifi-list-column-selector unifi-list-column-selector-with-batch-edit="clientListCtrl.account.isAdmin()" unifi-list-column-selector-column-store="clientListCtrl.columnStore"></unifi-list-column-selector></th><th class="clientActions appTableCell--isActionOnly" unifi-if-role-admin="false"><unifi-list-column-selector unifi-list-column-selector-column-store="clientListCtrl.columnStore"></unifi-list-column-selector></th></tr></thead><tfoot ng-if="clientListCtrl.view.getModels().length"><tr><td colspan="{{:table_refresh: clientListCtrl.columnStore.getColumns().length + 2 + (clientListCtrl.isBatchEditable() ? 1 : 0)}}"><a class="appMainButton appMainButton--tertiary appMainButton--condensed verticalRhythmTop--condensed horizontalRhythm--cozy editBatchClients" ng-if="clientListCtrl.isBatchEditable() &amp;&amp; clientListCtrl.getBatchEditDestination().length" unifi-open-panel="clientListCtrl.getBatchEditModel()" unifi-open-panel-active-tab="\'configure\'"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT_SELECTED"></span></a><unifi-list-pagination unifi-list-pagination-current-page="clientListCtrl.currentPage" unifi-list-pagination-page-size-options="[10, 25, 50, 100]" unifi-list-pagination-rows-per-page="clientListCtrl.rowsPerPage" unifi-list-pagination-total-rows="clientListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr class="clickable" ng-repeat="              entry in clientListCtrl.view.getEntries()              | limitTo:(clientListCtrl.rowsPerPage):((clientListCtrl.currentPage - 1) * clientListCtrl.rowsPerPage)              track by entry.model.id            " unifi-bind-notifier="{model_refresh: entry.model.version}" ng-init="model = entry.model" data-id="{{:model_refresh: model.id}}" data-is-wired="{{:model_refresh: model.get(\'is_wired\')}}" data-is-guest="{{:model_refresh: model.get(\'is_guest\')}}" ng-class=":model_refresh: {\'is-row-disabled\': model.get(\'blocked\')}" unifi-open-panel=":: model" unifi-open-panel-active-tab="\'details\'"><td class="clientCheckbox appTableCell--smash"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and=":table_refresh: clientListCtrl.isBatchEditable()"><input type="checkbox" ng-checked="clientListCtrl.isBatchEditSelected(model)" ng-click="clientListCtrl.toggleBatchEdit(model); $event.stopPropagation();"></td><td class="clientStateIcon unifiClientsTable__clientIcon visible--smUp"><span unifi-client-icon=":: model"></span></td><td class="clientName" ng-attr-title="{{:model_refresh: model.get(\'mac\')}}" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'name\')">{{:model_refresh: model.getDisplayName() | orEmptyPlaceholder}}</td><td class="clientHostname visible--lgUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'hostname\')">{{:model_refresh: model.get(\'hostname\') | orEmptyPlaceholder}}</td><td class="clientMacAddress visible--lgUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'mac\')">{{:model_refresh: model.get(\'mac\') | orEmptyPlaceholder}}</td><td class="clientIp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'ip\')">{{:model_refresh: model.get(\'ip\') | orEmptyPlaceholder}}</td><td class="clientSatisfaction visible--mdUp" ng-if=":table_refresh: (\'enableWiFiExperience\' | featureFlagEnable) &amp;&amp; clientListCtrl.isColumnVisible(\'satisfaction\')"><unifi-satisfaction-status-bar unifi-satisfaction-status-bar-value="model.get(\'satisfaction\')"></unifi-satisfaction-status-bar></td><td class="client8021xIdentity" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'1x_identity\')">{{:model_refresh: model.get(\'1x_identity\') | orEmptyPlaceholder}}</td><td class="client8021xVlan" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'vlan\')">{{:model_refresh: model.get(\'vlan\') > 0 ? model.get(\'vlan\') : \'\' | orEmptyPlaceholder}}</td><td class="clientStatus" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'status\')"><span ng-if=":model_refresh: model.get(\'authorized\') || !model.get(\'is_guest\')" translate="CLIENT_TABLE_STATUS_AUTHORIZED"></span><span ng-if=":model_refresh: !model.get(\'authorized\') &amp;&amp; model.get(\'is_guest\')" translate="CLIENT_TABLE_STATUS_PENDING"></span></td><td class="clientUserGroup" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'usergroup_id\')">{{:model_refresh: clientListCtrl.getUserGroupName(model) | orEmptyPlaceholder}}</td><td class="clientConnection visible--smUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'connection\')">{{:model_refresh: model.getConnection() | orEmptyPlaceholder}}</td><td class="clientApPort" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'uplink\')"><a ng-init="uplink = clientListCtrl.getUplink(model); states = clientListCtrl.getUplinkPropertyPanelState(model, uplink)" unifi-open-panel="uplink" unifi-open-panel-active-tab="uplink.get(\'type\') === \'usw\' ? \'ports\' : \'details\'" unifi-open-panel-change-tab="true" unifi-open-panel-states="states">{{:model_refresh: clientListCtrl.getUplinkDisplayName(model) | orEmptyPlaceholder}}</a></td><td class="clientChannel visible--lgUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'channel\')">{{:model_refresh: (!model.get(\'is_wired\') && model.get(\'channel\')) | orEmptyPlaceholder}}</td><td class="clientPhyMode visible--lgUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'phy_mode\')">{{:model_refresh: model | clientRadio | orEmptyPlaceholder}}<span ng-if=":model_refresh: !model.get(\'is_wired\')" unifi-power-save-icon=":model_refresh: model.get(\'powersave_enabled\')"></span></td><td class="clientIs11r visible--lgUp appTableCell--smash" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'is_11r\')" ng-bind-html=":model_refresh: model.get(\'is_11r\') | enabledIcon | orEmptyPlaceholder"></td><td class="clientSignal visible--mdUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'signal\')"><span ng-if=":model_refresh: !model.get(\'is_wired\')"><span ng-if=":model_refresh: model.has(\'signal\')">{{:model_refresh: model.get(\'rssi\') | rssi}}\n({{:model_refresh: model.get(\'signal\')}} {{\'DEVICE_RADIO_TRANSMIT_POWER_DBM\' | translate}})</span><span ng-if=":model_refresh: !model.has(\'signal\')">{{:model_refresh: model.get(\'rssi\') | rssi}} ({{:model_refresh: model.get(\'rssi\') | rssiToDbm}})</span></span></td><td class="clientTxRate visible--lgUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'tx_rate\')">{{:model_refresh: model.get(\'tx_rate\') | rxtx | orEmptyPlaceholder}}</td><td class="clientRxRate visible--lgUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'rx_rate\')">{{:model_refresh: model.get(\'rx_rate\') | rxtx | orEmptyPlaceholder}}</td><td class="clientActivity visible--mdUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'activity\')" unifi-collapsible-table-cell="clientListCtrl.collapsibleColumnKeyActivity" unifi-collapsible-table-cell-bind-once="false"><span ng-if="!isCollapsed" unifi-client-activity-status=":model_refresh: model.getActivityBytes()"></span><span ng-if="isCollapsed">{{:model_refresh: model.getActivityBytes() | bps:{convertFromBytes:true} | orEmptyPlaceholder}}</span></td><td class="clientActivityDown visible--mdUp unifiDownload" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'activity_down\')">{{:model_refresh: model.getTxActivity() | bytes | orEmptyPlaceholder}}</td><td class="clientActivityUp visible--mdUp unifiUpload" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'activity_up\')">{{:model_refresh: model.getRxActivity() | bytes | orEmptyPlaceholder}}</td><td class="clientInterNetworkDown visible--mdUp unifiDownload" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'inter_network_down\')">{{:model_refresh: model.getInterNetworkDown() | bytes | orEmptyPlaceholder}}</td><td class="clientInterNetworkUp visible--mdUp unifiUpload" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'inter_network_up\')">{{:model_refresh: model.getInterNetworkUp() | bytes | orEmptyPlaceholder}}</td><td class="clientUptime visible--mdUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'uptime\')">{{:model_refresh: model.get(\'uptime\') | seconds | orEmptyPlaceholder}}</td><td class="clientDeviceVendor visible--mdUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'vendor\')">{{:model_refresh: (clientListCtrl.dpi.getOsName(model.get(\'dev_vendor\')) || model.get(\'oui\')) | orEmptyPlaceholder}}</td><td class="clientDeviceCatetogry visible--mdUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'dev_cat\')">{{:model_refresh: clientListCtrl.dpi.getDeviceCategory(model.get(\'dev_cat\')) | orEmptyPlaceholder}}</td><td class="clientDeviceId visible--mdUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'dev_id\')">{{:model_refresh: clientListCtrl.dpi.getDevice(model.get(\'dev_id\')) | orEmptyPlaceholder}}</td><td class="clientOsName visible--mdUp" ng-if=":table_refresh: clientListCtrl.isColumnVisible(\'os_name\')">{{:model_refresh: clientListCtrl.dpi.getOsName(model.get(\'os_name\')) | orEmptyPlaceholder}}</td><td class="clientActions appTableCell--actions"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-collapsible-table-cell="clientListCtrl.collapsibleColumnKeyActions" unifi-collapsible-table-cell-bind-once="false"><button class="appMainButton appMainButton--tertiary" unifi-client-button-block=":: model" unifi-client-button-block-is-labeled="true" unifi-client-button-block-is-responsive=":table_refresh: clientListCtrl.isResponsive()" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button><button class="appMainButton appMainButton--tertiary" unifi-client-button-reconnect=":: model" unifi-client-button-reconnect-is-labeled="true" unifi-client-button-reconnect-is-responsive=":table_refresh: clientListCtrl.isResponsive()" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button><button class="appMainButton appMainButton--tertiary" unifi-client-button-authorize=":: model" unifi-client-button-authorize-is-labeled="true" unifi-client-button-authorize-is-responsive=":table_refresh: clientListCtrl.isResponsive()" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button></td><td class="clientActions appTableCell--actions" unifi-if-role-admin="false"></td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!clientListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="CLIENT_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="!clientListCtrl.isFiltered()" translate="CLIENT_TABLE_EMPTY_NO_CLIENTS"></p><p class="noMarginBottom" ng-if="clientListCtrl.isFiltered()" translate="CLIENT_TABLE_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],203:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseCollectionController");function o(t){t(this),n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onCollectionChange=function(){this.collection?this.requiresSorting?this.modelOptions=this.collection.sortBy(function(t){return this.getItemTitle(t)}.bind(this)):this.modelOptions=this.collection.models:this.modelOptions=[]},o.prototype.getSelectedTitle=function(){return this.selectedModel?this.getItemTitle(this.selectedModel):this.defaultLabel},o.prototype.getItemTitle=function(t){if(this.titleAttribute)return t.get(this.titleAttribute);if(this.titleFunction)return this.titleFunction({model:t});throw new Error("Missing title attribute or title function")},o.prototype.selectItem=function(t){this.selectedModel=t,this.onItemSelect&&this.onItemSelect({model:t})},o.$inject=["toggleDropdownControllerMixin"],angular.module("app-unifi-manage").controller("CollectionButtonDropdownController",o)},{}],204:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiCollectionButtonDropdown",[function(){return{scope:{_collection:"=unifiCollectionButtonDropdownCollection",selectedModel:"=?unifiCollectionButtonDropdownSelectedModel",titleAttribute:"@?unifiCollectionButtonDropdownTitleAttribute",titleFunction:"&?unifiCollectionButtonDropdownTitleFunction",defaultLabel:"@?unifiCollectionButtonDropdownDefaultLabel",labelPrefix:"@?unifiCollectionButtonDropdownLabelPrefix",labelIcon:"@?unifiCollectionButtonDropdownLabelIcon",onItemSelect:"&?unifiCollectionButtonDropdownOnItemSelect",requiresSorting:"=unifiCollectionButtonDropdownRequiresSorting"},controller:"CollectionButtonDropdownController",controllerAs:"collectionButtonDropdownCtrl",bindToController:!0,replace:!0,template:t("./collectionButtonDropdown.pug")(),link:function(t,e,i,n){t.$watch(function(){return n._collection},function(t){n.updateCollection(t)}),t.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./collectionButtonDropdown.pug":205}],205:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appMainButton appMainButton--filter appMainButton--cozy appMainButton--withDropdown" ng-click="collectionButtonDropdownCtrl.toggleDropdown()" on-outside-element-click="collectionButtonDropdownCtrl.closeDropdown()"><span class="button__icon button__icon--left icon visible--xs" ng-if="collectionButtonDropdownCtrl.labelIcon" ng-class="collectionButtonDropdownCtrl.labelIcon"></span><span ng-if="collectionButtonDropdownCtrl.labelPrefix" ng-class="{\'visible--smUp\': !!collectionButtonDropdownCtrl.labelIcon}">{{collectionButtonDropdownCtrl.labelPrefix | translate}}:&nbsp;</span><span class="noTextTransform">{{collectionButtonDropdownCtrl.getSelectedTitle()}}</span><span class="button__icon button__icon--right icon ubnt-icon--pointer-down"></span><ul class="appDropdown appDropdown--left appDropdown--inButton" ng-class="{\'is-dropdown-visible\': collectionButtonDropdownCtrl.isDropdownVisible}"><li class="appDropdown__item" ng-if="collectionButtonDropdownCtrl.defaultLabel" ng-click="collectionButtonDropdownCtrl.selectItem()">{{collectionButtonDropdownCtrl.defaultLabel}}</li><li class="appDropdown__item" ng-repeat="item in collectionButtonDropdownCtrl.modelOptions" ng-click="collectionButtonDropdownCtrl.selectItem(item)">{{collectionButtonDropdownCtrl.getItemTitle(item)}}</li></ul></div>'}},{"pug-runtime":23}],206:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiCollectionViewRow",["$compile","$parse","$templateCache",function(t,e,i){return{scope:!1,controller:angular.noop,controllerAs:"collectionViewRowCtrl",restrict:"A",link:function(n,o,r,a){r.unifiCollectionViewRowConfig&&(a.config=e(r.unifiCollectionViewRowConfig)(n));var s=i.get("partials/"+r.unifiCollectionViewRow+"TableRow.html");o.html(s),t(o.contents())(n)}}}])},{}],207:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiColorPicker",[function(){return{restrict:"E",scope:{model:"=unifiColorPickerModel",presets:"=unifiColorPickerPresets",isDark:"=unifiColorPickerIsDark",isStandalone:"=unifiColorPickerIsStandalone"},template:t("./colorPicker.pug")(),transclude:!0}}])},{"./colorPicker.pug":208}],208:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appTooltipContainer clickable" ng-init="tooltipVisible = false" on-outside-element-click="tooltipVisible = false"><div class="appTooltip" ng-class="{\'appTooltip--dark\': isDark}" ng-show="tooltipVisible &amp;&amp; !isStandalone"><unifi-color-tool-hsv-space ng-model="model"></unifi-color-tool-hsv-space></div><ng-transclude ng-click="tooltipVisible = true"></ng-transclude></div><unifi-color-tool-presets ng-hide="!presets" unifi-color-tool-presets-model="model" unifi-color-tool-presets-colors="presets"></unifi-color-tool-presets><unifi-color-tool-hsv-space ng-hide="!isStandalone" ng-model="model"></unifi-color-tool-hsv-space>'}},{"pug-runtime":23}],209:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiColorToolHsvSpace",["tinycolor",function(e){return{replace:!0,restrict:"E",template:t("./colorToolHsvSpace.pug")(),require:"ngModel",scope:{},link:function(t,i,n,o){t.colorModel={h:0,s:1,v:1},o.$formatters.push(function(t){var i=e(angular.copy(t));if(i.isValid()){var n=i.toHsv();return{h:n.h,s:n.s,v:n.v}}}),o.$render=function(){t.colorModel=o.$viewValue},t.$watch("colorModel",function(){o.$setViewValue(t.colorModel)}),o.$parsers.push(function(t){var i=e(angular.copy(t));return i.isValid()?i.toHexString():""})}}}])},{"./colorToolHsvSpace.pug":210}],210:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiColorToolHsvSpace"><unifi-color-tool-sv-space unifi-color-tool-sv-space-color-model="colorModel"></unifi-color-tool-sv-space><unifi-color-tool-hue-space unifi-color-tool-hue-space-color-model="colorModel"></unifi-color-tool-hue-space></div>'}},{"pug-runtime":23}],211:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiColorToolHueSpace",["domHelper",function(e){return{replace:!0,restrict:"E",template:t("./colorToolHueSpace.pug")(),scope:{colorModel:"=unifiColorToolHueSpaceColorModel"},link:function(t,i){var n=i[0].querySelector(".unifiColorToolHueSpace__canvas");t.cursor={x:0},t.mouseDown=!1,t.$watchGroup(["colorModel",function(){return i.is(":visible")}],function(){t.colorModel&&!t.mouseDown&&t.updateCursorPosition()}),t.updateCursorPosition=function(){t.cursor.x=Math.floor(t.colorModel.h/360*e.clientWidth(n))},t.onClick=function(e){t.moveCursor(e),t.selectColor()},t.onMouseMove=function(e){t.mouseDown&&(t.moveCursor(e),t.selectColor())},t.setMouseDown=function(e){t.mouseDown=e},t.moveCursor=function(i){t.cursor.x=Math.max(0,Math.min(i.offsetX-n.offsetLeft,e.clientWidth(n)))},t.selectColor=function(){t.colorModel={h:t.cursor.x/e.clientWidth(n)*360,s:t.colorModel.s,v:t.colorModel.v}}}}}])},{"./colorToolHueSpace.pug":212}],212:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiColorToolHueSpace" ng-click="onClick($event)" ng-mousemove="onMouseMove($event)" ng-mousedown="setMouseDown(true)" ng-mouseup="setMouseDown(false)" ng-mouseleave="setMouseDown(false)"><div class="unifiColorToolHueSpace__canvas"><div class="unifiColorToolHueSpace__cursor" ng-style="{\'left\': cursor.x + \'px\'}"></div></div></div>'}},{"pug-runtime":23}],213:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiColorToolPresets",["tinycolor",function(e){return{replace:!0,restrict:"E",template:t("./colorToolPresets.pug")(),scope:{model:"=unifiColorToolPresetsModel",presetColors:"=unifiColorToolPresetsColors"},link:function(t){t.tinycolor=e,t.pickColor=function(e){t.model=e}}}}])},{"./colorToolPresets.pug":214}],214:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiColorToolPresets--flexFlag"><div class="unifiColorToolPresets__item" ng-repeat="colorObj in presetColors" ng-style="{\'background-color\': colorObj.hex}" ng-class="{\'is-selected\': model === colorObj.hex}" ng-click="pickColor(colorObj.hex)"></div></div>'}},{"pug-runtime":23}],215:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiColorToolSvSpace",["domHelper","tinycolor",function(e,i){return{replace:!0,restrict:"E",template:t("./colorToolSvSpace.pug")(),scope:{colorModel:"=unifiColorToolSvSpaceColorModel"},link:function(t,n){var o=n[0].querySelector(".unifiColorToolSvSpace__canvas");o.style.height=e.clientWidth(o)+"px",t.cursor={x:0,y:0},t.mouseDown=!1,t.$watchGroup(["colorModel",function(){return n.is(":visible")}],function(){t.colorModel&&!t.mouseDown&&t.updateCursorPosition()}),t.updateCursorPosition=function(){var i=t.colorModel;t.cursor.x=Math.floor(i.s*e.clientWidth(o)),t.cursor.y=e.clientHeight(o)-Math.floor(i.v*e.clientHeight(o))},t.onClick=function(e){t.moveCursor(e),t.selectColor()},t.onMouseMove=function(e){t.mouseDown&&(t.moveCursor(e),t.selectColor())},t.setMouseDown=function(e){t.mouseDown=e},t.moveCursor=function(i){t.cursor.x=Math.max(0,Math.min(i.offsetX-o.offsetLeft,e.clientWidth(o))),t.cursor.y=Math.max(0,Math.min(i.offsetY-o.offsetTop,e.clientHeight(o)))},t.selectColor=function(){t.colorModel={h:t.colorModel.h,s:t.cursor.x/e.clientWidth(o),v:1-t.cursor.y/e.clientHeight(o)}},t.getBgColor=function(){if(!(t.colorModel&&void 0!==t.colorModel.h))return"";var e=t.colorModel.h||0,n=i({h:e,s:1,v:1});return n.isValid()?n.toHexString():""}}}}])},{"./colorToolSvSpace.pug":216}],216:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiColorToolSvSpace" ng-click="onClick($event)" ng-mousemove="onMouseMove($event)" ng-mousedown="setMouseDown(true)" ng-mouseup="setMouseDown(false)" ng-mouseleave="setMouseDown(false)"><div class="unifiColorToolSvSpace__canvas" ng-style="{\'background-color\': getBgColor()}"><div class="unifiColorToolSvSpace__cursor" ng-style="{        \'left\': cursor.x + \'px\',        \'top\': cursor.y + \'px\'      }"></div></div></div>'}},{"pug-runtime":23}],217:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiConfigChanged",[function(){return{scope:{onReset:"&unifiConfigChangedOnReset",onIgnore:"&unifiConfigChangedOnIgnore",isCozy:"@?unifiConfigChangedIsCozy",isDark:"@?unifiConfigChangedIsDark",withWhiteout:"@?unifiConfigChangedWithWhiteout",withIcon:"@?unifiConfigChangedWithIcon",hideIgnore:"=?unifiConfigChangedHideIgnore",notice:"=?unifiConfigChangedNotice"},restrict:"AE",template:t("./configChanged.pug")()}}])},{"./configChanged.pug":218}],218:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiConfigChanged" ng-class="{\'unifiConfigChanged--whiteout\': withWhiteout}"><div class="appInfoBox appInfoBox--danger appInfoBox--responsive fullWidth" ng-class="{      \'appInfoBox--dark\': isDark,      \'appInfoBox--cozy\': isCozy,      \'appInfoBox--noBorder\': withWhiteout    }"><div class="appInfoBox__icon icon ubnt-icon--alert" ng-if="withIcon"></div><div class="appInfoBox__content"><div class="appInfoBox__body noMarginTop"><p translate="{{notice ? notice : \'COMMON_CONFIG_CHANGED_NOTICE\'}}"></p></div><div class="appInfoBox__footer" ng-class="{\'alignLeft\': withWhiteout}"><button class="appMainButton appMainButton--primary resolveDivergence" type="button" ng-class="{\'appMainButton--condensed\': isCozy}" ng-click="onReset()" translate="COMMON_CONFIG_CHANGED_ACTIONS_RESET"></button><button class="appMainButton ignoreDivergence" type="button" ng-hide="hideIgnore" ng-class="{\'appMainButton--condensed\': isCozy}" ng-click="onIgnore()" translate="COMMON_CONFIG_CHANGED_ACTIONS_IGNORE"></button></div></div></div></div>'}},{"pug-runtime":23}],219:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiCountryFlag",[function(){return{scope:{countryCode:"=unifiCountryFlag",label:"=unifiCountryFlagLabel",withName:"<unifiCountryFlagWithName"},replace:!0,restrict:"A",template:t("./countryFlag.pug")()}}])},{"./countryFlag.pug":220}],220:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiCountryFlag"><span class="horizontalRhythm--condensed flag-icon" ng-if="countryCode" ng-class="\'flag-icon-\' + countryCode.toLowerCase()"></span><span ng-if="withName &amp;&amp; countryCode">{{\'COUNTRY_\' + countryCode | translate}}</span><span ng-if="label">{{label}}</span></div>'}},{"pug-runtime":23}],221:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiCustomPortalPreview",["siteUtils","UnifiHotspotHost",function(e,i){return{replace:!0,restrict:"E",scope:{mode:"=unifiCustomPortalPreviewMode",model:"=unifiCustomPortalPreviewModel",isDark:"=unifiCustomPortalPreviewIsDark"},template:t("./customPortalPreview.pug")(),link:function(t){t.getPortalPreviewUrl=function(){return[i,"guest/preview/s",e.getActiveSite().get("name"),"#","preview/"].join("/")}}}}])},{"./customPortalPreview.pug":222}],222:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+="<div class=\"unifiCustomPortalPreview\"><ul class=\"buttonGroup buttonGroup--shrink appMainButtonGroup verticalRhythm--cozy\" ng-class=\"isDark ? 'appMainButtonGroup--dark' : 'appMainButtonGroup--filter'\"><li class=\"button appMainButton appMainButton--cozy\" ng-click=\"mode = 'desktop'\" ng-class=\"{'is-button-selected': mode === 'desktop'}\">{{ 'SETTINGS_GUEST_CONTROL_VALUES_CUSTOM_PORTAL_PREVIEW_DESKTOP' | translate }}</li><li class=\"button appMainButton appMainButton--cozy\" ng-click=\"mode = 'mobile'\" ng-class=\"{'is-button-selected': mode === 'mobile'}\">{{ 'SETTINGS_GUEST_CONTROL_VALUES_CUSTOM_PORTAL_PREVIEW_MOBILE' | translate }}</li></ul><div class=\"unifiCustomPortalPreview__wrapper\" ng-class=\"{      'unifiCustomPortalPreview__wrapper--desktop': mode === 'desktop',      'unifiCustomPortalPreview__wrapper--mobile': mode === 'mobile'    }\"><iframe class=\"unifiCustomPortalPreview__iframe\" ng-class=\"{        'unifiCustomPortalPreview__iframe--desktop': mode === 'desktop',        'unifiCustomPortalPreview__iframe--mobile': mode === 'mobile'      }\" ng-src=\"{{getPortalPreviewUrl()}}\" sandbox=\"allow-same-origin allow-forms allow-scripts\" unifi-iframe-post-message=\"model\"></iframe></div></div>"}},{"pug-runtime":23}],223:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t,e){this.deviceRadioUtils=t,this.RADIO_STATES=e,n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){this.model&&this.radio&&(this.channel=this.deviceRadioUtils.getChannelStateDataByName(this.model,this.radio.get("name")))},o.prototype.isEnabled=function(){return!!this.channel&&!!this.radio},o.prototype.isMinorChannel=function(){return!!this.channel.extChannel},o.prototype.isDfsInfo=function(){return this.channel.state===this.RADIO_STATES.DFS_WAIT},o.prototype.isHtInfo=function(){return!!this.channel.htName},o.prototype.isAutoChannel=function(){return!this.radio.get("channel")||isNaN(this.radio.get("channel"))},o.prototype.isDetailedChannel=function(){return this.channel.state!==this.RADIO_STATES.INIT},o.prototype.isDisabledChannel=function(){return this.channel.state===this.RADIO_STATES.INIT},o.prototype.getMajorChannel=function(){return this.channel.bindedName||this.channel.primaryChannel},o.prototype.getMinorChannel=function(){var t=this.channel.extChannel?this.channel.extChannel>0?",+1":",-1":"";return this.channel.primaryChannel+t},o.prototype.getConfiguredChannel=function(){return(isFinite(this.radio.get("channel"))?parseInt(this.radio.get("channel"),10):this.radio.get("channel"))||"auto"},o.prototype.getUsedChannel=function(){return this.channel.primaryChannel},o.prototype.getHtInfo=function(){return this.channel.htName},o.prototype.getRadioChannel=function(){return!this.isAutoChannel(this.radio)&&parseInt(this.radio.get("channel"),10)||void 0},o.prototype.isSameChannel=function(){var t=this.getConfiguredChannel();return"auto"===t||t===this.channel.primaryChannel},o.prototype.getRadioPower=function(){return this.deviceRadioUtils.getRadioPower(this.model,this.radio)},o.$inject=["deviceRadioUtils","RADIO_STATES"],angular.module("app-unifi-manage").controller("DeviceChannelController",o)},{}],224:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDeviceChannel",["updateModelDirectiveMixin",function(e){return{scope:{_model:"=unifiDeviceChannelModel",radio:"=unifiDeviceChannelRadio",hideMinorChannel:"=unifiDeviceChannelHideMinorChannel",hideAutoInfo:"=unifiDeviceChannelHideAutoInfo",hideDfsInfo:"=unifiDeviceChannelHideDfsInfo",hideHtInfo:"=unifiDeviceChannelHideHtInfo",hideDisabledInfo:"=unifiDeviceChannelHideDisabledInfo",hidePowerInfo:"=unifiDeviceChannelHidePowerInfo"},controller:"DeviceChannelController",controllerAs:"deviceChannelCtrl",template:t("./deviceChannel.pug")(),bindToController:!0,link:function(t,i,n,o){e.init(t,i,n,o,!1,"deviceChannelCtrl._model")}}}])},{"./deviceChannel.pug":225}],225:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiDeviceRadioChannel appDisplaySpaceAutoDivider" ng-if="deviceChannelCtrl.isEnabled()"><div class="unifiDeviceRadioChannel__autoChannel" ng-if="!deviceChannelCtrl.hideAutoInfo &amp;&amp; deviceChannelCtrl.isAutoChannel()" translate="COMMON_VALUE_AUTO"></div><div class="unifiDeviceRadioChannel__disabledChannel" ng-if="!deviceChannelCtrl.hideDisabledInfo &amp;&amp; deviceChannelCtrl.isDisabledChannel()" ng-class="{\'appDisplayInBrackets\': !deviceChannelCtrl.hideAutoInfo &amp;&amp; deviceChannelCtrl.isAutoChannel()}" translate="COMMON_LABEL_DISABLED"></div><div class="unifiDeviceRadioChannel__detailedChannel" ng-if="deviceChannelCtrl.isDetailedChannel()"><div class="unifiDeviceRadioChannel__channelValue" ng-class="{\'appDisplayInBrackets\': !deviceChannelCtrl.hideAutoInfo &amp;&amp; deviceChannelCtrl.isAutoChannel()}"><div class="unifiDeviceRadioChannel__majorChannel">{{deviceChannelCtrl.getMajorChannel()}}</div><div class="unifiDeviceRadioChannel__minorChannel appDisplayInBrackets" ng-if="!deviceChannelCtrl.hideMinorChannel &amp;&amp; deviceChannelCtrl.isMinorChannel()">{{deviceChannelCtrl.getMinorChannel()}}</div><div class="unifiDeviceRadioChannel__dfsInfo appDisplayInBrackets" ng-if="!deviceChannelCtrl.hideDfsInfo &amp;&amp; deviceChannelCtrl.isDfsInfo()" translate="DEVICE_RADIO_CHANNEL_DFS_WAITING"></div></div><div class="unifiDeviceRadioChannel__htInfo" ng-if="!deviceChannelCtrl.hideHtInfo &amp;&amp; deviceChannelCtrl.isHtInfo()">{{deviceChannelCtrl.getHtInfo()}}</div></div><div class="unifiDeviceRadioChannel__radioChannel" ng-if="!deviceChannelCtrl.isDetailedChannel() &amp;&amp; !deviceChannelCtrl.isAutoChannel()">{{deviceChannelCtrl.getRadioChannel()}}</div><div class="unifiDeviceRadioChannel__radioPower" ng-if="!deviceChannelCtrl.hidePowerInfo">{{deviceChannelCtrl.getRadioPower()}}</div><div class="appTooltipContainer appTooltipContainer--hoverable" ng-if="!deviceChannelCtrl.isDisabledChannel() &amp;&amp; !deviceChannelCtrl.isSameChannel()" ng-mouseover="showChannelToolTip = true" ng-mouseleave="showChannelToolTip = false"><div class="appAlertIcon appAlertIcon--danger appAlertIcon--scaled appAlertIcon--baseline"><div class="icon ubnt-icon--alert"></div><div class="appTooltip appToolTip--top" ng-if="showChannelToolTip"'+(i="unifi-position-absolutely",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><div class="appTooltip__content"><span translate="DEVICE_RADIO_TOOLTIP_CHANNEL_NOT_SET_AS_CONFIGURED" translate-values="{configured: deviceChannelCtrl.getConfiguredChannel(), used: deviceChannelCtrl.getUsedChannel()}"></span></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],226:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t,e){this.deviceRadioUtils=t,this.deviceWlanGroupUtils=e,this.modelChangeEvent="change change:radio_table[*] change:radio_table_stats[*]",n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){this.radios=this.model&&this.deviceRadioUtils.getRadiosByType(this.model,this.radioType,{})||[]},o.$inject=["deviceRadioUtils","deviceWlanGroupUtils"],angular.module("app-unifi-manage").controller("DeviceChannelGroupController",o)},{}],227:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDeviceChannelGroup",["updateModelDirectiveMixin",function(e){return{scope:{_model:"=unifiDeviceChannelGroupModel",radioType:"=unifiDeviceChannelGroupRadioType",hideMinorChannel:"=unifiDeviceChannelGroupHideMinorChannel",hideAutoInfo:"=unifiDeviceChannelGroupHideAutoInfo",hideDfsInfo:"=unifiDeviceChannelGroupHideDfsInfo",hideHtInfo:"=unifiDeviceChannelGroupHideHtInfo",hideDisabledInfo:"=unifiDeviceChannelGroupHideDisabledInfo",hidePowerInfo:"=unifiDeviceChannelGroupHidePowerInfo"},controller:"DeviceChannelGroupController",controllerAs:"deviceChannelGroupCtrl",template:t("./deviceChannelGroup.pug")(),bindToController:!0,link:function(t,i,n,o){e.init(t,i,n,o,!1,"deviceChannelGroupCtrl._model")}}}])},{"./deviceChannelGroup.pug":228}],228:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-device-channel ng-repeat="radio in deviceChannelGroupCtrl.radios" ng-class="{\'is-cell-disabled\': deviceChannelGroupCtrl.deviceWlanGroupUtils.isWlanGroupOff(radio)}" unifi-device-channel-model="deviceChannelGroupCtrl.model" unifi-device-channel-radio="radio" unifi-device-channel-hide-minor-info="hideMinorChannel" unifi-device-channel-hide-auto-info="hideAutoInfo" unifi-device-channel-hide-dfs-info="hideDfsInfo" unifi-device-channel-hide-ht-info="hideHtInfo" unifi-device-channel-hide-disabled-info="hideDisabledInfo" unifi-device-channel-hide-power-info="hidePowerInfo"></unifi-device-channel>'}},{"pug-runtime":23}],229:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t,e){this.deviceRadioUtils=t,this.deviceWlanGroupUtils=e,this.modelChangeEvent="change change:radio_table[*] change:radio_table_stats[*]",n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){this.radios=this.model&&this.deviceRadioUtils.getRadiosByType(this.model,this.radioType,{})||[]},o.$inject=["deviceRadioUtils","deviceWlanGroupUtils"],angular.module("app-unifi-manage").controller("DeviceClientsNumController",o)},{}],230:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDeviceClientsNum",["updateModelDirectiveMixin",function(e){return{scope:{_model:"=unifiDeviceClientsNumModel",radioType:"=unifiDeviceClientsNumRadioType"},controller:"DeviceClientsNumController",controllerAs:"deviceClientsNumCtrl",template:t("./deviceClientsNum.pug")(),bindToController:!0,link:function(t,i,n,o){e.init(t,i,n,o,!1,"deviceClientsNumCtrl._model")}}}])},{"./deviceClientsNum.pug":231}],231:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+="<div ng-repeat=\"radio in deviceClientsNumCtrl.radios\" ng-class=\"{'is-cell-disabled': deviceClientsNumCtrl.deviceWlanGroupUtils.isWlanGroupOff(radio)}\">{{deviceClientsNumCtrl.deviceRadioUtils.getRadioStatsByName(deviceClientsNumCtrl.model, radio.get('name')).get('num_sta')}}</div>"}},{"pug-runtime":23}],232:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("DeviceDistributionModuleController",["$translate","$state","DataConverter","deviceCategoryUtils","deviceInventory","devices","deviceStateUtils","BaseModuleController","resolveRepositoryGroupControllerMixin","statsUtils","DASHBOARD_COLORS","DEVICE_CATEGORIES","DEVICE_MODELS",function(t,e,i,r,a,s,l,c,u,d,p,f,h){return new(function(d){function _(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return t.DASHBOARD_COLORS=p,t.repositories=["devices","deviceInventory"],t.pages=[],t.listeners={},u(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(_,c),n(_,[{key:"init",value:function(){this.dataConverter=(new i).sortedBy("count",!0).countTotal().deduplicatedBy("label"),this.legendConfig={labelProperty:"label",valueProperty:"count"},this.devicesChartConfig={dataProperty:"count",type:"solid",externalRingOffset:1},this.devicesChartConfig.onClick=function(){e.go("manage.site.devices")},this.listeners.devices=s.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),this.listeners.deviceInventory=a.repository.collection.onEvent("update",this.initialCollectData.bind(this),{leading:!1}),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"init",this).call(this)}},{key:"destroy",value:function(){var t=this;o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"destroy",this).call(this),this.unregister(),Object.keys(this.listeners).forEach(function(e){t.listeners[e].stopListening()})}},{key:"onConfigChange",value:function(){this.collectData()}},{key:"isAvailable",value:function(){return this.data&&this.data.length}},{key:"initialCollectData",value:function(){this.data=a.repository.collection.map(function(e){var i={},n=e.get("modelCount");Object.keys(e.get("modelCount")).forEach(function(t){var e=h[t]?h[t].name:"UniFi "+t;i[e]=n[t]});var o=f[e.get("category")]||"DEVICE_CATEGORY_"+e.get("category");return{count:e.get("count"),label:t.instant(o),modelCount:i}}),this.listeners.deviceInventory.stopListening()}},{key:"collectData",value:function(){this.listeners.deviceInventory.stopListening();var e=s.repository.collection.filter(function(t){return!!r.extractCategory(t)}).map(function(e){var i=r.extractCategory(e),n={};return n[l.getDeviceModelName(e)]=1,{count:1,label:t.instant(i),modelCount:n}});this.data=this.dataConverter.process(e)}}]),_}())}])},{}],233:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDeviceDistributionModule",["ModuleDirective",function(e){return new e("deviceDistribution",t("./deviceDistributionModule.pug")())}])},{"./deviceDistributionModule.pug":234}],234:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="module module--donut" ng-class="{\'is-editing\': deviceDistributionModuleCtrl.isEditingVisible &amp;&amp; !deviceDistributionModuleCtrl.isLoading}"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle" translate="{{::deviceDistributionModuleCtrl.definition.get(\'translationKey\')}}"></div></div><unifi-loading-module unifi-loading-module-loader="deviceDistributionModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="deviceDistributionModuleCtrl.isLoading" unifi-loading-module-failed="deviceDistributionModuleCtrl.failedToLoad" unifi-loading-module-retry="deviceDistributionModuleCtrl.retry()" unifi-loading-module-layout="deviceDistributionModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !deviceDistributionModuleCtrl.isLoading,        \'animated fadeOut\': deviceDistributionModuleCtrl.isLoading      }"><div class="moduleDonutChart" ng-if="!deviceDistributionModuleCtrl.isLoading &amp;&amp; deviceDistributionModuleCtrl.isAvailable()" ng-class="{          \'moduleDonutChart--standard10\': deviceDistributionModuleCtrl.config.palette === \'STANDARD_10\',          \'moduleDonutChart--blueGradient10\': deviceDistributionModuleCtrl.config.palette === \'BLUE_GRADIENT_10\'        }"><unifi-donut-chart-with-tooltip unifi-donut-chart-with-tooltip-config="deviceDistributionModuleCtrl.devicesChartConfig" unifi-donut-chart-with-tooltip-data="deviceDistributionModuleCtrl.data"><div class="ubntTooltip noWrap noPointerEvents"'+(i="unifi-position-absolutely",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' ng-if="tooltipVisible" ng-class="cssTooltipPosition"><div class="type-ubnt-title mb-1">{{::focusedData.label}}</div><div ng-repeat="(model, count) in focusedData.modelCount track by $index">{{::count}} x {{::model}}</div></div></unifi-donut-chart-with-tooltip><unifi-chart-legend class="moduleDonutLegend" unifi-chart-legend-config="deviceDistributionModuleCtrl.legendConfig" unifi-chart-legend-data="deviceDistributionModuleCtrl.data"></unifi-chart-legend></div><unifi-unavailable-donut-module ng-if="!deviceDistributionModuleCtrl.isLoading &amp;&amp; !deviceDistributionModuleCtrl.isAvailable()" unifi-unavailable-donut-module-icon="\'ubnt-icon--questionmark\'" unifi-unavailable-donut-module-translation-key="\'DASHBOARD_MODULE_DEVICE_DISTRIBUTION_NO_DEVICES\'"></unifi-unavailable-donut-module></div></div><div class="moduleEditor" ng-if="deviceDistributionModuleCtrl.isEditing"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--dark modularSubHeading--clipped moduleHeaderTitle" translate="{{::deviceDistributionModuleCtrl.definition.get(\'translationKey\')}}"></div></div><div class="moduleControls"><div class="moduleControlIcon moduleControlIcon--cancelEdit primary icon ubnt-icon--flip-horizontal" ng-click="deviceDistributionModuleCtrl._isEditing = false"></div></div><div class="moduleEditorForm"><form class="appForm appForm--cozy appForm--dark"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary" translate="DASHBOARD_MODULE_COMMON_EDITOR_COLOR_PALETTE_LABEL"></label><div class="appInputGroup" ng-repeat="palette in [\'STANDARD_10\', \'BLUE_GRADIENT_10\'] track by $index"><ul class="list list--inline list--smash noMarginTop"><li class="list__item horizontalRhythm--cozy"><input type="radio" name="colors" ng-value="palette" ng-model="deviceDistributionModuleCtrl.config.palette"></li><li class="list__item" ng-repeat="color in deviceDistributionModuleCtrl.DASHBOARD_COLORS[palette]track by $index"><div class="statusBall appStatusBall" ng-style="::{\'background-color\': color}"></div></li></ul></div></div></form></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],235:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"devices|distribution",loader:"distribution",translationKey:"DASHBOARD_MODULE_DEFINITIONS_DEVICES_DISTRIBUTION",directive:"unifi-device-distribution-module",preview:"images/dashboard/donut-chart.png",layout:"single",attrs:{isEditable:!0,defaultConfig:{palette:"BLUE_GRADIENT_10"}}}])}])},{}],236:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DeviceFilterController",["BatchDeviceModel","BaseListController","DeviceCollection","DeviceFilter","devices","devicesComparator","filterControllerMixin","listBatchEditControllerMixin","resolveRepositoryGroupControllerMixin","DEVICE_STATE_IDS",function(t,e,i,o,r,a,s,l,c,u){return new(function(t){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.skipInitialization=!0,t.comparator=a,t.filter=new o,t.defaultSortBy="state",t.lazyRepositories=["devices"],s(t,!0),c(t),l(t,!0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),n(i,[{key:"init",value:function(){this.initConfig(),this.resolve(),this.initFilters(),this.initView()}},{key:"$onInit",value:function(){this.filterType=this.getFilterType(),this.initBatchEditModel("filter:device","batch:"+this.filterType,this.DeviceCollection,this.BatchDeviceModel,void 0,!0),this.useBatchEditId("filter:device")}},{key:"initFilter",value:function(){this.sharedFilters[this.definition.id]||(this.sharedFilters[this.definition.id]=this.getBatchEditModel())}},{key:"initFilters",value:function(){if(this.filter.setDeviceTypeFilter((this.definition.get("attrs")||{}).types),this.config&&this.config.deviceStates){var t=void 0;this.config.deviceStates.exclude?(t=angular.extend({},u),this.config.deviceStates.exclude.forEach(function(e){delete t[e]})):this.config.deviceStates.include&&(t=[],this.config.deviceStates.include.forEach(function(e){t[e]=u[e]})),this.filter.setDeviceStateFilter(Object.keys(t).reduce(function(e,i){return t[i]&&e.push(t[i]),e},[]))}}},{key:"destroy",value:function(){this.destroyBatchEditModel(),this.unregister()}},{key:"getCollection",value:function(){return r.repository.collection}},{key:"togglePanel",value:function(){this.isPanelVisible=!this.isPanelVisible}},{key:"closePanel",value:function(){this.isPanelVisible=!1}},{key:"getFilterType",value:function(){var t=(this.definition.get("attrs")||{}).types;return t&&1===t.length?t[0]:"device"}},{key:"getSelectedItemCount",value:function(){var t=this.getBatchEditDestination();return t?t.length:0}}]),i}())}])},{}],237:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDeviceFilter",["FilterDirective","listBatchEditDirectiveMixin",function(e,i){var n=new e("device",t("./deviceFilter.pug")());return n.addMixin(i),n}])},{"./deviceFilter.pug":238}],238:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiDashboardFilters" on-outside-element-click="deviceFilterCtrl.closePanel()" unifi-esc-handler="deviceFilterCtrl.closePanel()"><div class="iconText appIconText appIconText--large clickable" ng-click="deviceFilterCtrl.togglePanel()"><span class="iconText__icon icon ubnt-icon--sliders"></span><span class="iconText__text"><strong class="appDisplaySpaceAfter" translate="DASHBOARD_FILTER_DEVICES_TITLE_LABEL"></strong><span translate="{{\'DASHBOARD_FILTER_DEVICES_\' + deviceFilterCtrl.filterType + \'_TITLE_VALUE\' | toTranslationKey}}" translate-values="{count: deviceFilterCtrl.getSelectedItemCount()}" translate-interpolation="messageformat"></span></span></div><div class="unifiFixedPanel unifiFixedPanel--rightSide unifiFixedPanel--animatePosition ubntSidePanel--global" ng-class="{\'is-fixed-panel-open\': deviceFilterCtrl.isPanelVisible}"><div class="unifiFixedPanel__inner"><div class="unifiFixedPanelActions"><div class="appActionIcon"><div class="icon ubnt-icon--x" ng-click="deviceFilterCtrl.closePanel()" ng-attr-title="{{\'COMMON_ACTIONS_CLOSE\' | translate}}"></div></div></div><div class="unifiFixedPanelHeader"><div class="iconText appIconText appIconText--flush"><span class="iconText__icon icon ubnt-icon--sliders"></span><span class="iconText__text"><span translate="{{deviceFilterCtrl.definition.get(\'translationKey\')}}"></span></span></div></div><div class="unifiFixedPanelSearch"><unifi-search unifi-search-on-change="deviceFilterCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="false" unifi-search-is-full-width="true" unifi-search-is-busy="deviceFilterCtrl.view.isRefreshing()"></unifi-search></div><div class="unifiFixedPanelContent"><unifi-loading-module unifi-loading-module-is-loading="deviceFilterCtrl.isLoading" unifi-loading-module-failed="deviceFilterCtrl.failedToLoad" unifi-loading-module-retry="deviceFilterCtrl.retry()"></unifi-loading-module><form class="appForm appForm--cozy" ng-if="!deviceFilterCtrl.isLoading &amp;&amp; deviceFilterCtrl.getFilter()"><ul class="appMenu appMenu--transparent appMenu--smash appMenu--flexible"><li class="appMenu__item noHorizontalPadding"><span><input class="horizontalRhythm--condensed" type="checkbox" id="deviceFilter{{::directiveId}}" ng-checked="deviceFilterCtrl.selectAllBatchEdit" ng-click="deviceFilterCtrl.toggleSelectAllBatchEdit()" unifi-indeterminate-checkbox="deviceFilterCtrl.isSelectAllBatchEditIndeterminate"></span><div class="appMenuItemImage"><div unifi-batch-device-icon="deviceFilterCtrl.getBatchEditModel()"></div></div><label class="appMenuItemContent noMarginBottom" for="deviceFilter{{::directiveId}}"><div class="appMenuItemContentLabel horizontalRhythmLeft--cozy" translate="{{\'DASHBOARD_FILTER_DEVICES_\' + deviceFilterCtrl.filterType + \'_SELECT_ALL\' | toTranslationKey}}"></div></label></li><li class="appMenu__item noHorizontalPadding" ng-repeat="                entry in deviceFilterCtrl.view.getEntries()                track by entry.model.id              " ng-init="model = entry.model" unifi-bind-notifier="{model_refresh: entry.model.version}"><span><input class="horizontalRhythm--condensed" type="checkbox" id="deviceFilter{{::model.id + \'-\' + directiveId}}" ng-checked="deviceFilterCtrl.isBatchEditSelected(model)" ng-click="deviceFilterCtrl.toggleBatchEdit(model)"></span><div class="appMenuItemImage"><div unifi-device-icon="::model"></div></div><label class="appMenuItemContent noMarginBottom" for="deviceFilter{{::model.id + \'-\' + directiveId}}"><div class="appMenuItemContentLabel appMenuItemContentLabel--withStatus" for="deviceFilter{{model.id + \'-\' + directiveId}}" unifi-device-status="::model" unifi-device-status-with-icons="true" unifi-device-status-label="model.getDisplayName()" unifi-device-status-is-condensed="true" unifi-device-status-is-truncated="true"></div><div class="appMenuItemContentValue" translate="COMMON_COUNT_CLIENTS" translate-values="{count: model.get(\'num_sta\') || 0}" translate-interpolation="messageformat"></div></label></li></ul></form></div></div></div></div>'}},{"pug-runtime":23}],239:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards","DASHBOARD_SHARED_FILTERS",function(t,e){t.filterDefinitions.add([{id:e.DEVICE_ACCESS_POINTS,translationKey:"DASHBOARD_FILTER_DEFINITIONS_DEVICES_UAP",directive:"unifi-device-filter",layout:"panel",attrs:{types:["uap"]}}])}])},{}],240:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("deviceFilterWatchDirectiveMixin",[function(){this.init=function(t,e,i,n){var o=t.$watch(function(){return n.getFilteredDevices()},function(t){t&&(t.on("change:deep:destination",n.onFilteredDevicesChange,n),o())});t.$on("$destroy",function(){var t=n.getFilteredDevices();t&&t.off("change:deep:destination",n.onFilteredDevicesChange,n)})}}])},{}],241:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DeviceGraphController",["$scope","$translate","account","BaseCollectionRepository","binaryPrefix","DataConverter","ReportCollection","chartUtils","REPORT_TYPES","statsFeatures","statsUtils","timeBasedGraphControllerMixin","TRAFFIC",function(t,e,i,o,r,a,s,l,c,u,d,p,f){return new(function(){function h(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),p(this),this.REPORT_TYPES=c,this.isNumber=angular.isNumber}return n(h,[{key:"$onInit",value:function(){var e=this;this.chartConfig={dataMarkEvent:"DEVICE_GRAPH_DATA_MARK_EVENT",margin:{left:50,top:20,bottom:25,right:20},withSecondaryXAxis:!0,xProperty:"time",lockYAxises:!0,left:{interpolate:"curveMonotoneX",continuous:!1,type:"plot"},right:{interpolate:"curveMonotoneX",continuous:!1,type:"plot",yAxisFormat:function(){return""},yAxisLabel:""}},this.type===c.DEVICE.USERS&&(this.chartConfig.yAxisWholeNumbers=!0),t.$on(this.chartConfig.dataMarkEvent,function(t,i){e.markItem(i)}),this.chartConfig.left.yAxisFormat=function(t){return e.type===c.DEVICE.BYTES?t:r.parse(t,"SI").toString()},this.isCozy&&(this.chartConfig.margin.right=15),this.cpuPercentageAvailable=!0,this.useBps=u.useBps(),this.updateDataConverter(),this.updateConfig(),this.updateRepository(),this.addEventHandlers()}},{key:"$onDestroy",value:function(){this.removeEventHandlers()}},{key:"$onChanges",value:function(t){["device","start","end","granularity","radio","usgPort"].some(function(e){return!!t[e]})&&this.update()}},{key:"getTypedAttr",value:function(t){return this.isApAndHasRadio()?this.radio+"-"+t:this.isGatewayAndHasPort()?this.usgPort.toLowerCase()+"-"+t:t}},{key:"isApAndHasRadio",value:function(){return this.device.isAp()&&this.radio}},{key:"isGatewayAndHasPort",value:function(){return this.device.isGateway()&&this.usgPort}},{key:"getTypedAttrs",value:function(t){return t.map(this.getTypedAttr,this)}},{key:"updateDataConverter",value:function(){var t=this,e={rx:this.getTypedAttr("rx_bytes"),tx:this.getTypedAttr("tx_bytes"),rx_packets:this.getTypedAttr("rx_packets"),tx_packets:this.getTypedAttr("tx_packets"),rx_errors:this.getTypedAttr("rx_errors"),tx_errors:this.getTypedAttr("tx_errors"),rx_dropped:this.getTypedAttr("rx_dropped"),tx_dropped:this.getTypedAttr("tx_dropped"),rx_frags:this.getTypedAttr("rx_frags"),cu_self_rx:this.getTypedAttr("cu_self_rx"),cu_self_tx:this.getTypedAttr("cu_self_tx"),cu_total:this.getTypedAttr("cu_total"),rx_crypts:this.getTypedAttr("rx_crypts"),tx_retries:this.getTypedAttr("tx_retries"),mem:"mem",num_sta:"num_sta",cpu:"cpu",loadavg_5:"loadavg_5",time:"time"};this.useBps&&(e.rx=function(e){return d.bytesToBps(e[t.getTypedAttr("rx_bytes")],t.granularity.grainInSeconds)},e.tx=function(e){return d.bytesToBps(e[t.getTypedAttr("tx_bytes")],t.granularity.grainInSeconds)}),this.dataConverter=(new a).sortedBy("time").withMap(e,!1).withBinaryNormalization(["time","num_sta","mem","cpu","loadavg_5","rx_packets","tx_packets","rx_errors","tx_errors","rx_dropped","tx_dropped","tx_retries","rx_frags","cu_self_rx","cu_self_tx","cu_total","rx_crypts"],!0)}},{key:"updateRepository",value:function(){var t=this.device&&this.device.get("type")&&this.device.get("type").slice(1),e=["time"];switch(this.type){case c.DEVICE.PERFORMANCE:e=e.concat(["mem","cpu","loadavg_5"]);break;case c.DEVICE.BYTES:e=e.concat(this.getTypedAttrs(["rx_bytes","tx_bytes"]));break;case c.DEVICE.PACKETS:e=e.concat(this.getTypedAttrs(["rx_packets","tx_packets"]));break;case c.DEVICE.ERRORS:e=e.concat(this.getTypedAttrs(["rx_errors","tx_errors"]));break;case c.DEVICE.DROPPED:e=e.concat(this.getTypedAttrs(["rx_dropped","tx_dropped"]));break;case c.DEVICE.RETRIES:e=e.concat(this.getTypedAttrs(["tx_retries"]));break;case c.DEVICE.FRAGS:e=e.concat(this.getTypedAttrs(["rx_frags"]));break;case c.DEVICE.CRYPTS:e=e.concat(this.getTypedAttrs(["rx_crypts"]));break;case c.DEVICE.USERS:e=e.concat("num_sta");break;case c.DEVICE.CHANNEL_UTILIZATION:e=e.concat(this.getTypedAttrs(["cu_self_rx","cu_self_tx","cu_total"]))}this.repository?this.repository.collection.setType(t):this.repository=new o(new s(t)),this.repository.collection.setAttrs(e),this.repository.collection.setMac(this.device.get("mac")),this.repository.collection.setDateInterval(this.start,this.end),this.repository.collection.setGranularity(this.granularity)}},{key:"updateConfig",value:function(){switch(this.type){case c.DEVICE.PERFORMANCE:this.chartConfig.right.yProperty=["mem"],this.chartConfig.left.type="area",this.cpuPercentageAvailable?(this.chartConfig.left.yAxisLabel=[e.instant("PERFORMANCE_USAGE")," [%]"].join(""),this.chartConfig.left.yProperty=["cpu"],!this.isCozy&&(this.chartConfig.margin.right=20),this.chartConfig.right.yAxisLabel="",this.chartConfig.right.yAxisFormat=function(){return""}):(this.chartConfig.left.yAxisLabel=e.instant("PERFORMANCE_LOADAVG"),this.chartConfig.left.yProperty=["loadavg_5"],!this.isCozy&&(this.chartConfig.margin.right=50),this.chartConfig.right.yAxisLabel=[e.instant("PERFORMANCE_MEMORY")," [%]"].join(""),this.chartConfig.right.yAxisFormat=void 0,this.chartConfig.lockYAxises=!1);break;case c.DEVICE.BYTES:this.chartConfig.left.yProperty=["rx"],this.chartConfig.right.yProperty=["tx"],this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_DEVICE_TRAFFIC_LABEL",{prefix:this.units?r.getMaxPrefix(this.units.rx,this.units.tx):"",unit:this.useBps?f.UNIT.BPS:f.UNIT.BYTES});break;case c.DEVICE.PACKETS:this.chartConfig.left.yProperty=["rx_packets"],this.chartConfig.right.yProperty=["tx_packets"],this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_DEVICE_PACKETS_LABEL",{prefix:this.units?r.getMaxPrefix(this.units.rx_packets,this.units.tx_packets):""});break;case c.DEVICE.DROPPED:this.chartConfig.left.yProperty=["rx_dropped"],this.chartConfig.right.yProperty=["tx_dropped"],this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_DEVICE_DROPPED_LABEL",{prefix:this.units?r.getMaxPrefix(this.units.rx_dropped,this.units.tx_dropped):""});break;case c.DEVICE.RETRIES:this.chartConfig.left.yProperty=["tx_retries"],this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_DEVICE_RETRIES_LABEL",{prefix:this.units?this.units.tx_retries:""}),this.chartConfig.right=void 0,this.chartConfig.lockYAxises=!1;break;case c.DEVICE.FRAGS:this.chartConfig.left.yProperty=["rx_frags"],this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_DEVICE_FRAGS_LABEL",{prefix:this.units?this.units.rx_frags:""}),this.chartConfig.right=void 0,this.chartConfig.lockYAxises=!1;break;case c.DEVICE.CRYPTS:this.chartConfig.left.yProperty=["rx_crypts"],this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_DEVICE_CRYPTS_LABEL",{prefix:this.units?this.units.rx_crypts:""}),this.chartConfig.right=void 0,this.chartConfig.lockYAxises=!1;break;case c.DEVICE.ERRORS:this.chartConfig.left.yProperty=["rx_errors"],this.chartConfig.right.yProperty=["tx_errors"],this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_DEVICE_ERRORS_LABEL",{prefix:this.units?r.getMaxPrefix(this.units.rx_errors,this.units.tx_errors):""});break;case c.DEVICE.USERS:this.chartConfig.left.yProperty=["num_sta"],this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_DEVICE_USERS_LABEL"),this.chartConfig.right=void 0,this.chartConfig.lockYAxises=!1;break;case c.DEVICE.CHANNEL_UTILIZATION:this.chartConfig.right.yProperty=["cu_self_rx","cu_self_tx"],this.chartConfig.left.yProperty=["cu_total"],this.chartConfig.left.type="area",this.chartConfig.left.yAxisLabel=e.instant("STATISTICS_DEVICE_CHANNEL_UTILIZATION_LABEL",{prefix:this.units?r.getMaxPrefix(this.units.cu_self_rx,this.units.cu_self_tx,this.units.cu_total):""})}this.chartConfig.xScaleDomain=[this.start,this.end],this.chartConfig.xAxisTickResolution=this.getTickResolution(this.start,this.end),this.prepareXAxis(this.chartConfig)}},{key:"update",value:function(){this.useBps=u.useBps(),this.updateDataConverter(),this.updateRepository(),this.repository.refresh()}},{key:"addEventHandlers",value:function(){this.repository.register(),this.listener=this.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),this.repository.refresh(),i.repository.model.on("change",this.update,this)}},{key:"removeEventHandlers",value:function(){this.listener.stopListening(),this.repository.unregister(),i.repository.model.off("change",this.update,this)}},{key:"collectData",value:function(){this.data=this.dataConverter.process(this.repository.collection.toJSON()),this.units=this.dataConverter.units,this.type===c.DEVICE.PERFORMANCE&&(this.cpuPercentageAvailable=!this.data.length||this.data.some(function(t){return void 0!==t.cpu})),this.data=l.preventContinuousPlot(this.data,this.granularity.grain,"time"),this.updateConfig()}}]),h}())}])},{}],242:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiDeviceGraph",{template:t("./deviceGraph.pug")(),bindings:{device:"<unifiDeviceGraphDevice",start:"<unifiDeviceGraphStart",end:"<unifiDeviceGraphEnd",granularity:"<unifiDeviceGraphGranularity",type:"<unifiDeviceGraphType",radio:"<unifiDeviceGraphRadio",isCozy:"<unifiDeviceGraphCozy",itemToMark:"<?unifiDeviceGraphMarkItem",usgPort:"<?unifiDeviceGraphUsgPort"},controller:"DeviceGraphController",controllerAs:"deviceGraphCtrl"})},{"./deviceGraph.pug":243}],243:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiDevice"><unifi-line-chart-with-tooltip class="unifiDeviceGraph positionRelative" unifi-line-chart-with-tooltip-config="deviceGraphCtrl.chartConfig" unifi-line-chart-with-tooltip-data="deviceGraphCtrl.data" unifi-line-chart-with-tooltip-external-source="deviceGraphCtrl.focusedData" ng-class="{      \'unifiDeviceGraph--cozy\': deviceGraphCtrl.isCozy,      \'unifiDeviceGraph__performance\': deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.PERFORMANCE,       \'unifiDeviceGraph__bytes\': deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.BYTES,       \'unifiDeviceGraph__packets\': deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.PACKETS,       \'unifiDeviceGraph__dropped\': deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.DROPPED,       \'unifiDeviceGraph__retries\': deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.RETRIES,       \'unifiDeviceGraph__frags\': deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.FRAGS,       \'unifiDeviceGraph__crypts\': deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.CRYPTS,       \'unifiDeviceGraph__errors\': deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.ERRORS,       \'unifiDeviceGraph__channelUtilization\': deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.CHANNEL_UTILIZATION      }"><div class="unifiChartTooltipHeader">{{deviceGraphCtrl.focusedData.time | statsTimeRange: deviceGraphCtrl.granularity}}</div><div class="unifiChartTooltipBody" ng-if="deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.PERFORMANCE"><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.mem)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="PERFORMANCE_MEMORY"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number memory alignRight"><strong>{{deviceGraphCtrl.focusedData.mem | number : 2}}</strong>%</div></div><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.cpu)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="PERFORMANCE_CPU"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number cpu alignRight"><strong>{{deviceGraphCtrl.focusedData.cpu | number : 2}}</strong>%</div></div><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.loadavg_5)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="PERFORMANCE_LOADAVG"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number cpu alignRight"><strong>{{deviceGraphCtrl.focusedData.loadavg_5 | number : 2}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.mem) &amp;&amp; !deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.cpu) &amp;&amp; !deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.loadavg_5)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="PERFORMANCE_NO_DATA_AVAILABLE"></p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.BYTES"><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.rx)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_DEVICE_RX"></div><div class="col--xs6 noPadding noWrap unifiChartTooltipBody__number down alignRight"><strong ng-if="!deviceGraphCtrl.useBps">{{deviceGraphCtrl.focusedData.raw.rx | bytes}}</strong><strong ng-if="deviceGraphCtrl.useBps">{{deviceGraphCtrl.focusedData.raw.rx | bps}}</strong></div></div><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.tx)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_DEVICE_TX"></div><div class="col--xs6 noPadding noWrap unifiChartTooltipBody__number up alignRight"><strong ng-if="!deviceGraphCtrl.useBps">{{deviceGraphCtrl.focusedData.raw.tx | bytes}}</strong><strong ng-if="deviceGraphCtrl.useBps">{{deviceGraphCtrl.focusedData.raw.tx | bps}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.rx) &amp;&amp; !deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.tx)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="PERFORMANCE_NO_DATA_AVAILABLE"></p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.PACKETS"><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.rx_packets)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_DEVICE_RX_PKTS"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number down alignRight"><strong>{{deviceGraphCtrl.focusedData.rx_packets | number:0}}</strong></div></div><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.tx_packets)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_DEVICE_TX_PKTS"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number up alignRight"><strong>{{deviceGraphCtrl.focusedData.tx_packets | number:0}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.rx_packets) &amp;&amp; !deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.tx_packets)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="PERFORMANCE_NO_DATA_AVAILABLE"></p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.DROPPED"><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.rx_dropped)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_DEVICE_RX_DROPPED"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number down alignRight"><strong>{{deviceGraphCtrl.focusedData.rx_dropped | number:0}}</strong></div></div><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.tx_dropped)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_DEVICE_TX_DROPPED"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number up alignRight"><strong>{{deviceGraphCtrl.focusedData.tx_dropped | number:0}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.rx_dropped) &amp;&amp; !deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.tx_dropped)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="PERFORMANCE_NO_DATA_AVAILABLE"></p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.ERRORS"><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.rx_errors)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_DEVICE_RX_ERRORS"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number down alignRight"><strong>{{deviceGraphCtrl.focusedData.rx_errors | number:0}}</strong></div></div><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.tx_errors)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_DEVICE_TX_ERRORS"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number up alignRight"><strong>{{deviceGraphCtrl.focusedData.tx_errors | number:0}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.rx_errors) &amp;&amp; !deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.tx_errors)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="PERFORMANCE_NO_DATA_AVAILABLE"></p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.RETRIES"><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.tx_retries)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_DEVICE_TX_RETRIES"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number up alignRight"><strong>{{deviceGraphCtrl.focusedData.tx_retries | number:0}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.tx_retries)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="PERFORMANCE_NO_DATA_AVAILABLE"></p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.FRAGS"><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.rx_frags)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_DEVICE_RX_FRAGS"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number down alignRight"><strong>{{deviceGraphCtrl.focusedData.rx_frags | number:0}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.rx_frags)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="PERFORMANCE_NO_DATA_AVAILABLE"></p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.CRYPTS"><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.rx_crypts)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_DEVICE_RX_CRYPTS"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number down alignRight"><strong>{{deviceGraphCtrl.focusedData.rx_crypts | number:0}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.rx_crypts)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="PERFORMANCE_NO_DATA_AVAILABLE"></p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.CHANNEL_UTILIZATION"><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.cu_self_rx)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_DEVICE_CHANNEL_UTILIZATION"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number alignRight"><span class="warning">{{deviceGraphCtrl.focusedData.cu_total | number:0}} % /&nbsp;</span><span class="down">{{deviceGraphCtrl.focusedData.cu_self_rx | number:0}} % /&nbsp;</span><span class="up">{{deviceGraphCtrl.focusedData.cu_self_tx | number:0}} %</span></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.cu_self_rx) &amp;&amp; !deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.cu_self_tx) &amp;&amp; !deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.cu_total)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="PERFORMANCE_NO_DATA_AVAILABLE"></p></div></div></div></div><div class="unifiChartTooltipBody" ng-if="deviceGraphCtrl.type === deviceGraphCtrl.REPORT_TYPES.DEVICE.USERS"><div class="verticalRhythmQuarter" ng-if="deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.num_sta)"><div class="col--xs6 noPadding unifiChartTooltipBody__title" translate="STATISTICS_RECENT_ACTIVITIES_CLIENTS"></div><div class="col--xs6 noPadding unifiChartTooltipBody__number alignRight"><strong>{{deviceGraphCtrl.focusedData.num_sta | number:0}}</strong></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder noPaddingBottom" ng-if="!deviceGraphCtrl.isNumber(deviceGraphCtrl.focusedData.num_sta)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="PERFORMANCE_NO_DATA_AVAILABLE"></p></div></div></div></div></unifi-line-chart-with-tooltip></div>'}},{"pug-runtime":23}],244:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("DeviceListController",["BasePaginatedListController","account","bypass","devices","deviceModelUtils","deviceStateUtils","gatewayUtils","DeviceFilter","deviceDiscoveryUtils","deviceRadioUtils","deviceWlanGroupUtils","manageDevicesComparator","deviceListColumnStore","BatchDeviceModel","DeviceCollection","CollectionView","preferences","propertyPanel","system","tags","listBatchEditControllerMixin","listCollapsibleColumnControllerMixin","DEVICE_TYPES","RADIO_TYPES",function(t,e,i,r,a,s,l,c,u,d,p,f,h,_,m,g,v,E,C,T,S,y,A,b){return new(function(g){function v(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return t.DEVICE_TYPES=A,t.RADIO_TYPES=b,t.account=e,t.devices=r,t.deviceDiscoveryUtils=u,t.deviceRadioUtils=d,t.deviceWlanGroupUtils=p,t.propertyPanel=E,t.system=C,t.tags=T,t.gatewayUtils=l,t.comparator=f,t.columnStore=h,t.filter=new c,t.defaultSortBy="state",t.collapsibleColumnKeyActions="collapse:device:actions",t.collapsibleColumnKeyChannelUtil="collapse:device:chutil",t.getModelFeature=a.getModelFeature.bind(a),t.isBetaModel=a.isBeta.bind(a),t.getRawDeviceState=s.getRawDeviceState.bind(s),t.getDeviceStatus=s.getDeviceStatus.bind(s),t.getDeviceModelName=s.getDeviceModelName.bind(s),t.isColumnVisible=t.columnStore.isColumnVisible.bind(t.columnStore),t.hasSiteGateway=l.hasSiteGateway.bind(l),t.listeners={},t.DEVICE_LIST_ACTION_PERMISSIONS=["API_DEVICE_ADOPT","API_DEVICE_RESTART"],S(t),t.initBatchEditModel("batch:uap","batch:uap",m,_),t.initBatchEditModel("batch:usw","batch:usw",m,_),y(t),t.deviceDiscoveryUtils.findDevicesIsVisible()&&!i.isEnabled("bypassAutoFindDevices")&&t.findDevices(!0),t.findDevicesIsVisible=t.deviceDiscoveryUtils.findDevicesIsVisible.bind(t.deviceDiscoveryUtils),t.findDevicesIsAvailable=t.deviceDiscoveryUtils.findDevicesIsAvailable.bind(t.deviceDiscoveryUtils),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(v,t),n(v,[{key:"initView",value:function(){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"initView",this).call(this),this.listeners.devices=r.repository.collection.onUpdate(this.setFilterCounts.bind(this)),this.listeners.tags=T.repository.collection.onUpdate(this.refreshIfSearchTag.bind(this)),this.setFilterCounts()}},{key:"destroyView",value:function(){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"destroyView",this).call(this),Object.keys(this.listeners).forEach(function(t){this.listeners[t].stopListening()}.bind(this))}},{key:"initFilters",value:function(){this.isFiltered=this.filter.isFiltered.bind(this.filter),this.getDeviceTypeFilter=this.filter.getDeviceTypeFilter.bind(this.filter),this.hasDeviceTypeFilter=this.filter.hasDeviceTypeFilter.bind(this.filter);var t=this.listState.getFilter("type");this.filter.setDeviceTypeFilter(t?t.split(","):void 0),this.columnGroup=this.listState.getFilter("view"),this.initFilterView(),this.refreshColumns()}},{key:"initFilterView",value:function(){this.filterViewGroups=[],this.filterViewGroups.push({id:"deviceType",translationKey:"DEVICE_FILTER_TITLE_TYPE",items:[{id:"all",translationKey:"DEVICE_TYPE_FILTER_ALL",excludeFromSummary:!0,getCount:function(){return this.counts.all}.bind(this),isSelected:function(){return!this.getDeviceTypeFilter()}.bind(this),onSelect:function(){return this.clearDeviceTypeFilter()}.bind(this)},{id:"gatewaySwitches",translationKey:"DEVICE_TYPE_FILTER_GATEWAY_SWITCHES",getCount:function(){return this.counts.ugw+this.counts.usw}.bind(this),isSelected:function(){return this.hasDeviceTypeFilter([this.DEVICE_TYPES.GATEWAY,this.DEVICE_TYPES.SWITCH])}.bind(this),onSelect:function(){return this.setDeviceTypeFilter([this.DEVICE_TYPES.GATEWAY,this.DEVICE_TYPES.SWITCH])}.bind(this)},{id:"aps",translationKey:"DEVICE_TYPE_FILTER_APS",getCount:function(){return this.counts.uap}.bind(this),isSelected:function(){return this.hasDeviceTypeFilter([this.DEVICE_TYPES.AP])}.bind(this),onSelect:function(){return this.setDeviceTypeFilter([this.DEVICE_TYPES.AP])}.bind(this)}]}),this.filterViewGroups.push({id:"columnGroup",translationKey:"DEVICE_FILTER_TITLE_VIEW",excludeFromSummary:!0,isVisible:function(){return this.hasDeviceTypeFilter([this.DEVICE_TYPES.AP])&&!this.columnStore.getCustomized()}.bind(this),items:[{id:"overview",translationKey:"DEVICE_TYPE_FILTER_APS_OVERVIEW",isSelected:function(){return!this.getColumnGroup()}.bind(this),onSelect:function(){return this.clearColumnGroup()}.bind(this)},{id:"performance",translationKey:"DEVICE_TYPE_FILTER_APS_PERFORMANCE",isSelected:function(){return"performance"===this.getColumnGroup()}.bind(this),onSelect:function(){return this.setColumnGroup("performance")}.bind(this)},{id:"config",translationKey:"DEVICE_TYPE_FILTER_APS_CONFIG",isSelected:function(){return"config"===this.getColumnGroup()}.bind(this),onSelect:function(){return this.setColumnGroup("config")}.bind(this)}]})}},{key:"setFilterCounts",value:function(){this.counts={all:r.repository.collection.length,uap:0,ugw:0,usw:0},r.repository.collection.each(function(t){this.counts[t.get("type")]++}.bind(this))}},{key:"setDeviceTypeFilter",value:function(t){this.beginStateChange(),this.listState.addFilter("type",t),this.filter.setDeviceTypeFilter(t),this.clearColumnGroup(),this.commitStateChange()}},{key:"clearDeviceTypeFilter",value:function(){this.beginStateChange(),this.listState.removeFilter("type"),this.filter.clearDeviceTypeFilter(),this.clearColumnGroup(),this.commitStateChange()}},{key:"getColumnGroup",value:function(){return this.columnGroup}},{key:"setColumnGroup",value:function(t){this.beginStateChange(),this.listState.addFilter("view",t),this.columnGroup=t,this.commitStateChange()}},{key:"clearColumnGroup",value:function(){this.beginStateChange(),this.listState.removeFilter("view"),this.columnGroup=void 0,this.commitStateChange()}},{key:"refreshColumns",value:function(){this.isStateChanging()||(this.columnStore.setDeviceTypes(this.getDeviceTypeFilter()),this.columnStore.setColumnGroup(this.columnGroup),this.columnStore.setColumns())}},{key:"refresh",value:function(t){return this.refreshColumns(),o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"refresh",this).call(this,t)}},{key:"refreshIfSearchTag",value:function(){this.filter.hasDeviceTagFilter()&&this.refresh()}},{key:"onSearchTagChange",value:function(t){this.beginStateChange(),this.filter.setDeviceTagFilter(t),this.filter.updateSearchQuery(),this.commitStateChange()}},{key:"getCollection",value:function(){return r.repository.collection}},{key:"getGatewayIp",value:function(t){return l.getIpByNetworkGroup("LAN",t)||t.get("ip")}},{key:"isBatchEditAllowed",value:function(t){switch(this.getBatchEditId()){case"batch:uap":return t.isAp()&&t.get("adopted")&&d.isDeviceWithOneRadioPerType(t);case"batch:usw":return t.isSwitch()&&t.get("adopted");default:return!1}}},{key:"findDevices",value:function(t){return u.findDevices(t)}},{key:"isFindingDevices",value:function(){return u.isFindingDevices()}},{key:"hasActionPermissions",value:function(){return this.DEVICE_LIST_ACTION_PERMISSIONS.some(function(t){return e.hasPermission(t)})}},{key:"getTagsByMac",value:function(t){return T.getTagsByMac(t)}},{key:"onWarningClick",value:function(t){if(t){E.addItem(t,[{state:"activeTab",value:"alerts"}])}}}]),v}())}])},{}],245:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDeviceList",["$timeout","PaginatedListDirective","listBatchEditDirectiveMixin",function(e,i,n){var o=new i("device",t("./deviceList.pug")());return o.addMixin(n),o.addMixin({init:function(t,i,n,o){e(function(){t.$watch(function(){return o.getDeviceTypeFilter()},function(t){t?-1!==t.indexOf("uap")?o.useBatchEditId("batch:uap"):-1!==t.indexOf("usw")&&o.useBatchEditId("batch:usw"):o.clearBatchEditId()})},0)}}),o}])},{"./deviceList.pug":246}],246:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--centerPanel appActionBar--transparent"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters visible--lgUp"><unifi-ui-list-filter-buttons unifi-ui-list-filter-buttons-config="deviceListCtrl.filterViewGroups"></unifi-ui-list-filter-buttons></div><div class="appActionBarFilters visible--mdDown"><unifi-ui-list-filter-dropdown unifi-ui-list-filter-dropdown-config="deviceListCtrl.filterViewGroups" unifi-ui-list-filter-dropdown-filter-by-label="{{\'COMMON_LABEL_FILTER_BY\' | translate}}" unifi-ui-list-filter-dropdown-filter-by-all-label="{{\'COMMON_LABEL_FILTER_ALL\' | translate}}"></unifi-ui-list-filter-dropdown></div></div><div class="appActionBar__right"><div class="appActionBarFilters"><div class="appActionBarFilter" ng-if="deviceListCtrl.findDevicesIsVisible()"><div class="appTooltipContainer appTooltipContainer--hoverable"><button class="appMainButton appMainButton--primary appMainButton--cozy" ng-class="{                  \'is-button-notifying\': deviceListCtrl.isFindingDevices()                }" ng-click="deviceListCtrl.findDevices()" ng-disabled="!deviceListCtrl.findDevicesIsAvailable()">{{deviceListCtrl.isFindingDevices() ? \'DEVICE_ACTIONS_FINDING_DEVICES\' : \'DEVICE_ACTIONS_FIND_DEVICES\' | translate}}</button><div class="appTooltip appTooltip--bottom" ng-if="!deviceListCtrl.findDevicesIsAvailable()" translate="DEVICE_ACTIONS_FIND_DEVICES_INCOMPATIBLE_BROWSER_WARNING"></div></div></div><div class="appActionBarFilter appActionBarFilter--noBorder visible--lgUp"><a class="appMainButton appMainButton--cozy appMainButton--primary editBatchDevices" ng-if="deviceListCtrl.isBatchEditable() &amp;&amp; deviceListCtrl.getBatchEditDestination().length" unifi-open-panel="deviceListCtrl.getBatchEditModel()" unifi-open-panel-active-tab="\'configure\'"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT_SELECTED"></span></a></div><div class="appActionBarFilter appActionBarFilter--noBorder" ng-if="deviceListCtrl.hasDeviceTypeFilter([\'uap\'])"><button class="appMainButton appMainButton--primary appMainButton--cozy" unifi-device-list-button-rolling-upgrade="deviceListCtrl.devices.repository.collection" unifi-device-list-button-rolling-upgrade-is-labeled="true"></button></div><div class="appActionBarFilter appActionBarFilter--search"><form class="fullWidth"'+n("novalidate",!0,!0,!0)+' autocomplete="off"><unifi-device-search-with-tags-dropdown-list unifi-device-search-with-tags-dropdown-list-local-state="true" unifi-device-search-with-tags-dropdown-list-local-state-key="\'device-list-search\'" unifi-device-search-with-tags-dropdown-list-local-state-is-temporary="true" unifi-device-search-with-tags-dropdown-list-is-cozy="true" unifi-device-search-with-tags-dropdown-list-is-busy="deviceListCtrl.view.isRefreshing()" unifi-device-search-with-tags-dropdown-list-on-change="deviceListCtrl.onSearchQueryChange(searchQuery)" unifi-device-search-with-tags-dropdown-list-on-select="deviceListCtrl.onSearchTagChange(model)"></unifi-device-search-with-tags-dropdown-list></form></div></div></div></div></div><unifi-chunked-load-progress-bar unifi-chunked-load-progress-bar-collection="deviceListCtrl.getCollection()"></unifi-chunked-load-progress-bar><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><table class="unifiDevicesTable verticalRhythmTop--condensed appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped appForm appForm--cozy" id="devicesTable" collection-view-sort="deviceListCtrl.view" ng-class="{          \'is-not-responsive\': deviceListCtrl.columnStore.getCustomized() || !deviceListCtrl.isResponsive()        }" unifi-bind-notifier="{          table_refresh: deviceListCtrl.columnStore.getColumns(),          table_refresh: deviceListCtrl.isResponsive(),          table_refresh: deviceListCtrl.isColumnCollapsed(deviceListCtrl.collapsibleColumnKeyActions),          table_refresh: deviceListCtrl.isColumnCollapsed(deviceListCtrl.collapsibleColumnKeyChannelUtil)        }" unifi-condensed="appTable--condensed"><thead><tr><td class="deviceCheckbox appTableCell--smash noPaddingTop"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="deviceListCtrl.isBatchEditable()"><input type="checkbox" name="deviceListSelectAllBatchEdit" ng-checked="deviceListCtrl.selectAllBatchEdit" ng-click="deviceListCtrl.toggleSelectAllBatchEdit()" unifi-indeterminate-checkbox="deviceListCtrl.isSelectAllBatchEditIndeterminate"></td><th class="alignCenter deviceStateIcon visible--smUp" collection-view-sort-by="state"></th><th class="deviceName" collection-view-sort-by="name" ng-if="deviceListCtrl.isColumnVisible(\'name\')"><span translate="DEVICE_TABLE_HEADER_NAME"></span></th><th class="deviceMacAddress visible--lgUp" collection-view-sort-by="mac" ng-if="deviceListCtrl.isColumnVisible(\'mac\')"><span translate="DEVICE_TABLE_HEADER_MAC_ADDRESS"></span></th><th class="deviceIp" collection-view-sort-by="ip" ng-if="deviceListCtrl.isColumnVisible(\'ip\')"><span translate="DEVICE_TABLE_HEADER_IP"></span></th><th class="deviceState" collection-view-sort-by="stateString" ng-if="deviceListCtrl.isColumnVisible(\'stateString\')"><span translate="DEVICE_TABLE_HEADER_STATUS"></span></th><th class="deviceModel visible--smUp" collection-view-sort-by="model" ng-if="deviceListCtrl.isColumnVisible(\'model\')"><span translate="DEVICE_TABLE_HEADER_MODEL"></span></th><th class="deviceVersion visible--mdUp" collection-view-sort-by="version" ng-if="deviceListCtrl.isColumnVisible(\'version\')"><span translate="DEVICE_TABLE_HEADER_VERSION"></span></th><th class="deviceUplink" ng-if="deviceListCtrl.isColumnVisible(\'uplink\')"><span translate="DEVICE_TABLE_HEADER_UPLINK"></span></th><th class="deviceUptime visible--lgUp" collection-view-sort-by="uptime" ng-if="deviceListCtrl.isColumnVisible(\'uptime\')"><span translate="DEVICE_TABLE_HEADER_UPTIME"></span></th><th class="deviceMemoryUsage" collection-view-sort-by="memory" ng-if="deviceListCtrl.isColumnVisible(\'memory\')"><span translate="DEVICE_TABLE_HEADER_MEMORY_USAGE"></span></th><th class="deviceCpuUsage" collection-view-sort-by="cpu" ng-if="deviceListCtrl.isColumnVisible(\'cpu\')"><span translate="DEVICE_TABLE_HEADER_CPU_USAGE"></span></th><th class="deviceLoadAverage" collection-view-sort-by="loadAvg" ng-if="deviceListCtrl.isColumnVisible(\'loadAvg\')"><span translate="DEVICE_TABLE_HEADER_LOAD_AVERAGE"></span></th><th class="deviceClients visible--mdUp" collection-view-sort-by="clients" ng-if="deviceListCtrl.isColumnVisible(\'clients\')"><span translate="DEVICE_TABLE_HEADER_CLIENTS"></span></th><th class="deviceDown visible--lgUp" ng-if="deviceListCtrl.isColumnVisible(\'down\')" collection-view-sort-by="tx_bytes"><span translate="DEVICE_TABLE_HEADER_DOWN"></span></th><th class="deviceUp visible--lgUp" ng-if="deviceListCtrl.isColumnVisible(\'up\')" collection-view-sort-by="rx_bytes"><span translate="DEVICE_TABLE_HEADER_UP"></span></th><th class="deviceWlan2g" collection-view-sort-by="wlan2g" ng-if="deviceListCtrl.isColumnVisible(\'wlan2g\')"><span translate="DEVICE_TABLE_HEADER_WLAN2G"></span></th><th class="deviceWlan5g" collection-view-sort-by="wlan5g" ng-if="deviceListCtrl.isColumnVisible(\'wlan5g\')"><span translate="DEVICE_TABLE_HEADER_WLAN5G"></span></th><th class="deviceRadio2g" collection-view-sort-by="radio2g" ng-if="deviceListCtrl.isColumnVisible(\'radio2g\')"><span translate="DEVICE_TABLE_HEADER_RADIO2G"></span></th><th class="deviceRadio5g" collection-view-sort-by="radio5g" ng-if="deviceListCtrl.isColumnVisible(\'radio5g\')"><span translate="DEVICE_TABLE_HEADER_RADIO5G"></span></th><th class="deviceClients2g" collection-view-sort-by="clients2g" ng-if="deviceListCtrl.isColumnVisible(\'clients2g\')"><span translate="DEVICE_TABLE_HEADER_2G_CLIENTS"></span></th><th class="deviceClients5g" collection-view-sort-by="clients5g" ng-if="deviceListCtrl.isColumnVisible(\'clients5g\')"><span translate="DEVICE_TABLE_HEADER_5G_CLIENTS"></span></th><th class="deviceTx" collection-view-sort-by="tx" ng-if="deviceListCtrl.isColumnVisible(\'tx\')"><span translate="DEVICE_TABLE_HEADER_TX"></span></th><th class="deviceRx" collection-view-sort-by="rx" ng-if="deviceListCtrl.isColumnVisible(\'rx\')"><span translate="DEVICE_TABLE_HEADER_RX"></span></th><th class="deviceTx2g visible--lgUp" collection-view-sort-by="tx2g" ng-if="deviceListCtrl.isColumnVisible(\'tx2g\')"><span translate="DEVICE_TABLE_HEADER_TX2G"></span></th><th class="deviceTx5g visible--lgUp" collection-view-sort-by="tx5g" ng-if="deviceListCtrl.isColumnVisible(\'tx5g\')"><span translate="DEVICE_TABLE_HEADER_TX5G"></span></th><th class="deviceChannel visible--mdUp" collection-view-sort-by="channel" ng-if="deviceListCtrl.isColumnVisible(\'channel\')"><span translate="DEVICE_TABLE_HEADER_CHANNEL"></span></th><th class="deviceChannelUtil2g visible--lgUp" collection-view-sort-by="chutil2g" ng-if="deviceListCtrl.isColumnVisible(\'chutil2g\')"><span translate="DEVICE_TABLE_HEADER_CHUTIL2G"></span><span unifi-collapsible-table-icon="deviceListCtrl.collapsibleColumnKeyChannelUtil"></span></th><th class="deviceChannelUtil5g visible--lgUp" collection-view-sort-by="chutil5g" ng-if="deviceListCtrl.isColumnVisible(\'chutil5g\')"><span translate="DEVICE_TABLE_HEADER_CHUTIL5G"></span><span unifi-collapsible-table-icon="deviceListCtrl.collapsibleColumnKeyChannelUtil"></span></th><th class="deviceSatisfaction2g visible--lgUp" collection-view-sort-by="satisfaction2g" ng-if="deviceListCtrl.isColumnVisible(\'satisfaction2g\')"><span translate="DEVICE_TABLE_HEADER_SATISFACTION2G"></span></th><th class="deviceSatisfaction5g visible--lgUp" collection-view-sort-by="satisfaction5g" ng-if="deviceListCtrl.isColumnVisible(\'satisfaction5g\')"><span translate="DEVICE_TABLE_HEADER_SATISFACTION5G"></span></th><th class="deviceBssid visible--lgUp" collection-view-sort-by="name" ng-if="deviceListCtrl.isColumnVisible(\'bssid\')"><span translate="DEVICE_TABLE_HEADER_BSSID"></span></th><th class="deviceTags visible--lgUp" collection-view-sort-by="tags" ng-if="deviceListCtrl.isColumnVisible(\'tags\')"><span translate="DEVICE_TABLE_HEADER_TAGS"></span></th><th class="deviceActions appTableCell--withAction"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-or="deviceListCtrl.hasActionPermissions()"><span translate="DEVICE_TABLE_HEADER_ACTIONS"></span><span unifi-collapsible-table-icon="deviceListCtrl.collapsibleColumnKeyActions"></span><unifi-list-column-selector unifi-list-column-selector-with-batch-edit="deviceListCtrl.account.isAdmin() &amp;&amp; !!deviceListCtrl.getBatchEditId()" unifi-list-column-selector-column-store="deviceListCtrl.columnStore"></unifi-list-column-selector></th><th class="deviceActions appTableCell--isActionOnly" unifi-if-role-admin="false" unifi-if-role-admin-and="!deviceListCtrl.hasActionPermissions()"><unifi-list-column-selector unifi-list-column-selector-column-store="deviceListCtrl.columnStore"></unifi-list-column-selector></th></tr></thead><tfoot ng-if="deviceListCtrl.view.getModels().length"><tr><td colspan="{{:table_refresh: deviceListCtrl.columnStore.getColumns().length + 2 + (deviceListCtrl.isBatchEditable() ? 1 : 0)}}"><a class="appMainButton appMainButton--tertiary appMainButton--condensed verticalRhythmTop--condensed horizontalRhythm--cozy editBatchDevices" ng-if="deviceListCtrl.isBatchEditable() &amp;&amp; deviceListCtrl.getBatchEditDestination().length" unifi-open-panel="deviceListCtrl.getBatchEditModel()" unifi-open-panel-active-tab="\'configure\'"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT_SELECTED"></span></a><unifi-list-pagination unifi-list-pagination-current-page="deviceListCtrl.currentPage" unifi-list-pagination-page-size-options="[10, 25, 50, 100]" unifi-list-pagination-rows-per-page="deviceListCtrl.rowsPerPage" unifi-list-pagination-total-rows="deviceListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr class="clickable" ng-repeat="              entry in deviceListCtrl.view.getEntries()              | limitTo:(deviceListCtrl.rowsPerPage):((deviceListCtrl.currentPage - 1) * deviceListCtrl.rowsPerPage)              track by entry.model.id            " unifi-bind-notifier="{model_refresh: entry.model.version}" ng-init="model = entry.model" data-id="{{:: model.id}}" data-device-type="{{:model_refresh: model.get(\'type\')}}" data-is-managed="{{:model_refresh: model.get(\'adopted\')}}" ng-class=":model_refresh: {\'is-row-disabled\': model.get(\'disabled\') || [\'danger\', \'static\'].indexOf(deviceListCtrl.getDeviceStatus(model)) !== -1}" unifi-open-panel=":: model" unifi-open-panel-active-tab="\'details\'"><td class="deviceCheckbox appTableCell--smash"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and=":table_refresh: deviceListCtrl.isBatchEditable()"><input type="checkbox" ng-checked="deviceListCtrl.isBatchEditSelected(model)" ng-click="deviceListCtrl.toggleBatchEdit(model); $event.stopPropagation();" ng-if=":model_refresh: deviceListCtrl.isBatchEditAllowed(model)"></td><td class="deviceStateIcon unifiDevicesTable__deviceIcon visible--smUp"><span unifi-device-icon=":: model"></span></td><td class="deviceName" ng-attr-title="{{:model_refresh: model.get(\'mac\')}}" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'name\')">{{:model_refresh: model.getDisplayName()}}</td><td class="deviceMacAddress visible--lgUp" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'mac\')">{{:model_refresh: model.get(\'mac\')}}</td><td class="deviceIp" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'ip\')"><a ng-if=":model_refresh: model.isGateway() &amp;&amp; !deviceListCtrl.system.isDemoMode()" ng-href="//{{:model_refresh: deviceListCtrl.getGatewayIp(model)}}" ng-click="$event.stopPropagation()" target="_blank">{{:model_refresh: deviceListCtrl.getGatewayIp(model)}}</a><span ng-if=":model_refresh: !model.isGateway() &amp;&amp; !deviceListCtrl.system.isDemoMode()"><span unifi-if-advanced-features="false">{{:model_refresh: model.get(\'ip\')}}</span><span unifi-if-advanced-features="true" unifi-open-terminal="model" unifi-open-terminal-is-available="terminalAvailable" ng-class="{\'appLink\': terminalAvailable}">{{:model_refresh: model.get(\'ip\')}}</span></span><span ng-if="deviceListCtrl.system.isDemoMode()">{{:model_refresh: model.get(\'ip\')}}</span></td><td class="deviceState" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'stateString\')"><span unifi-device-status-badge=":: model" unifi-device-status-badge-on-warning-click="deviceListCtrl.onWarningClick(model)"></span></td><td class="deviceModel visible--smUp" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'model\')"><span>{{:model_refresh: deviceListCtrl.getDeviceModelName(model)}}</span><span class="appBadge appBadge--warning horizontalRhythmLeft--smash" ng-if=":model_refresh: deviceListCtrl.isBetaModel(model)" translate="COMMON_BETA"></span></td><td class="deviceVersion visible--mdUp" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'version\')">{{:model_refresh: model.get(\'version\')}}</td><td class="deviceUplink" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'uplink\')"><span unifi-device-uplink=":: model" unifi-device-uplink-allow-empty="true"></span></td><td class="deviceUptime visible--lgUp" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'uptime\')">{{:model_refresh: model.get(\'uptime\') | seconds}}</td><td class="deviceMemoryUsage" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'memory\')"><span ng-if="model.getMemoryUsage() !== undefined">{{:model_refresh: model.getMemoryUsage() | percent: 100}}</span><span ng-if="model.getMemoryUsage() === undefined" translate="COMMON_NOT_AVAILABLE"></span></td><td class="deviceCpuUsage" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'cpu\')">{{:model_refresh: model.getNested(\'system-stats.cpu\') | percent: 100}}</td><td class="deviceLoadAverage" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'loadAvg\')">{{:model_refresh: model.get(\'sys_stats\') | loadAvg}}</td><td class="deviceClients visible--mdUp" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'clients\')">{{:model_refresh: model.get(\'num_sta\')}}</td><td class="deviceDown visible--lgUp unifiDownload" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'down\')">{{:model_refresh: model.get(\'tx_bytes\') | bytes}}</td><td class="deviceUp visible--lgUp unifiUpload" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'up\')">{{:model_refresh: model.get(\'rx_bytes\') | bytes}}</td><td class="deviceWlan2g forceWrap" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'wlan2g\')">{{:model_refresh: model | wlanGroup: \'ng\'}}</td><td class="deviceWlan5g forceWrap" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'wlan5g\')">{{:model_refresh: model | wlanGroup: \'na\'}}</td><td class="deviceRadio2g" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'radio2g\')"><unifi-device-channel-group unifi-device-channel-group-model=":: model" unifi-device-channel-group-radio-type="\'ng\'" unifi-device-channel-group-hide-ht-info="true"></unifi-device-channel-group></td><td class="deviceRadio5g" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'radio5g\')"><unifi-device-channel-group unifi-device-channel-group-model=":: model" unifi-device-channel-group-radio-type="\'na\'" unifi-device-channel-group-hide-ht-info="true"></unifi-device-channel-group></td><td class="deviceClients2g forceWrap" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'clients2g\')"><unifi-device-clients-num unifi-device-clients-num-model=":: model" unifi-device-clients-num-radio-type="\'ng\'"></unifi-device-clients-num></td><td class="deviceClients5g forceWrap" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'clients5g\')"><unifi-device-clients-num unifi-device-clients-num-model=":: model" unifi-device-clients-num-radio-type="\'na\'"></unifi-device-clients-num></td><td class="deviceTx unifiUpload" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'tx\')">{{:model_refresh: model.get(\'tx_bytes-d\') | bytes}}</td><td class="deviceRx unifiDownload" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'rx\')">{{:model_refresh: model.get(\'rx_bytes-d\') | bytes}}</td><td class="deviceTx2g visible--lgUp wrappable" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'tx2g\')"><unifi-tx-rate-status-bar unifi-tx-rate-status-bar-model=":: model" unifi-tx-rate-status-bar-radio-type="\'ng\'"></unifi-tx-rate-status-bar></td><td class="deviceTx5g visible--lgUp wrappable" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'tx5g\')"><unifi-tx-rate-status-bar unifi-tx-rate-status-bar-model=":: model" unifi-tx-rate-status-bar-radio-type="\'na\'"></unifi-tx-rate-status-bar></td><td class="deviceChannel visible--mdUp" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'channel\')">{{:model_refresh: model | channel}}</td><td class="deviceChUtil2g visible--lgUp wrappable" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'chutil2g\')" ng-class=":table_refresh:model_refresh: {                \'is-collapsed\': (deviceListCtrl.collapsibleColumnKeyChannelUtil | localStorage)              }"><unifi-channel-utilization-status-bar-group ng-if=":table_refresh: !(deviceListCtrl.collapsibleColumnKeyChannelUtil | localStorage)" unifi-channel-utilization-status-bar-group-model=":: model" unifi-channel-utilization-status-bar-group-radio-type="\'ng\'"></unifi-channel-utilization-status-bar-group><span class="forceWrap" ng-if=":table_refresh: deviceListCtrl.collapsibleColumnKeyChannelUtil | localStorage">{{:model_refresh: model | channelUtilization: \'ng\'}}</span></td><td class="deviceChUtil5g visible--lgUp wrappable" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'chutil5g\')" ng-class=":table_refresh:model_refresh: {                \'is-collapsed\': (deviceListCtrl.collapsibleColumnKeyChannelUtil | localStorage)              }"><unifi-channel-utilization-status-bar-group ng-if=":table_refresh: !(deviceListCtrl.collapsibleColumnKeyChannelUtil | localStorage)" unifi-channel-utilization-status-bar-group-model=":: model" unifi-channel-utilization-status-bar-group-radio-type="\'na\'"></unifi-channel-utilization-status-bar-group><span class="forceWrap" ng-if=":table_refresh: deviceListCtrl.collapsibleColumnKeyChannelUtil | localStorage">{{:model_refresh: model | channelUtilization: \'na\'}}</span></td><td class="deviceSatisfaction2g visible--lgUp wrappable" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'satisfaction2g\')"><unifi-device-satisfaction-status-bar unifi-device-satisfaction-status-bar-model=":: model" unifi-device-satisfaction-status-bar-radio="\'ng\'"></unifi-device-satisfaction-status-bar></td><td class="deviceSatisfaction5g visible--lgUp wrappable" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'satisfaction5g\')"><unifi-device-satisfaction-status-bar unifi-device-satisfaction-status-bar-model=":: model" unifi-device-satisfaction-status-bar-radio="\'na\'"></unifi-device-satisfaction-status-bar></td><td class="bssid" ng-if=":table_refresh: deviceListCtrl.isColumnVisible(\'bssid\')"><div class="ubntTooltipContainer ubntTooltipContainer--hoverable">{{:model_refresh: model.get(\'vap_table\') | bssidList: \'\': \'1\'}}<div class="ubntTooltip" ng-class="$index &lt; 5 ? \'ubntTooltip--bottomCenter\' : \'ubntTooltip--topCenter\'" style="line-height: 1.2em;" ng-bind-html=":model_refresh: model.get(\'vap_table\') | bssidList: \'\\&lt;br \\&gt;\': \'16\'"></div></div></td><td class="deviceTags" ng-if="deviceListCtrl.isColumnVisible(\'tags\')"><div class="tag appTag appTag--cozy appTag--transparent noMarginBottom" ng-repeat="tag in :model_refresh: deviceListCtrl.getTagsByMac(model.id)">{{::tag.get(\'name\')}}</div></td><td class="deviceActions appTableCell--actions" ng-class=":table_refresh: {\'is-collapsed\': (deviceListCtrl.collapsibleColumnKeyActions | localStorage)}"><div unifi-if-role-writeable="false"><button class="appMainButton appMainButton--tertiary" unifi-device-button-show-on-map=":: model" unifi-device-button-show-on-map-is-labeled="true" unifi-device-button-show-on-map-is-responsive=":table_refresh: deviceListCtrl.isResponsive()" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button></div><div'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-or="deviceListCtrl.hasActionPermissions()"><button class="appMainButton appMainButton--tertiary" unifi-device-button-locate=":: model" unifi-device-button-locate-with-map="true" unifi-device-button-locate-is-labeled="true" unifi-device-button-locate-is-responsive=":table_refresh: deviceListCtrl.isResponsive()" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button><button class="appMainButton appMainButton--tertiary" unifi-device-button-restart=":: model" unifi-device-button-restart-is-labeled="true" unifi-device-button-restart-is-responsive=":table_refresh: deviceListCtrl.isResponsive()" unifi-device-button-restart-with-hard-reboot=":model_refresh: model.isSwitch() &amp;&amp; deviceListCtrl.getModelFeature(model, \'poe\') === true" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button><div class="ubntTooltipContainer ubntTooltipContainer--hoverable"><button class="appMainButton appMainButton--tertiary" unifi-device-button-adopt=":: model" unifi-device-button-adopt-collection=":: deviceListCtrl.devices.repository.collection" unifi-device-button-adopt-is-labeled="true" unifi-device-button-adopt-is-responsive=":table_refresh: deviceListCtrl.isResponsive()" unifi-device-button-adopt-show-for-non-adoptable-gateway="true" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button><div class="ubntTooltip ubntTooltip--bottomLeft" ng-if="model.isGateway() &amp;&amp; deviceListCtrl.hasSiteGateway()" translate="DEVICE_TOOLTIP_ADOPT_MULTIPLE_USG"></div></div><button class="appMainButton appMainButton--tertiary" unifi-device-button-upgrade=":: model" unifi-device-button-upgrade-is-labeled="true" unifi-device-button-upgrade-is-responsive=":table_refresh: deviceListCtrl.isResponsive()" unifi-condensed="appMainButton--condensed" unifi-condensed-off="appMainButton--cozy"></button></div></td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!deviceListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="DEVICE_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="!deviceListCtrl.isFiltered()" translate="DEVICE_TABLE_EMPTY_NO_DEVICES"></p><p class="noMarginBottom" ng-if="deviceListCtrl.isFiltered()" translate="DEVICE_TABLE_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],247:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t){this.deviceRadioUtils=t,n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.updateSatisfaction=function(){this.averageSatisfaction=void 0,this.radio&&this.model&&this.model.get("vap_table")&&(this.satisfactions=this.model.get("vap_table").where({radio:this.radio}).map(function(t){return{satisfaction:t.get("satisfaction"),essid:t.get("essid")}}),this.averageSatisfaction=this.satisfactions.length?this.satisfactions.reduce(function(t,e){return t+e.satisfaction},0)/this.satisfactions.length:void 0)},o.prototype.onModelChange=function(){this.updateSatisfaction()},o.$inject=["deviceRadioUtils"],angular.module("app-unifi-manage").controller("DeviceSatisfactionStatusBarController",o)},{}],248:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDeviceSatisfactionStatusBar",["updateModelDirectiveMixin",function(e){return{scope:{model:"<unifiDeviceSatisfactionStatusBarModel",radio:"<unifiDeviceSatisfactionStatusBarRadio"},controller:"DeviceSatisfactionStatusBarController",controllerAs:"deviceSatisfactionStatusBarCtrl",template:t("./deviceSatisfactionStatusBar.pug")(),replace:!0,link:function(t,i,n,o){o.radio=t.radio,t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./deviceSatisfactionStatusBar.pug":249}],249:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appTooltipContainer appTooltipContainer--hoverable fullWidth" ng-show="deviceSatisfactionStatusBarCtrl.averageSatisfaction !== undefined"><unifi-satisfaction-status-bar unifi-satisfaction-status-bar-value="deviceSatisfactionStatusBarCtrl.averageSatisfaction"></unifi-satisfaction-status-bar><div class="appTooltip appTooltip--bottom"><div class="appTooltip__content" ng-repeat="satisfaction in deviceSatisfactionStatusBarCtrl.satisfactions"><span>{{satisfaction.essid}}</span><span class="floatRight">{{satisfaction.satisfaction}} %</span></div></div></div>'}},{"pug-runtime":23}],250:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DeviceSearchWithTagsDropdownListController",["BaseDropdownListController","tags",function(t,e){return new(function(i){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return t.defaultSortBy="name",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,t),n(o,[{key:"initFilters",value:function(){}},{key:"getCollection",value:function(){return e.repository.collection}}]),o}())}])},{}],251:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDeviceSearchWithTagsDropdownList",["PaginatedListDirective",function(e){var i=new e("deviceSearchWithTagsDropdown",t("./deviceSearchWithTagsDropdownList.pug")(),{localStateIsTemporary:"=?unifiDeviceSearchWithTagsDropdownListLocalStateIsTemporary",isCozy:"=?unifiDeviceSearchWithTagsDropdownListIsCozy",isBusy:"=?unifiDeviceSearchWithTagsDropdownListIsBusy",onSelect:"&?unifiDeviceSearchWithTagsDropdownListOnSelect",onChange:"&?unifiDeviceSearchWithTagsDropdownListOnChange"});return i.addMixin({init:function(t,e,i,n){t.$on("keyup:enter",n.closeDropdown.bind(n))}}),i}])},{"./deviceSearchWithTagsDropdownList.pug":252}],252:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<ng-form class="appForm" name="deviceSearchWithTagsDropdownList" ng-class="::{    \'appForm--cozy\': deviceSearchWithTagsDropdownListCtrl.isCozy  }"><div class="appFormDropdown appFormDropdown--withSearch fullWidth" ng-click="deviceSearchWithTagsDropdownListCtrl.openDropdown()" on-outside-element-click="deviceSearchWithTagsDropdownListCtrl.closeDropdown()" ng-switch="deviceSearchWithTagsDropdownListCtrl.isDropdownVisible || !deviceSearchWithTagsDropdownListCtrl.selectedModel"><div class="appFormDropdown__selectedItem appIconInput appIconInput--right" ng-switch-when="false" ng-class="deviceSearchWithTagsDropdownListCtrl.selectedModel ? \'appFormDropdown__selectedItem--noIcon appIconInput--left\' : \'\'"><div class="appIconInput__input">{{ deviceSearchWithTagsDropdownListCtrl.selectedModel.get(\'name\') }}</div><div class="appIconInput__icon appIconInput__icon--left icon ubnt-icon--tag" ng-if="deviceSearchWithTagsDropdownListCtrl.selectedModel"></div><div class="appIconInput__icon appIconInput__icon--right icon clickable" ng-if="deviceSearchWithTagsDropdownListCtrl.selectedModel" ng-click="$event.stopPropagation(); deviceSearchWithTagsDropdownListCtrl.selectModel()" ng-class="deviceSearchWithTagsDropdownListCtrl.isBusy ? \'appIconAnimated--rotate ubnt-icon--sync\' : \'ubnt-icon--x-circle\'"></div></div><unifi-search ng-switch-when="true" unifi-search-on-change="deviceSearchWithTagsDropdownListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-full-width="true" unifi-search-is-cozy="deviceSearchWithTagsDropdownListCtrl.isCozy" unifi-search-is-busy="deviceSearchWithTagsDropdownListCtrl.isBusy" unifi-search-placeholder="\'DEVICE_SEARCH_OR_SELECT_TAG_PLACEHOLDER\'" unifi-search-left-icon="deviceSearchWithTagsDropdownListCtrl.selectedModel ? \'ubnt-icon--tag\' : undefined"></unifi-search><div class="appDropdown" ng-click="$event.stopPropagation();" ng-class="{        \'is-dropdown-visible\': deviceSearchWithTagsDropdownListCtrl.isDropdownVisible &amp;&amp; deviceSearchWithTagsDropdownListCtrl.view.getModels().length      }"><table class="noMarginBottom appTable appTable--hoverable appTable--flexible appTable--minor appTable--striped appTable--transparent appTable--footerBorder appTable--light" ng-class="{          \'appTable--cozy\': !deviceSearchWithTagsDropdownListCtrl.isCozy,          \'appTable--condensed\': deviceSearchWithTagsDropdownListCtrl.isCozy        }"><tfoot ng-if="deviceSearchWithTagsDropdownListCtrl.view.getModels().length || deviceSearchWithTagsDropdownListCtrl.view.getModels().length &gt; deviceSearchWithTagsDropdownListCtrl.rowsPerPage"><tr><td colspan="2"><unifi-micro-pagination class="noMarginBottom horizontalRhythmLeft--condensed" unifi-micro-pagination-current-page="deviceSearchWithTagsDropdownListCtrl.currentPage" unifi-micro-pagination-rows-per-page="deviceSearchWithTagsDropdownListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="deviceSearchWithTagsDropdownListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="model in deviceSearchWithTagsDropdownListCtrl.view.getModels(),              startFrom (deviceSearchWithTagsDropdownListCtrl.currentPage - 1) * deviceSearchWithTagsDropdownListCtrl.rowsPerPage,              limitTo deviceSearchWithTagsDropdownListCtrl.rowsPerPage" data-id="{{::model.id}}" ng-click="deviceSearchWithTagsDropdownListCtrl.selectModel(model)" ng-class="{\'is-row-selected\': deviceSearchWithTagsDropdownListCtrl.selectedModel.id === model.id}"><td class="tagIcon appTableCell--isIconOnly"><div class="icon ubnt-icon--tag"></div></td><td class="tagName fullWidth">{{::model.get(\'name\')}}</td></tr></tbody></table></div></div></ng-form>'}},{"pug-runtime":23}],253:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DeviceSelectListController",["BasePaginatedListController","devices","DeviceCollection","deviceModelUtils","DeviceFilter","deviceStateUtils","devicesComparator","listSelectAllControllerMixin","preferences",function(t,e,i,o,r,a,s,l,c){return new(function(u){function d(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return t.comparator=s,t.defaultSortBy="state",t.rowsPerPage=c.model.getRowsPerPropertyPanel(),t.getModelFeature=o.getModelFeature.bind(o),t.getDeviceModelName=a.getDeviceModelName.bind(a),l(t,i,t.getAllSelectableDevices.bind(t),t.handleSelectionChange.bind(t)),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(d,t),n(d,[{key:"$onInit",value:function(){this.collection=this.collection||e.repository.collection,this.filter=this.filter||new r,this.selectAllTest=this.selectAllTest||function(){return!0},function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0}(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"$onInit",this).call(this),this.selectedTest?this.selectedCollection.add(this.getAllSelectedDevices()):this.toggleSelectAll()}},{key:"getCollection",value:function(){return this.collection}},{key:"onPageSizeChange",value:function(){}},{key:"getAllSelectableDevices",value:function(){return this.collection.models.filter(this.selectAllTest||function(){return!0})}},{key:"getAllSelectedDevices",value:function(){return this.collection.models.filter(this.selectedTest||function(){return!0})}},{key:"handleSelectionChange",value:function(t){this.onSelectionChange({selectedDevices:t})}}]),d}())}])},{}],254:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDeviceSelectList",["PaginatedListDirective",function(e){return new e("deviceSelect",t("./deviceSelectList.pug")(),{collection:"=?unifiDeviceSelectListCollection",filter:"=?unifiDeviceSelectListFilter",isDark:"=?unifiDeviceSelectListIsDark",onSelectionChange:"&unifiDeviceSelectListOnSelectionChange",selectAllTest:"=?unifiDeviceSelectListSelectAllTest",selectedTest:"=?unifiDeviceSelectListSelectedTest"})}])},{"./deviceSelectList.pug":255}],255:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="list"><div class="appActionBar appActionBar--cozy appActionBar--flexible appForm--cozy" ng-class="{      \'appActionBar--dark\': deviceSelectListCtrl.isDark,      \'appForm--dark\': deviceSelectListCtrl.isDark    }"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><span class="static" translate="COMMON_SELECT_LIST_SHOWING_SELECTED" translate-values="{                \'numberOfSelected\': deviceSelectListCtrl.selectedCollection.models.length,                \'numberOfAllSelectable\': deviceSelectListCtrl.getAllSelectableDevices().length              }"></span></div></div></div><div class="appActionBar__right"><div class="appActionBarFilters"><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="deviceSelectListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="deviceSelectListCtrl.view.isRefreshing()"></unifi-search></div></div></div></div></div><table class="noMarginBottom verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--condensed appTable--striped appForm appForm--cozy" collection-view-sort="deviceSelectListCtrl.view" ng-class="{      \'appTable--dark\': deviceSelectListCtrl.isDark    }"><thead><tr><td class="deviceCheckbox appTableCell--smash noPaddingTop"><input type="checkbox" name="selectAll" ng-hide="deviceSelectListCtrl.isSearchQuery" ng-checked="deviceSelectListCtrl.areAllSelected()" ng-click="deviceSelectListCtrl.toggleSelectAll()"></td><th class="alignCenter deviceStateIcon" collection-view-sort-by="state"></th><th class="deviceName" collection-view-sort-by="name"><span translate="DEVICE_OVERVIEW_TABLE_HEADER_NAME"></span></th><th class="deviceState" collection-view-sort-by="stateString"><span translate="DEVICE_OVERVIEW_TABLE_HEADER_STATUS"></span></th><th class="deviceModel" collection-view-sort-by="model"><span translate="DEVICE_OVERVIEW_TABLE_HEADER_MODEL"></span></th><th class="deviceVersion" collection-view-sort-by="version"><span translate="DEVICE_OVERVIEW_TABLE_HEADER_VERSION"></span></th><th class="deviceActions"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-with-site="deviceSelectListCtrl.model.get(\'name\')"><span translate="DEVICE_OVERVIEW_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tfoot ng-if="deviceSelectListCtrl.view.getModels().length"><tr><td colspan="7"><unifi-list-pagination unifi-list-pagination-current-page="deviceSelectListCtrl.currentPage" unifi-list-pagination-page-size-options="[5, 10, 25]" unifi-list-pagination-rows-per-page="deviceSelectListCtrl.rowsPerPage" unifi-list-pagination-total-rows="deviceSelectListCtrl.view.getModels().length" unifi-list-pagination-total-links="5" unifi-list-pagination-is-dark="deviceSelectListCtrl.isDark"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in deviceSelectListCtrl.view.getModels(),          startFrom (deviceSelectListCtrl.currentPage - 1) * deviceSelectListCtrl.rowsPerPage,          limitTo deviceSelectListCtrl.rowsPerPage"><td class="deviceCheckbox appTableCell--smash"><input type="checkbox" ng-checked="deviceSelectListCtrl.isSelected(model)" ng-click="deviceSelectListCtrl.toggleSelect(model); $event.stopPropagation();"></td><td class="deviceStateIcon unifiDevicesTable__deviceIcon"><span unifi-device-icon="::model"></span></td><td class="deviceName" ng-attr-title="{{::model.get(\'mac\')}}">{{::model.getDisplayName()}}</td><td class="deviceState"><span unifi-device-status-badge="::model"></span></td><td class="deviceModel">{{::deviceSelectListCtrl.getDeviceModelName(model)}}</td><td class="deviceVersion">{{::model.get(\'version\')}}</td><td class="deviceActions appTableCell--actions"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-with-site="deviceSelectListCtrl.model.get(\'name\')"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-device-button-locate="::model" unifi-device-button-locate-is-labeled="true" unifi-device-button-locate-with-site="deviceSelectListCtrl.model.get(\'name\')"></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-device-button-restart="::model" unifi-device-button-restart-is-labeled="true" unifi-device-button-restart-with-hard-reboot="::model.isSwitch() &amp;&amp; deviceSelectListCtrl.getModelFeature(model, \'poe\') === true" unifi-device-button-restart-with-site="deviceSelectListCtrl.model.get(\'name\')" unifi-device-button-restart-on-success="deviceSelectListCtrl.refreshSitesOverview()"></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-device-button-adopt="::model" unifi-device-button-adopt-collection="::deviceSelectListCtrl.getCollection()" unifi-device-button-adopt-is-labeled="true" unifi-device-button-adopt-with-site="deviceSelectListCtrl.model.get(\'name\')" unifi-device-button-adopt-on-success="deviceSelectListCtrl.refreshSitesOverview()"></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-device-button-upgrade="::model" unifi-device-button-upgrade-is-labeled="true" unifi-device-button-upgrade-with-site="deviceSelectListCtrl.model.get(\'name\')" unifi-device-button-upgrade-on-success="deviceSelectListCtrl.refreshSitesOverview()"></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-class="{      \'appInfoBox--dark\': deviceSelectListCtrl.isDark    }" ng-if="!deviceSelectListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_OVERVIEW_TABLE_EMPTY_NO_DATA"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],256:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};var r=lazyRequire.get("BaseModelController");angular.module("app-unifi-manage").controller("DeviceUplinkController",["deviceUplinkUtils",function(t){return new(function(e){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r),n(i,[{key:"onModelChange",value:function(){this.uplinkPanelStates=[],this.model&&(this.uplinkAttrs=t.getUplinkAttrs(this.model))?(this.updateUplink(),this.uplinkAttrs.uplink_remote_port&&this.uplinkPanelStates.push({state:"port",value:this.uplinkAttrs.uplink_remote_port,overwrite:!0})):this.uplinkAttrs=void 0}},{key:"updateName",value:function(){this.uplinkName=t.getUplinkDisplayName(this.model)}},{key:"updateUplink",value:function(){this.uplink=t.getUplink(this.model),this.uplink&&this.uplink.on("change:name change:mac",this.updateName,this),this.updateName()}},{key:"addEventHandlers",value:function(){this.model&&this.model.on("change:uplink",this.updateUplink,this),o(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"addEventHandlers",this).call(this)}},{key:"removeEventHandlers",value:function(){o(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"removeEventHandlers",this).call(this),this.model&&this.model.off("change:uplink",this.updateUplink,this),this.uplink&&this.uplink.off("change:name change:mac",this.updateName,this)}}]),i}())}])},{}],257:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDeviceUplink",["updateModelDirectiveMixin",function(e){return{scope:{model:"<unifiDeviceUplink"},bindToController:{allowEmpty:"<?unifiDeviceUplinkAllowEmpty"},controller:"DeviceUplinkController",controllerAs:"deviceUplinkCtrl",template:t("./deviceUplink.pug")(),link:function(t,i,n,o){t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./deviceUplink.pug":258}],258:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<a ng-if="deviceUplinkCtrl.uplink" unifi-open-panel="deviceUplinkCtrl.uplink" unifi-open-panel-active-tab="deviceUplinkCtrl.uplinkAttrs.uplink_remote_port ? \'ports\' : \'details\'" unifi-open-panel-change-tab="true" unifi-open-panel-states="deviceUplinkCtrl.uplinkPanelStates">{{deviceUplinkCtrl.uplinkName}}</a><span ng-if="!deviceUplinkCtrl.uplink &amp;&amp; !deviceUplinkCtrl.allowEmpty" translate="COMMON_NOT_AVAILABLE"></span>'}},{"pug-runtime":23}],259:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(t,e,i,o,r,a,s,l,c,u){this.changeCode=this.changeCode.bind(this),this.$translate=t,this.heyToasts=o,this.apiResults=e,this.dhcpOptions=i,this.preferences=s,this.networks=a,this._=l,this.DHCP_USER_OPTION=c,this.patterns={dhcpName:u.DHCP_OPTION_NAME},this.dhcpOptionTypes=[{id:"boolean",translationKey:"SETTINGS_DHCP_OPTION_TYPE_BOOLEAN"},{id:"hexarray",translationKey:"SETTINGS_DHCP_OPTION_TYPE_HEX_ARRAY"},{id:"integer",translationKey:"SETTINGS_DHCP_OPTION_TYPE_INTEGER"},{id:"ipaddress",translationKey:"SETTINGS_DHCP_OPTION_TYPE_IPADDRESS"},{id:"macaddress",translationKey:"SETTINGS_DHCP_OPTION_TYPE_MAC_ADDRESS"},{id:"text",translationKey:"SETTINGS_DHCP_OPTION_TYPE_TEXT"}],this.dhcpOptionIntegerWidths=[8,16,32],n.call(this,r)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.addEventHandlers=function(){n.prototype.addEventHandlers.call(this),this.networksListener=this.networks.repository.collection.onEvent("update",this.onNetworksUpdate.bind(this)),this.dhcpOptionsListener=this.dhcpOptions.repository.collection.onEvent("update",this.onDhcpOptionsUpdate.bind(this))},o.prototype.removeEventHandlers=function(){n.prototype.removeEventHandlers.call(this),this.networksListener&&this.networksListener.stopListening(),this.dhcpOptionsListener&&this.dhcpOptionsListener.stopListening()},o.prototype.onDhcpOptionsUpdate=function(){this.setAvailableCodes()},o.prototype.onNetworksUpdate=function(){this.setCanChangeType()},o.prototype.getBestAvailableCode=function(){return this.availableCodes.find(function(t){return this.DHCP_USER_OPTION.MIN_USER_CODE<=t&&t<=this.DHCP_USER_OPTION.MAX_USER_CODE}.bind(this))||this.availableCodes[0]},o.prototype.setAvailableCodes=function(t){var e=t?t.get("code"):void 0,i=this.dhcpOptions.repository.collection,n=[];this._.range(this.DHCP_USER_OPTION.MIN_CODE,this.DHCP_USER_OPTION.MAX_CODE+1).forEach(function(t){-1===this.DHCP_USER_OPTION.DISALLOWED_CODES.indexOf(t)&&(e&&e===t||!function(t){return i.some(function(e){return e.get("code")===t})}(t))&&n.push(t)}.bind(this)),this.availableCodes=n},o.prototype.save=function(){this.isSubmitting=!0;var t=angular.extend({},this.modelCopy.attributes);return this.model.save(t,{wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("SETTINGS_SERVICES_TAB_DHCP")})),this.dhcpOptions.repository.collection.add(this.model,{merge:!0}),this.reset(),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("SETTINGS_SERVICES_TAB_DHCP")}),t)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.setDefaultAttrs=function(t){var e=t?"":"Copy";if(this["model"+e]){var i=this.getBestAvailableCode();this["model"+e].attributes.name=(this.model?this.model.get("name"):void 0)||"code_"+i,this["model"+e].attributes.code=(this.model?this.model.get("code"):void 0)||i,this["model"+e].attributes.type=(this.model?this.model.get("type"):void 0)||"text",this["model"+e].attributes.width=(this.model?this.model.get("width"):void 0)||8,this["model"+e].attributes.signed=(this.model?this.model.get("signed"):void 0)||!1}},o.prototype.changeCode=function(){var t=this.form.dhcpSettingsOptionCode.$viewValue;this.modelCopy.get("name")==="code_"+this.currentCode&&this.modelCopy.set("name","code_"+t),this.currentCode=t},o.prototype.setCanChangeType=function(){if(this.model){var t=this.DHCP_USER_OPTION.DHCP_USER_OPTION_PREFIX+this.model.id;this.canChangeType=this.networks.repository.collection.every(function(e){return void 0===e.get(t)})}else this.canChangeType=!0},o.prototype.onModelChange=function(){this.setAvailableCodes(this.model),this.setDefaultAttrs(!0),this.setCanChangeType()},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1),this.modelCopy&&(this.currentCode=this.modelCopy.get("code"))},o.$inject=["$translate","apiResults","dhcpOptions","heyToasts","modelDivergence","networks","preferences","_","DHCP_USER_OPTION","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("DhcpOptionFormController",o)},{}],260:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDhcpOptionForm",["SimpleFormDirective",function(e){return new e("dhcpOption",t("./dhcpOptionForm.pug")())}])},{"./dhcpOptionForm.pug":261}],261:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="dhcpOptionFormCtrl.form" ng-class="{    \'appForm--dark\': dhcpOptionFormCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': dhcpOptionFormCtrl.showValidation,    \'is-validation-hidden\': !dhcpOptionFormCtrl.showValidation  }" ng-submit="dhcpOptionFormCtrl.form.$valid &amp;&amp; dhcpOptionFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="dhcpOptionFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="dhcpOptionFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="dhcpOptionFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="dhcpOptionFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{dhcpOptionName: dhcpOptionFormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_DHCP_OPTION_SECTION_VIEW\' : (dhcpOptionFormCtrl.model.id ? \'SETTINGS_DHCP_OPTION_SECTION_EDIT\' : \'SETTINGS_DHCP_OPTION_SECTION_CREATE\')}}</div><div class="appRow verticalRhythmTop--cozy"><div class="col--sm3"><label class="appLabel--primary" for="dhcpSettingsOptionName" translate="SETTINGS_DHCP_LABEL_NAME"></label></div><div class="col--sm5"><div class="appInputGroup appInputGroup--comfy horizontalRhythm--comfy inlineBlock"><input type="text" ng-model="dhcpOptionFormCtrl.modelCopy.attributes.name" name="dhcpSettingsOptionName" id="dhcpSettingsOptionName" ng-pattern="dhcpOptionFormCtrl.patterns.dhcpName" required="true" unifi-validate-duplicate-in-collection="dhcpOptionFormCtrl.dhcpOptions.repository.collection" unifi-validate-duplicate-in-collection-param="\'name\'" unifi-validate-duplicate-in-collection-lower-case="true" unifi-validate-duplicate-in-collection-ignore-current-model="true"><div class="appInputFeedback appInputFeedback--danger" ng-if="dhcpOptionFormCtrl.form.dhcpSettingsOptionName.$invalid" translate="SETTINGS_DHCP_VALIDATION_HINT_UNIQUE"></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" for="dhcpSettingsOptionCode" translate="SETTINGS_DHCP_LABEL_CODE"></label></div><div class="col--sm5"><div class="appInputGroup appInputGroup--comfy horizontalRhythm--comfy inlineBlock">           <select ng-model="dhcpOptionFormCtrl.modelCopy.attributes.code" ng-options="code for code in dhcpOptionFormCtrl.availableCodes" ng-change="dhcpOptionFormCtrl.changeCode()" name="dhcpSettingsOptionCode" id="dhcpSettingsOptionCode"></select></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" for="dhcpSettingsOptionType" translate="SETTINGS_DHCP_LABEL_TYPE"></label></div><div class="col--sm5"><div class="appInputGroup appInputGroup--comfy horizontalRhythm--comfy inlineBlock"><select ng-model="dhcpOptionFormCtrl.modelCopy.attributes.type" ng-options="type.id as type.translationKey | translate for type in dhcpOptionFormCtrl.dhcpOptionTypes" ng-disabled="!dhcpOptionFormCtrl.canChangeType" name="dhcpSettingsOptionType" id="dhcpSettingsOptionType"></select><div class="appTooltipContainer appTooltipContainer--hoverable appTooltip--boxAlign" ng-if="!dhcpOptionFormCtrl.canChangeType"><div class="appAlertIcon appAlertIcon--warning appAlertIcon--scaled appAlertIcon--baseline"><div class="icon ubnt-icon--alert"></div><div class="appTooltip" ng-class="{\'appTooltip--dark\': dhcpOptionFormCtrl.preferences.model.get(\'isSettingsDark\')}"><span translate="SETTINGS_DHCP_OPTION_TOOLTIP_TYPE_CANNOT_BE_CHANGED"></span></div></div></div></div></div></div><div class="appRow" ng-if="dhcpOptionFormCtrl.modelCopy.attributes.type === \'integer\'"><div class="col--sm3"><label class="appLabel--primary" for="dhcpSettingsOptionWidth" translate="SETTINGS_DHCP_LABEL_TYPE"></label></div><div class="col--sm5"><div class="appInputGroup appInputGroup--comfy horizontalRhythm--comfy inlineBlock"><select ng-model="dhcpOptionFormCtrl.modelCopy.attributes.width" ng-options="width for width in dhcpOptionFormCtrl.dhcpOptionIntegerWidths" ng-disabled="!dhcpOptionFormCtrl.canChangeType" name="dhcpSettingsOptionWidth" id="dhcpSettingsOptionWidth"></select></div></div></div><div class="appRow" ng-if="dhcpOptionFormCtrl.modelCopy.attributes.type === \'integer\'"><div class="col--sm3"><label class="appLabel--primary" for="dhcpSettingsOptionSigned" translate="SETTINGS_DHCP_LABEL_SIGNED"></label></div><div class="col--sm5"><div class="appInputGroup appInputGroup--comfy horizontalRhythm--comfy inlineBlock"><input type="checkbox" ng-model="dhcpOptionFormCtrl.modelCopy.attributes.signed" ng-disabled="!dhcpOptionFormCtrl.canChangeType" name="dhcpSettingsOptionSigned" id="dhcpSettingsOptionSigned"></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy" ng-class="{      \'appFormFooter--dark\': dhcpOptionFormCtrl.preferences.model.get(\'isSettingsDark\')    }"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveDhcpOption" ng-if="!isReadOnly" ng-click="dhcpOptionFormCtrl.showValidation = true" busy-toggle="dhcpOptionFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="dhcpOptionFormCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],262:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DhcpOptionListController",["$q","$translate","BaseListController","dhcpOptions","frame","heyToasts","networks","preferences","DHCP_USER_OPTION",function(t,e,i,o,r,a,s,l,c){var u={boolean:"SETTINGS_DHCP_OPTION_TYPE_BOOLEAN",hexarray:"SETTINGS_DHCP_OPTION_TYPE_HEX_ARRAY",integer:"SETTINGS_DHCP_OPTION_TYPE_INTEGER",ipaddress:"SETTINGS_DHCP_OPTION_TYPE_IPADDRESS",macaddress:"SETTINGS_DHCP_OPTION_TYPE_MAC_ADDRESS",text:"SETTINGS_DHCP_OPTION_TYPE_TEXT"};return new(function(t){function d(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return t.preferences=l,t.defaultSortBy="name",t.isRemoving={},t.optionPrefix=c.DHCP_USER_OPTION_PREFIX,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(d,i),n(d,[{key:"getCollection",value:function(){return o.repository.collection}},{key:"getTypeString",value:function(t){var i=t.get("type"),n=e.instant(u[i]);if("integer"===i){var o=t.get("width",8),r=t.get("signed",!1)?"SETTINGS_DHCP_LABEL_SIGNED":"SETTINGS_DHCP_LABEL_UNSIGNED";n=e.instant(r)+" "+n+" "+o}return n}},{key:"remove",value:function(t){var i=this,n=this.optionPrefix+t.id,o=s.repository.collection.filter(function(t){return void 0!==t.get(n)});return r.show("confirm",{title:function(){return e.instant("SETTINGS_DHCP_OPTION_DELETE_CONFIRM_TITLE",{dhcpOptionName:t.get("name")})},message:function(){var i=o.length?"SETTINGS_DHCP_OPTION_DELETE_CONFIRM_MESSAGE_WITH_WARNING":"SETTINGS_DHCP_OPTION_DELETE_CONFIRM_MESSAGE";return e.instant(i,{dhcpOptionName:t.get("name"),count:o.length},"messageformat")},options:function(){return{warnings:o.map(function(t){return e.instant("SETTINGS_DHCP_OPTION_DELETE_CONFIRM_WARNING",{network:t.get("name")})})}}}).then(function(){return i.isRemoving[t.id]=!0,t.destroy({wait:!0}).then(function(){return a.pushSuccess(e.instant("SETTINGS_DHCP_OPTION_DELETE_SUCCESS",{dhcpOptionName:t.get("name")})),!0}).catch(function(){return a.pushError(e.instant("SETTINGS_DHCP_OPTION_DELETE_ERROR",{dhcpOptionName:t.get("name")})),!1}).finally(function(){i.isRemoving[t.id]=!1})})}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}}]),d}())}])},{}],263:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDhcpOptionList",["ListDirective",function(e){return new e("dhcpOption",t("./dhcpOptionList.pug")(),{onEdit:"&unifiDhcpOptionListOnEdit"})}])},{"./dhcpOptionList.pug":264}],264:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="dhcpOptionTable" collection-view-sort="dhcpOptionListCtrl.view" ng-class="{      \'appTable--dark\': dhcpOptionListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th collection-view-sort-by="name"><span translate="SETTINGS_DHCP_OPTION_TABLE_HEADER_NAME"></span></th><th collection-view-sort-by="code"><span translate="SETTINGS_DHCP_OPTION_TABLE_HEADER_CODE"></span></th><th collection-view-sort-by="type"><span translate="SETTINGS_DHCP_OPTION_TABLE_HEADER_TYPE"></span></th><th><span translate="SETTINGS_DHCP_OPTION_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in dhcpOptionListCtrl.view.getModels()" data-id="{{::model.id}}"><td>{{::model.get(\'name\')}}</td><td>{{::model.get(\'code\')}}</td><td>{{dhcpOptionListCtrl.getTypeString(model)}}</td><td class="appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="dhcpOptionListCtrl.edit(model)" ng-disabled="dhcpOptionListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="dhcpOptionListCtrl.edit(model)" ng-disabled="dhcpOptionListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="dhcpOptionListCtrl.remove(model)" ng-disabled="dhcpOptionListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!dhcpOptionListCtrl.view.getModels().length" ng-class="{      \'appInfoBox--dark\': dhcpOptionListCtrl.preferences.model.get(\'isSettingsDark\')    }"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_DHCP_OPTION_TABLE_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],265:[function(t,e,i){"use strict";function n(){}n.$inject=[],angular.module("app-unifi-manage").controller("DistributionLoadingModuleController",n)},{}],266:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDistributionLoadingModule",[function(){return{bindToController:{failedToLoad:"=unifiDistributionLoadingModuleFailed",isLoading:"=unifiDistributionLoadingModuleIsLoading"},controller:"DistributionLoadingModuleController",controllerAs:"distributionLoadingModuleCtrl",template:t("./distributionLoadingModule.pug")(),replace:!0}}])},{"./distributionLoadingModule.pug":267}],267:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiLoading" ng-class="{\'unifiLoading--hidden\': !(distributionLoadingModuleCtrl.isLoading &amp;&amp; !distributionLoadingModuleCtrl.failedToLoad)}"><div class="unifiLoadingGradient"><div class="moduleDonutChart"><unifi-donut-chart-placeholder></unifi-donut-chart-placeholder></div></div></div>'}},{"pug-runtime":23}],268:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiApplicationStatisticsController",["dpi","dpiUtils","BaseDpiUsersController","objectUtils","selectedDpiApplications","userDpi","$scope","$stateParams","DPI_EVENTS",function(t,e,i,o,r,a,s,l,c){return new(function(a){function u(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return t.dpiEnabled=e.isDpiEnabled(),t.barChartConfig={valueProperty:"totalBytes",range:0,entryCss:function(t){return"unifiBarChartSegment"+e.getCssIndexForCategoryName(t.name)}},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,i),n(u,[{key:"$onInit",value:function(){var e=this;(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"$onInit",this).call(this),void 0!==l.categoryId&&(this.categoryId=parseInt(l.categoryId),this.categoryName=t.getCategoryName(this.categoryId),r.setCategory(this.categoryName)),isNaN(parseInt(l.applicationId))||(this.applicationName=t.getAppName(t.getCompoundId(l.categoryId,l.applicationId)),r.clear(),r.addApplication(this.applicationName)),this.addEventHandlers(),this.onSelectedApplicationsChange(),s.$on(c.APPLICATIONS_CHANGED,function(){e.onSelectedApplicationsChange()})}},{key:"$onDestroy",value:function(){this.removeEventHandlers()}},{key:"onSelectedApplicationsChange",value:function(){var t=r.get().reduce(function(t,e){return t[e.catId]||(t[e.catId]=[]),t[e.catId].push(e.appId),t},{}),e=Object.keys(t).map(function(e){return{cats:[parseInt(e)],apps:t[e]}});this.repository.collection.setPayloadAttrs({queries:e}),e.length?this.repository.refresh():this.getCollection().reset([])}},{key:"collectData",value:function(){var t=this,e=r.get().map(function(t){return{name:t.name}}),i=this.repository.collection.map(function(i){var n=i.get("by_app").map(function(t){return angular.extend(t.toJSON(),{name:t.getApplicationName(),totalBytes:t.getTotalBytes()})});if(0!==n.length){var r=t.getModel(i.get("mac"));r||t.fetchKnownClient(i.get("mac"));var a=o.appendAll(n,["app","cat"]);return angular.extend(a,{mac:i.get("mac"),name:r?r.getDisplayName():i.get("mac"),applicationStats:e.concat(n),totalBytes:a.rx_bytes+a.tx_bytes})}}).filter(function(t){return void 0!==t});i.forEach(function(t){t.applicationStats=o.reduceDuplicates(t.applicationStats,"name",["name"]),t.applicationStats.sort(function(t,e){return r.indexOf(t.name)-r.indexOf(e.name)}),delete t.app,delete t.cat}),this.getCollection().reset(i),this.barChartConfig.range=Math.max.apply(Math,i.map(function(t){return t.totalBytes}))}},{key:"knownClientFetched",value:function(t){this.getCollection().find(function(e){return e.get("mac")===t.get("mac")}).set({name:t.getDisplayName()})}}]),u}())}])},{}],269:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiDpiApplicationStatistics",{template:t("./dpiApplicationStatistics.pug")(),controller:"DpiApplicationStatisticsController",controllerAs:"dpiApplicationStatisticsCtrl"})},{"./dpiApplicationStatistics.pug":270}],270:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appContainer"><div class="appRow appRow--comfy noMarginBottom"><div class="col--xs12"><div class="appSubHeading appSubHeading--comfy type--small noMarginBottom"><a ui-sref="manage.site.statistics.dpi({view: \'overview\', categoryId: null, applicationId: null})"><div class="button appMainButton appMainButton--large appMainButton--transparent appMainButton--iconOnly"><span class="icon ubnt-icon--arrow-left-4"></span></div></a><span>{{dpiApplicationStatisticsCtrl.categoryName | translateDpiCategory}}</span></div></div></div><div class="appRow appRow--comfy"><unifi-dpi-selector class="col-12" ng-if="dpiApplicationStatisticsCtrl.categoryName" unifi-dpi-selector-apps-from-category="dpiApplicationStatisticsCtrl.categoryName"></unifi-dpi-selector></div><div class="appRow appRow--comfy"><div class="unifiDpiUsers col-12"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="dpiUsersTable" collection-view-sort="dpiApplicationStatisticsCtrl.view" ng-class="{          \'is-not-responsive\': !dpiApplicationStatisticsCtrl.isResponsive()        }" unifi-condensed="appTable--condensed"><thead><tr><th class="alignCenter dpiUserStateIcon visible--smUp"></th><th class="dpiUserName" collection-view-sort-by="mac"><span translate="DPI_APPLICATION_STATISTICS_TABLE_HEADER_NAME"></span></th><th class="dpiUserCategories" collection-view-sort-by="totalBytes"><span translate="DPI_APPLICATION_STATISTICS_TABLE_HEADER_APPLICATIONS"></span></th><th class="dpiUserUp" collection-view-sort-by="tx_bytes"><span translate="DPI_APPLICATION_STATISTICS_TABLE_HEADER_UP"></span></th><th class="dpiUserDown" collection-view-sort-by="rx_bytes"><span translate="DPI_APPLICATION_STATISTICS_TABLE_HEADER_DOWN"></span></th></tr></thead><tfoot ng-if="dpiApplicationStatisticsCtrl.view.getModels().length"><tr><td colspan="5"><unifi-list-pagination unifi-list-pagination-current-page="dpiApplicationStatisticsCtrl.currentPage" unifi-list-pagination-rows-per-page="dpiApplicationStatisticsCtrl.rowsPerPage" unifi-list-pagination-total-rows="dpiApplicationStatisticsCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="dpiModel in dpiApplicationStatisticsCtrl.view.getModels(),              startFrom (dpiApplicationStatisticsCtrl.currentPage - 1) * dpiApplicationStatisticsCtrl.rowsPerPage,              limitTo dpiApplicationStatisticsCtrl.rowsPerPage" data-id="{{::dpiApplicationStatisticsCtrl.getModel(dpiModel.get(\'mac\')).id}}" ng-init="model = dpiApplicationStatisticsCtrl.getModel(dpiModel.get(\'mac\'))"><td class="dpiUserStateIcon appTableCell--smash visible--smUp alignCenter"><span ng-if="model.modelType === \'device\'" unifi-device-icon="::model"></span><span ng-if="model.modelType !== \'device\'" unifi-client-icon="::model"></span></td><td class="dpiUserName appTableCell--smash clickable" unifi-open-panel="model" unifi-open-panel-active-tab="\'details\'" unifi-open-panel-active-accordion-group="\'dpi\'">{{::model.getDisplayName() || dpiModel.get(\'mac\')}}</td><td class="dpiUserCategories"><unifi-bar-chart unifi-bar-chart-config="dpiApplicationStatisticsCtrl.barChartConfig" unifi-bar-chart-data="dpiModel.get(\'applicationStats\')"><div class="appTooltip appTooltip--cozy unifiBarSegmentTooltip"><div class="unifiChartTooltipHeader verticalRhythmQuarter">{{entry.name}}</div><div class="unifiChartTooltipBody"><div class="verticalRhythmQuarter"><div class="appDescriptionList appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow downPktsBytes"><dt>{{\'CLIENT_PROPERTIES_LABEL_UP_PKTS_BYTES\' | translate}}</dt><dd>{{entry.tx_packets | numberToString}} / {{entry.tx_bytes | bytes}}</dd></div><div class="appDescriptionListRow upPktsBytes"><dt>{{\'CLIENT_PROPERTIES_LABEL_DOWN_PKTS_BYTES\' | translate}}</dt><dd>{{entry.rx_packets | numberToString}} / {{entry.rx_bytes | bytes}}</dd></div></div></div></div></div></unifi-bar-chart></td><td class="dpiUserUp appTableCell--smash">{{::dpiModel.get(\'tx_bytes\') | bytes}}</td><td class="dpiUserDown appTableCell--smash">{{::dpiModel.get(\'rx_bytes\') | bytes}}</td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!dpiApplicationStatisticsCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="DPI_APPLICATION_STATISTICS_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="DPI_APPLICATION_STATISTICS_TABLE_EMPTY_NO_DATA"></p></div></div></div></div></div></div></div></div></div>'}},{"pug-runtime":23}],271:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiApplicationUsageGraphController",["$filter","$state","$translate","clients","DataConverter","devices","dpi","knownClientsCache","propertyPanel","userDpi","STATS_DEFAULTS",function(t,e,i,o,r,a,s,l,c,u,d){return new(function(){function p(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),this.chartConfig={dataProperty:"bytes",type:"solid",label:{main:"0",secondary:t("uppercase")(i.instant("STATISTICS_DPI_TRAFFIC"))},pieCss:function(t,i){return i<d.DPI.APPLICATION_GRAPH_MAX_ITEMS||i===d.DPI.APPLICATION_GRAPH_MAX_ITEMS&&!e.data[i].generated?"unifiDonutChartPie"+i:""}},this.legendConfig={labelProperty:"name",valueProperty:"bytes",entryCssIndex:function(t,i){return i<d.DPI.APPLICATION_GRAPH_MAX_ITEMS||i===d.DPI.APPLICATION_GRAPH_MAX_ITEMS&&!e.data[i].generated?i:-1},valueFormat:function(e){return t("bytes")(e)}},this.dataConverter=(new r).deduplicatedBy("mac").sortedBy("bytes",!0).withLimit(d.DPI.APPLICATION_GRAPH_MAX_ITEMS).countTotal().compactUnknown(function(t){return!t.name||"unknown"===t.name.toLowerCase()}).withUnknownDefaults({name:i.instant("STATISTICS_DPI_UNKNOWN")}),this.cachedKnownClientIds=[]}return n(p,[{key:"$onInit",value:function(){this.applicationName=s.getAppName(s.getCompoundId(this.categoryId,this.applicationId))||i.instant("STATISTICS_DPI_UNKNOWN_OTHER"),this.repository=u.buildRepository("by_app"),this.repository.collection.setPayloadAttrs({queries:[{apps:[this.applicationId],cats:[this.categoryId],limit:d.DPI.APPLICATION_GRAPH_MAX_ITEMS+1}]}),this.repository.collection.on("sync",this.collectData,this),this.repository.register(),this.repository.fetch()}},{key:"$onDestroy",value:function(){this.cachedKnownClientIds.forEach(function(t){l.repository.unregisterItem(t)}),this.repository.collection.off("sync",this.collectData,this),this.repository.unregister()}},{key:"back",value:function(){this.onBackCallback()}},{key:"close",value:function(){this.onCloseCallback()}},{key:"getModel",value:function(t){var e=a.repository.collection.get(t)||o.repository.collection.get(t);return e||(e=l.repository.collection.get(t))&&l.repository.registerItem(t),e}},{key:"itemClicked",value:function(t){if(t){var i=this.getModel(t);i&&c.addItem(i,[{state:"activeTab",value:"details"},{state:"collapsed",value:!1,overwrite:!0},{state:"activeAccordionGroup",value:"dpi",overwrite:!0}])}else e.go("manage.site.statistics.dpi",{view:"category",categoryId:this.categoryId,applicationId:this.applicationId})}},{key:"collectData",value:function(){var e=this.repository.collection.map(function(t){var e=t.get("mac"),i=this.getModel(e);i||this.fetchKnownClient(e);var n=t.get("by_app").at(0);return{mac:e,name:i?i.getDisplayName():e,packets:n.getTotalPackets(),bytes:n.getTotalBytes()}},this);if(this.data=[],this.chartConfig.label.main="?",e.length){var i=this.dataConverter.apply(e.splice(0,d.DPI.APPLICATION_GRAPH_MAX_ITEMS));this.data=i.data,this.data.length&&(this.chartConfig.label.main=t("bytes")(i.total.bytes))}}},{key:"fetchKnownClient",value:function(t){var e=this;-1===this.cachedKnownClientIds.indexOf(t)&&(this.cachedKnownClientIds.push(t),l.repository.registerItem(t).fetchItem(t).finally(function(){e.data.find(function(e){return e.mac===t}).name=e.getModel(t).getDisplayName()}))}}]),p}())}])},{}],272:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiDpiApplicationUsageGraph",{template:t("./dpiApplicationUsageGraph.pug")(),bindings:{applicationId:"<?unifiDpiApplicationUsageGraphApplicationId",categoryId:"<?unifiDpiApplicationUsageGraphCategoryId",onBackCallback:"<unifiDpiApplicationUsageGraphOnBack",onCloseCallback:"<unifiDpiApplicationUsageGraphOnClose"},controller:"DpiApplicationUsageGraphController",controllerAs:"dpiApplicationUsageGraphCtrl"})},{"./dpiApplicationUsageGraph.pug":273}],273:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiDpiApplicationUsageGraph"><unifi-donut-chart-with-tooltip class="unifiDpiApplicationUsageGraph__chart" unifi-donut-chart-with-tooltip-config="dpiApplicationUsageGraphCtrl.chartConfig" unifi-donut-chart-with-tooltip-data="dpiApplicationUsageGraphCtrl.data"><div class="ubntTooltip noWrap noPointerEvents"'+(i="unifi-position-absolutely",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' ng-if="tooltipVisible" ng-class="cssTooltipPosition"><div class="type-ubnt-title mb-1">{{::focusedData.name}}</div><span>{{::focusedData.bytes | bytes}}</span></div></unifi-donut-chart-with-tooltip><div class="unifiDpiApplicationUsageGraph__header"><div class="appSubHeading appSubHeading--standalone verticalRhythmQuarter">{{::dpiApplicationUsageGraphCtrl.applicationName}}</div><div class="appActionIconGroup unifiDpiApplicationUsageGraph__actionIcons"><div class="appActionIcon" ng-click="dpiApplicationUsageGraphCtrl.back()"><span class="icon ubnt-icon--pointer-left"></span></div><div class="appActionIcon" ng-click="dpiApplicationUsageGraphCtrl.close()"><span class="icon ubnt-icon--x"></span></div></div></div><unifi-chart-legend class="unifiChartLegend--noWrap" unifi-chart-legend-config="dpiApplicationUsageGraphCtrl.legendConfig" unifi-chart-legend-data="dpiApplicationUsageGraphCtrl.data" unifi-chart-legend-on-click="dpiApplicationUsageGraphCtrl.itemClicked(entry.mac);"></unifi-chart-legend><div class="alignRight" ng-if="dpiApplicationUsageGraphCtrl.data.length"><button class="appMainButton appMainButton--transparent appMainButton--cozy" ng-click="dpiApplicationUsageGraphCtrl.itemClicked()"><span translate="DPI_OVERVIEW_MORE"></span><span class="button__icon button__icon--right icon ubnt-icon--pointer-right"></span></button></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy col--xs12 col--sm7" ng-if="!dpiApplicationUsageGraphCtrl.data.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="STATISTICS_DPI_APPLICATION_NO_DATA"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="STATISTICS_DPI_APPLICATION_NO_DATA_DETAILS"></p></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],274:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiAppsController",["BasePaginatedListController","dpiIcons","siteDpi","$injector","$state","$translate","BaseCollection",function(t,e,i,o,r,a,s){var l=new s;return new(function(o){function s(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return t.defaultSortBy="totalBytes",t.defaultSortDesc=!0,t.initView(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,t),n(s,[{key:"$onInit",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"$onInit",this).call(this),i.repositories.byApp.model.on("sync change",this.collectData,this),this.collectData()}},{key:"$onDestroy",value:function(){i.repositories.byApp.model.off("sync change",this.collectData,this)}},{key:"getCollection",value:function(){return l}},{key:"showApplicationUsage",value:function(t,e){r.go("manage.site.statistics.dpi",{view:"category",categoryId:t,applicationId:e})}},{key:"collectData",value:function(){var t=(i.getDpiByApp()||[]).map(function(t){return{categoryId:t.get("cat"),applicationId:t.get("app"),name:t.getApplicationName()||a.instant("DPI_APPS_TABLE_UNKNOWN_APP")+" ("+t.getCategoryName()+")",rx_bytes:t.get("rx_bytes"),tx_bytes:t.get("tx_bytes"),rx_packets:t.get("rx_packets"),tx_packets:t.get("tx_packets"),totalBytes:t.getTotalBytes(),known_clients:t.get("known_clients"),icon:e.getIconForApplication(t.getCompoundId())}});l.reset(t)}}]),s}())}])},{}],275:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiDpiApps",{template:t("./dpiApps.pug")(),controller:"DpiAppsController",controllerAs:"dpiAppsCtrl"})},{"./dpiApps.pug":276}],276:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiDpiApps"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="dpiAppsTable" collection-view-sort="dpiAppsCtrl.view" ng-class="{      \'is-not-responsive\': !dpiAppsCtrl.isResponsive()    }" unifi-condensed="appTable--condensed"><thead><tr><th class="alignCenter dpiAppIcon appTableCell--smash visible--smUp"></th><th class="dpiAppName" collection-view-sort-by="name"><span translate="DPI_APPS_TABLE_HEADER_NAME"></span></th><th class="dpiAppUp" collection-view-sort-by="tx_bytes"><span translate="DPI_APPS_TABLE_HEADER_UP"></span></th><th class="dpiAppDown" collection-view-sort-by="rx_bytes"><span translate="DPI_APPS_TABLE_HEADER_DOWN"></span></th><th class="dpiAppUserCount" collection-view-sort-by="known_clients"><span translate="DPI_APPS_TABLE_HEADER_USER_COUNT"></span></th></tr></thead><tfoot ng-if="dpiAppsCtrl.view.getModels().length"><tr><td colspan="5"><unifi-list-pagination unifi-list-pagination-current-page="dpiAppsCtrl.currentPage" unifi-list-pagination-rows-per-page="dpiAppsCtrl.rowsPerPage" unifi-list-pagination-total-rows="dpiAppsCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr class="clickable" ng-click="dpiAppsCtrl.showApplicationUsage(model.get(\'categoryId\'), model.get(\'applicationId\'))" collection-view-repeat="model in dpiAppsCtrl.view.getModels(),          startFrom (dpiAppsCtrl.currentPage - 1) * dpiAppsCtrl.rowsPerPage,          limitTo dpiAppsCtrl.rowsPerPage"><td class="dpiAppStateIcon visible--smUp iconText__icon alignCenter"><span ng-class="model.get(\'icon\')"></span></td><td class="dpiAppName">{{::model.get(\'name\')}}</td><td class="dpiAppUp unifiUpload appTableCell--smash alignRight">{{::model.get(\'tx_bytes\') | bytes}}</td><td class="dpiAppDown unifiDownload appTableCell--smash alignRight">{{::model.get(\'rx_bytes\') | bytes}}</td><td class="dpiAppUserCount appTableCell--smash alignRight">{{::model.get(\'known_clients\') || 0}}</td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!dpiAppsCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="DPI_APPS_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="DPI_APPS_TABLE_EMPTY_NO_DATA"></p></div></div></div></div></div></div></div>'}},{"pug-runtime":23}],277:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiCategoryStatisticsController",["dpi","dpiUtils","selectedDpiCategories","$state","$stateParams",function(t,e,i,o,r){return new(function(){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.dpiEnabled=e.isDpiEnabled(),this.usgFirmwareCompliant=e.isUSGFirmwareCompliant(),this.activeTab=r.view}return n(a,[{key:"$onInit",value:function(){this.dpiEnabled&&(r.categoryId?(i.setTemporary(!0),i.clear(),i.addCategory(t.getCategoryName(r.categoryId))):i.setTemporary(!1))}},{key:"setActiveTab",value:function(t){this.activeTab=t,i.setTemporary(!1),o.go("manage.site.statistics.dpi",{view:t,categoryId:null,applicationId:null},{notify:!1})}}]),a}())}])},{}],278:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiDpiCategoryStatistics",{template:t("./dpiCategoryStatistics.pug")(),controller:"DpiCategoryStatisticsController",controllerAs:"dpiCategoryStatisticsCtrl"})},{"./dpiCategoryStatistics.pug":279}],279:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div><div class="appRow appRow--comfy"><unifi-dpi-selector class="col-12"></unifi-dpi-selector></div><ul class="appTabs appTabs--cozy verticalRhythm" ng-if="dpiCategoryStatisticsCtrl.dpiEnabled &amp;&amp; dpiCategoryStatisticsCtrl.usgFirmwareCompliant"><li class="tabs__item" ng-click="dpiCategoryStatisticsCtrl.setActiveTab(\'overview\')" ng-class="{\'is-tab-selected\': dpiCategoryStatisticsCtrl.activeTab === \'overview\'}" translate="STATISTICS_DPI_OVERVIEW"></li><li class="tabs__item" ng-click="dpiCategoryStatisticsCtrl.setActiveTab(\'apps\')" ng-class="{\'is-tab-selected\': dpiCategoryStatisticsCtrl.activeTab === \'apps\'}" translate="STATISTICS_DPI_APPS"></li><li class="tabs__item" ng-click="dpiCategoryStatisticsCtrl.setActiveTab(\'users\')" ng-class="{\'is-tab-selected\': dpiCategoryStatisticsCtrl.activeTab === \'users\'}" translate="STATISTICS_DPI_USERS"></li></ul><unifi-dpi-overview ng-if="dpiCategoryStatisticsCtrl.dpiEnabled &amp;&amp; dpiCategoryStatisticsCtrl.usgFirmwareCompliant &amp;&amp; dpiCategoryStatisticsCtrl.activeTab === \'overview\'"></unifi-dpi-overview><unifi-dpi-apps ng-if="dpiCategoryStatisticsCtrl.dpiEnabled &amp;&amp; dpiCategoryStatisticsCtrl.usgFirmwareCompliant &amp;&amp; dpiCategoryStatisticsCtrl.activeTab === \'apps\'"></unifi-dpi-apps><unifi-dpi-users ng-if="dpiCategoryStatisticsCtrl.dpiEnabled &amp;&amp; dpiCategoryStatisticsCtrl.usgFirmwareCompliant &amp;&amp; dpiCategoryStatisticsCtrl.activeTab === \'users\'"></unifi-dpi-users></div>'}},{"pug-runtime":23}],280:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiCategoryUsageGraphController",["siteDpi","dpiUtils","DataConverter","STATS_DEFAULTS","$filter","$state","$translate",function(t,e,i,o,r,a,s){return new(function(){function l(){var t=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),this.dataConverter=(new i).deduplicatedBy("name").sortedBy("bytes",!0).withLimit(o.DPI.APPLICATION_GRAPH_MAX_ITEMS+1,!0).countTotal().compactUnknown(function(t){return!t.name||"unknown"===t.name.toLowerCase()}).withUnknownDefaults({name:s.instant("STATISTICS_DPI_UNKNOWN_OTHER"),icon:o.UNKNOWN_ICON_CSS}),this.legendConfig={labelProperty:"name",valueProperty:"bytes",iconProperty:"icon",entryCssIndex:function(e,i){return i<o.DPI.CATEGORY_GRAPH_MAX_ITEMS-1||i===o.DPI.CATEGORY_GRAPH_MAX_ITEMS-1&&!t.data[i].generated?i:-1},valueFormat:function(t){return r("bytes")(t)}},this.chartConfig={dataProperty:"bytes",type:"solid",label:{main:"0",secondary:r("uppercase")(s.instant("STATISTICS_DPI_TRAFFIC"))},pieCss:function(e,i){return i<o.DPI.CATEGORY_GRAPH_MAX_ITEMS-1||i===o.DPI.CATEGORY_GRAPH_MAX_ITEMS-1&&!t.data[i].generated?"unifiDonutChartPie"+i:""},onClick:function(){a.go("manage.site.statistics.dpi",{view:"category",categoryId:t.categoryIds[0]})}}}return n(l,[{key:"$onInit",value:function(){t.repositories.byApp.model.on("sync",this.collectData,this),t.repositories.byCat.model.on("sync",this.collectData,this),this.categoryName&&(this.categoryIds=e.getIdsForCategoryName(this.categoryName)),this.collectData()}},{key:"$onDestroy",value:function(){t.repositories.byApp.model.off("sync",this.collectData,this),t.repositories.byCat.model.off("sync",this.collectData,this)}},{key:"close",value:function(){this.onCloseCallback(this.categoryName,this.categoryIds)}},{key:"itemClicked",value:function(t){t.generated&&255!==t.catId||(t&&angular.isNumber(t.catId)&&angular.isNumber(t.appId)?this.onApplicationSelected(t.catId,t.appId):a.go("manage.site.statistics.dpi",{view:"apps",categoryId:this.categoryIds[0]})),t&&angular.isNumber(t.catId)&&angular.isNumber(t.appId)?this.onApplicationSelected(t.catId,t.appId):a.go("manage.site.statistics.dpi",{view:"apps",categoryId:this.categoryIds[0]})}},{key:"collectData",value:function(){var t=e.applicationsSortedByTraffic(this.categoryName,this.dataConverter);this.data=t.data,this.chartConfig.label.main=r("bytes")(t.total.bytes||0)}}]),l}())}])},{}],281:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiDpiCategoryUsageGraph",{template:t("./dpiCategoryUsageGraph.pug")(),bindings:{categoryName:"<?unifiDpiCategoryUsageGraphCategoryName",onCloseCallback:"<unifiDpiCategoryUsageGraphOnClose",onApplicationSelected:"<unifiDpiCategoryUsageGraphOnApplicationSelected"},controller:"DpiCategoryUsageGraphController",controllerAs:"dpiCategoryUsageGraphCtrl"})},{"./dpiCategoryUsageGraph.pug":282}],282:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiDpiCategoryUsageGraph" ng-class="{\'unifiDpiCategoryUsageGraph--disabled\': !dpiCategoryUsageGraphCtrl.data.length}"><unifi-donut-chart-with-tooltip class="unifiDpiCategoryUsageGraph__chart" unifi-donut-chart-with-tooltip-config="dpiCategoryUsageGraphCtrl.chartConfig" unifi-donut-chart-with-tooltip-data="dpiCategoryUsageGraphCtrl.data"><div class="ubntTooltip noWrap noPointerEvents"'+(i="unifi-position-absolutely",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' ng-if="tooltipVisible" ng-class="cssTooltipPosition"><div class="type-ubnt-title mb-1">{{::focusedData.name}}</div><span>{{::focusedData.bytes | bytes}}</span></div></unifi-donut-chart-with-tooltip><div class="unifiDpiCategoryUsageGraph__header"><div class="appSubHeading appSubHeading--standalone verticalRhythmQuarter" translate="{{::dpiCategoryUsageGraphCtrl.categoryName}}"></div><div class="appActionIconGroup unifiDpiCategoryUsageGraph__actionIcons"><div class="appActionIcon" ng-click="dpiCategoryUsageGraphCtrl.close()"><span class="icon ubnt-icon--x"></span></div></div></div><unifi-chart-legend class="unifiChartLegend--invertedIcons unifiChartLegend--noWrap" ng-if="dpiCategoryUsageGraphCtrl.data.length" unifi-chart-legend-config="dpiCategoryUsageGraphCtrl.legendConfig" unifi-chart-legend-data="dpiCategoryUsageGraphCtrl.data" unifi-chart-legend-on-click="dpiCategoryUsageGraphCtrl.itemClicked(entry);"></unifi-chart-legend><div class="appInfoBox appInfoBox--warning appInfoBox--cozy col--xs12 col--sm7" ng-if="!dpiCategoryUsageGraphCtrl.data.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="STATISTICS_DPI_CATEGORY_NO_DATA"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="STATISTICS_DPI_CATEGORY_NO_DATA_DETAILS"></p></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],283:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiDrillDownController",[function(){return new(function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onClose=function(){e.onRemoveCallback(e.categoryName)},this.clearSelection=function(){e.categoryId=void 0,e.applicationId=void 0},this.selectApplication=function(t,i){e.categoryId=t,e.applicationId=i}}return n(t,[{key:"isApplicationSelected",value:function(){return void 0!==this.categoryId&&void 0!==this.applicationId}}]),t}())}])},{}],284:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiDpiDrillDown",{template:t("./dpiDrillDown.pug")(),bindings:{categoryName:"<?unifiDpiDrillDownCategoryName",onRemoveCallback:"<unifiDpiDrillDownOnRemove"},controller:"DpiDrillDownController",controllerAs:"dpiDrillDownCtrl"})},{"./dpiDrillDown.pug":285}],285:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="dpiDrillDown"><unifi-dpi-category-usage-graph ng-if="!dpiDrillDownCtrl.isApplicationSelected()" unifi-dpi-category-usage-graph-category-name="dpiDrillDownCtrl.categoryName" unifi-dpi-category-usage-graph-on-close="dpiDrillDownCtrl.onClose" unifi-dpi-category-usage-graph-on-application-selected="dpiDrillDownCtrl.selectApplication"></unifi-dpi-category-usage-graph><unifi-dpi-application-usage-graph ng-if="dpiDrillDownCtrl.isApplicationSelected()" unifi-dpi-application-usage-graph-category-id="dpiDrillDownCtrl.categoryId" unifi-dpi-application-usage-graph-application-id="dpiDrillDownCtrl.applicationId" unifi-dpi-application-usage-graph-on-close="dpiDrillDownCtrl.onClose" unifi-dpi-application-usage-graph-on-back="dpiDrillDownCtrl.clearSelection"></unifi-dpi-application-usage-graph></div>'}},{"pug-runtime":23}],286:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiOverviewController",["dpiUtils","frame","selectedDpiCategories",function(t,e,i){return new(function(){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.dpiUtils=t,this.selectedDpiCategories=i,this.addGraphs=i.addCategories.bind(i),this.removeGraph=i.removeCategory.bind(i)}return n(o,[{key:"showAddCategoryModal",value:function(){var t=this;e.show("configureDpiCategoryGraph",{excludedCategories:function(){return i.getNames()}}).then(function(e){t.addGraphs(e.map(function(t){return t.name}))})}}]),o}())}])},{}],287:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiDpiOverview",{template:t("./dpiOverview.pug")(),controller:"DpiOverviewController",controllerAs:"dpiOverviewCtrl"})},{"./dpiOverview.pug":288}],288:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiDpiOverview"><div class="unifiStatisticsDpiOverviewGraph noPadding unifiStatisticsDpiOverviewGraph__palette" ng-repeat="categoryName in dpiOverviewCtrl.selectedDpiCategories.getNames()" ng-class="\'unifiStatisticsDpiOverviewGraph__palette\' + dpiOverviewCtrl.dpiUtils.getCssIndexForCategoryName(categoryName)"><unifi-dpi-drill-down unifi-dpi-drill-down-category-name="categoryName" unifi-dpi-drill-down-on-remove="dpiOverviewCtrl.removeGraph"></unifi-dpi-drill-down></div><div class="unifiStatisticsDpiOverviewGraph noPadding" ng-if="!dpiOverviewCtrl.selectedDpiCategories.allCategoriesSelected()"><div class="unifiStatisticsDpi__add"><button class="appMainButton appMainButton--transparent icon ubnt-icon--plus" ng-click="dpiOverviewCtrl.showAddCategoryModal()"></button></div><div class="unifiStatisticsDpi__button"><button class="appMainButton appMainButton--transparent" ng-click="dpiOverviewCtrl.showAddCategoryModal()" translate="STATISTICS_DPI_ADD_CATEGORY"></button></div></div></div>'}},{"pug-runtime":23}],289:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiRestrictionGroupController",["$q","$rootScope","$translate","apiResults","frame","dpiApps","dpiUtils","heyToasts","networks","preferences","wirelessNetworks",function(t,e,i,o,r,a,s,l,c,u,d){return new(function(){function p(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),this.preferences=u}return n(p,[{key:"edit",value:function(){var t=this;this.isEditing=!0,r.show("dpiRestrictionGroupForm",{model:function(){return t.model}}).finally(function(){t.isEditing=!1});var i=e.$on("$frameClose:editTextField",function(){t.isEditing=!1,i()})}},{key:"remove",value:function(){var e=this;r.show("confirm",{title:function(){return i.instant("DPI_RESTRICTION_GROUP_DELETE_HEADER")},message:function(){var t={groupName:e.model.get("name"),restrictionsNumber:e.getRestrictions().length};t.assignmentsNumber=s.getNetworksWithDpiGroups(d.repository.collection,e.model.id).length+s.getNetworksWithDpiGroups(c.repository.collection,e.model.id).length;var n="DPI_RESTRICTION_GROUP_DELETE_CONFIRM";return t.restrictionsNumber&&!t.assignmentsNumber?n="DPI_RESTRICTION_GROUP_WITH_RESTRICTIONS_DELETE_CONFIRM":!t.restrictionsNumber&&t.assignmentsNumber?n="DPI_RESTRICTION_GROUP_WITH_ASSIGNMENTS_DELETE_CONFIRM":t.restrictionsNumber&&t.assignmentsNumber&&(n="DPI_RESTRICTION_GROUP_WITH_RESTRICTIONS_AND_ASSIGNMENTS_DELETE_CONFIRM"),i.instant(n,t,"messageformat")},options:angular.noop}).then(function(){return e.isRemoving=!0,e.model.destroy({wait:!0}).then(function(){var i=e.getRestrictions().map(function(t){return a.repository.collection.get(t).destroy({wait:!0})});return t.all(i)}).then(function(){l.pushSuccess(i.instant("DPI_RESTRICTION_GROUP_DELETE_SUCCESS"))}).catch(function(t){l.pushError(o.appendErrorMsg(i.instant("DPI_RESTRICTION_GROUP_DELETE_ERROR"),t))})}).finally(function(){c.repository.refresh(),d.repository.refresh(),e.isRemoving=!1})}},{key:"getRestrictions",value:function(){return this.model.get("dpiapp_ids")||[]}}]),p}())}])},{}],290:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDpiRestrictionGroup",[function(){return{scope:{model:"=unifiDpiRestrictionGroupModel",isExpanded:"=unifiDpiRestrictionGroupIsExpanded"},controller:"DpiRestrictionGroupController",controllerAs:"dpiRestrictionGroupCtrl",template:t("./dpiRestrictionGroup.pug")(),bindToController:!0,replace:!0}}])},{"./dpiRestrictionGroup.pug":291}],291:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy" ng-class="{    \'appForm--dark\': dpiRestrictionGroupCtrl.preferences.model.get(\'isSettingsDark\')  }"><div class="appSubHeading appSubHeading--comfy" ng-click="dpiRestrictionGroupCtrl.isExpanded = !dpiRestrictionGroupCtrl.isExpanded" ng-class="dpiRestrictionGroupCtrl.isExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'"><span>{{dpiRestrictionGroupCtrl.model.get(\'name\')}}</span><div class="appMainButtonContainer floatRight" ng-if="dpiRestrictionGroupCtrl.isExpanded"><a class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="!dpiRestrictionGroupCtrl.model.get(\'attr_no_delete\')" ng-click="dpiRestrictionGroupCtrl.edit(); $event.stopPropagation()" ng-disabled="dpiRestrictionGroupCtrl.isRemoving"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></a><a class="appMainButton appMainButton--tertiary appMainButton--condensed noHorizontalMargin"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="!dpiRestrictionGroupCtrl.model.get(\'attr_no_delete\')" ng-click="dpiRestrictionGroupCtrl.remove(); $event.stopPropagation()" busy-toggle="dpiRestrictionGroupCtrl.isRemoving" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></a></div></div><div class="verticalRhythm--comfy verticalRhythmTop--cozy" ng-show="dpiRestrictionGroupCtrl.isExpanded"><unifi-dpi-restrictions-list unifi-dpi-restrictions-list-restriction-group="dpiRestrictionGroupCtrl.model"></unifi-dpi-restrictions-list></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],292:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiRestrictionNetworkAssignmentsListController",["BasePaginatedListController","$translate","apiResults","BaseCollection","dpiGroups","dpiUtils","frame","heyToasts","networks","networkUtils","preferences",function(t,e,i,o,r,a,s,l,c,u,d){return new(function(r){function u(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return t.preferences=d,t.rowsPerPage=d.model.getRowsPerPropertyPanel(),t.defaultSortBy="name",t.collection=new o,t.isRemoving={},t.collectData(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,t),n(u,[{key:"addEventHandlers",value:function(){this.listener=c.repository.collection.onUpdate(this.collectData.bind(this))}},{key:"removeEventHandlers",value:function(){this.listener.stopListening()}},{key:"remove",value:function(t){var n=this;s.show("confirm",{title:function(){return e.instant("DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_DELETE_HEADER")},message:function(){return e.instant("DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_DELETE_CONFIRM")},options:angular.noop}).then(function(){n.isRemoving[t.id]=!0,c.repository.collection.get(t.id).save({dpi_enabled:!1,dpigroup_id:""}).then(function(){l.pushSuccess(e.instant("DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_DELETE_SUCCESS"))}).catch(function(t){l.pushError(i.appendErrorMsg(e.instant("DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_DELETE_ERROR"),t))}).finally(function(){n.isRemoving[t.id]=!1,n.collectData()})})}},{key:"getCollection",value:function(){return this.collection}},{key:"collectData",value:function(){this.collection.reset(a.getNetworksWithDpiGroups(c.repository.collection))}},{key:"onPageSizeChange",value:function(){}}]),u}())}])},{}],293:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDpiRestrictionNetworkAssignmentsList",["ListDirective","eventHandlersDirectiveMixin",function(e,i){var n=new e("dpiRestrictionNetworkAssignments",t("./dpiRestrictionNetworkAssignmentsList.pug")());return n.addMixin(i),n}])},{"./dpiRestrictionNetworkAssignmentsList.pug":294}],294:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="verticalRhythmTop--cozy"><table class="appTable appTable--noWrap appTable--hoverable appTable--striped appTable--flexible" collection-view-sort="dpiRestrictionNetworkAssignmentsListCtrl.view" ng-class="{      \'appTable--dark\': dpiRestrictionNetworkAssignmentsListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="networkName" collection-view-sort-by="name"><span translate="DPI_RESTRICTIONS_ASSIGNMENT_TABLE_HEADER_NETWORK"></span></th><th class="restrictionGroupName" collection-view-sort-by="dpiRestrictionGroup"><span translate="DPI_RESTRICTION_GROUP_NAME"></span></th><th class="networkPurpose" collection-view-sort-by="purpose"><span translate="SETTINGS_NETWORK_TABLE_HEADER_PURPOSE"></span></th><th class="networkSubnet" collection-view-sort-by="ip_subnet"><span translate="SETTINGS_NETWORK_TABLE_HEADER_SUBNET"></span></th><th class="networkSubnetV6" collection-view-sort-by="ipv6_subnet"><span translate="SETTINGS_NETWORK_TABLE_HEADER_IPV6_SUBNET"></span></th><th class="networkVlan" collection-view-sort-by="vlan"><span translate="SETTINGS_NETWORK_TABLE_HEADER_VLAN"></span></th><th class="networkActions"'+n("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_NETWORK_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in dpiRestrictionNetworkAssignmentsListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="networkName" ng-init="remoteSite = dpiRestrictionNetworkAssignmentsListCtrl.networkUtils.getRemoteSite(model)">{{::model.get(\'name\') + (remoteSite ? \' (\' + remoteSite.get(\'desc\') + \')\' : \'\')}}</td><td class="restrictionGroupName">{{::model.get(\'restrictionGroupName\')}}</td><td class="networkPurpose">{{::model.get(\'purpose\')}}</td><td class="networkSubnet">{{::model | networkSubnet:\'ipv4\'}}</td><td class="networkSubnetV6">{{::model | networkSubnet:\'ipv6\'}}</td><td class="networkVlan">{{::model.get(\'vlan\')}}</td><td class="networkActions appTableCell--actions"'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed noHorizontalMargin" ng-click="dpiRestrictionNetworkAssignmentsListCtrl.remove(model)" ng-disabled="dpiRestrictionNetworkAssignmentsListCtrl.isRemoving[model._id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!dpiRestrictionNetworkAssignmentsListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': dpiRestrictionNetworkAssignmentsListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DPI_RESTRICTIONS_ASSIGNMENT_TABLE_NETWORK_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],295:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiRestrictionWirelessNetworkAssignmentsListController",["BasePaginatedListController","$translate","apiResults","BaseCollection","dpiUtils","frame","heyToasts","preferences","radius","wirelessNetworks","wirelessNetworkUtils",function(t,e,i,o,r,a,s,l,c,u,d){return new(function(c){function p(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return t.preferences=l,t.rowsPerPage=l.model.getRowsPerPropertyPanel(),t.defaultSortBy="name",t.collection=new o,t.isRemoving={},t.collectData(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(p,t),n(p,[{key:"addEventHandlers",value:function(){this.listener=u.repository.collection.onUpdate(this.collectData.bind(this))}},{key:"removeEventHandlers",value:function(){this.listener.stopListening()}},{key:"isRadiusAssigned",value:function(t){var e=u.repository.collection.get(t.get("id"));return d.isRadiusEnabled(e)}},{key:"remove",value:function(t){var n=this;a.show("confirm",{title:function(){return e.instant("DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_DELETE_HEADER")},message:function(){return e.instant("DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_DELETE_CONFIRM")},options:angular.noop}).then(function(){n.isRemoving[t.id]=!0,u.repository.collection.get(t.id).save({dpi_enabled:!1,dpigroup_id:""}).then(function(){s.pushSuccess(e.instant("DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_DELETE_SUCCESS"))}).catch(function(t){s.pushError(i.appendErrorMsg(e.instant("DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_DELETE_ERROR"),t))}).finally(function(){n.isRemoving[t.id]=!1})})}},{key:"getCollection",value:function(){return this.collection}},{key:"collectData",value:function(){this.collection.reset(r.getNetworksWithDpiGroups(u.repository.collection))}},{key:"onPageSizeChange",value:function(){}}]),p}())}])},{}],296:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDpiRestrictionWirelessNetworkAssignmentsList",["ListDirective","eventHandlersDirectiveMixin",function(e,i){var n=new e("dpiRestrictionWirelessNetworkAssignments",t("./dpiRestrictionWirelessNetworkAssignmentsList.pug")());return n.addMixin(i),n}])},{"./dpiRestrictionWirelessNetworkAssignmentsList.pug":297}],297:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--striped appTable--flexible" collection-view-sort="dpiRestrictionWirelessNetworkAssignmentsListCtrl.view" ng-class="{      \'appTable--dark\': dpiRestrictionWirelessNetworkAssignmentsListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="networkName" collection-view-sort-by="name"><span translate="DPI_RESTRICTIONS_ASSIGNMENT_TABLE_HEADER_WIRELESS_NETWORK"></span></th><th class="restrictionGroupName" collection-view-sort-by="restrictionGroupName"><span translate="DPI_RESTRICTION_GROUP_NAME"></span></th><th class="wlanSecurity" collection-view-sort-by="security"><span translate="SETTINGS_WLAN_TABLE_HEADER_SECURITY"></span></th><th class="wlanGuestNetwork" collection-view-sort-by="is_guest"><span translate="SETTINGS_WLAN_TABLE_HEADER_GUEST_NETWORK"></span></th><th class="wlanVlan" collection-view-sort-by="vlan"><span translate="SETTINGS_WLAN_TABLE_HEADER_VLAN"></span></th><th class="wlanActions"'+n("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_WLAN_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in dpiRestrictionWirelessNetworkAssignmentsListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="networkName unifiSettingsDpiRestrictionAssignmentsTable__name">{{::model.get(\'name\')}}</td><td class="restrictionGroupName">{{::model.get(\'restrictionGroupName\')}}</td><td class="wlanSecurity">{{::model.get(\'security\')}}</td><td class="wlanGuestNetwork" ng-bind-html="model.get(\'is_guest\') | enabledIcon"></td><td class="wlanVlan"><span ng-if="model.get(\'vlan_enabled\') &amp;&amp; !dpiRestrictionWirelessNetworkAssignmentsListCtrl.isRadiusAssigned(model)">{{::model.get(\'vlan\')}}</span><span ng-if="dpiRestrictionWirelessNetworkAssignmentsListCtrl.isRadiusAssigned(model)">{{\'SETTINGS_WLAN_TABLE_VALUE_VLAN_RADIUS_ASSIGNED\' | translate}}</span></td><td class="networkActions appTableCell--actions"'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed noHorizontalMargin" ng-click="dpiRestrictionWirelessNetworkAssignmentsListCtrl.remove(model)" ng-disabled="dpiRestrictionWirelessNetworkAssignmentsListCtrl.isRemoving[model._id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!dpiRestrictionWirelessNetworkAssignmentsListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': dpiRestrictionWirelessNetworkAssignmentsListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DPI_RESTRICTIONS_ASSIGNMENT_TABLE_WIRELESS_NETWORK_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],298:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiRestrictionsListController",["BasePaginatedListController","$translate","apiResults","BaseCollection","CollectionView","dpi","dpiApps","frame","heyToasts","preferences",function(t,e,i,o,r,a,s,l,c,u){return new(function(r){function d(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return t.rowsPerPage=u.model.getRowsPerPropertyPanel(),t.defaultSortBy="enabled",t.collection=new o,t.isRemoving={},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(d,t),n(d,[{key:"updateModel",value:function(t){this.removeEventHandlers(),this.restrictionGroup=t,this.addEventHandlers(),this.collectData()}},{key:"addEventHandlers",value:function(){this.restrictionGroup&&this.restrictionGroup.on("sync",this.collectData,this)}},{key:"removeEventHandlers",value:function(){this.restrictionGroup&&this.restrictionGroup.off("sync",this.collectData,this)}},{key:"edit",value:function(t){var e=this;l.show("dpiRestrictionForm",{model:function(){return s.repository.collection.get(t.id)},restrictionGroup:function(){return e.restrictionGroup}})}},{key:"remove",value:function(t){var n=this;l.show("confirm",{title:function(){return e.instant("DPI_RESTRICTION_DELETE_HEADER")},message:function(){return e.instant("DPI_RESTRICTION_DELETE_CONFIRM")},options:angular.noop}).then(function(){n.isRemoving[t.id]=!0;var o=n.restrictionGroup.get("dpiapp_ids");o.splice(o.indexOf(t.id),1),n.restrictionGroup.save({dpiapp_ids:o},{wait:!0}).then(function(){return s.repository.collection.get(t.id).destroy({wait:!0})}).then(function(){c.pushSuccess(e.instant("DPI_RESTRICTION_DELETE_SUCCESS"))}).catch(function(t){c.pushError(i.appendErrorMsg(e.instant("DPI_RESTRICTION_DELETE_ERROR"),t))}).finally(function(){n.isRemoving[t.id]=!1})})}},{key:"getCollection",value:function(){return this.collection}},{key:"getRestrictions",value:function(){return this.restrictionGroup.get("dpiapp_ids")||[]}},{key:"collectData",value:function(){var t=this;if(this.restrictionGroup){var e=this.getRestrictions();this.collection.reset(s.repository.collection.reduce(function(i,n){if(-1!==e.indexOf(n.id)){var o=[],r=[],s=n.get("apps"),l=n.get("cats");s&&s.length>0&&(r=s.map(function(t){return a.getCompoundName(t)},t)),l&&l.length>0&&(o=l.map(function(t){return a.getCategoryName(t)},t).filter(function(t,e,i){return i.indexOf(t)===e})),i.push({id:n.id,catNames:o,appNames:r,blocked:n.get("blocked"),enabled:n.get("enabled"),log:n.get("log"),maxRateDown:-1!==n.get("qos_rate_max_down")&&void 0!==n.get("qos_rate_max_down")?1024*n.get("qos_rate_max_down"):void 0,maxRateUp:-1!==n.get("qos_rate_max_up")&&void 0!==n.get("qos_rate_max_up")?1024*n.get("qos_rate_max_up"):void 0})}return i},[]))}}},{key:"onPageSizeChange",value:function(){}}]),d}())}])},{}],299:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiDpiRestrictionsList",["PaginatedListDirective","eventHandlersDirectiveMixin","updateModelDirectiveMixin",function(e,i,n){var o=new e("dpiRestrictions",t("./dpiRestrictionsList.pug")(),{_model:"=unifiDpiRestrictionsListRestrictionGroup",isReadOnly:"=unifiDpiRestrictionsListIsReadOnly"});return o.addMixin(i),o.addMixin(n,[!1,"dpiRestrictionsListCtrl._model"]),o}])},{"./dpiRestrictionsList.pug":300}],300:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div><table class="noMarginBottom appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped appTable--verticalAlignTop" collection-view-sort="dpiRestrictionsListCtrl.view" ng-class="{      \'appTable--dark\': dpiRestrictionsListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="dpiRestrictionName unifiSettingsDpiRestrictionGroupTable__name"><span translate="DPI_RESTRICTIONS_TABLE_HEADER_NAME_CAT_OR_APP"></span></th><th class="dpiRestrictionEnabled" collection-view-sort-by="enabled"><span translate="DPI_RESTRICTIONS_TABLE_HEADER_NAME_ENABLED"></span></th><th class="dpiRestrictionBlocked" collection-view-sort-by="blocked"><span translate="DPI_RESTRICTIONS_TABLE_HEADER_NAME_BLOCKED"></span></th><th class="dpiRestrictionLogTraffic" collection-view-sort-by="log"><span translate="DPI_RESTRICTIONS_TABLE_HEADER_NAME_LOG_TRAFFIC"></span></th><th class="dpiRestrictionLimitDown" unifi-feature-flag-enable="enableDpiBlockingRate" collection-view-sort-by="limitDown"><span translate="DPI_RESTRICTIONS_TABLE_HEADER_NAME_LIMIT_DOWN"></span></th><th class="dpiRestrictionLimitUp" unifi-feature-flag-enable="enableDpiBlockingRate" collection-view-sort-by="limitUp"><span translate="DPI_RESTRICTIONS_TABLE_HEADER_NAME_LIMIT_UP"></span></th><th class="dpiRestrictionActions"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="!dpiRestrictionsListCtrl.isReadOnly"><span translate="DPI_RESTRICTIONS_TABLE_HEADER_NAME_ACTIONS"></span></th></tr></thead><tfoot ng-if="dpiRestrictionsListCtrl.view.getModels().length"><tr><td unifi-feature-flag-enable="enableDpiBlockingRate" colspan="6"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="dpiRestrictionsListCtrl.currentPage" unifi-micro-pagination-rows-per-page="dpiRestrictionsListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="dpiRestrictionsListCtrl.view.getModels().length"></unifi-micro-pagination></td><td unifi-feature-flag-disable="enableDpiBlockingRate" colspan="4"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="dpiRestrictionsListCtrl.currentPage" unifi-micro-pagination-rows-per-page="dpiRestrictionsListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="dpiRestrictionsListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in dpiRestrictionsListCtrl.view.getModels(),          startFrom (dpiRestrictionsListCtrl.currentPage - 1) * dpiRestrictionsListCtrl.rowsPerPage,          limitTo dpiRestrictionsListCtrl.rowsPerPage" data-id="{{::model.id}}"><td class="dpiRestrictionName unifiSettingsDpiRestrictionGroupTable__name"><div ng-repeat="categoryName in model.get(\'catNames\') | orderBy:\'toString()\'"><span>{{::categoryName | translateDpiCategory}}</span></div><div ng-repeat="appName in model.get(\'appNames\') | orderBy:\'toString()\'"><span>{{::appName}}</span></div></td><td class="dpiRestrictionEnabled" ng-bind-html="model.get(\'enabled\') | enabledIcon"></td><td class="dpiRestrictionBlocked" ng-bind-html="model.get(\'blocked\') | enabledIcon"></td><td class="dpiRestrictionLogTraffic" ng-bind-html="model.get(\'log\') | enabledIcon"></td><td class="dpiRestrictionLimitDown" unifi-feature-flag-enable="enableDpiBlockingRate">{{::model.get(\'maxRateDown\') ? (model.get(\'maxRateDown\') | bps:{convertFromBytes:true} ) : (\'DPI_RESTRICTIONS_TABLE_VALUE_UNLIMITED\' | translate)}}</td><td class="dpiRestrictionLimitUp" unifi-feature-flag-enable="enableDpiBlockingRate">{{::model.get(\'maxRateUp\') ? (model.get(\'maxRateUp\') | bps:{convertFromBytes:true} ) : (\'DPI_RESTRICTIONS_TABLE_VALUE_UNLIMITED\' | translate)}}</td><td class="dpiRestrictionActions appTableCell--actions"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="!dpiRestrictionsListCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="dpiRestrictionsListCtrl.edit(model)" ng-disabled="dpiRestrictionsListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="dpiRestrictionsListCtrl.remove(model)" busy-toggle="dpiRestrictionsListCtrl.isRemoving[model.id]" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--dark appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!dpiRestrictionsListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DPI_RESTRICTIONS_NO_DATA"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],301:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiSelectorController",["dpiFilters","dpiUtils","frame","gatewayUtils","selectedDpiApplications","selectedDpiCategories","siteDpi","translateResolver","userDpi","$filter","$scope","$translate","DPI_EVENTS",function(t,e,i,o,r,a,s,l,c,u,d,p,f){return new(function(){function h(){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),this.dpiFilters=t,this.addFilter=this.addFilter.bind(this),this.hasSiteGateway=o.hasSiteGateway(),this.dpiEnabled=e.isDpiEnabled(),this.legendConfig={labelProperty:"name",valueProperty:"bytes",entryCssIndex:function(t){var n=i.indexOf(t.name);return-1===n?n:e.getCssIndexForCategoryName(t.name)},visible:function(t){return t.bytes>0},valueFormat:function(t){return u("bytes")(t)},labelFormat:function(t){return i.appsFromCategory?t:e.getTranslatedCategoryName(t)}},this.dpiChartConfig={dataProperty:"bytes",transitionDuration:0,type:"solid",label:{main:"",secondary:u("uppercase")(p.instant("STATISTICS_DPI_TRAFFIC"))},pieCss:function(t){return-1!==i.indexOf(t.data.name)?"unifiDonutChartPie"+e.getCssIndexForCategoryName(t.data.name):""}}}return n(h,[{key:"checkUsgVersion",value:function(){this.usgFirmwareCompliant=e.isUSGFirmwareCompliant()}},{key:"resolve",value:function(){return l.resolve("dpiCategories")}},{key:"$onInit",value:function(){var t=this,i=o.getSiteGateway();i&&i.on("change:version",this.checkUsgVersion,this),this.checkUsgVersion(),this.clientMac?(c.watchUser(this.clientMac),this.repository=c.repositories.macFiltered,this.repository.collection.on("update",this.collectData,this)):(this.repository=s.repositories.byApp,this.repository.model.on("change sync",this.collectData,this)),this.setMode(),this.isResolving=!0,this.resolve().finally(function(){t.isResolving=!1,t.collectData()}),this.warningMessages=[{condition:!this.dpiEnabled&&this.hasSiteGateway,header:"STATISTICS_DPI_NOT_ENABLED",message:"STATISTICS_DPI_NOT_ENABLED_DETAILS"},{condition:this.dpiEnabled&&this.hasSiteGateway&&!this.usgFirmwareCompliant,header:"STATISTICS_DPI_NO_REQUIRED_FIRMWARE",message:"STATISTICS_DPI_NO_REQUIRED_FIRMWARE_DETAILS",requiredVersion:e.REQUIRED_USG_FIRMWARE},{condition:!this.hasSiteGateway,header:"STATISTICS_DPI_NO_USG_HEADER",message:"STATISTICS_DPI_NO_USG_MESSAGE"}],d.$on(this.appsFromCategory?f.APPLICATIONS_CHANGED:f.CATEGORIES_CHANGED,function(){t.onSelectionChange()})}},{key:"$onDestroy",value:function(){this.clientMac?(c.unwatchUser(this.clientMac),this.repository.collection.off("update",this.collectData,this)):this.repository.model.off("change sync",this.collectData,this);var t=o.getSiteGateway();t&&t.off("change:version",this.checkUsgVersion,this)}},{key:"setMode",value:function(){var t=this;this.appsFromCategory?(this.toggle=r.toggleApplication.bind(r),this.indexOf=r.indexOf.bind(r)):(this.toggle=function(e){a.toggleCategory(e),t.clientMac||(t.repository.model.setDPICategories(a.getIds()),t.repository.refresh())},this.indexOf=a.indexOf.bind(a),this.clientMac?this.indexOf=function(e){var i=a.indexOf(e);return-1===i?i:t.data.map(function(t){return t.name}).indexOf(e)}:this.indexOf=a.indexOf.bind(a))}},{key:"onSelectionChange",value:function(){this.appsFromCategory||this.clientMac||s.repositories.byApp.model.setDPICategories(a.getIds()),0===a.getIds().length?this.repository.clear():this.repository.refresh()}},{key:"showEditFiltersModal",value:function(){var t=this;i.show("statisticsDpiFilters").then(function(){t.collectData()})}},{key:"addFilter",value:function(e){t.isEnabled()||(t.resetFilters(),t.toggleFiltering()),t.selectFilters([e]),this.collectData()}},{key:"removeFilter",value:function(e){t.deselectFilters([e]),this.collectData()}},{key:"collectData",value:function(){var t,i=this;this.dpiEnabled&&this.usgFirmwareCompliant?(t=this.clientMac?c.categoriesSortedByTraffic(this.clientMac):this.appsFromCategory?e.applicationsSortedByTraffic(this.appsFromCategory):e.categoriesSortedByTraffic(),this.totalBytes=t.total.bytes,this.dpiChartConfig.label.main=u("bytes")(this.totalBytes),this.data=t.data):(this.data=[],this.dpiChartConfig.label.main="?");this.dataSortedBySelection=this.data.slice().sort(function(t,e){return-1===i.indexOf(t.name)?1:-1===i.indexOf(e.name)?-1:i.indexOf(t.name)-i.indexOf(e.name)})}}]),h}())}])},{}],302:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiDpiSelector",{template:t("./dpiSelector.pug")(),bindings:{appsFromCategory:"<unifiDpiSelectorAppsFromCategory",clientMac:"<unifiDpiSelectorClientMac"},controller:"DpiSelectorController",controllerAs:"dpiSelectorCtrl"})},{"./dpiSelector.pug":303}],303:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiDpiSelector"><div class="unifiDpiSelectorGraph" ng-class="{\'unifiDpiSelectorGraph--disabled\': !dpiSelectorCtrl.dpiEnabled}"><unifi-donut-chart-with-tooltip unifi-donut-chart-with-tooltip-config="dpiSelectorCtrl.dpiChartConfig" unifi-donut-chart-with-tooltip-data="dpiSelectorCtrl.dataSortedBySelection"><div class="ubntTooltip noWrap noPointerEvents"'+(i="unifi-position-absolutely",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' ng-if="tooltipVisible" ng-class="cssTooltipPosition"><div class="type-ubnt-title mb-1">{{::dpiSelectorCtrl.appsFromCategory ? focusedData.name : (focusedData.name | translateDpiCategory)}}</div><span>{{::focusedData.bytes | bytes}}</span></div></unifi-donut-chart-with-tooltip></div><div class="unifiDpiSelectorGraph__rightPane verticalRhythm"><div ng-if="::dpiSelectorCtrl.dpiEnabled &amp;&amp; dpiSelectorCtrl.hasSiteGateway &amp;&amp; dpiSelectorCtrl.usgFirmwareCompliant"><unifi-chart-legend class="unifiChartLegend--invertedIcons" unifi-chart-legend-config="dpiSelectorCtrl.legendConfig" unifi-chart-legend-data="dpiSelectorCtrl.data" unifi-chart-legend-on-click="dpiSelectorCtrl.toggle(entry.name);"></unifi-chart-legend><div class="appInfoBox appInfoBox--warning appInfoBox--cozy" ng-if="dpiSelectorCtrl.totalBytes === 0"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="STATISTICS_DPI_NO_DATA"></p></div></div></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy" ng-repeat="warning in dpiSelectorCtrl.warningMessages" ng-if="warning.condition"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="{{::warning.header}}"></div><div class="appInfoBox__body"><p class="noMarginBottom">{{warning.message | translate : \'{version: "\' + warning.requiredVersion + \'"}\'}}</p></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],304:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiUserStatisticsController",["$scope","$stateParams","BaseDpiUsersController","dpiIcons","dpiUtils","knownClientsCache","selectedDpiCategories","userDpi","DPI_EVENTS",function(t,e,i,o,r,a,s,l,c){return new(function(u){function d(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return t.dpiEnabled=r.isDpiEnabled(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(d,i),n(d,[{key:"$onInit",value:function(){var i=this;(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"$onInit",this).call(this),l.repositories.macFiltered.register(),this.listener=l.repositories.macFiltered.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),this.clientMac=e.userId,l.watchUser(this.clientMac),this.clientModel=this.getModel(this.clientMac),this.clientModel||this.fetchKnownClient(this.clientMac),s.setTemporary(!0),s.selectAllCategories();this.view.setFilters([function(t){return s.isSelected(t.get("category"))}]),t.$on(c.CATEGORIES_CHANGED,function(){i.onSelectedCategoriesChange()})}},{key:"knownClientFetched",value:function(t){this.clientModel=t}},{key:"$onDestroy",value:function(){this.cachedKnownClientIds.forEach(function(t){a.repository.unregisterItem(t)}),s.setTemporary(!1),l.repositories.macFiltered.unregister(),this.listener.stopListening(),l.unwatchUser(this.clientMac)}},{key:"onSelectedCategoriesChange",value:function(){this.view.refresh()}},{key:"collectData",value:function(){var t=l.getDpiForUser(this.clientMac).map(function(t){return angular.extend(t.toJSON(),{category:t.getCategoryName(),application:t.getApplicationName(),totalBytes:t.getTotalBytes(),totalPackets:t.getTotalPackets(),icon:o.getIconForApplication(t.getCompoundId())})});this.getCollection().reset(t)}}]),d}())}])},{}],305:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiDpiUserStatistics",{template:t("./dpiUserStatistics.pug")(),controller:"DpiUserStatisticsController",controllerAs:"dpiUserStatisticsCtrl"})},{"./dpiUserStatistics.pug":306}],306:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appContainer"><div class="appRow appRow--comfy noMarginBottom verticalRhythmPaddingTopHalf"><div class="col--xs6"><div class="appSubHeading appSubHeading--comfy type--small noMarginBottom"><a class="button appMainButton appMainButton--primary appMainButton--transparent" ui-sref="manage.site.statistics.dpi({view: \'users\', userId: null})"><span class="button__icon icon ubnt-icon--arrow-left-4"></span><span>{{\'DPI_USER_STATISTICS_GO_BACK\' | translate}}</span></a></div></div><div class="col--xs6 alignRight"><div class="appSubHeading appSubHeading--comfy type--small noMarginBottom"><a class="button appMainButton appMainButton--primary appMainButton--transparent" ng-if="dpiUserStatisticsCtrl.clientModel" unifi-open-panel="dpiUserStatisticsCtrl.clientModel" unifi-open-panel-active-tab="\'details\'"><div class="iconText appIconText"><span class="iconText__icon" unifi-client-icon="dpiUserStatisticsCtrl.clientModel"></span><span class="iconText__text">{{dpiUserStatisticsCtrl.clientModel.getDisplayName()}}</span></div></a></div></div></div><div class="appRow appRow--comfy"><div class="col--xs12"><unifi-dpi-selector unifi-dpi-selector-client-mac="dpiUserStatisticsCtrl.clientMac"></unifi-dpi-selector></div></div><div class="appRow appRow--comfy"><div class="col--xs12"><div class="unifiDpiUsers"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="dpiUsersTable" collection-view-sort="dpiUserStatisticsCtrl.view" ng-class="{            \'is-not-responsive\': !dpiUserStatisticsCtrl.isResponsive()          }" unifi-condensed="appTable--condensed"><thead><tr><th class="alignCenter dpiAppIcon appTableCell--smash visible--smUp"></th><th class="dpiCategoryName" collection-view-sort-by="category"><span translate="DPI_USER_STATISTICS_TABLE_HEADER_CATEGORY"></span></th><th class="dpiApplicationName" collection-view-sort-by="application"><span translate="DPI_USER_STATISTICS_TABLE_HEADER_APPLICATION"></span></th><th class="dpiUserBytesDown" collection-view-sort-by="rx_bytes"><span translate="DPI_USER_STATISTICS_TABLE_HEADER_BYTES_DOWN"></span></th><th class="dpiUserBytesUp" collection-view-sort-by="tx_bytes"><span translate="DPI_USER_STATISTICS_TABLE_HEADER_BYTES_UP"></span></th><th class="dpiUserBytesTotal" collection-view-sort-by="totalBytes"><span translate="DPI_USER_STATISTICS_TABLE_HEADER_BYTES_TOTAL"></span></th><th class="dpiUserPktsDown" collection-view-sort-by="rx_packets"><span translate="DPI_USER_STATISTICS_TABLE_HEADER_PACKETS_DOWN"></span></th><th class="dpiUserPktsUp" collection-view-sort-by="tx_packets"><span translate="DPI_USER_STATISTICS_TABLE_HEADER_PACKETS_UP"></span></th><th class="dpiUserPktsTotal" collection-view-sort-by="totalPackets"><span translate="DPI_USER_STATISTICS_TABLE_HEADER_PACKETS_TOTAL"></span></th></tr></thead><tfoot ng-if="dpiUserStatisticsCtrl.view.getModels().length"><tr><td colspan="9"><unifi-list-pagination unifi-list-pagination-current-page="dpiUserStatisticsCtrl.currentPage" unifi-list-pagination-rows-per-page="dpiUserStatisticsCtrl.rowsPerPage" unifi-list-pagination-total-rows="dpiUserStatisticsCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="dpiModel in dpiUserStatisticsCtrl.view.getModels(),                startFrom (dpiUserStatisticsCtrl.currentPage - 1) * dpiUserStatisticsCtrl.rowsPerPage,                limitTo dpiUserStatisticsCtrl.rowsPerPage" data-id="{{::dpiUserStatisticsCtrl.getModel(dpiModel.get(\'mac\')).id}}" ng-init="model = dpiUserStatisticsCtrl.getModel(dpiModel.get(\'mac\'))"><td class="dpiAppStateIcon visible--smUp iconText__icon alignCenter"><span ng-class="dpiModel.get(\'icon\')"></span></td><td class="dpiCategoryName">{{::dpiModel.get(\'category\') | translateDpiCategory}}</td><td class="dpiApplicationName">{{::dpiModel.get(\'application\') || (\'DPI_USER_STATISTICS_TABLE_UNKNOWN\' | translate)}}</td><td class="dpiUserBytesDown unifiDownload appTableCell--smash">{{::dpiModel.get(\'rx_bytes\') | bytes}}</td><td class="dpiUserBytesUp unifiUpload appTableCell--smash">{{::dpiModel.get(\'tx_bytes\') | bytes}}</td><td class="dpiUserBytesTotal appTableCell--smash">{{::dpiModel.get(\'totalBytes\') | bytes}}</td><td class="dpiUserPktsDown unifiDownload appTableCell--smash">{{::dpiModel.get(\'rx_packets\')}}</td><td class="dpiUserPktsUp unifiUpload appTableCell--smash">{{::dpiModel.get(\'tx_packets\')}}</td><td class="dpiUserPktsTotal appTableCell--smash">{{::dpiModel.get(\'totalPackets\')}}</td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!dpiUserStatisticsCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="DPI_USER_STATISTICS_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="DPI_USER_STATISTICS_TABLE_EMPTY_NO_DATA"></p></div></div></div></div></div></div></div></div></div></div>'}},{"pug-runtime":23}],307:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiUsersController",["$scope","dpi","BaseDpiUsersController","dpiUtils","objectUtils","selectedDpiCategories","DPI_EVENTS",function(t,e,i,o,r,a,s){return new(function(e){function l(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return t.barChartConfig={valueProperty:"totalBytes",range:0,entryCss:function(t){return"unifiBarChartSegment"+o.getCssIndexForCategoryName(t.name)}},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,i),n(l,[{key:"$onInit",value:function(){var e=this;(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"$onInit",this).call(this),this.addEventHandlers(),this.onSelectedCategoriesChange(),t.$on(s.CATEGORIES_CHANGED,function(){e.onSelectedCategoriesChange()})}},{key:"$onDestroy",value:function(){this.removeEventHandlers()}},{key:"onSelectedCategoriesChange",value:function(){var t=a.getIds();this.repository.collection.setPayloadAttrs({queries:[{cats:t}]}),t.length?this.repository.refresh():this.getCollection().reset([])}},{key:"collectData",value:function(){var t=this,e=a.getNames(),i=e.map(function(t){return{name:t}}),n=this.repository.collection.map(function(e){var n=e.get("by_app").map(function(t){return angular.extend(t.toJSON(),{totalBytes:t.getTotalBytes(),name:t.getCategoryName()})}),o=r.appendAll(n,["app","cat","name"])||{totalBytes:0};return delete o.app,delete o.cat,delete o.name,o.mac=e.get("mac"),o.categoryStats=i.concat(n),o.totalBytes&&!t.getModel(e.get("mac"))&&t.fetchKnownClient(e.get("mac")),o}).filter(function(t){return 0!==t.totalBytes});n.forEach(function(t){t.categoryStats=r.reduceDuplicates(t.categoryStats,"name",["name","id"]).map(function(t){return t.translatedName=o.getTranslatedCategoryName(t.name),t}),t.categoryStats.sort(function(t,i){return e.indexOf(t.name)-e.indexOf(i.name)})}),this.getCollection().reset(n),this.barChartConfig.range=Math.max.apply(Math,n.map(function(t){return t.totalBytes}))}},{key:"knownClientFetched",value:function(t){this.getCollection().find(function(e){return e.get("mac")===t.get("mac")}).set({name:t.getDisplayName()})}}]),l}())}])},{}],308:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiDpiUsers",{template:t("./dpiUsers.pug")(),controller:"DpiUsersController",controllerAs:"dpiUsersCtrl"})},{"./dpiUsers.pug":309}],309:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiDpiUsers"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="dpiUsersTable" collection-view-sort="dpiUsersCtrl.view" ng-class="{      \'is-not-responsive\': !dpiUsersCtrl.isResponsive()    }" unifi-condensed="appTable--condensed"><thead><tr><th class="alignCenter dpiUserStateIcon appTableCell--smash visible--smUp"></th><th class="dpiUserName" collection-view-sort-by="mac"><span translate="DPI_USERS_TABLE_HEADER_NAME"></span></th><th class="dpiUserCategories" collection-view-sort-by="totalBytes"><span translate="DPI_USERS_TABLE_HEADER_CATEGORIES"></span></th><th class="dpiUserUp" collection-view-sort-by="tx_bytes"><span translate="DPI_USERS_TABLE_HEADER_UP"></span></th><th class="dpiUserDown" collection-view-sort-by="rx_bytes"><span translate="DPI_USERS_TABLE_HEADER_DOWN"></span></th></tr></thead><tfoot ng-if="dpiUsersCtrl.view.getModels().length"><tr><td colspan="5"><unifi-list-pagination unifi-list-pagination-current-page="dpiUsersCtrl.currentPage" unifi-list-pagination-rows-per-page="dpiUsersCtrl.rowsPerPage" unifi-list-pagination-total-rows="dpiUsersCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="dpiModel in dpiUsersCtrl.view.getModels(),          startFrom (dpiUsersCtrl.currentPage - 1) * dpiUsersCtrl.rowsPerPage,          limitTo dpiUsersCtrl.rowsPerPage" data-id="{{::dpiUsersCtrl.getModel(dpiModel.get(\'mac\')).id}}" ng-init="model = dpiUsersCtrl.getModel(dpiModel.get(\'mac\'))"><td class="dpiUserStateIcon visible--smUp alignCenter"><span ng-if="model.modelType === \'device\'" unifi-device-icon="::model"></span><span ng-if="model &amp;&amp; model.modelType !== \'device\'" unifi-client-icon="::model"></span><span class="unifiClientIcon icon ubnt-icon--unknown" ng-if="!model"></span></td><td class="dpiUserName appTableCell--smash clickable" unifi-open-panel="model" unifi-open-panel-active-tab="\'details\'" unifi-open-panel-active-accordion-group="\'dpi\'">{{::model.getDisplayName() || dpiModel.get(\'mac\')}}</td><td class="dpiUserCategories"><unifi-bar-chart unifi-bar-chart-config="dpiUsersCtrl.barChartConfig" unifi-bar-chart-data="dpiModel.get(\'categoryStats\')"><div class="appTooltip appTooltip--cozy unifiBarSegmentTooltip"><div class="unifiChartTooltipHeader verticalRhythmQuarter">{{entry.translatedName}}</div><div class="unifiChartTooltipBody"><div class="verticalRhythmQuarter"><div class="appDescriptionList appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow downPktsBytes"><dt>{{\'CLIENT_PROPERTIES_LABEL_UP_PKTS_BYTES\' | translate}}</dt><dd>{{entry.tx_packets | numberToString}} / {{entry.tx_bytes | bytes}}</dd></div><div class="appDescriptionListRow upPktsBytes"><dt>{{\'CLIENT_PROPERTIES_LABEL_DOWN_PKTS_BYTES\' | translate}}</dt><dd>{{entry.rx_packets | numberToString}} / {{entry.rx_bytes | bytes}}</dd></div></div></div></div></div></unifi-bar-chart></td><td class="dpiUserUp appTableCell--smash alignRight">{{::dpiModel.get(\'tx_bytes\') | bytes}}</td><td class="dpiUserDown appTableCell--smash alignRight">{{::dpiModel.get(\'rx_bytes\') | bytes}}</td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!dpiUsersCtrl.getCollection().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" ng-if="!dpiUsersCtrl.isLoading" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="DPI_USERS_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="DPI_USERS_TABLE_EMPTY_NO_DATA"></p></div></div></div><div class="appSpinner appSpinner--medium autoMargin verticalRhythmTop--cozy" ng-if="dpiUsersCtrl.isLoading"></div></div></div></div></div>'}},{"pug-runtime":23}],310:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var o=lazyRequire.get("BaseModelController");angular.module("app-unifi-manage").controller("EliteStatusBadgeController",["eliteStateUtils",function(t){return new(function(e){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,o),n(i,[{key:"onModelChange",value:function(){var e=t.getEliteBadgeInfo(this.model);this.status=e.status,this.stateString=e.stateString}},{key:"reset",value:function(){this.status=null,this.stateString=null}}]),i}())}])},{}],311:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiEliteStatusBadge",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiEliteStatusBadge"},controller:"EliteStatusBadgeController",controllerAs:"eliteStatusBadgeCtrl",restrict:"A",template:t("./eliteStatusBadge.pug")(),link:function(t,i,n,o){t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./eliteStatusBadge.pug":312}],312:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+="<div class=\"eliteStatusBadge\"><span class=\"appBadge\" ng-class=\"{      'appBadge--success': eliteStatusBadgeCtrl.status === 'success',      'appBadge--warning': eliteStatusBadgeCtrl.status === 'warning',      'appBadge--danger': eliteStatusBadgeCtrl.status === 'danger',      'appBadge--static': eliteStatusBadgeCtrl.status === 'static'    }\">{{eliteStatusBadgeCtrl.stateString}}</span></div>"}},{"pug-runtime":23}],313:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiEscHandler",[function(){return{scope:{onClose:"&unifiEscHandler"},link:function(t){t.$on("keyup:escape",function(){angular.isFunction(t.onClose)&&t.$applyAsync(function(){t.onClose()})})}}}])},{}],314:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiEventIcon",["EVENT_KEYS_CLASSES_MAP",function(t){return{replace:!0,scope:{eventType:"@unifiEventIcon"},template:'<div class="icon appAlertIcon" ng-class="::eventIconClasses"></div>',link:function(e){e.eventType&&(e.eventIconClasses=t[e.eventType])}}}])},{}],315:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("EventMessageController",["$filter","clients","devices",function(t,e,i){var o=["bytes","total_bytes","usable_bytes"];return new(function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.itemTypes={ap:"device",switch:"device",gateway:"device",user:"client",guest:"client",client:"client",voucher:void 0,admin:void 0}}return n(r,[{key:"getItemModel",value:function(t,n){switch(this.itemTypes[t.toLowerCase()]){case"device":return i.repository.collection.get(n);case"client":return e.repository.collection.get(n);default:return}}},{key:"formatAttributes",value:function(e){var i=angular.extend({},e);return o.forEach(function(e){i.hasOwnProperty(e)&&(i[e]=t("bytes")(i[e]))}),i.hasOwnProperty("duration")&&(i.duration=t("duration")(i.duration,"seconds","d[d] h[h] m[m]")),i}}]),r}())}])},{}],316:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiEventMessage",["$compile","$translate","regexUtils","REGEX_PATTERNS","EVENT_KEYS",function(t,e,i,n,o){return{scope:{model:"=unifiEventMessage"},controller:"EventMessageController",controllerAs:"eventMessageCtrl",replace:!0,restrict:"AE",template:"<span></span>",link:function(r,a,s,l){var c=function(e){if(e){var o=new RegExp("("+Object.keys(l.itemTypes).join("|")+")\\[(.*?)\\]","gi"),s=e.replace(o,function(t,e,o){return["<unifi-event-message-item","  unifi-event-message-item-type=\"{{'"+e+"'}}\"","  unifi-event-message-item-id=\"{{'"+o+"'}}\"","  unifi-event-message-item-mac=\"{{'"+((o.match(i.captured(n.MAC_ADDRESS))||[])[0]||"")+"'}}\"","  unifi-event-message-item-name=\"{{'"+((o.match(/^(.*)(?=\()/i)||[])[0]||"")+"'}}\">","</unifi-event-message-item>"].join("")});a.html(t("<span>"+s+"</span>")(r))}};if(r.model){var u=o[r.model.get("key")];if(u){var d=void 0,p=u;angular.isObject(u)&&(p=u.key,u.pluralize&&(d="messageformat"));var f=l.formatAttributes(r.model.attributes);c(d?e.instant(p,f,d):e.instant(p,f))}else c(r.model.get("msg"))}}}}])},{}],317:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiEventMessageItem",["knownClientsCache",function(t){return{scope:{type:"@unifiEventMessageItemType",id:"@unifiEventMessageItemId",mac:"@unifiEventMessageItemMac",name:"@unifiEventMessageItemName"},require:"^unifiEventMessage",replace:!0,restrict:"E",templateUrl:"partials/eventMessageItem.html",link:function(e,i,n,o){e.type&&e.mac?(e.model=o.getItemModel(e.type,e.mac))||"client"===o.itemTypes[e.type.toLowerCase()]&&(t.repository.registerItem(e.mac).fetchItem(e.mac).then(function(t){e.model=t}),e.$on("$destroy",function(){t.repository.unregisterItem(e.mac)})):e.model=void 0}}}])},{}],318:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<span><a ng-if="model" unifi-open-panel="::model" unifi-open-panel-active-tab="\'details\'">{{(name || model.getDisplayName())}}</a><span class="is-alert-item-disabled" ng-if="!model">{{::type}} {{(name ? name : (mac ? mac : id))}}</span></span>'}},{"pug-runtime":23}],319:[function(t,e,i){"use strict";function n(t,e){this.events=t,this.calendarDate=e(),this.calendarLayout="list",this.filterLevel="",this.filterPeriod="",this.filterType="",this.filterLevelTranslationKeys={"":"CALENDAR_VIEW_LABEL_LEVEL_ALL",danger:"CALENDAR_VIEW_LABEL_LEVEL_DANGER",warning:"CALENDAR_VIEW_LABEL_LEVEL_WARNING",primary:"CALENDAR_VIEW_LABEL_LEVEL_PRIMARY"},this.filterTypeTranslationKeys={"":"CALENDAR_VIEW_LABEL_TYPE_ALL",admin:"CALENDAR_VIEW_LABEL_TYPE_ADMIN",lan:"CALENDAR_VIEW_LABEL_TYPE_LAN",wlan:"CALENDAR_VIEW_LABEL_TYPE_WLAN"}}n.prototype.getCollection=function(){return this.events.repository.collection},n.prototype.showMoreEvents=function(){return this.isFetchingMore=!0,this.events.repository.fetchMore().finally(function(){this.isFetchingMore=!1}.bind(this))},n.prototype.hasMoreEvents=function(){return this.events.repository.collection.length<this.events.repository.collection.getTotalEvents()},n.prototype.getTotalRows=function(){return this.getCollection().getTotalEvents()},n.prototype.isEventsLoading=function(){return this.getCollection().isLoading},n.prototype.setCalendarLayout=function(t,e,i){e&&(this.calendarDate=e),this.filterPeriod=i||"",this.calendarLayout=t},n.prototype.getCalendarLayout=function(){return this.calendarLayout},n.prototype.isCalendarLayout=function(t){return this.calendarLayout===t},n.$inject=["events","moment"],angular.module("app-unifi-manage").controller("EventsCalendarController",n)},{}],320:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiEventsCalendar",[function(){return{controller:"EventsCalendarController",controllerAs:"eventsCalendarCtrl",template:t("./eventsCalendar.pug")()}}])},{"./eventsCalendar.pug":321}],321:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiCalendarView"><div class="appActionBar appActionBar--cozy appActionBar--multiline appActionBar--fixedRight appActionBar--dark appActionBar--transparent noHorizontalPadding verticalRhythm--cozy noBorder"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilter"><unifi-search class="fullWidth" unifi-search-query="eventsCalendarCtrl.filterSearchQuery" unifi-search-is-cozy="true" unifi-search-is-dark="true" unifi-search-is-full-width="true"></unifi-search></div></div><div class="appActionBar__right"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" ng-repeat="view in [\'list\', \'day\', \'week\', \'month\']" ng-click="eventsCalendarCtrl.setCalendarLayout(view)" ng-class="{\'is-button-selected\': eventsCalendarCtrl.isCalendarLayout(view) &amp;&amp; !eventsCalendarCtrl.filterPeriod}"><span class="button__icon icon" ng-class="{              \'ubnt-icon--preferences\': view === \'list\',              \'ubnt-icon--calendar-day\': view === \'day\',              \'ubnt-icon--calendar-week\': view === \'week\',              \'ubnt-icon--calendar-month\': view === \'month\'            }"></span></button></div></div><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--dark appMainButtonGroup--cozy"><li class="button appMainButton appMainButton--cozy" ng-repeat="type in [\'\', \'admin\', \'lan\', \'wlan\']" ng-click="eventsCalendarCtrl.filterType = type" ng-class="{\'is-button-selected\': eventsCalendarCtrl.filterType === type }">{{eventsCalendarCtrl.filterTypeTranslationKeys[type] | translate}}</li></ul></div><div class="appActionBarFilter"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--dark appMainButtonGroup--cozy"><li class="button appMainButton appMainButton--cozy" ng-repeat="level in [\'\', \'danger\', \'warning\', \'primary\']" ng-click="eventsCalendarCtrl.filterLevel = level" ng-class="{\'is-button-selected\': eventsCalendarCtrl.filterLevel === level}"><div class="statusBall appStatusBall appStatusBall--legend" ng-if="level !== \'\'" ng-class="{                    \'appStatusBall--danger\': level === \'danger\',                    \'appStatusBall--warning\': level === \'warning\',                    \'appStatusBall--primary\': level === \'primary\'                  }"></div><span ng-class="{\'visible--smUp\': level !== \'\'}">{{eventsCalendarCtrl.filterLevelTranslationKeys[level] | translate}}</span></li></ul></div></div></div></div></div><div ng-if="eventsCalendarCtrl.getCollection().length &gt; 0" ng-switch="eventsCalendarCtrl.getCalendarLayout()"><unifi-calendar-view-list ng-switch-when="list" unifi-calendar-view-list-collection="eventsCalendarCtrl.getCollection()" unifi-calendar-view-list-calendar-date="eventsCalendarCtrl.calendarDate" unifi-calendar-view-list-filter-level="eventsCalendarCtrl.filterLevel" unifi-calendar-view-list-filter-period="eventsCalendarCtrl.filterPeriod" unifi-calendar-view-list-filter-search-query="eventsCalendarCtrl.filterSearchQuery" unifi-calendar-view-list-filter-type="eventsCalendarCtrl.filterType" unifi-calendar-view-list-local-state="true" unifi-calendar-view-list-local-state-key="\'events\'"></unifi-calendar-view-list><unifi-calendar-view-day ng-switch-when="day" unifi-calendar-view-day-collection="eventsCalendarCtrl.getCollection()" unifi-calendar-view-day-calendar-date="eventsCalendarCtrl.calendarDate" unifi-calendar-view-day-filter-level="eventsCalendarCtrl.filterLevel" unifi-calendar-view-day-filter-search-query="eventsCalendarCtrl.filterSearchQuery" unifi-calendar-view-day-filter-type="eventsCalendarCtrl.filterType" unifi-calendar-view-day-set-calendar-layout="eventsCalendarCtrl.setCalendarLayout(layout, date, period)"></unifi-calendar-view-day><unifi-calendar-view-week ng-switch-when="week" unifi-calendar-view-week-collection="eventsCalendarCtrl.getCollection()" unifi-calendar-view-week-calendar-date="eventsCalendarCtrl.calendarDate" unifi-calendar-view-week-filter-level="eventsCalendarCtrl.filterLevel" unifi-calendar-view-week-filter-search-query="eventsCalendarCtrl.filterSearchQuery" unifi-calendar-view-week-filter-type="eventsCalendarCtrl.filterType" unifi-calendar-view-week-set-calendar-layout="eventsCalendarCtrl.setCalendarLayout(layout, date, period)"></unifi-calendar-view-week><unifi-calendar-view-month ng-switch-when="month" unifi-calendar-view-month-collection="eventsCalendarCtrl.getCollection()" unifi-calendar-view-month-calendar-date="eventsCalendarCtrl.calendarDate" unifi-calendar-view-month-filter-level="eventsCalendarCtrl.filterLevel" unifi-calendar-view-month-filter-search-query="eventsCalendarCtrl.filterSearchQuery" unifi-calendar-view-month-filter-type="eventsCalendarCtrl.filterType" unifi-calendar-view-month-set-calendar-layout="eventsCalendarCtrl.setCalendarLayout(layout, date, period)"></unifi-calendar-view-month></div><div class="unifiCalendarView__busy" ng-if="eventsCalendarCtrl.getCollection().length === 0 &amp;&amp; eventsCalendarCtrl.isEventsLoading()"><div class="appSpinner"></div></div><div class="appInfoBox appInfoBox--cozy appInfoBox--dark appInfoBox--noBorder verticalRhythm--comfy verticalRhythmTop--comfy" ng-if="eventsCalendarCtrl.getCollection().length === 0 &amp;&amp; !eventsCalendarCtrl.isEventsLoading()"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="CALENDAR_VIEW_EMPTY_EVENTS_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="CALENDAR_VIEW_EMPTY_NO_EVENTS"></p></div></div></div><div class="unifiCalendarView__showMore appType--quiet verticalRhythmTop--cozy" ng-if="eventsCalendarCtrl.hasMoreEvents()"><div class="inlineBlock horizontalRhythm--condensed" translate="CALENDAR_VIEW_FETCH_MORE_LABEL" translate-values="{        \'currentLength\': eventsCalendarCtrl.getCollection().length,        \'totalLength\': eventsCalendarCtrl.getTotalRows()      }"></div><button class="appTextButton" ng-click="eventsCalendarCtrl.showMoreEvents()" busy-toggle="eventsCalendarCtrl.isFetchingMore" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'CALENDAR_VIEW_ACTIONS_FETCH_MORE\' | translate}}</button></div></div>'}},{"pug-runtime":23}],322:[function(t,e,i){"use strict";var n=t("../../controllers/EventsLinkController");function o(t){n.call(this,t),this.hasTranslationsLoaded=function(){return t.hasTranslationsLoaded()}}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["eventFrameUtils"],angular.module("app-unifi-manage").controller("EventsSideNavController",o)},{"../../controllers/EventsLinkController":818}],323:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiEventsSideNav",[function(){return{controller:"EventsSideNavController",controllerAs:"eventsSideNavCtrl",replace:!0,restrict:"E",template:t("./eventsSideNav.pug")()}}])},{"./eventsSideNav.pug":324}],324:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="ubntNavigation__item" id="eventsLink" alt="{{::\'COMMON_NAV_EVENTS\' | translate}}" role="link"><div class="appGlobalSideNav__itemTrigger" ng-click="eventsSideNavCtrl.toggleEvents()"></div><aura-icon aura-icon="\'events\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--navigation\']"></aura-icon><div class="ubntTooltip ubntTooltip--navigation" ng-if="!eventsSideNavCtrl.isEventsOpen()" translate="COMMON_NAV_EVENTS"></div><div class="appAccessibilityDescription" translate="COMMON_NAV_EVENTS"></div><div class="appGlobalSideNavPopover appGlobalSideNavPopover--overlay appGlobalSideNavPopover--overlayAura" side-nav-popover-layout="eventsLayout" ng-init="eventsFullScreen = false" ng-class="{\'appGlobalSideNavPopover--fullscreen\': eventsFullScreen}"><div class="appGlobalSideNavPopover__fullscreenIcon visible--smUp" ng-click="eventsFullScreen = !eventsFullScreen"><div class="icon ubnt-icon--fullscreen"></div></div><div class="appGlobalSideNavPopover__inner"><div'+n("side-nav-popover-content",!0,!0,!0)+"></div><div"+n("side-nav-popover-placeholder",!0,!0,!0)+"></div></div></div></div>"};var o=/["&<>]/},{"pug-runtime":23}],325:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("FallbackVlanSelectorController",["frame","networks","NetworkModel","networkUtils",function(t,e,i,o){return new(function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r)}return n(r,[{key:"addEventHandlers",value:function(){this.collectionListeners={networks:e.repository.collection.onEvent("add remove change reset",this.onNetworksChange.bind(this))},this.onNetworksChange()}},{key:"removeEventHandlers",value:function(){var t=this;this.collectionListeners&&Object.keys(this.collectionListeners).forEach(function(e){t.collectionListeners[e].stopListening()})}},{key:"createFallbackVlanNetwork",value:function(){var e=this;return t.show("fallbackVlan",{model:function(){return new i}}).then(function(t){e.dot1xFallbackNetworkconfId=t.get("_id")})}},{key:"onNetworksChange",value:function(){this.nativeNetworks=e.repository.collection.filter(function(t){return-1!==o.nativeNetworkTypes.indexOf(t.get("purpose"))}).sort(function(t,e){return(parseInt(t.get("vlan"))||1)-(parseInt(e.get("vlan"))||1)})}}]),r}())}])},{}],326:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiFallbackVlanSelector",[function(){return{scope:{dot1xFallbackNetworkconfId:"=unifiFallbackVlanSelectorDot1xFallbackNetworkconfId",isRequired:"=unifiFallbackVlanSelectorIsRequired",isBatch:"=unifiFallbackVlanSelectorIsBatch",isReadOnly:"=unifiFallbackVlanSelectorIsReadOnly"},bindToController:!0,controller:"FallbackVlanSelectorController",controllerAs:"fallbackVlanSelectorCtrl",template:t("./fallbackVlanSelector.pug")(),link:function(t,e,i,n){n.addEventHandlers(),t.$on("$destroy",function(){n.removeEventHandlers()}),t.$watch(function(){return n.dot1xFallbackNetworkconfId},function(t){""===t&&(n.dot1xFallbackNetworkconfId=void 0)})}}}])},{"./fallbackVlanSelector.pug":327}],327:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<ng-form name="fallbackVlanSelectorCtrl.form"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><select name="dot1xFallbackNetworkconfId" ng-model="fallbackVlanSelectorCtrl.dot1xFallbackNetworkconfId" ng-options="network.id as network.get(\'name\') for network in fallbackVlanSelectorCtrl.nativeNetworks"><option value="">{{\'SETTINGS_NETWORK_VALUES_NONE\' | translate}}</option></select></div><button class="appMainButton appMainButton--primary appMainButton--condensed" ng-if="!fallbackVlanSelectorCtrl.isReadOnly" type="button" ng-click="fallbackVlanSelectorCtrl.createFallbackVlanNetwork()">{{\'SETTINGS_NETWORK_BUTTON_ADD\' | translate}}</button></div></ng-form>'}},{"pug-runtime":23}],328:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("FirmwareListController",["BasePaginatedListController","$translate","firmware","firmwareAvailable","FirmwareFilter","firmwareUtils","frame","heyToasts","preferences","DEVICE_MODELS",function(t,e,i,o,r,a,s,l,c,u){return new(function(d){function p(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return t.preferences=c,t.rowsPerPage=30,t.defaultSortBy="device",t.isRemoving={},t.isDownloading=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(p,t),n(p,[{key:"getCollection",value:function(){return[o.repository.collection,i.repository.collection]}},{key:"initFilters",value:function(){this.filter=new r,this.updateFilters()}},{key:"updateFilters",value:function(){this.filter.setDevice(this.filterDevice),this.filter.updateSearchQuery(this.filterSearchQuery),this.filter.setState(this.filterState),this.refresh()}},{key:"downloadFirmware",value:function(t){var e=this;return this.isDownloading=!0,a.downloadFirmware(t).then(function(t){return l.pushSuccess(t),!0}).catch(function(t){return l.pushError(t),!1}).finally(function(){e.isDownloading=!1})}},{key:"getDeviceModelName",value:function(t){return u[t]?u[t].name:"UniFi "+t}},{key:"getSizeInMb",value:function(t){return t?(t/1024/1024).toFixed(2):""}},{key:"removeFirmware",value:function(t){var i=this;return s.show("confirm",{title:function(){return e.instant("SETTINGS_MAINTENANCE_FIRMWARE_DELETE_CONFIRM_TITLE")},message:function(){return e.instant("SETTINGS_MAINTENANCE_FIRMWARE_DELETE_CONFIRM_MESSAGE",{device:i.getDeviceModelName(t.get("device")),version:t.get("version")})},options:function(){return{allowHtml:!0}}}).then(function(){return i.isRemoving[t.id]=!0,a.removeFirmware(t).then(function(t){return l.pushSuccess(t),!0}).catch(function(t){return l.pushError(t),!1}).finally(function(){i.isRemoving[t.id]=!1})})}}]),p}())}])},{}],329:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiFirmwareList",["PaginatedListDirective",function(e){var i=new e("firmware",t("./firmwareList.pug")(),{filterDevice:"=unifiFirmwareListFilterDevice",filterState:"=unifiFirmwareListFilterState"});return i.addMixin({init:function(t,e,i,n){t.$watchGroup(["firmwareListCtrl.filterDevice","firmwareListCtrl.filterState"],function(){n.updateFilters()})}}),i}])},{"./firmwareList.pug":330}],330:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="firmwaresTable" collection-view-sort="firmwareListCtrl.view" ng-class="{        \'appTable--dark\': firmwareListCtrl.preferences.model.get(\'isSettingsDark\')      }" unifi-condensed="appTable--condensed"><thead><tr><th class="device" collection-view-sort-by="device"><span translate="SETTINGS_MAINTENANCE_FIRMWARE_TABLE_HEADER_DEVICE"></span></th><th class="size" collection-view-sort-by="size"><span translate="SETTINGS_MAINTENANCE_FIRMWARE_TABLE_HEADER_SIZE_MB"></span></th><th class="version" collection-view-sort-by="version"><span translate="SETTINGS_MAINTENANCE_FIRMWARE_TABLE_HEADER_VERSION"></span></th><th class="firmwareActions"><span translate="SETTINGS_MAINTENANCE_FIRMWARE_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tfoot ng-if="firmwareListCtrl.view.getModels().length"><tr><td colspan="4"><unifi-micro-pagination unifi-micro-pagination-current-page="firmwareListCtrl.currentPage" unifi-micro-pagination-rows-per-page="firmwareListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="firmwareListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in firmwareListCtrl.view.getModels(),          startFrom (firmwareListCtrl.currentPage - 1) * firmwareListCtrl.rowsPerPage,          limitTo firmwareListCtrl.rowsPerPage        " data-id="{{::model.id}}"><td class="device">{{::firmwareListCtrl.getDeviceModelName(model.get(\'device\'))}}</td><td class="size">{{::firmwareListCtrl.getSizeInMb(model.get(\'size\'))}}</td><td class="version">{{::model.get(\'version\')}}</td><td class="firmwareActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-if="::!model.get(\'cached\')" ng-click="firmwareListCtrl.downloadFirmware(model)" ng-disabled="firmwareListCtrl.isDownloading"><span class="button__icon icon ubnt-icon--firmware-download"></span><span translate="SETTINGS_MAINTENANCE_FIRMWARE_ACTIONS_CACHE"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-if="::model.get(\'cached\')" ng-click="firmwareListCtrl.removeFirmware(model)" ng-disabled="firmwareListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!firmwareListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': firmwareListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_MAINTENANCE_FIRMWARE_TABLE_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":23}],331:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiFixCheckUndefined",[function(){return{require:"ngModel",link:function(t,e,i,n){var o=n.$render;n.$render=angular.noop;var r=i.$observe("value",function(){n.$render=o,r()})}}}])},{}],332:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("base-unifi-dashboard").controller("FlexRowModuleController",["groupModuleControllerMixin","BaseModuleController",function(t,e){return new(function(i){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return t(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,e),n(o,[{key:"resolve",value:function(){this.resolveModules()}}]),o}())}])},{}],333:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiFlexRowModule",["ModuleDirective",function(e){return new e("flexRow",t("./flexRowModule.pug")())}])},{"./flexRowModule.pug":334}],334:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--flexRow"><div class="moduleContainer" ng-repeat="module in flexRowModuleCtrl.modules track by module.id" ng-class="[      \'moduleContainer--\' + module.definition.get(\'layout\')    ]" unifi-dynamic-module="module.module" unifi-dynamic-module-definition="module.definition" unifi-dynamic-module-shared-filters="flexRowModuleCtrl.sharedFilters" unifi-dynamic-module-is-loading="module.isLoading"></div></div>'}},{"pug-runtime":23}],335:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"group|flex-row",translationKey:"DASHBOARD_MODULE_DEFINITIONS_FLEXIBLE_ROW",directive:"unifi-flex-row-module",preview:"images/dashboard/placeholder.png",type:"flexible",layout:"full",isHidden:!0}])}])},{}],336:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseCollectionController");function o(t){this.gatewayUtils=t,this.rowLayouts=[],n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onCollectionChange=function(){this.rowLayouts=this.getRowLayouts(),this.portModels={},this.collection&&angular.forEach(this.collection,function(t){this.portModels[t.get("ifname")]=t}.bind(this))},o.prototype.getRowLayouts=function(){return this.gatewayUtils.getDeviceSpecs(this.model).diagram.map(function(t){return t.split(" ").map(function(t){var e=parseInt(t,10);return isFinite(e)?"eth"+e:null})})},o.prototype.getPortModel=function(t){return this.portModels[t]},o.prototype.isDisconnected=function(t){return this.gatewayUtils.isPortDisconnected(t,this.model)},o.prototype.portIcon=function(t){return this.gatewayUtils.getPortIcon(t,this.model)},o.$inject=["gatewayUtils"],angular.module("app-unifi-manage").controller("GatewayDiagramController",o)},{}],337:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiGatewayDiagram",[function(){return{scope:{model:"=unifiGatewayDiagramModel"},controller:"GatewayDiagramController",controllerAs:"gatewayDiagramCtrl",bindToController:!0,replace:!0,template:t("./gatewayDiagram.pug")(),link:function(t,e,i,n){t.$watch(function(){return n.model?n.model.get("port_table"):void 0},function(t){n.updateCollection(t)}),t.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./gatewayDiagram.pug":338}],338:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+="<div class=\"unifiDevicePortDiagram\" ng-class=\"{    'unifiDevicePortDiagram--gateway3': gatewayDiagramCtrl.model.get('model') === 'UGW3',    'unifiDevicePortDiagram--gateway4': gatewayDiagramCtrl.model.get('model') === 'UGW4',    'unifiDevicePortDiagram--gatewayxg': gatewayDiagramCtrl.model.get('model') === 'UGWXG'  }\"><div class=\"unifiDevicePortDiagramRow\" ng-if=\"gatewayDiagramCtrl.rowLayouts\" ng-repeat=\"rowLayout in gatewayDiagramCtrl.rowLayouts track by $index\" ng-class=\"{      'unifiDevicePortDiagramRow--top': $first,      'unifiDevicePortDiagramRow--bottom': $last    }\"><div class=\"unifiDevicePortDiagramPort\" ng-repeat=\"portId in rowLayout\"><div class=\"unifiPortDiagramContainer\" ng-class=\"{          'is-disconnected': !!portId &amp;&amp; gatewayDiagramCtrl.isDisconnected(portId),          'is-ledColorWhite': !!portId &amp;&amp; gatewayDiagramCtrl.getPortModel(portId).get('up') &amp;&amp; gatewayDiagramCtrl.getPortModel(portId).get('speed') === 10000,          'is-ledColorGreen': !!portId &amp;&amp; gatewayDiagramCtrl.getPortModel(portId).get('up') &amp;&amp; gatewayDiagramCtrl.getPortModel(portId).get('speed') === 1000,          'is-ledColorAmber': !!portId &amp;&amp; gatewayDiagramCtrl.getPortModel(portId).get('up') &amp;&amp; (gatewayDiagramCtrl.getPortModel(portId).get('speed') === 100 || gatewayDiagramCtrl.getPortModel(portId).get('speed') === 10),          'is-spacer': !portId        }\"><div class=\"unifiPortDiagramPort\"><img class=\"unifiPortDiagramPort__icon\" ng-if=\"gatewayDiagramCtrl.portIcon(portId)\" ng-src=\"{{'images/diagrams/' + gatewayDiagramCtrl.portIcon(portId) + '.svg'}}\"><img class=\"unifiPortDiagramPort__state\" src=\"images/diagrams/port-spacer.png\"></div></div></div></div></div>"}},{"pug-runtime":23}],339:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiGatewayDiagramKeys",["gatewayUtils",function(e){return{replace:!0,scope:{model:"=unifiGatewayDiagramKeysModel"},template:t("./gatewayDiagramKeys.pug")(),link:function(t){var i=t.$watch("model",function(n){n&&(t.isSfpPlusSupported=e.isSfpPlusSupported(n),i())})}}}])},{"./gatewayDiagramKeys.pug":340}],340:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiDiagramKeys"><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem unifiDiagramKeysItem--disabled"><div class="unifiDiagramKeysItem__color"></div><div class="unifiDiagramKeysItem__text" translate="DEVICE_PORT_STATE_DISABLED"></div></div></div><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem unifiDiagramKeysItem--disconnected"><div class="unifiDiagramKeysItem__color"></div><div class="unifiDiagramKeysItem__text" translate="DEVICE_PORT_STATE_DISCONNECTED"></div></div></div><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem unifiDiagramKeysItem--ledColorWhite" ng-if="isSfpPlusSupported"><div class="unifiDiagramKeysItem__color"></div><div class="unifiDiagramKeysItem__text noTextTransform" translate="DEVICE_PORT_STATE_10000"></div></div></div><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem unifiDiagramKeysItem--ledColorGreen"><div class="unifiDiagramKeysItem__color"></div><div class="unifiDiagramKeysItem__text noTextTransform" translate="DEVICE_PORT_STATE_1000"></div></div></div><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem unifiDiagramKeysItem--ledColorAmber"><div class="unifiDiagramKeysItem__color"></div><div class="unifiDiagramKeysItem__text noTextTransform" translate="DEVICE_PORT_STATE_100"></div></div></div></div>'}},{"pug-runtime":23}],341:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("HealthBarModuleController",["BaseModuleController","resolveRepositoryGroupControllerMixin","siteHealth","SITE_HEALTH",function(t,e,i,o){return new(function(r){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t.isLoading=!0,t.siteHealth=i,t.repositories=["siteHealth"],t.ICON_MAP=o.ICON_MAP,t.ATTR_MAP=o.ATTR_MAP,t.STATUS_MAP_DEFAULT=o.STATUS_MAP,t.STATUS_MAP_WWW=angular.extend({},o.STATUS_MAP,{ok:"primary"}),e(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),n(a,[{key:"destroy",value:function(){this.unregister()}}]),a}())}])},{}],342:[function(t,e,i){"use strict";function n(t,e){this.siteHealth=t,this.ICON_MAP=e.ICON_MAP,this.ATTR_MAP=e.ATTR_MAP,this.STATUS_MAP_DEFAULT=e.STATUS_MAP,this.STATUS_MAP_WWW=angular.extend({},e.STATUS_MAP,{ok:"primary"})}n.$inject=["siteHealth","SITE_HEALTH"],angular.module("app-unifi-manage").controller("HealthBarModuleStickyController",n)},{}],343:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiHealthBarModule",["ModuleDirective",function(e){return new e("healthBar",t("./healthBarModule.pug")())}])},{"./healthBarModule.pug":344}],344:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--healthBar"><div class="moduleContent"><unifi-loading-module unifi-loading-module-loader="healthBarModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="healthBarModuleCtrl.isLoading" unifi-loading-module-failed="healthBarModuleCtrl.failedToLoad" unifi-loading-module-retry="healthBarModuleCtrl.retry()" unifi-loading-module-layout="healthBarModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div class="unifiHealthBarContainer" ng-if="!healthBarModuleCtrl.isLoading"><div class="unifiHealthBar unifiHealthBar--www" ng-if="model = healthBarModuleCtrl.siteHealth.repository.collection.get(\'www\')"><div class="unifiHealthBarIcon icon" ng-class="[            \'unifiHealthBarIcon--\' + (healthBarModuleCtrl.STATUS_MAP_WWW[model.get(\'status\')] || \'disabled\'),            healthBarModuleCtrl.ICON_MAP.www          ]"></div><div class="unifiHealthBarCount unifiHealthBarCount--text" ng-class="\'unifiHealthBarCount--\' + (model.has(\'latency\') ? \'primary\' : \'static\')"><div class="unifiHealthBarCountLabel" translate="DASHBOARD_MODULE_NETWORK_HEALTH_LATENCY"></div><div class="unifiHealthBarCountValue unifiHealthBarCountValue--text">{{model.has(\'latency\') ? model.get(\'latency\') + \' msec\' : (\'COMMON_NOT_AVAILABLE\' | translate)}}</div></div><div class="unifiHealthBarCount unifiHealthBarCount--primary" ng-class="\'unifiHealthBarCount--\' + (model.has(\'tx_bytes-r\') ? \'primary\' : \'static\')"><div class="unifiHealthBarCountLabel" translate="DASHBOARD_MODULE_NETWORK_HEALTH_THROUGHPUT_TX"></div><div class="unifiHealthBarCountValue unifiHealthBarCountValue--text">{{model.get(\'tx_bytes-r\') || 0 | bps:{convertFromBytes: true} }}</div></div><div class="unifiHealthBarCount unifiHealthBarCount--primary" ng-class="\'unifiHealthBarCount--\' + (model.has(\'rx_bytes-r\') ? \'primary\' : \'static\')"><div class="unifiHealthBarCountLabel" translate="DASHBOARD_MODULE_NETWORK_HEALTH_THROUGHPUT_RX"></div><div class="unifiHealthBarCountValue unifiHealthBarCountValue--text">{{model.get(\'rx_bytes-r\') || 0 | bps:{convertFromBytes: true} }}</div></div></div><div class="unifiHealthBar" ng-if="model = healthBarModuleCtrl.siteHealth.repository.collection.get(section)" ng-class="\'unifiHealthBar--\' + section" ng-repeat="section in [\'wan\', \'lan\', \'wlan\']"><div class="unifiHealthBarIcon icon" ng-class="[            \'unifiHealthBarIcon--\' + (healthBarModuleCtrl.STATUS_MAP_DEFAULT[model.get(\'status\')] || \'disabled\'),            healthBarModuleCtrl.ICON_MAP[section]          ]"></div><div class="unifiHealthBarCount" ng-repeat="statType in [\'active\', \'pending\', \'inactive\']" ng-init="attr = healthBarModuleCtrl.ATTR_MAP[section][statType]" ng-class="\'unifiHealthBarCount--\' + (model.get(attr) ? statType : \'static\')"><div class="unifiHealthBarCountLabel">{{\'DASHBOARD_MODULE_NETWORK_HEALTH_\' + statType | toTranslationKey | translate}}</div><div class="unifiHealthBarCountValue unifiHealthBarCountValue--number">{{model.get(attr) || 0}}</div></div></div></div></div></div>'}},{"pug-runtime":23}],345:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"health|bar",translationKey:"DASHBOARD_MODULE_DEFINITIONS_NETWORK_HEALTH",directive:"unifi-health-bar-module",preview:"images/dashboard/health-bar.png",layout:"full",attrs:{isSticky:!0},isHidden:!0}])}])},{}],346:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiHealthBarModuleSticky",[function(){return{scope:{module:"=?unifiHealthBarModuleSticky",definition:"=?unifiHealthBarModuleStickyDefinition",isLoading:"=?unifiHealthBarModuleStickyIsLoading"},controller:"HealthBarModuleStickyController",controllerAs:"healthBarModuleStickyCtrl",template:t("./healthBarModuleSticky.pug")()}}])},{"./healthBarModuleSticky.pug":347}],347:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+="<div class=\"module module--healthBarSticky is-sticky\"><div class=\"moduleContent noHorizontalPadding\"><div class=\"unifiHealthBarStickyContainer\"><div class=\"unifiHealthBarSticky unifiHealthBarSticky--www\" ng-if=\"model = healthBarModuleStickyCtrl.siteHealth.repository.collection.get('www')\"><div class=\"unifiHealthBarStickyIcon icon\" ng-class=\"[            'unifiHealthBarIcon--' + (healthBarModuleStickyCtrl.STATUS_MAP_WWW[model.get('status')] || 'disabled'),            healthBarModuleStickyCtrl.ICON_MAP.www          ]\"></div><div class=\"unifiHealthBarStickyCount unifiHealthBarStickyCount--text\" ng-class=\"'unifiHealthBarStickyCount--' + (model.has('latency') ? 'primary' : 'static')\"><div class=\"unifiHealthBarStickyCountValue unifiHealthBarStickyCountValue--text\">{{model.has('latency') ? model.get('latency') + ' msec' : ('COMMON_NOT_AVAILABLE' | translate)}}</div></div><div class=\"unifiHealthBarStickyCount unifiHealthBarStickyCount--primary\" ng-class=\"'unifiHealthBarStickyCount--' + (model.has('tx_bytes-r') ? 'primary' : 'static')\"><div class=\"unifiHealthBarStickyCountValue unifiHealthBarStickyCountValue--text\">{{model.get('tx_bytes-r') || 0 | bps:{convertFromBytes: true} }}</div></div><div class=\"unifiHealthBarStickyCount unifiHealthBarStickyCount--primary\" ng-class=\"'unifiHealthBarStickyCount--' + (model.has('rx_bytes-r') ? 'primary' : 'static')\"><div class=\"unifiHealthBarStickyCountValue unifiHealthBarStickyCountValue--text\">{{model.get('rx_bytes-r') || 0 | bps:{convertFromBytes: true} }}</div></div></div><div class=\"unifiHealthBarSticky\" ng-if=\"model = healthBarModuleStickyCtrl.siteHealth.repository.collection.get(section)\" ng-class=\"'unifiHealthBarSticky--' + section\" ng-repeat=\"section in ['wan', 'lan', 'wlan']\"><div class=\"unifiHealthBarStickyIcon icon\" ng-class=\"[            'unifiHealthBarStickyIcon--' + (healthBarModuleStickyCtrl.STATUS_MAP_DEFAULT[model.get('status')] || 'disabled'),            healthBarModuleStickyCtrl.ICON_MAP[section]          ]\"></div><div class=\"unifiHealthBarStickyCount\" ng-repeat=\"statType in ['active', 'pending', 'inactive']\" ng-init=\"attr = healthBarModuleStickyCtrl.ATTR_MAP[section][statType]\" ng-class=\"'unifiHealthBarStickyCount--' + (model.get(attr) ? statType : 'static')\"><div class=\"unifiHealthBarStickyCountValue unifiHealthBarStickyCountValue--number\">{{model.get(attr) || 0}}</div></div></div></div></div></div>"}},{"pug-runtime":23}],348:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiHexColorInput",["tinycolor",function(t){return{restrict:"A",require:"ngModel",link:function(e,i,n,o){o.$formatters.push(function(e){var i=(e||"").replace(/^#/,""),n=!0;return e&&(n=t(e).isValid()),o.$setValidity("color",n),i}),o.$parsers.push(function(e){var i=e?"#"+e:void 0,n=!0;return e&&((n=t(i).isValid())||(i=void 0)),o.$setValidity("color",n),i})}}}])},{}],349:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiHighlightedTextarea",[function(){return{link:function(t,e){t.back=e.find(".highlighted--back"),t.textarea=e.find(".highlighted--textarea");t.textarea.on({scroll:function(){t.back.scrollTop(t.textarea.scrollTop()),t.back.scrollLeft(t.textarea.scrollLeft())}})}}}])},{}],350:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiIfAdvancedFeatures",["featureFlag","settings","ngIfDirective",function(t,e,i){var n=i[0];return{transclude:n.transclude,priority:n.priority,terminal:n.terminal,restrict:n.restrict,$$tlb:n.$$tlb,link:function(t,i,o){o.ngIf=function(){var i=e.getSettingFromKey("mgmt"),n=!!i&&i.get("advanced_feature_enabled"),r=!1===t.$eval(o.unifiIfAdvancedFeatures),a=t.$eval(o.unifiIfAdvancedFeaturesAnd);return(r?!n:n)&&(void 0===o.unifiIfAdvancedFeaturesAnd||a)},n.link.apply(n,arguments)}}}])},{}],351:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiIframePostMessage",["postMessage",function(t){return{scope:{model:"=unifiIframePostMessage"},link:function(e,i){var n=i[0].contentWindow,o=function(i){!0===i.appLoaded&&t.send(n,e.model)};t.registerListener(o),e.$watch("model",function(e){t.send(n,e)},!0),e.$on("$destroy",function(){t.unregisterListener(o)})}}}])},{}],352:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiIndeterminateCheckbox",[function(){return{restrict:"A",link:function(t,e,i){t.$watch(i.unifiIndeterminateCheckbox,function(t){e[0].indeterminate=t})}}}])},{}],353:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("InternetConnectionModuleController",["$translate","$filter","binaryPrefix","dashboardStats","gatewayUtils","BaseModuleController","moment","objectUtils","resolveRepositoryGroupControllerMixin","settings","toggleDropdownControllerMixin",function(t,e,i,o,r,a,s,l,c,u,d){return new(function(p){function f(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return d(t),t.isNumber=angular.isNumber,t.granularity=o.repository.collection.getGranularity(),t.repositories=["dashboardStats","settings"],t.commonChartConfig={dataMarkEvent:"THROUGHPUT_GRAPH_DATA_MARK_EVENT",margin:{left:45,top:5,bottom:15,right:1},xProperty:"time",xAxisPadding:0,xAxisTickSize:2,xAxisTickResolution:s.duration(60,"minute").asMilliseconds(),left:{interpolate:"curveMonotoneX",type:"plot"}},t.DOWNLOAD="download",t.UPLOAD="upload",c(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(f,a),n(f,[{key:"init",value:function(){a.prototype.init.call(this).then(function(){this.failedToLoad||this.collectDashboardStats()}.bind(this)),this.dashboardStatsListener=o.repository.collection.onEvent("update",this.collectDashboardStats.bind(this),{leading:!1}),this.settingsListener=u.repository.collection.onEvent("update",this.collectDashboardStats.bind(this),{leading:!1}),this.commonChartConfig.left.yAxisFormat=function(t){return parseFloat(t.toPrecision(3))},this.commonChartConfig.xAxisFormat=function(i,n,o){var r=Math.ceil((o.xScaleDomain[1]-o.xScaleDomain[0])/o.xAxisTickResolution);switch(n){case 0:return"24 "+e("uppercase")(t.instant("DATETIME_HOURS_ABR"));case Math.floor(r/2):return"12 "+e("uppercase")(t.instant("DATETIME_HOURS_ABR"));case r:return e("uppercase")(t.instant("DATETIME_NOW"));default:return""}}.bind(this),this.downloadConfig=l.deepInherit(this.commonChartConfig),this.downloadConfig.left.yAxisLabel=function(){return t.instant("DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT_Y_AXIS_LABEL",{prefix:this.downloadUnit})}.bind(this),this.downloadConfig.left.yProperty=["download","theoreticalDownloadCapacity"],this.uploadConfig=l.deepInherit(this.commonChartConfig),this.uploadConfig.left.yAxisLabel=function(){return t.instant("DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT_Y_AXIS_LABEL",{prefix:this.uploadUnit})}.bind(this),this.uploadConfig.left.yProperty=["upload","theoreticalUploadCapacity"],this.latencyConfig=l.deepInherit(this.commonChartConfig),this.latencyConfig.left.yAxisLabel=function(){return t.instant("DASHBOARD_MODULE_INTERNET_CONNECTION_LATENCY_Y_AXIS_LABEL")}.bind(this),this.latencyConfig.left.yProperty=["latencyMs"]}},{key:"destroy",value:function(){a.prototype.destroy.call(this),this.unregister(),this.dashboardStatsListener.stopListening(),this.settingsListener.stopListening()}},{key:"onConfigChange",value:function(){this.chartConfig=this[this.config.direction.toLowerCase()+"Config"],this.collectDashboardStats()}},{key:"updateDirection",value:function(t){this.config.direction=t,this.isEditingAllowed&&this.updateConfig()}},{key:"parseBytes",value:function(t){return i.parse(t)}},{key:"updateTheoreticalCapacity",value:function(){var t=u.getSettingFromKey("provider_capabilities");this.theoreticalDownload=t&&1024*t.get("download")||0,this.downloadConfig.left.yProperty=this.theoreticalDownload>0?["download","theoreticalDownloadCapacity"]:["download"],this.theoreticalUpload=t&&1024*t.get("upload")||0,this.uploadConfig.left.yProperty=this.theoreticalUpload>0?["upload","theoreticalUploadCapacity"]:["upload"]}},{key:"collectDashboardStats",value:function(){if(this.updateTheoreticalCapacity(),this.commonChartConfig.hideInfoBox=!r.hasSiteGateway(),this.data=o.getChartData(),this.data.notEmpty){this.data.entries.shift();var t=Math.max.apply(Math,this.data.entries.map(function(t){return t.download}).concat([this.theoreticalDownload||0])),e=Math.max.apply(Math,this.data.entries.map(function(t){return t.upload}).concat([this.theoreticalUpload||0]));this.downloadUnit=i.parse(t).prefix,this.uploadUnit=i.parse(e).prefix,this.data.entries=this.data.entries.map(function(t){var e={download:t.download,upload:t.upload,maxDownload:t.maxDownload,maxUpload:t.maxUpload};return{time:t.time,latencyMs:t.latencyMs,raw:e,download:i.normalizeToPrefix(this.downloadUnit,e.download),maxDownload:i.normalizeToPrefix(this.downloadUnit,e.maxDownload),upload:i.normalizeToPrefix(this.uploadUnit,e.upload),maxUpload:i.normalizeToPrefix(this.uploadUnit,e.maxUpload),theoreticalDownloadCapacity:i.normalizeToPrefix(this.downloadUnit,this.theoreticalDownload),theoreticalUploadCapacity:i.normalizeToPrefix(this.uploadUnit,this.theoreticalUpload)}},this),this.commonChartConfig.xScaleDomain=[this.data.entries[0].time-this.commonChartConfig.xAxisTickResolution/2,this.data.entries[this.data.entries.length-1].time+this.commonChartConfig.xAxisTickResolution/2]}else this.commonChartConfig.xScaleDomain=[],this.commonChartConfig.xScaleDomain[1]=s().format("x"),this.commonChartConfig.xScaleDomain[0]=s().subtract(25,"hour").format("x")}},{key:"markItem",value:function(t){this.focusedData=this.data.entries&&this.data.entries.find(function(e){return e.time===t})||this.focusedData}},{key:"isAvailable",value:function(){return r.hasSiteGateway()}}]),f}())}])},{}],354:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiInternetConnectionModule",["ModuleDirective",function(e){var i=new e("internetConnection",t("./internetConnectionModule.pug")());return i.addMixin({init:function(t,e,i,n){t.$on(n.commonChartConfig.dataMarkEvent,function(t,e){n.markItem(e)}),t.$watchCollection(function(){return[n.config.direction,n.config.type]},function(){n.onConfigChange()})}}),i}])},{"./internetConnectionModule.pug":355}],355:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module unifiInternetConnectionModule" ng-class="{\'is-editing\': internetConnectionModuleCtrl.isEditingVisible &amp;&amp; !internetConnectionModuleCtrl.isLoading}"><div class="moduleContent"><div class="moduleHeader moduleHeader--withLineChart"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle">{{internetConnectionModuleCtrl.definition.get(\'translationKey\') | translate}}</div><div class="modularSubHeading moduleHeaderDropdown" ng-if="!internetConnectionModuleCtrl.isLoading &amp;&amp; internetConnectionModuleCtrl.isAvailable() &amp;&amp; internetConnectionModuleCtrl.config.type !== \'latency\'" ng-click="!internetConnectionModuleCtrl.isEditingModules &amp;&amp; internetConnectionModuleCtrl.toggleDropdown()" on-outside-element-click="internetConnectionModuleCtrl.closeDropdown()"><span>{{internetConnectionModuleCtrl.config.direction === internetConnectionModuleCtrl.DOWNLOAD ? \'DASHBOARD_MODULE_INTERNET_CONNECTION_DOWNLOAD\' : \'DASHBOARD_MODULE_INTERNET_CONNECTION_UPLOAD\' | translate}}</span><ul class="appDropdown appDropdown--left appDropdown--inButton noMarginBottom" ng-class="{\'is-dropdown-visible\': internetConnectionModuleCtrl.isDropdownVisible}"><li class="appDropdown__item" ng-click="internetConnectionModuleCtrl.updateDirection(internetConnectionModuleCtrl.DOWNLOAD);internetConnectionModuleCtrl.closeDropdown();">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_DOWNLOAD\' | translate}}</li><li class="appDropdown__item" ng-click="internetConnectionModuleCtrl.updateDirection(internetConnectionModuleCtrl.UPLOAD);internetConnectionModuleCtrl.closeDropdown();">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_UPLOAD\' | translate}}</li></ul></div><div class="modularSubHeading modularSubHeading--secondary moduleHeaderLegend"><div class="moduleHeaderLegendItem" ng-if="internetConnectionModuleCtrl.config.type === \'throughput\'"><div class="appIconText iconText iconText--theoreticalCapacity"><div class="iconText__icon ubnt-icon--minus"></div></div><div class="moduleHeaderLegendLabel">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_THEORETICAL_CAPACITY\' | translate}}</div></div><div class="moduleHeaderLegendItem" ng-if="internetConnectionModuleCtrl.config.type === \'throughput\'"><div class="appIconText iconText--throughput"><div class="iconText__icon ubnt-icon--minus"></div></div><div class="moduleHeaderLegendLabel">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT\' | translate}}</div></div><div class="moduleHeaderLegendItem" ng-if="internetConnectionModuleCtrl.config.type === \'latency\'"><div class="appIconText iconText--cozy iconText--small iconText--latency"><div class="iconText__icon ubnt-icon--minus"></div></div><div class="moduleHeaderLegendLabel">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_LATENCY\' | translate}}</div></div></div></div><unifi-loading-module unifi-loading-module-loader="internetConnectionModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="internetConnectionModuleCtrl.isLoading" unifi-loading-module-failed="internetConnectionModuleCtrl.failedToLoad" unifi-loading-module-retry="internetConnectionModuleCtrl.retry()" unifi-loading-module-layout="internetConnectionModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !internetConnectionModuleCtrl.isLoading,        \'animated fadeOut\': internetConnectionModuleCtrl.isLoading      }"><div ng-if="!internetConnectionModuleCtrl.isLoading &amp;&amp; internetConnectionModuleCtrl.isAvailable()"><ng-d3-svg-pattern ng-d3-svg-pattern-id="unifiInternetConnection__throughputShadow" ng-d3-svg-pattern-type="shadow" ng-d3-svg-pattern-options="{ weight: 4, offset: {x: 0, y:3}, color: \'#139ee2\', opacity: 0.7 }"></ng-d3-svg-pattern><ng-d3-svg-pattern ng-d3-svg-pattern-id="unifiInternetConnection__theoreticalCapacityShadow" ng-d3-svg-pattern-type="shadow" ng-d3-svg-pattern-options="{ weight: 4, offset: {x: 0, y: 3}, filter: {filterUnits: \'userSpaceOnUse\', width: 2000, height: 2000}, color: \'#7cd31f\', opacity: 0.7 }"></ng-d3-svg-pattern><unifi-line-chart-with-tooltip ng-if="internetConnectionModuleCtrl.config.type === \'latency\'" unifi-line-chart-with-tooltip-config="internetConnectionModuleCtrl.latencyConfig" unifi-line-chart-with-tooltip-data="internetConnectionModuleCtrl.data.entries"><div class="unifiChartTooltipHeader verticalRhythmQuarter">{{internetConnectionModuleCtrl.focusedData.time | statsTimeRange: internetConnectionModuleCtrl.granularity}}</div><div class="unifiChartTooltipBody"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder" ng-if="!internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.latencyMs)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT_NO_DATA_AVAILABLE\' | translate}}</p></div></div></div><div class="verticalRhythmQuarter" ng-if="internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.latencyMs)"><div class="unifiChartTooltipBody__title">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_LATENCY\' | translate}}</div></div><div class="verticalRhythm" ng-if="internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.latencyMs)"><div class="unifiChartTooltipBody__number"><strong>{{internetConnectionModuleCtrl.focusedData.latencyMs | latency}}</strong>{{\'COMMON_LATENCY_UNIT\' | translate}}</div></div></div></unifi-line-chart-with-tooltip><unifi-line-chart-with-tooltip ng-if="internetConnectionModuleCtrl.config.type === \'throughput\'" unifi-line-chart-with-tooltip-config="internetConnectionModuleCtrl.chartConfig" unifi-line-chart-with-tooltip-data="internetConnectionModuleCtrl.data.entries"><div class="unifiChartTooltipHeader verticalRhythmQuarter">{{internetConnectionModuleCtrl.focusedData.time | statsTimeRange: internetConnectionModuleCtrl.granularity}}</div><div class="unifiChartTooltipBody" ng-if="internetConnectionModuleCtrl.config.direction === internetConnectionModuleCtrl.DOWNLOAD"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder" ng-if="!internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.download) &amp;&amp; !internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.latencyMs)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT_NO_DATA_AVAILABLE\' | translate}}</p></div></div></div><div class="verticalRhythmQuarter" ng-if="internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.download) || internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.maxDownload)"><div class="unifiChartTooltipBody__title">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_AVG_AND_MAX_THROUGHPUT\' | translate}}</div></div><div class="verticalRhythmQuarter" ng-if="internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.download) || internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.maxDownload)"><div class="unifiChartTooltipBody__number"><strong>{{internetConnectionModuleCtrl.parseBytes(internetConnectionModuleCtrl.focusedData.raw.download).value}}</strong>{{internetConnectionModuleCtrl.parseBytes(internetConnectionModuleCtrl.focusedData.raw.download).prefix}}{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT_BPS\' | translate}}\n/&nbsp;<strong>{{internetConnectionModuleCtrl.parseBytes(internetConnectionModuleCtrl.focusedData.raw.maxDownload).value}}</strong>{{internetConnectionModuleCtrl.parseBytes(internetConnectionModuleCtrl.focusedData.raw.maxDownload).prefix}}{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT_BPS\' | translate}}</div></div><div class="verticalRhythmQuarter" ng-if="internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.latencyMs)"><div class="unifiChartTooltipBody__title">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_LATENCY\' | translate}}</div></div><div class="noPadding" ng-if="internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.latencyMs)"><div class="unifiChartTooltipBody__number"><strong>{{internetConnectionModuleCtrl.focusedData.latencyMs | latency}}</strong>{{\'COMMON_LATENCY_UNIT\' | translate}}</div></div></div><div class="unifiChartTooltipBody" ng-if="internetConnectionModuleCtrl.config.direction === internetConnectionModuleCtrl.UPLOAD"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder" ng-if="!internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.upload) &amp;&amp; !internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.latencyMs)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT_NO_DATA_AVAILABLE\' | translate}}</p></div></div></div><div class="verticalRhythmQuarter" ng-if="internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.upload) || internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.maxUpload)"><div class="unifiChartTooltipBody__title">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_AVG_AND_MAX_THROUGHPUT\' | translate}}</div></div><div class="verticalRhythmQuarter" ng-if="internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.upload) || internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.maxUpload)"><div class="unifiChartTooltipBody__number"><strong>{{internetConnectionModuleCtrl.parseBytes(internetConnectionModuleCtrl.focusedData.raw.upload).value}}</strong>{{internetConnectionModuleCtrl.parseBytes(internetConnectionModuleCtrl.focusedData.raw.upload).prefix}}{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT_BPS\' | translate}}\n/&nbsp;<strong>{{internetConnectionModuleCtrl.parseBytes(internetConnectionModuleCtrl.focusedData.raw.maxUpload).value}}</strong>{{internetConnectionModuleCtrl.parseBytes(internetConnectionModuleCtrl.focusedData.raw.maxUpload).prefix}}{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT_BPS\' | translate}}</div></div><div class="verticalRhythmQuarter" ng-if="internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.latencyMs)"><div class="unifiChartTooltipBody__title">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_LATENCY\' | translate}}</div></div><div class="noPadding" ng-if="internetConnectionModuleCtrl.isNumber(internetConnectionModuleCtrl.focusedData.latencyMs)"><div class="unifiChartTooltipBody__number"><strong>{{internetConnectionModuleCtrl.focusedData.latencyMs | latency}}</strong>{{\'COMMON_LATENCY_UNIT\' | translate}}</div></div></div></unifi-line-chart-with-tooltip></div><unifi-unavailable-module ng-if="!internetConnectionModuleCtrl.isLoading &amp;&amp; !internetConnectionModuleCtrl.isAvailable()" unifi-unavailable-module-icon="\'ubnt-icon--shield\'" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_INTERNET_CONNECTION_UNAVAILABLE\'"></unifi-unavailable-module></div></div><div class="moduleEditor" ng-if="internetConnectionModuleCtrl.isEditing"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--dark modularSubHeading--clipped moduleHeaderTitle">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION\' | translate}}</div></div><div class="moduleControls"><div class="moduleControlIcon moduleControlIcon--cancelEdit primary icon ubnt-icon--flip-horizontal" ng-click="internetConnectionModuleCtrl._isEditing = false"></div></div><div class="moduleEditorForm"><form class="appForm appForm--cozy appForm--dark"><div class="appRow appRow--comfy"><div class="col--xs5"><label class="appLabel--primary">{{\'DASHBOARD_MODULE_INTERNET_CONNECTION_TYPE\' | translate}}</label></div><div class="col--xs7"><ol class="list list--inline appInputList"><li class="appInputGroup appInputGroup--cozy"><input type="radio" name="type" id="throughput{{directiveId}}" ng-model="internetConnectionModuleCtrl.config.type" value="throughput"><label for="throughput{{directiveId}}" translate="DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT"></label></li><li class="appInputGroup appInputGroup--cozy"><input type="radio" name="type" id="latency{{directiveId}}" ng-model="internetConnectionModuleCtrl.config.type" value="latency"><label for="latency{{directiveId}}" translate="DASHBOARD_MODULE_INTERNET_CONNECTION_LATENCY"></label></li></ol></div></div></form></div></div></div>'}},{"pug-runtime":23}],356:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"internet-connection",translationKey:"DASHBOARD_MODULE_DEFINITIONS_INTERNET_CONNECTION",directive:"unifi-internet-connection-module",preview:"images/dashboard/line-chart.png",layout:"double",attrs:{isEditable:!0,defaultConfig:{direction:"download",type:"throughput"}},requirements:{deviceType:"ugw"}}])}])},{}],357:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("IpsMapModuleController",["gatewayUtils",function(t){return new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){}},{key:"isAvailable",value:function(){return t.hasSiteGateway()}}]),e}())}])},{}],358:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiIpsMapModule",["$q","dynamicModules","ipsEvents","ModuleDirective","translateResolver","DATE_RANGE_PRESETS",function(e,i,n,o,r,a){var s=new o("ipsMap",t("./ipsMapModule.pug")());return s.addMixin({init:function(t,o,s,l){l.isLoading=!0,e.all([i.load("ips"),r.resolve("countries","ips")]).then(function(){l.isLoading=!1}),(a.LAST_24H.start!==n.repository.collection.start&&a.LAST_24H.end!==n.repository.collection.end||!n.repository.collection.fetched)&&(n.repository.collection.setDateInterval(a.LAST_24H.start,a.LAST_24H.end),n.repository.refresh())}}),s}])},{"./ipsMapModule.pug":359}],359:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module unifiRetryRateModule"><div class="moduleContent moduleContent--flexible"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle">{{ipsMapModuleCtrl.definition.get(\'translationKey\') | translate}}</div></div><unifi-loading-module unifi-loading-module-loader="ipsMapModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="ipsMapModuleCtrl.isLoading" unifi-loading-module-failed="ipsMapModuleCtrl.failedToLoad" unifi-loading-module-retry="ipsMapModuleCtrl.retry()" unifi-loading-module-layout="ipsMapModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div class="moduleContentStretched positionRelative" ng-if="!ipsMapModuleCtrl.isLoading &amp;&amp; ipsMapModuleCtrl.isAvailable()"><unifi-ips-map></unifi-ips-map><unifi-ips-real-time-threats></unifi-ips-real-time-threats></div><unifi-unavailable-module ng-if="!ipsMapModuleCtrl.isLoading &amp;&amp; !ipsMapModuleCtrl.isAvailable()" unifi-unavailable-module-icon="\'ubnt-icon--shield\'" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_IPS_MAP_UNAVAILABLE\'"></unifi-unavailable-module></div></div>'}},{"pug-runtime":23}],360:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"ips-map",translationKey:"DASHBOARD_MODULE_DEFINITIONS_IPS_MAP",directive:"unifi-ips-map-module",preview:"images/dashboard/dot-chart.png",layout:"full"}])}])},{}],361:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("IpsSuppressListController",["BasePaginatedListController","ipsEvents","preferences",function(t,e,i){return new(function(o){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.preferences=i,t.rowsPerPage=10,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,t),n(r,[{key:"addSuppression",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({alert:t,category:t.getAlertCategoryKey()})}},{key:"getCollection",value:function(){return e.repository.collection}}]),r}())}])},{}],362:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiIpsSuppressList",["PaginatedListDirective",function(e){return new e("ipsSuppress",t("./ipsSuppressList.pug")(),{onEdit:"&unifiIpsSuppressListOnEdit"})}])},{"./ipsSuppressList.pug":363}],363:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="flexFlag__body"><table class="verticalRhythm--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" ng-class="{\'appTable--dark\': ipsSuppressListCtrl.preferences.model.get(\'isSettingsDark\')}" ng-if="ipsSuppressListCtrl.getCollection().length"><thead unifi-condensed="appTable--condensed"><tr><th class="noPaddingTop recentTime" collection-view-sort-by="alert.attributes.datetime"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_TIME"></span></th><th class="noPaddingTop recentCategory visible--mdUp"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_CATEGORY"></span></th><th class="noPaddingTop recentSignature"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_SIGNATURE"></span></th><th class="noPaddingTop recentFrom"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_SOURCE"></span></th><th class="noPaddingTop recentTo"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_VALUE_DESTINATION"></span></th><th class="noPaddingTop recentAction appTableCell--actions"><span translate="SETTINGS_IPS_SUPPRESSION_TABLE_HEADER_ACTION"></span></th></tr></thead><tbody><tr collection-view-repeat="alert in ipsSuppressListCtrl.getCollection().models,          startFrom (ipsSuppressListCtrl.currentPage - 1) * ipsSuppressListCtrl.rowsPerPage,          limitTo ipsSuppressListCtrl.rowsPerPage"><td class="recentTime appTableCell--smash">{{alert.attributes.datetime | moment: \'format\': \'datetime\'}}</td><td class="recentCategory appTableCell--smash">{{alert.getAlertCategoryKey() | translate}}</td><td class="recentSignature">{{alert.getInnerAlertSignature()}}</td><td class="recentFrom appTableCell">{{alert.getSrcIp() + \' : \' + alert.getSrcPort()}}</td><td class="recentTo appTableCell">{{alert.getDestIp() + \' : \' + alert.getDestPort()}}</td><td class="recentAction appTableCell--actions"><button class="appMainButton appMainButton-tertiary appMainButton--condensed appMainButton--primary" type="button" ng-click="ipsSuppressListCtrl.addSuppression(alert)">{{\'SETTINGS_IPS_ACTION_SUPPRESS_SIGNATURE\' | translate}}</button></td></tr></tbody><tfoot ng-if="ipsSuppressListCtrl.getCollection().length"><tr><td colspan="6"><unifi-list-pagination unifi-list-pagination-current-page="ipsSuppressListCtrl.currentPage" unifi-list-pagination-rows-per-page="ipsSuppressListCtrl.rowsPerPage" unifi-list-pagination-total-rows="ipsSuppressListCtrl.getCollection().length" unifi-list-pagination-total-links="5" unifi-list-pagination-is-dark="ipsSuppressListCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-list-pagination></td></tr></tfoot></table><div class="appSpinner appSpinner--medium autoMargin verticalRhythmTop--cozy verticalRhythm--cozy" ng-if="!ipsSuppressListCtrl.getCollection().length &amp;&amp; ipsSuppressListCtrl.getCollection().isLoading"></div><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder" ng-if="!ipsSuppressListCtrl.getCollection().length &amp;&amp; !ipsSuppressListCtrl.getCollection().isLoading" ng-class="{\'appInfoBox--dark\': ipsSuppressListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_IPS_SUPPRESSION_RECENT_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":23}],364:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiLinkUsage",["$translate",function(e){return{template:t("./linkUsage.pug")(),scope:{usage:"=unifiLinkUsage",thresholds:"=?unifiLinkUsageThresholds",labelKey:"@?unifiLinkUsageLabelKey",statusBarClass:"@?unifiLinkUsageStatusBarClass"},link:function(t){var i=t.thresholds||[100,90,80,70,60,50,40,30,20,10,0];t.updateLevel=function(n){var o=0;if(i.forEach(function(t){t>=n&&(o=t)}),t.percentage=Math.ceil(o/Math.max.apply(Math,i)*100),t.labelKey){var r=Math.ceil(n/Math.max.apply(Math,i)*100*10)/10;t.label=e.instant(t.labelKey,{percentage:r})}},t.$watch("usage",function(e){t.updateLevel(e)})}}}])},{"./linkUsage.pug":365}],365:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appTooltipContainer appTooltipContainer--hoverable noLineHeight fullWidth"><div class="statusBar appStatusBar appStatusBar--small {{statusBarClass}}"><div class="statusBar__inner" ng-style="{\'width\': percentage + \'%\'}"></div></div><div class="appTooltip appTooltip--brief appTooltip--bottom" ng-if="!!label">{{label}}</div></div>'}},{"pug-runtime":23}],366:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("LoadController",["$element","$scope","$window","bowser","d3","d3Url","debounce","$filter","$translate","binaryPrefix","dashboardStats","moment","objectUtils","settings","siteHealth","siteStatus","URLS",function(t,e,i,o,r,a,s,l,c,u,d,p,f,h,_,m,g){var v=s(function(){var e=r.select(t[0]);e.selectAll(".unifiLoadContainer__chart .unifiLineChart__area").style("fill",a.id("loadBarPatternHigh"),"important"),e.selectAll(".unifiLoadContainer__chart--second .unifiLineChart__area").style("fill",a.id(i.innerHeight<1239?"loadBarPatternHigh":"loadBarPatternLow"),"important")},20);return new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.siteHealth=_,this.URLS=g,this.commonChartConfig={margin:{left:22,top:5,bottom:15,right:0},xProperty:"time",xAxisPadding:0,xAxisTickSize:2,yAxisTicks:1,xAxisTickResolution:p.duration(15,"minute").asMilliseconds(),left:{interpolate:"curveStepBefore",type:"area"},barWidth:1},this.commonChartConfig.xAxisFormat=function(t,e,i){var n=Math.ceil((i.xScaleDomain[1]-i.xScaleDomain[0])/i.xAxisTickResolution);switch(e){case 0:return"-24"+c.instant("DATETIME_HOURS_ABR");case n:return c.instant("DATETIME_NOW");default:return""}}}return n(t,[{key:"$onInit",value:function(){var t=this;this.throughputConfig=f.deepInherit(this.commonChartConfig),this.throughputConfig.left.yProperty=["download"];var n=h.getSettingFromKey("provider_capabilities");if(n){var r=n.get("download");r&&(this.throughputConfig.left.domain=[0,1e3*parseInt(r)],this.throughputConfig.left.yAxisTickValues=function(){return t.throughputConfig.left.domain})}(this.throughputConfig.left.yAxisFormat=function(t){return t},this.throughputConfig.left.yAxisFormat=function(t,e){return e?u.parse(t,"SI").toString():t},this.latencyConfig=f.deepInherit(this.commonChartConfig),this.latencyConfig.left.yProperty=["latencyMs"],this.latencyConfig.left.yAxisFormat=function(t){return t},this.droppedPacketsConfig=f.deepInherit(this.commonChartConfig),this.droppedPacketsConfig.left.yProperty=["droppedRate"],this.droppedPacketsConfig.left.yAxisFormat=function(t,e){return 0===e?"Low":"High"},this.airtimeConfig=f.deepInherit(this.commonChartConfig),this.airtimeConfig.left.yProperty=["airtime"],this.airtimeConfig.left.yAxisFormat=function(t,e){return 0===e?"0":"Max"},o.safari)&&(e.$evalAsync(v),angular.element(i).on("resize",v));this.listener=d.repository.collection.onEvent("update",this.collectDashboardStats.bind(this),{leading:!1}),d.repository.registerAndFetch(),this.collectDashboardStats()}},{key:"$onDestroy",value:function(){this.listener.stopListening(),d.repository.unregister(),o.safari&&window.off("resize",v)}},{key:"collectDashboardStats",value:function(){var t=d.getChartData();if(0===t.entries.length)this.commonChartConfig.xScaleDomain=[],this.commonChartConfig.xScaleDomain[1]=p().format("x"),this.commonChartConfig.xScaleDomain[0]=p().subtract(25,"hour").format("x"),this.isLoading=!0,this.data=new Array(88).fill(0);else{this.isLoading=!1;var e=t.entries.filter(function(t){return angular.isNumber(t.latencyMs)}).map(function(t){return t.latencyMs});m.updateWanStatus(e),t=t.entries.map(function(t){return{time:t.time,latencyMs:t.latencyMs||0,retryRate:t.retriesRate||0,droppedRate:t.droppedRate||0,airtime:t.airtime||0,download:t.download,upload:t.upload}});var i=0;for(this.data=[],t.shift();i<t.length;){var n={time:t[i].time,latencyMs:((t[i].latencyMs||0)+(t[i+1].latencyMs||0)+(t[i+2].latencyMs||0))/3,retryRate:((t[i].retryRate||0)+(t[i+1].retryRate||0)+(t[i+2].retryRate||0))/3,droppedRate:((t[i].droppedRate||0)+(t[i+1].droppedRate||0)+(t[i+2].droppedRate||0))/3,airtime:((t[i].airtime||0)+(t[i+1].airtime||0)+(t[i+2].airtime||0))/3,download:(t[i].download||0)+(t[i+1].download||0)+(t[i+2].download||0),upload:(t[i].upload||0)+(t[i+1].upload||0)+(t[i+2].upload||0)};this.data.push(n),i+=3}this.data=this.data.slice(-88),m.updateWlanStatus(this.data.slice(-1).pop().retryRate),this.commonChartConfig.xScaleDomain=[this.data[0].time,this.data[this.data.length-1].time]}}}]),t}())}])},{}],367:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiLoad",{bindings:{type:"<unifiLoadType"},controller:"LoadController",controllerAs:"loadCtrl",template:t("./load.pug")()})},{"./load.pug":368}],368:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiLoadContainer"><svg height="0" width="0"><pattern id="loadBarPatternHigh" x="0" y="0" width="2" height="125" patternUnits="userSpaceOnUse"><rect ng-repeat="color in [\'#EE2321\', \'#E4211C\', \'#E72119\' ,\'#DA1F28\', \'#C61D3B\',\'#BA1C46\',\'#B01E4D\',\'#A42356\',\'#99255D\',\'#902865\',\'#8E2866\',\'#842C6E\',\'#7A2D75\',\'#6F307D\',\'#643486\',\'#5A348D\',\'#4F3794\',\'#42399E\',\'#373DA6\',\'#2B3FAD\',\'#2141B3\',\'#1543BD\',\'#0545C4\',\'#0048CD\']" x="1" ng-attr-y="{{$index * 4}}" height="2.5" width="1" ng-attr-fill="{{color}}"></rect></pattern><pattern id="loadBarPatternLow" x="0" y="0" width="2" height="125" patternUnits="userSpaceOnUse"><rect ng-repeat="color in [\'#EE2321\', \'#E4211C\', \'#DA1F28\', \'#B01E4D\',\'#A42356\',\'#902865\',\'#8E2866\',\'#6F307D\',\'#5A348D\',\'#4F3794\',\'#373DA6\',\'#2B3FAD\',\'#1543BD\',\'#0048CD\']" x="1" ng-attr-y="{{$index * 4}}" height="2.5" width="1" ng-attr-fill="{{color}}"></rect></pattern></svg><div class="unifiLoadContainerCharts"><div class="unifiLoadContainer__info flexFlag flexFlag--vertical" ng-if="loadCtrl.type === \'isp\' &amp;&amp; !loadCtrl.siteHealth.hasGateway()"><div class="icon ubnt-icon--alert"></div><div class="label" translate="DASHBOARD_MODULE_INTERNET_CONNECTION_NO_USG" translate-values="{unifiGatewayLink: loadCtrl.URLS.UNIFI_SECURITY_GATEWAY}"></div></div><div class="unifiLoadContainer__info flexFlag flexFlag--vertical" ng-if="loadCtrl.type === \'wifi\' &amp;&amp; !loadCtrl.siteHealth.hasAp()"><div class="icon ubnt-icon--alert"></div><div class="label" translate="DASHBOARD_MODULE_INTERNET_CONNECTION_NO_AP" translate-values="{unifiAPLink: loadCtrl.URLS.UNIFI_AP}"></div></div><div class="unifiLoadContainer__chart unifiLoadContainer__chart--first" ng-if="loadCtrl.type === \'isp\' &amp;&amp; loadCtrl.siteHealth.hasGateway()"><unifi-line-chart unifi-line-chart-config="loadCtrl.throughputConfig" unifi-line-chart-data="loadCtrl.data"></unifi-line-chart><div class="unifiLoadContainer__chartLabel capitalize" translate="DASHBOARD_MODULE_INTERNET_CONNECTION_THROUGHPUT"></div></div><div class="unifiLoadContainer__chart unifiLoadContainer__chart--second" ng-if="loadCtrl.type === \'isp\' &amp;&amp; loadCtrl.siteHealth.hasGateway()"><unifi-line-chart unifi-line-chart-config="loadCtrl.latencyConfig" unifi-line-chart-data="loadCtrl.data"></unifi-line-chart><div class="unifiLoadContainer__chartLabel capitalize" translate="DASHBOARD_MODULE_INTERNET_CONNECTION_LATENCY"></div></div><div class="unifiLoadContainer__chart unifiLoadContainer__chart--first" ng-if="loadCtrl.type === \'wifi\' &amp;&amp; loadCtrl.siteHealth.hasAp()"><unifi-line-chart unifi-line-chart-config="loadCtrl.droppedPacketsConfig" unifi-line-chart-data="loadCtrl.data"></unifi-line-chart><div class="unifiLoadContainer__chartLabel capitalize" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_DROPPED_PACKETS"></div></div><div class="unifiLoadContainer__chart unifiLoadContainer__chart--second" ng-if="loadCtrl.type === \'wifi\' &amp;&amp; loadCtrl.siteHealth.hasAp()"><unifi-line-chart unifi-line-chart-config="loadCtrl.airtimeConfig" unifi-line-chart-data="loadCtrl.data"></unifi-line-chart><div class="unifiLoadContainer__chartLabel capitalize" translate="AIR_TIME_LABEL"></div></div></div></div>'}},{"pug-runtime":23}],369:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("LoadModuleController",["gatewayUtils","BaseModuleController","resolveRepositoryGroupControllerMixin",function(t,e,i){return new(function(t){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return t.repositories=["dashboardStats","siteHealth"],i(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,e),n(o,[{key:"isAvailable",value:function(){return!0}}]),o}())}])},{}],370:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiLoadModule",["ModuleDirective",function(e){return new e("load",t("./loadModule.pug")(),{isDark:"=?unifiLoadModuleIsDark"})}])},{"./loadModule.pug":371}],371:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--load"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle">{{loadModuleCtrl.definition.get(\'translationKey\') | translate}}</div></div><unifi-loading-module unifi-loading-module-loader="loadModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="loadModuleCtrl.isLoading" unifi-loading-module-failed="loadModuleCtrl.failedToLoad" unifi-loading-module-retry="loadModuleCtrl.retry()" unifi-loading-module-layout="loadModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-if="!loadModuleCtrl.isLoading &amp;&amp; loadModuleCtrl.isAvailable()"><unifi-load unifi-load-type="loadModuleCtrl.definition.get(\'attrs\').type"></unifi-load></div><unifi-unavailable-module ng-if="!loadModuleCtrl.isLoading &amp;&amp; !loadModuleCtrl.isAvailable()" unifi-unavailable-module-icon="\'ubnt-icon--shield\'" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_WAN_LOAD_UNAVAILABLE\'"></unifi-unavailable-module></div></div>'}},{"pug-runtime":23}],372:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"load|isp",translationKey:"DASHBOARD_MODULE_DEFINITIONS_WAN_LOAD",directive:"unifi-load-module",preview:"images/dashboard/bar-chart.png",layout:"single",attrs:{type:"isp"},requirements:{deviceType:"ugw"},isHidden:!0},{id:"load|wifi",translationKey:"DASHBOARD_MODULE_DEFINITIONS_WLAN_LOAD",directive:"unifi-load-module",preview:"images/dashboard/bar-chart.png",layout:"single",attrs:{type:"wifi"},requirements:{deviceType:"ugw"},isHidden:!0}])}])},{}],373:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiMegaLoadStatus",[function(){return{scope:{value:"<unifiMegaLoadStatusValue"},template:t("./megaLoadStatus.pug")(),replace:!0}}])},{"./megaLoadStatus.pug":374}],374:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<span ng-switch="value"><span class="static" ng-switch-when="UNAVAILABLE" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_UNAVAILABLE"></span><span class="static" ng-switch-when="UNKNOWN" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_UNKNOWN"></span><span class="success" ng-switch-when="EXCELLENT" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_EXCELLENT"></span><span class="success" ng-switch-when="GOOD" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_GOOD"></span><span class="warning" ng-switch-when="FAIR" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_FAIR"></span><span class="warning" ng-switch-when="POOR" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_POOR"></span><span class="danger" ng-switch-when="BAD" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_BAD"></span></span>'}},{"pug-runtime":23}],375:[function(t,e,i){"use strict";function n(t){this.ipUtils=t}n.prototype.updateAttrs=function(t){var e=t?this.ipUtils.subnetToNetwork(t):void 0;e&&e.numIps>0?this.attrs={gatewayIp:e.ip,broadcastIp:this.ipUtils.long2ip(e.ipLongMax+1),ipCount:e.numIps,ipRangeMin:this.ipUtils.long2ip(e.ipLongMin),ipRangeMax:this.ipUtils.long2ip(e.ipLongMax),subnetMask:this.ipUtils.long2ip(e.netmask)}:this.attrs=void 0},n.$inject=["ipUtils"],angular.module("app-unifi-manage").controller("NetworkFormDetailsNetworkController",n)},{}],376:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNetworkFormDetailsNetwork",[function(){return{scope:{isVpn:"=unifiNetworkFormDetailsNetworkIsVpn",subnet:"=unifiNetworkFormDetailsNetwork"},controller:"NetworkFormDetailsNetworkController",controllerAs:"networkFormDetailsNetworkCtrl",template:t("./networkFormDetailsNetwork.pug")(),link:function(t,e,i,n){t.$watch("subnet",function(t){n.updateAttrs(t)})}}}])},{"./networkFormDetailsNetwork.pug":377}],377:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<fieldset class="appFieldset appFieldset--quiet verticalRhythm--cozy" ng-if="networkFormDetailsNetworkCtrl.attrs"><div class="appRow verticalRhythm--condensed" ng-show="!isVpn"><div class="col--sm2 col--smOffset3 col--xs7"><div class="appLabel appLabel--primary" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IP"></div></div><div class="col--sm7 col--xs5"><span>{{networkFormDetailsNetworkCtrl.attrs.gatewayIp}}</span></div></div><div class="appRow verticalRhythm--condensed" ng-show="!isVpn"><div class="col--sm2 col--smOffset3 col--xs7"><div class="appLabel appLabel--primary" translate="SETTINGS_NETWORK_LABEL_NETWORK_BROADCAST_IP"></div></div><div class="col--sm7 col--xs5"><span>{{networkFormDetailsNetworkCtrl.attrs.broadcastIp}}</span></div></div><div class="appRow verticalRhythm--condensed"><div class="col--sm2 col--smOffset3 col--xs7"><div class="appLabel appLabel--primary" translate="SETTINGS_NETWORK_LABEL_NETWORK_IP_COUNT"></div></div><div class="col--sm7 col--xs5"><span>{{networkFormDetailsNetworkCtrl.attrs.ipCount | numberToString}}</span></div></div><div class="appRow verticalRhythm--condensed"><div class="col--sm2 col--smOffset3 col--xs7"><div class="appLabel appLabel--primary" translate="SETTINGS_NETWORK_LABEL_NETWORK_IP_RANGE"></div></div><div class="col--sm7 col--xs5"><span>{{networkFormDetailsNetworkCtrl.attrs.ipRangeMin}} - {{networkFormDetailsNetworkCtrl.attrs.ipRangeMax}}</span></div></div><div class="appRow verticalRhythm--condensed" ng-show="!isVpn"><div class="col--sm2 col--smOffset3 col--xs7"><div class="appLabel appLabel--primary" translate="SETTINGS_NETWORK_LABEL_NETWORK_SUBNET_MASK"></div></div><div class="col--sm7 col--xs5"><span>{{networkFormDetailsNetworkCtrl.attrs.subnetMask}}</span></div></div></fieldset>'}},{"pug-runtime":23}],378:[function(t,e,i){"use strict";function n(t){this.ipv6Utils=t}n.prototype.updateAttrs=function(t){var e=t?this.ipv6Utils.subnetToNetwork(t):void 0;this.attrs=e&&e.ipCount>0?e:void 0},n.$inject=["ipv6Utils"],angular.module("app-unifi-manage").controller("NetworkFormDetailsNetworkV6Controller",n)},{}],379:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNetworkFormDetailsNetworkV6",[function(){return{scope:{subnet:"=unifiNetworkFormDetailsNetworkV6"},controller:"NetworkFormDetailsNetworkV6Controller",controllerAs:"networkFormDetailsNetworkV6Ctrl",template:t("./networkFormDetailsNetworkV6.pug")(),link:function(t,e,i,n){t.$watch("subnet",function(t){n.updateAttrs(t)})}}}])},{"./networkFormDetailsNetworkV6.pug":380}],380:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<fieldset class="appFieldset appFieldset--quiet verticalRhythm--cozy" ng-if="networkFormDetailsNetworkV6Ctrl.attrs"><div class="appRow verticalRhythm--condensed"><div class="col--sm2 col--smOffset3 col--xs7"><div class="appLabel appLabel--primary" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6"></div></div><div class="col--sm7 col--xs5"><span>{{networkFormDetailsNetworkV6Ctrl.attrs.gatewayIp}}</span></div></div><div class="appRow verticalRhythm--condensed"><div class="col--sm2 col--smOffset3 col--xs7"><div class="appLabel appLabel--primary" translate="SETTINGS_NETWORK_LABEL_NETWORK_IPV6_ADDRESS"></div></div><div class="col--sm7 col--xs5"><span>{{networkFormDetailsNetworkV6Ctrl.attrs.networkIp}}</span></div></div><div class="appRow verticalRhythm--condensed"><div class="col--sm2 col--smOffset3 col--xs7"><div class="appLabel appLabel--primary" translate="SETTINGS_NETWORK_LABEL_NETWORK_IPV6_BROADCAST"></div></div><div class="col--sm7 col--xs5"><span>{{networkFormDetailsNetworkV6Ctrl.attrs.broadcastIp}}</span></div></div><div class="appRow verticalRhythm--condensed"><div class="col--sm2 col--smOffset3 col--xs7"><div class="appLabel appLabel--primary" translate="SETTINGS_NETWORK_LABEL_NETWORK_IPV6_COUNT"></div></div><div class="col--sm7 col--xs5"><span>{{networkFormDetailsNetworkV6Ctrl.attrs.ipCount | numberToString}}</span></div></div><div class="appRow verticalRhythm--condensed"><div class="col--sm2 col--smOffset3 col--xs7"><div class="appLabel appLabel--primary" translate="SETTINGS_NETWORK_LABEL_NETWORK_IPV6_RANGE"></div></div><div class="col--sm7 col--xs5"><span>{{networkFormDetailsNetworkV6Ctrl.attrs.ipRangeMin}} - {{networkFormDetailsNetworkV6Ctrl.attrs.ipRangeMax}}</span></div></div></fieldset>'}},{"pug-runtime":23}],381:[function(t,e,i){"use strict";function n(t,e){this.networks=t,this.REMOTE_USER_VPN_TYPES=e}n.prototype.canAddRemoteUserVpn=function(){return this.networks.repository.collection.where({purpose:"remote-user-vpn"}).length<this.REMOTE_USER_VPN_TYPES.length},n.prototype.canAddWan=function(){return this.networks.repository.collection.where({purpose:"wan"}).length<2},n.$inject=["networks","REMOTE_USER_VPN_TYPES"],angular.module("app-unifi-manage").controller("NetworkFormInputPurposeController",n)},{}],382:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNetworkFormInputPurpose",[function(){return{scope:{model:"=unifiNetworkFormInputPurpose",allowedPurposes:"=unifiNetworkFormInputPurposeAllowedPurposes",isDark:"=?unifiNetworkFormInputPurposeIsDark"},controller:"NetworkFormInputPurposeController",controllerAs:"networkFormInputPurposeCtrl",bindToController:!0,template:t("./networkFormInputPurpose.pug")()}}])},{"./networkFormInputPurpose.pug":383}],383:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-hide="networkFormInputPurposeCtrl.allowedPurposes &amp;&amp; networkFormInputPurposeCtrl.allowedPurposes.indexOf(\'corporate\') === -1"><input type="radio" name="networkPurpose" id="networkPurposeCorporate" value="corporate" ng-model="networkFormInputPurposeCtrl.model.attributes.purpose" ng-disabled="!networkFormInputPurposeCtrl.model.isNew() &amp;&amp; networkFormInputPurposeCtrl.model.attributes.purpose !== \'corporate\' &amp;&amp; networkFormInputPurposeCtrl.model.attributes.purpose !== \'guest\'"><label for="networkPurposeCorporate" translate="SETTINGS_NETWORK_VALUES_PURPOSE_CORPORATE"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-hide="networkFormInputPurposeCtrl.allowedPurposes &amp;&amp; networkFormInputPurposeCtrl.allowedPurposes.indexOf(\'guest\') === -1"><input type="radio" name="networkPurpose" id="networkPurposeGuest" value="guest" ng-model="networkFormInputPurposeCtrl.model.attributes.purpose" ng-disabled="!networkFormInputPurposeCtrl.model.isNew() &amp;&amp; networkFormInputPurposeCtrl.model.attributes.purpose !== \'corporate\' &amp;&amp; networkFormInputPurposeCtrl.model.attributes.purpose !== \'guest\'"><label for="networkPurposeGuest" translate="SETTINGS_NETWORK_VALUES_PURPOSE_GUEST"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-hide="networkFormInputPurposeCtrl.allowedPurposes &amp;&amp; networkFormInputPurposeCtrl.allowedPurposes.indexOf(\'wan\') === -1"><input type="radio" name="networkPurpose" id="networkPurposeWan" value="wan" ng-model="networkFormInputPurposeCtrl.model.attributes.purpose" ng-disabled="!networkFormInputPurposeCtrl.canAddWan() || (!networkFormInputPurposeCtrl.model.isNew() &amp;&amp; networkFormInputPurposeCtrl.model.get(\'purpose\') !== \'wan\')"><label for="networkPurposeWan" translate="SETTINGS_NETWORK_VALUES_PURPOSE_WAN"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-hide="networkFormInputPurposeCtrl.allowedPurposes &amp;&amp; networkFormInputPurposeCtrl.allowedPurposes.indexOf(\'vlan-only\') === -1"><input type="radio" name="networkPurpose" id="networkPurposeVlanOnly" value="vlan-only" ng-model="networkFormInputPurposeCtrl.model.attributes.purpose" ng-disabled="!networkFormInputPurposeCtrl.model.isNew() &amp;&amp; networkFormInputPurposeCtrl.model.attributes.purpose !== \'vlan-only\'"><label for="networkPurposeVlanOnly" translate="SETTINGS_NETWORK_VALUES_PURPOSE_VLAN_ONLY"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="usw"></unifi-notify-device-requirement></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-hide="networkFormInputPurposeCtrl.allowedPurposes &amp;&amp; networkFormInputPurposeCtrl.allowedPurposes.indexOf(\'remote-user-vpn\') === -1"><input type="radio" name="networkPurpose" id="networkPurposeRemoteUserVpn" value="remote-user-vpn" ng-model="networkFormInputPurposeCtrl.model.attributes.purpose" ng-disabled="(!networkFormInputPurposeCtrl.model.isNew() &amp;&amp; networkFormInputPurposeCtrl.model.attributes.purpose !== \'remote-user-vpn\') || !networkFormInputPurposeCtrl.canAddRemoteUserVpn()"><label for="networkPurposeRemoteUserVpn" translate="SETTINGS_NETWORK_VALUES_PURPOSE_REMOTE_USER_VPN"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-hide="networkFormInputPurposeCtrl.allowedPurposes &amp;&amp; networkFormInputPurposeCtrl.allowedPurposes.indexOf(\'site-vpn\') === -1"><input type="radio" name="networkPurpose" id="networkPurposeSiteVpn" value="site-vpn" ng-model="networkFormInputPurposeCtrl.model.attributes.purpose" ng-disabled="!networkFormInputPurposeCtrl.model.isNew() &amp;&amp; networkFormInputPurposeCtrl.model.attributes.purpose !== \'site-vpn\'"><label for="networkPurposeSiteVpn" translate="SETTINGS_NETWORK_VALUES_PURPOSE_SITE_TO_SITE_VPN"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-hide="networkFormInputPurposeCtrl.allowedPurposes &amp;&amp; networkFormInputPurposeCtrl.allowedPurposes.indexOf(\'vpn-client\') === -1"><input type="radio" name="networkPurpose" id="networkPurposeVpnClient" value="vpn-client" ng-model="networkFormInputPurposeCtrl.model.attributes.purpose" ng-disabled="!networkFormInputPurposeCtrl.model.isNew() &amp;&amp; networkFormInputPurposeCtrl.model.attributes.purpose !== \'vpn-client\'"><label for="networkPurposeVpnClient" translate="SETTINGS_NETWORK_VALUES_PURPOSE_VPN_CLIENT"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div>'}},{"pug-runtime":23}],384:[function(t,e,i){"use strict";function n(t){this.patterns={subnet:t.IPV4_SUBNET}}n.prototype.setLimits=function(){this.remoteSubnetMin=this.isOptional?0:1,this.remoteSubnetMax=16},n.$inject=["REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("NetworkFormInputRemoteSubnetsController",n)},{}],385:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNetworkFormInputRemoteSubnets",[function(){return{scope:{remoteSubnets:"=unifiNetworkFormInputRemoteSubnets",form:"=unifiNetworkFormInputRemoteSubnetsForm",isOptional:"=unifiNetworkFormInputRemoteSubnetsIsOptional",isReadOnly:"=unifiNetworkFormInputRemoteSubnetsIsReadOnly"},controller:"NetworkFormInputRemoteSubnetsController",controllerAs:"networkFormInputRemoteSubnetsCtrl",bindToController:!0,template:t("./networkFormInputRemoteSubnets.pug")(),link:function(t,e,i,n){t.$watch(function(){return n.isOptional},function(){n.setLimits()})}}}])},{"./networkFormInputRemoteSubnets.pug":386}],386:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+"<div"+(i="unifi-repeatable-input",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' unifi-repeatable-input-min="networkFormInputRemoteSubnetsCtrl.remoteSubnetMin" unifi-repeatable-input-max="networkFormInputRemoteSubnetsCtrl.remoteSubnetMax" unifi-repeatable-input-values="networkFormInputRemoteSubnetsCtrl.remoteSubnets" unifi-repeatable-input-is-read-only="networkFormInputRemoteSubnetsCtrl.isReadOnly"><div class="remoteSubnets appInputGroup appInputGroup--cozy" ng-repeat="i in repeatableInputCtrl.getOptions() track by $index"><input type="text" name="networkRemoteSubnet{{$index}}" id="networkRemoteSubnet{{$index}}" ng-model="repeatableInputCtrl.values[$index]" ng-pattern="networkFormInputRemoteSubnetsCtrl.patterns.subnet" ng-required="$index &lt; repeatableInputCtrl.min"><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeRemoteSubnet" type="button" ng-show="!repeatableInputCtrl.isReadOnly" ng-click="repeatableInputCtrl.removeItem($index)" ng-disabled="!repeatableInputCtrl.isRemoveAllowed()" title="{{\'SETTINGS_COMMON_LABEL_REMOVE_SUBNET_IPV4\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div><div class="appInputGroup" ng-show="!repeatableInputCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addRemoteSubnet" type="button" ng-click="repeatableInputCtrl.addItem()" ng-disabled="!repeatableInputCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_COMMON_LABEL_ADD_SUBNET"></span></button></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],387:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(t,e,i,o,r,a,s,l,c,u,d,p,f,h,_,m,g,v,E){this.$translate=t,this._=m,this.deviceFeatureUtils=i,this.deviceUtils=o,this.heyToasts=l,this.gatewayUtils=s,this.networks=p,this.networkUtils=f,this.preferences=h,this.ipUtils=c,this.ipv6Utils=u,this.featureFlag=a,this.settings=_,this.NETWORK_DEFAULTS=v,this.isAdvancedExpanded=!1,this._=m,this.isIpv6Expanded=!1,this.maxDhcpTimeOffset=84e3,this.minDhcpTimeOffset=-84e3,this.dhcpOptionsView=new e(r.repository.collection),this.dhcpOptions=r,this.DHCP_USER_OPTION_PREFIX=g.DHCP_USER_OPTION_PREFIX,this.signedExtents=g.SIGNED_EXTENTS,this.unsignedExtents=g.UNSIGNED_EXTENTS,this.patterns={fqdnOrLocal:E.FQDN_OR_LOCAL,hexArray:E.HEX_ARRAY,hostnameOrIpAddress:E.HOSTNAME_OR_IPV4_ADDRESS,ipAddress:E.IPV4_ADDRESS,ipv6Address:E.IPV6_ADDRESS,ipv6Subnet:E.IPV6_SUBNET,ipv6PDPrefixId:E.IPV6_PD_PREFIX_ID,macAddress:E.MAC_ADDRESS,name:E.NAME,subnet:E.IPV4_SUBNET,vlan:E.VLAN},n.call(this,d)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){var t=this;this.isSubmitting=!0;var e=angular.extend({},this.modelCopy.attributes,{enabled:!0,is_nat:!0,dhcpd_enabled:"server"===this.dhcpModeCopy,dhcp_relay_enabled:"relay"===this.dhcpModeCopy});e.dhcpd_time_offset_enabled||delete e.dhcpd_time_offset,"static"!==e.ipv6_interface_type&&"dhcpdv6_enabled"in e&&(e.dhcpdv6_enabled=!1);var i=Object.keys(this.modelCopy.attributes).filter(function(e){return e.startsWith(t.DHCP_USER_OPTION_PREFIX)});return this.dhcpOptions.repository.collection.forEach(function(n){var o=t.DHCP_USER_OPTION_PREFIX+n.id,r=e[o];void 0!==r&&null!==r&&""!==r||delete e[o];var a=i.indexOf(o);-1!==a&&i.splice(a,1)}),e=this._.omit(e,i),this.model.get("attr_hidden_id")||(e.vlan_enabled=!!this.modelCopy.get("vlan")),"none"===e.ipv6_interface_type&&(delete e.ipv6_ra_enabled,delete e.ipv6_ra_priority,delete e.ipv6_ra_valid_lifetime,delete e.ipv6_ra_preferred_lifetime,delete e.dhcpdv6_enabled,delete e.dhcpdv6_start,delete e.dhcpdv6_stop,delete e.dhcpdv6_leasetime,delete e.dhcpdv6_dns_auto,delete e.dhcpdv6_dns_1,delete e.dhcpdv6_dns_2,delete e.dhcpdv6_dns_3,delete e.dhcpdv6_dns_4),"static"!==e.ipv6_interface_type&&delete e.ipv6_subnet,"pd"!==e.ipv6_interface_type?(delete e.ipv6_pd_interface,delete e.ipv6_pd_prefixid):null===e.ipv6_pd_prefixid&&(e.ipv6_pd_prefixid=""),this.networkUtils.saveNetwork(this.model,e).then(function(i){return t.heyToasts.pushSuccess(i),!t.isPortReassignmentSupported()||t.gatewayUtils.tryAssignToDefaultPort(e.networkgroup).then(function(){return!0})}).catch(function(e){return t.heyToasts.pushError(e),!1}).finally(function(){t.isSubmitting=!1})},o.prototype.isUpnpServiceEnabled=function(){return!!this.settings.getSettingFromKey("usg")&&!!this.settings.getSettingFromKey("usg").get("upnp_enabled")},o.prototype.isVlanRequired=function(){var t=this;if(this.modelCopy&&"LAN1"!==this.modelCopy.get("networkgroup")){var e=this.modelCopy.get("networkgroup");return!!this.networks.repository.collection.filter(function(i){return i.get("networkgroup")===e&&(!(t.model&&t.model.id===i.id)&&!i.has("vlan"))}).length}return!0},o.prototype.showUpdateDhcpRangePrompt=function(){if(this.modelCopy&&"server"===this.dhcpModeCopy&&this.modelCopy.get("ip_subnet")&&this.form&&this.form.networkIpSubnet.$valid){var t=this.modelCopy.get("ip_subnet"),e=this.ipUtils.recommendSubnet(t,0,this.NETWORK_DEFAULTS.MAX_DHCP_LEASES);return this.modelCopy.get("dhcpd_start")!==e.dhcpStartIp||this.modelCopy.get("dhcpd_stop")!==e.dhcpStopIp}return!1},o.prototype.updateDhcpRange=function(){if(this.modelCopy&&this.form.networkIpSubnet.$valid){var t=this.modelCopy.get("ip_subnet"),e=this.ipUtils.recommendSubnet(t,0,this.NETWORK_DEFAULTS.MAX_DHCP_LEASES);this.modelCopy.attributes.dhcpd_start=e.dhcpStartIp,this.modelCopy.attributes.dhcpd_stop=e.dhcpStopIp,this.isDhcpRangeLimited=e.isLimited}},o.prototype.showUpdateIPv6DhcpRangePrompt=function(){if(this.modelCopy&&this.modelCopy.get("ipv6_subnet")&&this.form&&this.form.networkIpv6Subnet.$valid){var t=this.modelCopy.get("ipv6_subnet"),e=this.ipv6Utils.recommendSubnet(t,0,this.NETWORK_DEFAULTS.MAX_DHCPV6_LEASES),i=this.modelCopy.get("dhcpdv6_start")!==e.dhcpStartIp,n=this.modelCopy.get("dhcpdv6_stop")!==e.dhcpStopIp;return i||n}return!1},o.prototype.updateIPv6DhcpRange=function(){if(this.modelCopy&&this.modelCopy.get("ipv6_subnet")&&this.form&&this.form.networkIpv6Subnet.$valid){var t=this.modelCopy.get("ipv6_subnet"),e=this.ipv6Utils.recommendSubnet(t,0,this.NETWORK_DEFAULTS.MAX_DHCPV6_LEASES);this.modelCopy.attributes.dhcpdv6_start=e.dhcpStartIp,this.modelCopy.attributes.dhcpdv6_stop=e.dhcpStopIp,this.modelCopy.attributes.dhcpdv6_enabled=!0,this.isDhcpV6RangeLimited=e.isLimited}},o.prototype.setDefaultAttrs=function(t){var e=t?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+e]){this["model"+e].attributes.purpose=(this.model?this.model.get("purpose"):void 0)||"corporate",this.model&&(this.model.get("dhcpd_enabled")||this.model.isNew()?this["dhcpMode"+e]="server":this.model.get("dhcp_relay_enabled")&&(this["dhcpMode"+e]="relay")),this["dhcpMode"+e]||(this["dhcpMode"+e]="none");var i={networkgroup:(this.model?this.model.get("networkgroup"):void 0)||"LAN",dhcpd_enabled:!(this.model&&!this.model.isNew())||this.model.get("dhcpd_enabled"),dhcpd_leasetime:(this.model?this.model.get("dhcpd_leasetime"):void 0)||86400,dhcpd_dns_enabled:(this.model?this.model.get("dhcpd_dns_enabled"):void 0)||!1,dhcpd_gateway_enabled:(this.model?this.model.get("dhcpd_gateway_enabled"):void 0)||!1,dhcpd_time_offset_enabled:(this.model?this.model.get("dhcpd_time_offset_enabled"):void 0)||!1,ipv6_interface_type:(this.model?this.model.get("ipv6_interface_type"):void 0)||"none",ipv6_pd_interface:(this.model?this.model.get("ipv6_pd_interface"):void 0)||"wan",ipv6_ra_enabled:!this.model||-1!==[void 0,null].indexOf(this.model.get("ipv6_ra_enabled"))||!!this.model.get("ipv6_ra_enabled"),ipv6_ra_priority:(this.model?this.model.get("ipv6_ra_priority"):void 0)||"high",ipv6_ra_valid_lifetime:(this.model?this.model.get("ipv6_ra_valid_lifetime"):void 0)||86400,ipv6_ra_preferred_lifetime:(this.model?this.model.get("ipv6_ra_preferred_lifetime"):void 0)||14400,dhcpdv6_enabled:(this.model?this.model.get("dhcpdv6_enabled"):void 0)||!1,dhcpdv6_leasetime:(this.model?this.model.get("dhcpdv6_leasetime"):void 0)||86400,dhcpdv6_dns_auto:!this.model||-1!==[void 0,null].indexOf(this.model.get("dhcpdv6_dns_auto"))||!!this.model.get("dhcpdv6_dns_auto")};angular.extend(t?this.masterWithDefaults:this.modelCopy.attributes,i)}},o.prototype.getExtendedParentInterfaces=function(){var t=this.gatewayUtils.getSiteGateway(),e=this.gatewayUtils.getNetworksCount(t);return this._.range(this.NETWORK_DEFAULTS.LAN2_NUM,e+1)},o.prototype.setAdvancedExpanded=function(){this.model&&"none"!==this.model.get("ipv6_interface_type")&&(this.isIpv6Expanded=!0)},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0),this.setAdvancedExpanded()},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.prototype.getDhcpOptionIntegerMin=function(t){var e=t.get("width",8);return t.get("signed",!1)?this.signedExtents[e].min:this.unsignedExtents[e].min},o.prototype.getDhcpOptionIntegerMax=function(t){var e=t.get("width",8);return t.get("signed",!1)?this.signedExtents[e].max:this.unsignedExtents[e].max},o.prototype.isPortReassignmentSupported=function(){var t=this.gatewayUtils.getSiteGateway();return!!t&&this.deviceFeatureUtils.isGatewayPortReassignmentSupported(t)},o.prototype.getPortName=function(){var t=this.modelCopy?this.gatewayUtils.getNetworkgroupPortName(this.modelCopy.getNetworkGroup(),this.gatewayUtils.getSiteGateway()):void 0;return t||this.$translate.instant("SETTINGS_NETWORK_LABEL_PORT_UNASSIGNED")},o.$inject=["$translate","CollectionView","deviceFeatureUtils","deviceUtils","dhcpOptions","featureFlag","gatewayUtils","heyToasts","ipUtils","ipv6Utils","modelDivergence","networks","networkUtils","preferences","settings","_","DHCP_USER_OPTION","NETWORK_DEFAULTS","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("NetworkFormLanController",o)},{}],388:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNetworkFormLan",["$timeout","$stateParams","sharedAttrsDirectiveMixin",function(e,i,n){return{scope:{model:"=unifiNetworkFormLan",allowedPurposes:"=unifiNetworkFormLanAllowedPurposes",attrs:"=unifiNetworkFormLanAttrs",isDark:"=unifiNetworkFormLanIsDark",isModal:"=unifiNetworkFormLanIsModal",onSave:"&unifiNetworkFormLanOnSave",onCancel:"&unifiNetworkFormLanOnCancel",isReadOnly:"=unifiNetworkFormLanIsReadOnly"},controller:"NetworkFormLanController",controllerAs:"networkFormLanCtrl",template:t("./networkFormLan.pug")(),link:function(t,o,r,a){t.directiveId=t.$id,t.onSubmit=function(e){!0===e&&t.onSave()},t.$watch("model",function(t){a.updateModel(t)}),t.$on("$destroy",function(){a.removeEventHandlers()}),t.getVisibility=a.getVisibility.bind(a),t.setVisibility=a.setVisibility.bind(a),e(function(){t.isLoaded=!0},0),"add"===i.action&&n.init(t,o,r,a,["name"])}}}])},{"./networkFormLan.pug":389}],389:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="networkFormLanCtrl.form" ng-class="{    \'appForm--dark\': isDark,    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': networkFormLanCtrl.showValidation,    \'is-validation-hidden\': !networkFormLanCtrl.showValidation  }" ng-submit="networkFormLanCtrl.form.$valid &amp;&amp; networkFormLanCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="networkFormLanCtrl.resolveDivergence()" unifi-config-changed-on-ignore="networkFormLanCtrl.ignoreDivergence()" unifi-config-changed-is-dark="isDark" unifi-config-changed-with-icon="true" ng-show="networkFormLanCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly" ng-class="{\'appFieldset--scrollable\': isModal}"><div class="unifiSettingsSection noMarginTop" ng-class="{\'container\': isModal}"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="!isModal"'+n("translate",!0,!0,!0)+' translate-values="{networkName: networkFormLanCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_NETWORK_SECTION_VIEW\' : (networkFormLanCtrl.model.id ? \'SETTINGS_NETWORK_SECTION_EDIT\' : \'SETTINGS_NETWORK_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="networkName" ng-model="networkFormLanCtrl.modelCopy.attributes.name" ng-model-master="networkFormLanCtrl.model.attributes.name" ng-pattern="networkFormLanCtrl.patterns.name"'+n("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_PURPOSE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy" unifi-network-form-input-purpose="networkFormLanCtrl.model" unifi-network-form-input-purpose-allowed-purposes="allowedPurposes" unifi-network-form-input-purpose-is-dark="isDark"></div></div><div class="appRow" ng-show="setVisibility(\'network-group\', networkFormLanCtrl.model.get(\'purpose\') !== \'voip\')"><div class="col--sm3"><label class="appLabel--primary appLabel--withBadge" translate="{{networkFormLanCtrl.isPortReassignmentSupported() ? \'SETTINGS_NETWORK_LABEL_NETWORK_GROUP\' : \'SETTINGS_NETWORK_LABEL_INTERFACE\'}}"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="networkGroup" id="networkGroupLan" value="LAN" ng-model="networkFormLanCtrl.modelCopy.attributes.networkgroup" ng-model-master="networkFormLanCtrl.masterWithDefaults.networkgroup"><label for="networkGroupLan" translate="SETTINGS_NETWORK_VALUES_NETWORK_GROUP_LAN"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="num in networkFormLanCtrl.getExtendedParentInterfaces()"><input type="radio" name="networkGroup" id="networkGroupLan{{num}}" value="LAN{{num}}" ng-model="networkFormLanCtrl.modelCopy.attributes.networkgroup" ng-model-master="networkFormLanCtrl.masterWithDefaults.networkgroup" ng-disabled="networkFormLanCtrl.model.get(\'attr_hidden_id\') === \'LAN\'"><label for="networkGroupLan{{num}}" translate="SETTINGS_NETWORK_VALUES_NETWORK_GROUP_LAN_NUM" translate-values="{number: num}"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div></div></div><div class="appRow verticalRhythm--cozy" ng-show="networkFormLanCtrl.isPortReassignmentSupported()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_PORT"></label></div><div class="col--sm5"><span>{{networkFormLanCtrl.getPortName()}}</span></div></div><div class="appRow" ng-show="setVisibility(\'vlan\', !networkFormLanCtrl.model.get(\'attr_hidden_id\'))"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_VLAN"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--smallNumber" type="text" name="networkVlan" ng-model="networkFormLanCtrl.modelCopy.attributes.vlan" ng-model-master="networkFormLanCtrl.model.attributes.vlan" ng-model-master-cleanup="true" ng-pattern="networkFormLanCtrl.patterns.vlan" ng-required="getVisibility(\'vlan\') &amp;&amp; networkFormLanCtrl.isVlanRequired()"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_SUBNET"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="text" name="networkIpSubnet" ng-model="networkFormLanCtrl.modelCopy.attributes.ip_subnet" ng-model-master="networkFormLanCtrl.model.attributes.ip_subnet" ng-pattern="networkFormLanCtrl.patterns.subnet"'+n("required",!0,!0,!0)+'><unifi-tooltip><content translate="SETTINGS_NETWORKS_TOOLTIP_GATEWAY_SUBNET"></content></unifi-tooltip><button class="appMainButton appMainButton--cozy updateDhcpRange" type="button" ng-if="networkFormLanCtrl.showUpdateDhcpRangePrompt()" ng-click="networkFormLanCtrl.updateDhcpRange()" ng-class="isDark ?                 \'appMainButton--secondaryDark\' :                 \'appMainButton--secondary\'              ">{{\'SETTINGS_NETWORK_BUTTON_UPDATE_DHCP_RANGE\' | translate}}</button></div></div></div><div unifi-network-form-details-network="networkFormLanCtrl.modelCopy.attributes.ip_subnet"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_DOMAIN_NAME"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="text" name="networkDomainName" ng-model="networkFormLanCtrl.modelCopy.attributes.domain_name" ng-model-master="networkFormLanCtrl.model.attributes.domain_name" ng-pattern="networkFormLanCtrl.patterns.fqdnOrLocal"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_IGMP_SNOOPING"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkEnableIgmpSnooping" id="networkEnableIgmpSnooping" ng-model="networkFormLanCtrl.modelCopy.attributes.igmp_snooping" ng-model-master="networkFormLanCtrl.model.attributes.igmp_snooping"><label for="networkEnableIgmpSnooping" translate="SETTINGS_NETWORK_VALUES_IGMP_SNOOPING_ENABLED"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="usw"></unifi-notify-device-requirement></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_DHCP_MODE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dhcpMode" id="dhcpModeServer" value="server" ng-model="networkFormLanCtrl.dhcpModeCopy" ng-model-master="networkFormLanCtrl.dhcpMode"'+n("required",!0,!0,!0)+'><label for="dhcpModeServer">{{\'SETTINGS_NETWORK_VALUES_DHCP_MODE_SERVER\' | translate}}</label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dhcpMode" id="dhcpModeRelay" value="relay" ng-model="networkFormLanCtrl.dhcpModeCopy" ng-model-master="networkFormLanCtrl.dhcpMode"'+n("required",!0,!0,!0)+'><label for="dhcpModeRelay">{{\'SETTINGS_NETWORK_VALUES_DHCP_MODE_RELAY\' | translate}}</label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dhcpMode" id="dhcpModeNone" value="none" ng-model="networkFormLanCtrl.dhcpModeCopy" ng-model-master="networkFormLanCtrl.dhcpMode"'+n("required",!0,!0,!0)+'><label for="dhcpModeNone">{{\'SETTINGS_NETWORK_VALUES_DHCP_MODE_NONE\' | translate}}</label></div></div><div class="appInfoBox appInfoBox--info appInfoBox--cozy verticalRhythmTop--cozy" ng-show="setVisibility(\'dhcp_relay\', networkFormLanCtrl.dhcpModeCopy === \'relay\')" ng-class="{\'appInfoBox--dark\': isDark}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p translate="SETTINGS_NETWORK_INFO_BOX_DHCP_RELAY" translate-values="{servicesLink: \'manage.site.settings.services.dhcprelay\'}"'+n("translate-compile",!0,!0,!0)+'></p></div></div></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-show="setVisibility(\'dhcpd_server\', networkFormLanCtrl.dhcpModeCopy === \'server\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_DHCP_RANGE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" name="networkDhcpStart" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_start" ng-model-master="networkFormLanCtrl.model.attributes.dhcpd_start" ng-model-master-cleanup="true" unifi-validate-ip-in-subnet="getVisibility(\'dhcpd_server\') ? networkFormLanCtrl.modelCopy.attributes.ip_subnet : null" ng-required="getVisibility(\'dhcpd_server\')"><label>-</label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" name="networkDhcpStop" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_stop" ng-model-master="networkFormLanCtrl.model.attributes.dhcpd_stop" ng-model-master-cleanup="true" unifi-validate-ip-in-subnet="getVisibility(\'dhcpd_server\') ? networkFormLanCtrl.modelCopy.attributes.ip_subnet : null" ng-required="getVisibility(\'dhcpd_server\')"></div><div class="appTooltipContainer appTooltipContainer--iconPrompt appTooltipContainer--hoverable appTooltip--boxAlign" ng-if="networkFormLanCtrl.isDhcpRangeLimited"><div class="icon ubnt-icon--alert-fill warning"></div><div class="appTooltip appTooltip--top" ng-class="{\'appTooltip--dark\': isDark}">{{\'SETTINGS_NETWORKS_TOOLTIP_DHCP_LEASES_LIMITED\' | translate:{maxDhcpLeases: networkFormLanCtrl.NETWORK_DEFAULTS.MAX_DHCP_LEASES} }}</div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_DHCP_NAME_SERVER"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="networkDhcpDnsShared" id="networkDhcpDnsDisabledShared" ng-value="false" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_dns_enabled" ng-model-master="networkFormLanCtrl.masterWithDefaults.dhcpd_dns_enabled" ng-model-master-cleanup="true"><label for="networkDhcpDnsDisabledShared" translate="SETTINGS_NETWORK_VALUES_DHCP_SERVER_AUTO"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="networkDhcpDnsShared" id="networkDhcpDnsEnabledShared" ng-value="true" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_dns_enabled" ng-model-master="networkFormLanCtrl.masterWithDefaults.dhcpd_dns_enabled" ng-model-master-cleanup="true"><label for="networkDhcpDnsEnabledShared" translate="SETTINGS_NETWORK_VALUES_DHCP_SERVER_MANUAL"></label></div><div class="appInputGroup inlineBlock"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="num in [1, 2, 3, 4]"><input type="text" name="networkDhcpDnsServer1" ng-model="networkFormLanCtrl.modelCopy.attributes[\'dhcpd_dns_\' + num]" ng-model-master="networkFormLanCtrl.model.attributes[\'dhcpd_dns_\' + num]" ng-model-master-cleanup="true" ng-pattern="networkFormLanCtrl.patterns.ipAddress" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.dhcpd_dns_enabled" ng-required="getVisibility(\'dhcpd_server\') &amp;&amp; networkFormLanCtrl.modelCopy.attributes.dhcpd_dns_enabled &amp;&amp; num === 1" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_NAME_SERVER\' | translate:{num: num} }}"></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_DHCP_LEASE_TIME"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="number" min="0" max="31536000" size="8" name="networkDhcpLeaseTime" id="networkDhcpLeaseTime" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_leasetime" ng-model-master="networkFormLanCtrl.masterWithDefaults.dhcpd_leasetime" ng-model-master-cleanup="true" ng-required="getVisibility(\'dhcpd_server\')"'+n("unifi-string-to-integer-input",!0,!0,!0)+'><label for="networkDhcpLeaseTime" translate="DATETIME_SECONDS_FULL"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_DHCP_GATEWAY"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="networkDhcpGatewayIpShared" id="networkDhcpGatewayIpDisabledShared" ng-value="false" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_gateway_enabled" ng-model-master="networkFormLanCtrl.masterWithDefaults.dhcpd_gateway_enabled" ng-model-master-cleanup="true"><label for="networkDhcpGatewayIpDisabledShared" translate="SETTINGS_NETWORK_VALUES_DHCP_GATEWAY_AUTO"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="networkDhcpGatewayIpShared" id="networkDhcpGatewayIpEnabledShared" ng-value="true" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_gateway_enabled" ng-model-master="networkFormLanCtrl.masterWithDefaults.dhcpd_gateway_enabled" ng-model-master-cleanup="true"><label for="networkDhcpGatewayIpEnabledShared" translate="SETTINGS_NETWORK_VALUES_DHCP_GATEWAY_MANUAL"></label></div><div class="appInputGroup inlineBlock"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" name="networkDhcpGateway" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_gateway" ng-model-master="networkFormLanCtrl.model.attributes.dhcpd_gateway" ng-model-master-cleanup="true" unifi-validate-ip-in-subnet="getVisibility(\'dhcpd\') ? networkFormLanCtrl.modelCopy.attributes.ip_subnet : null" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.dhcpd_gateway_enabled" ng-required="{{ networkFormLanCtrl.modelCopy.attributes.dhcpd_gateway_enabled }}" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_DHCP_GATEWAY_IP\' | translate }}"></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_DHCP_UNIFI_CONTROLLER"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" name="networkDhcpUnfiController" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_unifi_controller" ng-model-master="networkFormLanCtrl.model.attributes.dhcpd_unifi_controller" ng-model-master-cleanup="true" ng-pattern="networkFormLanCtrl.patterns.ipAddress" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_UNIFI_CONTROLLER\' | translate }}"><unifi-tooltip><content translate="SETTINGS_NETWORKS_TOOLTIP_DHCP_OPTION_43"></content></unifi-tooltip></div></div></div></div></div></fieldset><div class="unifiSettingsSection verticalRhythmTop--condensed"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_DHCP_GUARDING"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="networkEnableDhcpGuard" id="networkEnableDhcpGuard" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpguard_enabled" ng-model-master="networkFormLanCtrl.model.attributes.dhcpguard_enabled"><label for="networkEnableDhcpGuard" translate="SETTINGS_NETWORK_VALUES_DHCP_GUARDING_ENABLED"></label></div><div class="appInputGroup inlineBlock" ng-repeat="num in [1, 2, 3]"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" name="networkEnableDhcpGuardServer{{num}}" ng-model="networkFormLanCtrl.modelCopy.attributes[\'dhcpd_ip_\' + num]" ng-model-master="networkFormLanCtrl.model.attributes[\'dhcpd_ip_\' + num]" ng-model-master-cleanup="true" ng-pattern="networkFormLanCtrl.patterns.ipAddress" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.dhcpguard_enabled" ng-required="networkFormLanCtrl.modelCopy.attributes.dhcpguard_enabled &amp;&amp; num === 1" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_TRUSTED_DHCP_SERVER_IP\' | translate:{num: num} }}"></div></div><unifi-tooltip><content translate="SETTINGS_NETWORKS_TOOLTIP_DHCP_GUARDING"></content></unifi-tooltip><unifi-notify-device-requirement unifi-notify-device-requirement-type="usw"></unifi-notify-device-requirement></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_UPNP"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="networkUpnpEnable" id="networkUpnpEnable" ng-model="networkFormLanCtrl.modelCopy.attributes.upnp_lan_enabled" ng-model-master="networkFormLanCtrl.model.attributes.upnp_lan_enabled"><label for="networkUpnpEnable" translate="SETTINGS_NETWORK_LABEL_UPNP_ENABLE"></label></div><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement><div class="appInputFeedback appInputFeedback--danger" ng-if="networkFormLanCtrl.form.networkUpnpEnable.$invalid" translate="SETTINGS_NETWORKS_VALIDATION_UPNP_SERVICE_REQUIRED"></div></div></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-show="setVisibility(\'dhcpd\', networkFormLanCtrl.dhcpModeCopy === \'server\')"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="networkFormLanCtrl.isAdvancedExpanded = !networkFormLanCtrl.isAdvancedExpanded" ng-class="networkFormLanCtrl.isAdvancedExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="SETTINGS_SITE_LABEL_ADVANCED_DHCP_OPTIONS"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="networkFormLanCtrl.isAdvancedExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_NTP_SERVER"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="networkEnableDhcpNtpServer" id="networkEnableDhcpNtpServer" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_ntp_enabled" ng-model-master="networkFormLanCtrl.model.attributes.dhcpd_ntp_enabled" ng-model-master-cleanup="true"><label for="networkEnableDhcpNtpServer" translate="SETTINGS_NETWORK_VALUES_DHCP_NTP_SERVER_ENABLED"></label></div><div class="appInputGroup inlineBlock"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="num in [1, 2]"><input type="text" name="networkDhcpDnsServer{{num}}" ng-model="networkFormLanCtrl.modelCopy.attributes[\'dhcpd_ntp_\' + num]" ng-model-master="networkFormLanCtrl.model.attributes[\'dhcpd_ntp_\' + num]" ng-model-master-cleanup="true" ng-pattern="networkFormLanCtrl.patterns.ipAddress" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.dhcpd_ntp_enabled" ng-required="networkFormLanCtrl.modelCopy.attributes.dhcpd_ntp_enabled &amp;&amp; num === 1" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_NTP_SERVER\' | translate:{num: num} }}"></div><unifi-tooltip><content translate="SETTINGS_NETWORKS_TOOLTIP_DHCP_OPTION_NTP_SERVER"></content></unifi-tooltip></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_BOOT"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="networkEnableNetworkBoot" id="networkEnableNetworkBoot" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_boot_enabled" ng-model-master="networkFormLanCtrl.model.attributes.dhcpd_boot_enabled" ng-model-master-cleanup="true"><label for="networkEnableNetworkBoot" translate="SETTINGS_NETWORK_VALUES_BOOT_ENABLED"></label></div><div class="appInputGroup inlineBlock"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" name="networkBootServer" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_boot_server" ng-model-master="networkFormLanCtrl.model.attributes.dhcp_boot_server" ng-model-master-cleanup="true" ng-pattern="networkFormLanCtrl.patterns.hostnameOrIpAddress" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.dhcpd_boot_enabled" ng-required="networkFormLanCtrl.modelCopy.attributes.dhcpd_boot_enabled" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_BOOT_SERVER\' | translate }}"><input type="text" name="networkBootFilename" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_boot_filename" ng-model-master="networkFormLanCtrl.model.attributes.dhcp_boot_filename" ng-model-master-cleanup="true" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.dhcpd_boot_enabled" ng-required="networkFormLanCtrl.modelCopy.attributes.dhcpd_boot_enabled" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_BOOT_FILENAME\' | translate }}"></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_DHCP_TIME_OFFSET"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="networkEnableDhcpTimeOffset" id="networkEnableDhcpTimeOffset" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_time_offset_enabled" ng-model-master="networkFormLanCtrl.model.attributes.dhcpd_time_offset_enabled" ng-model-master-cleanup="true"><label for="networkEnableDhcpTimeOffset" translate="SETTINGS_NETWORK_VALUES_DHCP_TIME_OFFSET_ENABLED"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="number" min="{{networkFormLanCtrl.minDhcpTimeOffset}}" max="{{networkFormLanCtrl.maxDhcpTimeOffset}}" name="networkDhcpTimeOffset" id="networkDhcpTimeOffset" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_time_offset" ng-model-master="networkFormLanCtrl.model.attributes.dhcpd_time_offset" ng-model-master-cleanup="true" ng-required="getVisibility(\'dhcpd_server\') &amp;&amp; networkFormLanCtrl.modelCopy.attributes.dhcpd_time_offset_enabled" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.dhcpd_time_offset_enabled"><label class="unifiSettingsNetworkDhcpdTimeOffsetLabel" for="networkDhcpTimeOffset" translate="DATETIME_SECONDS_FULL" ng-class="{\'is-label-disabled\': !networkFormLanCtrl.modelCopy.attributes.dhcpd_time_offset_enabled}"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_WPAD_URL"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="url" name="networkDhcpWpadUrl" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_wpad_url" ng-model-master="networkFormLanCtrl.model.attributes.dhcpd_wpad_url" ng-model-master-cleanup="true"></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_TFTP_SERVER"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" name="networkDhcpTftpServer" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_tftp_server" ng-model-master="networkFormLanCtrl.model.attributes.dhcpd_tftp_server" ng-model-master-cleanup="true"></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_DHCP_WINS_SERVER"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="networkEnableDhcpWinsServer" id="networkEnableDhcpWinsServer" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpd_wins_enabled" ng-model-master="networkFormLanCtrl.model.attributes.dhcpd_wins_enabled" ng-model-master-cleanup="true"><label for="networkEnableDhcpWinsServer" translate="SETTINGS_NETWORK_VALUES_DHCP_WINS_SERVER_ENABLED"></label></div><div class="appInputGroup inlineBlock"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="num in [1, 2]"><input type="text" name="networkDhcpWinsServer{{num}}" ng-model="networkFormLanCtrl.modelCopy.attributes[\'dhcpd_wins_\' + num]" ng-model-master="networkFormLanCtrl.model.attributes[\'dhcpd_wins_\' + num]" ng-model-master-cleanup="true" ng-pattern="networkFormLanCtrl.patterns.ipAddress" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.dhcpd_wins_enabled" ng-required="getVisibility(\'dhcpd_server\') &amp;&amp; networkFormLanCtrl.modelCopy.attributes.dhcpd_wins_enabled &amp;&amp; num === 1" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_WINS_SERVER\' | translate:{num: num} }}"></div></div></div></div></div><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone verticalRhythmTop--condensed">{{ "SETTINGS_SITE_LABEL_DHCP_USER_OPTIONS" | translate }}<a class="appMainButton appMainButton--tertiary appMainButton--condensed floatRight" ui-sref="manage.site.settings.services.dhcp.dhcpOptions"><span class="button__icon ubnt-icon--gears"></span><span translate="SETTINGS_NETWORK_LABEL_CONFIGURE_DHCPD_USER_OPTIONS"></span></a></div><div class="appRow" collection-view-repeat="dhcpOption in networkFormLanCtrl.dhcpOptionsView.getModels()"><div class="col--sm3"><label class="appLabel--primary">{{dhcpOption.get(\'name\')}}</label></div><div class="col--sm6"><div class="appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy" ng-if="dhcpOption.get(\'type\') === \'boolean\'"><input type="checkbox" id="dhcpOptionInput{{num}}" ng-model="networkFormLanCtrl.modelCopy.attributes[networkFormLanCtrl.DHCP_USER_OPTION_PREFIX + dhcpOption.id]" ng-model-master="networkFormLanCtrl.model.attributes[networkFormLanCtrl.DHCP_USER_OPTION_PREFIX + dhcpOption.id]" ng-model-master-cleanup="true"><label for="dhcpOptionInput{{num}}" translate="SETTINGS_DHCP_LABEL_ENABLE_CODE" translate-values="{optionName: dhcpOption.get(\'name\')}"></label></div><div class="appInputGroup appInputGroup--cozy" ng-if="dhcpOption.get(\'type\') === \'hexarray\'"><input type="text" name="{{dhcpOption.name}}_value" ng-model="networkFormLanCtrl.modelCopy.attributes[networkFormLanCtrl.DHCP_USER_OPTION_PREFIX + dhcpOption.id]" ng-model-master="networkFormLanCtrl.model.attributes[networkFormLanCtrl.DHCP_USER_OPTION_PREFIX + dhcpOption.id]" ng-model-master-cleanup="true" ng-pattern="networkFormLanCtrl.patterns.hexArray" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_DHCP_OPTION_HEX_ARRAY\' | translate }}"><unifi-tooltip><content translate="SETTINGS_NETWORKS_TOOLTIP_DHCP_OPTION_HEX_ARRAY"></content></unifi-tooltip></div><div class="appInputGroup appInputGroup--cozy" ng-if="dhcpOption.get(\'type\') === \'integer\'"><input type="number" min="{{networkFormLanCtrl.getDhcpOptionIntegerMin(dhcpOption)}}" max="{{networkFormLanCtrl.getDhcpOptionIntegerMax(dhcpOption)}}" ng-model="networkFormLanCtrl.modelCopy.attributes[networkFormLanCtrl.DHCP_USER_OPTION_PREFIX + dhcpOption.id]" ng-model-master="networkFormLanCtrl.model.attributes[networkFormLanCtrl.DHCP_USER_OPTION_PREFIX + dhcpOption.id]" ng-model-master-cleanup="true"><unifi-tooltip><content translate="SETTINGS_NETWORKS_TOOLTIP_DHCP_OPTION_INTEGER" translate-values="{min: networkFormLanCtrl.getDhcpOptionIntegerMin(dhcpOption),  max: networkFormLanCtrl.getDhcpOptionIntegerMax(dhcpOption)}"></content></unifi-tooltip></div><div class="appInputGroup appInputGroup--cozy" ng-if="dhcpOption.get(\'type\') === \'ipaddress\'"><input type="text" name="{{dhcpOption.name}}_value" ng-model="networkFormLanCtrl.modelCopy.attributes[networkFormLanCtrl.DHCP_USER_OPTION_PREFIX + dhcpOption.id]" ng-model-master="networkFormLanCtrl.model.attributes[networkFormLanCtrl.DHCP_USER_OPTION_PREFIX + dhcpOption.id]" ng-model-master-cleanup="true" ng-pattern="networkFormLanCtrl.patterns.ipAddress" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_DHCP_OPTION_IP_ADDRESS\' | translate }}"></div><div class="appInputGroup appInputGroup--cozy" ng-if="dhcpOption.get(\'type\') === \'macaddress\'"><input type="text" name="{{dhcpOption.name}}_value" ng-model="networkFormLanCtrl.modelCopy.attributes[networkFormLanCtrl.DHCP_USER_OPTION_PREFIX + dhcpOption.id]" ng-model-master="networkFormLanCtrl.model.attributes[networkFormLanCtrl.DHCP_USER_OPTION_PREFIX + dhcpOption.id]" ng-model-master-cleanup="true" ng-pattern="networkFormLanCtrl.patterns.macAddress" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_DHCP_OPTION_MAC_ADDRESS\' | translate }}"></div><div class="appInputGroup appInputGroup--cozy" ng-if="dhcpOption.get(\'type\') === \'text\'"><input type="text" name="{{dhcpOption.name}}_value" ng-model="networkFormLanCtrl.modelCopy.attributes[networkFormLanCtrl.DHCP_USER_OPTION_PREFIX + dhcpOption.id]" ng-model-master="networkFormLanCtrl.model.attributes[networkFormLanCtrl.DHCP_USER_OPTION_PREFIX + dhcpOption.id]" ng-model-master-cleanup="true" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_DHCP_OPTION_TEXT\' | translate }}"></div></div></div></div></div></fieldset></div></fieldset><fieldset class="appFieldset appFieldset--quiet"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy" ng-click="networkFormLanCtrl.isIpv6Expanded = !networkFormLanCtrl.isIpv6Expanded" ng-class="networkFormLanCtrl.isIpv6Expanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'"><span>{{\'SETTINGS_SITE_LABEL_ADVANCED_IPV6_OPTIONS\' | translate}}</span><span class="appBadge appBadge--warning horizontalRhythmLeft--cozy">{{\'COMMON_ALPHA\' | translate}}</span></div><fieldset class="appFieldset appFieldset--quiet" ng-show="networkFormLanCtrl.isIpv6Expanded"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_INTERFACE_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="ipv6InterfaceType" id="ipv6InterfaceTypeNone" value="none" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_interface_type"'+n("required",!0,!0,!0)+'><label for="ipv6InterfaceTypeNone" translate="SETTINGS_NETWORK_VALUES_IPV6_INTERFACE_TYPE_NONE"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="ipv6InterfaceType" id="ipv6InterfaceTypeStatic" value="static" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_interface_type"'+n("required",!0,!0,!0)+'><label for="ipv6InterfaceTypeStatic" translate="SETTINGS_NETWORK_VALUES_IPV6_INTERFACE_TYPE_STATIC"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="ipv6InterfaceType" id="ipv6InterfaceTypePd" value="pd" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_interface_type"'+n("required",!0,!0,!0)+'><label for="ipv6InterfaceTypePd" translate="SETTINGS_NETWORK_VALUES_IPV6_INTERFACE_TYPE_PD"></label></div></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-show="networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type === \'static\'"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_SUBNET"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input class="input--half" type="text" name="networkIpv6Subnet" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_subnet" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_subnet" ng-pattern="networkFormLanCtrl.patterns.ipv6Subnet" ng-required="networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type === \'static\'"><unifi-tooltip><content translate="SETTINGS_NETWORKS_TOOLTIP_GATEWAY_IPV6_SUBNET"></content></unifi-tooltip><button class="appMainButton appMainButton--cozy updateDhcpRange" type="button" ng-if="networkFormLanCtrl.showUpdateIPv6DhcpRangePrompt()" ng-click="networkFormLanCtrl.updateIPv6DhcpRange()" ng-class="isDark ?                         \'appMainButton--secondaryDark\' :                         \'appMainButton--secondary\'                      ">{{\'SETTINGS_NETWORK_BUTTON_UPDATE_DHCP_IPV6_RANGE\' | translate}}</button></div></div></div><div unifi-network-form-details-network-v6="networkFormLanCtrl.modelCopy.attributes.ipv6_subnet"></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type === \'pd\'"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_PD_INTERFACE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="ipv6PdInterface" id="ipv6PdInterfaceWan1" value="wan" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_pd_interface" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_pd_interface"><label for="ipv6PdInterfaceWan1">{{"SETTINGS_NETWORK_VALUES_GATEWAY_IPV6_PD_INTERFACE_WAN" | translate}}</label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="ipv6PdInterface" id="ipv6PdInterfaceWan2" value="wan2" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_pd_interface" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_pd_interface"><label for="ipv6PdInterfaceWan2">{{"SETTINGS_NETWORK_VALUES_GATEWAY_IPV6_PD_INTERFACE_WAN2" | translate}}</label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_PD_PREFIX_ID"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input class="input--full" type="text" name="ipv6PdPrefixid" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_pd_prefixid" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_pd_prefixid" ng-pattern="networkFormLanCtrl.patterns.ipv6PDPrefixId"></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet verticalRhythmTop--cozy" ng-show="networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type !== \'none\'"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_RA"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="ipv6RaEnabled" id="ipv6RaEnabled" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_ra_enabled" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_ra_enabled"><label for="ipv6RaEnabled" translate="SETTINGS_NETWORK_VALUES_GATEWAY_IPV6_RA_ENABLED"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_RA_PRIORITY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="ipv6RaPriority" id="ipv6RaPriorityHigh" value="high" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_ra_priority" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_ra_priority" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.ipv6_ra_enabled"><label for="ipv6RaPriorityHigh" translate="SETTINGS_NETWORK_VALUES_GATEWAY_IPV6_RA_PRIORITY_HIGH"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="ipv6RaPriority" id="ipv6RaPriorityMedium" value="medium" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_ra_priority" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_ra_priority" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.ipv6_ra_enabled"><label for="ipv6RaPriorityMedium" translate="SETTINGS_NETWORK_VALUES_GATEWAY_IPV6_RA_PRIORITY_MEDIUM"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="ipv6RaPriority" id="ipv6RaPriorityLow" value="low" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_ra_priority" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_ra_priority" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.ipv6_ra_enabled"><label for="ipv6RaPriorityLow" translate="SETTINGS_NETWORK_VALUES_GATEWAY_IPV6_RA_PRIORITY_LOW"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_RA_VALID_LIFETIME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input class="input--half" type="number" min="0" name="ipv6RaValidLifetime" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_ra_valid_lifetime" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_ra_valid_lifetime" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.ipv6_ra_enabled"'+n("unifi-string-to-integer-input",!0,!0,!0)+'><unifi-tooltip><content translate="SETTINGS_NETWORKS_TOOLTIP_DHCP_IPV6_RA_VALID_LIFETIME"></content></unifi-tooltip></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_RA_PREFERRED_LIFETIME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input class="input--half" type="number" min="0" max="{{networkFormLanCtrl.modelCopy.attributes.ipv6_ra_valid_lifetime}}" name="ipv6RaPreferredLifetime" ng-model="networkFormLanCtrl.modelCopy.attributes.ipv6_ra_preferred_lifetime" ng-model-master="networkFormLanCtrl.model.attributes.ipv6_ra_preferred_lifetime" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.ipv6_ra_enabled"'+n("unifi-string-to-integer-input",!0,!0,!0)+'><unifi-tooltip><content translate="SETTINGS_NETWORKS_TOOLTIP_DHCP_IPV6_RA_PREFERED_LIFETIME"></content></unifi-tooltip></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet verticalRhythmTop--cozy" ng-show="networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type === \'static\'"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_DHCP"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="dhcpdv6Enabled" id="dhcpdv6Enabled" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpdv6_enabled" ng-model-master="networkFormLanCtrl.model.attributes.dhcpdv6_enabled"><label for="dhcpdv6Enabled" translate="SETTINGS_NETWORK_VALUES_GATEWAY_IPV6_DHCP_ENABLED"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_DHCP_RANGE"></label></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="dhcpdv6Start" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpdv6_start" ng-model-master="networkFormLanCtrl.model.attributes.dhcpdv6_start" ng-model-master-cleanup="true" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.dhcpdv6_enabled" unifi-validate-ipv6-in-subnet="(networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type === \'static\' &amp;&amp;                         networkFormLanCtrl.modelCopy.attributes.dhcpdv6_enabled) ?                         networkFormLanCtrl.modelCopy.attributes.ipv6_subnet : null" ng-required="networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type === \'static\' &amp;&amp; networkFormLanCtrl.modelCopy.attributes.dhcpdv6_enabled"></div></div><div class="pull-left appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><label>-</label></div></div><div class="col--sm4 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="dhcpdv6Stop" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpdv6_stop" ng-model-master="networkFormLanCtrl.model.attributes.dhcpdv6_stop" ng-model-master-cleanup="true" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.dhcpdv6_enabled" unifi-validate-ipv6-in-subnet="(networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type === \'static\' &amp;&amp;                         networkFormLanCtrl.modelCopy.attributes.dhcpdv6_enabled) ?                         networkFormLanCtrl.modelCopy.attributes.ipv6_subnet : null" ng-required="networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type === \'static\' &amp;&amp; networkFormLanCtrl.modelCopy.attributes.dhcpdv6_enabled"></div></div><div class="pull-left appFormGroup appFormGroup--cozy noPaddingLeft"><div class="appTooltipContainer appTooltipContainer--iconPrompt appTooltipContainer--hoverable appTooltip--boxAlign" ng-if="networkFormLanCtrl.isDhcpV6RangeLimited"><div class="icon ubnt-icon--alert-fill warning"></div><div class="appTooltip appTooltip--top" ng-class="{\'appTooltip--dark\': isDark}">{{\'SETTINGS_NETWORKS_TOOLTIP_DHCP_IPV6_LEASES_LIMITED\' | translate:{maxDhcpLeases: networkFormLanCtrl.NETWORK_DEFAULTS.MAX_DHCPV6_LEASES} }}</div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_DHCP_LEASE_TIME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input class="input--half" type="number" min="0" max="31536000" name="dhcpdv6LeaseTime" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpdv6_leasetime" ng-model-master="networkFormLanCtrl.model.attributes.dhcpdv6_leasetime" ng-disabled="!networkFormLanCtrl.modelCopy.attributes.dhcpdv6_enabled"'+n("unifi-string-to-integer-input",!0,!0,!0)+'></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet verticalRhythmTop--cozy" ng-show="networkFormLanCtrl.modelCopy.attributes.ipv6_interface_type !== \'none\'"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_DHCP_NAME_SERVER_AUTO"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dhcpdv6DnsAuto" id="dhcpdv6DnsAutoOn" ng-value="true" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpdv6_dns_auto" ng-model-master="networkFormLanCtrl.model.attributes.dhcpdv6_dns_auto"'+n("required",!0,!0,!0)+'><label for="dhcpdv6DnsAutoOn" translate="SETTINGS_NETWORK_VALUES_IPV6_DHCP_NAME_SERVER_AUTO"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="dhcpdv6DnsAuto" id="dhcpdv6DnsAutoOff" ng-value="false" ng-model="networkFormLanCtrl.modelCopy.attributes.dhcpdv6_dns_auto" ng-model-master="networkFormLanCtrl.model.attributes.dhcpdv6_dns_auto"'+n("required",!0,!0,!0)+'><label for="dhcpdv6DnsAutoOff" translate="SETTINGS_NETWORK_VALUES_IPV6_DHCP_NAME_SERVER_MANUAL"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_IPV6_DHCP_NAME_SERVER"></label></div><div class="col--sm4" ng-repeat="num in [1, 2, 3, 4]" ng-class="{\'col--smOffset3\': num &gt; 2 &amp;&amp; num % 2 !== 0}"><div class="appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="dhcpdv6Dns_{{num}}" ng-model="networkFormLanCtrl.modelCopy.attributes[\'dhcpdv6_dns_\' + num]" ng-model-master="networkFormLanCtrl.model.attributes[\'dhcpdv6_dns_\' + num]" ng-model-master-cleanup="true" ng-pattern="networkFormLanCtrl.patterns.ipv6Address" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_IPV6_DHCP_NAME_SERVER\' | translate:{num: num} }}"></div></div></div></div></fieldset></fieldset></div></fieldset></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush" ng-if="isModal" ng-class="{\'appFormFooter--dark\': isDark}"><div class="appFormFooter__right"><button class="appMainButton appMainButton--cozy cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="isDark ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary saveNetwork" ng-if="!isReadOnly" ng-click="networkFormLanCtrl.showValidation = true" busy-toggle="networkFormLanCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button></div></div><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-if="!isModal" ng-class="{\'appFormFooter--dark\': isDark}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveNetwork" ng-if="!isReadOnly" ng-click="networkFormLanCtrl.showValidation = true" busy-toggle="networkFormLanCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="isDark ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],390:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(t,e,i,o,r,a,s,l,c){this.$translate=t,this.heyToasts=e,this.networks=i,this.networkUtils=o,this.preferences=r,this.ipUtils=a,this.REMOTE_USER_VPN_TYPES=c,this.patterns={name:l.NAME,ipAddress:l.IPV4_ADDRESS,portNumber:l.PORT_NUMBER,subnet:l.IPV4_SUBNET},n.call(this,s)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){this.isSubmitting=!0;var t=angular.extend({},this.modelCopy.attributes,{enabled:!0,is_nat:!0});return this.networkUtils.saveNetwork(this.model,t).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.updateDhcpRange=function(){if(this.modelCopy&&this.form.networkIpSubnet.$valid){var t=this.modelCopy.get("ip_subnet"),e=this.ipUtils.recommendSubnet(t,!1);this.modelCopy.attributes.dhcpd_start=e.dhcpStartIp,this.modelCopy.attributes.dhcpd_stop=e.dhcpStopIp}},o.prototype.updateVpnTypeAvailability=function(){this.vpnTypeOptions=angular.copy(this.REMOTE_USER_VPN_TYPES);var t=this.networks.repository.collection.map(function(t){return"remote-user-vpn"!==t.get("purpose")||this.model&&t.id===this.model.id?void 0:t.get("vpn_type")}.bind(this)).filter(function(t){return t});this.vpnTypeOptions.forEach(function(e){e.isDisabled=-1!==t.indexOf(e.value)})},o.prototype.setDefaultAttrs=function(t){var e=t?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+e]){this["model"+e].attributes.purpose=(this.model?this.model.get("purpose"):void 0)||"remote-user-vpn";var i={dhcpd_dns_enabled:(this.model?this.model.get("dhcpd_dns_enabled"):void 0)||!1};angular.extend(t?this.masterWithDefaults:this.modelCopy.attributes,i)}},o.prototype.onModelChange=function(){this.updateVpnTypeAvailability(),this.setDefaultAttrs(!0)},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$translate","heyToasts","networks","networkUtils","preferences","ipUtils","modelDivergence","REGEX_PATTERNS","REMOTE_USER_VPN_TYPES"],angular.module("app-unifi-manage").controller("NetworkFormRemoteUserVpnController",o)},{}],391:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNetworkFormRemoteUserVpn",["$timeout","$stateParams","sharedAttrsDirectiveMixin",function(e,i,n){return{scope:{model:"=unifiNetworkFormRemoteUserVpn",attrs:"=unifiNetworkFormRemoteUserVpnAttrs",onSave:"&unifiNetworkFormRemoteUserVpnOnSave",onCancel:"&unifiNetworkFormRemoteUserVpnOnCancel",isReadOnly:"=unifiNetworkFormRemoteUserVpnIsReadOnly"},controller:"NetworkFormRemoteUserVpnController",controllerAs:"networkFormRemoteUserVpnCtrl",template:t("./networkFormRemoteUserVpn.pug")(),link:function(t,o,r,a){t.directiveId=t.$id,t.onSubmit=function(e){!0===e&&t.onSave()},t.$watch(function(){return a.modelCopy?a.modelCopy.get("ip_subnet"):void 0},function(t){t&&a.updateDhcpRange()}),t.$watch("model",function(t){a.updateModel(t)}),t.$on("$destroy",function(){a.removeEventHandlers()}),t.getVisibility=a.getVisibility.bind(a),t.setVisibility=a.setVisibility.bind(a),e(function(){t.isLoaded=!0},0),"add"===i.action&&n.init(t,o,r,a,["name"])}}}])},{"./networkFormRemoteUserVpn.pug":392}],392:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="networkFormRemoteUserVpnCtrl.form" ng-class="{    \'appForm--dark\': networkFormRemoteUserVpnCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': networkFormRemoteUserVpnCtrl.showValidation,    \'is-validation-hidden\': !networkFormRemoteUserVpnCtrl.showValidation  }" ng-submit="networkFormRemoteUserVpnCtrl.form.$valid &amp;&amp; networkFormRemoteUserVpnCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="networkFormRemoteUserVpnCtrl.resolveDivergence()" unifi-config-changed-on-ignore="networkFormRemoteUserVpnCtrl.ignoreDivergence()" unifi-config-changed-is-dark="networkFormRemoteUserVpnCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="networkFormRemoteUserVpnCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{networkName: networkFormRemoteUserVpnCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_NETWORK_SECTION_VIEW\' : (networkFormRemoteUserVpnCtrl.model.id ? \'SETTINGS_NETWORK_SECTION_EDIT\' : \'SETTINGS_NETWORK_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="networkName" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes.name" ng-model-master="networkFormRemoteUserVpnCtrl.model.attributes.name" ng-pattern="networkFormRemoteUserVpnCtrl.patterns.name"'+n("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_PURPOSE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy" unifi-network-form-input-purpose="networkFormRemoteUserVpnCtrl.model" unifi-network-form-input-purpose-is-dark="networkFormRemoteUserVpnCtrl.preferences.model.get(\'isSettingsDark\')"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_VPN_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="option in networkFormRemoteUserVpnCtrl.vpnTypeOptions"><input type="radio" name="networkVpnType" id="networkVpnType{{option.value}}" ng-value="option.value" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes.vpn_type" ng-model-master="networkFormRemoteUserVpnCtrl.model.attributes.vpn_type" ng-disabled="option.isDisabled" ng-required="!option.isDisabled"><label for="networkVpnType{{option.value}}" translate="{{option.translationKey}}"></label></div></div></div></div><div class="appRow" ng-show="setVisibility(\'l2tp\', networkFormRemoteUserVpnCtrl.modelCopy.attributes.vpn_type === \'l2tp-server\')"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_PRE_SHARED_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="networkIpsecPreSharedKey" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes.x_ipsec_pre_shared_key" ng-model-master="networkFormRemoteUserVpnCtrl.model.attributes.x_ipsec_pre_shared_key" ng-required="getVisibility(\'l2tp\')"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_GATEWAY_SUBNET"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="text" name="networkIpSubnet" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes.ip_subnet" ng-model-master="networkFormRemoteUserVpnCtrl.model.attributes.ip_subnet" ng-pattern="networkFormRemoteUserVpnCtrl.patterns.subnet"'+n("required",!0,!0,!0)+'><unifi-tooltip><content translate="SETTINGS_NETWORKS_TOOLTIP_GATEWAY_SUBNET"></content></unifi-tooltip></div></div></div><div unifi-network-form-details-network="networkFormRemoteUserVpnCtrl.modelCopy.attributes.ip_subnet" unifi-network-form-details-network-is-vpn="true"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_IP_POOL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" name="networkDhcpStart" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes.dhcpd_start" ng-model-master="networkFormRemoteUserVpnCtrl.model.attributes.dhcpd_start" unifi-validate-ip-in-subnet="networkFormRemoteUserVpnCtrl.modelCopy.attributes.ip_subnet"'+n("required",!0,!0,!0)+' disabled="true"><label>-</label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" name="networkDhcpStop" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes.dhcpd_stop" ng-model-master="networkFormRemoteUserVpnCtrl.model.attributes.dhcpd_stop" unifi-validate-ip-in-subnet="networkFormRemoteUserVpnCtrl.modelCopy.attributes.ip_subnet"'+n("required",!0,!0,!0)+' disabled="true"></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_NAME_SERVER"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="networkDhcpDnsRemote" id="networkDhcpDnsDisabledRemote" ng-value="false" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes.dhcpd_dns_enabled" ng-model-master="networkFormRemoteUserVpnCtrl.masterWithDefaults.dhcpd_dns_enabled"><label for="networkDhcpDnsDisabledRemote" translate="SETTINGS_NETWORK_VALUES_DHCP_SERVER_AUTO"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="networkDhcpDnsRemote" id="networkDhcpDnsEnabledRemote" ng-value="true" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes.dhcpd_dns_enabled" ng-model-master="networkFormRemoteUserVpnCtrl.masterWithDefaults.dhcpd_dns_enabled"><label for="networkDhcpDnsEnabledRemote" translate="SETTINGS_NETWORK_VALUES_DHCP_SERVER_MANUAL"></label></div><div class="appInputGroup inlineBlock"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="num in [1, 2]"><input type="text" name="networkDhcpDnsServer1" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes[\'dhcpd_dns_\' + num]" ng-model-master="networkFormRemoteUserVpnCtrl.model.attributes[\'dhcpd_dns_\' + num]" ng-pattern="networkFormRemoteUserVpnCtrl.patterns.ipAddress" ng-disabled="!networkFormRemoteUserVpnCtrl.modelCopy.attributes.dhcpd_dns_enabled" ng-required="networkFormRemoteUserVpnCtrl.modelCopy.attributes.dhcpd_dns_enabled &amp;&amp; num === 1" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_NAME_SERVER\' | translate:{num: num} }}"></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_WINS_SERVER"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="networkEnableDhcpWinsServer" id="networkEnableDhcpWinsServer" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes.dhcpd_wins_enabled" ng-model-master="networkFormRemoteUserVpnCtrl.model.attributes.dhcpd_wins_enabled"><label for="networkEnableDhcpWinsServer" translate="SETTINGS_NETWORK_VALUES_WINS_SERVER_ENABLED"></label></div><div class="appInputGroup inlineBlock"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="num in [1, 2]"><input type="text" name="networkDhcpWinsServer1" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes[\'dhcpd_wins_\' + num]" ng-model-master="networkFormRemoteUserVpnCtrl.model.attributes[\'dhcpd_wins_\' + num]" ng-pattern="networkFormRemoteUserVpnCtrl.patterns.ipAddress" ng-disabled="!networkFormRemoteUserVpnCtrl.modelCopy.attributes.dhcpd_wins_enabled" ng-required="networkFormRemoteUserVpnCtrl.modelCopy.attributes.dhcpd_wins_enabled &amp;&amp; num === 1" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_WINS_SERVER\' | translate:{num: num} }}"></div></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_SITE_TO_SITE_VPN"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="networkExposeToVpn" id="networkExposeToVpn" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes.exposed_to_site_vpn" ng-model-master="networkFormRemoteUserVpnCtrl.model.attributes.exposed_to_site_vpn"><label for="networkExposeToVpn" translate="SETTINGS_NETWORK_VALUES_EXPOSED_TO_VPN"></label></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_NETWORK_SECTION_RADIUS"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_RADIUS_PROFILE"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div'+n("unifi-radius-selector",!0,!0,!0)+' unifi-radius-selector-radius-profile-id="networkFormRemoteUserVpnCtrl.modelCopy.attributes.radiusprofile_id" unifi-radius-selector-is-required="true"></div></div></div></div><div class="appRow" ng-show="getVisibility(\'l2tp\')"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_MS_CHAP_V2"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><input type="checkbox" name="networkRequireMsChapV2" id="networkRequireMsChapV2" ng-model="networkFormRemoteUserVpnCtrl.modelCopy.attributes.require_mschapv2" ng-model-master="networkFormRemoteUserVpnCtrl.model.attributes.require_mschapv2"><label for="networkRequireMsChapV2" translate="SETTINGS_NETWORK_VALUES_REQUIRE_MS_CHAP_V2"></label></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': networkFormRemoteUserVpnCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveNetwork" ng-if="!isReadOnly" ng-click="networkFormRemoteUserVpnCtrl.showValidation = true" busy-toggle="networkFormRemoteUserVpnCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="networkFormRemoteUserVpnCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],393:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(t,e,i,o,r,a,s,l,c){this.DEFAULT_SITE_VPN_ROUTE_DISTANCE=30,this.$translate=t,this.heyToasts=e,this.networks=i,this.networkUtils=o,this.sites=r,this.siteUtils=a,this.preferences=s,this.patterns={name:c.NAME,hostname:c.HOSTNAME,ipAddress:c.IPV4_ADDRESS,portNumber:c.PORT_NUMBER,openvpnPreSharedKey:c.OPENVPN_PRESHARED_KEY},this.ipsecProfileOptions=[{value:"customized",translationKey:"SETTINGS_NETWORK_VALUES_IPSEC_PROFILE_CUSTOMIZED"},{value:"azure_dynamic",translationKey:"SETTINGS_NETWORK_VALUES_IPSEC_PROFILE_AZURE_DYNAMIC_ROUTING"},{value:"azure_static",translationKey:"SETTINGS_NETWORK_VALUES_IPSEC_PROFILE_AZURE_STATIC_ROUTING"}],this.ipsecKeyExchangeOptions=[{value:"ikev1",name:"IKEv1"},{value:"ikev2",name:"IKEv2"}],this.ipsecEncryptionOptions=[{value:"aes128",name:"AES-128"},{value:"aes256",name:"AES-256"},{value:"3des",name:"3DES"}],this.ipsecHashOptions=[{value:"sha1",name:"SHA1"},{value:"md5",name:"MD5"}],this.ipsecDhGroupOptions=[2,5,14,15,16,19,20,21,25,26],n.call(this,l)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){this.isSubmitting=!0;var t=angular.extend({},this.modelCopy.attributes,{is_nat:!1});return"auto"!==t.vpn_type&&delete t.remote_site_id,"ipsec-vpn"!==t.vpn_type&&(delete t.ipsec_profile,delete t.ipsec_key_exchange,delete t.ipsec_encryption,delete t.ipsec_hash,delete t.ipsec_dh_group,delete t.ipsec_pfs,delete t.ipsec_dynamic_routing),"openvpn-vpn"!==t.vpn_type&&(delete t.openvpn_mode,delete t.openvpn_remote_host,delete t.openvpn_remote_address,delete t.openvpn_remote_port,delete t.openvpn_local_address,delete t.openvpn_local_port,delete t.x_openvpn_shared_secret_key),this.networkUtils.saveNetwork(this.model,t).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.getRemoteSites=function(){var t=this.networks.repository.collection.pluck("remote_site_id"),e=(this.siteUtils.getActiveSite()||{}).id;return this.sites.repository.collection.filter(function(i){return!(i.id===e||!(this.model&&i.id===this.model.get("remote_site_id")||"admin"===i.get("role")&&-1===t.indexOf(i.id)))}.bind(this))},o.prototype.setDefaultAttrs=function(t){var e=t?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+e]){this["model"+e].attributes.purpose=(this.model?this.model.get("purpose"):void 0)||"site-vpn";var i={enabled:!this.model||!this.model.id||this.model.get("enabled"),vpn_type:(this.model?this.model.get("vpn_type"):void 0)||"auto",route_distance:(this.model?this.model.get("route_distance"):void 0)||this.DEFAULT_SITE_VPN_ROUTE_DISTANCE,ipsec_profile:(this.model?this.model.get("ipsec_profile"):void 0)||"customized",openvpn_mode:(this.model?this.model.get("openvpn_mode"):void 0)||"site-to-site",remote_vpn_subnets:this.model&&this.model.get("remote_vpn_subnets")?this.model.get("remote_vpn_subnets").slice():[]};angular.extend(t?this.masterWithDefaults:this.modelCopy.attributes,i)}},o.prototype.updateIpsecAdvancedOptions=function(t){var e;switch(t){case"azure_dynamic":e={ipsec_key_exchange:"ikev2",ipsec_encryption:"aes256",ipsec_hash:"sha1",ipsec_dh_group:2,ipsec_pfs:!0,ipsec_dynamic_routing:!0};break;case"azure_static":e={ipsec_key_exchange:"ikev1",ipsec_encryption:"aes256",ipsec_hash:"sha1",ipsec_dh_group:2,ipsec_pfs:!1,ipsec_dynamic_routing:!1};break;default:e={ipsec_key_exchange:this.modelCopy.attributes.ipsec_key_exchange||"ikev1",ipsec_encryption:this.modelCopy.attributes.ipsec_encryption||"aes128",ipsec_hash:this.modelCopy.attributes.ipsec_hash||"sha1",ipsec_dh_group:this.modelCopy.attributes.ipsec_dh_group||14,ipsec_pfs:!1!==this.modelCopy.attributes.ipsec_pfs,ipsec_dynamic_routing:!1!==this.modelCopy.attributes.ipsec_dynamic_routing}}angular.extend(this.modelCopy.attributes,e)},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$translate","heyToasts","networks","networkUtils","sites","siteUtils","preferences","modelDivergence","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("NetworkFormSiteVpnController",o)},{}],394:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNetworkFormSiteVpn",["$timeout","$stateParams","sharedAttrsDirectiveMixin",function(e,i,n){return{scope:{model:"=unifiNetworkFormSiteVpn",attrs:"=unifiNetworkFormSiteVpnAttrs",onSave:"&unifiNetworkFormSiteVpnOnSave",onCancel:"&unifiNetworkFormSiteVpnOnCancel",isReadOnly:"=unifiNetworkFormSiteVpnIsReadOnly"},controller:"NetworkFormSiteVpnController",controllerAs:"networkFormSiteVpnCtrl",template:t("./networkFormSiteVpn.pug")(),link:function(t,o,r,a){t.directiveId=t.$id,t.onSubmit=function(e){!0===e&&t.onSave()},t.$watch(function(){return a.modelCopy?a.modelCopy.get("ipsec_profile"):void 0},function(t){t&&a.updateIpsecAdvancedOptions(t)}),t.$watch("model",function(t){a.updateModel(t)}),t.$on("$destroy",function(){a.removeEventHandlers()}),t.getVisibility=a.getVisibility.bind(a),t.setVisibility=a.setVisibility.bind(a),e(function(){t.isLoaded=!0},0),"add"===i.action&&n.init(t,o,r,a,["name"])}}}])},{"./networkFormSiteVpn.pug":395}],395:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="networkFormSiteVpnCtrl.form" ng-class="{    \'appForm--dark\': networkFormSiteVpnCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': networkFormSiteVpnCtrl.showValidation,    \'is-validation-hidden\': !networkFormSiteVpnCtrl.showValidation  }" ng-submit="networkFormSiteVpnCtrl.form.$valid &amp;&amp; networkFormSiteVpnCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="networkFormSiteVpnCtrl.resolveDivergence()" unifi-config-changed-on-ignore="networkFormSiteVpnCtrl.ignoreDivergence()" unifi-config-changed-is-dark="networkFormSiteVpnCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="networkFormSiteVpnCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{networkName: networkFormSiteVpnCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_NETWORK_SECTION_VIEW\' : (networkFormSiteVpnCtrl.model.id ? \'SETTINGS_NETWORK_SECTION_EDIT\' : \'SETTINGS_NETWORK_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="networkName" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.name" ng-model-master="networkFormSiteVpnCtrl.model.attributes.name" ng-pattern="networkFormSiteVpnCtrl.patterns.name"'+n("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_PURPOSE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy" unifi-network-form-input-purpose="networkFormSiteVpnCtrl.model" unifi-network-form-input-purpose-is-dark="networkFormSiteVpnCtrl.preferences.model.get(\'isSettingsDark\')"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--withBadge" translate="SETTINGS_NETWORK_LABEL_VPN_TYPE"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="networkVpnClient" id="networkVpnClientAuto" value="auto" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.vpn_type" ng-model-master="networkFormSiteVpnCtrl.masterWithDefaults.vpn_type"><label for="networkVpnClientAuto" translate="SETTINGS_NETWORK_VALUES_VPN_CLIENT_AUTO"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="networkVpnClient" id="networkVpnClientIpSecVpn" value="ipsec-vpn" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.vpn_type" ng-model-master="networkFormSiteVpnCtrl.masterWithDefaults.vpn_type"><label for="networkVpnClientIpSecVpn" translate="SETTINGS_NETWORK_VALUES_VPN_CLIENT_IPSEC_VPN"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="networkVpnClient" id="networkVpnClientOpenVpn" value="openvpn-vpn" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.vpn_type" ng-model-master="networkFormSiteVpnCtrl.masterWithDefaults.vpn_type"><label for="networkVpnClientOpenVpn" translate="SETTINGS_NETWORK_VALUES_VPN_CLIENT_OPEN_VPN"></label></div><div class="appInfoBox appInfoBox--cozy verticalRhythmTop--cozy" ng-class="{\'appInfoBox--dark\': networkFormSiteVpnCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p translate="SETTINGS_NETWORK_TOOLTIP_VPN_CLIENTS_AUTO"></p><p translate="SETTINGS_NETWORK_TOOLTIP_VPN_CLIENTS_MANUAL"></p><p translate="SETTINGS_NETWORK_TOOLTIP_VPN_CLIENTS_RECOMMENDED"></p></div></div></div></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-show="setVisibility(\'auto\', networkFormSiteVpnCtrl.modelCopy.attributes.vpn_type === \'auto\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_REMOTE_SITE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><select class="select--full" name="networkRemoteSite" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.remote_site_id" ng-model-master="networkFormSiteVpnCtrl.model.attributes.remote_site_id" ng-options="site.id as site.get(\'desc\') for site in networkFormSiteVpnCtrl.getRemoteSites()" ng-required="getVisibility(\'auto\')"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="setVisibility(\'custom-type\', networkFormSiteVpnCtrl.modelCopy.attributes.vpn_type !== \'auto\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_ENABLED"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkEnableSiteVpn" id="networkEnableSiteVpn" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.enabled" ng-model-master="networkFormSiteVpnCtrl.model.attributes.enabled"><label for="networkEnableSiteVpn" translate="SETTINGS_NETWORK_VALUES_SITE_VPN_ENABLED"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_REMOTE_SUBNETS"></label></div><div class="col--sm5 appFormGroup appFormGroup--comfy" unifi-network-form-input-remote-subnets="networkFormSiteVpnCtrl.modelCopy.attributes.remote_vpn_subnets" unifi-network-form-input-remote-subnets-is-optional="true" unifi-network-form-input-remote-subnets-is-read-only="isReadOnly"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_ROUTE_DISTANCE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--smallNumber" type="number" name="networkRouteDistance" min="{{getVisibility(\'custom-type\') ? 1 : \'\'}}" max="{{getVisibility(\'custom-type\') ? 255 : \'\'}}" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.route_distance" ng-model-master="networkFormSiteVpnCtrl.model.attributes.route_distance" ng-required="getVisibility(\'custom-type\')"></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="setVisibility(\'ipsec\', networkFormSiteVpnCtrl.modelCopy.attributes.vpn_type === \'ipsec-vpn\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_PEER_IP"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="networkIpsecPeerIp" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.ipsec_peer_ip" ng-model-master="networkFormSiteVpnCtrl.model.attributes.ipsec_peer_ip" ng-pattern="networkFormSiteVpnCtrl.patterns.ipAddress" ng-required="getVisibility(\'ipsec\')"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_LOCAL_WAN_IP"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="networkIpsecLocalWanIp" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.ipsec_local_ip" ng-model-master="networkFormSiteVpnCtrl.model.attributes.ipsec_local_ip" ng-pattern="networkFormSiteVpnCtrl.patterns.ipAddress" ng-required="getVisibility(\'ipsec\')"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_PRE_SHARED_KEY"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="networkIpsecPreSharedKey" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.x_ipsec_pre_shared_key" ng-model-master="networkFormSiteVpnCtrl.model.attributes.x_ipsec_pre_shared_key" ng-required="getVisibility(\'ipsec\')"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_IPSEC_PROFILE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="networkIpsecProfile" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.ipsec_profile" ng-model-master="networkFormSiteVpnCtrl.masterWithDefaults.ipsec_profile" ng-options="option.value as option.translationKey | translate for option in networkFormSiteVpnCtrl.ipsecProfileOptions" ng-required="getVisibility(\'ipsec\')"></select></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet" ng-show="setVisibility(\'openvpn\', networkFormSiteVpnCtrl.modelCopy.attributes.vpn_type === \'openvpn-vpn\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_REMOTE_HOST"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="networkOpenVpnRemoteHost" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.openvpn_remote_host" ng-model-master="networkFormSiteVpnCtrl.model.attributes.openvpn_remote_host" ng-pattern="networkFormSiteVpnCtrl.patterns.hostname" ng-required="getVisibility(\'openvpn\')"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_REMOTE_ADDRESS"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" id="networkOpenVpnRemoteAddress" name="networkOpenVpnRemoteAddress" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.openvpn_remote_address" ng-model-master="networkFormSiteVpnCtrl.model.attributes.openvpn_remote_address" ng-pattern="networkFormSiteVpnCtrl.patterns.ipAddress" ng-required="getVisibility(\'openvpn\')"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="networkOpenVpnRemotePort" translate="SETTINGS_NETWORK_LABEL_PORT"></label><input type="text" size="5" id="networkOpenVpnRemotePort" name="networkOpenVpnRemotePort" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.openvpn_remote_port" ng-model-master="networkFormSiteVpnCtrl.model.attributes.openvpn_remote_port" ng-pattern="networkFormSiteVpnCtrl.patterns.portNumber" ng-required="getVisibility(\'openvpn\')"></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_LOCAL_ADDRESS"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" id="networkOpenVpnLocalAddress" name="networkOpenVpnLocalAddress" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.openvpn_local_address" ng-model-master="networkFormSiteVpnCtrl.model.attributes.openvpn_local_address" ng-pattern="networkFormSiteVpnCtrl.patterns.ipAddress" ng-required="getVisibility(\'openvpn\')"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label class="appLabel--boxInline" for="networkOpenVpnLocalPort" translate="SETTINGS_NETWORK_LABEL_PORT"></label><input type="text" size="5" id="networkOpenVpnLocalPort" name="networkOpenVpnLocalPort" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.openvpn_local_port" ng-model-master="networkFormSiteVpnCtrl.model.attributes.openvpn_local_port" ng-pattern="networkFormSiteVpnCtrl.patterns.portNumber" ng-required="getVisibility(\'openvpn\')"></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_SHARED_SECRET_KEY"></label><unifi-tooltip class="ml-1"><content translate="SETTINGS_NETWORK_TOOLTIP_VPN_OPENVPN_KEY"></content></unifi-tooltip></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="networkOpenVpnSharedSecretKey" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.x_openvpn_shared_secret_key" ng-model-master="networkFormSiteVpnCtrl.model.attributes.x_openvpn_shared_secret_key" ng-required="getVisibility(\'openvpn\')" ng-pattern="networkFormSiteVpnCtrl.patterns.openvpnPreSharedKey"></unifi-password-reveal></div></div></fieldset></div><div class="unifiSettingsSection" ng-show="getVisibility(\'ipsec\')"><div class="appSubHeading appSubHeading--comfy" ng-click="networkFormSiteVpnCtrl.isAdvancedExpanded = !networkFormSiteVpnCtrl.isAdvancedExpanded" ng-class="networkFormSiteVpnCtrl.isAdvancedExpanded ? [\'appCollapserType\', \'appSubHeading--standalone\'] : \'appExpanderType\'" translate="COMMON_SECTION_ADVANCED_OPTIONS"></div><fieldset class="appFieldset appFieldset--quiet" ng-show="networkFormSiteVpnCtrl.isAdvancedExpanded"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_KEY_EXCHANGE_VERSION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="networkIpsecKeyExchangeVersion" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.ipsec_key_exchange" ng-model-master="networkFormSiteVpnCtrl.masterWithDefaults.ipsec_key_exchange" ng-options="option.value as option.name for option in networkFormSiteVpnCtrl.ipsecKeyExchangeOptions" ng-required="getVisibility(\'ipsec\')"></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_ENCRYPTION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="networkIpsecEncryption" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.ipsec_encryption" ng-model-master="networkFormSiteVpnCtrl.masterWithDefaults.ipsec_encryption" ng-options="option.value as option.name for option in networkFormSiteVpnCtrl.ipsecEncryptionOptions" ng-required="getVisibility(\'ipsec\')"></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_HASH"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="networkIpsecHash" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.ipsec_hash" ng-model-master="networkFormSiteVpnCtrl.masterWithDefaults.ipsec_hash" ng-options="option.value as option.name for option in networkFormSiteVpnCtrl.ipsecHashOptions" ng-required="getVisibility(\'ipsec\')"></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_DH_GROUP"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><select class="select--full" name="networkIpsecDhGroup" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.ipsec_dh_group" ng-model-master="networkFormSiteVpnCtrl.masterWithDefaults.ipsec_dh_group" ng-options="option as option for option in networkFormSiteVpnCtrl.ipsecDhGroupOptions" ng-required="getVisibility(\'ipsec\')"></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_PFS"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkEnablePfs" id="networkEnablePfs" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.ipsec_pfs" ng-model-master="networkFormSiteVpnCtrl.masterWithDefaults.ipsec_pfs"><label for="networkEnablePfs" translate="SETTINGS_NETWORK_VALUES_PFS_ENABLED"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_DYNAMIC_ROUTING"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkEnableDynamicRouting" id="networkEnableDynamicRouting" ng-model="networkFormSiteVpnCtrl.modelCopy.attributes.ipsec_dynamic_routing" ng-model-master="networkFormSiteVpnCtrl.masterWithDefaults.ipsec_dynamic_routing"><label for="networkEnableDynamicRouting" translate="SETTINGS_NETWORK_VALUES_DYNAMIC_ROUTING_ENABLED"></label></div></div></div></fieldset></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': networkFormSiteVpnCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveNetwork" ng-if="!isReadOnly" ng-click="networkFormSiteVpnCtrl.showValidation = true" busy-toggle="networkFormSiteVpnCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="networkFormSiteVpnCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],396:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(t,e,i,o,r,a){this.$translate=t,this.heyToasts=e,this.networkUtils=i,this.preferences=o,this.patterns={name:a.NAME,ipAddress:a.IPV4_ADDRESS,subnet:a.IPV4_SUBNET,vlan:a.VLAN},n.call(this,r)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){this.isSubmitting=!0;var t=angular.extend({},this.modelCopy.attributes,{enabled:!0,is_nat:!0,vlan_enabled:!!this.modelCopy.get("vlan")});return this.networkUtils.saveNetwork(this.model,t).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.setDefaultAttrs=function(t){var e=t?"":"Copy";this["model"+e]&&(this["model"+e].attributes.purpose=(this.model?this.model.get("purpose"):void 0)||"vlan-only")},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$translate","heyToasts","networkUtils","preferences","modelDivergence","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("NetworkFormVlanOnlyController",o)},{}],397:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNetworkFormVlanOnly",["$timeout","$stateParams","sharedAttrsDirectiveMixin",function(e,i,n){return{scope:{model:"=unifiNetworkFormVlanOnly",allowedPurposes:"=unifiNetworkFormVlanOnlyAllowedPurposes",attrs:"=unifiNetworkFormVlanOnlyAttrs",isDark:"=unifiNetworkFormVlanOnlyIsDark",isModal:"=unifiNetworkFormVlanOnlyIsModal",onSave:"&unifiNetworkFormVlanOnlyOnSave",onCancel:"&unifiNetworkFormVlanOnlyOnCancel",isReadOnly:"=unifiNetworkFormVlanOnlyIsReadOnly"},controller:"NetworkFormVlanOnlyController",controllerAs:"networkFormVlanOnlyCtrl",template:t("./networkFormVlanOnly.pug")(),link:function(t,o,r,a){t.directiveId=t.$id,t.onSubmit=function(e){!0===e&&t.onSave()},t.$watch("model",function(t){a.updateModel(t)}),t.$on("$destroy",function(){a.removeEventHandlers()}),e(function(){t.isLoaded=!0},0),"add"===i.action&&n.init(t,o,r,a,["name"])}}}])},{"./networkFormVlanOnly.pug":398}],398:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="networkFormVlanOnlyCtrl.form" ng-class="{    \'appForm--dark\': isDark,    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': networkFormVlanOnlyCtrl.showValidation,    \'is-validation-hidden\': !networkFormVlanOnlyCtrl.showValidation  }" ng-submit="networkFormVlanOnlyCtrl.form.$valid &amp;&amp; networkFormVlanOnlyCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="networkFormVlanOnlyCtrl.resolveDivergence()" unifi-config-changed-on-ignore="networkFormVlanOnlyCtrl.ignoreDivergence()" unifi-config-changed-is-dark="isDark" unifi-config-changed-with-icon="true" ng-show="networkFormVlanOnlyCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly" ng-class="{\'appFieldset--scrollable\': isModal}"><div class="unifiSettingsSection noMarginTop" ng-class="{\'container\': isModal}"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="!isModal"'+n("translate",!0,!0,!0)+' translate-values="{networkName: networkFormVlanOnlyCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_NETWORK_SECTION_VIEW\' : (networkFormVlanOnlyCtrl.model.id ? \'SETTINGS_NETWORK_SECTION_EDIT\' : \'SETTINGS_NETWORK_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="networkName" ng-model="networkFormVlanOnlyCtrl.modelCopy.attributes.name" ng-model-master="networkFormVlanOnlyCtrl.model.attributes.name" ng-pattern="networkFormVlanOnlyCtrl.patterns.name"'+n("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_PURPOSE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy" unifi-network-form-input-purpose="networkFormVlanOnlyCtrl.model" unifi-network-form-input-purpose-allowed-purposes="allowedPurposes" unifi-network-form-input-purpose-is-dark="isDark"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_VLAN"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--smallNumber" type="text" name="networkVlan" ng-model="networkFormVlanOnlyCtrl.modelCopy.attributes.vlan" ng-model-master="networkFormVlanOnlyCtrl.model.attributes.vlan" ng-pattern="networkFormVlanOnlyCtrl.patterns.vlan"'+n("required",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="networkFormVlanOnlyCtrl.form.networkVlan.$invalid">{{\'VALIDATION_HINT_RANGE\' | translate:{min: \'2\', max: \'4009\'} }}</div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_IGMP_SNOOPING"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkEnableIgmpSnooping" id="networkEnableIgmpSnooping" ng-model="networkFormVlanOnlyCtrl.modelCopy.attributes.igmp_snooping" ng-model-master="networkFormVlanOnlyCtrl.model.attributes.igmp_snooping"><label for="networkEnableIgmpSnooping" translate="SETTINGS_NETWORK_VALUES_IGMP_SNOOPING_ENABLED"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_DHCP_GUARDING"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="networkEnableDhcpGuard" id="networkEnableDhcpGuard" ng-model="networkFormVlanOnlyCtrl.modelCopy.attributes.dhcpguard_enabled" ng-model-master="networkFormVlanOnlyCtrl.model.attributes.dhcpguard_enabled"><label for="networkEnableDhcpGuard" translate="SETTINGS_NETWORK_VALUES_DHCP_GUARDING_ENABLED"></label></div><div class="appInputGroup inlineBlock" ng-repeat="num in [1, 2, 3]"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="text" name="networkEnableDhcpGuardServer{{num}}" ng-model="networkFormVlanOnlyCtrl.modelCopy.attributes[\'dhcpd_ip_\' + num]" ng-model-master="networkFormVlanOnlyCtrl.model.attributes[\'dhcpd_ip_\' + num]" ng-model-master-cleanup="true" ng-pattern="networkFormVlanOnlyCtrl.patterns.ipAddress" ng-disabled="!networkFormVlanOnlyCtrl.modelCopy.attributes.dhcpguard_enabled" ng-required="networkFormVlanOnlyCtrl.modelCopy.attributes.dhcpguard_enabled &amp;&amp; num === 1" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_TRUSTED_DHCP_SERVER_IP\' | translate:{num: num} }}"></div></div><unifi-tooltip><content translate="SETTINGS_NETWORKS_TOOLTIP_DHCP_GUARDING"></content></unifi-tooltip><unifi-notify-device-requirement unifi-notify-device-requirement-type="usw"></unifi-notify-device-requirement></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--cozy appFormFooter--flush" ng-if="isModal" ng-class="{\'appFormFooter--dark\': isDark}"><div class="appFormFooter__right"><button class="appMainButton appMainButton--cozy cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="isDark ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary saveNetwork" ng-if="!isReadOnly" ng-click="networkFormVlanOnlyCtrl.showValidation = true" busy-toggle="networkFormVlanOnlyCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button></div></div><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-if="!isModal" ng-class="{\'appFormFooter--dark\': isDark}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveNetwork" ng-if="!isReadOnly" ng-click="networkFormVlanOnlyCtrl.showValidation = true" busy-toggle="networkFormVlanOnlyCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="isDark ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],399:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(t,e,i,o,r,a,s,l){this.$translate=t,this.heyToasts=e,this.networkUtils=i,this.preferences=o,this.ipUtils=r,this.patterns={name:l.NAME,vlan:l.VLAN,server:s.or([l.IPV4_ADDRESS,l.FQDN],"i"),routeDistance:l.VPN_ROUTE_DISTANCE},n.call(this,a)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){this.isSubmitting=!0;var t=angular.extend({enabled:!0,is_nat:!0,vpn_client_pull_dns:!!this.modelCopy.attributes.vpn_client_pull_dns},this.modelCopy.attributes);return this.networkUtils.saveNetwork(this.model,t).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.setDefaultAttrs=function(t){var e=t?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+e]){this["model"+e].attributes.purpose=(this.model?this.model.get("purpose"):void 0)||"vpn-client";var i={vpn_type:(this.model?this.model.get("vpn_type"):void 0)||"pptp-client",remote_vpn_subnets:(this.model?this.model.get("remote_vpn_subnets"):void 0)||[]};angular.extend(t?this.masterWithDefaults:this.modelCopy.attributes,i)}},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$translate","heyToasts","networkUtils","preferences","ipUtils","modelDivergence","regexUtils","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("NetworkFormVpnClientController",o)},{}],400:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNetworkFormVpnClient",["$timeout","$stateParams","sharedAttrsDirectiveMixin",function(e,i,n){return{scope:{model:"=unifiNetworkFormVpnClient",attrs:"=unifiNetworkFormVpnClientAttrs",onSave:"&unifiNetworkFormVpnClientOnSave",onCancel:"&unifiNetworkFormVpnClientOnCancel",isReadOnly:"=unifiNetworkFormVpnClientIsReadOnly"},controller:"NetworkFormVpnClientController",controllerAs:"networkFormVpnClientCtrl",template:t("./networkFormVpnClient.pug")(),link:function(t,o,r,a){t.directiveId=t.$id,t.onSubmit=function(e){!0===e&&t.onSave()},t.$watch("model",function(t){a.updateModel(t)}),t.$on("$destroy",function(){a.removeEventHandlers()}),t.getVisibility=a.getVisibility.bind(a),t.setVisibility=a.setVisibility.bind(a),e(function(){t.isLoaded=!0},0),"add"===i.action&&n.init(t,o,r,a,["name"])}}}])},{"./networkFormVpnClient.pug":401}],401:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="networkFormVpnClientCtrl.form" ng-class="{    \'appForm--dark\': networkFormVpnClientCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': networkFormVpnClientCtrl.showValidation,    \'is-validation-hidden\': !networkFormVpnClientCtrl.showValidation  }" ng-submit="networkFormVpnClientCtrl.form.$valid &amp;&amp; networkFormVpnClientCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="networkFormVpnClientCtrl.resolveDivergence()" unifi-config-changed-on-ignore="networkFormVpnClientCtrl.ignoreDivergence()" unifi-config-changed-is-dark="networkFormVpnClientCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="networkFormVpnClientCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{networkName: networkFormVpnClientCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_NETWORK_SECTION_VIEW\' : (networkFormVpnClientCtrl.model.id ? \'SETTINGS_NETWORK_SECTION_EDIT\' : \'SETTINGS_NETWORK_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="networkName" ng-model="networkFormVpnClientCtrl.modelCopy.attributes.name" ng-model-master="networkFormVpnClientCtrl.model.attributes.name" ng-pattern="networkFormVpnClientCtrl.patterns.name"'+n("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_PURPOSE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy" unifi-network-form-input-purpose="networkFormVpnClientCtrl.model" unifi-network-form-input-purpose-is-dark="networkFormVpnClientCtrl.preferences.model.get(\'isSettingsDark\')"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--withBadge" translate="SETTINGS_NETWORK_LABEL_VPN_CLIENT"></label><span class="appBadge appBadge--warning" translate="COMMON_BETA"></span></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="networkVpnClient" id="networkVpnClientPptp" value="pptp-client" ng-model="networkFormVpnClientCtrl.modelCopy.attributes.vpn_type" ng-model-master="networkFormVpnClientCtrl.masterWithDefaults.vpn_type"><label for="networkVpnClientPptp" translate="SETTINGS_NETWORK_VALUES_VPN_CLIENT_PPTP"></label></div></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_ENABLED"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkEnableVpnClient" id="networkEnableVpnClient" ng-model="networkFormVpnClientCtrl.modelCopy.attributes.enabled" ng-model-master="networkFormVpnClientCtrl.model.attributes.enabled"><label for="networkEnableVpnClient" translate="SETTINGS_NETWORK_VALUES_VPN_CLIENT_ENABLED"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_VPN_CLIENT_DEFAULT_ROUTE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkVpnClientDefaultRoute" id="networkVpnClientDefaultRoute" ng-model="networkFormVpnClientCtrl.modelCopy.attributes.vpn_client_default_route" ng-model-master="networkFormVpnClientCtrl.model.attributes.vpn_client_default_route"><label for="networkVpnClientDefaultRoute" translate="SETTINGS_NETWORK_VALUES_VPN_CLIENT_DEFAULT_ROUTE"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_VPN_CLIENT_ROUTE_DISTANCE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--smallNumber" type="text" size="4" name="routeDistance" ng-model="networkFormVpnClientCtrl.modelCopy.attributes.pptpc_route_distance" ng-model-master="networkFormVpnClientCtrl.model.attributes.pptpc_route_distance" ng-pattern="networkFormVpnClientCtrl.patterns.routeDistance"></div></div></div><div class="appRow" ng-show="!networkFormVpnClientCtrl.modelCopy.attributes.vpn_client_default_route"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_REMOTE_SUBNETS"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy" unifi-network-form-input-remote-subnets="networkFormVpnClientCtrl.modelCopy.attributes.remote_vpn_subnets" unifi-network-form-input-remote-subnets-is-optional="networkFormVpnClientCtrl.modelCopy.attributes.vpn_client_default_route" unifi-network-form-input-remote-subnets-is-read-only="isReadOnly"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_VPN_CLIENT_DNS"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkVpnClientPullDns" id="networkVpnClientPullDns" ng-model="networkFormVpnClientCtrl.modelCopy.attributes.vpn_client_pull_dns" ng-model-master="networkFormVpnClientCtrl.model.attributes.vpn_client_pull_dns"><label for="networkVpnClientPullDns" translate="SETTINGS_NETWORK_VALUES_VPN_CLIENT_DNS"></label></div></div></div><fieldset class="appFieldset appFieldset--quiet" ng-show="setVisibility(\'pptp\', networkFormVpnClientCtrl.modelCopy.attributes.vpn_type === \'pptp-client\')"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_SERVER_IP"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="networkServerIp" ng-model="networkFormVpnClientCtrl.modelCopy.attributes.pptpc_server_ip" ng-model-master="networkFormVpnClientCtrl.model.attributes.pptpc_server_ip" ng-pattern="networkFormVpnClientCtrl.patterns.server" ng-required="getVisibility(\'pptp\')"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_USERNAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="networkU" ng-model="networkFormVpnClientCtrl.modelCopy.attributes.pptpc_username" ng-model-master="networkFormVpnClientCtrl.model.attributes.pptpc_username" ng-required="getVisibility(\'pptp\')"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_PASSWORD"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="networkP" ng-model="networkFormVpnClientCtrl.modelCopy.attributes.x_pptpc_password" ng-model-master="networkFormVpnClientCtrl.model.attributes.x_pptpc_password" ng-required="getVisibility(\'pptp\')"></unifi-password-reveal></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_REQUIRE_MPPE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="networkRequireMppe" id="networkRequireMppe" ng-model="networkFormVpnClientCtrl.modelCopy.attributes.pptpc_require_mppe" ng-model-master="networkFormVpnClientCtrl.model.attributes.pptpc_require_mppe"><label for="networkRequireMppe" translate="SETTINGS_NETWORK_VALUES_REQUIRE_MPPE"></label></div></div></div></fieldset></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': networkFormVpnClientCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveNetwork" ng-if="!isReadOnly" ng-click="networkFormVpnClientCtrl.showValidation = true" busy-toggle="networkFormVpnClientCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="networkFormVpnClientCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],402:[function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var r=lazyRequire.get("BaseFormController");angular.module("app-unifi-manage").controller("NetworkFormWanController",["$translate","deviceFeatureUtils","deviceUtils","featureFlag","frame","gatewayUtils","heyToasts","ipUtils","modelDivergence","networks","networkUtils","preferences","settings","speedTest","NETWORK_DEFAULTS","REGEX_PATTERNS",function(t,e,i,a,s,l,c,u,d,p,f,h,_,m,g,v){return new(function(i){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d));t.preferences=h,t.patterns={name:v.NAME,ipAddress:v.IP_ADDRESS,ipv6Address:v.IPV6_ADDRESS},t.connectionTypeOptions=[{value:"disabled",translationKey:"SETTINGS_WAN_VALUES_NETWORK_DISABLED",isAvailable:!1},{value:"dhcp",translationKey:"SETTINGS_WAN_VALUES_NETWORK_USING_DHCP",isAvailable:!0},{value:"static",translationKey:"SETTINGS_WAN_VALUES_NETWORK_STATIC_IP",isAvailable:!0},{value:"pppoe",translationKey:"SETTINGS_WAN_VALUES_NETWORK_PPPOE",isAvailable:!0}],t.connectionTypeV6Options=[{value:"disabled",translationKey:"SETTINGS_WAN_VALUES_NETWORK_DISABLED"},{value:"dhcpv6",translationKey:"SETTINGS_WAN_VALUES_NETWORK_USING_DHCPV6"},{value:"static",translationKey:"SETTINGS_WAN_VALUES_NETWORK_STATIC_IP"}],t.loadBalanceOptions=[{value:"failover-only",translationKey:"SETTINGS_WAN_VALUES_LOAD_BALANCE_FAILOVER"},{value:"weighted",translationKey:"SETTINGS_WAN_VALUES_LOAD_BALANCE_WEIGHTED"}],t.wanQoSTags=[{value:"",key:"None"}];for(var e=0;e<7;e++)t.wanQoSTags.push({value:e+1,key:e+1});return t.onTypeChange=t.onTypeChange.bind(t),t.onTypeIPv6Change=t.onTypeIPv6Change.bind(t),t.onInterfaceChange=t.onInterfaceChange.bind(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,r),o(a,[{key:"save",value:function(){var t=this;this.isSubmitting=!0;var e=angular.extend({},this.modelCopy.attributes,{});return null===e.wan_vlan&&(e.wan_vlan=""),f.saveNetwork(this.model,e).then(function(i){return c.pushSuccess(i),!t.isPortReassignmentSupported()||l.tryAssignToDefaultPort(e.wan_networkgroup).then(function(){return!0})}).catch(function(t){return c.pushError(t),!1}).finally(function(){t.isSubmitting=!1})}},{key:"setDefaultAttrs",value:function(t){var e=this,i=t?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+i]){this["model"+i].attributes.purpose=(this.model?this.model.get("purpose"):void 0)||"wan";var n={purpose:"wan",report_wan_event:!0,wan_networkgroup:"WAN2",wan_type:"dhcp",wan_type_v6:"disabled",wan_load_balance_type:this.loadBalanceOptions[0].value,wan_load_balance_weight:50,wan_egress_qos:this.wanQoSTags[0].value},o={};angular.forEach(n,function(t,i){var n=e.model?e.model.get(i):void 0;o[i]=void 0!==n?n:t}),angular.extend(t?this.masterWithDefaults:this.modelCopy.attributes,o)}}},{key:"getExtendedParentInterfaces",value:function(){return[g.WAN2_NUM]}},{key:"onModelChange",value:function(){this.setDefaultAttrs(!0)}},{key:"reset",value:function(){r.prototype.reset.call(this),this.setDefaultAttrs(!1)}},{key:"removeStaleFormElements",value:function(t){var e=this;angular.forEach(this.form,function(i,o){"object"===(void 0===i?"undefined":n(i))&&i.hasOwnProperty("$modelValue")&&t.test(o)&&e.form.$removeControl(i)})}},{key:"onInterfaceChange",value:function(t){this.isPortReassignmentSupported()||(this.connectionTypeOptions[0].isAvailable="WAN2"===t)}},{key:"onTypeChange",value:function(t,e){if(e){var i=new RegExp("^"+e);this.removeStaleFormElements(i)}this.showTypeForm=t}},{key:"onTypeIPv6Change",value:function(t,e){if(e){var i=new RegExp("^ipv6"+e);this.removeStaleFormElements(i)}this.showTypeIPv6Form=t}},{key:"populateSmartQueue",value:function(e){var i=this;this.isPopulatingSmartQueue=!0;m.resolve().then(function(t){return m.isTestCompleted(t)?t:(s.show("speedTest"),m.startTest())}).then(function(t){m.isTestCompleted(t)&&(e.wan_smartq_up_rate=Math.ceil(.8*t.xput_upload*1e3),e.wan_smartq_down_rate=Math.ceil(.8*t.xput_download*1e3))}).catch(function(){i.heyToasts.pushError(t.instant("SETTINGS_WAN_SMART_QUEUES_PREPOPULATE_FAILED"))}).finally(function(){i.isPopulatingSmartQueue=!1})}},{key:"isPortReassignmentSupported",value:function(){var t=l.getSiteGateway();return!!t&&e.isGatewayPortReassignmentSupported(t)}},{key:"getPortName",value:function(){var e=this.modelCopy?l.getNetworkgroupPortName(this.modelCopy.getNetworkGroup(),l.getSiteGateway()):void 0;return e||t.instant("SETTINGS_NETWORK_LABEL_PORT_UNASSIGNED")}},{key:"networkgroupAvailable",value:function(t){return 0===p.repository.collection.where({wan_networkgroup:t}).length}}]),a}())}])},{}],403:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNetworkFormWan",["$timeout","$stateParams","sharedAttrsDirectiveMixin",function(e,i,n){return{scope:{model:"=unifiNetworkFormWan",attrs:"=unifiNetworkFormWanAttrs",onSave:"&unifiNetworkFormWanOnSave",onCancel:"&unifiNetworkFormWanOnCancel",isReadOnly:"=unifiNetworkFormWanIsReadOnly"},controller:"NetworkFormWanController",controllerAs:"networkFormWanCtrl",template:t("./networkFormWan.pug")(),link:function(t,o,r,a){t.directiveId=t.$id,t.onSubmit=function(e){!0===e&&t.onSave()},t.$watch("model",function(t){return a.updateModel(t)}),t.$on("$destroy",function(){return a.removeEventHandlers()}),t.getVisibility=a.getVisibility.bind(a),t.setVisibility=a.setVisibility.bind(a),t.$watch(function(){return a.modelCopy?a.modelCopy.get("wan_type"):void 0},a.onTypeChange),t.$watch(function(){return a.modelCopy?a.modelCopy.get("wan_type_v6"):void 0},a.onTypeIPv6Change),t.$watch(function(){return a.modelCopy?a.modelCopy.get("wan_networkgroup"):void 0},a.onInterfaceChange),e(function(){t.isLoaded=!0},0),"add"===i.action&&n.init(t,o,r,a,["name"])}}}])},{"./networkFormWan.pug":404}],404:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="networkFormWanCtrl.form" ng-class="{    \'appForm--dark\': networkFormWanCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': networkFormWanCtrl.showValidation,    \'is-validation-hidden\': !networkFormWanCtrl.showValidation  }" ng-submit="networkFormWanCtrl.form.$valid &amp;&amp; networkFormWanCtrl.save().then(onSubmit)"><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><unifi-config-changed unifi-config-changed-on-reset="networkFormWanCtrl.resolveDivergence()" unifi-config-changed-on-ignore="networkFormWanCtrl.ignoreDivergence()" unifi-config-changed-is-dark="networkFormWanCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="networkFormWanCtrl.form.$error.divergent"></unifi-config-changed><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{networkName: networkFormWanCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_NETWORK_SECTION_VIEW\' : (networkFormWanCtrl.model.id ? \'SETTINGS_NETWORK_SECTION_EDIT\' : \'SETTINGS_NETWORK_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_NETWORK_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input type="text" name="networkName" ng-model="networkFormWanCtrl.modelCopy.attributes.name" ng-model-master="networkFormWanCtrl.model.attributes.name" ng-pattern="networkFormWanCtrl.patterns.name"'+n("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_PURPOSE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy" unifi-network-form-input-purpose="networkFormWanCtrl.model" unifi-network-form-input-purpose-is-dark="networkFormWanCtrl.preferences.model.get(\'isSettingsDark\')"></div></div><div class="appRow" ng-show="setVisibility(\'network-group\', networkFormWanCtrl.model.get(\'purpose\') !== \'voip\')"><div class="col--sm3"><label class="appLabel--primary appLabel--withBadge" translate="{{networkFormWanCtrl.isPortReassignmentSupported() ? \'SETTINGS_NETWORK_LABEL_NETWORK_GROUP\' : \'SETTINGS_NETWORK_LABEL_INTERFACE\'}}"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="wanNetworkGroup" id="wanNetworkGroup" value="WAN" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_networkgroup" ng-model-master="networkFormWanCtrl.masterWithDefaults.wan_networkgroup" ng-disabled="!networkFormWanCtrl.networkgroupAvailable(\'WAN\')"><label for="wanNetworkGroup" translate="SETTINGS_NETWORK_VALUES_NETWORK_GROUP_WAN"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="num in networkFormWanCtrl.getExtendedParentInterfaces()"><input type="radio" name="networkGroup" id="networkGroupWan{{num}}" value="WAN{{num}}" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_networkgroup" ng-model-master="networkFormWanCtrl.masterWithDefaults.wan_networkgroup" ng-disabled="networkFormWanCtrl.model.get(\'attr_hidden_id\') === \'WAN\' || !networkFormWanCtrl.networkgroupAvailable(\'WAN2\')"><label for="networkGroupWan{{num}}" translate="SETTINGS_NETWORK_VALUES_NETWORK_GROUP_WAN_NUM" translate-values="{number: num}"></label><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div></div></div></div><div class="appRow verticalRhythm--cozy" ng-show="networkFormWanCtrl.isPortReassignmentSupported()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_NETWORK_LABEL_PORT"></label></div><div class="col--sm5"><span>{{networkFormWanCtrl.getPortName()}}</span></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_WAN_SECTION_IPV4_HEADING"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" for="connectionTypeIpv4" translate="SETTINGS_WAN_LABEL_CONNECTION_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><select name="connectionTypeIpv4" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_type" ng-model-master="networkFormWanCtrl.model.attributes.wan_type" ng-options="connection.value as connection.translationKey | translate for connection in networkFormWanCtrl.connectionTypeOptions | filter:{isAvailable: true}"></select></div></div><div ng-if="networkFormWanCtrl.showTypeForm === \'static\'"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_IP_ADDRESS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input type="text" name="staticIpAddress" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_ip" ng-model-master="networkFormWanCtrl.model.attributes.wan_ip" ng-model-master-cleanup="true" ng-pattern="networkFormWanCtrl.patterns.ipAddress" ng-required="networkFormWanCtrl.modelCopy.attributes.wan_type === \'static\'"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_SUBNET_MASK"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input type="text" name="staticNetmask" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_netmask" ng-model-master="networkFormWanCtrl.model.attributes.wan_netmask" ng-model-master-cleanup="true" ng-required="networkFormWanCtrl.modelCopy.attributes.wan_type === \'static\'" unifi-validate-netmask="networkFormWanCtrl.modelCopy.attributes.ip"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_ROUTER"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><input type="text" name="staticGateway" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_gateway" ng-model-master="networkFormWanCtrl.model.attributes.wan_gateway" ng-model-master-cleanup="true" ng-pattern="networkFormWanCtrl.patterns.ipAddress"></div></div></div><div ng-if="networkFormWanCtrl.showTypeForm === \'pppoe\'"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_USERNAME"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input type="text" name="pppoeU" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_username" ng-model-master="networkFormWanCtrl.model.attributes.wan_username" ng-model-master-cleanup="true"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_PASSWORD"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><input type="password" name="pppoeP" ng-model="networkFormWanCtrl.modelCopy.attributes.x_wan_password" ng-model-master="networkFormWanCtrl.model.attributes.x_wan_password" ng-model-master-cleanup="true"'+n("unifi-password-reveal",!0,!0,!0)+'></div></div></div></div><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_WAN_SECTION_IPV6_HEADING"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_CONNECTION_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><select name="ipv6connectionType" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_type_v6" ng-model-master="networkFormWanCtrl.model.attributes.wan_type_v6" ng-options="connection.value as connection.translationKey | translate for connection in networkFormWanCtrl.connectionTypeV6Options"></select></div></div><div ng-if="networkFormWanCtrl.showTypeIPv6Form === \'dhcpv6\'"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTIGNS_WAN_LABEL_IPV6_DHCP_PD_SIZE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input class="input--smallNumber" type="number" min="48" max="64" name="v6dhcp6PdSize" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_dhcpv6_pd_size" ng-model-master="networkFormWanCtrl.model.attributes.wan_dhcpv6_pd_size" ng-model-master-cleanup="true" ng-required="networkFormWanCtrl.modelCopy.attributes.wan_type_v6 === \'dhcpv6\'"></div></div></div><div ng-if="networkFormWanCtrl.showTypeIPv6Form === \'static\'"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_IPV6_ADDRESS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input type="text" name="ipv6staticIpAddress" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_ipv6" ng-model-master="networkFormWanCtrl.model.attributes.wan_ipv6" ng-model-master-cleanup="true" ng-pattern="networkFormWanCtrl.patterns.ipv6Address" ng-required="networkFormWanCtrl.modelCopy.attributes.wan_type_v6 === \'static\'"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_PREFIX_LENGTH"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input type="number" name="ipv6staticPrefixLen" min="0" max="128" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_prefixlen" ng-model-master="networkFormWanCtrl.model.attributes.wan_prefixlen" ng-model-master-cleanup="true" ng-required="networkFormWanCtrl.modelCopy.attributes.wan_type_v6 === \'static\'"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_ROUTER"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><input type="text" name="ipv6staticGateway" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_gateway_v6" ng-model-master="networkFormWanCtrl.model.attributes.wan_gateway_v6" ng-model-master-cleanup="true" ng-pattern="networkFormWanCtrl.patterns.ipv6Address"></div></div></div></div><div class="unifiSettingsSection" ng-show="networkFormWanCtrl.showTypeForm !== \'disabled\' || networkFormWanCtrl.showTypeIPv6Form !== \'disabled\'" ng-disabled="isReadOnly"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" translate="SETTINGS_WAN_SECTION_COMMON_HEADING"></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_DNS_SERVER"></label></div><div class="col--sm9 appFromGroup appFormGroup--cozy"><input class="horizontalRhythm--cozy" ng-repeat="num in [1,2]" type="text" name="dnsField{{num}}" ng-model="networkFormWanCtrl.modelCopy.attributes[\'wan_dns\' + num]" ng-model-master="networkFormWanCtrl.model.attributes[\'wan_dns\' + num]" ng-model-master-cleanup="true" ng-pattern="networkFormWanCtrl.patterns.ipAddress" placeholder="{{\'SETTINGS_NETWORK_PLACEHOLDER_NAME_SERVER\' | translate:{num: num} }}"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_USE_VLAN"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input class="horizontalRhythm--condensed" type="checkbox" name="useVlanId" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_vlan_enabled" ng-model-master="networkFormWanCtrl.model.attributes.wan_vlan_enabled" ng-model-master-cleanup="true"><input class="input--smallNumber" type="number" name="vlanId" min="{{networkFormWanCtrl.modelCopy.attributes.wan_vlan_enabled ? 0 : \'\'}}" max="{{networkFormWanCtrl.modelCopy.attributes.wan_vlan_enabled ? 4094 : \'\'}}" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_vlan" ng-model-master="networkFormWanCtrl.model.attributes.wan_vlan" ng-model-master-cleanup="true" ng-disabled="!networkFormWanCtrl.modelCopy.attributes.wan_vlan_enabled" ng-required="networkFormWanCtrl.modelCopy.attributes.wan_vlan_enabled" ng-pattern="networkFormWanCtrl.modelCopy.attributes.wan_vlan_enabled ? networkFormWanCtrl.patterns.vlan : \'\'"><div class="appInputFeedback appInputFeedback--danger" ng-show="networkFormWanCtrl.form.vlanId.$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: 0, max: 4094}"></div></div></div><div class="appRow" ng-show="networkFormWanCtrl.modelCopy.attributes.wan_vlan_enabled"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_EGRESS_QOS"></label><unifi-tooltip class="ml-1"><content translate="SETTINGS_WAN_LABEL_EGRESS_QOS_TOOLTIP"></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><select class="select" name="wanQoSTag" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_egress_qos" ng-model-master="networkFormWanCtrl.model.attributes.wan_egress_qos" ng-options="wanQoSTag.value as wanQoSTag.key for wanQoSTag in networkFormWanCtrl.wanQoSTags"></select></div></div><div class="appRow" ng-if="networkFormWanCtrl.modelCopy.attributes.wan_networkgroup === \'WAN2\'"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_LOAD_BALANCING"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><select class="select" name="loadBalancing" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_load_balance_type" ng-model-master="networkFormWanCtrl.masterWithDefaults.wan_load_balance_type" ng-options="loadBalance.value as loadBalance.translationKey | translate for loadBalance in networkFormWanCtrl.loadBalanceOptions"></select></div></div><div class="appRow" ng-if="networkFormWanCtrl.modelCopy.attributes.wan_networkgroup === \'WAN2\' &amp;&amp; networkFormWanCtrl.modelCopy.attributes.wan_load_balance_type === \'weighted\'"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_LOAD_BALANCING_WEIGHT"></label></div><div class="col--sm9 appFromGroup appFormGroup--cozy"><input class="horizontalRhythm--cozy" type="number" name="loadBalancingWeight" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_load_balance_weight" ng-model-master="networkFormWanCtrl.masterWithDefaults.wan_load_balance_weight" min="1" max="100" ng-required="networkFormWanCtrl.modelCopy.attributes.wan_load_balance_type === \'weighted\'"></div></div><div class="appRow" ng-if="networkFormWanCtrl.modelCopy.attributes.wan_networkgroup === \'WAN2\'"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_REPORT_INTERFACE_EVENTS"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input class="horizontalRhythm--condensed" type="checkbox" id="reportInterfaceEvents" name="reportInterfaceEvents" ng-model="networkFormWanCtrl.modelCopy.attributes.report_wan_event" ng-model-master="networkFormWanCtrl.masterWithDefaults.report_wan_event" ng-model-master-cleanup="true"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_WAN_LABEL_SMART_QUEUES"></label></div><div class="col--sm9 appFormGroup appFormGroup--condensed"><input class="horizontalRhythm--condensed" type="checkbox" id="useSmartQueues" name="useSmartQueues" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_smartq_enabled" ng-model-master="networkFormWanCtrl.masterWithDefaults.wan_smartq_enabled" ng-model-master-cleanup="true"><label for="useSmartQueues" translate="SETTINGS_WAN_LABEL_SMART_QUEUES_ENABLE"></label><div class="appTooltipContainer appTooltipContainer--hoverable"><button class="appMainButton appMainButton--condensed appMainButton--transparent" type="button" ng-show="networkFormWanCtrl.modelCopy.attributes.wan_smartq_enabled" ng-click="networkFormWanCtrl.populateSmartQueue(networkFormWanCtrl.modelCopy.attributes)" busy-toggle="networkFormWanCtrl.isPopulatingSmartQueue" busy-toggle-spinner-classes="[\'appSpinner appSpinner--centered\']">{{ \'SETTINGS_WAN_SMART_QUEUES_PREPOPULATE_ACTION\' | translate }}</button><div class="appTooltip appTooltip--leftCentered">{{ \'SETTINGS_WAN_SMART_QUEUES_PREPOPULATE_TOOLTIP\' | translate }}</div></div></div></div><div class="appRow" ng-if="networkFormWanCtrl.modelCopy.attributes.wan_smartq_enabled"><div class="col--sm3"></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><label class="appLabel--primary horizontalRhythm--condensed" translate="SETTINGS_WAN_LABEL_SMART_QUEUES_UP_RATE"></label><div class="appIconInput appIconInput--right horizontalRhythm--cozy"><div class="appIconInput__icon" translate="SETTINGS_WAN_LABEL_SMART_QUEUES_RATE_UNIT"></div><input class="appIconInput__input" type="number" name="useSmartqUpRate" min="{{networkFormWanCtrl.modelCopy.attributes.wan_smartq_enabled ? 0 : \'\'}}" max="{{networkFormWanCtrl.modelCopy.attributes.wan_smartq_enabled ? 1000000 : \'\'}}" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_smartq_up_rate" ng-model-master="networkFormWanCtrl.model.attributes.wan_smartq_up_rate" ng-disabled="networkFormWanCtrl.isPopulatingSmartQueue" ng-required="networkFormWanCtrl.modelCopy.attributes.wan_smartq_enabled"></div><label class="appLabel--primary horizontalRhythm--condensed" translate="SETTINGS_WAN_LABEL_SMART_QUEUES_DOWN_RATE"></label><div class="appIconInput appIconInput--right"><div class="appIconInput__icon" translate="SETTINGS_WAN_LABEL_SMART_QUEUES_RATE_UNIT"></div><input class="appIconInput__input" type="number" name="useSmartqDownRate" min="{{networkFormWanCtrl.modelCopy.attributes.wan_smartq_enabled ? 0 : \'\'}}" max="{{networkFormWanCtrl.modelCopy.attributes.wan_smartq_enabled ? 1000000 : \'\'}}" ng-model="networkFormWanCtrl.modelCopy.attributes.wan_smartq_down_rate" ng-model-master="networkFormWanCtrl.model.attributes.wan_smartq_down_rate" ng-disabled="networkFormWanCtrl.isPopulatingSmartQueue" ng-required="networkFormWanCtrl.modelCopy.attributes.wan_smartq_enabled"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="networkFormWanCtrl.form.useSmartqUpRate.$invalid || networkFormWanCtrl.form.useSmartqDownRate.$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: 0, max: 1000000}"></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': networkFormWanCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveNetwork" ng-if="!isReadOnly" ng-click="networkFormWanCtrl.showValidation = true" busy-toggle="networkFormWanCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="networkFormWanCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],405:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("NetworkListController",["BasePaginatedListController","$state","$translate","heyToasts","frame","CollectionView","gatewayUtils","networks","networkUtils","sites","preferences","DEFAULT_PREFERENCES","NETWORK_PURPOSE","REMOTE_USER_VPN_TYPES",function(t,e,i,o,r,a,s,l,c,u,d,p,f,h){return new(function(a){function _(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return t.$state=e,t.$translate=i,t.heyToasts=o,t.frame=r,t.gatewayUtils=s,t.networks=l,t.sites=u,t.preferences=d,t.NETWORK_PURPOSE=f,t.REMOTE_USER_VPN_TYPES=h,t.defaultSortBy="name",t.isRemoving={},t.rowsPerPage=p.ROWS_PER_PAGE,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(_,t),n(_,[{key:"getCollection",value:function(){return l.repository.collection}},{key:"isNetworkEditable",value:function(t){return"site-vpn"!==t.get("purpose")||!c.isRemoteSiteVpn(t)}},{key:"isNetworkRemovable",value:function(t){return c.isRemoteSiteVpn(t)?!!c.getRemoteSite(t):!t.get("attr_no_delete")}},{key:"isNetworkEnabled",value:function(t){return"vpn-client"!==t.get("purpose")&&("site-vpn"!==t.get("purpose")||"auto"===t.get("vpn_type"))||t.get("enabled")}},{key:"getNetworkgroup",value:function(t){return t.getNetworkGroup()}},{key:"getPortName",value:function(t){return s.getNetworkgroupPortName(t.getNetworkGroup(),this.gatewayUtils.getSiteGateway())}},{key:"getVpnTypeOption",value:function(t){return this.REMOTE_USER_VPN_TYPES.find(function(e){return e.value===t.get("vpn_type")})}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}},{key:"remove",value:function(t){return r.show("confirm",{title:function(){return i.instant("SETTINGS_NETWORK_DELETE_CONFIRM_TITLE",{networkName:t.get("name")})}.bind(this),message:function(){return i.instant("SETTINGS_NETWORK_DELETE_CONFIRM_MESSAGE",{networkName:t.get("name")})}.bind(this),options:angular.noop}).then(function(){return this.isRemoving[t.id]=!0,c.removeNetwork(t).then(function(t){return o.pushSuccess(t),!0}.bind(this)).catch(function(t){return o.pushError(t),!1}.bind(this)).finally(function(){this.isRemoving[t.id]=!1}.bind(this))}.bind(this))}}]),_}())}])},{}],406:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNetworkList",["PaginatedListDirective",function(e){return new e("network",t("./networkList.pug")(),{onEdit:"&unifiNetworkListOnEdit"})}])},{"./networkList.pug":407}],407:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="networksTable" collection-view-sort="networkListCtrl.view" ng-class="{      \'appTable--dark\': networkListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="networkName" collection-view-sort-by="name"><span translate="SETTINGS_NETWORK_TABLE_HEADER_NAME"></span></th><th class="networkPurpose" collection-view-sort-by="purpose"><span translate="SETTINGS_NETWORK_TABLE_HEADER_PURPOSE"></span></th><th class="networkPurpose" collection-view-sort-by="networkgroup"><span translate="SETTINGS_NETWORK_TABLE_HEADER_NETWORK_GROUP"></span></th><th class="networkVlan" collection-view-sort-by="port"><span translate="SETTINGS_NETWORK_TABLE_HEADER_PORT"></span></th><th class="networkSubnet" collection-view-sort-by="ip_subnet"><span translate="SETTINGS_NETWORK_TABLE_HEADER_SUBNET"></span></th><th class="networkSubnetV6" collection-view-sort-by="ipv6_subnet"><span translate="SETTINGS_NETWORK_TABLE_HEADER_IPV6_SUBNET"></span></th><th class="networkVlan" collection-view-sort-by="vlan"><span translate="SETTINGS_NETWORK_TABLE_HEADER_VLAN"></span></th><th class="networkActions" colspan="2"><span translate="SETTINGS_NETWORK_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in networkListCtrl.view.getModels(),                    startFrom (networkListCtrl.currentPage - 1) * networkListCtrl.rowsPerPage,                    limitTo networkListCtrl.rowsPerPage" data-id="{{::model.id}}" ng-class="{\'is-row-disabled\': !networkListCtrl.isNetworkEnabled(model)}"><td class="networkName" ng-init="remoteSite = networkListCtrl.networkUtils.getRemoteSite(model)">{{::model.get(\'name\') + (remoteSite ? \' (\' + remoteSite.get(\'desc\') + \')\' : \'\')}}</td><td class="networkPurpose">{{::networkListCtrl.NETWORK_PURPOSE[model.get(\'purpose\')] | translate}}<span ng-if="::model.get(\'purpose\') === \'remote-user-vpn\'">&nbsp;({{networkListCtrl.getVpnTypeOption(model).translationKeyAbbr | translate}})</span></td><td class="networkNetworkgroup">{{::networkListCtrl.getNetworkgroup(model)}}</td><td class="networkPort">{{::networkListCtrl.getPortName(model)}}</td><td class="networkSubnet">{{::model | networkSubnet:\'ipv4\'}}</td><td class="networkSubnetV6" ng-switch="::model.get(\'ipv6_interface_type\')"><span'+n("ng-switch-default",!0,!0,!0)+' translate="SETTINGS_NETWORK_VALUES_IPV6_INTERFACE_TYPE_NONE"></span><span ng-switch-when="static">{{::model | networkSubnet:\'ipv6\'}}</span><span ng-switch-when="pd" translate="SETTINGS_NETWORK_VALUES_IPV6_INTERFACE_TYPE_PD"></span></td><td class="networkVlan">{{::model.get(\'vlan\')}}</td><td class="networkActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed noHorizontalMargin"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="!networkListCtrl.networkUtils.isRemoteSiteVpn(model)" ng-click="networkListCtrl.edit(model)" ng-disabled="networkListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed noHorizontalMargin" unifi-if-role-admin="false" unifi-if-role-admin-and="!networkListCtrl.networkUtils.isRemoteSiteVpn(model)" ng-click="networkListCtrl.edit(model)" ng-disabled="networkListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button></td><td class="networkActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed noHorizontalMargin"'+n("unifi-if-role-admin",!0,!0,!0)+' unifi-if-role-admin-and="networkListCtrl.isNetworkRemovable(model)" ng-click="networkListCtrl.remove(model)" ng-disabled="networkListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody><tfoot ng-if="networkListCtrl.view.getModels().length"><tr><td colspan="6"><unifi-list-pagination unifi-list-pagination-current-page="networkListCtrl.currentPage" unifi-list-pagination-rows-per-page="networkListCtrl.rowsPerPage" unifi-list-pagination-total-rows="networkListCtrl.view.getModels().length" unifi-list-pagination-total-links="5" unifi-list-pagination-is-dark="networkListCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-list-pagination></td></tr></tfoot></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!networkListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': networkListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_NETWORK_TABLE_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],408:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a,s,l,c,u,d,p){this.isLoading=!0,this.clients=t,this.devices=e,this.deviceStateUtils=i,this.gatewayUtils=n,this.settings=r,this.siteHealth=a,this.siteStatus=s,this.switchModuleStats=l,this.switchUtils=c,this.userGroups=u,this.utilizationUtils=d,this.PROVIDER_CAPABILITIES_SETTINGS=p,this.repositories=["dashboardStats","siteHealth"],this.lazyRepositories=["clients","devices","switchModuleStats","userGroups"],this.iconDir={default:"images/modules/statusMegaModule/default/",large:"images/modules/statusMegaModule/large/"},this.iconSrc={internet:{src:"internet-0.png"},usg:{src:"usg-0.png"},usw:{src:"usw.png"},uap:{src:"uap.png"},clients:{src:"clients.png"},guests:{src:"guests.png"},iot:{src:"iot.png"}},o(this)}n.prototype.init=function(){this.resolve(),this.clients.repository.collection.on("countersUpdate",this.updateClients,this),this.listeners={devices:this.devices.repository.collection.onUpdate(this.updateUsg.bind(this)),siteHealth:this.siteHealth.repository.collection.onUpdate(this.updateSiteHealth.bind(this))},this.siteStatus.register(),this.updateSiteHealth(),this.updateClients()},n.prototype.destroy=function(){var t=this;this.siteStatus.unregister(),Object.keys(this.listeners).forEach(function(e){t.listeners[e].stopListening()}),this.clients.repository.collection.off("countersUpdate",this.updateClients,this),this.unregister()},n.prototype.updateClients=function(){this.counts=this.clients.getClientCounts()},n.prototype.updateUsg=function(){this.gateway=this.gatewayUtils.getSiteGateway(),this.gatewayUtilization=this.gateway?this.gateway.getNested("system-stats.cpu"):void 0,this.gatewayUtilizationLevel=this.utilizationUtils.getUtilizationLevel("usg","cpu10",this.gatewayUtilization),this.iconSrc.usg.src="usg-"+(this.gatewayUtilizationLevel||"0")+".png"},n.prototype.updateSiteHealth=function(){if(this.siteHealth.repository.collection.length?(this.siteHealthWww=this.siteHealth.repository.collection.get("www").get("rx_bytes-r"),this.siteHealthLan=this.siteHealth.repository.collection.get("lan").get("tx_bytes-r"),this.siteHealthWlan=this.siteHealth.repository.collection.get("wlan").get("tx_bytes-r")):this.siteHealthWww=this.siteHealthLan=this.siteHealthWlan=void 0,void 0!==this.siteHealthWww){var t=this.settings.getSettingFromKey("provider_capabilities"),e=t?t.get("download"):this.PROVIDER_CAPABILITIES_SETTINGS.DOWNLOAD,i=this.siteHealthWww/e/1e3*100*8;i=Math.round(i),i=Math.min(i,100);var n=this.utilizationUtils.getUtilizationLevel("internet","capacity",i);this.iconSrc.internet.src="internet-"+n+".png",this.siteHealthWww=i}},n.$inject=["clients","devices","deviceStateUtils","gatewayUtils","resolveRepositoryGroupControllerMixin","settings","siteHealth","siteStatus","switchModuleStats","switchUtils","userGroups","utilizationUtils","PROVIDER_CAPABILITIES_SETTINGS"],angular.module("app-unifi-manage").controller("NetworkStatusDiagramController",n)},{}],409:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNetworkStatusDiagram",[function(){return{controller:"NetworkStatusDiagramController",controllerAs:"networkStatusDiagramCtrl",template:t("./networkStatusDiagram.pug")(),replace:!0,link:function(t,e,i,n){n.init(),t.$on("$destroy",n.destroy.bind(n)),t.getRetinaImage=function(t){return t?t+" 1x, "+t.replace(/\.([a-z]{3}$)/,"@2x.$1")+" 2x":""}}}}])},{"./networkStatusDiagram.pug":410}],410:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="unifiNetworkStatusDiagram">\x3c!-- overriding flex to 1.5 is related to temporary hiding IoT icon--\x3e<div class="unifiNetworkStatusDiagramGroup unifiNetworkStatusDiagramGroup--wing" style="flex: 1.5;"><div class="unifiNetworkStatusDiagramIcon unifiNetworkStatusDiagramIcon--internet"><div class="unifiNetworkStatusDiagramIconImage ubntTooltipContainer ubntTooltipContainer--hoverable"><img class="visible--xlgDown" ng-src="{{networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.internet.src}}" ng-srcset="{{getRetinaImage(networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.internet.src)}}"><img class="visible--xxlg" ng-src="{{networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.internet.src}}" ng-srcset="{{getRetinaImage(networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.internet.src)}}">\x3c!--.ubntTooltip.ubntTooltip--topCenter.unifiDashboardTooltip\n  | {{\'COMMON_NOT_AVAILABLE\' | translate}}\n--\x3e</div><div class="unifiNetworkStatusDiagramIconValue">{{networkStatusDiagramCtrl.siteHealthWww !== undefined ? (networkStatusDiagramCtrl.siteHealthWww | percent) : (\'COMMON_NOT_AVAILABLE\' | translate)}}</div><div class="unifiNetworkStatusDiagramIconLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_INTERNET"></div><div class="unifiNetworkStatusDiagramIconLabel unifiNetworkStatusDiagramIconLabel--subLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_CAPACITY"></div></div><div class="unifiNetworkStatusDiagramConnectorLine unifiNetworkStatusDiagramConnectorLine--solid"></div><div class="unifiNetworkStatusDiagramIcon unifiNetworkStatusDiagramIcon--usg"><div class="unifiNetworkStatusDiagramIconImage ubntTooltipContainer ubntTooltipContainer--hoverable"><img class="visible--xlgDown" ng-src="{{networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.usg.src}}" ng-srcset="{{getRetinaImage(networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.usg.src)}}"><img class="visible--xxlg" ng-src="{{networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.usg.src}}" ng-srcset="{{getRetinaImage(networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.usg.src)}}">\x3c!--.ubntTooltip.ubntTooltip--topCenter.unifiDashboardTooltip\n  | {{\'COMMON_NOT_AVAILABLE\' | translate}}\n--\x3e</div><div class="unifiNetworkStatusDiagramIconValue">{{networkStatusDiagramCtrl.gatewayUtilization !== undefined ? (networkStatusDiagramCtrl.gatewayUtilization | percent) : (\'COMMON_NOT_AVAILABLE\' | translate)}}</div><div class="unifiNetworkStatusDiagramIconLabel">{{networkStatusDiagramCtrl.gateway ? networkStatusDiagramCtrl.deviceStateUtils.getDeviceModelShort(networkStatusDiagramCtrl.gateway) : (\'DASHBOARD_MODULE_STATUS_MEGA_NO_GATEWAY\' | translate)}}</div><div class="unifiNetworkStatusDiagramIconLabel unifiNetworkStatusDiagramIconLabel--subLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_UTILIZATION"></div></div><div class="unifiNetworkStatusDiagramConnectorLine unifiNetworkStatusDiagramConnectorLine--solid"></div><div class="unifiNetworkStatusDiagramIcon unifiNetworkStatusDiagramIcon--usw"><a class="unifiNetworkStatusDiagramIconImage ubntTooltipContainer ubntTooltipContainer--hoverable" ui-sref="manage.site.devices({type: \'ugw,usw\'})" ng-mouseover="showUswTooltip = true" ng-mouseleave="showUswTooltip = false"><img class="visible--xlgDown" ng-src="{{::networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.usw.src}}" ng-srcset="{{::getRetinaImage(networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.usw.src)}}"><img class="visible--xxlg" ng-src="{{::networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.usw.src}}" ng-srcset="{{::getRetinaImage(networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.usw.src)}}"><div class="ubntTooltip ubntTooltip--topCenter unifiDashboardTooltip" ng-if="showUswTooltip"'+n("unifi-position-absolutely",!0,!0,!0)+'><dl class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_WIRED"></dt><dd class="alignRight">{{networkStatusDiagramCtrl.counts.wired.users}}</dd></div><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_USW_TOOLTIP_TOTAL"></dt><dd class="alignRight">{{networkStatusDiagramCtrl.switchModuleStats.getPortCounts().totalPorts}}</dd></div><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_USW_TOOLTIP_AVAILABLE"></dt><dd class="alignRight">{{networkStatusDiagramCtrl.switchModuleStats.getPortCounts().totalPorts - networkStatusDiagramCtrl.switchModuleStats.getPortCounts().usedPorts}}</dd></div><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_USW_TOOLTIP_POWER_CONSUMPTION"></dt><dd class="alignRight noWrap">{{networkStatusDiagramCtrl.switchUtils.getPowerCounts().draw}} W</dd></div></dl></div></a><div class="unifiNetworkStatusDiagramIconValue" ng-if="networkStatusDiagramCtrl.siteStatus.getDevicesStatus().usw.connected === networkStatusDiagramCtrl.siteStatus.getDevicesStatus().usw.adopted">{{networkStatusDiagramCtrl.siteStatus.getDevicesStatus().usw.connected || 0}}</div><div class="unifiNetworkStatusDiagramIconValue danger" ng-if="networkStatusDiagramCtrl.siteStatus.getDevicesStatus().usw.connected !== networkStatusDiagramCtrl.siteStatus.getDevicesStatus().usw.adopted">{{networkStatusDiagramCtrl.siteStatus.getDevicesStatus().usw.connected || 0}}/{{networkStatusDiagramCtrl.siteStatus.getDevicesStatus().usw.adopted || 0}}</div><div class="unifiNetworkStatusDiagramIconLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_SWITCHES"></div></div><div class="unifiNetworkStatusDiagramConnectorLine unifiNetworkStatusDiagramConnectorLine--solid"></div></div><div class="unifiNetworkStatusDiagramGroup unifiNetworkStatusDiagramGroup--head"><div class="unifiNetworkStatusDiagramConnectorSpeed unifiNetworkStatusDiagramConnectorSpeed--withLeftArrowAfter">{{networkStatusDiagramCtrl.siteHealthLan | bps:{convertFromBytes:true} }}</div><div class="unifiNetworkStatusDiagramIcon unifiNetworkStatusDiagramIcon--uap"><a class="unifiNetworkStatusDiagramIconImage ubntTooltipContainer ubntTooltipContainer--hoverable" ui-sref="manage.site.devices({type: \'uap\'})" ng-mouseover="showUapTooltip = true" ng-mouseleave="showUapTooltip = false"><img class="visible--xlgDown" ng-src="{{::networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.uap.src}}" ng-srcset="{{::getRetinaImage(networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.uap.src)}}"><img class="visible--xxlg" ng-src="{{::networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.uap.src}}" ng-srcset="{{::getRetinaImage(networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.uap.src)}}"><div class="ubntTooltip ubntTooltip--topCenter unifiDashboardTooltip" ng-if="showUapTooltip"'+n("unifi-position-absolutely",!0,!0,!0)+'><dl class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_WIRELESS"></dt><dd class="alignRight">{{networkStatusDiagramCtrl.counts.wireless.sum.users}}</dd></div><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_GROUPS"></dt><dd class="alignRight">{{networkStatusDiagramCtrl.userGroups.repository.collection.length}}</dd></div></dl></div></a><div class="unifiNetworkStatusDiagramIconValue" ng-if="networkStatusDiagramCtrl.siteStatus.getDevicesStatus().uap.connected === networkStatusDiagramCtrl.siteStatus.getDevicesStatus().uap.adopted">{{networkStatusDiagramCtrl.siteStatus.getDevicesStatus().uap.connected || 0}}</div><div class="unifiNetworkStatusDiagramIconValue danger" ng-if="networkStatusDiagramCtrl.siteStatus.getDevicesStatus().uap.connected !== networkStatusDiagramCtrl.siteStatus.getDevicesStatus().uap.adopted">{{networkStatusDiagramCtrl.siteStatus.getDevicesStatus().uap.connected || 0}}/{{networkStatusDiagramCtrl.siteStatus.getDevicesStatus().uap.adopted || 0}}</div><div class="unifiNetworkStatusDiagramIconLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_APS"></div></div><div class="unifiNetworkStatusDiagramConnectorSpeed unifiNetworkStatusDiagramConnectorSpeed--withRightArrowBefore">{{networkStatusDiagramCtrl.siteHealthWlan | bps:{convertFromBytes:true} }}</div></div><div class="unifiNetworkStatusDiagramGroup unifiNetworkStatusDiagramGroup--wing"><div class="unifiNetworkStatusDiagramConnectorLine unifiNetworkStatusDiagramConnectorLine--dashed"></div><div class="unifiNetworkStatusDiagramIcon unifiNetworkStatusDiagramIcon--clients"><a class="unifiNetworkStatusDiagramIconImage ubntTooltipContainer ubntTooltipContainer--hoverable" ui-sref="manage.site.clients({guest: \'users\'})" ng-mouseover="showClientsTooltip = true" ng-mouseleave="showClientsTooltip = false"><img class="visible--xlgDown" ng-src="{{::networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.clients.src}}" ng-srcset="{{::getRetinaImage(networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.clients.src)}}"><img class="visible--xxlg" ng-src="{{::networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.clients.src}}" ng-srcset="{{::getRetinaImage(networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.clients.src)}}"><div class="ubntTooltip ubntTooltip--topCenter unifiDashboardTooltip" ng-if="showClientsTooltip"'+n("unifi-position-absolutely",!0,!0,!0)+'><div class="unifiDashboardTooltip__header"><div class="unweighted" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_HEADER"></div></div><dl class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_TOTAL"></dt><dd class="alignRight">{{networkStatusDiagramCtrl.counts.sum.users}}</dd></div></dl><dl class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_GROUPS"></dt><dd class="alignRight">{{networkStatusDiagramCtrl.userGroups.repository.collection.length}}</dd></div></dl>\x3c!--dl.appDescriptionList.appDescriptionList--inline\n  .appDescriptionListRow\n    dt.noWrap {{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS_TOOLTIP_EXPERIENCE\' | translate}}\n    dd.alignRight 0\n--\x3e</div></a><div class="unifiNetworkStatusDiagramIconValue">{{networkStatusDiagramCtrl.counts.wireless.sum.users || networkStatusDiagramCtrl.siteHealth.repository.collection.get(\'wlan\').get(\'num_user\') || 0}}</div><div class="unifiNetworkStatusDiagramIconLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS"></div><div class="unifiNetworkStatusDiagramIconLabel unifiNetworkStatusDiagramIconLabel--subLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_WIFI"></div></div><div class="unifiNetworkStatusDiagramConnectorLine unifiNetworkStatusDiagramConnectorLine--dashed"></div><div class="unifiNetworkStatusDiagramIcon unifiNetworkStatusDiagramIcon--guests"><a class="unifiNetworkStatusDiagramIconImage ubntTooltipContainer ubntTooltipContainer--hoverable" ui-sref="manage.site.clients({guest: \'guests\'})" ng-mouseover="showGuestsTooltip = true" ng-mouseleave="showGuestsTooltip = false"><img class="visible--xlgDown" ng-src="{{::networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.guests.src}}" ng-srcset="{{::getRetinaImage(networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.guests.src)}}"><img class="visible--xxlg" ng-src="{{::networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.guests.src}}" ng-srcset="{{::getRetinaImage(networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.guests.src)}}"><div class="ubntTooltip ubntTooltip--topLeft unifiDashboardTooltip" ng-if="showGuestsTooltip"'+n("unifi-position-absolutely",!0,!0,!0)+'><div class="unifiDashboardTooltip__header"><div class="unweighted" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_GUESTS_TOOLTIP_HEADER"></div></div><dl class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_GUESTS_TOOLTIP_TOTAL"></dt><dd class="alignRight">{{networkStatusDiagramCtrl.counts.sum.guests}}</dd></div></dl></div></a><div class="unifiNetworkStatusDiagramIconValue">{{networkStatusDiagramCtrl.counts.wireless.sum.guests || networkStatusDiagramCtrl.siteHealth.repository.collection.get(\'wlan\').get(\'num_guest\') || 0}}</div><div class="unifiNetworkStatusDiagramIconLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_GUESTS"></div></div>\x3c!--.unifiNetworkStatusDiagramConnectorLine.unifiNetworkStatusDiagramConnectorLine--dashed\n\n.unifiNetworkStatusDiagramIcon.unifiNetworkStatusDiagramIcon--iot\n  .unifiNetworkStatusDiagramIconImage.ubntTooltipContainer.ubntTooltipContainer--hoverable\n    img.visible--xlgDown(\n      ng-src="{{::networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.iot.src}}"\n      ng-srcset="{{::getRetinaImage(networkStatusDiagramCtrl.iconDir.default + networkStatusDiagramCtrl.iconSrc.iot.src)}}"\n    )\n    img.visible--xxlg(\n      ng-src="{{::networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.iot.src}}"\n      ng-srcset="{{::getRetinaImage(networkStatusDiagramCtrl.iconDir.large + networkStatusDiagramCtrl.iconSrc.iot.src)}}"\n    )\n    //\n      .ubntTooltip.ubntTooltip--topCenter.unifiDashboardTooltip\n        .unifiDashboardTooltip__header\n          .unweighted {{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_IOT_TOOLTIP_HEADER\' | translate}}\n\n        dl.appDescriptionList.appDescriptionList--inline\n          .appDescriptionListRow\n            dt.noWrap {{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_IOT_TOOLTIP_TOTAL\' | translate}}\n            dd.alignRight 0\n\n        dl.appDescriptionList.appDescriptionList--inline\n          .appDescriptionListRow\n            dt.noWrap {{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_IOT_TOOLTIP_GROUPS\' | translate}}\n            dd.alignRight 0\n\n        dl.appDescriptionList.appDescriptionList--inline\n          .appDescriptionListRow\n            dt.noWrap {{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_IOT_TOOLTIP_EXPERIENCE\' | translate}}\n            dd.alignRight 0\n\n  .unifiNetworkStatusDiagramIconValue\n    | {{networkStatusDiagramCtrl.siteHealth.repository.collection.get(\'wlan\').get(\'num_iot\') + networkStatusDiagramCtrl.siteHealth.repository.collection.get(\'lan\').get(\'num_iot\')  || 0}}\n\n  .unifiNetworkStatusDiagramIconLabel(\n    translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_IOT"\n  )--\x3e</div></div>'};var o=/["&<>]/},{"pug-runtime":23}],411:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var o=lazyRequire.get("BaseCollectionController");angular.module("app-unifi-manage").controller("NotifyDeviceRequirementController",["siteHealth","DEVICE_TYPES",function(t,e){return new(function(i){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.DEVICE_TYPES=e,t.isConnected=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,o),n(r,[{key:"$onInit",value:function(){return t.repository.register().fetch().then(this.updateCollection.bind(this,t.repository.collection))}},{key:"$onDestroy",value:function(){t.repository.unregister(),this.removeEventHandlers()}},{key:"onCollectionChange",value:function(){switch(this.isConnected=!1,this.deviceType){case e.GATEWAY:this.isConnected=t.hasGateway();break;case e.SWITCH:this.isConnected=t.hasSwitch();break;case e.AP:this.isConnected=t.hasAp()}}}]),r}())}])},{}],412:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiNotifyDeviceRequirement",{bindings:{deviceType:"@unifiNotifyDeviceRequirementType",tooltipPosition:"@unifiNotifyDeviceRequirementTooltipPosition"},controller:"NotifyDeviceRequirementController",controllerAs:"notifyDeviceRequirementCtrl",template:t("./notifyDeviceRequirement.pug")()})},{"./notifyDeviceRequirement.pug":413}],413:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="ubntTooltipContainer ubntTooltipContainer--hoverable" ng-if="!notifyDeviceRequirementCtrl.isConnected" style="--tooltip-width: 200px" ng-mouseover="showTooltip = true" ng-mouseleave="showTooltip = false"><div class="appBadge appBadge--warning appBadge--boxAlign">{{::\'COMMON_REQUIRES_\' + $parent.notifyDeviceRequirementCtrl.deviceType.toUpperCase() + \'_BADGE\' | translate}}</div><div class="ubntTooltip" ng-if="showTooltip"'+(i="unifi-position-absolutely",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+" ng-class=\"[      $parent.notifyDeviceRequirementCtrl.tooltipPosition ? 'ubntTooltip--' + $parent.notifyDeviceRequirementCtrl.tooltipPosition : 'ubntTooltip--topCenter'    ]\">{{'COMMON_REQUIRES_' + $parent.notifyDeviceRequirementCtrl.deviceType.toUpperCase() + '_TOOLTIP' | translate}}</div></div>";var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],414:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseCollectionController");function o(t,e,i){this._=t,this.devices=i,this.deviceFeatureUtils=e,this.currentPage=1,this.rowsPerPage=5,n.call(this),this.isRequirementMet={firmwareCaps:!0,wifiCaps:!0},this.notMetRequirementList={},this.resolve().then(function(){this.updateCollection(i.repository.collection)}.bind(this))}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.resolve=function(){return this.devices.repository.register().fetch()},o.prototype.destroy=function(){this.devices.repository.unregister()},o.prototype.onCollectionChange=function(){this.firmwareCaps&&this.firmwareCaps.length>0&&(this.isRequirementMet.firmwareCaps=this.areFirmwareCapsMet(this.firmwareCaps)),this.wifiCaps&&this.wifiCaps.length>0&&(this.isRequirementMet.wifiCaps=this.areWifiCapsMet(this.wifiCaps)),this.notMetRequirementList.all=this._.union(this.notMetRequirementList.firmwareCaps||[],this.notMetRequirementList.wifiCaps||[])},o.prototype.showTooltip=function(){return!this.isRequirementMet.firmwareCaps||!this.isRequirementMet.wifiCaps},o.prototype.getUnmetDevicesList=function(){return this.notMetRequirementList.all},o.prototype.areFirmwareCapsMet=function(t){return this.notMetRequirementList.firmwareCaps=this.collection.filter(function(e){return e.isAdopted()&&!this.deviceFeatureUtils.areFirmwareCapsMet(e,t)}.bind(this)),!this.notMetRequirementList.firmwareCaps.length},o.prototype.areWifiCapsMet=function(t){return this.notMetRequirementList.wifiCaps=this.collection.filter(function(e){return e.isAp()&&e.isAdopted()&&!this.deviceFeatureUtils.areWifiCapsMet(e,t)}.bind(this)),!this.notMetRequirementList.wifiCaps.length},o.prototype.paginationLimit=function(){return this.rowsPerPage},o.prototype.paginationBegin=function(){return(this.currentPage-1)*this.rowsPerPage},o.$inject=["_","deviceFeatureUtils","devices"],angular.module("app-unifi-manage").controller("NotifyFirmwareRequirementController",o)},{}],415:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiNotifyFirmwareRequirement",[function(){return{scope:{firmwareCaps:"=?unifiNotifyFirmwareRequirementFirmwareCaps",wifiCaps:"=?unifiNotifyFirmwareRequirementWifiCaps",isDark:"=?unifiNotifyFirmwareRequirementIsDark"},controller:"NotifyFirmwareRequirementController",controllerAs:"notifyFirmwareRequirementCtrl",bindToController:!0,replace:!0,template:t("./notifyFirmwareRequirement.pug")(),link:function(t,e,i,n){t.$on("$destroy",function(){n.removeEventHandlers(),n.destroy()})}}}])},{"./notifyFirmwareRequirement.pug":416}],416:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div ng-show="notifyFirmwareRequirementCtrl.showTooltip()"><div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--default verticalRhythm--cozy" ng-init="collapsed = true" ng-class="{      \'is-app-info-box-collapsed\': collapsed,      \'appInfoBox--dark\': notifyFirmwareRequirementCtrl.isDark    }"><div class="appInfoBox__icon icon ubnt-icon--alert warning"></div><div class="appInfoBox__content"><div class="appInfoBox__header"><div class="appInfoBox__text" translate="COMMON_REQUIRES_CAPS_HEADER"></div><div class="appInfoBox__toggle icon" ng-click="collapsed = !collapsed" ng-class="{            \'ubnt-icon--plus\': collapsed,            \'ubnt-icon--minus\': !collapsed          }"></div></div><div class="appInfoBox__body"><p translate="COMMON_REQUIRES_CAPS_INFOBOX_MESSAGE"></p><div class="appContainer"><div class="appRow iconText" ng-repeat="device in notifyFirmwareRequirementCtrl.getUnmetDevicesList() | limitTo:notifyFirmwareRequirementCtrl.paginationLimit():notifyFirmwareRequirementCtrl.paginationBegin()"><div class="col--xs1 iconText unifiDeviceIconText noVerticalPadding"><div class="iconText__icon" unifi-device-icon="device"></div></div><div class="col--xs11"><div class="iconText__text">{{device.getDisplayName()}}</div></div></div><div class="appRow"><div class="col col--xs12"><unifi-micro-pagination ng-show="notifyFirmwareRequirementCtrl.getUnmetDevicesList().length &gt; notifyFirmwareRequirementCtrl.rowsPerPage" unifi-micro-pagination-current-page="notifyFirmwareRequirementCtrl.currentPage" unifi-micro-pagination-rows-per-page="notifyFirmwareRequirementCtrl.rowsPerPage" unifi-micro-pagination-total-rows="notifyFirmwareRequirementCtrl.getUnmetDevicesList().length" unifi-list-pagination-is-dark="notifyFirmwareRequirementCtrl.isDark"></unifi-micro-pagination></div></div></div></div></div></div></div>'}},{"pug-runtime":23}],417:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var o=lazyRequire.get("BaseModelController");angular.module("app-unifi-manage").controller("OpenTerminalController",["$element","DEVICE_STATES","deviceFeatureUtils","deviceStateUtils","directDeviceConnectionUtils","windowPanels","WINDOW_PANEL_GROUPS",function(t,e,i,r,a,s,l){return new(function(c){function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,o),n(u,[{key:"$onDestroy",value:function(){this.removeEventHandlers()}},{key:"openTerminal",value:function(t){var e=this;s.openWindow(l.DEBUG_TERMINAL,this.model,[{value:!0,overwrite:!0}]).then(function(){e.isConnecting=!0}),t.preventDefault(),t.stopPropagation()}},{key:"onModelChange",value:function(){var n=this.openTerminal.bind(this);this.isAvailable=a.isBrowserSupported()&&r.getDeviceState(this.model)===e.CONNECTED&&i.isTerminalSupported(this.model),this.isAvailable?(t.on("click",n),t.removeClass("is-link-disabled")):(t.off("click",n),t.addClass("is-link-disabled"))}}]),u}())}])},{}],418:[function(t,e,i){"use strict";angular.module("shared-unifi-panel").directive("unifiOpenTerminal",["updateModelDirectiveMixin","TERMINAL_PANEL_EVENTS",function(t,e){return{controller:"OpenTerminalController",controllerAs:"openTerminalCtrl",scope:{},bindToController:{model:"=unifiOpenTerminal",isConnecting:"=?unifiOpenTerminalIsConnecting",isAvailable:"=?unifiOpenTerminalIsAvailable"},restrict:"A",link:function(i,n,o,r){t.init(i,n,o,r,!0,"openTerminalCtrl.model"),Object.keys(e).forEach(function(t){i.$on(e[t],function(t,e){e.get("mac")===r.model.get("mac")&&(r.isConnecting=!1)})})}}}])},{}],419:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiOverrideCheckboxValue",[function(){return{restrict:"A",require:"ngModel",scope:{overrideValue:"=unifiOverrideCheckboxValue"},link:function(t,e,i,n){var o=!1;t.$watch("overrideValue",function(){n.$render()}),t.$watch(function(){return n.$modelValue},function(t){o=t,n.$render()}),n.$render=function(){e[0].checked=o&&t.overrideValue},n.$formatters.push(function(e){return o=e,e&&t.overrideValue})}}}])},{}],420:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiPendingChangesIcon",[function(){return{scope:{model:"=unifiPendingChangesIconModel",group:"@unifiPendingChangesIconGroup"},replace:!0,template:t("./pendingChangesIcon.pug")(),link:function(t){t.hasPendingChanges=function(){return!!t.model&&t.model.hasPendingGroup(t.group)}}}}])},{"./pendingChangesIcon.pug":421}],421:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="icon ubnt-icon--ellipsis" ng-if="hasPendingChanges()" title="{{\'DEVICE_PROPERTIES_PENDING_CHANGES_NOTIFICATION_TITLE\' | translate}}"></div>'}},{"pug-runtime":23}],422:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiPendingChangesList",[function(){return{scope:{model:"=unifiPendingChangesListModel",save:"&unifiPendingChangesListSave"},template:t("./pendingChangesList.pug")(),link:function(t){t.isApplyingChanges=!1,t.applyPendingChanges=function(){t.save&&(t.isApplyingChanges=!0,t.save({model:t.model}).finally(function(){t.isApplyingChanges=!1}))},t.hasPendingChanges=function(){return!!t.model&&t.model.hasPendingChanges()},t.getPendingGroups=function(){return t.model.getPendingGroups()},t.clearPendingGroup=function(e){return t.model.clearPendingGroup(e)}}}}])},{"./pendingChangesList.pug":423}],423:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appTags appTags--wrapped noMarginBottom" ng-if="hasPendingChanges()"><div class="tag appTag appTag--cozy appTag--white appTag--transparent" ng-repeat="group in getPendingGroups()">{{group | translate}}<div class="appTag__close" ng-click="clearPendingGroup(group)"></div></div><button class="appMainButton appMainButton--cozy appMainButton--success withLightBorderHighlight" ng-click="applyPendingChanges()" busy-toggle="isApplyingChanges" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_CHANGES\' | translate}}</button></div>'}},{"pug-runtime":23}],424:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("PortForwardListController",["$translate","BaseListController","frame","heyToasts","preferences","portForwards",function(t,e,i,o,r,a){return new(function(s){function l(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return t.preferences=r,t.defaultSortBy="name",t.isRemoving={},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,e),n(l,[{key:"getCollection",value:function(){return a.repository.collection}},{key:"remove",value:function(e){var n=this;return i.show("confirm",{title:function(){return t.instant("SETTINGS_PORT_FORWARD_DELETE_CONFIRM_TITLE",{ruleName:e.get("name")})},message:function(){return t.instant("SETTINGS_PORT_FORWARD_DELETE_CONFIRM_MESSAGE",{ruleName:e.get("name")})},options:angular.noop}).then(function(){return n.isRemoving[e.id]=!0,e.destroy({wait:!0}).then(function(){return o.pushSuccess(t.instant("SETTINGS_PORT_FORWARD_DELETE_SUCCESS",{ruleName:e.get("name")})),!0}).catch(function(){return o.pushError(t.instant("SETTINGS_PORT_FORWARD_DELETE_ERROR",{ruleName:e.get("name")})),!1}).finally(function(){n.isRemoving[e.id]=!1})})}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}}]),l}())}])},{}],425:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiPortForwardList",["ListDirective",function(e){return new e("portForward",t("./portForwardList.pug")(),{onEdit:"&unifiPortForwardListOnEdit"})}])},{"./portForwardList.pug":426}],426:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="portForwardTable" collection-view-sort="portForwardListCtrl.view" ng-class="{      \'appTable--dark\': portForwardListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="portForwardName" collection-view-sort-by="name"><span translate="SETTINGS_PORT_FORWARD_TABLE_HEADER_NAME"></span></th><th class="portForwardFrom" collection-view-sort-by="src"><span translate="SETTINGS_PORT_FORWARD_TABLE_HEADER_FROM"></span></th><th class="portForwardPort" collection-view-sort-by="dst_port"><span translate="SETTINGS_PORT_FORWARD_TABLE_HEADER_PORT"></span></th><th class="portForwardDestination"><span translate="SETTINGS_PORT_FORWARD_TABLE_HEADER_DESTINATION"></span></th><th class="portForwardEnabled" collection-view-sort-by="enabled"><span translate="SETTINGS_PORT_FORWARD_TABLE_HEADER_ENABLED"></span></th><th class="portForwardActions"><span translate="SETTINGS_PORT_FORWARD_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in portForwardListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="portForwardName">{{::model.get(\'name\')}}</td><td class="portForwardFrom">{{::model.get(\'src\') && model.get(\'src\') !== \'any\' ? model.get(\'src\') : \'*\'}}</td><td class="portForwardPort">{{::model.get(\'dst_port\')}}</td><td class="portForwardDestination">{{::model.get(\'fwd\') + (model.get(\'fwd\') && model.get(\'fwd_port\') ? \':\' : \'\') + model.get(\'fwd_port\')}}</td><td class="portForwardEnabled" ng-bind-html="!(model.get(\'enabled\') === false) | enabledIcon"></td><td class="portForwardActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="portForwardListCtrl.edit(model)" ng-disabled="portForwardListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="portForwardListCtrl.edit(model)" ng-disabled="portForwardListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="portForwardListCtrl.remove(model)" ng-disabled="portForwardListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!portForwardListCtrl.view.getModels().length" ng-class="{      \'appInfoBox--dark\': portForwardListCtrl.preferences.model.get(\'isSettingsDark\')    }"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_PORT_FORWARD_TABLE_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],427:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiPortIcon",[function(){return{scope:{up:"=unifiPortIconUp",total:"=unifiPortIconTotal"},replace:!0,restrict:"E",transclude:!0,template:t("./portIcon.pug")()}}])},{"./portIcon.pug":428}],428:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiPortIcon"><div class="unifiPortIcon__fill" ng-style="{height: \'calc(6em * \' + (up || 0) / (total || 1) + \')\'}"></div><div class="unifiPortIcon__icon icon ubnt-icon--ethernet-port"></div><span class="unifiPortIcon__value">{{up}}</span><div class="ubntTooltipContainer ubntTooltipContainer--hoverable unifiPortIcon__tooltipContainer" ng-mouseover="tooltipVisible = true" ng-mouseleave="tooltipVisible = false"'+(i="unifi-transclude-scope",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' style="--tooltip-width: 140px"></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],429:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("PortPowerModuleController",["BaseModuleController","portFeatureUtils","resolveRepositoryGroupControllerMixin","switchModuleStats","switchUtils",function(t,e,i,r,a){return new(function(s){function l(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return t.repositories=["devices","switchModuleStats"],i(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,t),n(l,[{key:"init",value:function(){var t=this;this.listener=r.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"init",this).call(this).then(function(){t.failedToLoad||t.collectData()})}},{key:"destroy",value:function(){o(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"destroy",this).call(this),this.unregister(),this.listener.stopListening()}},{key:"collectData",value:function(){var t=this;this.portData={draw:{},scale:0,capacity:0,values:[]},this.powerData=a.getPowerCounts(),r.repository.collection.each(function(i){i.has("ports")&&i.get("ports").each(function(i){var n=Math.ceil(e.getMaximumPower(i));if(n){t.portData.capacity=Math.max(t.portData.capacity,n);var o=Math.ceil(e.getCurrentPower(i));t.portData.draw[o]=t.portData.draw[o]||0,t.portData.draw[o]++}})});for(var i=0;i<=this.portData.capacity;i++)this.portData.values.push(this.portData.draw[i]||0),this.portData.scale+=this.portData.draw[i]||0}},{key:"isAvailable",value:function(){return this.portData&&this.portData.scale||this.powerData&&this.powerData.capacity}}]),l}())}])},{}],430:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiPortPowerModule",["ModuleDirective",function(e){return new e("portPower",t("./portPowerModule.pug")())}])},{"./portPowerModule.pug":431}],431:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module"><div class="moduleContent"><div class="moduleHeader noHorizontalPadding"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle">{{portPowerModuleCtrl.definition.get(\'translationKey\') | translate}}</div></div><unifi-loading-module unifi-loading-module-loader="portPowerModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="portPowerModuleCtrl.isLoading" unifi-loading-module-failed="portPowerModuleCtrl.failedToLoad" unifi-loading-module-retry="portPowerModuleCtrl.retry()" unifi-loading-module-layout="portPowerModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !portPowerModuleCtrl.isLoading,        \'animated fadeOut\': portPowerModuleCtrl.isLoading      }"><div ng-if="!portPowerModuleCtrl.isLoading &amp;&amp; portPowerModuleCtrl.isAvailable()"><div class="verticalRhythm--comfy"><div class="unifiStatusBarRow"><div class="unifiStatusBarTitle">{{\'DASHBOARD_MODULE_PORT_POWER_PORT_POWER\' | translate}}</div></div><div class="unifiStatusBarRow appStatusBarVerticalGroup appStatusBarVerticalGroup--hoverable" ng-mouseover="hideRangeData = true" ng-mouseleave="hideRangeData = false"><div class="appStatusBarContainer" ng-repeat="item in portPowerModuleCtrl.portData.values track by $index" ng-style="{                \'width\': (1 / portPowerModuleCtrl.portData.values.length * 100) + \'%\'              }"><div class="appStatusBar appStatusBar--primary appStatusBar--vertical appStatusBar--small"><div class="statusBar__inner" ng-style="{                    \'height\': (item / portPowerModuleCtrl.portData.scale * 100) + \'%\'                  }"></div><div class="unifiStatusBarRange unifiStatusBarRange--highlight unifiStatusBarRange--hovered">{{$index}} W</div></div></div></div><div class="unifiStatusBarRow" ng-class="{\'invisible\': hideRangeData}"><div class="unifiStatusBarRange unifiStatusBarRange--min">0 W</div><div class="unifiStatusBarRange unifiStatusBarRange--max">{{portPowerModuleCtrl.portData.values.length - 1}} W</div></div></div><div class="verticalRhythm--comfy"><div class="unifiStatusBarRow"><div class="unifiStatusBarTitle">{{\'DASHBOARD_MODULE_PORT_POWER_POWER_CAPACITITY_VS_DRAW\' | translate}}</div><div class="unifiStatusBarValue">{{portPowerModuleCtrl.powerData.draw}} W</div></div><div class="unifiStatusBarRow"><div class="statusBar appStatusBar appStatusBar--primary appStatusBar--comfy appStatusBar--flat"><div class="statusBar__inner" ng-style="{                  \'width\': portPowerModuleCtrl.powerData.percentage + \'%\'                }"></div></div></div><div class="unifiStatusBarRow"><div class="unifiStatusBarRange unifiStatusBarRange--min">0 W</div><div class="unifiStatusBarRange unifiStatusBarRange--max">{{portPowerModuleCtrl.powerData.capacity}} W</div></div></div></div><unifi-unavailable-module ng-if="!portPowerModuleCtrl.isLoading &amp;&amp; !portPowerModuleCtrl.isAvailable()" unifi-unavailable-module-icon="\'ubnt-icon--ethernet-port\'" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_PORT_POWER_UNAVAILABLE\'"></unifi-unavailable-module></div></div></div>'}},{"pug-runtime":23}],432:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"devices|usw|port-power",translationKey:"DASHBOARD_MODULE_DEFINITIONS_PORT_POWER",directive:"unifi-port-power-module",preview:"images/dashboard/port-power.png",layout:"double",requirements:{deviceType:"usw"}}])}])},{}],433:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t,e,i,o,r,a){this.$filter=t,this.$q=e,this.$translate=i,this.networks=o,this.switches=r,this.switchUtils=a,n.call(this),this.init()}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.init=function(){this.isLoading=!0,this.failedToLoad=!1,this.skipInitialization||this.resolve().catch(function(){this.failedToLoad=!0}.bind(this)).finally(function(){this.isLoading=!1}.bind(this))},o.prototype.resolve=function(){var t=[this.networks.repository.register().fetch(),this.switches.repository.register().fetch()];return this.$q.all(t).then(function(){this.portConfId&&this.syncModel()}.bind(this))},o.prototype.destroy=function(){this.networks.repository.unregister(),this.switches.repository.unregister()},o.prototype.updateDevice=function(t){this.device=t},o.prototype.updatePortConfId=function(t){t!==this.portConfId&&(this.portConfId=t,this.syncModel())},o.prototype.syncModel=function(){var t=this.switches.repository.collection.get(this.portConfId);this.updateModel(t)},o.prototype.getNetworkNamesById=function(t){var e=[];return(angular.isArray(t)?t:[t]).forEach(function(t){var i=this.networks.repository.collection.get(t);i&&e.push(i.get("name"))}.bind(this)),e.join(", ")},o.prototype.onModelChange=function(){this.model?this.attrs={opMode:this.model.get("op_mode")||"switch",poeMode:this.switchUtils.getPortPoeModeText(this.model,!0),nativeNetwork:this.getNetworkNamesById(this.model.get("native_networkconf_id")),taggedNetworks:this.getNetworkNamesById(this.model.get("tagged_networkconf_ids")),voiceNetwork:this.getNetworkNamesById(this.model.get("voice_networkconf_id")),operationMode:this.switchUtils.getPortOperationMode(this.model,!0),linkNegotiation:this.model.get("autoneg")||!this.model.has("autoneg")?this.$translate.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_AUTO"):this.$filter("duplex")(this.model),lldpMed:!this.model.has("lldpmed_enabled")||this.model.get("lldpmed_enabled")}:this.attrs={}},o.$inject=["$filter","$q","$translate","networks","switches","switchUtils"],angular.module("app-unifi-manage").controller("PortProfileSummaryController",o)},{}],434:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiPortProfileSummary",[function(){return{scope:{portConfId:"=unifiPortProfileSummary",device:"=unifiPortProfileSummaryDevice"},controller:"PortProfileSummaryController",controllerAs:"portProfileSummaryCtrl",template:t("./portProfileSummary.pug")(),link:function(t,e,i,n){t.$watch("portConfId",function(t){n.updatePortConfId(t)});var o=t.$watch("device",function(t){t&&(n.updateDevice(t),o())});t.$on("$destroy",function(){n.destroy(),n.removeEventHandlers()})}}}])},{"./portProfileSummary.pug":435}],435:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+="<div ng-if=\"portProfileSummaryCtrl.model\"><div class=\"appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline\"><div class=\"appDescriptionListRow\" ng-if=\"portProfileSummaryCtrl.attrs.opMode === 'switch' &amp;&amp; portProfileSummaryCtrl.attrs.poeMode\"><dt>{{'DEVICE_PROPERTIES_LABEL_POE' | translate}}</dt><dd>{{portProfileSummaryCtrl.attrs.poeMode}}</dd></div></div><div class=\"appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline\" ng-if=\"portProfileSummaryCtrl.attrs.opMode === 'switch'\"><div class=\"appDescriptionListRow\" ng-if=\"portProfileSummaryCtrl.attrs.nativeNetwork\"><dt>{{'DEVICE_PROPERTIES_LABEL_NATIVE_NETWORK' | translate}}</dt><dd>{{portProfileSummaryCtrl.attrs.nativeNetwork}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"portProfileSummaryCtrl.attrs.taggedNetworks\"><dt>{{'DEVICE_PROPERTIES_LABEL_TAGGED_NETWORKS' | translate}}</dt><dd>{{portProfileSummaryCtrl.attrs.taggedNetworks}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"portProfileSummaryCtrl.attrs.voiceNetwork\"><dt>{{'DEVICE_PROPERTIES_LABEL_VOICE_NETWORK' | translate}}</dt><dd>{{portProfileSummaryCtrl.attrs.voiceNetwork}}</dd></div></div><div class=\"appDescriptionList appDescriptionList--longDefinition appDescriptionList--inline\"><div class=\"appDescriptionListRow\"><dt>{{'DEVICE_PROPERTIES_LABEL_OPERATION' | translate}}</dt><dd>{{portProfileSummaryCtrl.attrs.operationMode}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"portProfileSummaryCtrl.attrs.opMode === 'mirror'\"><dt>{{'DEVICE_PROPERTIES_LABEL_MIRRORING_PORT' | translate}}</dt><dd>{{portProfileSummaryCtrl.model.get('mirror_port_idx')}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"portProfileSummaryCtrl.attrs.opMode === 'switch' &amp;&amp; portProfileSummaryCtrl.device &amp;&amp; portProfileSummaryCtrl.device.get('dot1x_portctrl_enabled')\"><dt>{{'DEVICE_PROPERTIES_LABEL_8021X_CONTROL' | translate}}</dt><dd>{{'DEVICE_PROPERTIES_SWITCH_PORT_VALUES_' + portProfileSummaryCtrl.model.get('dot1x_ctrl') | toTranslationKey | translate}}</dd></div><div class=\"appDescriptionListRow\"><dt>{{'DEVICE_PROPERTIES_LABEL_LINK_NEGOTIATION' | translate}}</dt><dd>{{portProfileSummaryCtrl.attrs.linkNegotiation}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"portProfileSummaryCtrl.model.get('isolation')\"><dt>{{'DEVICE_PROPERTIES_LABEL_ISOLATION' | translate}}</dt><dd>{{portProfileSummaryCtrl.model.get('isolation') | enabled}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"portProfileSummaryCtrl.attrs.opMode === 'switch'\"><dt>{{'DEVICE_PROPERTIES_LABEL_STORM_CONTROL' | translate}}</dt><dd>{{portProfileSummaryCtrl.model.get('stormctrl_ucast_enabled') || portProfileSummaryCtrl.model.get('stormctrl_mcast_enabled') || portProfileSummaryCtrl.model.get('stormctrl_bcast_enabled') | enabled}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"portProfileSummaryCtrl.attrs.opMode === 'switch'\"><dt>{{'DEVICE_PROPERTIES_LABEL_LLDP_MED' | translate}}</dt><dd>{{portProfileSummaryCtrl.attrs.lldpMed | enabled}}</dd></div><div class=\"appDescriptionListRow\" ng-if=\"portProfileSummaryCtrl.model.get('egress_rate_limit_kbps_enabled')\"><dt>{{'DEVICE_PROPERTIES_LABEL_RATE_LIMIT' | translate}}</dt><dd>{{portProfileSummaryCtrl.model.get('egress_rate_limit_kbps') | bps: {isSi:true, convertFromBasePrefix: 'K'} }}</dd></div></div></div>"}},{"pug-runtime":23}],436:[function(t,e,i){"use strict";function n(){this.itemsLength=4}n.prototype.updateListLength=function(t){t&&(this.itemsLength=t),this.elements=new Array(this.itemsLength)},n.$inject=[],angular.module("app-unifi-manage").controller("PortUsageLoadingModuleController",n)},{}],437:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiPortUsageLoadingModule",[function(){return{scope:{itemsLength:"=unifiPortUsageLoadingModuleItemsLength"},bindToController:{failedToLoad:"=unifiPortUsageLoadingModuleFailed",isLoading:"=unifiPortUsageLoadingModuleIsLoading"},controller:"PortUsageLoadingModuleController",controllerAs:"portUsageLoadingModuleCtrl",template:t("./portUsageLoadingModule.pug")(),replace:!0,link:function(t,e,i,n){t.$watch("itemsLength",function(t){n.updateListLength(t)})}}}])},{"./portUsageLoadingModule.pug":438}],438:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiLoading" ng-class="{\'unifiLoading--hidden\': !(portUsageLoadingModuleCtrl.isLoading &amp;&amp; !portUsageLoadingModuleCtrl.failedToLoad)}"><div class="unifiLoadingGradient"><div class="unifiPortUsageContainer"><div class="unifiPortUsageItem" ng-repeat="step in portUsageLoadingModuleCtrl.elements track by $index"><div class="appMicroHeading verticalRhythm--condensed"><div class="dashboardModuleDummyText dashboardModuleDummyText--large">&nbsp;</div></div><unifi-port-icon unifi-port-icon-value="0" unifi-port-icon-fill="0"></unifi-port-icon></div></div></div></div>'}},{"pug-runtime":23}],439:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("PortUsageModuleController",["BaseModuleController","resolveRepositoryGroupControllerMixin","switchModuleStats",function(t,e,i){return new(function(r){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t.repositories=["switchModuleStats"],e(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),n(a,[{key:"init",value:function(){var t=this;this.listener=i.repository.collection.onEvent("update",this.collectData.bind(this),{debounceWait:0,throttleWait:0}),o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"init",this).call(this).then(function(){t.failedToLoad||t.collectData()})}},{key:"destroy",value:function(){o(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"destroy",this).call(this),this.unregister(),this.listener.stopListening()}},{key:"collectData",value:function(){var t=this;this.data={},i.repository.collection.each(function(e){e.has("ports")&&e.get("ports").each(function(e){var i=e.get("poe_mode");t.data[i]=t.data[i]||{up:0,total:0},t.data[i].total++,t.data[i].up+=e.get("up")?1:0})})}},{key:"hasData",value:function(){return this.data&&Object.keys(this.data).length>0}}]),a}())}])},{}],440:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiPortUsageModule",["ModuleDirective",function(e){return new e("portUsage",t("./portUsageModule.pug")())}])},{"./portUsageModule.pug":441}],441:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="module"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle" translate="{{::portUsageModuleCtrl.definition.get(\'translationKey\')}}"></div></div><unifi-loading-module unifi-loading-module-loader="portUsageModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="portUsageModuleCtrl.isLoading" unifi-loading-module-failed="portUsageModuleCtrl.failedToLoad" unifi-loading-module-retry="portUsageModuleCtrl.retry()" unifi-loading-module-layout="portUsageModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !portUsageModuleCtrl.isLoading,        \'animated fadeOut\': portUsageModuleCtrl.isLoading      }"><div class="unifiPortUsageContainer" ng-if="!portUsageModuleCtrl.isLoading &amp;&amp; portUsageModuleCtrl.hasData()"><div class="unifiPortUsageItem" ng-if="portUsageModuleCtrl.data.off.total"><div class="appMicroHeading verticalRhythm--condensed noWrap" translate="DASHBOARD_MODULE_PORT_USAGE_NO_POE"></div><unifi-port-icon unifi-port-icon-up="portUsageModuleCtrl.data.off.up || 0" unifi-port-icon-total="portUsageModuleCtrl.data.off.total || 0"><div class="ubntTooltip unifiBarSegmentTooltip"'+n("unifi-position-absolutely",!0,!0,!0)+n("unifi-auto-position",!0,!0,!0)+' ng-if="tooltipVisible"><div class="unifiChartTooltipHeader" translate="DASHBOARD_MODULE_PORT_USAGE_NO_POE"></div><div class="unifiChartTooltipBody"><div class="verticalRhythmQuarter"><div class="appDescriptionList appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow"><dt translate="DASHBOARD_MODULE_PORT_USAGE_ACTIVE"></dt><dd>{{up || 0}}</dd></div><div class="appDescriptionListRow"><dt translate="DASHBOARD_MODULE_PORT_USAGE_TOTAL"></dt><dd>{{total || 0}}</dd></div></div></div></div></div></unifi-port-icon></div><div class="unifiPortUsageItem" ng-if="portUsageModuleCtrl.data.pasv24.total"><div class="appMicroHeading verticalRhythm--condensed noWrap" translate="DASHBOARD_MODULE_PORT_USAGE_POE_PASSIVE_24V"></div><unifi-port-icon unifi-port-icon-up="portUsageModuleCtrl.data.pasv24.up || 0" unifi-port-icon-total="portUsageModuleCtrl.data.pasv24.total || 0"><div class="ubntTooltip unifiBarSegmentTooltip"'+n("unifi-position-absolutely",!0,!0,!0)+n("unifi-auto-position",!0,!0,!0)+' ng-if="tooltipVisible"><div class="unifiChartTooltipHeader" translate="DASHBOARD_MODULE_PORT_USAGE_POE_PASSIVE_24V"></div><div class="unifiChartTooltipBody"><div class="verticalRhythmQuarter"><div class="appDescriptionList appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow"><dt translate="DASHBOARD_MODULE_PORT_USAGE_ACTIVE"></dt><dd>{{up || 0}}</dd></div><div class="appDescriptionListRow"><dt translate="DASHBOARD_MODULE_PORT_USAGE_TOTAL"></dt><dd>{{total || 0}}</dd></div></div></div></div></div></unifi-port-icon></div><div class="unifiPortUsageItem" ng-if="portUsageModuleCtrl.data.passthrough.total"><div class="appMicroHeading verticalRhythm--condensed noWrap" translate="DASHBOARD_MODULE_PORT_USAGE_POE_PASSTHROUGH"></div><unifi-port-icon unifi-port-icon-up="portUsageModuleCtrl.data.passthrough.up || 0" unifi-port-icon-total="portUsageModuleCtrl.data.passthrough.total || 0"><div class="ubntTooltip"'+n("unifi-position-absolutely",!0,!0,!0)+n("unifi-auto-position",!0,!0,!0)+' ng-if="tooltipVisible"><div class="unifiChartTooltipHeader" translate="DASHBOARD_MODULE_PORT_USAGE_POE_PASSTHROUGH"></div><div class="unifiChartTooltipBody"><div class="verticalRhythmQuarter"><div class="appDescriptionList appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow"><dt translate="DASHBOARD_MODULE_PORT_USAGE_ACTIVE"></dt><dd>{{up || 0}}</dd></div><div class="appDescriptionListRow"><dt translate="DASHBOARD_MODULE_PORT_USAGE_TOTAL"></dt><dd>{{total || 0}}</dd></div></div></div></div></div></unifi-port-icon></div><div class="unifiPortUsageItem" ng-if="portUsageModuleCtrl.data.auto.total"><div class="appMicroHeading verticalRhythm--condensed noWrap" translate="DASHBOARD_MODULE_PORT_USAGE_POE_PLUS"></div><unifi-port-icon unifi-port-icon-up="portUsageModuleCtrl.data.auto.up || 0" unifi-port-icon-total="portUsageModuleCtrl.data.auto.total || 0"><div class="ubntTooltip unifiBarSegmentTooltip"'+n("unifi-position-absolutely",!0,!0,!0)+n("unifi-auto-position",!0,!0,!0)+' ng-if="tooltipVisible"><div class="unifiChartTooltipHeader" translate="DASHBOARD_MODULE_PORT_USAGE_POE_PLUS"></div><div class="unifiChartTooltipBody"><div class="verticalRhythmQuarter"><div class="appDescriptionList appDescriptionList--inline appDescriptionList--divider"><div class="appDescriptionListRow"><dt translate="DASHBOARD_MODULE_PORT_USAGE_ACTIVE"></dt><dd>{{up || 0}}</dd></div><div class="appDescriptionListRow"><dt translate="DASHBOARD_MODULE_PORT_USAGE_TOTAL"></dt><dd>{{total || 0}}</dd></div></div></div></div></div></unifi-port-icon></div></div><unifi-unavailable-module ng-if="!portUsageModuleCtrl.isLoading &amp;&amp; !portUsageModuleCtrl.hasData()" unifi-unavailable-module-icon="\'ubnt-icon--ethernet-port\'" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_PORT_USAGE_UNAVAILABLE\'"></unifi-unavailable-module></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],442:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"devices|usw|port-usage",loader:"port-usage",translationKey:"DASHBOARD_MODULE_DEFINITIONS_PORT_USAGE",directive:"unifi-port-usage-module",preview:"images/dashboard/port-usage.png",layout:"single",requirements:{deviceType:"usw"}}])}])},{}],443:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiPowerSaveIcon",[function(){return{scope:{isPowerSaveEnabled:"=unifiPowerSaveIcon"},template:t("./powerSaveIcon.pug")()}}])},{"./powerSaveIcon.pug":444}],444:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appAlertIcon appAlertIcon--scaled appAlertIcon--success" ng-if="isPowerSaveEnabled" title="{{\'COMMON_TITLE_POWER_SAVE_ENABLED\' | translate}}"><div class="icon ubnt-icon--leaf"></div></div>'}},{"pug-runtime":23}],445:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("ProgressController",["progress",function(t){return new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"$onInit",value:function(){this.progress=t.getOrCreateProgress(this.id)}},{key:"$onDestroy",value:function(){t.invalidateProgress(this.id)}}]),e}())}])},{}],446:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiProgress",{bindings:{id:"=unifiProgressId"},controller:"ProgressController",controllerAs:"progressCtrl",template:t("./progress.pug")()})},{"./progress.pug":447}],447:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div><div class="verticalRhythm--smash alignCenter">{{progressCtrl.progress.message}}</div><div class="statusBar appStatusBar appStatusBar--high appStatusBar--small"><div class="statusBar__inner" ng-style="{width: progressCtrl.progress.value + \'%\'}"></div></div></div>'}},{"pug-runtime":23}],448:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("PropertyPanelController",["$q","$timeout","$translate","BaseDockablePanelController","dynamicModules","frame","propertyPanel","deviceFeatureUtils","translateResolver","scroller",function(t,e,i,r,a,s,l,c,u,d){return new(function(e){function p(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"init",t).call(t,l,d),t.moduleLoaded=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(p,r),n(p,[{key:"$onInit",value:function(){var e=this;this.addEventHandlers(),t.all([a.load("panel"),u.resolve("propertyPanel")]).then(function(){e.moduleLoaded=!0})}},{key:"$onDestroy",value:function(){this.removeEventHandlers()}},{key:"isModuleLoaded",value:function(){return this.moduleLoaded}},{key:"getItemElementId",value:function(t){return["propertyPanelItem",t.modelType,t.id.replace(/:/g,"")].join("-")}},{key:"getItemType",value:function(t){return"device"===t.modelType?c.getHybridCapability(t.get("model"),t.get("type")):"knownclient"===t.modelType?"sta":t.modelType}},{key:"removeDockedItems",value:function(){var e=this,n=this.panels.getItemsWithPendingChanges(!0);return(n.length?s.show("confirm",{title:function(){return i.instant("COMMON_PROPERTIES_PENDING_CHANGES_FORGET_CONFIRM_TITLE")},message:function(){return i.instant("COMMON_PROPERTIES_PENDING_CHANGES_FORGET_ALL_CONFIRM_MESSAGE",{count:n.length},"messageformat")},options:angular.noop}):t.when()).then(function(){e.panels.removeDockedItems()})}}]),p}())}])},{}],449:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiPropertyPanel",[function(){return{controller:"PropertyPanelController",controllerAs:"propertyPanelCtrl",replace:!0,restrict:"E",template:t("./propertyPanel.pug")()}}])},{"./propertyPanel.pug":450}],450:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="ubntSidePanel ubntSidePanel--global ubntSidePanel--collapsible ubnt-mod-reset-color" id="propertyPanel" ng-class="{\'is-side-panel-open\': propertyPanelCtrl.isDockOpen()}"><div class="appViewSidePanelToggleButton appViewSidePanelToggleButton--cozy" ng-if="!propertyPanelCtrl.isEmpty() &amp;&amp; !propertyPanelCtrl.isDockOpen()" ng-click="propertyPanelCtrl.toggleDock()" title="{{\'COMMON_PROPERTY_PANEL_OPEN\' | translate}}"><div class="appViewSidePanelToggleButton__background"></div><div class="appViewSidePanelToggleButton__icon icon ubnt-icon--panels"></div></div><div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--dark appActionBar--cozy appActionBar--flexible unifiViewSidePanelActionBar"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarTitle" translate="COMMON_PROPERTY_PANEL_TITLE"></div></div><div class="appActionBar__left unifiViewSidePanelActionBarPendingChanges" ng-if="propertyPanelCtrl.isDockOpen()"><unifi-property-panel-pending-changes></unifi-property-panel-pending-changes></div><div class="appActionBar__right"><div class="appActionIconGroup"><div class="appActionIcon appActionIcon--dark" ng-click="propertyPanelCtrl.removeDockedItems()" title="{{\'COMMON_PROPERTY_PANEL_REMOVE_ALL\' | translate}}"><span class="button__icon icon ubnt-icon--lines-step-up"></span></div><div class="appActionIcon appActionIcon--dark" ng-if="!propertyPanelCtrl.areAllDockedPanelsCollapsed()" ng-click="propertyPanelCtrl.collapsePanels()" title="{{\'COMMON_PROPERTY_PANEL_COLLAPSE_ALL\' | translate}}"><span class="button__icon icon ubnt-icon--menu"></span></div><div class="appActionIcon appActionIcon--dark" ng-if="propertyPanelCtrl.areAllDockedPanelsCollapsed()" ng-click="propertyPanelCtrl.expandPanels()" title="{{\'COMMON_PROPERTY_PANEL_EXPAND_ALL\' | translate}}"><span class="button__icon icon ubnt-icon--menu"></span></div><div class="appActionIcon appActionIcon--dark" ng-click="propertyPanelCtrl.closeDock()" title="{{\'COMMON_PROPERTY_PANEL_CLOSE\' | translate}}"><span class="button__icon icon ubnt-icon--pointer-double-right"></span></div></div></div></div></div><div class="ubntMainPanel ubntMainPanel--globalSidePanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><div class="unifiPanel unifiDndDock" id="propertyPanelScrollContainer"'+n("unifi-dnd-dock",!0,!0,!0)+' unifi-dnd-dock-items="propertyPanelCtrl.getItems()" unifi-dnd-dock-placeholder-src="partials/propertyPanelDndPlaceholder.html" unifi-dnd-dock-on-drop-inside="propertyPanelCtrl.setItemOrder(itemId, index)" unifi-dnd-dock-on-drop-outside="propertyPanelCtrl.setItemCoords(itemId, x, y)" unifi-dnd-dock-can-drop-outside="true" unifi-dnd-dock-allowed-item-classes="[\'unifiDndItem\']"><div class="unifiDndItem" ng-if="propertyPanelCtrl.isModuleLoaded()" ng-repeat="item in propertyPanelCtrl.getItems()" ng-switch="propertyPanelCtrl.getItemType(item)" ng-class="{              \'is-docked\': !dockedItemCtrl.isUndocked,              \'is-undocked\': dockedItemCtrl.isUndocked,              \'is-dragging\': draggableItemCtrl.isDragging            }" ng-init="itemId = propertyPanelCtrl.panels.getItemAndTypeId(item); offset = propertyPanelCtrl.getItems().length - $index;" ng-attr-id="{{propertyPanelCtrl.getItemElementId(item)}}" ng-attr-data-item-id="{{itemId}}"'+n("unifi-dockable-item",!0,!0,!0)+" unifi-dockable-item-is-undocked=\"propertyPanelCtrl.panels.getItemState(item, 'undocked')\""+n("unifi-draggable-item",!0,!0,!0)+' unifi-draggable-item-handle=".unifiPanelItemHeader" unifi-draggable-item-is-disabled="!dockedItemCtrl.isUndocked" unifi-draggable-item-on-drag-start="propertyPanelCtrl.onItemDragStart(itemId)" unifi-draggable-item-on-drag-stop="propertyPanelCtrl.onItemDragStop(itemId, elementX, elementY)"'+n("unifi-resizable-item",!0,!0,!0)+' unifi-resizable-item-direction="[\'right\']" unifi-resizable-item-is-disabled="!dockedItemCtrl.isUndocked" unifi-resizable-item-on-resize-stop="propertyPanelCtrl.onItemResizeStop(itemId, width, height)" unifi-dnd-dock-item="itemId" unifi-dnd-dock-item-handle=".unifiPanelItemHeader" unifi-dnd-dock-item-is-disabled="dockedItemCtrl.isUndocked"'+n("unifi-constrain-position",!0,!0,!0)+' unifi-constrain-position-selector="#contentContainer" unifi-constrain-position-is-disabled="!dockedItemCtrl.isUndocked" ng-style="{              \'left\': dockedItemCtrl.isUndocked ? propertyPanelCtrl.panels.getItemState(item, \'x\') || ((100 + (30 * offset)) + \'px\') : 0,              \'top\': dockedItemCtrl.isUndocked ? propertyPanelCtrl.panels.getItemState(item, \'y\') || ((100 + (30 * offset)) + \'px\') : 0,              \'width\': dockedItemCtrl.isUndocked ? propertyPanelCtrl.panels.getItemState(item, \'width\') : \'auto\',              \'z-index\': propertyPanelCtrl.getItems().length - $index + (dockedItemCtrl.isUndocked ? 500 : 0)            }"><div class="unifiPanelItemContainer" ng-switch-when="ugw" unifi-gateway-properties="item" data-id="{{item.id}}"></div><div class="unifiPanelItemContainer" ng-switch-when="usw" unifi-switch-properties="item" data-id="{{item.id}}"></div><div class="unifiPanelItemContainer" ng-switch-when="uap" unifi-ap-properties="item" data-id="{{item.id}}"></div><div class="unifiPanelItemContainer" ng-switch-when="uap+usw" unifi-ap-switch-properties="item" data-id="{{item.id}}"></div><div class="unifiPanelItemContainer" ng-switch-when="sta" unifi-client-properties="item" data-id="{{item.id}}"></div><div class="unifiPanelItemContainer" ng-switch-when="stream" unifi-stream-properties="item" data-id="{{item.id}}"></div><div class="unifiPanelItemContainer" ng-switch-when="batch:uap" unifi-ap-properties-batch="item" data-id="{{item.id}}"></div><div class="unifiPanelItemContainer" ng-switch-when="batch:usw" unifi-switch-properties-batch="item" data-id="{{item.id}}"></div><div class="unifiPanelItemContainer" ng-switch-when="batch:sta" unifi-client-properties-batch="item" data-id="{{item.id}}"></div></div></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],451:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseCollectionController");function o(t,e,i,o,r,a,s,l,c,u,d){d(this),this.$q=t,this.batchEdit=e,this.clientUtils=i,this.clientBatchUtils=o,this.devices=r,this.deviceUtils=a,this.deviceBatchUtils=s,this.knownClientsCache=l,this.propertyPanel=c,this.heyToasts=u,this.isApplying={},this.collectionChangeEvent="change:deep:destination pending:change",n.call(this),this.updateCollection(this.batchEdit.collection)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.addEventHandlers=function(){n.prototype.addEventHandlers.call(this),this.devices.repository.collection.on("remove pending:add pending:remove pending:change pending:reset",this.onCollectionChange,this),this.knownClientsCache.repository.collection.on("remove pending:add pending:remove pending:change pending:reset",this.onCollectionChange,this)},o.prototype.removeEventHandlers=function(){n.prototype.removeEventHandlers.call(this),this.devices.repository.collection.off("remove pending:add pending:remove pending:change pending:reset",this.onCollectionChange,this),this.knownClientsCache.repository.collection.off("remove pending:add pending:remove pending:change pending:reset",this.onCollectionChange,this)},o.prototype.onCollectionChange=function(){this._pendingItems=this.propertyPanel.getItemsWithPendingChanges(),this._pendingItems.length||(this.isDropdownVisible=!1),this.pendingItemTypes=Array.from(new Set(this._pendingItems.map(function(t){return this.getModelType(t)}.bind(this))))},o.prototype.saveAllPendingChanges=function(){return this.isApplyingAll=!0,this.$q.all(this._pendingItems.map(function(t){return this.savePendingChanges(t)}.bind(this))).then(function(){this.isApplyingAll=!1}.bind(this))},o.prototype.savePendingChanges=function(t){return this.isApplying[t.id]=!0,(this.isBatchModel(t)?this[this.getModelType(t)+"BatchUtils"].savePendingChanges(t,{wait:!0}).then(function(e){return(t.get("error")||[]).length?this.heyToasts.pushWarning(e):this.heyToasts.pushSuccess(e),!0}.bind(this)):this[this.getModelType(t)+"Utils"].savePendingChanges(t,{wait:!0}).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this))).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){delete this.isApplying[t.id]}.bind(this))},o.prototype.clearPendingChanges=function(t){return t.clearPendingChanges()},o.prototype.hasChanges=function(){return this.getChangesCount()>0},o.prototype.getChangesCount=function(){return this._pendingItems?this._pendingItems.reduce(function(t,e){return this.isBatchModel(e)?t+e.get("destination").length:t+1}.bind(this),0):0},o.prototype.getChangedItems=function(){return this._pendingItems},o.prototype.getModelType=function(t){if(!this.isBatchModel(t))return t&&t.modelType;switch(t.modelType){case"batch:uap":case"batch:usw":return"device";case"batch:sta":return"client"}},o.prototype.isBatchModel=function(t){return!(!t||!t.isBatch)},o.$inject=["$q","batchEdit","clientUtils","clientBatchUtils","devices","deviceUtils","deviceBatchUtils","knownClientsCache","propertyPanel","heyToasts","toggleDropdownControllerMixin"],angular.module("app-unifi-manage").controller("PropertyPanelPendingChangesController",o)},{}],452:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiPropertyPanelPendingChanges",[function(){return{controller:"PropertyPanelPendingChangesController",controllerAs:"propertyPanelPendingChangesCtrl",template:t("./propertyPanelPendingChanges.pug")(),link:function(t,e,i,n){t.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./propertyPanelPendingChanges.pug":453}],453:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="appPopoverContainer" ng-if="propertyPanelPendingChangesCtrl.hasChanges()"><div class="appCountLabelContainer appCountLabelContainer--doubleLine clickable" ng-click="propertyPanelPendingChangesCtrl.toggleDropdown()"><div class="count count--round appCount appCount--warning"><div class="count__value">{{propertyPanelPendingChangesCtrl.getChangesCount()}}</div></div><div class="appCountLabel appCountLabel--uppercase" ng-switch="propertyPanelPendingChangesCtrl.pendingItemTypes.length === 1 ? propertyPanelPendingChangesCtrl.pendingItemTypes[0] : undefined"><span ng-switch-when="device" translate="COMMON_PROPERTY_PANEL_PENDING_DEVICE_CHANGES" translate-values="{count: propertyPanelPendingChangesCtrl.getChangesCount()}" translate-interpolation="messageformat"></span><span ng-switch-when="client" translate="COMMON_PROPERTY_PANEL_PENDING_CLIENT_CHANGES" translate-values="{count: propertyPanelPendingChangesCtrl.getChangesCount()}" translate-interpolation="messageformat"></span><span'+(i="ng-switch-default",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' translate="COMMON_PROPERTY_PANEL_PENDING_MULTIPLE_CHANGES" translate-values="{count: propertyPanelPendingChangesCtrl.getChangesCount()}" translate-interpolation="messageformat"></span></div><div class="appCountLabel appActionIcon appActionIcon--dark icon ubnt-icon--pointer-down"></div></div><div class="appPopover appPopover--withFooter appPopover--scrollable appPopover--onActionIcon appPopover--bottomLeft" ng-if="propertyPanelPendingChangesCtrl.isDropdownVisible"><div class="appPopover__inner"><div class="appPopover__content noHorizontalPadding"><ul class="appMenu appMenu--hoverable"><li class="appMenu__item" ng-repeat="model in propertyPanelPendingChangesCtrl.getChangedItems()"><div class="iconText appIconText unifiDeviceIconText unifiDeviceIconText--withActions"><div class="iconText__icon unifiBatchDeviceIcon--offsetCount" ng-if="propertyPanelPendingChangesCtrl.getModelType(model) === \'device\' &amp;&amp; propertyPanelPendingChangesCtrl.isBatchModel(model)" unifi-batch-device-icon="model"></div><div class="iconText__icon" ng-if="propertyPanelPendingChangesCtrl.getModelType(model) === \'device\' &amp;&amp; !propertyPanelPendingChangesCtrl.isBatchModel(model)" unifi-device-icon="model"></div><div class="iconText__icon unifiBatchClientIcon--offsetCount" ng-if="propertyPanelPendingChangesCtrl.getModelType(model) === \'client\' &amp;&amp; propertyPanelPendingChangesCtrl.isBatchModel(model)" unifi-batch-client-icon="model"></div><div class="iconText__icon" ng-if="propertyPanelPendingChangesCtrl.getModelType(model) === \'knownclient\' &amp;&amp; !propertyPanelPendingChangesCtrl.isBatchModel(model)" unifi-client-icon="model"></div><div class="iconText__text"><div>{{model.getDisplayName()}}</div><div><button class="appMainButton appMainButton--condensed appMainButton--transparent success noPaddingLeft applyChanges" type="button" ng-click="propertyPanelPendingChangesCtrl.savePendingChanges(model)" busy-toggle="propertyPanelPendingChangesCtrl.isApplying[model.id]" busy-toggle-spinner-classes="[\'appSpinner appSpinner--dark appSpinner--centered appSpinner--small\']"><span class="button__icon icon ubnt-icon--check-2 visible--smUp"></span><span>{{\'COMMON_ACTIONS_APPLY\' | translate}}</span></button><button class="appMainButton appMainButton--condensed appMainButton--transparent neutral discardChanges" type="button" ng-click="propertyPanelPendingChangesCtrl.clearPendingChanges(model)" ng-hide="propertyPanelPendingChangesCtrl.isApplying[model.id]"><span class="button__icon icon ubnt-icon--x visible--smUp"></span><span>{{\'COMMON_ACTIONS_DISCARD\' | translate}}</span></button></div></div></div></li></ul></div><div class="appPopover__footer"><button class="appMainButton appMainButton--cozy appMainButton--success" ng-click="propertyPanelPendingChangesCtrl.saveAllPendingChanges()" busy-toggle="propertyPanelPendingChangesCtrl.isApplyingAll" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_APPLY_ALL\' | translate}}</button></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],454:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRadiusAcctServerFormGroup",[function(){return{scope:{model:"=unifiRadiusAcctServerFormGroupModel",attributeName:"@unifiRadiusAcctServerFormGroupAttributeName",min:"=unifiRadiusAcctServerFormGroupMin",max:"=unifiRadiusAcctServerFormGroupMax",isRequired:"=unifiRadiusAcctServerFormGroupIsRequired",isDark:"=unifiRadiusAcctServerFormGroupIsDark",isReadOnly:"=unifiRadiusAcctServerFormGroupIsReadOnly"},controller:"RadiusRepeatableFormController",controllerAs:"radiusRepeatableFormCtrl",bindToController:!0,template:t("./radiusAcctServerFormGroup.pug")(),link:function(t,e,i,n){t.$watch(function(){return n.model},function(t){n.updateModel(t)})}}}])},{"./radiusAcctServerFormGroup.pug":455}],455:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appFormGroup"><div class="radiusAcctServer appInputGroup appInputGroup--cozy" ng-repeat="server in radiusRepeatableFormCtrl.model.attributes[radiusRepeatableFormCtrl.attributeName] track by $index"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="radiusAcctServerIp{{$index}}" translate="PROFILES_RADIUS_FORM_LABEL_IP_ADDRESS"></label><input type="text" name="radiusAcctServerIp{{$index}}" id="radiusAcctServerIp{{$index}}" size="16" ng-model="server.ip" ng-pattern="radiusRepeatableFormCtrl.patterns.ipAddress" ng-required="radiusRepeatableFormCtrl.isRequired"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="radiusAcctServerPort{{$index}}" translate="PROFILES_RADIUS_FORM_LABEL_PORT"></label><input type="text" name="radiusAcctServerPort{{$index}}" id="radiusAcctServerPort{{$index}}" size="5" ng-init="server.port = server.port || 1813" ng-model="server.port" ng-pattern="radiusRepeatableFormCtrl.patterns.portNumber" ng-required="radiusRepeatableFormCtrl.isRequired"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="radiusAcctServerSecret{{$index}}" translate="PROFILES_RADIUS_FORM_LABEL_PASSWORD"></label><unifi-tooltip><content translate="VALIDATION_HINT_RADIUS_SECRET"></content></unifi-tooltip><unifi-password-reveal><input type="password" name="radiusAcctServerSecret{{$index}}" id="radiusAcctServerSecret{{$index}}" size="16" ng-model="server.x_secret" ng-required="radiusRepeatableFormCtrl.isRequired"></unifi-password-reveal></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeAcctServer" type="button" ng-if="!radiusRepeatableFormCtrl.isReadOnly" ng-click="radiusRepeatableFormCtrl.removeItem($index + 1)" ng-disabled="!radiusRepeatableFormCtrl.isRemoveAllowed()" title="{{\'PROFILES_RADIUS_FORM_ACTION_REMOVE_ACCOUNTING_SERVER\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div></div><div class="appInputGroup" ng-if="!radiusRepeatableFormCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addAcctServer" type="button" ng-click="radiusRepeatableFormCtrl.addItem()" ng-disabled="!radiusRepeatableFormCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="PROFILES_RADIUS_FORM_ACTION_ADD_ACCOUNTING_SERVER"></span></button></div></div>'}},{"pug-runtime":23}],456:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRadiusAuthServerFormGroup",[function(){return{scope:{model:"=unifiRadiusAuthServerFormGroupModel",attributeName:"@unifiRadiusAuthServerFormGroupAttributeName",min:"=unifiRadiusAuthServerFormGroupMin",max:"=unifiRadiusAuthServerFormGroupMax",isRequired:"=unifiRadiusAuthServerFormGroupIsRequired",isDark:"=unifiRadiusAuthServerFormGroupIsDark",isReadOnly:"=unifiRadiusAuthServerFormGroupIsReadOnly"},controller:"RadiusRepeatableFormController",controllerAs:"radiusRepeatableFormCtrl",bindToController:!0,template:t("./radiusAuthServerFormGroup.pug")(),link:function(t,e,i,n){t.$watch(function(){return n.model},function(t){n.updateModel(t)})}}}])},{"./radiusAuthServerFormGroup.pug":457}],457:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appFormGroup"><div class="radiusAuthServer appInputGroup appInputGroup--cozy" ng-repeat="server in radiusRepeatableFormCtrl.model.attributes[radiusRepeatableFormCtrl.attributeName] track by $index"><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="radiusAuthServerIp{{$index}}" translate="PROFILES_RADIUS_FORM_LABEL_IP_ADDRESS"></label><input type="text" name="radiusAuthServerIp{{$index}}" id="radiusAuthServerIp{{$index}}" size="16" ng-model="server.ip" ng-pattern="radiusRepeatableFormCtrl.patterns.ipAddress" ng-required="radiusRepeatableFormCtrl.isRequired"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="radiusAuthServerPort{{$index}}" translate="PROFILES_RADIUS_FORM_LABEL_PORT"></label><input type="text" name="radiusAuthServerPort{{$index}}" id="radiusAuthServerPort{{$index}}" size="5" ng-init="server.port = server.port || 1812" ng-model="server.port" ng-pattern="radiusRepeatableFormCtrl.patterns.portNumber" ng-required="radiusRepeatableFormCtrl.isRequired"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><label for="radiusAuthServerSecret{{$index}}" translate="PROFILES_RADIUS_FORM_LABEL_PASSWORD"></label><unifi-tooltip><content translate="VALIDATION_HINT_RADIUS_SECRET"></content></unifi-tooltip><unifi-password-reveal><input type="password" name="radiusAuthServerSecret{{$index}}" id="radiusAuthServerSecret{{$index}}" size="16" ng-model="server.x_secret" ng-required="radiusRepeatableFormCtrl.isRequired"></unifi-password-reveal></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><button class="appMainButton appMainButton--tertiary appMainButton--condensed removeAuthServer" type="button" ng-if="!radiusRepeatableFormCtrl.isReadOnly" ng-click="radiusRepeatableFormCtrl.removeItem($index + 1)" ng-disabled="!radiusRepeatableFormCtrl.isRemoveAllowed()" title="{{\'PROFILES_RADIUS_FORM_ACTION_REMOVE_AUTH_SERVER\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></button></div></div><div class="appInputGroup" ng-if="!radiusRepeatableFormCtrl.isReadOnly"><button class="appMainButton appMainButton--tertiary appMainButton--condensed addAuthServer" type="button" ng-click="radiusRepeatableFormCtrl.addItem()" ng-disabled="!radiusRepeatableFormCtrl.isAddAllowed()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="PROFILES_RADIUS_FORM_ACTION_ADD_AUTH_SERVER"></span></button></div></div>'}},{"pug-runtime":23}],458:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(t,e,i,o,r,a,s,l){this.$translate=t,this.heyToasts=e,this.preferences=i,this.radius=o,this.RADIUS_VLAN_OPTIONS=s,this.interimUpdateIntervalMin=a.INTERIM_UPDATE_INTERVAL_MIN,this.interimUpdateIntervalMax=a.INTERIM_UPDATE_INTERVAL_MAX,this.patterns={ipAddress:l.IPV4_ADDRESS,portNumber:l.PORT_NUMBER},this.radiusAcctServerMin=1,this.radiusAcctServerMax=4,this.radiusAuthServerMin=1,this.radiusAuthServerMax=4,n.call(this,r)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){this.isSubmitting=!0;var t=angular.extend({},this.modelCopy.attributes);return this.modelCopy.get("accounting_enabled")||(t.acct_servers=[]),this.radius.save(this.model,t).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.$inject=["$translate","heyToasts","preferences","radius","modelDivergence","RADIUS_LIMITS","RADIUS_VLAN_OPTIONS","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("RadiusProfileFormController",o)},{}],459:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRadiusProfileForm",["SimpleFormDirective",function(e){return new e("radiusProfile",t("./radiusProfileForm.pug")())}])},{"./radiusProfileForm.pug":460}],460:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="radiusProfileFormCtrl.form" ng-class="{    \'appForm--dark\': isDark,    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': radiusProfileFormCtrl.showValidation,    \'is-validation-hidden\': !radiusProfileFormCtrl.showValidation  }" ng-submit="radiusProfileFormCtrl.form.$valid &amp;&amp; radiusProfileFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="radiusProfileFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="radiusProfileFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="isDark" unifi-config-changed-with-icon="true" ng-show="radiusProfileFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone" ng-if="!isModal"'+n("translate",!0,!0,!0)+' translate-values="{profileName: radiusProfileFormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_PROFILES_RADIUS_SECTION_VIEW\' : (radiusProfileFormCtrl.model.id ? \'SETTINGS_PROFILES_RADIUS_SECTION_EDIT\' : \'SETTINGS_PROFILES_RADIUS_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="PROFILES_RADIUS_FORM_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="name" ng-model="radiusProfileFormCtrl.modelCopy.attributes.name" ng-model-master="radiusProfileFormCtrl.model.attributes.name"'+n("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="PROFILES_RADIUS_FORM_LABEL_VLAN_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="radiusProfileVlanEnabled" id="radiusProfileVlanEnabled" ng-model="radiusProfileFormCtrl.modelCopy.attributes.vlan_enabled" ng-model-master="radiusProfileFormCtrl.model.attributes.vlan_enabled"><label for="radiusProfileVlanEnabled" translate="PROFILES_RADIUS_FORM_VALUES_VLAN_ENABLED"></label></div></div></div><div class="appRow"><div class="col--sm9 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="radiusProfileVlanWlanMode" id="radiusProfileVlanWlanMode" ng-model="radiusProfileFormCtrl.modelCopy.attributes.vlan_wlan_mode" ng-model-master="radiusProfileFormCtrl.modelCopy.attributes.vlan_wlan_mode" ng-true-value="\'{{radiusProfileFormCtrl.RADIUS_VLAN_OPTIONS.ENABLED}}\'" ng-false-value="\'{{radiusProfileFormCtrl.RADIUS_VLAN_OPTIONS.DISABLED}}\'"><label for="radiusProfileVlanWlanMode" translate="PROFILES_RADIUS_FORM_VALUES_VLAN_WLAN_MODE"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="PROFILES_RADIUS_FORM_LABEL_AUTH_SERVER"></label></div><div class="col--sm9"><unifi-radius-auth-server-form-group ng-if="radiusProfileFormCtrl.model &amp;&amp; !radiusProfileFormCtrl.model.get(\'attr_hidden_id\')" unifi-radius-auth-server-form-group-model="radiusProfileFormCtrl.modelCopy" unifi-radius-auth-server-form-group-attribute-name="auth_servers" unifi-radius-auth-server-form-group-min="radiusProfileFormCtrl.radiusAuthServerMin" unifi-radius-auth-server-form-group-max="radiusProfileFormCtrl.radiusAuthServerMax" unifi-radius-auth-server-form-group-is-required="true" unifi-radius-auth-server-form-group-is-dark="isDark" unifi-radius-auth-server-form-group-is-read-only="isReadOnly"></unifi-radius-auth-server-form-group><div class="appFormGroup appFormGroup--cozy" ng-if="radiusProfileFormCtrl.model.get(\'attr_hidden_id\')"><div class="appInputGroup appInputGroup--cozy"><h5 class="noMargin"><div class="appBadge appBadge--boxAlign" ng-class="{\'appBadge--medium\': isDark}" translate="COMMON_REQUIRES_UGW_BADGE"></div></h5></div></div></div></div><div class="appRow" ng-if="!radiusProfileFormCtrl.model.get(\'attr_hidden_id\')"><div class="col--sm3"><label class="appLabel--primary" translate="PROFILES_RADIUS_FORM_LABEL_ACCOUNTING_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="radiusProfileAccountingEnabled" id="radiusProfileAccountingEnabled" ng-model="radiusProfileFormCtrl.modelCopy.attributes.accounting_enabled" ng-model-master="radiusProfileFormCtrl.model.attributes.accounting_enabled"><label for="radiusProfileAccountingEnabled" translate="PROFILES_RADIUS_FORM_VALUES_ACCOUNTING_ENABLED"></label></div></div></div><div class="appRow" ng-show="radiusProfileFormCtrl.modelCopy.attributes.accounting_enabled"><div class="col--sm3"><label class="appLabel--primary" translate="PROFILES_RADIUS_FORM_LABEL_ACCOUNTING_INTERIM_UPDATE"></label><unifi-tooltip class="ml-1"><content translate="PROFILES_RADIUS_FORM_LABEL_TOOLTIP_ACCOUNTING_INTERIM_INTERVAL"></content></unifi-tooltip></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="radiusProfileAccountingInterimUpdateEnabled" id="radiusProfileAccountingInterimUpdateEnabled" ng-model="radiusProfileFormCtrl.modelCopy.attributes.interim_update_enabled" ng-model-master="radiusProfileFormCtrl.model.attributes.interim_update_enabled"><label for="radiusProfileAccountingInterimUpdateEnabled" translate="PROFILES_RADIUS_FORM_VALUES_ACCOUNTING_INTERIM_UPDATE_ENABLED"></label></div></div></div><div class="appRow" ng-show="radiusProfileFormCtrl.modelCopy.attributes.accounting_enabled &amp;&amp; radiusProfileFormCtrl.modelCopy.attributes.interim_update_enabled"><div class="col--sm3"><label class="appLabel--primary" translate="PROFILES_RADIUS_FORM_LABEL_ACCOUNTING_INTERIM_INTERVAL"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="number" id="radiusProfileAccountingInterimUpdateInterval" name="radiusProfileAccountingInterimUpdateInterval" ng-model="radiusProfileFormCtrl.modelCopy.attributes.interim_update_interval" ng-model-master="radiusProfileFormCtrl.model.attributes.interim_update_interval" min="{{radiusProfileFormCtrl.interimUpdateIntervalMin}}" max="{{radiusProfileFormCtrl.interimUpdateIntervalMax}}"><div class="appInputFeedback appInputFeedback--danger" ng-if="radiusProfileFormCtrl.forms.radius.radiusProfileAccountingInterimUpdateInterval.$invalid" translate="VALIDATION_HINT_RANGE" translate-values="{min: radiusProfileFormCtrl.interimUpdateIntervalMin, max: radiusProfileFormCtrl.interimUpdateIntervalMax}"></div></div></div></div><div class="appRow" ng-if="radiusProfileFormCtrl.modelCopy.attributes.accounting_enabled"><div class="col--sm3"><label class="appLabel--primary" translate="PROFILES_RADIUS_FORM_LABEL_ACCOUNTING_SERVER"></label></div><div class="col--sm9"'+n("unifi-radius-acct-server-form-group",!0,!0,!0)+' unifi-radius-acct-server-form-group-model="radiusProfileFormCtrl.modelCopy" unifi-radius-acct-server-form-group-attribute-name="acct_servers" unifi-radius-acct-server-form-group-min="radiusProfileFormCtrl.radiusAcctServerMin" unifi-radius-acct-server-form-group-max="radiusProfileFormCtrl.radiusAcctServerMax" unifi-radius-acct-server-form-group-is-required="true" unifi-radius-acct-server-form-group-is-dark="isDark" unifi-radius-acct-server-form-group-is-read-only="isReadOnly"></div></div><div class="appRow" ng-if="isModal"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="isDark ?                 \'appMainButton--transparentDark\' :                 \'appMainButton--transparent\'              ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary saveRadiusUser" ng-if="!isReadOnly" ng-click="radiusProfileFormCtrl.showValidation = true" busy-toggle="radiusProfileFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-if="!isModal" ng-class="{      \'appFormFooter--dark\': isDark    }"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveRadiusProfile" ng-if="!isReadOnly" ng-click="radiusProfileFormCtrl.showValidation = true" busy-toggle="radiusProfileFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="isDark ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],461:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("RadiusProfileListController",["$translate","apiResults","heyToasts","frame","BaseListController","networks","preferences","radius",function(t,e,i,o,r,a,s,l){return new(function(c){function u(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return t.preferences=s,t.isRemoving={},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,r),n(u,[{key:"getCollection",value:function(){return l.repository.collection}},{key:"getNetworkName",value:function(t){var e=a.repository.collection.get(t);return e?e.get("name"):""}},{key:"remove",value:function(n){var r=this;return o.show("confirm",{title:function(){return t.instant("SETTINGS_PROFILES_RADIUS_DELETE_CONFIRM_TITLE",{name:n.get("name")})},message:function(){return t.instant("SETTINGS_PROFILES_RADIUS_DELETE_CONFIRM_MESSAGE",{name:n.get("name")})},options:angular.noop}).then(function(){return r.isRemoving[n.id]=!0,n.destroy({wait:!0}).then(function(){return i.pushSuccess(t.instant("SETTINGS_RADIUS_USERS_DELETE_SUCCESS",{name:n.get("name")})),!0}).catch(function(o){return i.pushError(e.appendErrorMsg(t.instant("SETTINGS_RADIUS_USERS_DELETE_ERROR",{name:n.get("name")}),o)),!1}).finally(function(){r.isRemoving[n.id]=!1})})}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}}]),u}())}])},{}],462:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRadiusProfileList",["ListDirective",function(e){return new e("radiusProfile",t("./radiusProfileList.pug")(),{onEdit:"&unifiRadiusProfileListOnEdit"})}])},{"./radiusProfileList.pug":463}],463:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="radiusProfilesTable" collection-view-sort="radiusProfileListCtrl.view" ng-class="{      \'appTable--dark\': radiusProfileListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="radiusProfileName" collection-view-sort-by="name"><span translate="SETTINGS_PROFILES_RADIUS_TABLE_HEADER_NAME"></span></th><th class="radiusProfileNumberOfServers"><span translate="SETTINGS_PROFILES_RADIUS_TABLE_HEADER_NUMBER_OF_SERVERS"></span></th><th class="radiusProfileAccountingEnabled" collection-view-sort-by="accounting_enabled"><span translate="SETTINGS_PROFILES_RADIUS_TABLE_HEADER_ACCOUNTING_ENABLED"></span></th><th class="radiusProfileActions"><span translate="SETTINGS_PROFILES_RADIUS_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in radiusProfileListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="radiusProfileName">{{::model.get(\'name\')}}</td><td class="radiusProfileNumberOfServers"><h5 class="noMargin"><span class="appBadge appBadge--boxAlign" ng-if="model.get(\'attr_hidden_id\')" translate="COMMON_REQUIRES_UGW_BADGE" ng-class="{\'appBadge--medium\': radiusProfileListCtrl.preferences.model.get(\'isSettingsDark\')}"></span></h5><span ng-if="!model.get(\'attr_hidden_id\')">{{::model.get(\'auth_servers\').length}}</span></td><td class="radiusProfileAccountingEnabled" ng-bind-html="model.get(\'accounting_enabled\') | enabledIcon"></td><td class="radiusProfileActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="radiusProfileListCtrl.edit(model)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="radiusProfileListCtrl.remove(model)" ng-disabled="model.get(\'attr_no_delete\') || radiusProfileListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!radiusProfileListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': radiusProfileListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_PROFILES_RADIUS_TABLE_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":23}],464:[function(t,e,i){"use strict";function n(t,e,i,n){this.frame=t,this.radius=e,this.radiusUtils=i,this.RadiusProfileModel=n,this.isRadiusServerEnabled=i.isRadiusServerEnabled.bind(i)}n.prototype.getProfiles=function(){return this.radius.repository.collection.models},n.prototype.getDefaultRadiusProfileId=function(){var t=this.radiusUtils.getDefaultProfile();return t?t.id:void 0},n.prototype.createNewRadiusProfile=function(){return this.frame.show("radiusProfile",{model:function(){return new this.RadiusProfileModel}.bind(this)}).then(function(t){this.radiusProfileId=t.get("_id")}.bind(this))},n.$inject=["frame","radius","radiusUtils","RadiusProfileModel"],angular.module("app-unifi-manage").controller("RadiusSelectorController",n)},{}],465:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRadiusSelector",[function(){return{scope:{radiusProfileId:"=unifiRadiusSelectorRadiusProfileId",isRequired:"=unifiRadiusSelectorIsRequired",isBatch:"=unifiRadiusSelectorIsBatch",isReadOnly:"=unifiRadiusSelectorIsReadOnly"},bindToController:!0,controller:"RadiusSelectorController",controllerAs:"radiusSelectorCtrl",template:t("./radiusSelector.pug")()}}])},{"./radiusSelector.pug":466}],466:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<ng-form name="radiusSelectorCtrl.form"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><select name="radiusProfileId" ng-model="radiusSelectorCtrl.radiusProfileId" ng-options="radiusProfile.id as radiusProfile.get(\'name\') for radiusProfile in radiusSelectorCtrl.getProfiles()" ng-required="radiusSelectorCtrl.isRequired" ng-disabled="radiusSelectorCtrl.isReadOnly" unifi-validate-not-equal="radiusSelectorCtrl.isRadiusServerEnabled() ? undefined : radiusSelectorCtrl.getDefaultRadiusProfileId()"><option unifi-option-placeholder="{{radiusSelectorCtrl.isBatch ? \'COMMON_VALUE_KEEP_EXISTING\' : undefined}}"></option></select></div><button class="appMainButton appMainButton--primary appMainButton--condensed createNewRadiusProfile" ng-if="!radiusSelectorCtrl.isReadOnly" type="button" ng-click="radiusSelectorCtrl.createNewRadiusProfile()">{{\'PROFILES_RADIUS_ACTIONS_BUTTON_ADD\' | translate}}</button><div class="appInputFeedback appInputFeedback--danger" ng-if="radiusSelectorCtrl.form.radiusProfileId.$error.notEqual" translate="PROFILES_RADIUS_VALIDATION_HINT_RADIUS_SERVER_REQUIRED"></div></div></ng-form>'}},{"pug-runtime":23}],467:[function(t,e,i){"use strict";var n=t("../../controllers/ReleaseNotesLinkController");function o(t){n.call(this,t)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["releaseNotesFrameUtils"],angular.module("app-unifi-manage").controller("ReleaseNotesSideNavController",o)},{"../../controllers/ReleaseNotesLinkController":837}],468:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiReleaseNotesSideNav",[function(){return{controller:"ReleaseNotesSideNavController",controllerAs:"releaseNotesSideNavCtrl",replace:!0,restrict:"E",template:t("./releaseNotesSideNav.pug")()}}])},{"./releaseNotesSideNav.pug":469}],469:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="ubntNavigation__item" id="releaseNotesLink" alt="{{::\'COMMON_NAV_RELEASE_NOTES\' | translate}}" role="link"><div class="appGlobalSideNav__itemTrigger" ng-click="releaseNotesSideNavCtrl.toggleReleaseNotes()"></div><aura-icon aura-icon="\'info\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--navigation\']"></aura-icon><div class="ubntTooltip ubntTooltip--navigation" ng-if="!releaseNotesSideNavCtrl.isReleaseNotesOpen()" translate="COMMON_NAV_RELEASE_NOTES"></div><div class="appAccessibilityDescription" translate="COMMON_NAV_RELEASE_NOTES"></div><div class="appGlobalSideNavPopover appGlobalSideNavPopover--withLayerShadow" side-nav-popover-layout="releaseNotesLayout"><div class="appGlobalSideNavPopover__inner"><div'+n("side-nav-popover-content",!0,!0,!0)+"></div><div"+n("side-nav-popover-placeholder",!0,!0,!0)+"></div></div></div></div>"};var o=/["&<>]/},{"pug-runtime":23}],470:[function(t,e,i){"use strict";var n=t("../../../app-unifi-manage/controllers/BaseRepeatableController");function o(t){n.call(this,t)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype._generateNumericAttr=function(t,e){return t.replace("{key}",e)},o.prototype.updateModel=function(t){this.model=t,this.syncCount()},o.prototype.syncCount=function(){var t=0;if(this.model&&this.attrs&&this.attrs.length)for(var e=1;e<=this.max;e++)this.model.attributes[this._generateNumericAttr(this.attrs[0],e)]&&t++;this.count=Math.max(this.min||0,t)},o.prototype.markFormAsDirty=function(){this.form&&this.form.$setDirty()},o.prototype.addItem=function(){return!!n.prototype.addItem.call(this)&&(this.markFormAsDirty(),!0)},o.prototype.removeItem=function(t){var e={};if(this.isRemoveAllowed()&&t<=this.count)return this.attrs.forEach(function(i){for(var n=t;n<=this.count;n++)e[this._generateNumericAttr(i,n)]=n===this.count?"":this.model.attributes[this._generateNumericAttr(i,n+1)]}.bind(this)),this.count--,this.model.set(e),this.markFormAsDirty(),!0},o.$inject=["formUtils"],angular.module("app-unifi-manage").controller("RepeatableFormController",o)},{"../../../app-unifi-manage/controllers/BaseRepeatableController":801}],471:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRepeatableForm",["EVENTS",function(t){return{scope:!0,controller:"RepeatableFormController",controllerAs:"repeatableFormCtrl",restrict:"A",require:["^unifiRepeatableForm","^?form"],link:function(e,i,n,o){var r=o[0];r.form=o[1],e.$watch(n.unifiRepeatableFormMin,function(t){r.min=t}),e.$watch(n.unifiRepeatableFormMax,function(t){r.max=t}),e.$watch(n.unifiRepeatableFormAttrs,function(t){r.attrs=t}),e.$watch(n.unifiRepeatableFormIsReadOnly,function(t){r.isReadOnly=t}),e.$watch(n.unifiRepeatableFormModel,function(t){r.updateModel(t)}),e.$on(t.SYNC_REPEATABLE_COUNT,function(){r.syncCount()})}}}])},{}],472:[function(t,e,i){"use strict";var n=t("../../../app-unifi-manage/controllers/BaseRepeatableController");function o(t){n.call(this,t)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.updateValues=function(t){this.values=t,this.syncCount()},o.prototype.syncCount=function(){this.count=Math.max(this.min||0,this.values?this.values.length:0),this.max&&this.count>this.max&&(this.count=this.max)},o.prototype.markFormAsDirty=function(){this.form&&this.form.$setDirty()},o.prototype.addItem=function(){return!!n.prototype.addItem.call(this)&&(this.markFormAsDirty(),!0)},o.prototype.removeItem=function(t){if(this.isRemoveAllowed()&&t<this.count)return this.values&&this.values.splice(t,1),this.count--,this.markFormAsDirty(),!0},o.$inject=["formUtils"],angular.module("app-unifi-manage").controller("RepeatableInputController",o)},{"../../../app-unifi-manage/controllers/BaseRepeatableController":801}],473:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRepeatableInput",["EVENTS",function(t){return{scope:!0,controller:"RepeatableInputController",controllerAs:"repeatableInputCtrl",restrict:"A",require:["^unifiRepeatableInput","^?form"],link:function(e,i,n,o){var r=o[0];r.form=o[1],e.$watch(n.unifiRepeatableInputMin,function(t){r.min=t}),e.$watch(n.unifiRepeatableInputMax,function(t){r.max=t}),e.$watch(n.unifiRepeatableInputIsReadOnly,function(t){r.isReadOnly=t}),e.$watch(n.unifiRepeatableInputValues,function(t){r.updateValues(t)}),e.$on(t.SYNC_REPEATABLE_COUNT,function(){r.syncCount()})}}}])},{}],474:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseCollectionController");function o(t,e,i,o,r,a,s,l,c,u,d,p,f){this.$translate=t,this.d3=e,this.d3ChannelTrapezoidPoints=i,this.d3RfEnvironmentInterferenceScale=o,this.d3Transform=r,this.d3Url=a,this.domHelper=s,this.mathUtils=c,this.RADIO_TYPES=u,this.RF_ENVIRONMENT_CHART_OPTIONS=d,this.RF_ENVIRONMENT_CHART_SELECTORS=p,this.rfEnvironmentChart=f,this.interferenceToColor=this.d3RfEnvironmentInterferenceScale,this.normalizeUtilization=this.d3.scaleLinear().domain([0,100]).range([.1,1]),n.call(this),this.render=l(this._render.bind(this),{throttleWait:1e3/15})}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onCollectionChange=function(){this.render()},o.prototype.setParentElement=function(t){this.parentElement=t},o.prototype._render=function(){if(!this.parentElement)throw new Error("Parent element is required.");if(!this.device)throw new Error("Device model is required.");if(!this.spectrumScan)throw new Error("SpectrumScan model is required.");if(!this.radioType)throw new Error("Radio type is required.");var t=this.domHelper.clientWidth(this.parentElement);if(this.svgElement=this.d3.select(this.parentElement).ubntSelectBuilder("svg").build(),t){var e=this.rfEnvironmentChart.getData(this.device,this.radioType,this.spectrumScan),i=this.rfEnvironmentChart.getDomainIntervals(e),n=this.rfEnvironmentChart.getTicks(i,this._getTickInterval(this.radioType));this.frequencyToPosition=this._getFrequencyToPosition(t,i);var o=this.rfEnvironmentChart.getCurrentChannelDescription(this.device,this.radioType),r=this.svgElement.ubntSelectBuilder("g").withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.plot).build(function(t){var i=this.RF_ENVIRONMENT_CHART_OPTIONS.marginTopInPx;t.attr("transform",this.d3Transform.translate(this.RF_ENVIRONMENT_CHART_OPTIONS.marginLeftInPx,0));var r=t.ubntSelectBuilder("g").withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.currentChannel).build(),a=t.ubntSelectBuilder("g").withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.xAxis).build(),s=t.ubntSelectAllBuilder("g").withData(e).withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.htRow).build();i=this._renderHtRows(this.radioType,s,i,this.handlers),this._renderCurrentChannel(r,i,o),this._renderXAxis(a,i,n)}.bind(this));this.svgElement.attr("height",r.node().getBBox().height).attr("width",t)}else this.svgElement.attr("height",0).attr("width",0)},o.prototype._getFrequencyToPosition=function(t,e){var i=this.rfEnvironmentChart.getDomainLength(e),n=e.length-1,o=t-this.RF_ENVIRONMENT_CHART_OPTIONS.marginLeftInPx-this.RF_ENVIRONMENT_CHART_OPTIONS.marginRightInPx-this.RF_ENVIRONMENT_CHART_OPTIONS.domainIntervalMarginInPx*n,r=e.reduce(function(t,e){return t.push(e.lowerFrequency),t.push(e.upperFrequency),t},[]),a=e.reduce(function(t,e){t.length?t.push(t[t.length-1]+this.RF_ENVIRONMENT_CHART_OPTIONS.domainIntervalMarginInPx):t.push(0);var n=(e.upperFrequency-e.lowerFrequency)/i*o;return t.push(t[t.length-1]+n),t}.bind(this),[]);return this.d3.scaleLinear().domain(r).range(a)},o.prototype._renderHtRows=function(t,e,i,n){return e.ubntEach(function(e,o){i+=this.RF_ENVIRONMENT_CHART_OPTIONS.rowMarginTopInPx;var r=0,a=0;e.ubntSelectBuilder("text").withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.htLabel).build(function(t){t.attr("y",this.RF_ENVIRONMENT_CHART_OPTIONS.htLabelMarginTopInPx+i).attr("x",this.RF_ENVIRONMENT_CHART_OPTIONS.htLabelMarginLeftInPx).text(this.$translate.instant("DEVICE_PROPERTIES_RF_ENVIRONMENT_CHART_HT_LABEL",{ht:o.ht}))}.bind(this)),e.ubntSelectAllBuilder("g").withData(o.channels).withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.channel).build(function(e,o){o.lowerFrequency>=a?(a=o.upperFrequency,r=0):r+=1;var s=this._getChannelTrapezoidHeight(t),l=this._getChannelTrapezoidCut(t,o),c=this._getChannelTrapezoidWidth(o),u=this.frequencyToPosition(o.lowerFrequency),d=r*(s+this.RF_ENVIRONMENT_CHART_OPTIONS.channelTrapezoidBottomMarginInPx)+i,p=angular.isDefined(o.utilization)?this.normalizeUtilization(o.utilization):0,f=angular.isDefined(o.interference)?this.interferenceToColor(o.interference):"none";e.attr("transform",this.d3Transform.translate(u,d)),e.ubntSelectAllBuilder("path").withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.channelTrapezoidBg).withData([this.d3ChannelTrapezoidPoints({height:s,width:c,cutLeft:l,cutRight:l})]).build(function(t){t.attr("d",this.d3.line())}.bind(this)),e.ubntSelectAllBuilder("path").withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.channelTrapezoid).withData([this.d3ChannelTrapezoidPoints({height:s,width:c,cutLeft:l,cutRight:l,scaleHeight:p})]).build(function(t){t.attr("d",this.d3.line()).attr("fill",f)}.bind(this)),e.ubntSelectAllBuilder("path").withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.channelBbox).withData([this.d3ChannelTrapezoidPoints({height:s,width:c,cutLeft:l,cutRight:l})]).build(function(t){t.attr("d",this.d3.line()),this._addEventHandlers(t,n,o)}.bind(this)),e.ubntSelectBuilder("text").withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.channelLabel).build(function(t){t.attr("font-size",this._getChannelLabelFontSize(c)).attr("y",s+10).attr("x",c/2).text(o.channel)}.bind(this)),e.ubntSelectBuilder("circle").withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.channelMarkBg).build(function(t){o.utilization>=this.RF_ENVIRONMENT_CHART_OPTIONS.warningUtilizationLevel?t.attr("r",this._getChannelLabelFontSize(c)/2+1).attr("cy",s/2).attr("cx",c/2):t.remove()}.bind(this)),e.ubntSelectBuilder("text").withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.channelMark).build(function(t){o.utilization>=this.RF_ENVIRONMENT_CHART_OPTIONS.warningUtilizationLevel?t.attr("font-size",this._getChannelLabelFontSize(c)).attr("y",s/2+this._getChannelLabelFontSize(c)/3).attr("x",c/2).text("!"):t.remove()}.bind(this))}.bind(this)),i+=e.node().getBBox().height+this.RF_ENVIRONMENT_CHART_OPTIONS.rowMarginBottomInPx}.bind(this)),i},o.prototype._renderCurrentChannel=function(t,e,i){t.ubntSelectBuilder("rect").withClass(this.RF_ENVIRONMENT_CHART_SELECTORS.currentChannelRect).build(function(t){t.attr("display",i?"block":"none"),i&&t.attr("x",this.frequencyToPosition(i.lowerFrequency)).attr("y",0).attr("height",e).attr("width",this._getChannelTrapezoidWidth(i)).attr("fill",this.d3Url.id("unifiRfEnvironmentChart__stripes"))}.bind(this))},o.prototype._renderXAxis=function(t,e,i){t.attr("transform",this.d3Transform.translate(0,e)).call(this.d3.axisBottom().scale(this.frequencyToPosition).tickValues(i).tickSizeInner(-e).tickSizeOuter(1).tickFormat(function(t){return t})).selectAll("text").attr("dx",".5em").attr("dy","0").attr("transform","rotate(90)").style("text-anchor","")},o.prototype._addEventHandlers=function(t,e,i){Object.keys(e||{}).forEach(function(n){t.on(n,function(){e[n](this.d3.event,i)}.bind(this))}.bind(this))},o.prototype._getTickInterval=function(t){switch(t){case this.RADIO_TYPES.NA.type:return this.RF_ENVIRONMENT_CHART_OPTIONS.tickIntervalNa;case this.RADIO_TYPES.NG.type:return this.RF_ENVIRONMENT_CHART_OPTIONS.tickIntervalNg;default:return}},o.prototype._getChannelTrapezoidHeight=function(t){switch(t){case this.RADIO_TYPES.NA.type:return this.RF_ENVIRONMENT_CHART_OPTIONS.channelTrapezoidNaHeightInPx;case this.RADIO_TYPES.NG.type:return this.RF_ENVIRONMENT_CHART_OPTIONS.channelTrapezoidNgHeightInPx;default:return}},o.prototype._getChannelTrapezoidCut=function(t,e){var i=0;switch(t){case this.RADIO_TYPES.NA.type:i=this.RF_ENVIRONMENT_CHART_OPTIONS.channelTrapezoidNaCutInMHz;break;case this.RADIO_TYPES.NG.type:i=this.RF_ENVIRONMENT_CHART_OPTIONS.channelTrapezoidNgCutInMHz}return this.frequencyToPosition(e.lowerFrequency+i)-this.frequencyToPosition(e.lowerFrequency)},o.prototype._getChannelTrapezoidWidth=function(t){return this.frequencyToPosition(t.upperFrequency)-this.frequencyToPosition(t.lowerFrequency)},o.prototype._getChannelLabelFontSize=function(t){return t<14?this.RF_ENVIRONMENT_CHART_OPTIONS.channelLabelSmallFontSizeInPx:this.RF_ENVIRONMENT_CHART_OPTIONS.channelLabelRegularFontSizeInPx},o.$inject=["$translate","d3","d3ChannelTrapezoidPoints","d3RfEnvironmentInterferenceScale","d3Transform","d3Url","domHelper","inhibitor","mathUtils","RADIO_TYPES","RF_ENVIRONMENT_CHART_OPTIONS","RF_ENVIRONMENT_CHART_SELECTORS","rfEnvironmentChart"],angular.module("app-unifi-manage").controller("RfEnvironmentChartController",o)},{}],475:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRfEnvironmentChart",["$timeout","$window","d3Url","devices","domHelper","elementObserver",function(e,i,n,o,r,a){return{bindToController:!0,controller:"RfEnvironmentChartController",controllerAs:"rfEnvironmentChartCtrl",replace:!0,scope:{device:"=unifiRfEnvironmentChartDevice",spectrumScan:"=unifiRfEnvironmentChartSpectrumScan",handlers:"=unifiRfEnvironmentChartHandlers",radioType:"=unifiRfEnvironmentChartRadioType"},template:t("./rfEnvironmentChart.pug")(),link:function(t,e,i,r){var s=e[0];r.setParentElement(s);var l=function(){r.render()},c=a.watchWidth(e[0],l);t.$watchGroup([function(){return r.device},function(){return r.spectrumScan},function(){return r.radioType},function(){return n.getUrlWithoutHash()}],l),r.updateCollection(o.repository.collection),r.spectrumScan.on("change",l),t.$on("$destroy",function(){c.dispose(),r.spectrumScan.off("change",l),r.removeEventHandlers()})}}}])},{"./rfEnvironmentChart.pug":476}],476:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiRfEnvironmentChart"><svg class="unifiRfEnvironmentChartSvg" height="0" width="0"></svg><ng-d3-svg-pattern ng-d3-svg-pattern-id="unifiRfEnvironmentChart__stripes" ng-d3-svg-pattern-type="stripes" ng-d3-svg-pattern-options="{ width: 5 }"></ng-d3-svg-pattern></div>'}},{"pug-runtime":23}],477:[function(t,e,i){"use strict";function n(t,e,i,n,o){this.$translate=t,this.d3=e,this.d3RfEnvironmentInterferenceScale=i,this.domHelper=o,this.options={tickCount:12,tickHeight:4,tickSpacing:1,labels:[-96,-80,-64,-48],maxHueValue:120,paddingLeft:0,paddingRight:22,interferenceLegendPos:8,interferenceLegendMarginLeft:2,interferenceChartPos:12,utilizationLegendPos:30,interferenceRange:[-96,-48]},this.tickIndexToInterference=this.d3.scaleLinear().domain([0,this.options.tickCount-1]).range(this.options.interferenceRange)}n.prototype.setParentElement=function(t){this.parentElement=t},n.prototype.render=function(){if(!this.parentElement)throw new Error("Parent element is required.");this.domHelper.clientWidth(this.parentElement)&&this._render()},n.prototype._render=function(){this._renderChart(),this._renderTicks(),this._renderLabels(),this._renderInfos()},n.prototype._renderChart=function(){this.svgLegend=this.d3.select(this.parentElement).ubntSelectBuilder("svg").withClass("unifiRfEnvironmentLegend__graph").build().attr("width",this.parentElement.clientWidth).attr("height",this.parentElement.clientHeight)},n.prototype._renderTicks=function(){var t=this.options.paddingLeft,e=this.options.paddingRight,i=this.parentElement.clientWidth-t-e,n=this.options.tickCount,o=(i-(n-1)*this.options.tickSpacing)/n,r=this.options.tickHeight,a=this.options.interferenceChartPos,s=Array.from({length:n},function(t,e){return this.tickIndexToInterference(e)}.bind(this)),l=this.d3.scaleLinear().domain(this.options.interferenceRange).range([t,i+t-o]);this.svgLegend.ubntSelectBuilder("g").withClass("unifiRfEnvironmentLegend__ticks").build().ubntSelectAllBuilder("rect").withData(s).withClass("unifiRfEnvironmentLegend__tick").build(function(t){t.attr("x",l).attr("y",a).attr("width",o).attr("height",r).attr("fill",this.d3RfEnvironmentInterferenceScale)}.bind(this))},n.prototype._renderLabels=function(){var t=this.options.paddingLeft,e=this.options.paddingRight,i=this.parentElement.clientWidth-t-e,n=this.options.interferenceLegendPos,o=this.d3.scaleLinear().domain(this.options.interferenceRange).range([t,i+t]);this.svgLegend.ubntSelectBuilder("g").withClass("unifiRfEnvironmentLegend__labels").build().ubntSelectAllBuilder("text").withData(this.options.labels).withClass("unifiRfEnvironmentLegend__label").build(function(t,e){t.text(e).attr("x",o).attr("y",n)})},n.prototype._renderInfos=function(){var t=this.options.paddingLeft,e=this.options.paddingRight,i=this.parentElement.clientWidth,n=this.options.interferenceLegendPos,o=this.options.interferenceLegendMarginLeft,r=this.options.utilizationLegendPos;this.svgLegend.ubntSelectBuilder("g").withClass("unifiRfEnvironmentDescriptions").build(function(a){a.ubntSelectBuilder("text").withClass("unifiRfEnvironmentLegend_interference").build(function(t){t.text("dBm").attr("x",i-e+o).attr("y",n)}),a.ubntSelectBuilder("text").withClass("unifiRfEnvironmentLegend_utilization").build(function(e){e.text(this.$translate.instant("DEVICE_PROPERTIES_RF_ENVIRONMENT_LEGEND_UTILIZATION")).attr("x",t).attr("y",r)}.bind(this))}.bind(this))},n.$inject=["$translate","d3","d3RfEnvironmentInterferenceScale","d3Transform","domHelper"],angular.module("app-unifi-manage").controller("RfEnvironmentLegendController",n)},{}],478:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRfEnvironmentLegend",["domHelper",function(e){return{controller:"RfEnvironmentLegendController",controllerAs:"rfEnvironmentLegendCtrl",template:t("./rfEnvironmentLegend.pug")(),transclude:!0,replace:!0,link:function(t,i,n,o){o.setParentElement(i[0]),t.$watch(function(){return e.clientWidth(i[0])},function(){o.render()})}}}])},{"./rfEnvironmentLegend.pug":479}],479:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiRfEnvironmentLegend"><svg class="unifiRfEnvironmentLegend__graph" width="0" height="0"></svg></div>'}},{"pug-runtime":23}],480:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("RfEnvironmentRssiHistogramController",["$element","$translate","d3","d3RfEnvironmentRssiInterferenceScale","RF_ENVIRONMENT_INTERFERENCE_INTERVAL",function(t,e,i,o,r){return new(function(){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.options={tickHeight:50,tickSpacing:1,tickRounding:.3,interferenceGradientPadding:1,interferenceGradientStepHeight:2,padding:15},this.setParentElement(t)}return n(a,[{key:"$onChanges",value:function(t){t.data&&t.data.currentValue&&this.render(this.data,this.ht)}},{key:"setParentElement",value:function(t){this.parentElement=t;var e=angular.element(t.find("svg"));this.plotArea={height:Math.max(0,e.height()),width:Math.max(0,e.width())}}},{key:"render",value:function(t,e){if(!this.parentElement)throw new Error("Parent element is required.");if(!t)throw new Error("Data is required.");if(!angular.isArray(t))throw new Error("Data should be an Array.");this.svgRssiHistogram=i.select(this.parentElement[0]).ubntSelectBuilder("svg").withClass("unifiRfEnvironmentRssiHistogram__graph").build(),this._renderTicks(t,e),this._renderInterferenceGradient(e),this._renderLabels(e)}},{key:"_renderTicks",value:function(t,e){var n=this,r=this.plotArea.width,a=t.length,s=this.options.tickSpacing,l=Math.max(0,(r-(a-1)*s)/a),c=this.options.tickHeight,u=i.scaleLinear().domain([0,a-1]).range(this._getInterferenceInterval(e)),d=i.scaleLinear().domain([0,100]).range([0,c]),p=i.scaleLinear().domain(this._getInterferenceInterval(e)).range([0,r-l]),f=Array.from({length:a},function(t,e){return u(e)});this.svgRssiHistogram.ubntSelectBuilder("g").withClass("unifiRfEnvironmentRssiHistogram__ticks").build(function(e){e.ubntSelectAllBuilder("rect").withData(f).withClass("unifiRfEnvironmentRssiHistogram__bgTick").build(function(t){t.attr("x",p).attr("y",0).attr("width",l).attr("height",c)}),e.ubntSelectAllBuilder("rect").withData(f).withClass("unifiRfEnvironmentRssiHistogram__tick").build(function(e,i,r){var a=t[r],s=d(a),u=n.options.tickRounding*l;e.attr("x",p).attr("y",c-s).attr("rx",u).attr("ry",u).attr("width",l).attr("height",s).attr("fill",o)})})}},{key:"_renderInterferenceGradient",value:function(t){var e=this.plotArea.width,n=this._getInterferenceInterval(t),r=n[1]-n[0],a=i.range.apply(i,n),s=i.scaleLinear().domain(n).range([0,e]),l=this.options.tickHeight+this.options.interferenceGradientPadding,c=this.options.interferenceGradientStepHeight;this.svgRssiHistogram.ubntSelectBuilder("g").withClass("unifiRfEnvironmentRssiHistogram__interferenceGradient").build().ubntSelectAllBuilder("rect").withData(a).withClass("unifiRfEnvironmentRssiHistogram__interferenceGradientStep").build(function(t){var i=1.1*e/r;t.attr("x",s).attr("y",l).attr("width",i).attr("height",c).attr("fill",o)})}},{key:"_renderLabels",value:function(t){var n=this.options.padding,o=this.plotArea.width-2*n,r=this.plotArea.height,a=this._getInterferenceInterval(t),s=i.scaleLinear().domain(a).range([n,o+n]);this.svgRssiHistogram.ubntSelectBuilder("g").withClass("unifiRfEnvironmentRssiHistogram__labels").build().ubntSelectAllBuilder("text").withData(a).withClass("unifiRfEnvironmentRssiHistogram__label").build(function(t,i){t.text(i+" "+e.instant("DEVICE_RADIO_TRANSMIT_POWER_DBM")).attr("x",s).attr("y",r+t.node().getBBox().height)})}},{key:"_getInterferenceInterval",value:function(t){return r[t]}}]),a}())}])},{}],481:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiRfEnvironmentRssiHistogram",{controller:"RfEnvironmentRssiHistogramController",controllerAs:"rfEnvironmentRssiHistogramCtrl",template:t("./rfEnvironmentRssiHistogram.pug")(),bindings:{data:"<unifiRfEnvironmentRssiHistogramData",ht:"<unifiRfEnvironmentRssiHistogramHt"}})},{"./rfEnvironmentRssiHistogram.pug":482}],482:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiRfEnvironmentRssiHistogram flexFag__body flexFlag flexFlag--stretched"><svg class="unifiRfEnvironmentRssiHistogram__graph" width="0"></svg></div>'}},{"pug-runtime":23}],483:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRfEnvironmentTooltip",[function(){return{template:t("./rfEnvironmentTooltip.pug")(),replace:!0,scope:{content:"=unifiRfEnvironmentTooltipContent",offset:"=unifiRfEnvironmentTooltipOffset"}}}])},{"./rfEnvironmentTooltip.pug":484}],484:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiRfEnvironmentTooltip" ng-style="{     \'left\': offset.left,     \'bottom\': offset.bottom   }"><div class="appTooltip" ng-class="{       \'appTooltip--standalone\': offset.align === \'standalone\',       \'appTooltip--right\': offset.align === \'right\',       \'appTooltip--left\': offset.align === \'left\'     }"><div class="appSubHeading appSubHeading--standalone"><div class="iconText"><div class="iconText__icon icon ubnt-icon--bars"></div><div class="iconText__text">{{ \'DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_CHANNEL_LABEL\' | translate }} {{content.channel }}</div></div></div><div class="unifiRfEnvironmentTooltip__data"><div class="unifiRfEnvironmentTooltip__header" translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_SECTION_OVERVIEW"></div><table class="appTable appTable--condensed appTable--noLines noMarginBottom"><tbody><tr><td translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_RADIOTYPE_LABEL"></td><td>{{ \'DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_RADIOTYPE_\' + content.radioType | uppercase | translate }}</td></tr><tr><td translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_HT_LABEL"></td><td>{{ \'DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_HT_DATA\' | translate:\'{ht: \' + content.ht + \'}\' }}</td></tr><tr ng-if="content.subChannels.length &gt; 1"><td translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_SUBCHANNELS_LABEL"></td><td>{{ content.subChannels[0] }} - {{ content.subChannels[ content.subChannels.length - 1] }}</td></tr><tr><td translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_FREQUENCY_RANGE_LABEL"></td><td>{{ \'DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_FREQUENCY_RANGE_DATA\' | translate:\'{lowerFrequency: \' + content.lowerFrequency + \', upperFrequency: \' + content.upperFrequency + \'}\' }}</td></tr></tbody></table><div class="unifiRfEnvironmentTooltip__header" translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_SECTION_RF_SCAN_DETAILS"></div><table class="appTable appTable--condensed appTable--noLines noMarginBottom" ng-if="content.utilization !== undefined &amp;&amp; content.interference !== undefined"><tbody><tr><td translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_UTILIZATION_LABEL"></td><td>{{ \'DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_UTILIZATION_DATA\' | translate:\'{utilization: \' + content.utilization + \'}\' }}</td></tr><tr><td translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_INTERFERENCE_LABEL"></td><td>{{ \'DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_INTERFERENCE_DATA\' | translate:\'{interference: \' + content.interference + \'}\' }}</td></tr></tbody></table><table class="appTable appTable--condensed appTable--noLines noMarginBottom" ng-if="content.rssi_histogram"><tbody><tr><td class="alignCenter" colspan="2"><unifi-rf-environment-rssi-histogram class="flexFlag flexFlag--stretched" unifi-rf-environment-rssi-histogram-data="content.rssi_histogram" unifi-rf-environment-rssi-histogram-ht="content.ht"></unifi-rf-environment-rssi-histogram></td></tr><tr ng-if="content.interference_type.length &gt; 0"><td translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_INTERFERENCE_TYPE_LABEL"></td><td><div class="icon icon--inline noMarginLeft" ng-repeat="type in content.interference_type" ng-class="{                   \'ubnt-icon--wifi-2\': type === \'wifi\',                   \'ubnt-icon--microwave\': type === \'microwave\',                   \'ubnt-icon--bluetooth-oval\': type === \'fhss\',                   \'ubnt-icon--tone\': type === \'tone\'                 }" title="{{ \'DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_INTERFERENCE_TYPE_\' + type | uppercase | translate }}"></div></td></tr></tbody></table><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder" ng-if="content.utilization === undefined || content.interference === undefined"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_PROPERTIES_RF_ENVIRONMENT_TOOLTIP_NO_DATA_AVAILABLE"></p></div></div></div></div></div></div>'}},{"pug-runtime":23}],485:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(t,e,i,o,r,a,s,l,c,u,d){this.$translate=t,this.apiResults=e,this.heyToasts=o,this.networks=a,this.preferences=s,this.routing=c,this.DEVICE_MODELS=u,this.patterns={ip:l.or([d.IPV4_ADDRESS,d.IPV6_ADDRESS]),name:d.NAME,routeDistance:d.ROUTE_DISTANCE,subnet:l.or([d.IPV4_SUBNET,d.IPV6_SUBNET])},this.collectInterfaces(),n.call(this,r)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.collectInterfaces=function(){this.interfaces=this.networks.getWanNetworkGroups().map(function(t){return{label:t,value:t}}).concat(this.networks.repository.collection.filter(function(t){var e=t.get("purpose");return-1===["remote-user-vpn","vlan-only","wan"].indexOf(e)}).map(function(t){return{label:t.get("name"),value:t.id}}))},o.prototype.save=function(){this.isSubmitting=!0;var t=angular.extend({},this.modelCopy.attributes);return"interface-route"!==t["static-route_type"]&&delete t["static-route_interface"],"nexthop-route"!==t["static-route_type"]&&delete t["static-route_nexthop"],this.model.save(t,{wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:this.$translate.instant("SETTINGS_ROUTING_TAB_STATIC_ROUTES").toLowerCase()})),this.routing.repository.collection.add(this.model,{merge:!0}),this.reset(),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("COMMON_NOTICE_SAVE_ERROR",{section:this.$translate.instant("SETTINGS_ROUTING_TAB_STATIC_ROUTES").toLowerCase()}),t)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.setDefaultAttrs=function(t){var e=t?"":"Copy";this["model"+e]&&(this["model"+e].attributes.enabled=!this.model||!1!==this.model.get("enabled"),this["model"+e].attributes.type=this.model&&this.model.get("type")||"static-route",this["model"+e].attributes["static-route_type"]=this.model&&this.model.get("static-route_type")||"nexthop-route",this["model"+e].attributes["static-route_interface"]=this.model&&this.model.get("static-route_interface")||"WAN1")},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$translate","apiResults","featureFlag","heyToasts","modelDivergence","networks","preferences","regexUtils","routing","DEVICE_MODELS","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("RoutingFormController",o)},{}],486:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRoutingForm",["SimpleFormDirective",function(e){return new e("routing",t("./routingForm.pug")())}])},{"./routingForm.pug":487}],487:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="routingFormCtrl.form" ng-class="{    \'appForm--dark\': routingFormCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': routingFormCtrl.showValidation,    \'is-validation-hidden\': !routingFormCtrl.showValidation  }" ng-submit="routingFormCtrl.form.$valid &amp;&amp; routingFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="routingFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="routingFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="routingFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="routingFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection noMarginTop"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{routeName: routingFormCtrl.model.attributes.name}">{{isReadOnly ? \'SETTINGS_ROUTING_SECTION_VIEW\' : (routingFormCtrl.model.id ? \'SETTINGS_ROUTING_SECTION_EDIT\' : \'SETTINGS_ROUTING_SECTION_CREATE\')}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ROUTING_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input class="input--full" type="text" name="routeName" ng-model="routingFormCtrl.modelCopy.attributes.name" ng-model-master="routingFormCtrl.model.attributes.name" ng-pattern="routingFormCtrl.patterns.name" required="true"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_ROUTING_LABEL_ENABLED"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="routeEnabled" id="routeEnabled" ng-model="routingFormCtrl.modelCopy.attributes.enabled" ng-model-master="routingFormCtrl.model.attributes.enabled"><label for="routeEnabled" translate="SETTINGS_ROUTING_VALUES_ENABLED"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_ROUTING_LABEL_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="routeType" id="routeTypeStatic" value="static-route" ng-model="routingFormCtrl.modelCopy.attributes.type" ng-model-master="routingFormCtrl.model.attributes.type"><label for="networkPurposeCorporate" translate="SETTINGS_ROUTING_VALUES_TYPE_STATIC"></label></div></div></div></div><div class="appRow" ng-show="routingFormCtrl.setVisibility(\'static\', routingFormCtrl.modelCopy.attributes.type === \'static-route\')"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ROUTING_LABEL_NETWORK"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="text" name="routeNetwork" ng-model="routingFormCtrl.modelCopy.attributes[\'static-route_network\']" ng-model-master="routingFormCtrl.model.attributes[\'static-route_network\']" ng-pattern="routingFormCtrl.patterns.subnet" ng-required="routingFormCtrl.getVisibility(\'static\')"><div class="appInputFeedback appInputFeedback--danger" ng-show="routingFormCtrl.form.routeNetwork.$error.pattern" translate="VALIDATION_HINT_SUBNET"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="routingFormCtrl.form.routeNetwork.$error.required" translate="VALIDATION_HINT_REQUIRED"></div></div></div></div><div class="appRow" ng-show="routingFormCtrl.setVisibility(\'static\', routingFormCtrl.modelCopy.attributes.type === \'static-route\')"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_ROUTING_LABEL_DISTANCE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><input class="input--smallNumber" type="text" size="4" name="routeDistance" ng-model="routingFormCtrl.modelCopy.attributes[\'static-route_distance\']" ng-model-master="routingFormCtrl.model.attributes[\'static-route_distance\']" ng-pattern="routingFormCtrl.patterns.routeDistance"></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_STATIC_ROUTING_LABEL_TYPE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="staticRouteType" id="staticRouteTypeNexthop" value="nexthop-route" ng-model="routingFormCtrl.modelCopy.attributes[\'static-route_type\']" ng-model-master="routingFormCtrl.model.attributes[\'static-route_type\']"><label for="staticRouteTypeNexthop" translate="SETTINGS_STATIC_ROUTING_TYPE_NEXTHOP"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="staticRouteType" id="staticRouteTypeinterface" value="interface-route" ng-model="routingFormCtrl.modelCopy.attributes[\'static-route_type\']" ng-model-master="routingFormCtrl.model.attributes[\'static-route_type\']"><label for="staticRouteTypeinterface" translate="SETTINGS_STATIC_ROUTING_TYPE_INTERFACE"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="staticRouteType" id="staticRouteTypeBlackhole" value="blackhole" ng-model="routingFormCtrl.modelCopy.attributes[\'static-route_type\']" ng-model-master="routingFormCtrl.model.attributes[\'static-route_type\']"><label for="staticRouteTypeBlackhole" translate="SETTINGS_STATIC_ROUTING_TYPE_BLACKHOLE"></label></div></div></div></div><div class="appRow" ng-show="routingFormCtrl.setVisibility(\'nexthop\', routingFormCtrl.modelCopy.attributes[\'static-route_type\'] === \'nexthop-route\')"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_STATIC_ROUTING_LABEL_NEXTHOP"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="text" name="routeNexthop" placeholder="{{\'SETTINGS_ROUTING_PLACEHOLDER_NEXTHOP\' | translate}}" ng-model="routingFormCtrl.modelCopy.attributes[\'static-route_nexthop\']" ng-model-master="routingFormCtrl.model.attributes[\'static-route_nexthop\']" ng-pattern="routingFormCtrl.patterns.ip" ng-required="routingFormCtrl.getVisibility(\'nexthop\')" unifi-validate-ip-equal-version="routingFormCtrl.modelCopy.attributes[\'static-route_network\']"><div class="appInputFeedback appInputFeedback--danger" ng-show="routingFormCtrl.form.routeNexthop.$error.pattern" translate="VALIDATION_HINT_IP"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="routingFormCtrl.form.routeNexthop.$error.required" translate="VALIDATION_HINT_REQUIRED"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="routingFormCtrl.form.routeNexthop.$error.hasToBeIpv4" translate="VALIDATION_HINT_IPV4"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="routingFormCtrl.form.routeNexthop.$error.hasToBeIpv6" translate="VALIDATION_HINT_IPV6"></div></div></div></div><div class="appRow" ng-show="routingFormCtrl.setVisibility(\'interface\', routingFormCtrl.modelCopy.attributes[\'static-route_type\'] === \'interface-route\')"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_STATIC_ROUTING_LABEL_INTERFACE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="interface in routingFormCtrl.interfaces"><input type="radio" name="staticRouteInterface" id="{{\'staticRouteInterface\' + interface.value}}" value="{{interface.value}}" ng-model="routingFormCtrl.modelCopy.attributes[\'static-route_interface\']" ng-model-master="routingFormCtrl.model.attributes[\'static-route_interface\']"><label for="{{\'staticRouteInterface\' + interface.value}}">{{interface.label}}</label></div></div></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': routingFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveRoute" type="submit" ng-if="!isReadOnly" ng-click="routingFormCtrl.showValidation = true" busy-toggle="routingFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="routingFormCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],488:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("RoutingListController",["$translate","heyToasts","frame","BaseListController","routing","preferences","networks",function(t,e,i,o,r,a,s){return new(function(l){function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return t.preferences=a,t.defaultSortBy="name",t.isRemoving={},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,o),n(c,[{key:"getCollection",value:function(){return r.repository.collection}},{key:"getInterfaceLabel",value:function(t){var e=s.repository.collection.get(t);return e?e.get("name"):t}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}},{key:"remove",value:function(n){var o=this;return i.show("confirm",{title:function(){return t.instant("SETTINGS_ROUTING_DELETE_CONFIRM_TITLE",{routeName:n.get("name")})},message:function(){return t.instant("SETTINGS_ROUTING_DELETE_CONFIRM_MESSAGE",{routeName:n.get("name")})},options:angular.noop}).then(function(){return o.isRemoving[n.id]=!0,n.destroy({wait:!0}).then(function(){return e.pushSuccess(t.instant("SETTINGS_ROUTING_DELETE_SUCCESS",{routeName:n.get("name")})),!0}).catch(function(){return e.pushError(t.instant("SETTINGS_ROUTING_DELETE_ERROR",{routeName:n.get("name")})),!1}).finally(function(){o.isRemoving[n.id]=!1})})}}]),c}())}])},{}],489:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRoutingList",["ListDirective",function(e){return new e("routing",t("./routingList.pug")(),{onEdit:"&unifiRoutingListOnEdit"})}])},{"./routingList.pug":490}],490:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="routingTable" collection-view-sort="routingListCtrl.view" ng-class="{      \'appTable--dark\': routingListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="routingName" collection-view-sort-by="name"><span translate="SETTINGS_ROUTING_TABLE_HEADER_NAME"></span></th><th class="routingEnabled" collection-view-sort-by="enabled"><span translate="SETTINGS_ROUTING_TABLE_HEADER_ENABLED"></span></th><th class="routingNetwork" collection-view-sort-by="static-route_network"><span translate="SETTINGS_ROUTING_TABLE_HEADER_NETWORK"></span></th><th class="routingType" collection-view-sort-by="static-route_type"><span translate="SETTINGS_ROUTING_TABLE_HEADER_TYPE"></span></th><th class="routingInterface" collection-view-sort-by="static-route_interface"><span translate="SETTINGS_ROUTING_TABLE_HEADER_INTERFACE"></span></th><th class="routingNexthop" collection-view-sort-by="static-route_nexthop"><span translate="SETTINGS_ROUTING_TABLE_HEADER_NEXTHOP"></span></th><th class="routingDistance" collection-view-sort-by="static-route_distance"><span translate="SETTINGS_ROUTING_TABLE_HEADER_DISTANCE"></span></th><th class="routingActions"><span translate="SETTINGS_ROUTING_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in routingListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="routingName">{{::model.get(\'name\')}}</td><td class="routingEnabled" ng-bind-html="model.get(\'enabled\') | enabledIcon"></td><td class="routingNetwork">{{::model.get(\'static-route_network\')}}</td><td class="routingType" ng-switch="model.get(\'static-route_type\')"><span ng-switch-when="blackhole" translate="SETTINGS_STATIC_ROUTING_TYPE_BLACKHOLE"></span><span ng-switch-when="interface-route" translate="SETTINGS_STATIC_ROUTING_TYPE_INTERFACE"></span><span ng-switch-when="nexthop-route" translate="SETTINGS_STATIC_ROUTING_TYPE_NEXTHOP"></span></td><td class="routingInterface"><span ng-if="model.get(\'static-route_type\') === \'interface-route\'">{{::routingListCtrl.getInterfaceLabel(model.get(\'static-route_interface\'))}}</span></td><td class="routingNexthop"><span ng-if="model.get(\'static-route_type\') === \'nexthop-route\'">{{::model.get(\'static-route_nexthop\')}}</span></td><td class="routingDistance">{{::model.get(\'static-route_distance\')}}</td><td class="routingActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="routingListCtrl.edit(model)" ng-disabled="routingListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" unifi-if-role-admin="false" ng-click="routingListCtrl.edit(model)" ng-disabled="routingListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--eye2"></span><span translate="COMMON_ACTIONS_VIEW"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed"'+n("unifi-if-role-admin",!0,!0,!0)+' ng-click="routingListCtrl.remove(model)" ng-disabled="routingListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!routingListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': routingListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_ROUTING_TABLE_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],491:[function(t,e,i){"use strict";function n(){this.itemsLength=2}n.prototype.updateListLength=function(t){t&&(this.itemsLength=t),this.elements=new Array(this.itemsLength)},n.$inject=[],angular.module("app-unifi-manage").controller("RoutingUtilizationLoadingModuleController",n)},{}],492:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRoutingUtilizationLoadingModule",[function(){return{scope:{itemsLength:"=unifiRoutingUtilizationLoadingModuleItemsLength"},bindToController:{failedToLoad:"=unifiRoutingUtilizationLoadingModuleFailed",isLoading:"=unifiRoutingUtilizationLoadingModuleIsLoading"},controller:"RoutingUtilizationLoadingModuleController",controllerAs:"routingUtilizationLoadingModuleCtrl",template:t("./routingUtilizationLoadingModule.pug")(),replace:!0,link:function(t,e,i,n){t.$watch("itemsLength",function(t){n.updateListLength(t)})}}}])},{"./routingUtilizationLoadingModule.pug":493}],493:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiLoading" ng-class="{\'unifiLoading--hidden\': !(routingUtilizationLoadingModuleCtrl.isLoading &amp;&amp; !routingUtilizationLoadingModuleCtrl.failedToLoad)}"><div class="unifiLoadingGradient"><div class="unifiUtilizationItem" ng-repeat="step in routingUtilizationLoadingModuleCtrl.elements track by $index"><div class="unifiUtilizationItemTitle"><div class="appMicroHeading"><div class="dashboardModuleDummyText">&nbsp;</div></div></div><div class="unifiUtilizationItemContent"><div class="unifiUtilizationItemContentIcon"><div class="icon ubnt-icon--shield dashboardModuleDummyIcon"></div></div><div class="unifiUtilizationItemContentName"><div class="dashboardModuleDummyText">&nbsp;</div></div><div class="unifiUtilizationItemContentSummary"><div class="dashboardModuleSummaryLabel verticalRhythm--smash"><div class="dashboardModuleDummyText dashboardModuleDummyText--fixed60">&nbsp;</div></div><div class="dashboardModuleSummaryValue"><div class="dashboardModuleDummyText dashboardModuleDummyText--fixed60">&nbsp;</div></div></div></div><div class="unifiUtilizationItemStatusBar"><div class="statusBar appStatusBar appStatusBar--comfy appStatusBar--invertedLevel appStatusBar--flat"><div class="statusBar__inner" ng-style="{\'width\': \'0%\'}"></div></div></div></div></div></div>'}},{"pug-runtime":23}],494:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("RoutingUtilizationModuleController",["controllerStats","devices","gatewayUtils","BaseModuleController","resolveRepositoryGroupControllerMixin","settings","system","utilizationUtils","PERMISSIONS",function(t,e,i,r,a,s,l,c,u){return new(function(d){function p(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return t.system=l,t.utilizationUtils=c,t.PERMISSIONS=u,t.repositories=["devices","settings","controllerStats"],t.listeners={},a(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(p,r),n(p,[{key:"init",value:function(){var i=this;this.listeners={devices:e.repository.collection.onUpdate(this.updateUsg.bind(this)),settings:s.repository.collection.onUpdate(this.updateControllerName.bind(this)),controllerStats:{}},t.repository.model.on("change",this.updateControllerUsage,this),this.listeners.controllerStats.stopListening=function(){t.repository.model.off("change",i.updateControllerUsage,i)},this.updateControllerName(),this.updateControllerUsage(),o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"init",this).call(this)}},{key:"destroy",value:function(){var t=this;o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"destroy",this).call(this),Object.keys(this.listeners).forEach(function(e){t.listeners[e].stopListening()})}},{key:"updateControllerName",value:function(){var t=s.getSettingFromKey("super_identity");this.controllerName=t?t.get("name"):""}},{key:"updateControllerUsage",value:function(){this.controllerCpu=t.repository.model.has("processors")?(t.repository.model.get("systemCpuLoad")/t.repository.model.get("processors")*100).toFixed(0):void 0}},{key:"updateUsg",value:function(){this.gateway=i.getSiteGateway()}}]),p}())}])},{}],495:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiRoutingUtilizationModule",["ModuleDirective",function(e){return new e("routingUtilization",t("./routingUtilizationModule.pug")())}])},{"./routingUtilizationModule.pug":496}],496:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--utilization"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle">{{routingUtilizationModuleCtrl.definition.get(\'translationKey\') | translate}}</div></div><unifi-loading-module unifi-loading-module-loader="routingUtilizationModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="routingUtilizationModuleCtrl.isLoading" unifi-loading-module-failed="routingUtilizationModuleCtrl.failedToLoad" unifi-loading-module-retry="routingUtilizationModuleCtrl.retry()" unifi-loading-module-layout="routingUtilizationModuleCtrl.definition.get(\'layout\')" unifi-loading-module-missing-permission="routingUtilizationModuleCtrl.missingPermission" unifi-loading-module-missing-permission-name="routingUtilizationModuleCtrl.PERMISSIONS.API_WIDGET_OS_STATS.translationKey | translate"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !routingUtilizationModuleCtrl.isLoading,        \'animated fadeOut\': routingUtilizationModuleCtrl.isLoading      }"><div class="unifiUtilizationItem" ng-if="!routingUtilizationModuleCtrl.isLoading" ng-class="{\'is-disabled\': !routingUtilizationModuleCtrl.gateway}"><div class="unifiUtilizationItemTitle"><div class="appMicroHeading">{{\'DASHBOARD_MODULE_ROUTING_UTILIZATION_GATEWAY\' | translate}}</div></div><div class="unifiUtilizationItemContent"><div class="unifiUtilizationItemContentIcon"><div ng-if="routingUtilizationModuleCtrl.gateway" unifi-device-icon="routingUtilizationModuleCtrl.gateway"></div><div class="icon ubnt-icon--shield" ng-if="!routingUtilizationModuleCtrl.gateway"></div></div><div class="unifiUtilizationItemContentName">{{routingUtilizationModuleCtrl.gateway.getDisplayName() || (\'DASHBOARD_MODULE_ROUTING_UTILIZATION_LABEL_NO_GATEWAY\' | translate)}}</div><div class="unifiUtilizationItemContentSummary" ng-class="{\'is-disabled\': !routingUtilizationModuleCtrl.gateway || !routingUtilizationModuleCtrl.gateway.getNested(\'system-stats.cpu\')}"><div class="dashboardModuleSummaryLabel verticalRhythm--smash">{{\'DASHBOARD_MODULE_ROUTING_UTILIZATION_CPU_UTIL\' | translate}}</div><div class="dashboardModuleSummaryValue">{{routingUtilizationModuleCtrl.gateway.getNested(\'system-stats.cpu\') ? routingUtilizationModuleCtrl.gateway.getNested(\'system-stats.cpu\') + \'%\' : (\'COMMON_NOT_AVAILABLE\' | translate)}}</div></div></div><div class="unifiUtilizationItemStatusBar"><div class="statusBar appStatusBar appStatusBar--comfy appStatusBar--invertedLevel appStatusBar--flat" ng-class="\'appStatusBar--\' + routingUtilizationModuleCtrl.utilizationUtils.getUtilizationLevel(\'usg\', \'cpu\', routingUtilizationModuleCtrl.gateway.getNested(\'system-stats.cpu\'))"><div class="statusBar__inner" ng-style="{\'width\': routingUtilizationModuleCtrl.gateway.getNested(\'system-stats.cpu\') + \'%\'}"></div></div></div></div><div class="unifiUtilizationItem" ng-if="!routingUtilizationModuleCtrl.isLoading" ng-class="{\'is-disabled\': !routingUtilizationModuleCtrl.controllerCpu}"><div class="unifiUtilizationItemTitle"><div class="appMicroHeading">{{\'DASHBOARD_MODULE_ROUTING_UTILIZATION_CONTROLLER\' | translate}}</div></div><div class="unifiUtilizationItemContent"><div class="unifiUtilizationItemContentIcon"><div class="icon" ng-class="{                \'ubnt-icon--cloud-key\': routingUtilizationModuleCtrl.system.isCloudKey(),                \'ubnt-icon--controller\': !routingUtilizationModuleCtrl.system.isCloudKey() &amp;&amp; !routingUtilizationModuleCtrl.system.isUnifiGo(),                \'ubnt-icon--cloud\': routingUtilizationModuleCtrl.system.isUnifiGo()              }"></div></div><div class="unifiUtilizationItemContentName">{{routingUtilizationModuleCtrl.controllerName || (\'DASHBOARD_MODULE_ROUTING_UTILIZATION_LABEL_NO_CONTROLLER\' | translate)}}</div><div class="unifiUtilizationItemContentSummary" ng-class="{\'is-disabled\': !routingUtilizationModuleCtrl.controllerCpu}"><div class="dashboardModuleSummaryLabel verticalRhythm--smash">{{\'DASHBOARD_MODULE_ROUTING_UTILIZATION_CPU_UTIL\' | translate}}</div><div class="dashboardModuleSummaryValue">{{routingUtilizationModuleCtrl.controllerCpu ? routingUtilizationModuleCtrl.controllerCpu + \'%\' : (\'COMMON_NOT_AVAILABLE\' | translate)}}</div></div></div><div class="unifiUtilizationItemStatusBar"><div class="statusBar appStatusBar appStatusBar--comfy appStatusBar--invertedLevel appStatusBar--flat" ng-class="\'appStatusBar--\' + routingUtilizationModuleCtrl.utilizationUtils.getUtilizationLevel(\'controller\', \'cpu\', routingUtilizationModuleCtrl.controllerCpu)"><div class="statusBar__inner" ng-style="{\'width\': routingUtilizationModuleCtrl.controllerCpu + \'%\'}"></div></div></div></div></div></div></div>'}},{"pug-runtime":23}],497:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"utilization|routing",loader:"routing-utilization",translationKey:"DASHBOARD_MODULE_DEFINITIONS_ROUTING_UTILIZATION",directive:"unifi-routing-utilization-module",preview:"images/dashboard/utilization.png",layout:"single"}])}])},{}],498:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSatisfactionStatusBar",[function(){return{scope:{value:"<unifiSatisfactionStatusBarValue"},template:t("./satisfactionStatusBar.pug")(),replace:!0}}])},{"./satisfactionStatusBar.pug":499}],499:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="fullWidth" ng-show="value !== undefined"><div class="flexFlag fullWidth"><div class="flexFlag flexFlag__body flexible"><div class="unifiDeviceSatisfactionBar appStatusBar appStatusBar--small appStatusBar--ratio"><div class="statusBar__inner unifiDeviceSatisfactionBar__inner" ng-style="{\'width\': (value || 0) + \'%\'}"></div></div></div><div class="flexFlag__body inflexible unifiDeviceSatisfactionBar__label"><div class="alignRight">{{value}} %</div></div></div></div>'}},{"pug-runtime":23}],500:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(t,e,i,o,r,a,s,l,c,u,d,p){this.$translate=t,this.$stateParams=e,this.devices=i,this.DeviceCollection=o,this.heyToasts=a,this.preferences=l,this.timezones=c,this.scheduledUpgrades=u,this.system=d,this.adoptedDevicesFilter=new r,this.adoptedDevicesFilter.setSupplementalFunction(function(t){return t.get("adopted")}),this.cronConfig={isDark:l.model.get("isSettingsDark"),timezone:this.getControllerTimezone(),options:{allowMinute:!1}},this.MONTHLY_OCCURANCE=p.MONTHLY_OCCURANCE,this.selectedTargets=this.isUpgradeTarget.bind(this),n.call(this,s)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){this.model&&(this.selectedDevices=new this.DeviceCollection,((this.model.get("upgrade_targets")||{}).models||[]).forEach(function(t){this.selectedDevices.add(this.devices.repository.collection.get(t.get("mac")))}.bind(this)))},o.prototype.isUpgradeTarget=function(t){var e=t.get("mac");return this.model&&((this.model.get("upgrade_targets")||{}).models||[]).some(function(t){return t.get("mac")===e})},o.prototype.save=function(){this.isSubmitting=!0;var t=(this.selectedDevices&&this.selectedDevices.models||[]).map(function(t){return{mac:t.get("mac")}}),e=angular.extend({},this.modelCopy.attributes,{upgrade_targets:t});return this.scheduledUpgrades.save(this.model,e).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.onSelectDevices=function(t){this.selectedDevices=t},o.prototype.getControllerTimezone=function(){return(this.timezones.find(function(t){return this.system.getControllerTimezone()===t.timezone}.bind(this))||{}).name||""},o.$inject=["$translate","$stateParams","devices","DeviceCollection","DeviceFilter","heyToasts","modelDivergence","preferences","timezones","scheduledUpgrades","system","SCHEDULED_UPGRADES_DEFAULTS"],angular.module("app-unifi-manage").controller("ScheduledUpgradeFormController",o)},{}],501:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiScheduledUpgradeForm",["SimpleFormDirective",function(e){return new e("scheduledUpgrade",t("./scheduledUpgradeForm.pug")())}])},{"./scheduledUpgradeForm.pug":502}],502:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="scheduledUpgradeFormCtrl.form" ng-class="{    \'appForm--dark\': scheduledUpgradeFormCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': scheduledUpgradeFormCtrl.showValidation,    \'is-validation-hidden\': !scheduledUpgradeFormCtrl.showValidation  }" ng-submit="scheduledUpgradeFormCtrl.form.$valid &amp;&amp; scheduledUpgradeFormCtrl.save().then(onSubmit)"><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><unifi-config-changed unifi-config-changed-on-reset="scheduledUpgradeFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="scheduledUpgradeFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="scheduledUpgradeFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="scheduledUpgradeFormCtrl.form.$error.divergent"></unifi-config-changed><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{name: scheduledUpgradeFormCtrl.model.attributes.name}">{{scheduledUpgradeFormCtrl.model.id ? \'SETTINGS_SCHEDULED_UPGRADE_EDIT\' : \'SETTINGS_SCHEDULED_UPGRADE_CREATE\'}}</div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_SCHEDULED_UPGRADE_LABEL_NAME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="name" ng-model="scheduledUpgradeFormCtrl.modelCopy.attributes.name" ng-model-master="scheduledUpgradeFormCtrl.model.attributes.name" ng-pattern="scheduledUpgradeFormCtrl.patterns.name"'+n("required",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SCHEDULED_UPGRADE_LABEL_NAME_EXECUTE_ONLY_ONCE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="scheduledUpgradeExecuteOnlyOnce" id="scheduledUpgradeExecuteOnlyOnce" ng-model="scheduledUpgradeFormCtrl.modelCopy.attributes.execute_only_once" ng-model-master="scheduledUpgradeFormCtrl.model.attributes.execute_only_once"><label for="scheduledUpgradeExecuteOnlyOnce" translate="SETTINGS_SCHEDULED_UPGRADE_VALUES_NAME_EXECUTE_ONLY_ONCE"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SCHEDULED_UPGRADE_LABEL_OCCURRENCE"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><cron-selection class="inlineBlock" ng-model="scheduledUpgradeFormCtrl.modelCopy.attributes.cron_expr" ng-init="scheduledUpgradeFormCtrl.modelCopy.attributes.cron_expr = scheduledUpgradeFormCtrl.model.attributes.cron_expr = scheduledUpgradeFormCtrl.modelCopy.attributes.cron_expr || scheduledUpgradeFormCtrl.MONTHLY_OCCURANCE" template="partials/cronSelection.html" config="scheduledUpgradeFormCtrl.cronConfig"></cron-selection></div></div><div class="appRow" ng-if="scheduledUpgradeFormCtrl.model"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SCHEDULED_UPGRADE_LABEL_DEVICES"></label></div><div class="col--sm9 appFormGroup appFormGroup--cozy"><unifi-device-select-list unifi-device-select-list-filter="scheduledUpgradeFormCtrl.adoptedDevicesFilter" unifi-device-select-list-is-dark="scheduledUpgradeFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-device-select-list-on-selection-change="scheduledUpgradeFormCtrl.onSelectDevices(selectedDevices)" unifi-device-select-list-selected-test="scheduledUpgradeFormCtrl.selectedTargets"></unifi-device-select-list></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy" ng-class="{\'appFormFooter--dark\': scheduledUpgradeFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveScheduledUpgrade" ng-if="!isReadOnly" ng-click="scheduledUpgradeFormCtrl.showValidation = true" busy-toggle="scheduledUpgradeFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="scheduledUpgradeFormCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],503:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("ScheduledUpgradesListController",["$q","$translate","BaseListController","devices","frame","heyToasts","preferences","scheduledUpgrades",function(t,e,i,o,r,a,s,l){return new(function(t){function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return t.preferences=s,t.isRemoving={},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,i),n(c,[{key:"$onInit",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"$onInit",this).call(this),s.model.on("change:use24HourTime change:dateFormat change:timeFormat",this.triggerChange)}},{key:"$onDestroy",value:function(){s.model.off("change:use24HourTime change:dateFormat change:timeFormat",this.triggerChange)}},{key:"triggerChange",value:function(){l.repository.collection.trigger("update")}},{key:"getCollection",value:function(){return l.repository.collection}},{key:"removeScheduledUpgrade",value:function(t){var i=this;return r.show("confirm",{title:function(){return e.instant("SETTINGS_SCHEDULED_UPGRADE_DELETE_CONFIRM_TITLE",{name:t.get("name")})},message:function(){return e.instant("SETTINGS_SCHEDULED_UPGRADE_DELETE_CONFIRM_MESSAGE",{name:t.get("name")})},options:angular.noop}).then(function(){return i.isRemoving[t.id]=!0,l.remove(t).then(function(t){return a.pushSuccess(t),!0}).catch(function(e){return a.pushError(e),i.isRemoving[t.id]=!1,!1})})}},{key:"getDisplayName",value:function(t){var e=o.repository.collection.get(t);return e&&e.getDisplayName()||t}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}}]),c}())}])},{}],504:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiScheduledUpgradesList",["ListDirective",function(e){return new e("scheduledUpgrades",t("./scheduledUpgradesList.pug")(),{onEdit:"&unifiScheduledUpgradesListOnEdit"})}])},{"./scheduledUpgradesList.pug":505}],505:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="scheduledUpgradesTable" collection-view-sort="scheduledUpgradesListCtrl.view" ng-class="{        \'appTable--dark\': scheduledUpgradesListCtrl.preferences.model.get(\'isSettingsDark\')      }" unifi-condensed="appTable--condensed"><thead><tr><th class="scheduledUpgradeName" collection-view-sort-by="name"><span translate="SETTINGS_SCHEDULED_UPGRADES_TABLE_HEADER_NAME"></span></th><th class="scheduledUpgradeOneTime"><span translate="SETTINGS_SCHEDULED_UPGRADES_TABLE_HEADER_ONE_TIME"></span></th><th class="scheduledUpgradeNextExecution"><span translate="SETTINGS_SCHEDULED_UPGRADES_TABLE_HEADER_NEXT_EXECUTION"></span></th><th class="scheduledUpgradeDevices"><span translate="SETTINGS_SCHEDULED_UPGRADES_TABLE_HEADER_DEVICES"></span></th><th class="scheduledUpgradeActions"><span translate="SETTINGS_SCHEDULED_UPGRADES_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in scheduledUpgradesListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="scheduledUpgradeName">{{::model.get(\'name\')}}</td><td class="scheduledUpgradeOneTime" ng-bind-html="model.get(\'execute_only_once\') | enabledIcon"></td><th class="scheduledUpgradeNextExecution">{{::model.get(\'cron_expr\') | unifiCronNextExecution | moment: \'format\': \'datetime\'}}</th><td class="scheduledUpgradeDevices wrappable"><div class="tag appTag appTag--cozy appTag--transparent ng-hide"></div><div class="tag appTag appTag--cozy appTag--transparent" ng-repeat="device in model.get(\'upgrade_targets\').models" ng-class="{\'appTag--dark\': scheduledUpgradesListCtrl.preferences.model.get(\'isSettingsDark\')}">{{scheduledUpgradesListCtrl.getDisplayName(device.get(\'mac\'))}}</div></td><td class="scheduledUpgradeActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="scheduledUpgradesListCtrl.edit(model)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="scheduledUpgradesListCtrl.removeScheduledUpgrade(model)" ng-disabled="scheduledUpgradesListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!scheduledUpgradesListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': scheduledUpgradesListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_SCHEDULED_UPGRADES_TABLE_EMPTY"></p></div></div></div></div>'}},{"pug-runtime":23}],506:[function(t,e,i){"use strict";function n(t,e){this.$window=t,this.$document=e}n.prototype.download=function(t,e){var i=e+"Config.png";return this.$window.domToImage.toPng(t).then(function(t){var e=t.replace(/^data:image\/[^;]*/,"data:image/octet-stream"),n=this.$document[0].createElement("a");n.download=i,n.href=e,angular.element(this.$document[0].body).append(n),n.click(),angular.element(n).remove()}.bind(this))},n.$inject=["$window","$document"],angular.module("app-unifi-manage").controller("ScreenshotDownloadController",n)},{}],507:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiScreenshotDownload",[function(){return{controller:"ScreenshotDownloadController",controllerAs:"screenshotDownloadCtrl",scope:{section:"=unifiScreenshotDownload",elementId:"@unifiScreenshotDownloadElementId",toggleClass:"@unifiScreenshotDownloadToggleClass"},link:function(t,e,i,n){e.on("click",function(e){e.preventDefault(),e.stopPropagation();var i=angular.element("#"+t.elementId);i.addClass(t.toggleClass),n.download(i[0],t.section).then(function(){i.removeClass(t.toggleClass)})})}}}])},{}],508:[function(t,e,i){"use strict";function n(t,e){this.sdn=t,this.SDN_STATES=e}n.$inject=["sdn","SDN_STATES"],angular.module("app-unifi-manage").controller("SdnStatusController",n)},{}],509:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSdnStatus",[function(){return{template:t("./sdnStatus.pug")(),controller:"SdnStatusController",controllerAs:"sdnStatusCtrl"}}])},{"./sdnStatus.pug":510}],510:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+="<h5 class=\"noMarginBottom\"><span class=\"appBadge\" ng-class=\"{      'appBadge--medium': sdnStatusCtrl.sdn.getStatus() === sdnStatusCtrl.SDN_STATES.DISABLED,      'appBadge--warning': sdnStatusCtrl.sdn.getStatus() === sdnStatusCtrl.SDN_STATES.CONNECTING,      'appBadge--success': sdnStatusCtrl.sdn.getStatus() === sdnStatusCtrl.SDN_STATES.CONNECTED,      'appBadge--danger': sdnStatusCtrl.sdn.getStatus() === sdnStatusCtrl.SDN_STATES.DISCONNECTED || sdnStatusCtrl.sdn.getStatus() === sdnStatusCtrl.SDN_STATES.NOT_REGISTERED    }\" translate=\"SETTINGS_CLOUD_ACCESS_LABEL_STATUS_{{sdnStatusCtrl.sdn.getStatus().toUpperCase()}}\"></span></h5>"}},{"pug-runtime":23}],511:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("SelectDeviceDropdownListController",["BaseDropdownListController","devices","deviceStateUtils","manageDevicesComparator","DeviceFilter",function(t,e,i,o,r){return new(function(a){function s(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return t.comparator=o,t.getDeviceModelName=i.getDeviceModelName.bind(i),t.defaultSortBy="state",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,t),n(s,[{key:"initFilters",value:function(){this.filter=new r}},{key:"getCollection",value:function(){return e.repository.collection}}]),s}())}])},{}],512:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSelectDeviceDropdownList",["PaginatedListDirective",function(e){var i=new e("selectDeviceDropdown",t("./selectDeviceDropdownList.pug")(),{isCozy:"=unifiSelectDeviceDropdownListIsCozy",isDark:"=unifiSelectDeviceDropdownListIsDark",alignRight:"=unifiSelectDeviceDropdownListAlignRight",isRequired:"=unifiSelectDeviceDropdownListIsRequired",isSelectedModelRequired:"=unifiSelectDeviceDropdownListIsSelectedModelRequired",noClear:"=?unifiSelectDeviceDropdownListNoClear",selectedModel:"=unifiSelectDeviceDropdownListSelectedModel",localStateIsTemporary:"=unifiSelectDeviceDropdownListLocalStateIsTemporary",deviceFilter:"&?unifiSelectDeviceDropdownListDeviceFilter",deviceFilterAttrs:"=?unifiSelectDeviceDropdownListDeviceFilterAttrs",onSelect:"&?unifiSelectDeviceDropdownListOnSelect",refreshEvent:"=?unifiSelectDeviceDropdownListRefreshEvent"});return i.addMixin({init:function(t,e,i,n){t.markFormAsDirty=function(){n.form.$setDirty()},t.$watch(function(){return!(n.isRequired&&!n.selectedModel)},function(t){n.isValid=t,n.form.$setValidity("required",t)}),t.$watch(function(){return n.deviceFilter},function(t){t?n.setSupplementalFilter(function(e){return t({model:e,attrs:n.deviceFilterAttrs})}):n.clearSupplementalFilter()}),i.unifiSelectDeviceDropdownListRefreshEvent&&t.$on(n.refreshEvent,n.refresh.bind(n))}}),i}])},{"./selectDeviceDropdownList.pug":513}],513:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<ng-form class="appForm" name="selectDeviceDropdownListCtrl.form" ng-class="::{    \'appForm--cozy\': selectDeviceDropdownListCtrl.isCozy,    \'appForm--dark\': selectDeviceDropdownListCtrl.isDark  }"><div class="appFormDropdown appFormDropdown--withSearch fullWidth" ng-click="selectDeviceDropdownListCtrl.openDropdown()" ng-class="{\'is-input-invalid\': !selectDeviceDropdownListCtrl.isValid}" on-outside-element-click="selectDeviceDropdownListCtrl.closeDropdown()" ng-switch="selectDeviceDropdownListCtrl.isDropdownVisible || !selectDeviceDropdownListCtrl.selectedModel"><div class="appIconInput appIconInput--full appIconInput--right appFormDropdown__selectedItem appInputGroup" ng-switch-when="false" ng-class="{\'appFormDropdown__selectedItem--noIcon\': !selectDeviceDropdownListCtrl.noClear}"><div class="appIconInput__input" unifi-device-status="selectDeviceDropdownListCtrl.selectedModel" unifi-device-status-is-cozy="true" unifi-device-status-with-icons="true" unifi-device-status-label="selectDeviceDropdownListCtrl.selectedModel.getDisplayName()"></div><div class="appIconInput__icon icon clickable" ng-if="!selectDeviceDropdownListCtrl.noClear" ng-click="selectDeviceDropdownListCtrl.selectModel(); markFormAsDirty(); $event.stopImmediatePropagation(); $event.preventDefault();" ng-class="selectDeviceDropdownListCtrl.isBusy ? \'appIconAnimated--rotate ubnt-icon--sync\' : \'ubnt-icon--x-circle\'"></div></div><unifi-search ng-switch-when="true" unifi-search-on-change="selectDeviceDropdownListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-full-width="true" unifi-search-is-cozy="selectDeviceDropdownListCtrl.isCozy" unifi-search-is-dark="selectDeviceDropdownListCtrl.isDark" unifi-search-is-busy="selectDeviceDropdownListCtrl.view.isRefreshing()" unifi-search-is-required="selectDeviceDropdownListCtrl.isSelectedModelRequired" unifi-search-query="selectDeviceDropdownListCtrl.filter.searchQuery" unifi-search-placeholder="\'COMMON_SELECT_DEVICE_DROPDOWN_SEARCH_PLACEHOLDER\'"></unifi-search><div class="appDropdown" ng-click="$event.stopPropagation();" ng-class="{        \'appDropdown--dark\': selectDeviceDropdownListCtrl.isDark,        \'appDropdown--right\': selectDeviceDropdownListCtrl.alignRight,        \'is-dropdown-visible\': selectDeviceDropdownListCtrl.isDropdownVisible      }"><table class="noMarginBottom appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--minor appTable--striped appTable--transparent" ng-class="{          \'appTable--cozy\': !selectDeviceDropdownListCtrl.isCozy,          \'appTable--condensed\': selectDeviceDropdownListCtrl.isCozy,          \'appTable--light\': !selectDeviceDropdownListCtrl.isDark,          \'appTable--dark\': selectDeviceDropdownListCtrl.isDark        }"><tfoot ng-if="selectDeviceDropdownListCtrl.view.getModels().length"><tr><td colspan="4"><unifi-micro-pagination class="noMarginBottom horizontalRhythmLeft--condensed" unifi-micro-pagination-current-page="selectDeviceDropdownListCtrl.currentPage" unifi-micro-pagination-rows-per-page="selectDeviceDropdownListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="selectDeviceDropdownListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="model in selectDeviceDropdownListCtrl.view.getModels(),              startFrom (selectDeviceDropdownListCtrl.currentPage - 1) * selectDeviceDropdownListCtrl.rowsPerPage,              limitTo selectDeviceDropdownListCtrl.rowsPerPage" data-id="{{::model.id}}" ng-click="selectDeviceDropdownListCtrl.selectModel(model); markFormAsDirty()" ng-class="{\'is-row-selected\': selectDeviceDropdownListCtrl.selectedModel.id === model.id}"><td class="deviceStateIcon unifiDevicesTable__statusBall"><span class="horizontalRhythmLeft--condensed" unifi-device-status="::model" unifi-device-status-with-icons="true"></span></td><td class="deviceName" ng-attr-title="{{::model.get(\'mac\')}}">{{::model.getDisplayName()}}</td><td class="deviceModel visible--smUp">{{::selectDeviceDropdownListCtrl.getDeviceModelName(model)}}</td><td class="deviceActions appTableCell--actions noVerticalPadding"><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed" unifi-open-panel="model" unifi-open-panel-active-tab="\'configure\'" title="{{\'COMMON_PROPERTY_PANEL_OPEN\' | translate}}"><span class="button__icon icon ubnt-icon--panels"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!selectDeviceDropdownListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': selectDeviceDropdownListCtrl.isDark}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="COMMON_SELECT_DEVICE_DROPDOWN_TABLE_EMPTY"></p></div></div></div></div></div></ng-form>'}},{"pug-runtime":23}],514:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSelectEmptyStringOption",[function(){return{require:"ngModel",link:function(t,e,i,n){n.$parsers.push(function(t){return null===t?"":t})}}}])},{}],515:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("SelectSimpleDropdownListController",["$injector","BaseDropdownListController",function(t,e){return new(function(i){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.skipInitialization=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,e),n(r,[{key:"initFilters",value:function(){if(this.injectFilter){var e=t.get(this.injectFilter);this.filter=new e}else o(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"initFilters",this).call(this)}},{key:"initView",value:function(){this.injectComparator&&(this.comparator=t.get(this.injectComparator)),o(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"initView",this).call(this)}},{key:"getCollection",value:function(){return this.collection}}]),r}())}])},{}],516:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSelectSimpleDropdownList",["PaginatedListDirective","APP_EVENTS",function(e,i){var n=new e("selectSimpleDropdown",t("./selectSimpleDropdownList.pug")(),{_collection:"=unifiSelectSimpleDropdownListCollection",selectedModel:"=unifiSelectSimpleDropdownListSelectedModel",renderLabel:"&unifiSelectSimpleDropdownListRenderLabel",rowTemplate:"=unifiSelectSimpleDropdownListRowTemplate",rowConfig:"=?unifiSelectSimpleDropdownListRowConfig",injectFilter:"=?unifiSelectSimpleDropdownListInjectFilter",supplementalFilter:"&?unifiSelectSimpleDropdownListSupplementalFilter",injectComparator:"=?unifiSelectSimpleDropdownListInjectComparator",defaultSortBy:"=?unifiSelectSimpleDropdownListDefaultSortBy",defaultSortDesc:"=?unifiSelectSimpleDropdownListDefaultSortDesc",searchableAttributes:"=?unifiSelectSimpleDropdownListSearchableAttributes",searchPlaceholder:"=?unifiSelectSimpleDropdownListSearchPlaceholder",emptyTableNotice:"=?unifiSelectSimpleDropdownListEmptyTableNotice",isCozy:"=?unifiSelectSimpleDropdownListIsCozy",isDark:"=?unifiSelectSimpleDropdownListIsDark",isRequired:"=?unifiSelectSimpleDropdownListIsRequired",isBusy:"=?unifiSelectSimpleDropdownListIsBusy",rowsPerPage:"=?unifiSelectSimpleDropdownListRowsPerPage",isPaginationOptional:"=?unifiSelectSimpleDropdownListIsPaginationOptional",hideEmptyNotice:"=?unifiSelectSimpleDropdownListHideEmptyNotice",noClear:"=?unifiSelectSimpleDropdownListNoClear",noWrap:"=?unifiSelectSimpleDropdownListNoWrap",openUpward:"=?unifiSelectSimpleDropdownListOpenUpward",leftIcon:"=?unifiSelectSimpleDropdownListLeftIcon",localStateIsTemporary:"=?unifiSelectSimpleDropdownListLocalStateIsTemporary",onSelect:"&?unifiSelectSimpleDropdownListOnSelect",onChange:"&?unifiSelectSimpleDropdownListOnChange",onSubmit:"&?unifiSelectSimpleDropdownListOnSubmit"});return n.addMixin({init:function(t,e,n,o){t.markFormAsDirty=function(){o.form.$setDirty()},t.$watch(function(){return!(o.isRequired&&!o.selectedModel)},function(t){o.isValid=t,o.form.$setValidity("required",t)}),t.$watch(function(){return o._collection},function(t){o.destroyView(),(o.collection=t)&&(o.initFilters(),o.initView())}),t.$watch(function(){return o.supplementalFilter},function(t){o.isSupplementalFilterAllowed()&&(t?o.setSupplementalFilter(function(e){return t({model:e})}):o.clearSupplementalFilter())}),t.$on(i.SELECT_DROPDOWN_LIST_OPEN,o.openDropdown.bind(o)),t.$on(i.SELECT_DROPDOWN_LIST_CLOSE,o.closeDropdown.bind(o)),t.$on(i.SELECT_DROPDOWN_LIST_CLEAR,o.clearSearchQuery.bind(o)),t.$on(i.SELECT_DROPDOWN_LIST_SUBMIT,function(){o.onSubmit&&o.onSubmit({searchQuery:o.filter?o.filter.searchQuery:void 0})})}}),n}])},{"./selectSimpleDropdownList.pug":517}],517:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<ng-form class="appForm" name="selectSimpleDropdownListCtrl.form" ng-class="::{    \'appForm--cozy\': selectSimpleDropdownListCtrl.isCozy,    \'appForm--dark\': selectSimpleDropdownListCtrl.isDark  }"><div class="appFormDropdown appFormDropdown--withSearch fullWidth" ng-click="selectSimpleDropdownListCtrl.openDropdown()" ng-class="{\'is-input-invalid\': !selectSimpleDropdownListCtrl.isValid}" on-outside-element-click="selectSimpleDropdownListCtrl.closeDropdown()" ng-switch="selectSimpleDropdownListCtrl.isDropdownVisible || !selectSimpleDropdownListCtrl.selectedModel"><div class="appFormDropdown__selectedItem appIconInput appIconInput--right" ng-switch-when="false" ng-class="{        \'appFormDropdown__selectedItem--noIcon\': selectSimpleDropdownListCtrl.selectedModel &amp;&amp; !selectSimpleDropdownListCtrl.noClear,        \'appIconInput--left\': selectSimpleDropdownListCtrl.leftIcon      }"><div class="appIconInput__input">{{selectSimpleDropdownListCtrl.renderLabel({ model: selectSimpleDropdownListCtrl.selectedModel })}}</div><div class="appIconInput__icon appIconInput__icon--left icon" ng-if="selectSimpleDropdownListCtrl.leftIcon" ng-class="selectSimpleDropdownListCtrl.leftIcon"></div><div class="appIconInput__icon appIconInput__icon--right icon clickable" ng-if="selectSimpleDropdownListCtrl.selectedModel &amp;&amp; !selectSimpleDropdownListCtrl.noClear" ng-click="$event.stopPropagation(); selectSimpleDropdownListCtrl.selectModel(); markFormAsDirty()" ng-class="selectSimpleDropdownListCtrl.isBusy ? \'appIconAnimated--rotate ubnt-icon--sync\' : \'ubnt-icon--x-circle\'"></div></div><unifi-search ng-switch-when="true" unifi-search-on-change="selectSimpleDropdownListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="selectSimpleDropdownListCtrl.isCozy" unifi-search-is-dark="selectSimpleDropdownListCtrl.isDark" unifi-search-is-full-width="true" unifi-search-is-busy="selectSimpleDropdownListCtrl.isBusy || selectSimpleDropdownListCtrl.view.isRefreshing()" unifi-search-query="selectSimpleDropdownListCtrl.filter.searchQuery" unifi-search-placeholder="selectSimpleDropdownListCtrl.searchPlaceholder || \'COMMON_SELECT_SIMPLE_DROPDOWN_SEARCH_PLACEHOLDER\'" unifi-search-left-icon="selectSimpleDropdownListCtrl.leftIcon"></unifi-search><div class="appDropdown" ng-click="$event.stopPropagation();" ng-class="{        \'appDropdown--dark\': selectSimpleDropdownListCtrl.isDark,        \'appDropdown--upward\': selectSimpleDropdownListCtrl.openUpward,        \'is-dropdown-visible\': selectSimpleDropdownListCtrl.isDropdownVisible &amp;&amp; (selectSimpleDropdownListCtrl.view.getModels().length || !selectSimpleDropdownListCtrl.hideEmptyNotice)      }"><table class="noMarginBottom appTable appTable--hoverable appTable--flexible appTable--minor appTable--striped appTable--transparent appTable--footerBorder" ng-class="{          \'appTable--noWrap\': selectSimpleDropdownListCtrl.noWrap,          \'appTable--cozy\': !selectSimpleDropdownListCtrl.isCozy,          \'appTable--condensed\': selectSimpleDropdownListCtrl.isCozy,          \'appTable--light\': !selectSimpleDropdownListCtrl.isDark,          \'appTable--dark\': selectSimpleDropdownListCtrl.isDark        }"><tfoot ng-if="            selectSimpleDropdownListCtrl.view.getModels().length &amp;&amp;             (!selectSimpleDropdownListCtrl.isPaginationOptional || selectSimpleDropdownListCtrl.view.getModels().length &gt; selectSimpleDropdownListCtrl.rowsPerPage)          "><tr><td colspan="5"><unifi-micro-pagination class="noMarginBottom horizontalRhythmLeft--condensed" unifi-micro-pagination-current-page="selectSimpleDropdownListCtrl.currentPage" unifi-micro-pagination-rows-per-page="selectSimpleDropdownListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="selectSimpleDropdownListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="model in selectSimpleDropdownListCtrl.view.getModels(),              startFrom (selectSimpleDropdownListCtrl.currentPage - 1) * selectSimpleDropdownListCtrl.rowsPerPage,              limitTo selectSimpleDropdownListCtrl.rowsPerPage" data-id="{{::model.id}}" ng-click="selectSimpleDropdownListCtrl.selectModel(model); markFormAsDirty()" ng-class="{\'is-row-selected\': selectSimpleDropdownListCtrl.selectedModel.id === model.id}" unifi-collection-view-row="{{selectSimpleDropdownListCtrl.rowTemplate}}" unifi-collection-view-row-config="{{selectSimpleDropdownListCtrl.rowConfig}}"></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythmTopQuarter" ng-if="!selectSimpleDropdownListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': selectSimpleDropdownListCtrl.isDark}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">{{selectSimpleDropdownListCtrl.emptyTableNotice || \'COMMON_SELECT_SIMPLE_DROPDOWN_TABLE_EMPTY\' | translate}}</p></div></div></div></div></div></ng-form>'}},{"pug-runtime":23}],518:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var o=lazyRequire.get("BaseModelController");angular.module("app-unifi-manage").controller("SettingsNavController",["account","featureFlag","i18nLocalStorage","system",function(t,e,i,r){return new(function(a){function s(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return t.setChangeEvent("change:site_role change:is_super"),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),n(s,[{key:"$onInit",value:function(){this.updateModel(t.repository.model)}},{key:"$onDestroy",value:function(){this.removeEventHandlers()}},{key:"onModelChange",value:function(){this.updateChildStates()}},{key:"getSelectedLanguage",value:function(){return i.get()||"en"}},{key:"updateChildStates",value:function(){this.states=[{id:"site",name:"SETTINGS_NAV_SITE",section:"application"},{id:"wlans",name:"SETTINGS_NAV_WIRELESS_NETWORKS",section:"application"},{id:"networks",name:"SETTINGS_NAV_NETWORKS",section:"application"},{id:"routingAndFirewall",name:"SETTINGS_NAV_ROUTING_AND_FIREWALL",section:"application"},{id:"ips",name:"SETTINGS_NAV_IPS",section:"application",beta:!0},{id:"dpi",name:"SETTINGS_NAV_DPI",section:"application"},{id:"guestcontrol",name:"SETTINGS_NAV_GUEST_CONTROL",section:"application"},{id:"profiles",name:"SETTINGS_NAV_PROFILES",section:"application"},{id:"services",name:"SETTINGS_NAV_SERVICES",section:"application",isAdminOnly:!0},{id:"admins",name:"SETTINGS_NAV_ADMINS",section:"application",isAdminOnly:!0},{id:"usergroups",name:"SETTINGS_NAV_USER_GROUPS",section:"application"},{id:"controller",name:"SETTINGS_NAV_CONTROLLER",section:"controller"},{id:"notifications",name:"SETTINGS_NAV_NOTIFICATIONS",section:"controller",beta:!0,isSuperAdminOnly:!0},{id:"cloudaccess",name:"SETTINGS_NAV_CLOUD_ACCESS",section:"controller"},{id:"elitedevice",name:"SETTINGS_NAV_ELITE_DEVICE",isSuperAdminOnly:!0,section:"controller"},{id:"maintenance",name:"SETTINGS_NAV_MAINTENANCE",section:"controller",isSuperAdminOnly:!0},{id:"backup",name:"SETTINGS_NAV_AUTOBACKUP",section:"controller",isSuperAdminOnly:!0,disableForUnifiGo:!0}].filter(function(t){return!angular.isDefined(t.featureFlag)||e.isEnabled(t.featureFlag)}),t.isAdmin()||(this.states=this.states.filter(function(t){return!t.isAdminOnly&&!t.isSuperAdminOnly})),t.isSuperAdmin()||(this.states=this.states.filter(function(t){return!t.isSuperAdminOnly})),r.isUnifiGo()&&(this.states=this.states.filter(function(t){return!t.disableForUnifiGo}))}}]),s}())}])},{}],519:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiSettingsNav",{bindings:{isDark:"<unifiSettingsNavIsDark",withGradient:"<unifiSettingsNavWithGradient",withBadges:"<unifiSettingsNavWithBadges"},controller:"SettingsNavController",controllerAs:"settingsNavCtrl",template:t("./settingsNav.pug")()})},{"./settingsNav.pug":520}],520:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+"<ul class=\"appMenu appMenu--transparent appMenu--gradient\" ng-class=\"settingsNavCtrl.isDark ? 'appMenu--dark' : 'appMenu--light'\""+n("pageutils-nav",!0,!0,!0)+' pageutils-nav-active-class="is-menu-item-selected"'+n("gradient",!0,!0,!0)+' gradient-start-color="settingsNavCtrl.withGradient ? (settingsNavCtrl.isDark ? \'#035f86\' : \'#c8d9e2\') : null" gradient-stop-color="settingsNavCtrl.withGradient ? (settingsNavCtrl.isDark ? \'#1c1e2d\' : \'#fcfeff\') : null" gradient-selector=".appMenu__item" gradient-attribute="background-color" gradient-event="settings:navRendered" unifi-bind-notifier="{language_changed: settingsNavCtrl.getSelectedLanguage()}"><li class="appMenu__item clickable" ng-repeat="state in settingsNavCtrl.states track by state.id" ng-class="{      \'appMenu__item--divider\': $index &gt; 0 &amp;&amp; state.section !== settingsNavCtrl.states[$index - 1].section,      \'appMenu__item--withBadge\': state.beta &amp;&amp; settingsNavCtrl.withBadges    }" pageutils-nav-state="manage.site.settings.{{state.id}}" on-last-repeat="settings:navRendered"><span translate="{{:language_changed: state.name}}"></span><span class="appBadge appBadge--warning floatRight" ng-if="state.beta &amp;&amp; settingsNavCtrl.withBadges" translate="COMMON_BETA"></span></li></ul>'};var o=/["&<>]/},{"pug-runtime":23}],521:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSettingsSideNav",[function(){return{scope:!0,template:t("./settingsSideNav.pug")(),link:function(t){t.$on("$stateChangeSuccess",function(){t.isVisible=!1})}}}])},{"./settingsSideNav.pug":522}],522:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntNavigation__item" pageutils-nav-state="manage.site.settings" on-outside-element-click="isVisible = false" alt="{{::\'COMMON_NAV_SETTINGS\' | translate}}"><div class="appGlobalSideNav__itemTrigger visible--smDown" ng-click="isVisible = !isVisible; $event.stopPropagation();"></div><aura-icon aura-icon="\'settings\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--navigation\']"></aura-icon><div class="ubntTooltip ubntTooltip--navigation" ng-if="!isVisible" translate="COMMON_NAV_SETTINGS"></div><div class="appAccessibilityDescription" translate="COMMON_NAV_SETTINGS"></div><div class="appGlobalSideNavPopover appGlobalSideNavPopover--subnav appGlobalSideNavPopover--withLayerShadow visible--smDown" ng-class="{\'is-side-nav-popover-visible\': isVisible}" ng-click="$event.stopPropagation()"><div class="appGlobalSideNavPopover__inner"><unifi-settings-nav unifi-settings-nav-is-dark="true" unifi-settings-nav-with-gradient="false" unifi-settings-nav-with-badges="false"></unifi-settings-nav></div></div></div>'}},{"pug-runtime":23}],523:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(t,e,i,o,r,a,s,l,c){this.$stateParams=t,this.$translate=e,this.apiResults=i,this.heyToasts=o,this.preferences=r,this.deviceUtils=a,this.deviceFeatureUtils=s,this.deviceFilter=this.deviceFilter.bind(this),this.patterns={extension:c.SIP_USERNAME,auth_user:c.SIP_USERNAME,password:c.ALPHANUMERIC},n.call(this,l)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.save=function(){this.isSubmitting=!0;var t={baresip_enabled:!0,baresip_extension:this.modelCopy.attributes.baresip_extension,baresip_auth_user:this.modelCopy.attributes.baresip_auth_user||"",x_baresip_password:this.modelCopy.attributes.x_baresip_password,volume:this.modelCopy.attributes.volume};return this.deviceUtils.saveDevice(this.selectedModel||this.model,t,{wait:!0}).then(function(){return this.heyToasts.pushSuccess(this.addDeviceNameAndTranslate(!1)),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.addDeviceNameAndTranslate(!0),t)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},o.prototype.addDeviceNameAndTranslate=function(t){var e=this.getDeviceDisplayName();return e&&t?this.$translate.instant("SETTINGS_SIP_ENDPOINT_SAVE_ERROR_WITH_DEVICE_NAME",{deviceName:e}):e&&!t?this.$translate.instant("SETTINGS_SIP_ENDPOINT_SAVE_SUCCESS_WITH_DEVICE_NAME",{deviceName:e}):t?this.$translate.instant("SETTINGS_SIP_ENDPOINT_SAVE_ERROR"):this.$translate.instant("SETTINGS_SIP_ENDPOINT_SAVE_SUCCESS")},o.prototype.getDeviceDisplayName=function(){return this.model&&this.model.getDisplayName()||this.selectedModel&&this.selectedModel.getDisplayName()},o.prototype.isEditState=function(){return"edit"===this.$stateParams.action},o.prototype.deviceFilter=function(t){return!(!this.deviceFeatureUtils.isBareSipSupported(t)||!t.get("adopted")||t.get("baresip_enabled")&&(!this.isEditState()||t.id!==this.$stateParams.id))},o.prototype.setDefaultAttrs=function(t){var e=t?"":"Copy";if(this.masterWithDefaults=this.masterWithDefaults||{},this["model"+e]){var i={};i.volume=this.model&&this.model.has("volume")?this.model.get("volume"):25,angular.extend(t?this.masterWithDefaults:this.modelCopy.attributes,i)}},o.prototype.onModelChange=function(){this.setDefaultAttrs(!0)},o.prototype.reset=function(){n.prototype.reset.call(this),this.setDefaultAttrs(!1)},o.$inject=["$stateParams","$translate","apiResults","heyToasts","preferences","deviceUtils","deviceFeatureUtils","modelDivergence","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("SipEndpointFormController",o)},{}],524:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSipEndpointForm",["SimpleFormDirective",function(e){return new e("sipEndpoint",t("./sipEndpointForm.pug")())}])},{"./sipEndpointForm.pug":525}],525:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="sipEndpointFormCtrl.form" ng-class="{    \'appForm--dark\': sipEndpointFormCtrl.preferences.model.get(\'isSettingsDark\'),    \'appForm--isLoading\': !isLoaded,    \'is-form-validation-visible\': sipEndpointFormCtrl.showValidation,    \'is-validation-hidden\': !sipEndpointFormCtrl.showValidation  }" ng-submit="sipEndpointFormCtrl.form.$valid &amp;&amp; sipEndpointFormCtrl.save().then(onSubmit)"><unifi-config-changed unifi-config-changed-on-reset="sipEndpointFormCtrl.resolveDivergence()" unifi-config-changed-on-ignore="sipEndpointFormCtrl.ignoreDivergence()" unifi-config-changed-is-dark="sipEndpointFormCtrl.preferences.model.get(\'isSettingsDark\')" unifi-config-changed-with-icon="true" ng-show="sipEndpointFormCtrl.form.$error.divergent"></unifi-config-changed><fieldset class="appFieldset appFieldset--quiet" ng-disabled="isReadOnly"><div class="unifiSettingsSection"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone"'+n("translate",!0,!0,!0)+' translate-values="{userName: sipEndpointFormCtrl.model.attributes.name}">{{sipEndpointFormCtrl.isEditState() ? \'SETTINGS_SIP_ENDPOINT_EDIT_ENDPOINT\' : \'SETTINGS_SIP_ENDPOINT_CREATE_ENDPOINT\'}}</div><div class="appRow appRow--comfy verticalRhythmTop--cozy" ng-if="sipEndpointFormCtrl.isEditState()"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SIP_ENDPOINT_LABEL_DEVICE"></label></div><div class="col--sm5"><label class="appLabel">{{sipEndpointFormCtrl.model.getDisplayName()}}</label></div></div><div class="appRow" ng-if="!sipEndpointFormCtrl.isEditState()"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_SIP_ENDPOINT_LABEL_DEVICE"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-select-device-dropdown-list unifi-select-device-dropdown-list-selected-model="sipEndpointFormCtrl.selectedModel" unifi-select-device-dropdown-list-is-required="true" unifi-select-device-dropdown-list-device-filter="sipEndpointFormCtrl.deviceFilter(model)" unifi-select-device-dropdown-list-local-state="true" unifi-select-device-dropdown-list-local-state-key="::sipEndpointFormCtrl.$stateParams.id + \'|sip-endpoint\'" unifi-select-device-dropdown-list-local-state-is-temporary="true" unifi-select-device-dropdown-list-is-cozy="true" unifi-select-device-dropdown-list-is-dark="sipEndpointFormCtrl.preferences.model.get(\'isSettingsDark\')"></unifi-select-device-dropdown-list></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_SIP_ENDPOINT_LABEL_EXTENSION"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="sipEndpointExtension" ng-model="sipEndpointFormCtrl.modelCopy.attributes.baresip_extension" ng-model-master="sipEndpointFormCtrl.model.attributes.baresip_extension" ng-pattern="sipEndpointFormCtrl.patterns.extension"'+n("required",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="sipEndpointFormCtrl.form.sipEndpointExtension.$error.pattern" translate="VALIDATION_HINT_SIP_USERNAME"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_SIP_ENDPOINT_LABEL_AUTH_USER"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="sipEndpointAuthUser" ng-model="sipEndpointFormCtrl.modelCopy.attributes.baresip_auth_user" ng-model-master="sipEndpointFormCtrl.model.attributes.baresip_auth_user" ng-pattern="sipEndpointFormCtrl.patterns.auth_user"><div class="appInputFeedback appInputFeedback--danger" ng-show="sipEndpointFormCtrl.form.sipEndpointAuthUser.$error.pattern" translate="VALIDATION_HINT_SIP_USERNAME"></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_SIP_ENDPOINT_LABEL_PASSWORD"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" type="password" name="sipEndpointP" ng-model="sipEndpointFormCtrl.modelCopy.attributes.x_baresip_password" ng-model-master="sipEndpointFormCtrl.model.attributes.x_baresip_password" ng-pattern="sipEndpointFormCtrl.patterns.password"'+n("required",!0,!0,!0)+'></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-show="sipEndpointFormCtrl.form.sipEndpointP.$error.pattern" translate="VALIDATION_HINT_ALPHANUMERIC"></div></div><div class="col--sm1 col--xs2 noPaddingLeft pt-1"><unifi-tooltip><content translate="SETTINGS_SIP_ENDPOINT_TOOLTIP_VALID_PASSWORD"></content></unifi-tooltip></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary" translate="SETTINGS_SIP_ENDPOINT_LABEL_VOLUME"></label></div><div class="col--sm5 appFormGroup appFormGroup--cozy"><rzslider rz-slider-model="sipEndpointFormCtrl.modelCopy.attributes.volume" rz-slider-options="{              floor: 0,              ceil: 100,              precision: 1,              hideLimitLabels: true,              hidePointerLabels: true,              showSelectionBar: true            }"></rzslider></div><div class="col--sm1"><strong>{{sipEndpointFormCtrl.modelCopy.attributes.volume}}</strong></div></div></div></fieldset><div class="appFormFooter appFormFooter--standalone appFormFooter--flush verticalRhythmTop--breezy verticalRhythm--cozy" ng-class="{\'appFormFooter--dark\': sipEndpointFormCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appFormFooter__left"><button class="appMainButton appMainButton--success saveSipEndpoint" ng-if="!isReadOnly" ng-click="sipEndpointFormCtrl.showValidation = true" busy-toggle="sipEndpointFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button><button class="appMainButton cancelSave" type="button" ng-if="!isReadOnly" ng-click="onCancel()" ng-class="sipEndpointFormCtrl.preferences.model.get(\'isSettingsDark\') ?           \'appMainButton--transparentDark\' :           \'appMainButton--transparent\'        ">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary cancelView" type="button" ng-if="isReadOnly" ng-click="onCancel()">{{\'COMMON_ACTIONS_BACK\' | translate}}</button></div></div></form>'};var o=/["&<>]/},{"pug-runtime":23}],526:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("SipEndpointListController",["$q","$translate","BaseListController","DeviceFilter","devices","deviceUtils","frame","heyToasts","apiResults","preferences",function(t,e,i,o,r,a,s,l,c,u){return new(function(t){function d(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return t.preferences=u,t.filter=new o,t.defaultSortBy="baresip_extension",t.isRemoving={},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(d,i),n(d,[{key:"getCollection",value:function(){return r.repository.collection}},{key:"initFilters",value:function(){this.filter.setIsSipEnabledFilter(!0)}},{key:"removeEndpoint",value:function(t){var i=this;return s.show("confirm",{title:function(){return e.instant("SETTINGS_SIP_ENDPOINT_DELETE_CONFIRM_TITLE")},message:function(){return e.instant("SETTINGS_SIP_ENDPOINT_DELETE_CONFIRM_MESSAGE",{deviceName:t.getDisplayName()})},options:angular.noop}).then(function(){return i.isRemoving[t.id]=!0,a.saveDevice(t,{baresip_enabled:!1},{wait:!0}).then(function(){l.pushSuccess(e.instant("SETTINGS_SIP_ENDPOINT_DELETE_SUCCESS",{deviceName:t.getDisplayName()}))}).catch(function(i){l.pushError(c.appendErrorMsg(e.instant("SETTINGS_SIP_ENDPOINT_DELETE_ERROR",{deviceName:t.getDisplayName()}),i))}).finally(function(){i.isRemoving[t.id]=!1})})}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}}]),d}())}])},{}],527:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSipEndpointList",["ListDirective",function(e){return new e("sipEndpoint",t("./sipEndpointList.pug")(),{onEdit:"&unifiSipEndpointListOnEdit"})}])},{"./sipEndpointList.pug":528}],528:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div><table class="verticalRhythmTop--comfy appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="sipEndpointTable" collection-view-sort="sipEndpointListCtrl.view" ng-class="{      \'appTable--dark\': sipEndpointListCtrl.preferences.model.get(\'isSettingsDark\')    }" unifi-condensed="appTable--condensed"><thead><tr><th class="sipEndpointState appTableCell--smash alignCenter" collection-view-sort-by="state"></th><th class="sipEndpointName" collection-view-sort-by="name"><span translate="SETTINGS_SIP_ENDPOINT_TABLE_HEADER_DEVICE"></span></th><th class="sipEndpointExtension" collection-view-sort-by="baresip_extension"><span translate="SETTINGS_SIP_ENDPOINT_TABLE_HEADER_EXTENSION"></span></th><th class="sipEndpointAuthUser" collection-view-sort-by="baresip_auth_user"><span translate="SETTINGS_SIP_ENDPOINT_TABLE_HEADER_AUTH_USER"></span></th><th class="sipEndpointVolume" collection-view-sort-by="volume"><span translate="SETTINGS_SIP_ENDPOINT_TABLE_HEADER_VOLUME"></span></th><th class="sipEndpointActions"'+n("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_SIP_ENDPOINT_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr collection-view-repeat="model in sipEndpointListCtrl.view.getModels()" data-id="{{::model.id}}"><td class="sipEndpointState appTableCell--smash"><span unifi-device-status="::model" unifi-device-status-is-cozy="true" unifi-device-status-with-icons="true"></span></td><td class="sipEndpointName">{{::model.getDisplayName()}}</td><td class="sipEndpointExtension">{{::model.get(\'baresip_extension\')}}</td><td class="sipEndpointAuthUser">{{::model.get(\'baresip_auth_user\')}}</td><td class="sipEndpointVolume">{{::model.get(\'volume\')}}</td><td class="sipEndpointActions appTableCell--actions"'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="sipEndpointListCtrl.edit(model)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="sipEndpointListCtrl.removeEndpoint(model)" ng-disabled="sipEndpointListCtrl.isRemoving[model.id]"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm" ng-if="!sipEndpointListCtrl.view.getModels().length" ng-class="{\'appInfoBox--dark\': sipEndpointListCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_SIP_ENDPOINT_TABLE_EMPTY"></p></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],529:[function(t,e,i){"use strict";function n(t,e,i,n,o,r){this.$interval=t,this.$rootScope=e,this.gatewayUtils=i,this.speedTest=n,this.SETTINGS=o,this.STATUS=r,this.inProgress=!1,this.chartSeries={},this.ugwLimits={UGW3:{name:"USG",limit:300},UGW4:{name:"USG-Pro",limit:400}},this.ugwLimitShow=!1,this.initialResults={}}n.prototype.startTest=function(){this.stopTest(),this.executeTest()},n.prototype.executeTest=function(){this.initialResults={},this.inProgress=!0,this.speedTest.startTest(),this.chartSeries={valueDownload:0,valueUpload:0,seriesDownload:[],seriesUpload:[]},this.$rootScope.$on(this.SETTINGS.EVENT_STRING,function(t,e){var i=e.downloadTick;i&&(this.chartSeries.valueDownload=i.valueDownload,this.chartSeries.seriesDownload.push(i));var n=e.uploadTick;n&&(this.chartSeries.valueUpload=n.valueUpload,this.chartSeries.seriesUpload.push(n)),this.chartSeries.statusDownload=this.speedTest.getDownloadStatusResult(),this.chartSeries.statusDownload===this.STATUS.IS_COMPLETED&&this.speedTest.hasNextDownloadTick()&&(this.chartSeries.statusDownload=this.STATUS.IN_PROGRESS),this.chartSeries.statusUpload=this.speedTest.getUploadStatusResult(),this.chartSeries.statusUpload===this.STATUS.IS_COMPLETED&&this.speedTest.hasNextUploadTick()&&(this.chartSeries.statusUpload=this.STATUS.IN_PROGRESS),this.speedTest.isTestInProgress()||this.speedTest.hasNextDownloadTick()||this.speedTest.hasNextUploadTick()||(this.showUgwLimitInfo(),this.stopTest())}.bind(this),this.SETTINGS.REFRESHING_INTERVAL)},n.prototype.stopTest=function(){this.chartSeries.valueDownload=this.speedTest.getDownloadValueResult(),this.chartSeries.valueUpload=this.speedTest.getUploadValueResult(),this.inProgress=!1},n.prototype.getPingResult=function(){return{status:this.speedTest.getPingStatusResult(),value:this.speedTest.getPingValueResult(),unit:"COMMON_LATENCY_UNIT"}},n.prototype.getUgwLimitData=function(){var t=this.gatewayUtils.getSiteGateway();return t&&this.ugwLimits[t.get("model")]||{}},n.prototype.showUgwLimitInfo=function(){var t=Math.max(this.speedTest.getDownloadValueResult(),this.speedTest.getUploadValueResult()),e=this.getUgwLimitData();e.limit&&t>.8*e.limit&&(this.ugwLimitShow=!0)},n.prototype.showInitialResults=function(t){t&&(this.initialResults={rundate:t.rundate,value:t.latency,status:t.status_ping,unit:"COMMON_LATENCY_UNIT"},this.chartSeries={valueDownload:t.xput_download,valueUpload:t.xput_upload})},n.$inject=["$interval","$rootScope","gatewayUtils","speedTest","SPEED_TEST_SETTINGS","SPEED_TEST_STATUSES"],angular.module("app-unifi-manage").controller("SpeedTestContainerController",n)},{}],530:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSpeedTestContainer",["APP_EVENTS",function(e){return{scope:{initialResults:"=?unifiSpeedTestContainerInitialResults"},bindToController:{chartConfig:"=unifiSpeedTestContainerChartConfig",inProgress:"=unifiSpeedTestContainerInProgress",hideLineChart:"=?unifiSpeedTestContainerHideLineChart",isDark:"=?unifiSpeedTestContainerIsDark",ugwLimit:"=?unifiSpeedTestContainerUgwLimit"},controller:"SpeedTestContainerController",controllerAs:"speedTestContainerCtrl",template:t("./speedTestContainer.pug")(),replace:!0,link:function(t,i,n,o){var r=t.$watch("initialResults",function(t){t&&t.rundate&&(o.showInitialResults(t),r())});t.$on(e.SPEED_TEST_START,function(){o.startTest(),r()}),t.$on(e.SPEED_TEST_STOP,function(){o.stopTest()}),t.$on("$destroy",function(){o.stopTest()})}}}])},{"./speedTestContainer.pug":531}],531:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiSpeedTestContainer" ng-class="{\'unifiSpeedTestContainer--dark\': speedTestContainerCtrl.isDark}"><div class="unifiSpeedTestContainer__ugwLimitTooltip appTooltipContainer appTooltipContainer--iconPrompt appTooltipContainer--hoverable" ng-if="speedTestContainerCtrl.ugwLimitShow &amp;&amp; speedTestContainerCtrl.ugwLimit === \'tooltip\'"><div class="icon ubnt-icon--alert warning"></div><div class="appTooltip appTooltip--bottom" translate="SPEED_TEST_WARNING_UGW_LIMIT" translate-values="speedTestContainerCtrl.getUgwLimitData()"></div></div><unifi-speed-test-donut-chart unifi-speed-test-donut-chart-series="speedTestContainerCtrl.chartSeries" unifi-speed-test-donut-chart-config="speedTestContainerCtrl.chartConfig"></unifi-speed-test-donut-chart><div class="unifiSpeedTestContainer__ugwLimitInfoBox appInfoBox appInfoBox--warning appInfoBox--dark appInfoBox--cozy horizontalRhythm--comfy horizontalRhythmLeft--comfy verticalRhythmTop--cozy noBorder" ng-if="speedTestContainerCtrl.ugwLimitShow &amp;&amp; speedTestContainerCtrl.ugwLimit === \'infoBox\'"><div class="appInfoBox__icon icon ubnt-icon--speedometer"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SPEED_TEST_WARNING_UGW_LIMIT" translate-values="speedTestContainerCtrl.getUgwLimitData()"></p></div></div></div><unifi-speed-test-line-chart ng-if="!speedTestContainerCtrl.hideLineChart" unifi-speed-test-line-chart-series="speedTestContainerCtrl.chartSeries"></unifi-speed-test-line-chart></div>'}},{"pug-runtime":23}],532:[function(t,e,i){"use strict";function n(t,e,i,n){this.binaryPrefix=t,this.mergeDefaults=e,this.SCALE_MAX=i.DONUT_CHART.SCALE_MAX,this.SCALE_SPACE=i.DONUT_CHART.SCALE_SPACE,this.STATUS=n,this.donutChartConfig=this.mergeDefaults(Object.create(this.chartConfig||{}),{dataProperty:"value",donutThickness:6,type:"solid",transitionDuration:10,startAngle:this.SCALE_SPACE/2-180,endAngle:180-this.SCALE_SPACE/2,radius:49,tickWidth:1,externalRingThickness:0,numOfTicks:100,quantifyData:!1,label:{main:"",secondary:""}}),this.resetDonutChartValues()}n.prototype.resetDonutChartValues=function(){this.download=0,this.upload=0,this.donutChartData=[{value:0},{value:1},{value:this.SCALE_SPACE/360},{value:1},{value:0}]},n.prototype.updateDonutChart=function(t){this.download=t.valueDownload||0,this.upload=t.valueUpload||0,this.downloadStatus=t.statusDownload,this.uploadStatus=t.statusUpload;var e=this.rescale(this.download),i=this.rescale(this.upload),n=this.rescale(this.SCALE_MAX),o=this.SCALE_SPACE/360*2*n;this.donutChartData=[{value:i},{value:n-i},{value:o},{value:n-e},{value:e}]},n.prototype.rescale=function(t){return t=Math.min(t,this.SCALE_MAX),Math.log1p(t/10)},n.prototype.getFormattedDownload=function(){return Number(this.download).toFixed(1)},n.prototype.getFormattedUpload=function(){return Number(this.upload).toFixed(1)},n.prototype.isDownloadInProgress=function(){return this.downloadStatus===this.STATUS.IN_PROGRESS},n.prototype.isUploadInProgress=function(){return this.uploadStatus===this.STATUS.IN_PROGRESS},n.$inject=["binaryPrefix","mergeDefaults","SPEED_TEST_SETTINGS","SPEED_TEST_STATUSES"],angular.module("app-unifi-manage").controller("SpeedTestDonutChartController",n)},{}],533:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSpeedTestDonutChart",[function(){return{scope:{series:"=unifiSpeedTestDonutChartSeries",chartConfig:"=unifiSpeedTestDonutChartConfig"},bindToController:!0,controller:"SpeedTestDonutChartController",controllerAs:"speedTestDonutChartControllerCtrl",template:t("./speedTestDonutChart.pug")(),replace:!0,link:function(t,e,i,n){t.$watchGroup(["speedTestDonutChartControllerCtrl.series.valueDownload","speedTestDonutChartControllerCtrl.series.valueUpload"],function(){n.updateDonutChart(n.series)})}}}])},{"./speedTestDonutChart.pug":534}],534:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiSpeedTestDonutChart"><unifi-donut-chart unifi-donut-chart-config="speedTestDonutChartControllerCtrl.donutChartConfig" unifi-donut-chart-data="speedTestDonutChartControllerCtrl.donutChartData"></unifi-donut-chart><div class="unifiSpeedTestDonutChartLegendBox"><div class="unifiSpeedTestDonutChartLegend"><div class="unifiSpeedTestDonutChartLegend__top unifiSpeedTestDonutChartLegend__row unifiSpeedTestDonutChartLegend__row--label">{{\'SPEED_TEST_TOOLTIP_SPEED_LABEL\' | translate}}</div><div class="unifiSpeedTestDonutChartLegend__top unifiSpeedTestDonutChartLegend__row unifiSpeedTestDonutChartLegend__row--upload"><div class="unifiSpeedTestDonutChartArrow-up" ng-class="{\'unifiSpeedTestDonutChartArrow__inProgress\': speedTestDonutChartControllerCtrl.isUploadInProgress()}"></div>{{speedTestDonutChartControllerCtrl.getFormattedUpload()}}</div><div class="unifiSpeedTestDonutChartLegend__bottom unifiSpeedTestDonutChartLegend__row unifiSpeedTestDonutChartLegend__row--download"><div class="unifiSpeedTestDonutChartArrow-down" ng-class="{\'unifiSpeedTestDonutChartArrow__inProgress\': speedTestDonutChartControllerCtrl.isDownloadInProgress()}"></div>{{speedTestDonutChartControllerCtrl.getFormattedDownload()}}</div><div class="unifiSpeedTestDonutChartLegend__bottom unifiSpeedTestDonutChartLegend__row unifiSpeedTestDonutChartLegend__row--unit">{{\'SPEED_TEST_TOOLTIP_SPEED_UNIT\' | translate}}</div><unifi-speed-test-result unifi-speed-test-result-label="\'SPEED_TEST_TOOLTIP_PING_LABEL\'"></unifi-speed-test-result></div></div></div>'}},{"pug-runtime":23}],535:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a,s){var l;a(this),this.account=t,this.DataConverter=e,this.speedTestReports=n,this.chartUtils=o,this.dateUtils=r,this.$translate=s,this.commonChartConfig={dataMarkEvent:"SPEED_TEST_HISTORY_GRAPH_DATA_MARK_EVENT",margin:{left:45,top:20,bottom:25,right:40},xProperty:"time"},this.commonChartConfig.xAxisFormat=function(t){return this.xAxisFormat(this.commonChartConfig.xAxisTickResolution,t)}.bind(this),this.commonChartConfig.left={interpolate:"curveMonotoneX",continuous:!1,type:"plot",yAxisFormat:function(t){var e=Math.floor(t).toFixed(0),i=e!==l?e:"";return l=e,i}},this.speedConfig=i.deepInherit(this.commonChartConfig),this.speedConfig.lockYAxises=!0,this.speedConfig.left.yAxisLabel=this.$translate.instant("SPEED_TEST_Y_AXIS_LABEL"),this.speedConfig.left.yProperty=["upload"],this.speedConfig.right={interpolate:"curveMonotoneX",continuous:!1,yProperty:["download"],type:"plot",yAxisFormat:function(){return""}},this.latencyConfig=i.deepInherit(this.commonChartConfig),this.latencyConfig.left.yAxisLabel=this.$translate.instant("SPEED_TEST_LATENCY_AXIS_LABEL"),this.latencyConfig.left.yProperty=["latency"],this.dataConverter=(new this.DataConverter).sortedBy("time").withMap({download:"xput_download",upload:"xput_upload",latency:"latency",time:"time"},!1),this.collectData()}n.prototype.isNumber=angular.isNumber,n.prototype.addEventHandlers=function(){this.listener=this.speedTestReports.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),this.account.repository.model.on("change",this.collectData,this)},n.prototype.removeEventHandlers=function(){this.listener.stopListening(),this.account.repository.model.off("change",this.collectData,this)},n.prototype.collectData=function(){this.data=this.dataConverter.process(this.speedTestReports.repository.collection.toJSON()),this.data=this.chartUtils.preventContinuousPlot(this.data,this.speedTestReports.getGranularity().grain,"time"),this.updateConfig()},n.prototype.updateConfig=function(){var t=this.speedTestReports.getStart(),e=this.speedTestReports.getEnd();this.commonChartConfig.xScaleDomain=[t,e],this.commonChartConfig.xAxisTickResolution=this.getTickResolution(t,e),this.commonChartConfig.shadedBackgroundFilter=this.getBackgroundShader(t,e);var i=Math.max.apply(Math,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(this.data.map(function(t){return t.latency||0})));this.commonChartConfig.margin.left=Math.max(45,25+9*i.toString().length)},n.$inject=["account","DataConverter","objectUtils","speedTestReports","chartUtils","dateUtils","timeBasedGraphControllerMixin","$translate"],angular.module("app-unifi-manage").controller("SpeedTestHistoryController",n)},{}],536:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSpeedTestHistory",[function(){return{controller:"SpeedTestHistoryController",controllerAs:"speedTestHistoryCtrl",template:t("./speedTestHistory.pug")(),replace:!0,bindToController:!0,scope:{},link:function(t,e,i,n){n.addEventHandlers(),t.$on(n.commonChartConfig.dataMarkEvent,function(t,e){n.markItem(e)}),t.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./speedTestHistory.pug":537}],537:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiSpeedTestHistory"><div class="appSubHeading appSubHeading--standalone">{{::speedTestHistoryCtrl.port.get(\'name\')}}</div><unifi-line-chart-with-tooltip class="unifiSpeedTestHistoryGraph unifiSpeedTestHistoryGraph--latency" unifi-line-chart-with-tooltip-config="speedTestHistoryCtrl.latencyConfig" unifi-line-chart-with-tooltip-data="speedTestHistoryCtrl.data"><div class="unifiChartTooltipHeader verticalRhythmQuarter">{{speedTestHistoryCtrl.focusedData.time | moment: \'format\': \'datetime\': speedTestHistoryCtrl.dateUtils.getPreferredTimezone()}}</div><div class="unifiChartTooltipBody"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder" ng-if="!speedTestHistoryCtrl.isNumber(speedTestHistoryCtrl.focusedData.latency)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">{{\'SPEED_TEST_NO_DATA_AVAILABLE\' | translate}}</p></div></div></div><div class="verticalRhythmQuarter" ng-if="speedTestHistoryCtrl.isNumber(speedTestHistoryCtrl.focusedData.latency)"><div class="unifiChartTooltipBody__title">{{\'SPEED_TEST_LATENCY\' | translate}}</div></div><div class="verticalRhythm" ng-if="speedTestHistoryCtrl.isNumber(speedTestHistoryCtrl.focusedData.latency)"><div class="unifiChartTooltipBody__number latency"><strong>{{speedTestHistoryCtrl.focusedData.latency}}</strong>{{\'COMMON_LATENCY_UNIT\' | translate}}</div></div></div></unifi-line-chart-with-tooltip><unifi-line-chart-with-tooltip class="unifiSpeedTestHistoryGraph unifiSpeedTestHistoryGraph--speed" unifi-line-chart-with-tooltip-config="speedTestHistoryCtrl.speedConfig" unifi-line-chart-with-tooltip-data="speedTestHistoryCtrl.data"><div class="unifiChartTooltipHeader verticalRhythmQuarter">{{speedTestHistoryCtrl.focusedData.time | moment: \'format\': \'datetime\': speedTestHistoryCtrl.dateUtils.getPreferredTimezone()}}</div><div class="unifiChartTooltipBody"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder" ng-if="!speedTestHistoryCtrl.isNumber(speedTestHistoryCtrl.focusedData.upload) &amp;&amp; !speedTestHistoryCtrl.isNumber(speedTestHistoryCtrl.focusedData.download)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">{{\'SPEED_TEST_NO_DATA_AVAILABLE\' | translate}}</p></div></div></div><div class="verticalRhythmQuarter" ng-if="speedTestHistoryCtrl.isNumber(speedTestHistoryCtrl.focusedData.download)"><div class="unifiChartTooltipBody__title">{{\'SPEED_TEST_DOWNLOAD\' | translate}}</div></div><div class="verticalRhythmQuarter" ng-if="speedTestHistoryCtrl.isNumber(speedTestHistoryCtrl.focusedData.download)"><div class="unifiChartTooltipBody__number down"><strong>{{speedTestHistoryCtrl.focusedData.download | number:2}}</strong>{{\'SPEED_TEST_DOWNLOAD_UNIT\' | translate}}</div></div><div class="verticalRhythmQuarter" ng-if="speedTestHistoryCtrl.isNumber(speedTestHistoryCtrl.focusedData.upload)"><div class="unifiChartTooltipBody__title">{{\'SPEED_TEST_UPLOAD\' | translate}}</div></div><div class="verticalRhythmQuarter" ng-if="speedTestHistoryCtrl.isNumber(speedTestHistoryCtrl.focusedData.upload)"><div class="unifiChartTooltipBody__number up"><strong>{{speedTestHistoryCtrl.focusedData.upload | number:2}}</strong>{{\'SPEED_TEST_DOWNLOAD_UNIT\' | translate}}</div></div></div></unifi-line-chart-with-tooltip></div>'}},{"pug-runtime":23}],538:[function(t,e,i){"use strict";function n(t,e,i){this.objectUtils=e,this.CHART_SETTINGS=i.LINE_CHART,this.TICKS_ON_SCALE=i.LINE_CHART.TICKS_ON_SCALE,this.TICKS_FACTOR=i.LINE_CHART.TICKS_FACTOR,this.columnChartConfig={valueProperties:["valueDownload","valueUpload"],range:1},this.resetLineChartValues()}n.prototype.resetLineChartValues=function(){this.lineChartData=Array(this.TICKS_ON_SCALE)},n.prototype.updateChartRange=function(t){this.columnChartConfig.range=Math.max(this.columnChartConfig.range,t.valueDownload||0,t.valueUpload||0)},n.prototype.reduceArray=function(t,e){for(var i=0;t.length;){var n=t.splice(0,this.TICKS_FACTOR),o=this.objectUtils.appendAll(n);o.index=i++,o.value/=n.length,o.valueDownload/=n.length,o.valueUpload/=n.length;var r=e[o.index]||o;r.valueDownload=o.valueDownload||r.valueDownload||void 0,r.valueUpload=o.valueUpload||r.valueUpload||void 0,e[r.index]=r,this.updateChartRange(r)}},n.prototype.updateLineChart=function(t){t&&(t.seriesDownload&&t.seriesDownload.length||t.seriesUpload&&t.seriesUpload.length)?(t.seriesDownload.length&&t.seriesDownload.length%this.TICKS_FACTOR==0&&this.reduceArray(angular.copy(t.seriesDownload),this.lineChartData),t.seriesUpload.length&&t.seriesUpload.length%this.TICKS_FACTOR==0&&this.reduceArray(angular.copy(t.seriesUpload),this.lineChartData),this.lineChartData.length=this.TICKS_ON_SCALE):this.resetLineChartValues()},n.$inject=["domHelper","objectUtils","SPEED_TEST_SETTINGS"],angular.module("app-unifi-manage").controller("SpeedTestLineChartController",n)},{}],539:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSpeedTestLineChart",[function(){return{controller:"SpeedTestLineChartController",controllerAs:"speedTestLineChartCtrl",template:t("./speedTestLineChart.pug")(),scope:{series:"=unifiSpeedTestLineChartSeries"},replace:!0,link:function(t,e,i,n){t.$watchGroup(["series.seriesDownload.length","series.seriesUpload.length"],function(){n.updateLineChart(t.series)})}}}])},{"./speedTestLineChart.pug":540}],540:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiSpeedTestLineChart"><unifi-column-chart class="positionRelative" style="height: 60px; width: 394px;" unifi-column-chart-config="speedTestLineChartCtrl.columnChartConfig" unifi-column-chart-data="speedTestLineChartCtrl.lineChartData"></unifi-column-chart><div class="unifiSpeedTestLineChartOverlay"></div></div>'}},{"pug-runtime":23}],541:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("SpeedTestModuleController",["gatewayUtils","BaseModuleController","resolveRepositoryGroupControllerMixin","speedTest",function(t,e,i,o){return new(function(r){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t.isLoading=!0,t.repositories=["devices","siteHealth"],t.chartConfig={radius:39,externalRingOffset:.5,donutThickness:7,externalRingThickness:6},i(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,e),n(a,[{key:"init",value:function(){var t=this;(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"init",this).call(this).then(function(){t.initialResults=o.getLastStatus()})}},{key:"destroy",value:function(){this.unregister()}},{key:"isAvailable",value:function(){return t.hasSiteGateway()}}]),a}())}])},{}],542:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSpeedTestModule",["ModuleDirective","APP_EVENTS",function(e,i){var n=new e("speedTest",t("./speedTestModule.pug")());return n.addMixin({init:function(t){t.startTest=function(){t.$broadcast(i.SPEED_TEST_START)}}}),n}])},{"./speedTestModule.pug":543}],543:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="module module--speedTest"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle">{{speedTestModuleCtrl.definition.get(\'translationKey\') | translate}}</div><div class="moduleHeaderActions" ng-if="speedTestModuleCtrl.isAvailable()"><button class="appMainButton appMainButton--tertiary appMainButton--iconOnly appMainButton--comfy noPadding" type="button" title="{{\'DASHBOARD_MODULE_SPEED_TEST_BUTTON_RUN_TEST\' | translate}}" ng-click="startTest()" busy-toggle="speedTestModuleCtrl.inProgress" busy-toggle-spinner-classes="[\'appSpinner appSpinner--dark appSpinner--centered appSpinner--small\']"><div class="icon ubnt-icon--play-circle"></div></button><button class="appMainButton appMainButton--tertiary appMainButton--iconOnly appMainButton--comfy noPadding horizontalRhythmLeft--smash" type="button" title="{{\'DASHBOARD_MODULE_SPEED_TEST_BUTTON_FULL_SCREEN\' | translate}}" frame-show="speedTest" ng-click="startTest()"><div class="icon ubnt-icon--popout"></div></button></div></div><unifi-loading-module unifi-loading-module-loader="speedTestModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="speedTestModuleCtrl.isLoading" unifi-loading-module-failed="speedTestModuleCtrl.failedToLoad" unifi-loading-module-retry="speedTestModuleCtrl.retry()" unifi-loading-module-layout="speedTestModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !speedTestModuleCtrl.isLoading,        \'animated fadeOut\': speedTestModuleCtrl.isLoading      }"><div class="unifiSpeedTestContainer--small" ng-if="!speedTestModuleCtrl.isLoading &amp;&amp; speedTestModuleCtrl.isAvailable()"'+(i="unifi-speed-test-container",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' unifi-speed-test-container-chart-config="speedTestModuleCtrl.chartConfig" unifi-speed-test-container-in-progress="speedTestModuleCtrl.inProgress" unifi-speed-test-container-initial-results="speedTestModuleCtrl.initialResults" unifi-speed-test-container-hide-line-chart="true" unifi-speed-test-container-ugw-limit="\'tooltip\'"></div><unifi-unavailable-module ng-if="!speedTestModuleCtrl.isLoading &amp;&amp; !speedTestModuleCtrl.isAvailable()" unifi-unavailable-module-icon="\'ubnt-icon--shield\'" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_SPEED_TEST_UNAVAILABLE\'"></unifi-unavailable-module></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],544:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"speed-test",translationKey:"DASHBOARD_MODULE_DEFINITIONS_SPEED_TEST",directive:"unifi-speed-test-module",preview:"images/dashboard/speed-test.png",layout:"single"}])}])},{}],545:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSpeedTestResult",["speedTest","dateUtils","SPEED_TEST_STATUSES",function(e,i,n){return{scope:{label:"=unifiSpeedTestResultLabel"},template:t("./speedTestResult.pug")(),replace:!0,link:function(t){t.speedTest=e,t.dateUtils=i,t.isInProgress=function(){return e.getResult().status===n.IN_PROGRESS||e.isTestInProgress()},t.isCompleted=function(){return e.getResult().status===n.IS_COMPLETED}}}}])},{"./speedTestResult.pug":546}],546:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiSpeedTestResult"><div class="unifiSpeedTestResult__label" translate="{{::label}}"></div><div class="unifiSpeedTestResult__data"><div class="unifiSpeedTestResult__value" ng-class="{\'unifiSpeedTestResult__value--inProgress\': isInProgress() &amp;&amp; !isCompleted()}">{{speedTest.getResult().value}}</div><div class="unifiSpeedTestResult__unit">{{speedTest.getResult().unit | translate}}</div></div><div class="unifiSpeedTestResult__lastRun" ng-show="speedTest.getResult().lastRun &amp;&amp; !isInProgress()">{{speedTest.getResult().lastRun * 1000 | moment: \'format\': \'datetime\': dateUtils.getPreferredTimezone()}}</div></div>'}},{"pug-runtime":23}],547:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("StateSwitcherController",["$state","toggleDropdownControllerMixin",function(t,e){return new(function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e(this)}return n(i,[{key:"$onInit",value:function(){this.currentState=this.states.find(function(e){return e.state===t.current.name})}},{key:"changeState",value:function(e){this.currentState.state!==e&&t.go(e)}}]),i}())}])},{}],548:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiStateSwitcher",{bindings:{states:"<unifiStateSwitcherStates"},controller:"StateSwitcherController",controllerAs:"stateSwitcherCtrl",template:t("./stateSwitcher.pug")()})},{"./stateSwitcher.pug":549}],549:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appMainButton appMainButton--filter appMainButton--cozy appMainButton--withDropdown" ng-class="{\'appMainButton--withBadge\': stateSwitcherCtrl.currentState.beta}" ng-click="stateSwitcherCtrl.toggleDropdown()" on-outside-element-click="stateSwitcherCtrl.closeDropdown()"><span class="horizontalRhythm--condensed" translate="{{::stateSwitcherCtrl.currentState.translationKey}}"></span><span class="appBadge appBadge--warning" ng-if="stateSwitcherCtrl.currentState.beta" translate="COMMON_BETA"></span><span class="button__icon button__icon--right icon ubnt-icon--pointer-down"></span><ul class="appDropdown appDropdown--left appDropdown--inButton" ng-class="{\'is-dropdown-visible\': stateSwitcherCtrl.isDropdownVisible}"><li class="appDropdown__item" ng-repeat="state in stateSwitcherCtrl.states" ng-if="!state.hidden" ng-click="stateSwitcherCtrl.changeState(state.state)"><span class="horizontalRhythm--condensed" translate="{{::state.translationKey}}"></span><span class="appBadge appBadge--warning" ng-if="state.beta" translate="COMMON_BETA"></span></li></ul></div>'}},{"pug-runtime":23}],550:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("StatsCurrentUsageController",["devices","statsUtils","STATS_DEFAULTS","$filter","$translate",function(t,e,i,o,r){return new(function(){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.chartData=[],this.clientsChartConfig={dataProperty:"clients",donutThickness:10,type:"solid",quantifyData:!1,label:{main:"",secondary:""}},this.trafficChartConfig={dataProperty:"traffic",type:"solid",donutThickness:10,quantifyData:!1,label:{main:"",secondary:o("uppercase")(r.instant("STATISTICS_CURRENT_USAGE_TRAFFIC"))}},this.legendConfig={labelProperty:"label"}}return n(a,[{key:"$onInit",value:function(){this.listener=t.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),this.collectData()}},{key:"$onDestroy",value:function(){this.listener.stopListening()}},{key:"collectData",value:function(){var t=this;this.numberOfClients=0,this.totalTraffic=0;var n=[];e.getMostActiveAps(i.MAX_DONUT_ITEMS).forEach(function(e){t.numberOfClients+=e.get("num_sta"),t.totalTraffic+=e.get("bytes"),n.push({clients:e.get("num_sta"),traffic:e.get("bytes"),label:e.getDisplayName()})}),this.chartData=n,this.clientsChartConfig.label.main=this.numberOfClients,this.clientsChartConfig.label.secondary=o("uppercase")(r.instant("STATISTICS_CURRENT_USAGE_DONUT_LABEL",{count:this.numberOfClients},"messageformat")),this.trafficChartConfig.label.main=o("bytes")(this.totalTraffic)}}]),a}())}])},{}],551:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiStatsCurrentUsage",{controller:"StatsCurrentUsageController",controllerAs:"statsCurrentUsageCtrl",template:t("./statsCurrentUsage.pug")()})},{"./statsCurrentUsage.pug":552}],552:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div><div class="appSubHeading appSubHeading--standalone" translate="STATISTICS_CURRENT_USAGE_HEADING"></div><div class="unifiStatisticsClientsGraph" ng-if="statsCurrentUsageCtrl.chartData.length"><unifi-donut-chart-with-tooltip unifi-donut-chart-with-tooltip-config="statsCurrentUsageCtrl.clientsChartConfig" unifi-donut-chart-with-tooltip-data="statsCurrentUsageCtrl.chartData"><div class="ubntTooltip noWrap noPointerEvents"'+n("unifi-position-absolutely",!0,!0,!0)+' ng-if="tooltipVisible" ng-class="cssTooltipPosition"><div class="type-ubnt-title mb-1">{{::focusedData.label}}</div><span translate="STATISTICS_CURRENT_USAGE_COUNT" translate-values="{count: focusedData.clients}" translate-interpolation="messageformat"></span></div></unifi-donut-chart-with-tooltip><unifi-donut-chart-with-tooltip unifi-donut-chart-with-tooltip-config="statsCurrentUsageCtrl.trafficChartConfig" unifi-donut-chart-with-tooltip-data="statsCurrentUsageCtrl.chartData"><div class="ubntTooltip noWrap"'+n("unifi-position-absolutely",!0,!0,!0)+' ng-if="tooltipVisible" ng-class="cssTooltipPosition"><div class="type-ubnt-title mb-1">{{::focusedData.label}}</div><span>{{::focusedData.traffic | bytes}}</span></div></unifi-donut-chart-with-tooltip><unifi-chart-legend class="unifiChartLegend--invertedIcons unifiStatisticsClientsLegend" unifi-chart-legend-config="statsCurrentUsageCtrl.legendConfig" unifi-chart-legend-data="statsCurrentUsageCtrl.chartData"></unifi-chart-legend></div><div class="unifiStatisticsClients__noData" ng-if="!statsCurrentUsageCtrl.chartData.length"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--centered appInfoBox--solid"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="STATISTICS_NO_DATA_AVAILABLE"></p></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],553:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("StatsQuickLookController",["clients","devices","deviceStateUtils",function(t,e,i){return new(function(){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o)}return n(o,[{key:"$onInit",value:function(){this.clientsListener=t.repository.collection.onEvent("update",this.onClientsUpdate.bind(this),{leading:!1}),this.devicesListener=e.repository.collection.onEvent("update",this.getMostActiveAP.bind(this),{leading:!1}),this.getMostActiveAP(),this.onClientsUpdate()}},{key:"$onDestroy",value:function(){this.devicesListener.stopListening(),this.clientsListener.stopListening()}},{key:"onClientsUpdate",value:function(){this.getMostActiveClient(),this.getAllTimeTopClient()}},{key:"getMostActiveAP",value:function(){this.mostActiveAP=e.repository.collection.filter(function(t){return t.isAp()&&i.isDeviceConnected(t)}).reduce(function(t,e){return(t&&t.get("bytes")||0)>(e.get("bytes")||0)?t:e},void 0)}},{key:"getMostActiveClient",value:function(){this.mostActiveClient=t.repository.collection.max(function(t){return t.get("tx_bytes")+t.get("rx_bytes")}),this.mostActiveClient===Number.NEGATIVE_INFINITY&&(this.mostActiveClient=void 0)}},{key:"getAllTimeTopClient",value:function(){this.topClient=t.repository.collection.max(function(t){return t.get("uptime")}),this.topClient===Number.NEGATIVE_INFINITY&&(this.topClient=void 0)}},{key:"isBytesDataAvailable",value:function(t){return void 0!==t.get("tx_bytes")&&void 0!==t.get("rx_bytes")}}]),o}())}])},{}],554:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiStatsQuickLook",{controller:"StatsQuickLookController",controllerAs:"statsQuickLookCtrl",template:t("./statsQuickLook.pug")()})},{"./statsQuickLook.pug":555}],555:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiStatisticsQuickLook"><div class="appSubHeading appSubHeading--standalone" translate="STATISTICS_QUICK_LOOK_HEADING"></div><div class="unifiStatisticsQuickLook__subHeading unifiStatisticsQuickLook__subHeading--standalone" translate="STATISTICS_QUICK_LOOK_MOST_ACTIVE_AP"></div><div class="appContainer appContainer--centered"><div class="appRow appRow--comfy verticalRhythmTop--cozy" ng-if="statsQuickLookCtrl.mostActiveAP"><div class="col--xs6 col--smash"><a unifi-open-panel="statsQuickLookCtrl.mostActiveAP" unifi-open-panel-active-tab="\'details\'">{{statsQuickLookCtrl.mostActiveAP.getDisplayName()}}</a></div><div class="col--xs6 noWrap" ng-if="!statsQuickLookCtrl.isBytesDataAvailable(statsQuickLookCtrl.mostActiveAP)"><div class="alignCenter" translate="STATISTICS_NO_DATA_AVAILABLE"></div></div><div class="col--xs6 noWrap col--smash" ng-if="statsQuickLookCtrl.isBytesDataAvailable(statsQuickLookCtrl.mostActiveAP)"><div class="col--xs6 noWrap iconText appIconText"><span class="iconText__icon icon ubnt-icon--arrow-down-4 unifiDownload"></span><span class="iconText__text">{{statsQuickLookCtrl.mostActiveAP.get(\'tx_bytes\') | bytes}}</span></div><div class="col--xs6 noWrap iconText appIconText"><span class="iconText__icon icon ubnt-icon--arrow-up-4 unifiUpload"></span><span class="iconText__text">{{statsQuickLookCtrl.mostActiveAP.get(\'rx_bytes\') | bytes}}</span></div></div></div><div class="appRow appRow--comfy verticalRhythmTop--cozy" ng-if="!statsQuickLookCtrl.mostActiveAP"><div class="col--xs12 col--smash"><div class="alignCenter" translate="STATISTICS_NO_DATA_AVAILABLE"></div></div></div></div><div class="unifiStatisticsQuickLook__subHeading unifiStatisticsQuickLook__subHeading--standalone" translate="STATISTICS_QUICK_LOOK_MOST_ACTIVE_CLIENT"></div><div class="appContainer appContainer--centered"><div class="appRow appRow--comfy verticalRhythmTop--cozy" ng-if="statsQuickLookCtrl.mostActiveClient"><div class="col--xs6 col--smash"><a unifi-open-panel="statsQuickLookCtrl.mostActiveClient" unifi-open-panel-active-tab="\'details\'">{{statsQuickLookCtrl.mostActiveClient.getDisplayName()}}</a></div><div class="col--xs6 noWrap" ng-if="!statsQuickLookCtrl.isBytesDataAvailable(statsQuickLookCtrl.mostActiveClient)"><div class="alignCenter" translate="STATISTICS_NO_DATA_AVAILABLE"></div></div><div class="col--xs6 noWrap col--smash" ng-if="statsQuickLookCtrl.isBytesDataAvailable(statsQuickLookCtrl.mostActiveClient)"><div class="col--xs6 noWrap iconText appIconText"><span class="iconText__icon icon ubnt-icon--arrow-down-4 unifiDownload"></span><span class="iconText__text">{{statsQuickLookCtrl.mostActiveClient.get(\'tx_bytes\') | bytes}}</span></div><div class="col--xs6 noWrap iconText appIconText"><span class="iconText__icon icon ubnt-icon--arrow-up-4 unifiUpload"></span><span class="iconText__text">{{statsQuickLookCtrl.mostActiveClient.get(\'rx_bytes\') | bytes}}</span></div></div></div><div class="appRow appRow--comfy verticalRhythmTop--cozy" ng-if="!statsQuickLookCtrl.mostActiveClient"><div class="col--xs12 col--smash"><div class="alignCenter" translate="STATISTICS_NO_DATA_AVAILABLE"></div></div></div></div><div class="unifiStatisticsQuickLook__subHeading unifiStatisticsQuickLook__subHeading--standalone" translate="STATISTICS_QUICK_LOOK_TOP_CLIENT"></div><div class="appContainer appContainer--centered"><div class="appRow appRow--comfy verticalRhythmTop--cozy" ng-if="statsQuickLookCtrl.topClient"><div class="col--xs6 col--smash"><a unifi-open-panel="statsQuickLookCtrl.topClient" unifi-open-panel-active-tab="\'details\'">{{statsQuickLookCtrl.topClient.getDisplayName()}}</a><br><div class="verticalRhythmTop--cozy">{{statsQuickLookCtrl.topClient.get(\'uptime\') | duration: \'seconds\': \'d[d] h[h] m[m]\'}}</div></div><div class="col--xs6 noWrap" ng-if="!statsQuickLookCtrl.isBytesDataAvailable(statsQuickLookCtrl.topClient)"><div class="alignCenter" translate="STATISTICS_NO_DATA_AVAILABLE"></div></div><div class="col--xs6 noWrap col--smash" ng-if="statsQuickLookCtrl.isBytesDataAvailable(statsQuickLookCtrl.topClient)"><div class="col--xs6 noWrap iconText appIconText"><span class="iconText__icon icon ubnt-icon--arrow-down-4 unifiDownload"></span><span class="iconText__text">{{statsQuickLookCtrl.topClient.get(\'tx_bytes\') | bytes}}</span></div><div class="col--xs6 noWrap iconText appIconText"><span class="iconText__icon icon ubnt-icon--arrow-up-4 unifiUpload"></span><span class="iconText__text">{{statsQuickLookCtrl.topClient.get(\'rx_bytes\') | bytes}}</span></div></div></div><div class="appRow appRow--comfy verticalRhythmTop--cozy" ng-if="!statsQuickLookCtrl.topClient"><div class="col--xs12 col--smash"><div class="alignCenter" translate="STATISTICS_NO_DATA_AVAILABLE"></div></div></div></div></div>'}},{"pug-runtime":23}],556:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("StatsRecentActivitiesController",["$scope","$state","dateUtils","devices","statisticsParams","statsFeatures","statsUtils","STATS_DEFAULTS",function(t,e,i,o,r,a,s,l){var c="STATISTICS_RECENT_ACTIVITIES_REFRESH_EVENT";return new(function(){function u(){var t=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.devices=o,this.statsFeatures=a,this.dateUtils=i,this.REFRESH_EVENT=c,this.selectedDevices=[],this.setGranularity=function(e){t.granularity=e,t.updateState(!1)},this.granularity=r.getGranularity(),this.start=r.getStart(),this.end=r.getEnd(),this.preselectAPs()}return n(u,[{key:"preselectAPs",value:function(){this.selectedDevices=s.getMostActiveAps(l.MAX_DONUT_ITEMS).map(function(t){return t.get("mac")})}},{key:"addDevice",value:function(e){e&&!this.isDeviceSelected(e)&&this.selectedDevices.push(e.get("mac")),t.$broadcast(c)}},{key:"removeDevice",value:function(e){if(e){var i=this.selectedDevices.indexOf(e.get("mac"));-1!==i&&(this.selectedDevices.splice(i,1),t.$broadcast(c))}}},{key:"removeDeviceByIndex",value:function(e){this.selectedDevices.splice(e,1),t.$broadcast(c)}},{key:"isDeviceAvailable",value:function(t){return!this.isDeviceSelected(t)&&t.isAp()&&t.isAdopted()}},{key:"isDeviceSelected",value:function(t){return-1!==this.selectedDevices.indexOf(t.get("mac"))}},{key:"updateStateNoNotify",value:function(t,e){this.updateState(!1,t,e)}},{key:"updateState",value:function(i,n,o){var r={start:n||this.start,end:o||this.end,granularity:this.granularity.url};e.go(e.current.name,r,{notify:i}).then(function(){i||t.$emit("webrtcActiveDeviceRestore")})}}]),u}())}])},{}],557:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiStatsRecentActivities",[function(){return{controller:"StatsRecentActivitiesController",controllerAs:"statsRecentActivitiesCtrl",template:t("./statsRecentActivities.pug")(),replace:!0}}])},{"./statsRecentActivities.pug":558}],558:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiStatisticsRecentActivities"><div class="appSubHeading appSubHeading--standalone" translate="STATISTICS_RECENT_ACTIVITIES_HEADING"></div><form class="shelf verticalRhythmTop--condensed" autocomplete="off"><div class="inflexible"><div class="appInputGroup--cozy" style="width: 290px"><unifi-select-device-dropdown-list class="unifiSelectDeviceDropdownList--wide" unifi-select-device-dropdown-list-selected-model="statsRecentActivitiesCtrl._selectedModel" unifi-select-device-dropdown-list-is-required="true" unifi-select-device-dropdown-list-device-filter="statsRecentActivitiesCtrl.isDeviceAvailable(model)" unifi-select-device-dropdown-list-is-cozy="true" unifi-select-device-dropdown-list-on-select="statsRecentActivitiesCtrl.addDevice(model); statsRecentActivitiesCtrl._selectedModel = undefined" unifi-select-device-dropdown-list-no-clear="false" unifi-select-device-dropdown-list-refresh-event="statsRecentActivitiesCtrl.REFRESH_EVENT"></unifi-select-device-dropdown-list></div></div><div class="inflexible"><div class="appInputGroup--cozy"><unifi-granularity-selector class="horizontalRhythm--condensed horizontalRhythmLeft--condensed" unifi-granularity-selector-init-value="statsRecentActivitiesCtrl.granularity" unifi-granularity-selector-on-change="statsRecentActivitiesCtrl.setGranularity"></unifi-granularity-selector></div></div><div class="inflexible"><div class="appInputGroup--cozy"><unifi-date-range-selector class="horizontalRhythm--cozy noMarginBottom" unifi-date-range-selector-start="statsRecentActivitiesCtrl.start" unifi-date-range-selector-end="statsRecentActivitiesCtrl.end" unifi-date-range-selector-on-change="statsRecentActivitiesCtrl.updateStateNoNotify(start, end)" unifi-date-range-selector-position="\'bottomRight\'" unifi-date-range-selector-timezone="{{statsRecentActivitiesCtrl.dateUtils.getPreferredTimezone()}}" unifi-date-range-selector-with-list="true"></unifi-date-range-selector></div></div><div class="inflexible"><div class="appActionBarFilter noMarginTop"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter appMainButtonGroup--cozy"><li class="button appMainButton appMainButton--cozy" ng-click="statsRecentActivitiesCtrl.statsFeatures.setUseBps(true);" ng-class="{\'is-button-selected\': statsRecentActivitiesCtrl.statsFeatures.useBps()}" translate="COMMON_UNIT_BPS"></li><li class="button appMainButton appMainButton--cozy" ng-click="statsRecentActivitiesCtrl.statsFeatures.setUseBps(false);" ng-class="{\'is-button-selected\': !statsRecentActivitiesCtrl.statsFeatures.useBps()}" translate="COMMON_UNIT_BYTES"></li></ul></div></div></form><div class="stackCenter"><unifi-data-retention-warning class="verticalRhythmTop--cozy" unifi-data-retention-warning-start="statsRecentActivitiesCtrl.start" unifi-data-retention-warning-granularity="statsRecentActivitiesCtrl.granularity"></unifi-data-retention-warning></div><div class="unifiVerticalLegend verticalRhythmTop--cozy"><div class="unifiVerticalLegend__container"><div class="unifiVerticalLegend__item"><div class="iconText iconText--small appIconText"><span class="iconText__icon icon ubnt-icon--chart"></span><span class="iconText__text appType--micro" translate="STATISTICS_RECENT_ACTIVITIES_TRAFFIC"></span></div></div><div class="unifiVerticalLegend__item"><div class="iconText iconText--small appIconText"><span class="iconText__icon icon ubnt-icon--stats-dotted" style="transform: scaleY(0.75);"></span><span class="iconText__text appType--micro" translate="STATISTICS_RECENT_ACTIVITIES_CLIENTS"></span></div></div></div></div><div class="unifiStatisticsRecentActivitiesChartContainer verticalRhythm--comfy"><unifi-activity-graph class="unifiStatisticsRecentActivities__chart" unifi-activity-graph-mark-item="statsRecentActivitiesCtrl.focusedTime" unifi-activity-graph-granularity="statsRecentActivitiesCtrl.granularity" unifi-activity-graph-start="statsRecentActivitiesCtrl.start" unifi-activity-graph-end="statsRecentActivitiesCtrl.end"></unifi-activity-graph></div><div class="unifiStatisticsRecentActivitiesChartContainer verticalRhythm--comfy" ng-repeat="mac in statsRecentActivitiesCtrl.selectedDevices track by mac" ng-init="device = statsRecentActivitiesCtrl.devices.repository.collection.get(mac)"><div class="unifiStatisticsRecentActivitiesChartContainer__remove"><a class="icon ubnt-icon--x" ng-click="statsRecentActivitiesCtrl.removeDeviceByIndex($index)"></a></div><div class="appSubHeading"><a class="inlineBlock verticalAlign--top" unifi-open-panel="device" unifi-open-panel-active-tab="\'details\'"><span class="noWrap" unifi-device-status="device" unifi-device-status-is-cozy="true" unifi-device-status-with-icons="true" unifi-device-status-label="device.getDisplayName()"></span></a></div><unifi-activity-graph class="unifiStatisticsRecentActivities__chart" unifi-activity-graph-mark-item="statsRecentActivitiesCtrl.focusedTime" unifi-activity-graph-device="device" unifi-activity-graph-granularity="statsRecentActivitiesCtrl.granularity" unifi-activity-graph-start="statsRecentActivitiesCtrl.start" unifi-activity-graph-end="statsRecentActivitiesCtrl.end" ng-class="[        \'unifiStatisticsRecentActivities__chart\' + $index      ]"></unifi-activity-graph></div></div>'}},{"pug-runtime":23}],559:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("StatsWirelessClientsController",["clients","DataConverter","$filter","$translate","RADIO_TYPES","STATS_DEFAULTS",function(t,e,i,o,r,a){return new(function(){function s(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.clients=t,this.DataConverter=e,this.$filter=i,this.$translate=o,this.RADIO_TYPES=r,this.STATS_DEFAULTS=a,this.chartData=[],this.chartConfig={dataProperty:"count",type:"solid",donutThickness:10,label:{main:"",secondary:""}}}return n(s,[{key:"$onInit",value:function(){this.update(),this.collectData(),this.listener=t.repository.collection.onEvent("add remove change update",this.collectData.bind(this),{leading:!1})}},{key:"$onDestroy",value:function(){this.listener.stopListening()}},{key:"update",value:function(){switch(this.type){case a.WIRELESS_CLIENT_BREAKDOWN_TYPES.PER_ESSID:this.dataConverter=(new e).deduplicatedBy("label").sortedBy("count",!0).countTotal().withLimit(a.MAX_DONUT_ITEMS).withOtherDefaults({name:o.instant("STATISTICS_CLIENTS_PER_ESSID_OTHER")}),this.legendConfig={labelProperty:"label"};break;case a.WIRELESS_CLIENT_BREAKDOWN_TYPES.PER_RADIO:this.legendConfig={labelProperty:"label",valueProperty:"count"}}}},{key:"collectData",value:function(){switch(this.type){case a.WIRELESS_CLIENT_BREAKDOWN_TYPES.PER_ESSID:this.countClientsPerEssid();break;case a.WIRELESS_CLIENT_BREAKDOWN_TYPES.PER_RADIO:this.countClientsPerRadio()}}},{key:"countClientsPerEssid",value:function(){var e=t.repository.collection.filter(function(t){return t.get("essid")}).map(function(t){return{count:1,label:t.get("essid")}});this.data=this.dataConverter.apply(e).data,this.chartConfig.label.main=e.length,this.chartConfig.label.secondary=i("uppercase")(o.instant("STATISTICS_WIRELESS_CLIENTS_DONUT_LABEL",{count:this.chartConfig.label.main},"messageformat"))}},{key:"countClientsPerRadio",value:function(){this.data=[r.NG,r.NA].map(function(e){return{label:e.frequency,count:t.repository.collection.where({radio:e.type}).length}}),this.chartConfig.label.main=this.data[0].count+this.data[1].count,this.chartConfig.label.secondary=i("uppercase")(o.instant("STATISTICS_WIRELESS_CLIENTS_DONUT_LABEL",{count:this.chartConfig.label.main},"messageformat"))}}]),s}())}])},{}],560:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiStatsWirelessClients",{controller:"StatsWirelessClientsController",controllerAs:"statsWirelessClientsCtrl",template:t("./statsWirelessClients.pug")(),bindings:{type:"<unifiStatsWirelessClientsType"}})},{"./statsWirelessClients.pug":561}],561:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div><div class="appSubHeading appSubHeading--standalone truncate"><span translate="STATISTICS_WIRELESS_CLIENTS_HEADING"></span><span>&nbsp;(</span><span translate="{{::statsWirelessClientsCtrl.type === statsWirelessClientsCtrl.STATS_DEFAULTS.WIRELESS_CLIENT_BREAKDOWN_TYPES.PER_ESSID ? \'STATISTICS_WIRELESS_CLIENTS_PER_ESSID_HEADING\' : \'STATISTICS_WIRELESS_CLIENTS_PER_RADIO_HEADING\'}}"></span><span>)</span></div><div class="unifiStatisticsClientsGraph"><unifi-donut-chart-with-tooltip unifi-donut-chart-with-tooltip-config="statsWirelessClientsCtrl.chartConfig" unifi-donut-chart-with-tooltip-data="statsWirelessClientsCtrl.data"><div class="ubntTooltip noWrap noPointerEvents"'+(i="unifi-position-absolutely",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' ng-if="tooltipVisible" ng-class="cssTooltipPosition"><div class="type-ubnt-title mb-1">{{::focusedData.label}}</div><span translate="STATISTICS_CURRENT_USAGE_COUNT" translate-values="{count: focusedData.count}" translate-interpolation="messageformat"></span></div></unifi-donut-chart-with-tooltip><unifi-chart-legend class="unifiChartLegend--invertedIcons unifiStatisticsClientsLegend" unifi-chart-legend-config="statsWirelessClientsCtrl.legendConfig" unifi-chart-legend-data="statsWirelessClientsCtrl.data"></unifi-chart-legend></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],562:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("StatusMegaModuleController",["BaseModuleController","gatewayUtils","resolveRepositoryGroupControllerMixin","siteHealth","siteStatus","STATUS",function(t,e,i,r,a,s){return new(function(l){function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return t.isLoading=!0,t.gatewayUtils=e,t.siteHealth=r,t.siteStatus=a,t.repositories=[],t.lazyRepositories=["dashboardStats","devices","siteHealth"],i(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,t),n(c,[{key:"init",value:function(){o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"init",this).call(this),a.register()}},{key:"destroy",value:function(){o(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"destroy",this).call(this),a.unregister(),this.unregister()}},{key:"getHeadlineLevel",value:function(){switch(a.getGeneralStatus().status){case s.EXCELLENT:case s.GOOD:default:return"success";case s.UNKNOWN:return"none";case s.FAIR:return"warning";case s.POOR:case s.BAD:return"danger"}}},{key:"getGeneralStatus",value:function(){return a.getGeneralStatus()}}]),c}())}])},{}],563:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a,s,l){this.clients=t,this.devices=e,this.deviceStateUtils=i,this.gatewayUtils=n,this.inhibitor=o,this.siteHealth=r,this.siteStatus=a,this.utilizationUtils=s,this.STATUS=l}n.prototype.init=function(){this.clients.repository.collection.on("countersUpdate",this.updateClients,this),this.listeners={devices:this.devices.repository.collection.onUpdate(this.updateUsg.bind(this))}},n.prototype.destroy=function(){Object.keys(this.listeners).forEach(function(t){this.listeners[t].stopListening()}.bind(this)),this.clients.repository.collection.off("countersUpdate",this.updateClients,this)},n.prototype.getHeadlineLevel=function(){switch(this.siteStatus.getGeneralStatus().status){case this.STATUS.EXCELLENT:case this.STATUS.GOOD:default:return"success";case this.STATUS.UNKNOWN:return"none";case this.STATUS.FAIR:return"warning";case this.STATUS.POOR:case this.STATUS.BAD:return"danger"}},n.prototype.getGeneralStatus=function(){return this.siteStatus.getGeneralStatus()},n.prototype.updateUsg=function(){this.gateway=this.gatewayUtils.getSiteGateway(),this.gatewayUtilization=this.gateway?this.gateway.getNested("system-stats.cpu"):void 0},n.prototype.updateClients=function(){this.counts=this.clients.getClientCounts()},n.$inject=["clients","devices","deviceStateUtils","gatewayUtils","inhibitor","siteHealth","siteStatus","utilizationUtils","STATUS"],angular.module("app-unifi-manage").controller("StatusMegaModuleStickyController",n)},{}],564:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiStatusMegaModule",["ModuleDirective",function(e){return new e("statusMega",t("./statusMegaModule.pug")())}])},{"./statusMegaModule.pug":565}],565:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div><div class="moduleContainer moduleContainer--full" style="min-height: initial;"><div class="module module--flexRow"><div class="moduleContent moduleContent--flexible"><div class="unifiStatusMegaHeadline" ng-class="\'unifiStatusMegaHeadline--\' + statusMegaModuleCtrl.getHeadlineLevel()"><div class="unifiStatusMegaHeadline__status" translate="{{statusMegaModuleCtrl.getGeneralStatus().headline}}"></div><div class="unifiStatusMegaHeadline__userExperience ubntTooltipContainer ubntTooltipContainer--hoverable" ng-if="(\'enableWiFiExperience\' | featureFlagEnable) &amp;&amp; statusMegaModuleCtrl.siteStatus.getGeneralSatisfaction() &gt; 0">{{statusMegaModuleCtrl.siteStatus.getGeneralSatisfaction()}} %<div class="ubntTooltipContainer ubntTooltipContainer--hoverable"><div class="unifiDashboardTooltip__header"><div class="unweighted">{{\'DASHBOARD_MODULE_STATUS_MEGA_SATISFACTION_TOOLTIP_LABEL\' | translate:{percentage: statusMegaModuleCtrl.siteStatus.getGeneralSatisfaction()} }}</div></div><dl class="appDescriptionList appDescriptionList--inline" ng-if="statusMegaModuleCtrl.siteStatus.repository.model.getNested(\'wifi_score.retry_rate\') &gt; -1"><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_SATISFACTION_RETRY_RATE_LABEL"></dt><dd class="alignRight">{{statusMegaModuleCtrl.siteStatus.repository.model.getNested(\'wifi_score.retry_rate\')}} %</dd></div></dl><dl class="appDescriptionList appDescriptionList--inline" ng-if="statusMegaModuleCtrl.siteStatus.repository.model.getNested(\'wifi_score.signal\') &gt; -1"><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_SATISFACTION_RSSI_LABEL"></dt><dd class="alignRight">{{statusMegaModuleCtrl.siteStatus.repository.model.getNested(\'wifi_score.signal\')}} {{\'DEVICE_RADIO_TRANSMIT_POWER_DBM\' | translate}}</dd></div></dl></div></div></div><div class="unifiStatusMegaByline" ng-show="statusMegaModuleCtrl.getGeneralStatus().subtitle" translate="{{statusMegaModuleCtrl.getGeneralStatus().subtitle}}"></div></div></div></div><div class="moduleContainer moduleContainer--full" style="--tooltip-width: 200px;"><div class="module module--flexRow"><div class="moduleContainer moduleContainer--single unifiStatusMegaLoad unifiStatusMegaLoad--wan"><div class="module"><div class="moduleContent positionRelative"><div class="unifiStatusMegaSubHeading modularSubHeading row"><div class="col-6"><div class="ubntTooltipContainer ubntTooltipContainer--hoverable ubntTooltipContainer--sticky"><div class="modularSubHeading"><span translate="DASHBOARD_MODULE_DEFINITIONS_WAN_HISTOGRAM"></span><span class="appDisplaySpaceAfter">:</span><unifi-mega-load-status class="unifiStatusMegaSubHeadingStatus" unifi-mega-load-status-value="statusMegaModuleCtrl.siteStatus.getWanStatus()"></unifi-mega-load-status></div><div class="ubntTooltip ubntTooltip--bottomRight unifiDashboardTooltip"><div class="unifiDashboardTooltip__header"><div class="unweighted" translate="DASHBOARD_MODULE_STATUS_MEGA_ISP_TOOLTIP_LABEL"></div></div><dl class="appDescriptionList appDescriptionList--inline" ng-class="{\'unifiDashboardTooltip__section\': statusMegaModuleCtrl.gatewayUtils.hasSiteGateway()}"><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_INTERNET_TOOLTIP_UP"></dt><dd class="alignRight">{{statusMegaModuleCtrl.siteHealth.repository.collection.get(\'www\').get(\'tx_bytes-r\') | bps:{convertFromBytes:true} | orEmptyPlaceholder}}</dd></div><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_INTERNET_TOOLTIP_DOWN"></dt><dd class="alignRight">{{statusMegaModuleCtrl.siteHealth.repository.collection.get(\'www\').get(\'rx_bytes-r\') | bps:{convertFromBytes:true} | orEmptyPlaceholder}}</dd></div><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_INTERNET_TOOLTIP_LATENCY"></dt><dd class="alignRight">{{statusMegaModuleCtrl.siteHealth.repository.collection.get(\'www\').get(\'latency\') | milliseconds | orEmptyPlaceholder}}</dd></div><div class="appDescriptionListRow"><dt class="noWrap" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_INTERNET_TOOLTIP_UPTIME"></dt><dd class="alignRight">{{statusMegaModuleCtrl.siteHealth.repository.collection.get(\'www\').get(\'uptime\') | duration: \'seconds\': \'d[d] h[h] m[m]\' | orEmptyPlaceholder}}</dd></div></dl><div class="d-flex justify-center" ng-if="statusMegaModuleCtrl.gatewayUtils.hasSiteGateway()"><div class="ubntButton ubntButton--link" style="line-height: 11px;" frame-show="ispThroughput" translate="DASHBOARD_MODULE_STATUS_MEGA_ISP_VIEW_HISTORY"></div></div></div></div></div><div class="col-6 d-flex justify-end"><div class="ubntButton ubntButton--link" ng-if="statusMegaModuleCtrl.gatewayUtils.hasSiteGateway()" style="line-height: 11px;" frame-show="speedTest" translate="DASHBOARD_MODULE_STATUS_MEGA_SPEED_TEST_BUTTON"></div></div></div><unifi-load unifi-load-type="\'isp\'"></unifi-load></div></div></div><div class="moduleContainer moduleContainer--full"><div class="module"><div class="moduleContent"><div class="unifiStatusMegaSubHeading modularSubHeading noMarginBottom"><span translate="DASHBOARD_MODULE_DEFINITIONS_NETWORK"></span><span class="appDisplaySpaceAfter">:</span><unifi-mega-load-status class="unifiStatusMegaLoadStatus" unifi-mega-load-status-value="statusMegaModuleCtrl.siteStatus.getGeneralStatus().status"></unifi-mega-load-status><div class="moduleHeaderLegend"><div class="moduleHeaderLegendItem"><div class="statusBall appStatusBall appStatusBall--smash appStatusBall--positive"></div><div class="moduleHeaderLegendLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_GOOD"></div></div><div class="moduleHeaderLegendItem"><div class="statusBall appStatusBall appStatusBall--smash appStatusBall--warning"></div><div class="moduleHeaderLegendLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_FAIR"></div></div><div class="moduleHeaderLegendItem"><div class="statusBall appStatusBall appStatusBall--smash appStatusBall--danger"></div><div class="moduleHeaderLegendLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_POOR"></div></div></div></div><div class="unifiStatusMegaNetworkDiagram"'+(i="unifi-network-status-diagram",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'></div></div></div></div></div></div><div class="moduleContainer moduleContainer--full" style="min-height: initial;"><div class="module module--flexRow"><div class="moduleContainer moduleContainer--full"><div class="module"><div class="moduleContent moduleContent--flexible"><div class="module--channelDistribution"><unifi-channel-distribution></unifi-channel-distribution></div></div></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],566:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"mega|status",translationKey:"DASHBOARD_MODULE_DEFINITIONS_NETWORK_STATUS",directive:"unifi-status-mega-module",preview:"images/dashboard/placeholder.png",layout:"full",attrs:{isSticky:!0},isHidden:!0}])}])},{}],567:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiStatusMegaModuleSticky",[function(){return{scope:{module:"=?unifiStatusMegaModuleSticky",definition:"=?unifiStatusMegaModuleStickyDefinition",isLoading:"=?unifiStatusMegaModuleStickyIsLoading"},controller:"StatusMegaModuleStickyController",controllerAs:"statusMegaModuleStickyCtrl",template:t("./statusMegaModuleSticky.pug")(),link:function(t,e,i,n){t.$on("$destroy",n.destroy.bind(n)),n.init()}}}])},{"./statusMegaModuleSticky.pug":568}],568:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--statusMegaSticky is-sticky"><div class="moduleContent noHorizontalPadding"><div class="unifiStatusMegaStickyContainer"><div class="unifiStatusMegaStickyHeadline" ng-class="\'unifiStatusMegaStickyHeadline--\' + statusMegaModuleStickyCtrl.getHeadlineLevel()"><div class="unifiStatusMegaStickyHeadline__status" translate="{{statusMegaModuleStickyCtrl.getGeneralStatus().headline}}"></div><div class="unifiStatusMegaStickyHeadline__userExperience appTooltipContainer appTooltipContainer--hoverable" ng-if="(\'enableWiFiExperience\' | featureFlagEnable) &amp;&amp; statusMegaModuleStickyCtrl.siteStatus.getGeneralSatisfaction() &gt; 0">{{statusMegaModuleStickyCtrl.siteStatus.getGeneralSatisfaction()}} %<div class="appTooltip appTooltip--bottom appTooltip--narrow unifiDashboardTooltip"><div class="unifiDashboardTooltip__header"><div class="unweighted">{{\'DASHBOARD_MODULE_STATUS_MEGA_SATISFACTION_TOOLTIP_LABEL\' | translate:{percentage: statusMegaModuleStickyCtrl.siteStatus.getGeneralSatisfaction()} }}</div></div><dl class="appDescriptionList appDescriptionList--inline" ng-if="statusMegaModuleStickyCtrl.siteStatus.repository.model.getNested(\'wifi_score.retry_rate\') &gt; -1"><div class="appDescriptionListRow"><dt class="noWrap">{{\'DASHBOARD_MODULE_STATUS_MEGA_SATISFACTION_RETRY_RATE_LABEL\' | translate}}</dt><dd class="alignRight">{{statusMegaModuleStickyCtrl.siteStatus.repository.model.getNested(\'wifi_score.retry_rate\')}} %</dd></div></dl><dl class="appDescriptionList appDescriptionList--inline" ng-if="statusMegaModuleStickyCtrl.siteStatus.repository.model.getNested(\'wifi_score.signal\') &gt; -1"><div class="appDescriptionListRow"><dt class="noWrap">{{\'DASHBOARD_MODULE_STATUS_MEGA_SATISFACTION_RSSI_LABEL\' | translate}}</dt><dd class="alignRight">{{statusMegaModuleStickyCtrl.siteStatus.repository.model.getNested(\'wifi_score.signal\')}} {{\'DEVICE_RADIO_TRANSMIT_POWER_DBM\' | translate}}</dd></div></dl></div></div></div><div class="unifiStatusMegaStickyCountContainer"><div class="unifiStatusMegaStickyCount"><div class="appSubHeading appSubHeading--small unifiStatusMegaStickyCountLabel">{{statusMegaModuleStickyCtrl.gateway ? statusMegaModuleStickyCtrl.deviceStateUtils.getDeviceModelShort(statusMegaModuleStickyCtrl.gateway) : (\'DASHBOARD_MODULE_STATUS_MEGA_NO_GATEWAY\' | translate)}}</div><div class="unifiStatusMegaStickyCountValue unifiStatusMegaStickyCountValue--text" ng-class="\'unifiStatusMegaStickyCountValue--\' + statusMegaModuleStickyCtrl.utilizationUtils.getUtilizationLevel(\'usg\', \'cpu\', statusMegaModuleStickyCtrl.gatewayUtilization)" translate="DASHBOARD_MODULE_STATUS_MEGA_UTILIZATION" translate-values="{percent: statusMegaModuleStickyCtrl.gatewayUtilization ? statusMegaModuleStickyCtrl.gatewayUtilization + \'%\' : (\'COMMON_NOT_AVAILABLE\' | translate)}"></div></div><div class="unifiStatusMegaStickyCount"><div class="appSubHeading appSubHeading--small unifiStatusMegaStickyCountLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_SWITCHES"></div><div class="unifiStatusMegaStickyCountValue unifiStatusMegaStickyCountValue--number">{{statusMegaModuleStickyCtrl.siteHealth.repository.collection.get(\'lan\').get(\'num_sw\') || 0}}</div></div><div class="unifiStatusMegaStickyCount"><div class="appSubHeading appSubHeading--small unifiStatusMegaStickyCountLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_APS"></div><div class="unifiStatusMegaStickyCountValue unifiStatusMegaStickyCountValue--number">{{statusMegaModuleStickyCtrl.siteHealth.repository.collection.get(\'wlan\').get(\'num_ap\') || 0}}</div></div><div class="unifiStatusMegaStickyCount"><div class="appSubHeading appSubHeading--small unifiStatusMegaStickyCountLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_CLIENTS"></div><div class="unifiStatusMegaStickyCountValue unifiStatusMegaStickyCountValue--number">{{networkStatusDiagramCtrl.counts.wireless.sum.users || statusMegaModuleStickyCtrl.siteHealth.repository.collection.get(\'wlan\').get(\'num_user\') || 0}}</div></div><div class="unifiStatusMegaStickyCount"><div class="appSubHeading appSubHeading--small unifiStatusMegaStickyCountLabel" translate="DASHBOARD_MODULE_STATUS_MEGA_LABEL_GUESTS"></div><div class="unifiStatusMegaStickyCountValue unifiStatusMegaStickyCountValue--number">{{networkStatusDiagramCtrl.counts.wireless.sum.guests || statusMegaModuleStickyCtrl.siteHealth.repository.collection.get(\'wlan\').get(\'num_guest\') || 0}}</div></div></div></div></div></div>'}},{"pug-runtime":23}],569:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiStopEvent",[function(){return{restrict:"A",link:function(t,e,i){e.on(i.unifiStopEvent,function(t){t.stopImmediatePropagation()})}}}])},{}],570:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(){n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){this.reset(),this.model&&(this.isReady=this.model.get("ready"),this.isStreaming=this.model.get("streaming"))},o.prototype.reset=function(){this.isReady=null,this.isStreaming=null},o.prototype.getClassName=function(){var t=[];return this.isStreaming?t.push("ubnt-icon--audio-on"):t.push("ubnt-icon--audio-off"),this.isReady&&(this.isStreaming?t.push("success"):t.push("warning")),t.join(" ")},o.$inject=[],angular.module("app-unifi-manage").controller("StreamIconController",o)},{}],571:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiStreamIcon",[function(){return{scope:{stream:"=unifiStreamIcon"},controller:"StreamIconController",controllerAs:"streamIconCtrl",replace:!0,restrict:"A",template:t("./streamIcon.pug")(),link:function(t,e,i,n){t.$watch("stream",function(t){n.updateModel(t)}),t.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./streamIcon.pug":572}],572:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<span class="icon {{streamIconCtrl.getClassName()}}"></span>'}},{"pug-runtime":23}],573:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiStringMaxLength",[function(){return{restrict:"A",require:"ngModel",scope:{length:"<unifiStringMaxLength"},link:function(t,e,i,n){n.$parsers.push(function(e){var i=e+"",o=i.length<=t.length;return n.$setValidity("text",o),i})}}}])},{}],574:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiStringToIntegerInput",[function(){return{restrict:"A",require:"ngModel",link:function(t,e,i,n){n.$formatters.push(function(t){var e=t||0===t?parseInt(t,10):void 0,i=void 0===e||!isNaN(e);return n.$setValidity("number",i),e||t}),n.$parsers.push(function(t){var e=t+"",i=!0;return e.length&&((i=/^-?[0-9]*$/.test(e))||(e=void 0)),n.$setValidity("number",i),e})}}}])},{}],575:[function(t,e,i){"use strict";function n(){this.itemsLength=4}n.prototype.updateListLength=function(t){t&&(this.itemsLength=t),this.elements=new Array(this.itemsLength)},n.$inject=[],angular.module("app-unifi-manage").controller("SummaryLoadingModuleController",n)},{}],576:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSummaryLoadingModule",[function(){return{scope:{itemsLength:"=unifiSummaryLoadingModuleItemsLength"},bindToController:{failedToLoad:"=unifiSummaryLoadingModuleFailed",isLoading:"=unifiSummaryLoadingModuleIsLoading"},controller:"SummaryLoadingModuleController",controllerAs:"summaryLoadingModuleCtrl",template:t("./summaryLoadingModule.pug")(),replace:!0,link:function(t,e,i,n){t.$watch("itemsLength",function(t){n.updateListLength(t)})}}}])},{"./summaryLoadingModule.pug":577}],577:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiLoading" ng-class="{\'unifiLoading--hidden\': !(summaryLoadingModuleCtrl.isLoading &amp;&amp; !summaryLoadingModuleCtrl.failedToLoad)}"><div class="unifiLoadingGradient"><ul class="appMenu appMenu--transparent appMenu--cozy"><li class="appMenu__item noHorizontalPadding" ng-repeat="step in summaryLoadingModuleCtrl.elements track by $index"><div class="flexFlag flexFlag--centered"><div class="appMenuItemImage"><div class="icon ubnt-icon--network dashboardModuleDummyIcon"></div></div><div class="unifiSummaryContent"><div class="unifiSummaryContentLabel unifiSummaryContentValue noPadding"><div class="dashboardModuleDummyText dashboardModuleDummyText--large">&nbsp;</div></div><div class="unifiSummaryContentValue"><div class="dashboardModuleDummyText dashboardModuleDummyText--large">&nbsp;</div></div></div></div></li></ul></div></div>'}},{"pug-runtime":23}],578:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSwitchDiagram",["switchUtils","DEVICE_MODELS",function(e,i){return{scope:{model:"=unifiSwitchDiagramModel",togglePortSelection:"&unifiSwitchDiagramTogglePortSelection",isPortSelectable:"&unifiSwitchDiagramIsPortSelectable",isPortSelected:"&unifiSwitchDiagramIsPortSelected",isDisabled:"=unifiSwitchDiagramIsDisabled",highlightPort:"&?unifiSwitchDiagramHighlightPort"},replace:!0,template:t("./switchDiagram.pug")(),link:function(t){var n,o,r,a=i[t.model.get("model")],s=e.getPortNumbers(t.model);t.isSfpSupported=s.sfp.length+s.plus.length>0,t.primaryPortGroupCount=(n=t.model,o=n.get("model"),(r=o.match(/US([0-9]+)/)||o.match(/^S2([0-9]+)[0-9]{3}$/)||o.match(/USC([0-9]+)/))?parseInt(r[1],10):void 0),t.rowLayouts=a.diagram?function(t,i){return t.map(function(t){return t.split(" ").map(function(t){var n=parseInt(t,10);return isNaN(n)?void 0:{portNumber:n,portType:e.getPortTypeByNumber(i,n)}})})}(a.diagram,s):function(t,i){var n;switch(t){case 6:case 8:n=1;break;case 16:case 24:case 48:n=2}var o=i.standard.length/n+(i.sfp.length||i.plus.length?1:0)+(i.sfp.length+i.plus.length)/n;return new Array(n).fill().map(function(t,r){return new Array(o).fill().map(function(t,o){var a=o<i.standard.length/n,s=o>i.standard.length/n,l=a?o*n+r+1:s?o*n+r+1-n:void 0;return l?{portNumber:l,portType:e.getPortTypeByNumber(i,l)}:void 0})})}(t.primaryPortGroupCount,s),t.onPortClick=function(e){e&&!t.isDisabled&&(t.highlightPort&&t.highlightPort({model:e,scrollToPort:!0}),t.togglePortSelection({model:e}))}}}}])},{"./switchDiagram.pug":579}],579:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+"<div class=\"unifiDevicePortDiagram\" ng-class=\"{    'unifiDevicePortDiagram--switchSfp': isSfpSupported,    'unifiDevicePortDiagram--switch8': primaryPortGroupCount === 8,    'unifiDevicePortDiagram--switch16': primaryPortGroupCount === 16,    'unifiDevicePortDiagram--switch24': primaryPortGroupCount === 24,    'unifiDevicePortDiagram--switch48': primaryPortGroupCount === 48,    'unifiDevicePortDiagram--switch16xg': model.get('model') === 'USXG',    'unifiDevicePortDiagram--switch6xg': model.get('model') === 'US6XG150'  }\"><div class=\"unifiDevicePortDiagramRow\" ng-repeat=\"rowLayout in rowLayouts track by $index\" ng-class=\"{      'unifiDevicePortDiagramRow--top': $index === 0,      'unifiDevicePortDiagramRow--bottom': $index === rowLayouts.length - 1    }\"><div class=\"unifiDevicePortDiagramPort\" ng-repeat=\"portConfig in rowLayout track by $index\" ng-init=\"portModel = portConfig ? model.get('port_table').get(portConfig.portNumber) : undefined\" ng-mouseenter=\"isActive = true\" ng-mouseleave=\"isActive = false\" ng-click=\"onPortClick(portModel)\" ng-class=\"{        'clickable': !isDisabled &amp;&amp; !!portModel,        'is-selected': isPortSelected({model: portModel})      }\"><div class=\"positionRelative\"><unifi-switch-port-diagram unifi-switch-port-diagram-port-model=\"portModel\" unifi-switch-port-diagram-is-spacer=\"!portModel\"></unifi-switch-port-diagram><unifi-switch-port-tooltip class=\"positionCenter noPointerEvents\""+(i="unifi-position-absolutely",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' ng-if="isActive &amp;&amp; !!portModel" unifi-switch-port-tooltip-device-model="model" unifi-switch-port-tooltip-port-model="portModel" unifi-switch-port-tooltip-position="$index &lt; rowLayout.length / 3 ? \'bottomRight\' : ($index &gt; 2 * rowLayout.length / 3 ? \'bottomLeft\' : \'bottomCenter\')"></unifi-switch-port-tooltip></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],580:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("SwitchDiagramKeysController",[function(){return new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"hasGbpsSpeedsOnly",value:function(t){return Math.min.apply(Math,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(t))>=1e3}},{key:"getPortLedSpeedsParsed",value:function(t){var e=this.hasGbpsSpeedsOnly(t)?1e3:1;return t.sort(function(t,e){return e-t}).map(function(t){return t/e}).join("/")}}]),t}())}])},{}],581:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSwitchDiagramKeys",["deviceModelUtils","switchUtils",function(e,i){return{controller:"SwitchDiagramKeysController",controllerAs:"switchDiagramKeysCtrl",scope:{model:"=unifiSwitchDiagramKeysModel"},replace:!0,template:t("./switchDiagramKeys.pug")(),link:function(t){var n=t.$watch("model",function(o){o&&(t.isPoeSupported=!0===e.getModelFeature(o,"poe"),t.portLedColors=i.getPortLedColors(o),n())}),o=t.$watch(function(){return t.model?t.model.get("port_table"):void 0},function(e){if(e){var n=i.getDevicePoeAvailability(t.model);Object.keys(n).forEach(function(e){t[e]=n[e]}),o()}})}}}])},{"./switchDiagramKeys.pug":582}],582:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiDiagramKeys unifiDiagramKeys--stacked"><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem" ng-repeat="(portLedColor, portLedSpeeds) in portLedColors" ng-if="portLedSpeeds.length" ng-class="{        \'unifiDiagramKeysItem--ledColorWhite\': portLedColor === \'white\',        \'unifiDiagramKeysItem--ledColorGreen\': portLedColor === \'green\',        \'unifiDiagramKeysItem--ledColorAmber\': portLedColor === \'amber\'      }"><div class="unifiDiagramKeysItem__color"></div><div class="unifiDiagramKeysItem__text noTextTransform" translate="{{switchDiagramKeysCtrl.hasGbpsSpeedsOnly(portLedSpeeds) ? \'DEVICE_PORT_STATE_GBPS\' : \'DEVICE_PORT_STATE_MBPS\'}}" translate-values="{speeds: switchDiagramKeysCtrl.getPortLedSpeedsParsed(portLedSpeeds)}"></div></div></div><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem unifiDiagramKeysItem--disabled"><div class="unifiDiagramKeysItem__color"></div><div class="unifiDiagramKeysItem__text" translate="DEVICE_PORT_STATE_DISABLED"></div></div><div class="unifiDiagramKeysItem unifiDiagramKeysItem--disconnected"><div class="unifiDiagramKeysItem__color"></div><div class="unifiDiagramKeysItem__text" translate="DEVICE_PORT_STATE_DISCONNECTED"></div></div></div><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem unifiDiagramKeysItem--blocking"><div class="unifiDiagramKeysItem__icon icon ubnt-icon--block"></div><div class="unifiDiagramKeysItem__text" ng-switch="model.get(\'stp_version\')"><span ng-switch-when="rstp" translate="DEVICE_PORT_STATE_RSTP_DISCARDING"></span><span ng-switch-when="stp" translate="DEVICE_PORT_STATE_STP_BLOCKING"></span><span ng-switch-when="disabled" translate="DEVICE_PORT_STP_STATE_DISABLED"></span></div></div><div class="unifiDiagramKeysItem unifiDiagramKeysItem--mirror"><div class="unifiDiagramKeysItem__icon icon ubnt-icon--eye-fill"></div><div class="unifiDiagramKeysItem__text" translate="DEVICE_PORT_STATE_MIRROR"></div></div></div><div class="unifiDiagramKeysGroup" ng-if="isPoeSupported"><div class="unifiDiagramKeysItem unifiDiagramKeysItem--poePlus" ng-if="isPoePlusSupported"><div class="unifiDiagramKeysItem__icon icon ubnt-icon--plus"></div><div class="unifiDiagramKeysItem__text noTextTransform" translate="DEVICE_PORT_STATE_POE_PLUS"></div></div><div class="unifiDiagramKeysItem unifiDiagramKeysItem--poe" ng-if="(isPoeAutoSupported &amp;&amp; !isPoePlusSupported) || isPoePassthroughSupported"><div class="unifiDiagramKeysItem__icon icon ubnt-icon--lightning-bolt-fill"></div><div class="unifiDiagramKeysItem__text noTextTransform" translate="DEVICE_PORT_STATE_POE"></div></div><div class="unifiDiagramKeysItem unifiDiagramKeysItem--poe" ng-if="isPoePassive24Supported"><div class="unifiDiagramKeysItem__icon icon ubnt-icon--lightning-bolt-fill"></div><div class="unifiDiagramKeysItem__text noTextTransform" translate="DEVICE_PORT_STATE_POE_PASSIVE"></div></div></div></div>'}},{"pug-runtime":23}],583:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseButtonController");function o(t,e,i,o,r,a){this.$translate=t,this.devices=i,this.heyToasts=o,this.frame=r,this.switchUtils=a,n.call(this,e)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){},o.prototype.clearCounters=function(t){t.stopPropagation();var e=this.model,i=this.devices.repository.collection.get(this.model.get("device"));return this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_ACTIONS_SWITCH_PORT_CLEAR_COUNTERS_CONFIRM_TITLE",{port:e.get("port_idx"),deviceName:i.getDisplayName()})}.bind(this),message:function(){return this.$translate.instant("DEVICE_ACTIONS_SWITCH_PORT_CLEAR_COUNTERS_CONFIRM_MESSAGE",{port:e.get("port_idx"),deviceName:i.getDisplayName()})}.bind(this),options:angular.noop}).then(function(){return this.isPending=!!i.id,this.switchUtils.clearPortCounters(i,e).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isPending=!1}.bind(this))}.bind(this))},o.$inject=["$translate","account","devices","heyToasts","frame","switchUtils"],angular.module("app-unifi-manage").controller("SwitchPortButtonClearCountersController",o)},{}],584:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSwitchPortButtonClearCounters",[function(){return{controller:"SwitchPortButtonClearCountersController",controllerAs:"switchPortButtonClearCountersCtrl",template:t("./switchPortButtonClearCounters.pug")(),replace:!0,scope:{model:"=unifiSwitchPortButtonClearCounters"},link:function(t,e,i,n){t.$watch("model",function(t){n.updateModel(t)}),t.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./switchPortButtonClearCounters.pug":585}],585:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div ng-click="switchPortButtonClearCountersCtrl.clearCounters($event)" ng-disabled="switchPortButtonClearCountersCtrl.isPending" title="{{\'DEVICE_ACTIONS_SWITCH_PORT_CLEAR_COUNTERS\' | translate}}"'+(i="unifi-fix-disabled",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+"><span class=\"button__icon icon\" ng-class=\"switchPortButtonClearCountersCtrl.isPending &amp;&amp; isLabeled ? 'ubnt-icon--clock-2' : 'ubnt-icon--x-circle'\"></span><span class=\"button__label\">{{'DEVICE_ACTIONS_SWITCH_PORT_CLEAR_COUNTERS' | translate}}</span></div>";var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],586:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseButtonController");function o(t,e,i,o,r,a){this.$translate=t,this.devices=i,this.heyToasts=o,this.frame=r,this.switchUtils=a,n.call(this,e)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){},o.prototype.powerCycle=function(t){t.stopPropagation();var e=this.model,i=this.devices.repository.collection.get(this.model.get("device"));return this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_ACTIONS_SWITCH_PORT_POWER_CYCLE_CONFIRM_TITLE",{port:e.get("port_idx"),deviceName:i.getDisplayName()})}.bind(this),message:function(){return this.$translate.instant("DEVICE_ACTIONS_SWITCH_PORT_POWER_CYCLE_CONFIRM_MESSAGE",{port:e.get("port_idx"),deviceName:i.getDisplayName()})}.bind(this),options:angular.noop}).then(function(){return this.isPowerCycling=!!i.id,this.switchUtils.powerCyclePort(i,e).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isPowerCycling=!1}.bind(this))}.bind(this))},o.$inject=["$translate","account","devices","heyToasts","frame","switchUtils"],angular.module("app-unifi-manage").controller("SwitchPortButtonPowerCycleController",o)},{}],587:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSwitchPortButtonPowerCycle",["updateModelDirectiveMixin",function(e){return{controller:"SwitchPortButtonPowerCycleController",controllerAs:"switchPortButtonPowerCycleCtrl",template:t("./switchPortButtonPowerCycle.pug")(),replace:!0,scope:{model:"=unifiSwitchPortButtonPowerCycle",isLabeled:"=unifiSwitchPortButtonPowerCycleIsLabeled"},link:function(t,i,n,o){t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./switchPortButtonPowerCycle.pug":588}],588:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div ng-click="switchPortButtonPowerCycleCtrl.powerCycle($event)" ng-disabled="switchPortButtonPowerCycleCtrl.isPowerCycling" title="{{\'DEVICE_ACTIONS_RESTART\' | translate}}"'+(i="unifi-fix-disabled",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><span class="button__icon icon" ng-class="switchPortButtonPowerCycleCtrl.isPowerCycling &amp;&amp; isLabeled ? \'ubnt-icon--clock-2\' : \'ubnt-icon--refresh-2\'"></span><span class="button__label" ng-if="::isLabeled" translate="DEVICE_ACTIONS_SWITCH_PORT_POWER_CYCLE"></span></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],589:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSwitchPortDiagram",["devices","portFeatureUtils","switchUtils","POE_VOLTAGE",function(e,i,n,o){return{scope:{portModel:"<unifiSwitchPortDiagramPortModel",isSpacer:"<unifiSwitchPortDiagramIsSpacer",isRound:"<unifiSwitchPortDiagramIsRound",fixedSize:"@?unifiSwitchPortDiagramFixedSize"},template:t("./switchPortDiagram.pug")(),replace:!0,link:function(t){var r=t.portModel?e.repository.collection.get(t.portModel.get("device")):void 0,a=n.getPortLedColors(r);t.POE_VOLTAGE=o;var s=function(e){var r,a=(r=n.getPortAggregatedBy(t.portModel))&&{is_uplink:r.get("is_uplink")}||{};t.icons=[],"mirror"===e.op_mode&&t.icons.push("port-mirror"),"discarding"===e.stp_state&&t.icons.push("port-discarding"),(e.is_uplink||a.is_uplink)&&t.icons.push("port-uplink"),e.poe_enable&&t.icons.push("auto"===t.portModel.get("poe_mode")&&i.isPoePlusSupported(t.portModel)||t.portModel.get("poe_voltage")===o.POE_PLUS?"port-poe-plus":"port-poe"),(e.sfp_txfault||e.sfp_rxfault)&&t.icons.push("port-warning")};t.$watchCollection(function(){return t.portModel?t.portModel.attributes:[]},function(e){s(e),function(e){t.portLedColor=e.up?n.findPortLedColor(a,e.speed):void 0}(e)})}}}])},{"./switchPortDiagram.pug":590}],590:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+="<div class=\"unifiPortDiagramContainer\" ng-class=\"{    'unifiPortDiagramContainer--cozy': fixedSize === 'cozy',    'unifiPortDiagramContainer--round': isRound,    'is-disconnected': portModel.get('enable') &amp;&amp; !portModel.get('up'),    'is-ledColorAmber': portLedColor === 'amber',    'is-ledColorGreen': portLedColor === 'green',    'is-ledColorWhite': portLedColor === 'white',    'is-spacer': isSpacer  }\"><div class=\"unifiPortDiagramPort\" ng-class=\"'unifiPortDiagramPort--has' + icons.length\"><img class=\"unifiPortDiagramPort__icon\" ng-repeat=\"icon in icons\" ng-src=\"{{'images/diagrams/' + icon + '.svg'}}\"><img class=\"unifiPortDiagramPort__state\" ng-src=\"{{isRound ? 'images/diagrams/port-spacer-round.png' : 'images/diagrams/port-spacer.png'}}\"></div></div>"}},{"pug-runtime":23}],591:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var o=lazyRequire.get("BaseModelController");angular.module("app-unifi-manage").controller("SwitchPortTooltipController",["$translate","switchUtils",function(t,e){return new(function(i){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,o),n(r,[{key:"$onChanges",value:function(t){t.portModel&&this.updateModel(t.portModel.currentValue)}},{key:"$onDestroy",value:function(){this.removeEventHandlers()}},{key:"onModelChange",value:function(){this.model?(this.tooltip={index:e.getPortIndex(this.model),name:this.model.get("name"),status:e.getPortStatus(this.model),txBytes:this.model.get("tx_bytes"),rxBytes:this.model.get("rx_bytes"),poeMode:e.getPortPoeModeText(this.model),profile:e.getPortProfile(this.model),downlink:e.getPortDownlink(this.deviceModel,this.model),uplink:e.getPortUplink(this.deviceModel,this.model)},this.tooltip.warnings=[],-1!==["SFP","SFP+"].indexOf(this.model.get("media"))&&this.model.get("sfp_found")&&(this.tooltip.sfp={vendor:this.model.get("sfp_vendor"),serial:this.model.get("sfp_serial"),part:this.model.get("sfp_part"),rev:this.model.get("sfp_rev"),compliance:this.model.get("sfp_compliance"),voltage:this.model.get("sfp_voltage"),current:this.model.get("sfp_current"),txpower:this.model.get("sfp_txpower"),rxpower:this.model.get("sfp_rxpower"),temperature:this.model.get("sfp_temperature")},this.model.get("sfp_txfault")&&this.tooltip.warnings.push(t.instant("DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_TX_FAULT")),this.model.get("sfp_rxfault")&&this.tooltip.warnings.push(t.instant("DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_RX_FAULT")))):this.tooltip={}}}]),r}())}])},{}],592:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiSwitchPortTooltip",{bindings:{deviceModel:"<unifiSwitchPortTooltipDeviceModel",portModel:"<unifiSwitchPortTooltipPortModel",position:"<?unifiSwitchPortTooltipPosition"},controller:"SwitchPortTooltipController",controllerAs:"switchPortTooltipCtrl",template:t("./switchPortTooltip.pug")()})},{"./switchPortTooltip.pug":593}],593:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntTooltipContainer d-block" style="--tooltip-width: 200px;"><div class="ubntTooltip noPointerEvents mt-2 mb-2" ng-class="[      switchPortTooltipCtrl.position ? \'ubntTooltip--\' + switchPortTooltipCtrl.position : \'ubntTooltip--topCenter\'    ]"><div class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.index"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_PORT"></dt><dd>{{switchPortTooltipCtrl.tooltip.index}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.name"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_NAME"></dt><dd>{{switchPortTooltipCtrl.tooltip.name}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.status || switchPortTooltipCtrl.tooltip.warnings.length"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_STATUS"></dt><dd>{{switchPortTooltipCtrl.tooltip.status}}<div class="danger" ng-if="switchPortTooltipCtrl.tooltip.warnings.length">({{switchPortTooltipCtrl.tooltip.warnings.join(\', \')}})</div></dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.txBytes"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_TX"></dt><dd>{{switchPortTooltipCtrl.tooltip.txBytes | bytes}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.rxBytes"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_RX"></dt><dd>{{switchPortTooltipCtrl.tooltip.rxBytes | bytes}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.poeMode"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_POE"></dt><dd>{{switchPortTooltipCtrl.tooltip.poeMode}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.profile"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_PROFILE"></dt><dd>{{switchPortTooltipCtrl.tooltip.profile}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.downlink"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_DOWNLINK"></dt><dd>{{switchPortTooltipCtrl.tooltip.downlink.getDisplayName()}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.uplink"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_UPLINK"></dt><dd>{{switchPortTooltipCtrl.tooltip.uplink.getDisplayName()}}</dd></div></div><div class="appDescriptionList appDescriptionList--inline" ng-if="switchPortTooltipCtrl.tooltip.sfp"><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.sfp.vendor"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_VENDOR"></dt><dd>{{switchPortTooltipCtrl.tooltip.sfp.vendor}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.sfp.serial"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_SERIAL"></dt><dd>{{switchPortTooltipCtrl.tooltip.sfp.serial}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.sfp.part"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_PART_NUMBER"></dt><dd>{{switchPortTooltipCtrl.tooltip.sfp.part}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.sfp.rev"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_REV"></dt><dd>{{switchPortTooltipCtrl.tooltip.sfp.rev}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.sfp.compliance"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_COMPLIANCE"></dt><dd>{{switchPortTooltipCtrl.tooltip.sfp.compliance}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.sfp.voltage"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_VOLTAGE"></dt><dd translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_VALUES_VOLTAGE" translate-values="{voltage: switchPortTooltipCtrl.tooltip.sfp.voltage }"></dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.sfp.current"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_CURRENT"></dt><dd translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_VALUES_CURRENT" translate-values="{current: switchPortTooltipCtrl.tooltip.sfp.current }"></dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.sfp.temperature"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_TEMPERATURE"></dt><dd>{{switchPortTooltipCtrl.tooltip.sfp.temperature | temperature}}</dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.sfp.txpower"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_OUTPUT_POWER"></dt><dd translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_VALUES_IO_POWER" translate-values="{power: switchPortTooltipCtrl.tooltip.sfp.txpower }"></dd></div><div class="appDescriptionListRow" ng-if="switchPortTooltipCtrl.tooltip.sfp.rxpower"><dt translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_LABEL_INPUT_POWER"></dt><dd translate="DEVICE_PROPERTIES_SWITCH_TOOLTIP_VALUES_IO_POWER" translate-values="{power: switchPortTooltipCtrl.tooltip.sfp.rxpower }"></dd></div></div></div></div>'}},{"pug-runtime":23}],594:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a,s,l,c,u,d,p,f,h,_,m){f(this),this.account=t,this.binaryPrefix=e,this.clients=i,this.clientUplinkUtils=n,this.DataConverter=o,this.moment=a,this.devices=r,this.preferences=s,this.chartUtils=l,this.$translate=h,this.statsFeatures=c,this.statsUtils=u,this.switchReports=d,this.switchUtils=p,this.TRAFFIC=_,this.REPORT_GRANULARITY=m,this.config={dataMarkEvent:"SWITCH_PORT_USAGE_GRAPH_DATA_MARK_EVENT",dataMarkEventLocalOnly:!0,margin:{left:50,top:10,bottom:30,right:20},xProperty:"time",xAxisPadding:0,xAxisTickSize:2,xAxisTickResolution:this.moment.duration(60,"minute").asMilliseconds(),lockYAxises:!0,withDots:!1},this.config.xAxisFormat=function(t){return this.xAxisFormat(this.config.xAxisTickResolution,t)}.bind(this),this.config.left={interpolate:"curveMonotoneX",continuous:!1,type:"plot"},this.config.left.yAxisFormat=function(){var t;return function(e){var i=Math.floor(e).toFixed(0),n=i!==t?i:"";if(t=i,this.switchReports.getTrafficUnit()===_.UNIT.PACKETS){var o=this.binaryPrefix.parse(n,"SI");n=o.value+o.prefix}return n}.bind(this)}.bind(this)(),this.config.left.yProperty=["rx"],this.config.left.yAxisLabel=function(){return this.switchReports.getTrafficUnit()===_.UNIT.BYTES?this.$translate.instant("SWITCH_PORT_USAGE_Y_AXIS_LABEL",{prefix:this.units.rx,unit:this.useBps?this.TRAFFIC.UNIT.BPS:this.TRAFFIC.UNIT.BYTES}):this.$translate.instant("SWITCH_PORT_USAGE_PKTS_Y_AXIS_LABEL")}.bind(this),this.config.right=angular.copy(this.config.left),this.config.right.yProperty=["tx"],this.config.right.yAxisFormat=function(){return""},this.config.right.yAxisLabel="",this.useBps=this.statsFeatures.useBps()}n.prototype.isNumber=angular.isNumber,n.prototype.$onInit=function(){this.txBytesKey="port_"+this.port.get("port_idx")+"-tx_bytes",this.rxBytesKey="port_"+this.port.get("port_idx")+"-rx_bytes",this.txPktsKey="port_"+this.port.get("port_idx")+"-tx_packets",this.rxPktsKey="port_"+this.port.get("port_idx")+"-rx_packets",this.multicastTxPktsKey="port_"+this.port.get("port_idx")+"-tx_multicast",this.multicastRxPktsKey="port_"+this.port.get("port_idx")+"-rx_multicast",this.broadcastTxPktsKey="port_"+this.port.get("port_idx")+"-tx_broadcast",this.broadcastRxPktsKey="port_"+this.port.get("port_idx")+"-rx_broadcast",this.updateDataConverter(),this.collectData(),this.updateConnectedDevice()},n.prototype.parseBytes=function(t){return this.binaryPrefix.parse(t)},n.prototype.addEventHandlers=function(){this.listener=this.switchReports.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),this.device.on("change:[downlink_table]",this.updateConnectedDevice,this),this.account.repository.model.on("change",this.update,this)},n.prototype.removeEventHandlers=function(){this.listener.stopListening(),this.device.off("change:[downlink_table]",this.updateConnectedDevice,this),this.account.repository.model.off("change",this.update,this)},n.prototype.update=function(){this.useBps=this.statsFeatures.useBps(),this.updateDataConverter(),this.collectData()},n.prototype.collectData=function(){this.data=this.dataConverter.process(this.switchReports.repository.collection.toJSON()),this.data=this.chartUtils.preventContinuousPlot(this.data,this.switchReports.getGranularity().grain,"time"),this.units=this.dataConverter.units,this.updateConfig()},n.prototype.updateConnectedDevice=function(){this.connectedDevice=this.switchUtils.getPortDownlink(this.device,this.port)||this.switchUtils.getPortUplink(this.device,this.port),this.connectedClient=this.clients.repository.collection.filter(function(t){return this.clientUplinkUtils.getUplinkMac(t)===this.device.get("mac")}.bind(this)).find(function(t){return t.get("is_wired")&&t.get("sw_port")===this.port.get("port_idx")}.bind(this))},n.prototype.updateDataConverter=function(){var t={rx:this.rxBytesKey,tx:this.txBytesKey,rxPkts:this.rxPktsKey,txPkts:this.txPktsKey,multicastRxPkts:this.multicastRxPktsKey,multicastTxPkts:this.multicastTxPktsKey,broadcastRxPkts:this.broadcastRxPktsKey,broadcastTxPkts:this.broadcastTxPktsKey,time:"time"};this.useBps&&(t.rx=function(t){return this.statsUtils.bytesToBps(t[this.rxBytesKey],this.switchReports.getGranularity().grainInSeconds)}.bind(this),t.tx=function(t){return this.statsUtils.bytesToBps(t[this.txBytesKey],this.switchReports.getGranularity().grainInSeconds)}.bind(this)),this.dataConverter=(new this.DataConverter).sortedBy("time").withMap(t,!1).withBinaryNormalization(["time","multicastRxPkts","multicastTxPkts","broadcastRxPkts","broadcastTxPkts","rxPkts","txPkts"],!0)},n.prototype.updateConfig=function(){if(this.start=this.switchReports.getStart(),this.end=this.switchReports.getEnd(),this.config.xScaleDomain=[this.start,this.end],this.config.xAxisTickResolution=this.getTickResolution(this.start,this.end),this.config.shadedBackgroundFilter=this.getBackgroundShader(this.start,this.end),this.switchReports.getTrafficUnit()===this.TRAFFIC.UNIT.BYTES)this.config.left.yProperty=["rx"],this.config.right.yProperty=["tx"];else switch(this.switchReports.getTrafficType()){case this.TRAFFIC.TYPE.MULTICAST:this.config.left.yProperty=["multicastRxPkts"],this.config.right.yProperty=["multicastTxPkts"];break;case this.TRAFFIC.TYPE.BROADCAST:this.config.left.yProperty=["broadcastRxPkts"],this.config.right.yProperty=["broadcastTxPkts"];break;case this.TRAFFIC.TYPE.ALL:default:this.config.left.yProperty=["rxPkts"],this.config.right.yProperty=["txPkts"]}},n.$inject=["account","binaryPrefix","clients","clientUplinkUtils","DataConverter","devices","moment","preferences","chartUtils","statsFeatures","statsUtils","switchReports","switchUtils","timeBasedGraphControllerMixin","$translate","TRAFFIC","REPORT_GRANULARITY"],angular.module("app-unifi-manage").controller("SwitchPortUsageController",n)},{}],595:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSwitchPortUsage",[function(){return{controller:"SwitchPortUsageController",controllerAs:"switchPortUsageCtrl",template:t("./switchPortUsage.pug")(),replace:!0,bindToController:!0,scope:{port:"=unifiSwitchPortUsagePort",device:"=unifiSwitchPortUsageDevice"},link:function(t,e,i,n){n.addEventHandlers(),t.$on(n.config.dataMarkEvent,function(t,e){n.markItem(e)}),t.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./switchPortUsage.pug":596}],596:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiSwitchPortUsage"><div class="appSubHeading appSubHeading--standalone"><div class="inlineBlock horizontalRhythm--cozy">{{::switchPortUsageCtrl.port.get(\'name\')}}</div><a class="inlineBlock verticalAlign--top" ng-if="switchPortUsageCtrl.connectedDevice" unifi-open-panel="switchPortUsageCtrl.connectedDevice" unifi-open-panel-active-tab="\'details\'"><span class="noWrap" unifi-device-status="switchPortUsageCtrl.connectedDevice" unifi-device-status-is-cozy="true" unifi-device-status-with-icons="true" unifi-device-status-label="switchPortUsageCtrl.connectedDevice.getDisplayName()"></span></a><a class="inlineBlock verticalAlign--bottom" ng-if="!switchPortUsageCtrl.connectedDevice &amp;&amp; switchPortUsageCtrl.connectedClient" unifi-open-panel="switchPortUsageCtrl.connectedClient" unifi-open-panel-active-tab="\'details\'"><div class="iconText appIconText"><span class="iconText__icon" unifi-client-icon="switchPortUsageCtrl.connectedClient"></span><span class="iconText__text">{{switchPortUsageCtrl.connectedClient.getDisplayName()}}</span></div></a></div><unifi-line-chart-with-tooltip class="is-responsive is-narrow unifiSwitchPortUsageGraph" unifi-line-chart-with-tooltip-config="switchPortUsageCtrl.config" unifi-line-chart-with-tooltip-data="switchPortUsageCtrl.data"><div class="unifiChartTooltipHeader">{{switchPortUsageCtrl.focusedData.time | statsTimeRange: switchPortUsageCtrl.switchReports.getGranularity()}}</div><div class="unifiChartTooltipBody"><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--noBorder" ng-if="!switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.rx)                &amp;&amp; !switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.tx)                &amp;&amp; !switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.rxPkts)                &amp;&amp; !switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.txPkts)                &amp;&amp; !switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.broadcastRxPkts)                &amp;&amp; !switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.broadcastTxPkts)                &amp;&amp; !switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.multicastRxPkts)                &amp;&amp; !switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.multicastTxPkts)"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom">{{\'SWITCH_PORT_USAGE_NO_DATA_AVAILABLE\' | translate}}</p></div></div></div><div class="verticalRhythmTopQuarter" ng-if="switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.raw.rx)"><div class="unifiChartTooltipBody__title">{{\'SWITCH_PORT_USAGE_RX\' | translate}}</div></div><div class="noPadding" ng-if="switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.raw.rx)"><div class="unifiChartTooltipBody__number down"><strong ng-if="!switchPortUsageCtrl.useBps">{{switchPortUsageCtrl.focusedData.raw.rx | bytes}}</strong><strong ng-if="switchPortUsageCtrl.useBps">{{switchPortUsageCtrl.focusedData.raw.rx | bps}}</strong></div></div><div class="verticalRhythmTopQuarter" ng-if="switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.multicastRxPkts)             || switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.broadcastRxPkts)             || switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.rxPkts)"><div class="unifiChartTooltipBody__title">{{\'SWITCH_PORT_USAGE_RX\' | translate}}</div></div><div class="noPadding" ng-if="switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.multicastRxPkts)             || switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.broadcastRxPkts)             || switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.rxPkts)"><div class="unifiChartTooltipBody__number down"><strong>{{switchPortUsageCtrl.focusedData.multicastRxPkts | number:0}} {{switchPortUsageCtrl.focusedData.broadcastRxPkts | number:0}} {{switchPortUsageCtrl.focusedData.rxPkts | number:0}}</strong></div></div><div class="verticalRhythmTopQuarter" ng-if="switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.raw.tx)"><div class="unifiChartTooltipBody__title">{{\'SWITCH_PORT_USAGE_TX\' | translate}}</div></div><div class="noPadding" ng-if="switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.raw.tx)"><div class="unifiChartTooltipBody__number up"><strong ng-if="!switchPortUsageCtrl.useBps">{{switchPortUsageCtrl.focusedData.raw.tx | bytes}}</strong><strong ng-if="switchPortUsageCtrl.useBps">{{switchPortUsageCtrl.focusedData.raw.tx | bps}}</strong></div></div><div class="verticalRhythmTopQuarter" ng-if="switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.multicastTxPkts)             || switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.broadcastTxPkts)             || switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.txPkts)"><div class="unifiChartTooltipBody__title">{{\'SWITCH_PORT_USAGE_TX\' | translate}}</div></div><div class="noPadding" ng-if="switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.multicastTxPkts)             || switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.broadcastTxPkts)             || switchPortUsageCtrl.isNumber(switchPortUsageCtrl.focusedData.txPkts)"><div class="unifiChartTooltipBody__number up"><strong>{{switchPortUsageCtrl.focusedData.multicastTxPkts | number:0}} {{switchPortUsageCtrl.focusedData.broadcastTxPkts | number:0}} {{switchPortUsageCtrl.focusedData.txPkts | number:0}}</strong></div></div></div></unifi-line-chart-with-tooltip></div>'}},{"pug-runtime":23}],597:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("SwitchingSummaryModuleController",["BaseModuleController","resolveRepositoryGroupControllerMixin","siteHealth","switchModuleStats",function(t,e,i,o){return new(function(r){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t.siteHealth=i,t.switchModuleStats=o,t.repositories=["siteHealth","switchModuleStats"],e(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),n(a,[{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"destroy",this).call(this),this.unregister()}},{key:"isAvailable",value:function(){return i.repository.collection.getNested("lan.num_sw")>0}}]),a}())}])},{}],598:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSwitchingSummaryModule",["ModuleDirective",function(e){return new e("switchingSummary",t("./switchingSummaryModule.pug")())}])},{"./switchingSummaryModule.pug":599}],599:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--summary"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle">{{switchingSummaryModuleCtrl.definition.get(\'translationKey\') | translate}}</div></div><unifi-loading-module unifi-loading-module-loader="switchingSummaryModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="switchingSummaryModuleCtrl.isLoading" unifi-loading-module-failed="switchingSummaryModuleCtrl.failedToLoad" unifi-loading-module-retry="switchingSummaryModuleCtrl.retry()" unifi-loading-module-layout="switchingSummaryModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !switchingSummaryModuleCtrl.isLoading,        \'animated fadeOut\': switchingSummaryModuleCtrl.isLoading      }"><ul class="appMenu appMenu--transparent appMenu--cozy" ng-if="!switchingSummaryModuleCtrl.isLoading &amp;&amp; switchingSummaryModuleCtrl.isAvailable()"><li class="appMenu__item noHorizontalPadding"><div class="flexFlag flexFlag--centered"><div class="appMenuItemImage"><div class="icon ubnt-icon--network"></div></div><div class="unifiSummaryContent"><div class="unifiSummaryContentLabel">{{\'DASHBOARD_MODULE_SWITCHING_SUMMARY_SWITCHES_ONLINE\' | translate}}</div><div class="unifiSummaryContentValue">{{switchingSummaryModuleCtrl.siteHealth.repository.collection.getNested(\'lan.num_sw\') || 0 | numberToString}}</div></div></div></li><li class="appMenu__item noHorizontalPadding"><div class="flexFlag flexFlag--centered"><div class="appMenuItemImage"><div class="icon ubnt-icon--user-wired"></div></div><div class="unifiSummaryContent"><div class="unifiSummaryContentLabel">{{\'DASHBOARD_MODULE_SWITCHING_SUMMARY_CLIENTS\' | translate}}</div><div class="unifiSummaryContentValue">{{switchingSummaryModuleCtrl.siteHealth.repository.collection.getNested(\'lan.num_guest\') + switchingSummaryModuleCtrl.siteHealth.repository.collection.getNested(\'lan.num_user\') || 0 | numberToString}}</div></div></div></li><li class="appMenu__item noHorizontalPadding"><div class="flexFlag flexFlag--centered"><div class="appMenuItemImage"><div class="icon ubnt-icon--ethernet-port"></div></div><div class="unifiSummaryContent"><div class="unifiSummaryContentLabel">{{\'DASHBOARD_MODULE_SWITCHING_SUMMARY_UTILIZATION\' | translate}}</div><div class="unifiSummaryContentValue">{{switchingSummaryModuleCtrl.switchModuleStats.getPortCounts().portUtilization ? (switchingSummaryModuleCtrl.switchModuleStats.getPortCounts().portUtilization | percent: 100) : (\'COMMON_NOT_AVAILABLE\' | translate)}}</div></div></div></li><li class="appMenu__item noHorizontalPadding"><div class="flexFlag flexFlag--centered"><div class="appMenuItemImage"><div class="icon ubnt-icon--chart-signal-2"></div></div><div class="unifiSummaryContent"><div class="unifiSummaryContentLabel">{{\'DASHBOARD_MODULE_SWITCHING_SUMMARY_TRAFFIC\' | translate}}</div><div class="unifiSummaryContentValue">{{switchingSummaryModuleCtrl.siteHealth.repository.collection.getNested(\'lan.rx_bytes-r\') + switchingSummaryModuleCtrl.siteHealth.repository.collection.getNested(\'lan.tx_bytes-r\') || 0 | bps:{convertFromBytes:true} }}</div></div></div></li></ul><unifi-unavailable-module ng-if="!switchingSummaryModuleCtrl.isLoading &amp;&amp; !switchingSummaryModuleCtrl.isAvailable()" unifi-unavailable-module-icon="\'ubnt-icon--ethernet-port\'" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_SWITCHING_SUMMARY_UNAVAILABLE\'"></unifi-unavailable-module></div></div></div>'}},{"pug-runtime":23}],600:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"summary|switching",loader:"summary",translationKey:"DASHBOARD_MODULE_DEFINITIONS_SWITCHING_SUMMARY",directive:"unifi-switching-summary-module",preview:"images/dashboard/summary.png",layout:"single",requirements:{deviceType:"usw"}}])}])},{}],601:[function(t,e,i){"use strict";function n(t,e,i){this.siteName=t.getActiveSite().getDisplayName(),this.settings=e,this.system=i}n.$inject=["siteUtils","settings","system"],angular.module("app-unifi-manage").controller("SystemConfigSiteController",n)},{}],602:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiSystemConfigSite",[function(){return{controller:"SystemConfigSiteController",controllerAs:"systemConfigSiteCtrl",replace:!0,template:t("./systemConfigSite.pug")()}}])},{"./systemConfigSite.pug":603}],603:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+="<tbody><tr><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_VERSION' | translate}}</td><td class=\"columnValue\">{{systemConfigSiteCtrl.system.repository.model.get('version')}}</td></tr><tr><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_DPI' | translate}}</td><td class=\"columnValue\">{{systemConfigSiteCtrl.settings.getSettingFromKey('dpi').get('enabled') | enabled}}</td></tr><tr><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_CONN_MONITOR' | translate}}</td><td class=\"columnValue\">{{systemConfigSiteCtrl.settings.getSettingFromKey('connectivity').get('enabled') | enabled}}</td></tr><tr><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_CLOUD_ACCESS' | translate}}</td><td class=\"columnValue\">{{systemConfigSiteCtrl.settings.getSettingFromKey('super_cloudaccess').get('enabled') | enabled}}</td></tr><tr><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_CURRENT_SITE' | translate}}</td><td class=\"columnValue\">{{systemConfigSiteCtrl.siteName}}</td></tr></tbody>"}},{"pug-runtime":23}],604:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiTagList",[function(){return{scope:{onRemove:"&unifiTagListOnRemove",tags:"=?unifiTagListTags",nameProperty:"=?unifiTagListNameProperty",data:"=?unifiTagListData",isDark:"=?unifiTagListIsDark"},template:t("./tagList.pug")(),replace:!0,link:function(t){t.remove=function(e){t.onRemove({name:e})}}}}])},{"./tagList.pug":605}],605:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appTags--wrapped"><div class="tag appTag appTag--cozy" ng-if="tags" ng-repeat="tag in tags | orderBy:\'toString()\'" ng-class="{\'appTag--dark\': isDark}">{{nameProperty ? tag[nameProperty] : tag}}<div class="appTag__close" ng-click="onRemove({tag: tag})"></div></div><div class="appTooltipContainer appTooltipContainer--hoverable" ng-if="data" ng-repeat="tag in data | orderBy:\'toString()\'"><div class="tag appTag appTag--cozy" ng-class="{\'appTag--dark\': isDark}">{{tag.name}}<div class="appTag__close" ng-click="onRemove({tag: tag})"></div></div><div class="appTooltip appTooltip--brief noWrap" ng-class="{\'appTooltip--dark\': isDark}">{{tag.description}}</div></div></div>'}},{"pug-runtime":23}],606:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiTerminalAdapter",["$q","$rootScope","SshTerminal","deviceWebRtcConnectorPoll","TERMINAL_PANEL_EVENTS",function(e,i,n,o,r){return{template:t("./terminalAdapter.pug")(),restrict:"E",link:function(t,e){t.$watch("model",function(){if(t.model){var a=new n(t.model,e.find(".unifiTerminalAdapter")[0],o);a.open().then(function(){t.closeHandler=a.close.bind(a),t.copyHandler=a.copyContent.bind(a),i.$broadcast(r.TERMINAL_PANEL_CONNECTED,t.model)}).catch(function(){i.$broadcast(r.TERMINAL_PANEL_CONNECTION_ERROR,t.model),a.close()})}})}}}])},{"./terminalAdapter.pug":607}],607:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiTerminalAdapter"></div>'}},{"pug-runtime":23}],608:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t,e,i,o,r,a,s,l){this.$scope=t,this.$rootScope=e,this.$translate=i,this.clipboardUtils=o,this.heyToasts=r,this.windowPanels=a,this.TERMINAL_PANEL_EVENTS=s,this.WINDOW_PANEL_GROUPS=l,n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.close=function(){this.$scope.closeHandler&&this.$scope.closeHandler(),this.$rootScope.$broadcast(this.TERMINAL_PANEL_EVENTS.TERMINAL_PANEL_CLOSE,this.model),this.windowPanels.closeWindow(this.WINDOW_PANEL_GROUPS.DEBUG_TERMINAL,this.model)},o.prototype.onModelChange=function(){},o.prototype.copyContent=function(){if(this.$scope.copyHandler){var t=this.$scope.copyHandler();t&&(this.clipboardUtils.copyToClipboard(t.trim()),this.heyToasts.pushSuccess(this.$translate.instant("TERMINAL_PANEL_LABEL_CONTENT_COPIED")))}},o.$inject=["$scope","$rootScope","$translate","clipboardUtils","heyToasts","windowPanels","TERMINAL_PANEL_EVENTS","WINDOW_PANEL_GROUPS"],angular.module("app-unifi-manage").controller("TerminalPanelController",o)},{}],609:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiTerminalPanel",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiTerminalPanel"},controller:"TerminalPanelController",controllerAs:"terminalPanelCtrl",template:t("./terminalPanel.pug")(),link:function(t,i,n,o){t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./terminalPanel.pug":610}],610:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiPanelItem"><div class="unifiPanelItemHeader"><div class="unifiPanelItemHeader__avatar"><div unifi-device-icon="terminalPanelCtrl.model"></div></div><div class="unifiPanelItemHeader__title"><span unifi-device-status="terminalPanelCtrl.model" unifi-device-status-is-cozy="true" unifi-device-status-is-truncated="true" unifi-device-status-with-icons="true" unifi-device-status-label="terminalPanelCtrl.model.getDisplayName()"></span></div><div class="unifiPanelItemHeader__actions"><div class="appActionIconGroup"><div class="appActionIcon" ng-click="terminalPanelCtrl.copyContent()" ng-disabled="!copyHandler" title="{{\'TERMINAL_PANEL_ACTIONS_COPY_CONTENT\' | translate}}"><span class="button__icon icon ubnt-icon--clipboard"></span></div><div class="appActionIcon" ng-click="terminalPanelCtrl.close()" title="{{\'COMMON_ACTIONS_CLOSE\' | translate}}"><span class="button__icon icon ubnt-icon--x"></span></div></div></div></div><div class="unifiPanelItemBody"><div class="unifiPanelItemBodySection unifiPanelItemBodySection--static"><div class="appRow verticalRhythmTop--cozy"><div class="col--xs12"><div unifi-terminal-status="terminalPanelCtrl.model"></div></div></div><div class="appRow appRow--comfy"><div class="col--xs12"><unifi-terminal-adapter></unifi-terminal-adapter></div></div></div></div></div>'}},{"pug-runtime":23}],611:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var o=lazyRequire.get("BaseModelController"),r=window.webrtc.WEBRTC_EVENTS;angular.module("app-unifi-manage").controller("TerminalStatusController",["eventBusService","TERMINAL_CONNECTION_EVENTS","TERMINAL_CONNECTION_EVENTS_TRANSLATION_KEYS",function(t,e,i){return new(function(a){function s(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return t.isConnected=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),n(s,[{key:"onModelChange",value:function(){var n=this;if(this.model){var o=t.obtainEventBusService(this.model.id);Object.keys(e).forEach(function(t){o.on(t,function(t){angular.isDefined(i[t])&&(n.status=i[t]),n.isConnected=t===e.TERMINAL_CONNECTED})}),Object.keys(r).forEach(function(t){o.on(t,function(t){angular.isDefined(i[t])&&(n.status=i[t])})})}}},{key:"removeEventHandlers",value:function(){if(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0}(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"removeEventHandlers",this).call(this),this.model){var i=t.obtainEventBusService(this.model.id);Object.keys(e).forEach(function(t){i.off(t)}),Object.keys(r).forEach(function(t){i.off(t)})}}}]),s}())}])},{}],612:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiTerminalStatus",["updateModelDirectiveMixin",function(e){return{controller:"TerminalStatusController",controllerAs:"terminalStatusCtrl",scope:{model:"=unifiTerminalStatus"},template:t("./terminalStatus.pug")(),link:function(t,i,n,o){t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./terminalStatus.pug":613}],613:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div ng-if="!terminalStatusCtrl.isConnected &amp;&amp; terminalStatusCtrl.status"><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder" ng-class="{\'appInfoBox--danger\': terminalStatusCtrl.status === \'DEVICE_TERMINAL_CONNECTION_ERROR\'}"><div class="appInfoBox__icon icon ubnt-icon--alert" ng-if="terminalStatusCtrl.status === \'DEVICE_TERMINAL_CONNECTION_ERROR\'"></div><div class="appInfoBox__icon" ng-if="terminalStatusCtrl.status &amp;&amp; terminalStatusCtrl.status !== \'DEVICE_TERMINAL_CONNECTION_ERROR\' &amp;&amp; terminalStatusCtrl.status !== \'DEVICE_TERMINAL_CONNECTED\'"><div class="appSpinner appSpinner--inline"></div></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="{{terminalStatusCtrl.status}}"></p></div></div></div></div>'}},{"pug-runtime":23}],614:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("TimeRangeFilterController",["filterControllerMixin","dateUtils","DATE_RANGE_PRESETS",function(t,e,i){return new(function(){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.dateUtils=e,this.filter={preset:i.LAST_24H,getFilteredTimeRange:function(){if(isFinite(parseInt(this.start))&&isFinite(parseInt(this.end)))return[parseInt(this.start),parseInt(this.end)]},clear:function(){this.start=void 0,this.end=void 0}},this.filter.start=parseInt(this.filter.preset.start),this.filter.end=parseInt(this.filter.preset.end),t(this)}return n(o,[{key:"initFilter",value:function(){this.sharedFilters[this.definition.id]||(this.sharedFilters[this.definition.id]=this.filter)}},{key:"updateState",value:function(t,e){this.filter.start=t,this.filter.end=e}}]),o}())}])},{}],615:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiTimeRangeFilter",["FilterDirective",function(e){return new e("timeRange",t("./timeRangeFilter.pug")())}])},{"./timeRangeFilter.pug":616}],616:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiDashboardFilters unifiDashboardDateRangeSelector"><unifi-date-range-selector-popover unifi-date-range-selector-popover-start="timeRangeFilterCtrl.getFilter().attributes.start" unifi-date-range-selector-popover-end="timeRangeFilterCtrl.getFilter().attributes.end" unifi-date-range-selector-popover-on-change="timeRangeFilterCtrl.updateState(start, end)" unifi-date-range-selector-popover-preset="timeRangeFilterCtrl.getFilter().preset" unifi-date-range-selector-popover-timezone="timeRangeFilterCtrl.dateUtils.getPreferredTimezone()" unifi-date-range-selector-popover-position="\'bottomLeft\'" unifi-date-range-selector-popover-with-list="true" unifi-date-range-selector-popover-with-first-run-update="true"><div class="iconText appIconText appIconText--large unifiDashboardFiltersTitle--withDropdown noWrap" ng-click="dateRangeSelectorPopoverCtrl.togglePicker()"><span class="iconText__icon icon fa fa-calendar"></span><span class="iconText__text" ng-if="!dateRangeSelectorPopoverCtrl.preset">{{ dateRangeSelectorPopoverCtrl.pikadayStart | parseInt | moment: \'format\' : dateRangeSelectorPopoverCtrl.displayFormat }} - {{ dateRangeSelectorPopoverCtrl.pikadayEnd | parseInt | moment: \'format\' : dateRangeSelectorPopoverCtrl.displayFormat }}</span><span class="iconText__text" ng-if="dateRangeSelectorPopoverCtrl.preset">{{dateRangeSelectorPopoverCtrl.preset.translationKey | translate:dateRangeSelectorPopoverCtrl.preset.translationParameters:dateRangeSelectorPopoverCtrl.preset.translationInterpolation}}</span></div></unifi-date-range-selector-popover></div>'}},{"pug-runtime":23}],617:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards","DASHBOARD_SHARED_FILTERS",function(t,e){t.filterDefinitions.add([{id:e.STATISTICS_TIME_RANGE,directive:"unifi-time-range-filter"}])}])},{}],618:[function(t,e,i){"use strict";angular.module("app-unifi-manage").controller("TimeToAssociateModuleController",["WifiClientsModuleController",function(t){return new(function(e){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,t),i}())}])},{}],619:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiTimeToAssociateModule",["ModuleDirective",function(e){var i=new e("timeToAssociate",t("./timeToAssociateModule.pug")());return i.addMixin({init:function(t,e,i,n){t.$on(n.chartConfig.dataMarkEvent,function(t,e){n.markItem(e)}),t.$watchCollection(n.getFilteredTimeRange.bind(n),function(t){t&&(n.updateTimeRange(),!n.data.length&&n.prepareFakeData())})}}),i}])},{"./timeToAssociateModule.pug":620}],620:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="module module--wifiAssociations unifiWifiAssociationsModule" ng-class="{    \'unifiWifiAssociationsModule--isInitializing\' : timeToAssociateModuleCtrl.isInitializing,    \'unifiWifiAssociationsModule--isLoading\' : timeToAssociateModuleCtrl.isLoading  }"><div class="moduleContent moduleContent--flexible"><div class="moduleHeader moduleHeader--withLineChart"><div class="modularSubHeading modularSubHeading--clipped"><div class="moduleHeaderTitle" translate="{{timeToAssociateModuleCtrl.definition.get(\'translationKey\')}}"></div></div><div class="modularSubHeading modularSubHeading--secondary moduleHeaderLegend"><div class="moduleHeaderLegendItem"><div class="moduleHeaderLegendLabel noMarginLeft" translate="DASHBOARD_MODULE_TIME_TO_ASSOCIATE_NEW_CLIENT_AVERAGE_LABEL"></div></div><div class="moduleHeaderLegendItem"><div class="statusBall appStatusBall appStatusBall--smash appStatusBall--positive"></div><div class="moduleHeaderLegendLabel" translate="DASHBOARD_MODULE_TIME_TO_ASSOCIATE_FIRST_CATEGORY_LABEL"></div></div><div class="moduleHeaderLegendItem"><div class="statusBall appStatusBall appStatusBall--smash appStatusBall--warning"></div><div class="moduleHeaderLegendLabel" translate="DASHBOARD_MODULE_TIME_TO_ASSOCIATE_SECOND_CATEGORY_LABEL"></div></div><div class="moduleHeaderLegendItem"><div class="statusBall appStatusBall appStatusBall--smash appStatusBall--danger"></div><div class="moduleHeaderLegendLabel" translate="DASHBOARD_MODULE_TIME_TO_ASSOCIATE_THIRD_CATEGORY_LABEL"></div></div></div></div><unifi-loading-module unifi-loading-module-loader="timeToAssociateModuleCtrl.definition.get(\'loader\')" unifi-loading-module-failed="timeToAssociateModuleCtrl.failedToLoad" unifi-loading-module-retry="timeToAssociateModuleCtrl.retry()" unifi-loading-module-layout="timeToAssociateModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div class="moduleContentStretched wifiAssociationsModule--showTime" ng-class="{        \'noPointerEvents\': timeToAssociateModuleCtrl.isInitializing || timeToAssociateModuleCtrl.isLoading      }"><svg height="0" width="0"><defs><linearGradient id="wifiAssociationsGradient" x1="0" y1="0" x2="0" y2="100%" patternUnits="userSpaceOnUse"><stop offset="0%" stop-color="#0175e3"></stop><stop offset="100%" stop-color="#0046cc"></stop></linearGradient></defs></svg><unifi-line-chart-with-tooltip unifi-line-chart-with-tooltip-config="timeToAssociateModuleCtrl.chartConfig" unifi-line-chart-with-tooltip-data="timeToAssociateModuleCtrl.data"><div class="ubntTooltipContainer positionAbsolute ng-animatable" ng-if="!timeToAssociateModuleCtrl.focusedData.hidden" style="--tooltip-width: 140px"><div class="ubntTooltip ubntTooltip--topLeft unifiDashboardTooltip"'+(i="unifi-auto-position",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' unifi-auto-position-vertical-lock="top"><div class="unifiDashboardTooltip__header truncate"><div class="unweighted verticalRhythmQuarter">{{timeToAssociateModuleCtrl.relativeDate(timeToAssociateModuleCtrl.focusedData.time)}}</div><div class="unweighted">{{timeToAssociateModuleCtrl.moment(timeToAssociateModuleCtrl.focusedData.time).add(timeToAssociateModuleCtrl.timeOffset).startOf(\'minute\').valueOf() | statsTimeRange: timeToAssociateModuleCtrl.getBarGranularity() : true}}</div></div><dl class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow"><dt><div class="statusBall appStatusBall appStatusBall--smash unifiChartTooltip__statusBall unifiChartTooltip__statusBall--existing"></div><span translate="DASHBOARD_MODULE_WIFI_ASSOCIATIONS_EXISTING"></span></dt><dd class="alignRight">{{timeToAssociateModuleCtrl.focusedData.current - timeToAssociateModuleCtrl.focusedData.new}}</dd></div></dl><dl class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow"><dt><div class="statusBall appStatusBall appStatusBall--smash unifiChartTooltip__statusBall unifiChartTooltip__statusBall--new"></div><span translate="DASHBOARD_MODULE_WIFI_ASSOCIATIONS_NEW"></span></dt><dd class="alignRight">{{timeToAssociateModuleCtrl.focusedData.new}}</dd></div></dl><dl class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow"><dt class="noWrap"><div class="statusBall appStatusBall appStatusBall--smash unifiChartTooltip__statusBall unifiChartTooltip__statusBall--disconnected"></div><span translate="DASHBOARD_MODULE_WIFI_ASSOCIATIONS_DISCONNECTED"></span></dt><dd class="alignRight">{{-timeToAssociateModuleCtrl.focusedData.lost}}</dd></div></dl><dl class="appDescriptionList appDescriptionList--inline" ng-if="timeToAssociateModuleCtrl.isNumber(timeToAssociateModuleCtrl.focusedData.sta_connect_time_min)"><div class="appDescriptionListRow"><dt><div class="statusBall appStatusBall appStatusBall--smash unifiChartTooltip__statusBall unifiChartTooltip__statusBall--disconnected"></div><span translate="DASHBOARD_MODULE_WIFI_ASSOCIATIONS_MIN_ASSOC_TIME"></span></dt><dd class="alignRight">{{timeToAssociateModuleCtrl.focusedData.sta_connect_time_min / 1000000 | number:1}} {{\'DATETIME_SECONDS_ABBR\' | translate}}</dd></div></dl><dl class="appDescriptionList appDescriptionList--inline" ng-if="timeToAssociateModuleCtrl.isNumber(timeToAssociateModuleCtrl.focusedData.sta_connect_time_max)"><div class="appDescriptionListRow"><dt><div class="statusBall appStatusBall appStatusBall--smash unifiChartTooltip__statusBall unifiChartTooltip__statusBall--disconnected"></div><span translate="DASHBOARD_MODULE_WIFI_ASSOCIATIONS_MAX_ASSOC_TIME"></span></dt><dd class="alignRight">{{timeToAssociateModuleCtrl.focusedData.sta_connect_time_max / 1000000 | number:1}} {{\'DATETIME_SECONDS_ABBR\' | translate}}</dd></div></dl></div></div></unifi-line-chart-with-tooltip></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],621:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"time-to-associate",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TIME_TO_ASSOCIATE",directive:"unifi-time-to-associate-module",preview:"images/dashboard/bar-chart-negative.png",layout:"full"}])}])},{}],622:[function(t,e,i){"use strict";function n(){this.itemsLength=5,this.pagesLength=0,this.pageSize=5}n.prototype.updateListLength=function(t){t&&(this.itemsLength=t),this.pagesLength=Math.ceil(this.itemsLength/this.pageSize),this.pages=new Array(this.pagesLength).fill().map(function(t,e){var i=Math.min(this.pageSize,this.itemsLength-e*this.pageSize);return new Array(i).fill([])}.bind(this))},n.$inject=[],angular.module("app-unifi-manage").controller("TopDpiItemsLoadingModuleController",n)},{}],623:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiTopDpiItemsLoadingModule",[function(){return{scope:{itemsLength:"=unifiTopDpiItemsLoadingModuleItemsLength",withDonut:"=unifiTopDpiItemsLoadingModuleWithDonut"},bindToController:{failedToLoad:"=unifiTopDpiItemsLoadingModuleFailed",isLoading:"=unifiTopDpiItemsLoadingModuleIsLoading"},controller:"TopDpiItemsLoadingModuleController",controllerAs:"topDpiItemsLoadingModuleCtrl",template:t("./topDpiItemsLoadingModule.pug")(),replace:!0,link:function(t,e,i,n){t.$watch("itemsLength",function(t){n.updateListLength(t)}),t.$watch("withDonut",function(t){n.withDonut=t})}}}])},{"./topDpiItemsLoadingModule.pug":624}],624:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiLoading" ng-class="{\'unifiLoading--hidden\': !(topDpiItemsLoadingModuleCtrl.isLoading &amp;&amp; !topDpiItemsLoadingModuleCtrl.failedToLoad)}"><div class="appContainer noPaddingLeft noPaddingRight"><div class="appRow"><div class="module--donut moduleDonutChart" ng-if="topDpiItemsLoadingModuleCtrl.withDonut" ng-class="\'col--sm\' + (12 - 12 / (topDpiItemsLoadingModuleCtrl.pagesLength + 1) * topDpiItemsLoadingModuleCtrl.pagesLength)"><unifi-donut-chart-placeholder></unifi-donut-chart-placeholder></div><div class="unifiLoadingGradient" ng-class="topDpiItemsLoadingModuleCtrl.withDonut ?           \'col--sm\' + (12 - 12 / (topDpiItemsLoadingModuleCtrl.pagesLength + 1) * topDpiItemsLoadingModuleCtrl.pagesLength) :           \'col--sm\' + (12 / topDpiItemsLoadingModuleCtrl.pagesLength)        " ng-repeat="page in topDpiItemsLoadingModuleCtrl.pages track by $index"><ul class="appMenu appMenu--transparent appMenu--smash appMenu--flexible"><li class="appMenu__item noHorizontalPadding clickable" ng-repeat="model in page track by $index"><div class="appMenuItemImage"><span class="unifiDeviceIcon dashboardModuleDummyIcon"></span></div><div class="appMenuItemContent appMenuItemContent--noWrap"><div class="appMenuItemContentLabel appMenuItemContentLabel--withoutStatus"><div class="dashboardModuleDummyText dashboardModuleDummyText--fixed100">&nbsp;</div></div><div class="appMenuItemContentValue"><div class="dashboardModuleDummyText dashboardModuleDummyText--fixed60">&nbsp;</div></div></div></li></ul></div></div></div></div>'}},{"pug-runtime":23}],625:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("TopDpiItemsModuleController",["$filter","$injector","$q","$state","$translate","BaseModelRepository","DataConverter","dynamicModules","BaseModuleController","translateResolver","DASHBOARD_COLORS","TRAFFIC",function(t,e,i,o,r,a,s,l,c,u,d,p){return new(function(f){function h(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return e.DASHBOARD_COLORS=d,e.TRAFFIC=p,e.repositories={},e.pages=[],e.isLoading=!0,e.chartConfig={dataProperty:"value",label:{main:"?",secondary:t("uppercase")(r.instant("DASHBOARD_MODULE_TOP_DPI_ITEMS_TRAFFIC"))},onClick:function(){o.go("manage.site.statistics.dpi")},type:"solid",externalRingOffset:1},e.dataConverter=(new s).deduplicatedBy("label").sortedBy("value",!0).countTotal().compactUnknown(function(t){return!t.label||"unknown"===t.label.toLowerCase()}).withUnknownDefaults({label:r.instant("DASHBOARD_MODULE_TOP_DPI_UNKNOWN")}),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(h,c),n(h,[{key:"init",value:function(){var t=this;this.initConfig(),l.load("dpi").then(function(){t.DPI_TYPES=e.get("DPI_TYPES"),t.dpiIcons=e.get("dpiIcons"),t.dpiUtils=e.get("dpiUtils"),t.SiteDpiModel=e.get("SiteDpiModel")}).then(function(){t.category=t.definition.get("attrs").category,t.setupRepository();for(var e=0,i=0;e<t.definition.get("attrs").count;e+=5,i++)t.pages.push(i);t.resolve()})}},{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"destroy",this).call(this),this.tearDownRepository()}},{key:"resolve",value:function(){var t=this,e=[u.resolve("dpiCategories")];Object.keys(this.repositories).forEach(function(i){e.push(t.repositories[i].fetch({forceFetch:!0}))}),i.all(e).then(function(){t.isLoading=!1,t.failedToLoad=!1}).catch(function(){t.failedToLoad=!0})}},{key:"retry",value:function(){this.resolve()}},{key:"setupRepository",value:function(){this.repositories.primary=new a(new this.SiteDpiModel("categories"===this.category?this.DPI_TYPES.BY_CAT:this.DPI_TYPES.BY_APP)),this.repositories.primary.model.setLimit(this.definition.get("attrs").count),this.repositories.primary.model.on("sync",this.collectData,this),this.repositories.primary.register(),this.definition.get("attrs").withDonut&&(this.repositories.totals=new a(new this.SiteDpiModel(this.DPI_TYPES.TOTAL)),this.repositories.primary.model.on("sync",this.collectDonutData,this),this.repositories.totals.model.on("sync",this.collectDonutData,this),this.repositories.totals.register())}},{key:"tearDownRepository",value:function(){this.repositories.primary&&(this.repositories.primary.model.off("sync",this.collectData,this),this.repositories.primary.unregister()),this.repositories.totals&&(this.repositories.primary.model.off("sync",this.collectDonutData,this),this.repositories.totals.model.off("sync",this.collectDonutData,this),this.repositories.totals.unregister())}},{key:"onConfigChange",value:function(){var t=this;l.load("dpi").then(function(){t.collectData(),t.updateFilterLabels()})}},{key:"onClick",value:function(t){"categories"===this.category?o.go("manage.site.statistics.dpi",{view:"category",categoryId:t.get("cat")}):o.go("manage.site.statistics.dpi",{view:"category",categoryId:t.get("cat"),applicationId:t.get("app")})}},{key:"isConfigurable",value:function(t){return this.definition.get("attrs")&&this.definition.get("attrs").defaultConfig&&this.definition.get("attrs").defaultConfig.hasOwnProperty(t)}},{key:"isAvailable",value:function(){return this.isDpiDataAvailable(this.repositories.primary)&&(!this.definition.get("attrs").withDonut||this.isDpiDataAvailable(this.repositories.totals))&&this.items&&this.items.length}},{key:"collectData",value:function(){var t=this,e=this.repositories.primary.model.get("categories"===this.category?this.DPI_TYPES.BY_CAT:this.DPI_TYPES.BY_APP);this.items=e?e.toArray().sort(function(e,i){switch(t.config.trafficType){case p.DIRECTION.TX:return i.get("tx_bytes")-e.get("tx_bytes");case p.DIRECTION.RX:return i.get("rx_bytes")-e.get("rx_bytes");case p.DIRECTION.TOTAL:default:return i.getTotalBytes()-e.getTotalBytes()}}):[]}},{key:"isDpiDataAvailable",value:function(t){return this.dpiUtils&&this.dpiUtils.isUSGFirmwareCompliant()&&t&&t.model&&t.model.get("last_updated")}},{key:"collectDonutData",value:function(){if(this.items&&this.isDpiDataAvailable(this.repositories.primary)&&this.isDpiDataAvailable(this.repositories.totals)){var e=this.items.map(function(t){return{value:t.getTotalBytes(),label:this.getName(t)}},this),i=this.dataConverter.apply(e);this.data=e;var n=this.repositories.totals.model.get(this.DPI_TYPES.TOTAL);n.getTotalBytes()>i.total.value&&this.data.push({label:r.instant("DASHBOARD_MODULE_TOP_DPI_ITEMS_OTHER"),value:n.getTotalBytes()-i.total.value}),this.chartConfig.label.main=t("bytes")(n.getTotalBytes())}else this.data=[],this.chartConfig.label.main="?"}},{key:"getName",value:function(t){switch(this.category){case"categories":return this.dpiUtils.getTranslatedCategoryName(t.getCategoryName())||r.instant("DASHBOARD_MODULE_TOP_DPI_ITEMS_UNKNOWN_CATEGORY");case"applications":return t.getApplicationName()||r.instant("DASHBOARD_MODULE_TOP_DPI_ITEMS_UNKNOWN_APPLICATION");default:return}}},{key:"getIcon",value:function(t){return("applications"===this.category?this.dpiIcons.getIconForApplication(t.getCompoundId()):this.dpiIcons.getIconForCategory(t.get("cat")))||"ubnt-icon--unknown"}},{key:"updateFilterLabels",value:function(){this.filterLabels=[],this.config.trafficType&&this.config.trafficType!==p.DIRECTION.TOTAL&&this.filterLabels.push(r.instant(t("toTranslationKey")("DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_VALUES_"+this.config.trafficType)))}},{key:"hasFilterLabels",value:function(){return!(!this.filterLabels||!this.filterLabels.length)}}]),h}())}])},{}],626:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiTopDpiItemsModule",["ModuleDirective",function(e){var i=new e("topDpiItems",t("./topDpiItemsModule.pug")());return i.addMixin({init:function(t,e,i,n){t.$watch(function(){return n.config.trafficType},function(){n.onConfigChange()})}}),i}])},{"./topDpiItemsModule.pug":627}],627:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="module module--donut module--list" ng-class="{\'is-editing\': topDpiItemsModuleCtrl.isEditingVisible &amp;&amp; !topDpiItemsModuleCtrl.isLoading}"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle" translate="{{topDpiItemsModuleCtrl.definition.get(\'translationKey\')}}"></div><div class="modularSubHeading moduleHeaderFilters" ng-if="!topDpiItemsModuleCtrl.isEditing &amp;&amp; topDpiItemsModuleCtrl.hasFilterLabels()">{{topDpiItemsModuleCtrl.filterLabels.join(\' | \')}}</div></div><unifi-loading-module unifi-loading-module-loader="topDpiItemsModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="topDpiItemsModuleCtrl.isLoading" unifi-loading-module-failed="topDpiItemsModuleCtrl.failedToLoad" unifi-loading-module-retry="topDpiItemsModuleCtrl.retry()" unifi-loading-module-layout="topDpiItemsModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !topDpiItemsModuleCtrl.isLoading,        \'animatedx fadeOut\': topDpiItemsModuleCtrl.isLoading      }"><div class="appContainer noPaddingLeft noPaddingRight" ng-if="!topDpiItemsModuleCtrl.isLoading &amp;&amp; topDpiItemsModuleCtrl.isAvailable()"><div class="appRow" ng-class="{            \'moduleDonutChart--standard10\': topDpiItemsModuleCtrl.config.palette === \'STANDARD_10\',            \'moduleDonutChart--blueGradient10\': topDpiItemsModuleCtrl.config.palette === \'BLUE_GRADIENT_10\'          }"><div class="module--donut moduleDonutChart" ng-if="topDpiItemsModuleCtrl.definition.get(\'attrs\').withDonut" ng-class="\'col--sm\' + (12 - 12 / (topDpiItemsModuleCtrl.pages.length + 1) * topDpiItemsModuleCtrl.pages.length)"><unifi-donut-chart-with-tooltip unifi-donut-chart-with-tooltip-config="topDpiItemsModuleCtrl.chartConfig" unifi-donut-chart-with-tooltip-data="topDpiItemsModuleCtrl.data"><div class="ubntTooltip noWrap"'+(i="unifi-position-absolutely",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' ng-if="tooltipVisible" ng-class="cssTooltipPosition"><div class="type-ubnt-title mb-1">{{::focusedData.label}}</div><span>{{::focusedData.value | bytes}}</span></div></unifi-donut-chart-with-tooltip></div><div ng-class="topDpiItemsModuleCtrl.definition.get(\'attrs\').withDonut ?               \'col--sm\' + (12 - 12 / (topDpiItemsModuleCtrl.pages.length + 1) * topDpiItemsModuleCtrl.pages.length) :               \'col--sm\' + (12 / topDpiItemsModuleCtrl.pages.length)            " ng-repeat="page in topDpiItemsModuleCtrl.pages"><ul class="appMenu appMenu--transparent appMenu--smash appMenu--flexible"><li class="appMenu__item noHorizontalPadding clickable" ng-repeat="model in topDpiItemsModuleCtrl.items.slice(5 * page, (5 * page) + 5) track by $index" ng-click="topDpiItemsModuleCtrl.onClick(model)"><div class="appMenuItemImage" ng-class="\'unifiChartLegendEntry__item\' + (5 * page + $index)"><div class="icon icon--medium unifiChartLegendEntry__label" ng-class="[                      topDpiItemsModuleCtrl.getIcon(model)                    ]"></div></div><div class="appMenuItemContent appMenuItemContent--noWrap"><div class="appMenuItemContentLabel horizontalRhythmLeft--smash">{{topDpiItemsModuleCtrl.getName(model)}}</div><div class="appMenuItemContentValue" ng-switch="topDpiItemsModuleCtrl.config.trafficType"><span ng-switch-when="total">{{model.getTotalBytes() | bytes}}</span><span ng-switch-when="rx">{{model.get(\'rx_bytes\') | bytes}}</span><span ng-switch-when="tx">{{model.get(\'tx_bytes\') | bytes}}</span></div></div><div class="appMenuItemIcon icon ubnt-icon--pointer-right"></div></li></ul></div></div></div><unifi-unavailable-module ng-if="!topDpiItemsModuleCtrl.isLoading &amp;&amp; !topDpiItemsModuleCtrl.isAvailable()" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_TOP_DPI_ITEMS_NO_DATA_\' + topDpiItemsModuleCtrl.category | toTranslationKey"></unifi-unavailable-module></div></div><div class="moduleEditor" ng-if="topDpiItemsModuleCtrl.isEditing"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--dark modularSubHeading--clipped moduleHeaderTitle" translate="{{topDpiItemsModuleCtrl.definition.get(\'translationKey\')}}"></div></div><div class="moduleControls"><div class="moduleControlIcon moduleControlIcon--cancelEdit primary icon ubnt-icon--flip-horizontal" ng-click="topDpiItemsModuleCtrl._isEditing = false"></div></div><div class="moduleEditorForm"><form class="appForm appForm--cozy appForm--dark"><div class="appFormGroup appFormGroup--condensed" ng-if="topDpiItemsModuleCtrl.isConfigurable(\'trafficType\')"><label class="appLabel--primary" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_LABEL"></label><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="trafficType" id="trafficTypeAll{{directiveId}}" ng-model="topDpiItemsModuleCtrl.config.trafficType" ng-value="topDpiItemsModuleCtrl.TRAFFIC.DIRECTION.TOTAL"><label for="trafficTypeAll{{directiveId}}" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_VALUES_TOTAL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="trafficType" id="trafficTypeNa{{directiveId}}" ng-model="topDpiItemsModuleCtrl.config.trafficType" ng-value="topDpiItemsModuleCtrl.TRAFFIC.DIRECTION.TX"><label for="trafficTypeNa{{directiveId}}" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_VALUES_TX"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="trafficType" id="trafficTypeNg{{directiveId}}" ng-model="topDpiItemsModuleCtrl.config.trafficType" ng-value="topDpiItemsModuleCtrl.TRAFFIC.DIRECTION.RX"><label for="trafficTypeNg{{directiveId}}" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_VALUES_RX"></label></div></div></div><div class="appFormGroup appFormGroup--condensed" ng-if="topDpiItemsModuleCtrl.definition.get(\'attrs\').withDonut"><label class="appLabel--primary">{{\'DASHBOARD_MODULE_COMMON_EDITOR_COLOR_PALETTE_LABEL\' | translate}}</label><div class="appInputGroup" ng-repeat="palette in [\'STANDARD_10\', \'BLUE_GRADIENT_10\']"><ul class="list list--inline list--smash noMarginTop"><li class="list__item horizontalRhythm--cozy"><input type="radio" name="colors" ng-value="palette" ng-model="topDpiItemsModuleCtrl.config.palette"></li><li class="list__item" ng-repeat="color in topDpiItemsModuleCtrl.DASHBOARD_COLORS[palette]"><div class="statusBall appStatusBall" ng-style="{\'background-color\': color}"></div></li></ul></div></div></form></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],628:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){var e="unifi-top-dpi-items-module";t.moduleDefinitions.add([{id:"dpi|top5|cats",loader:"top-dpi-items-5",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DPI_CATEGORIES",directive:e,preview:"images/dashboard/top-items.png",layout:"single",attrs:{count:5,category:"categories",isEditable:!0,defaultConfig:{trafficType:"total"}},requirements:{deviceType:"ugw"}},{id:"dpi|top5|donut-cats",loader:"top-dpi-items-5-donut",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DPI_CATEGORIES",directive:e,preview:"images/dashboard/list-with-donut.png",layout:"double",attrs:{count:5,withDonut:!0,category:"categories",isEditable:!0,defaultConfig:{palette:"BLUE_GRADIENT_10",trafficType:"total"}},requirements:{deviceType:"ugw"}},{id:"dpi|top5|apps",loader:"top-dpi-items-5",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DPI_APPLICATIONS",directive:e,preview:"images/dashboard/top-items.png",layout:"single",attrs:{count:5,category:"applications",isEditable:!0,defaultConfig:{trafficType:"total"}},requirements:{deviceType:"ugw"}},{id:"dpi|top5|donut-apps",loader:"top-dpi-items-5-donut",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DPI_APPLICATIONS",directive:e,preview:"images/dashboard/list-with-donut.png",layout:"double",attrs:{count:5,withDonut:!0,category:"applications",isEditable:!0,defaultConfig:{palette:"BLUE_GRADIENT_10",trafficType:"total"}},requirements:{deviceType:"ugw"}},{id:"dpi|top10|apps",loader:"top-dpi-items-10",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DPI_APPLICATIONS",directive:e,preview:"images/dashboard/top-items.png",layout:"double",attrs:{count:10,category:"applications",isEditable:!0,defaultConfig:{trafficType:"total"}},requirements:{deviceType:"ugw"}}])}])},{}],629:[function(t,e,i){"use strict";function n(){this.itemsLength=5,this.pagesLength=0,this.pageSize=5}n.prototype.updateListLength=function(t){t&&(this.itemsLength=t),this.pagesLength=Math.ceil(this.itemsLength/this.pageSize),this.pages=new Array(this.pagesLength).fill().map(function(t,e){var i=Math.min(this.pageSize,this.itemsLength-e*this.pageSize);return new Array(i).fill([])}.bind(this))},n.$inject=[],angular.module("app-unifi-manage").controller("TopItemsLoadingModuleController",n)},{}],630:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiTopItemsLoadingModule",[function(){return{scope:{itemsLength:"=unifiTopItemsLoadingModuleItemsLength"},bindToController:{failedToLoad:"=unifiTopItemsLoadingModuleFailed",isLoading:"=unifiTopItemsLoadingModuleIsLoading"},controller:"TopItemsLoadingModuleController",controllerAs:"topItemsLoadingModuleCtrl",template:t("./topItemsLoadingModule.pug")(),replace:!0,link:function(t,e,i,n){t.$watch("itemsLength",function(t){n.updateListLength(t)})}}}])},{"./topItemsLoadingModule.pug":631}],631:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiLoading" ng-class="{\'unifiLoading--hidden\': !(topItemsLoadingModuleCtrl.isLoading &amp;&amp; !topItemsLoadingModuleCtrl.failedToLoad)}"><div class="appContainer noPaddingLeft noPaddingRight"><div class="appRow"><div class="verticalRhythm--condensed unifiLoadingGradient" ng-class="\'col--sm\' + (12 / topItemsLoadingModuleCtrl.pagesLength)" ng-repeat="page in topItemsLoadingModuleCtrl.pages track by $index"><ul class="appMenu appMenu--transparent appMenu--smash appMenu--flexible"><li class="appMenu__item noHorizontalPadding clickable" ng-repeat="model in page track by $index"><div class="appMenuItemImage"><span class="unifiDeviceIcon dashboardModuleDummyIcon"></span></div><div class="appMenuItemContent appMenuItemContent--noWrap"><div class="appMenuItemContentLabel appMenuItemContentLabel--withoutStatus"><div class="dashboardModuleDummyText dashboardModuleDummyText--fixed100">&nbsp;</div></div><div class="appMenuItemContentValue"><div class="dashboardModuleDummyText dashboardModuleDummyText--fixed60">&nbsp;</div></div></div></li></ul></div></div></div></div>'}},{"pug-runtime":23}],632:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("TopItemsModuleController",["$filter","$injector","$translate","BaseModuleController","resolveRepositoryGroupControllerMixin","statsUtils","DEVICE_TYPES","TOP_ITEM_TYPES","TRAFFIC",function(t,e,i,r,a,s,l,c,u){return new(function(d){function p(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return t.TRAFFIC=u,t.repositories=[],t.pages=[],a(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(p,r),n(p,[{key:"init",value:function(){for(var t=0,i=0;t<this.definition.get("attrs").count;t+=5,i++)this.pages.push(i);var n=this.category=this.definition.get("attrs").category;this.repositories.push(n),this.listener=e.get(n).repository.collection.onEvent("update",this.collectData.bind(this),{debounceWait:1e3,throttleWait:1e3}),this.updateNotificationIcon(),o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"init",this).call(this)}},{key:"destroy",value:function(){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"destroy",this).call(this),this.unregister(),this.listener.stopListening()}},{key:"onConfigChange",value:function(){this.collectData(),this.updateTranslationKey(),this.updateFilterLabels()}},{key:"isConfigurable",value:function(t){return this.definition.get("attrs")&&this.definition.get("attrs").defaultConfig&&this.definition.get("attrs").defaultConfig.hasOwnProperty(t)}},{key:"collectData",value:function(){switch(this.definition.get("attrs").itemType){case c.MOST_ACTIVE:switch(this.definition.get("attrs").deviceType){case l.AP:this.items=s.getMostActiveAps(this.definition.get("attrs").count,this.config.radioType,this.config.trafficType);break;case l.SWITCH:this.items=s.getMostActiveSwitches(this.definition.get("attrs").count,this.config.trafficType)}break;case c.TOP_RETRIES:this.items=s.getTopRetries(this.definition.get("attrs").count,this.config.radioType,this.config.trafficType);break;case c.CHANNEL_UTIL:this.items=s.getTopChannelUtil(this.definition.get("attrs").count,this.config.radioType,this.config.trafficType);break;case c.CLIENT_COUNT:this.items=s.getTopClientCount(this.definition.get("attrs").count,this.config.radioType);break;case c.INTERFERENCE:this.items=s.getTopChannelInterference(this.definition.get("attrs").count,this.config.radioType);break;case c.MEMORY_USAGE:this.items=s.getTopMemoryUsage(this.definition.get("attrs").count);break;case c.CPU_USAGE:this.items=s.getTopCpuUsage(this.definition.get("attrs").count);break;case c.MOST_ACTIVE_CLIENTS:this.items=s.getMostActiveClients(this.definition.get("attrs").count,this.config.radioType,this.config.trafficType,this.config.connectionType);break;case c.LONGEST_CONNECTED_CLIENTS:this.items=s.getTopUptimeClients(this.definition.get("attrs").count,this.config.radioType)}}},{key:"getFormattedValue",value:function(e){switch(this.definition.get("attrs").itemType){case c.MOST_ACTIVE:switch(this.definition.get("attrs").deviceType){case l.AP:return t("bytes")(s.getMostActiveApsValue(e,this.config.radioType,this.config.trafficType));case l.SWITCH:return t("bytes")(s.getMostActiveSwitchesValue(e,this.config.trafficType))}break;case c.TOP_RETRIES:return s.getTopRetriesValue(e,this.config.radioType,this.config.trafficType)+"%";case c.CHANNEL_UTIL:return s.getTopChannelUtilValue(e,this.config.radioType,this.config.trafficType)+"%";case c.CLIENT_COUNT:return i.instant("DASHBOARD_MODULE_TOP_ITEMS_CLIENT_COUNT",{count:s.getTopClientCountValue(e,this.config.radioType)||0},"messageformat");case c.INTERFERENCE:return s.getTopChannelInterferenceValue(e,this.config.radioType)+"%";case c.MEMORY_USAGE:return e.getNested("system-stats.mem")+"%";case c.CPU_USAGE:return e.getNested("system-stats.cpu")+"%";case c.MOST_ACTIVE_CLIENTS:return t("bytes")(s.getMostActiveClientsValue(e,this.config.radioType,this.config.trafficType,this.config.connectionType));case c.LONGEST_CONNECTED_CLIENTS:return t("duration")(e.get("uptime"),"seconds","d[d] h[h] m[m]")}}},{key:"updateTranslationKey",value:function(){switch(this.translationKey=this.definition.get("translationKey"),this.ignoredFilterLabels=[],this.definition.get("attrs").itemType){case c.MOST_ACTIVE_CLIENTS:this.config.connectionType&&(this.translationKey+="_FILTERED_"+this.config.connectionType.toUpperCase(),this.ignoredFilterLabels.push("connectionType"));break;case c.CLIENT_COUNT:this.config.radioType&&(this.translationKey+="_FILTERED_"+this.config.radioType.toUpperCase(),this.ignoredFilterLabels.push("radioType"))}}},{key:"updateFilterLabels",value:function(){this.filterLabels=[],this.config.connectionType&&-1===this.ignoredFilterLabels.indexOf("connectionType")&&this.filterLabels.push(i.instant(t("toTranslationKey")("DASHBOARD_MODULE_TOP_ITEMS_EDITOR_CONNECTION_VALUES_"+this.config.connectionType))),this.isConfigurable("connectionType")&&this.config.connectionType!==u.CONNECTION.WIRELESS||!this.config.radioType||-1===this.ignoredFilterLabels.indexOf("radioType")&&this.filterLabels.push(i.instant(t("toTranslationKey")("DASHBOARD_MODULE_TOP_ITEMS_EDITOR_RADIO_VALUES_"+this.config.radioType))),this.config.trafficType&&this.config.trafficType!==u.DIRECTION.TOTAL&&-1===this.ignoredFilterLabels.indexOf("trafficType")&&this.filterLabels.push(i.instant(t("toTranslationKey")("DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_VALUES_"+this.config.trafficType)))}},{key:"hasFilterLabels",value:function(){return!(!this.filterLabels||!this.filterLabels.length)}},{key:"updateNotificationIcon",value:function(){switch(this.definition.get("attrs").itemType){case c.MOST_ACTIVE:switch(this.definition.get("attrs").deviceType){case l.AP:this.icon="ubnt-icon--ap-unifi";break;case l.SWITCH:this.icon="ubnt-icon--ethernet-port"}break;case c.TOP_RETRIES:case c.CHANNEL_UTIL:case c.CLIENT_COUNT:case c.INTERFERENCE:case c.MEMORY_USAGE:case c.CPU_USAGE:this.icon="ubnt-icon--ap-unifi";break;case c.MOST_ACTIVE_CLIENTS:case c.LONGEST_CONNECTED_CLIENTS:this.icon="ubnt-icon--users"}}}]),p}())}])},{}],633:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiTopItemsModule",["ModuleDirective",function(e){var i=new e("topItems",t("./topItemsModule.pug")());return i.addMixin({init:function(t,e,i,n){t.$watchCollection(function(){return[n.config.connectionType,n.config.radioType,n.config.trafficType]},function(){n.onConfigChange()})}}),i}])},{"./topItemsModule.pug":634}],634:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--list" ng-class="{\'is-editing\': topItemsModuleCtrl.isEditingVisible &amp;&amp; !topItemsModuleCtrl.isLoading}" unifi-bind-notifier="{edit_toggle: topItemsModuleCtrl.isEditing}"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle" translate="{{::topItemsModuleCtrl.translationKey}}"></div><div class="modularSubHeading moduleHeaderFilters" ng-if=":edit_toggle: !topItemsModuleCtrl.isEditing &amp;&amp; topItemsModuleCtrl.hasFilterLabels()">{{:edit_toggle: topItemsModuleCtrl.filterLabels.join(\' | \')}}</div></div><unifi-loading-module unifi-loading-module-loader="topItemsModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="topItemsModuleCtrl.isLoading" unifi-loading-module-failed="topItemsModuleCtrl.failedToLoad" unifi-loading-module-retry="topItemsModuleCtrl.retry()" unifi-loading-module-layout="topItemsModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !topItemsModuleCtrl.isLoading,        \'animated fadeOut\': topItemsModuleCtrl.isLoading      }"><div class="appContainer noPaddingLeft noPaddingRight" ng-if="!topItemsModuleCtrl.isLoading &amp;&amp; topItemsModuleCtrl.items.length" unifi-bind-notifier="{data_refresh: topItemsModuleCtrl.items}"><div class="appRow"><div class="verticalRhythm--condensed" ng-class="::\'col--sm\' + (12 / topItemsModuleCtrl.pages.length)" ng-repeat="page in ::topItemsModuleCtrl.pages"><ul class="appMenu appMenu--transparent appMenu--smash appMenu--flexible"><li class="appMenu__item noHorizontalPadding clickable" ng-repeat="model in :data_refresh: topItemsModuleCtrl.items.slice(5 * page, (5 * page) + 5)" ng-switch="::topItemsModuleCtrl.category" unifi-open-panel="::model" unifi-open-panel-active-tab="\'details\'"><div class="appMenuItemImage"><div ng-switch-when="devices" unifi-device-icon="::model"></div><div ng-switch-when="clients" unifi-client-icon="::model"></div></div><div class="appMenuItemContent appMenuItemContent--noWrap"><div class="appMenuItemContentLabel appMenuItemContentLabel--withStatus" ng-switch-when="devices" unifi-device-status="model" unifi-device-status-with-icons="true" unifi-device-status-label=":data_refresh: model.getDisplayName()" unifi-device-status-is-condensed="true" unifi-device-status-is-truncated="true"></div><div class="appMenuItemContentLabel horizontalRhythmLeft--smash" ng-switch-when="clients">{{:data_refresh: model.getDisplayName()}}</div><div class="appMenuItemContentValue">{{:data_refresh: topItemsModuleCtrl.getFormattedValue(model)}}</div></div><div class="appMenuItemIcon icon ubnt-icon--pointer-right"></div></li></ul></div></div></div><unifi-unavailable-module ng-if="!topItemsModuleCtrl.isLoading &amp;&amp; !topItemsModuleCtrl.items.length" unifi-unavailable-module-icon="topItemsModuleCtrl.icon" unifi-unavailable-module-translation-key="::\'DASHBOARD_MODULE_TOP_ITEMS_NO_DATA_\' + topItemsModuleCtrl.category | toTranslationKey"></unifi-unavailable-module></div></div><div class="moduleEditor" ng-if=":edit_toggle: topItemsModuleCtrl.isEditing"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--dark modularSubHeading--clipped moduleHeaderTitle" translate="{{::topItemsModuleCtrl.translationKey}}"></div></div><div class="moduleControls"><div class="moduleControlIcon moduleControlIcon--cancelEdit primary icon ubnt-icon--flip-horizontal" ng-click="topItemsModuleCtrl._isEditing = false"></div></div><div class="moduleEditorForm"><form class="appForm appForm--cozy appForm--dark"><div class="appFormGroup appFormGroup--condensed" ng-if="::topItemsModuleCtrl.isConfigurable(\'connectionType\')"><label class="appLabel--primary" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_CONNECTION_LABEL"></label><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="connectionType" id="connectionTypeAll{{::directiveId}}" ng-model="topItemsModuleCtrl.config.connectionType" ng-value="undefined"><label for="connectionTypeAll{{::directiveId}}" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_CONNECTION_VALUES_ALL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="connectionType" id="connectionTypeWireless{{::directiveId}}" ng-model="topItemsModuleCtrl.config.connectionType" value="wireless"><label for="connectionTypeWireless{{::directiveId}}" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_CONNECTION_VALUES_WIRELESS"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="connectionType" id="connectionTypeWired{{::directiveId}}" ng-model="topItemsModuleCtrl.config.connectionType" value="wired"><label for="connectionTypeWired{{::directiveId}}" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_CONNECTION_VALUES_WIRED"></label></div></div></div><div class="appFormGroup appFormGroup--condensed" ng-if="::topItemsModuleCtrl.isConfigurable(\'radioType\')" ng-show="!topItemsModuleCtrl.isConfigurable(\'connectionType\') || topItemsModuleCtrl.config.connectionType === topItemsModuleCtrl.TRAFFIC.CONNECTION.WIRELESS"><label class="appLabel--primary" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_RADIO_LABEL"></label><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="radioType" id="radioTypeAll{{::directiveId}}" ng-model="topItemsModuleCtrl.config.radioType" ng-value="undefined"><label for="radioTypeAll{{::directiveId}}" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_RADIO_VALUES_ALL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="radioType" id="radioTypeNa{{::directiveId}}" ng-model="topItemsModuleCtrl.config.radioType" value="na"><label for="radioTypeNa{{::directiveId}}" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_RADIO_VALUES_NA"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="radioType" id="radioTypeNg{{::directiveId}}" ng-model="topItemsModuleCtrl.config.radioType" value="ng"><label for="radioTypeNg{{::directiveId}}" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_RADIO_VALUES_NG"></label></div></div></div><div class="appFormGroup appFormGroup--condensed" ng-if="topItemsModuleCtrl.isConfigurable(\'trafficType\')"><label class="appLabel--primary" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_LABEL"></label><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="trafficType" id="trafficTypeAll{{::directiveId}}" ng-model="topItemsModuleCtrl.config.trafficType" ng-value="topItemsModuleCtrl.TRAFFIC.DIRECTION.TOTAL"><label for="trafficTypeAll{{::directiveId}}" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_VALUES_TOTAL"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="trafficType" id="trafficTypeNa{{::directiveId}}" ng-model="topItemsModuleCtrl.config.trafficType" ng-value="topItemsModuleCtrl.TRAFFIC.DIRECTION.TX"><label for="trafficTypeNa{{::directiveId}}" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_VALUES_TX"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="radio" name="trafficType" id="trafficTypeNg{{::directiveId}}" ng-model="topItemsModuleCtrl.config.trafficType" ng-value="topItemsModuleCtrl.TRAFFIC.DIRECTION.RX"><label for="trafficTypeNg{{::directiveId}}" translate="DASHBOARD_MODULE_TOP_ITEMS_EDITOR_TRAFFIC_VALUES_RX"></label></div></div></div></form></div></div></div>'}},{"pug-runtime":23}],635:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){var e="unifi-top-items-module";t.moduleDefinitions.add([{id:"devices|uap|top5|active",loader:"top-items-5",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_UAP_ACTIVE",directive:e,preview:"images/dashboard/top-devices-uap.png",layout:"single",attrs:{count:5,category:"devices",deviceType:"uap",itemType:"mostActive",isEditable:!0,defaultConfig:{radioType:void 0,trafficType:"total"}},requirements:{deviceType:"uap"}},{id:"devices|uap|top10|active",loader:"top-items-10",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_UAP_ACTIVE",directive:e,preview:"images/dashboard/top-devices-uap.png",layout:"double",attrs:{count:10,category:"devices",deviceType:"uap",itemType:"mostActive",isEditable:!0,defaultConfig:{radioType:void 0,trafficType:"total"}},requirements:{deviceType:"uap"}},{id:"devices|uap|top5|retries",loader:"top-items-5",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_RETRIES",directive:e,preview:"images/dashboard/top-devices-uap.png",layout:"single",attrs:{count:5,category:"devices",deviceType:"uap",itemType:"topRetries",defaultConfig:{radioType:void 0,trafficType:"total"}},requirements:{deviceType:"uap"}},{id:"devices|uap|top5|channel-util",loader:"top-items-5",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_CHANNEL_UTIL",directive:e,preview:"images/dashboard/top-devices-uap.png",layout:"single",attrs:{count:5,category:"devices",deviceType:"uap",itemType:"channelUtil",isEditable:!0,defaultConfig:{radioType:void 0,trafficType:"total"}},requirements:{deviceType:"uap"}},{id:"devices|uap|top5|client-count",loader:"top-items-5",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_UAP_CLIENT_COUNT",directive:e,preview:"images/dashboard/top-devices-uap.png",layout:"single",attrs:{count:5,category:"devices",deviceType:"uap",itemType:"ClientCount",isEditable:!0,defaultConfig:{radioType:void 0}},requirements:{deviceType:"uap"}},{id:"devices|uap|top5|interference",loader:"top-items-5",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_INTERFERENCE",directive:e,preview:"images/dashboard/top-devices-uap.png",layout:"single",attrs:{count:5,category:"devices",deviceType:"uap",itemType:"interference",isEditable:!0,defaultConfig:{radioType:void 0}},requirements:{deviceType:"uap"}},{id:"devices|uap|top5|memory",loader:"top-items-5",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_UAP_MEMORY_USAGE",directive:e,preview:"images/dashboard/top-devices-uap.png",layout:"single",attrs:{count:5,category:"devices",deviceType:"uap",itemType:"memoryUsage"},requirements:{deviceType:"uap"}},{id:"devices|uap|top5|cpu",loader:"top-items-5",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_UAP_CPU_USAGE",directive:e,preview:"images/dashboard/top-devices-uap.png",layout:"single",attrs:{count:5,category:"devices",deviceType:"uap",itemType:"cpuUsage"},requirements:{deviceType:"uap"}},{id:"devices|usw|top5|active",loader:"top-items-5",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_DEVICES_USW_ACTIVE",directive:e,preview:"images/dashboard/top-devices-usw.png",layout:"single",attrs:{count:5,category:"devices",deviceType:"usw",itemType:"mostActive",isEditable:!0,defaultConfig:{trafficType:"total"}},requirements:{deviceType:"usw"}},{id:"clients|top5|active",loader:"top-items-5",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_CLIENTS_ACTIVE",directive:e,preview:"images/dashboard/top-clients.png",layout:"single",attrs:{count:5,category:"clients",itemType:"mostActiveClients",isEditable:!0,defaultConfig:{connectionType:void 0,radioType:void 0,trafficType:"total"}},requirements:{deviceType:["uap","usw"],requireAllDevicesTypes:!1}},{id:"clients|top5|uptime",loader:"top-items-5",translationKey:"DASHBOARD_MODULE_DEFINITIONS_TOP_CLIENTS_UPTIME",directive:e,preview:"images/dashboard/top-clients.png",layout:"single",attrs:{count:5,category:"clients",itemType:"longestConnectedClients",isEditable:!0,defaultConfig:{radioType:void 0}},requirements:{deviceType:["uap","usw"],requireAllDevicesTypes:!1}}])}])},{}],636:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("TopItemsWidgetController",["clients","devices","deviceRadioUtils","statsUtils","DEVICE_TYPES","TOP_ITEM_TYPES","TRAFFIC",function(t,e,i,o,r,a,s){return new(function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.statsUtils=o,this.TOP_ITEM_TYPES=a,this.TRAFFIC=s}return n(i,[{key:"$onInit",value:function(){this.type===a.MOST_ACTIVE_CLIENTS||this.type===a.LONGEST_CONNECTED_CLIENTS?this.listener=t.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}):this.listener=e.repository.collection.onEvent("update",this.collectData.bind(this),{leading:!1}),this.collectData()}},{key:"$onDestroy",value:function(){this.listener.stopListening()}},{key:"$onChanges",value:function(){this.collectData()}},{key:"collectData",value:function(){switch(this.type){case a.MOST_ACTIVE:this.items=o.getMostActiveAps(this.limit,this.radioType.type,this.trafficType);break;case a.TOP_RETRIES:this.items=o.getTopRetries(this.limit,this.radioType.type,this.trafficType);break;case a.CHANNEL_UTIL:this.items=o.getTopChannelUtil(this.limit,this.radioType.type,this.trafficType);break;case a.CLIENT_COUNT:this.items=o.getTopClientCount(this.limit,this.radioType.type);break;case a.INTERFERENCE:this.items=o.getTopChannelInterference(this.limit,this.radioType.type);break;case a.MEMORY_USAGE:this.items=o.getTopMemoryUsage(this.limit);break;case a.CPU_USAGE:this.items=o.getTopCpuUsage(this.limit);break;case a.MOST_ACTIVE_CLIENTS:this.items=o.getMostActiveClients(this.limit,this.radioType.type,this.trafficType,this.connectionType);break;case a.LONGEST_CONNECTED_CLIENTS:this.items=o.getTopUptimeClients(this.limit,this.radioType.type)}}}]),i}())}])},{}],637:[function(t,e,i){"use strict";angular.module("app-unifi-manage").component("unifiTopItemsWidget",{controller:"TopItemsWidgetController",controllerAs:"topItemsWidgetCtrl",template:t("./topItemsWidget.pug")(),bindings:{type:"<unifiTopItemsWidgetType",radioType:"<?unifiTopItemsWidgetRadioType",trafficType:"<?unifiTopItemsWidgetTrafficType",connectionType:"<?unifiTopItemsWidgetConnectionType",limit:"<unifiTopItemsWidgetLimit"}})},{"./topItemsWidget.pug":638}],638:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiTopItemsWidget"><div class="type-ubnt-title-secondary" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE" translate="STATISTICS_TOP_ACTIVE_APS"></div><div class="type-ubnt-title-secondary" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.TOP_RETRIES" translate="STATISTICS_TOP_RETRIES"></div><div class="type-ubnt-title-secondary" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CHANNEL_UTIL" translate="STATISTICS_TOP_CHANNEL_UTIL"></div><div class="type-ubnt-title-secondary" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CLIENT_COUNT" translate="STATISTICS_TOP_CLIENTS"></div><div class="type-ubnt-title-secondary" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.INTERFERENCE" translate="STATISTICS_TOP_INTERFERENCE"></div><div class="type-ubnt-title-secondary" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MEMORY_USAGE" translate="STATISTICS_TOP_MEMORY_USAGE"></div><div class="type-ubnt-title-secondary" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CPU_USAGE" translate="STATISTICS_TOP_CPU_USAGE"></div><div class="type-ubnt-title-secondary" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE_CLIENTS" translate="STATISTICS_TOP_ACTIVE_CLIENTS"></div><div class="type-ubnt-title-secondary" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.LONGEST_CONNECTED_CLIENTS" translate="STATISTICS_TOP_CONNECTED_CLIENTS"></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--centered" ng-if="!topItemsWidgetCtrl.items || !topItemsWidgetCtrl.items.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="STATISTICS_TOP_ITEMS_NO_DATA"></p></div></div></div><table class="ubntTable ubntTable--count ubntTable--hoverable" ng-if="topItemsWidgetCtrl.items &amp;&amp; topItemsWidgetCtrl.items.length" style="table-layout: fixed;"><thead><tr><th><span translate="STATISTICS_TABLE_HEADER_NAME"></span></th><th class="unifiDownload" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE || topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE_CLIENTS"><span translate="STATISTICS_TABLE_HEADER_TX"></span></th><th class="unifiUpload" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE|| topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE_CLIENTS"><span translate="STATISTICS_TABLE_HEADER_RX"></span></th><th ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE|| topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE_CLIENTS"><span translate="STATISTICS_TABLE_HEADER_TOTAL"></span></th><th ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.TOP_RETRIES"><span translate="STATISTICS_TABLE_HEADER_TX_RETRIES"></span></th><th ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.TOP_RETRIES"><span translate="STATISTICS_TABLE_HEADER_RX_RETRIES"></span></th><th ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CHANNEL_UTIL"><span translate="STATISTICS_TABLE_HEADER_CHANNEL_UTIL_TOTAL"></span></th><th ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CHANNEL_UTIL"><span translate="STATISTICS_TABLE_HEADER_CHANNEL_UTIL_SELF_TX"></span></th><th ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CHANNEL_UTIL"><span translate="STATISTICS_TABLE_HEADER_CHANNEL_UTIL_SELF_RX"></span></th><th ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CLIENT_COUNT"><span translate="STATISTICS_TABLE_HEADER_CLIENT_COUNT" translate-values="{radioType: topItemsWidgetCtrl.radioType.frequency}"></span></th><th ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CLIENT_COUNT"><span translate="STATISTICS_TABLE_HEADER_CLIENT_COUNT_TOTAL"></span></th><th ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.INTERFERENCE"><span translate="STATISTICS_TABLE_HEADER_INTERFERENCE"></span></th><th ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CPU_USAGE"><span translate="STATISTICS_TABLE_HEADER_CPU_USAGE"></span></th><th ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MEMORY_USAGE"><span translate="STATISTICS_TABLE_HEADER_MEMORY_USAGE"></span></th><th ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.LONGEST_CONNECTED_CLIENTS"><span translate="STATISTICS_TABLE_HEADER_UPTIME"></span></th></tr></thead><tbody class="ubntTableBody"><tr class="clickable" ng-repeat="model in topItemsWidgetCtrl.items track by model.id" unifi-open-panel="::model" unifi-open-panel-active-tab="\'details\'"><td class="noPaddingLeft"><div class="ubntTooltipContainer ubntTooltipContainer--hoverable" style="max-width: 100%;"><div class="iconText appIconText" ng-if="model.modelType === \'client\'"><span class="iconText__icon" unifi-client-icon="::model"></span><span class="iconText__text truncate">{{::model.getDisplayName()}}</span></div><span class="noWrap" ng-if="model.modelType === \'device\'" unifi-device-status="::model" unifi-device-status-is-cozy="true" unifi-device-status-is-truncated="true" unifi-device-status-with-icons="true" unifi-device-status-label="::model.getDisplayName()"></span><div class="ubntTooltip ubntTooltip--topRight type--small noWrap">{{::model.getDisplayName()}}</div></div></td><td class="unifiDownload" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE">{{topItemsWidgetCtrl.statsUtils.getMostActiveApsValue(model, topItemsWidgetCtrl.radioType.type, \'tx\') | bytes}}</td><td class="unifiUpload" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE">{{topItemsWidgetCtrl.statsUtils.getMostActiveApsValue(model, topItemsWidgetCtrl.radioType.type, \'rx\') | bytes}}</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE">{{topItemsWidgetCtrl.statsUtils.getMostActiveApsValue(model, topItemsWidgetCtrl.radioType.type, \'total\') | bytes}}</td><td class="unifiDownload" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE_CLIENTS">{{topItemsWidgetCtrl.statsUtils.getMostActiveClientsValue(model, topItemsWidgetCtrl.radioType.type, \'tx\', topItemsWidgetCtrl.TRAFFIC.CONNECTION.WIRELESS) | bytes}}</td><td class="unifiUpload" ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE_CLIENTS">{{topItemsWidgetCtrl.statsUtils.getMostActiveClientsValue(model, topItemsWidgetCtrl.radioType.type, \'rx\', topItemsWidgetCtrl.TRAFFIC.CONNECTION.WIRELESS) | bytes}}</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MOST_ACTIVE_CLIENTS">{{topItemsWidgetCtrl.statsUtils.getMostActiveClientsValue(model, topItemsWidgetCtrl.radioType.type, \'total\', topItemsWidgetCtrl.TRAFFIC.CONNECTION.WIRELESS) | bytes}}</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.TOP_RETRIES">{{topItemsWidgetCtrl.statsUtils.getTopRetriesValue(model, topItemsWidgetCtrl.radioType.type, \'tx\')}}%</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.TOP_RETRIES">{{topItemsWidgetCtrl.statsUtils.getTopRetriesValue(model, topItemsWidgetCtrl.radioType.type, \'rx\')}}%</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CHANNEL_UTIL">{{topItemsWidgetCtrl.statsUtils.getTopChannelUtilValue(model, topItemsWidgetCtrl.radioType.type, \'total\')}}%</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CHANNEL_UTIL">{{topItemsWidgetCtrl.statsUtils.getTopChannelUtilValue(model, topItemsWidgetCtrl.radioType.type, \'tx\')}}%</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CHANNEL_UTIL">{{topItemsWidgetCtrl.statsUtils.getTopChannelUtilValue(model, topItemsWidgetCtrl.radioType.type, \'rx\')}}%</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CLIENT_COUNT">{{topItemsWidgetCtrl.statsUtils.getTopClientCountValue(model, topItemsWidgetCtrl.radioType.type)}}</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CLIENT_COUNT">{{::topItemsWidgetCtrl.statsUtils.getTopClientCountValue(model)}}</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.INTERFERENCE">{{topItemsWidgetCtrl.statsUtils.getTopChannelInterferenceValue(model, topItemsWidgetCtrl.radioType.type)}}%</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.MEMORY_USAGE">{{model.getNested(\'system-stats.mem\')}}%</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.CPU_USAGE">{{model.getNested(\'system-stats.cpu\')}}%</td><td ng-if="::topItemsWidgetCtrl.type === topItemsWidgetCtrl.TOP_ITEM_TYPES.LONGEST_CONNECTED_CLIENTS">{{model.get(\'uptime\') | duration: \'seconds\': \'d[d] h[h] m[m]\'}}</td></tr></tbody></table></div>'}},{"pug-runtime":23}],639:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiTruthyCheckbox",[function(){return{restrict:"A",require:"ngModel",link:function(t,e,i,n){var o=t.$eval(i.unifiTruthyCheckboxFalseValue);i.$observe("unifiTruthyCheckboxFalseValue",function(e){o=t.$eval(e)});var r=t.$eval(i.unifiTruthyCheckboxDefaultTrueValue);i.$observe("unifiTruthyCheckboxDefaultTrueValue",function(e){r=t.$eval(e)});var a=r;n.$formatters.push(function(t){var e=t!==o;return e&&angular.isDefined(t)&&(a=t),e}),n.$parsers.push(function(t){return t?a:o})}}}])},{}],640:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t,e,i){this.deviceRadioUtils=t,this.deviceWlanGroupUtils=e,this.txRateStatus=i,n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){this.radios=this.model&&this.deviceRadioUtils.getRadiosByType(this.model,this.radioType,{})||[]},o.$inject=["deviceRadioUtils","deviceWlanGroupUtils","txRateStatus"],angular.module("app-unifi-manage").controller("TxRateStatusBarController",o)},{}],641:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiTxRateStatusBar",["updateModelDirectiveMixin",function(e){return{scope:{_model:"=unifiTxRateStatusBarModel",radioType:"=unifiTxRateStatusBarRadioType"},controller:"TxRateStatusBarController",controllerAs:"txRateStatusBarCtrl",bindToController:!0,template:t("./txRateStatusBar.pug")(),link:function(t,i,n,o){e.init(t,i,n,o,!1,"txRateStatusBarCtrl._model")}}}])},{"./txRateStatusBar.pug":642}],642:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appTooltipContainer appTooltipContainer--hoverable noLineHeight fullWidth" ng-repeat="radio in txRateStatusBarCtrl.radios" ng-init="item = txRateStatusBarCtrl.txRateStatus.getData(txRateStatusBarCtrl.model, radio)" ng-class="{\'is-cell-disabled\': txRateStatusBarCtrl.deviceWlanGroupUtils.isWlanGroupOff(radio)}"><div class="appStatusBar appStatusBar--ratio appStatusBar--small" ng-if="item"><div class="statusBar__inner appStatusBarInner--low" ng-if="item.widths[0] &gt; 0" ng-style="{width: item.widths[0] + \'%\'}"></div><div class="statusBar__inner appStatusBarInner--medium" ng-if="item.widths[1] &gt; 0" ng-style="{width: item.widths[1] + \'%\'}"></div><div class="statusBar__inner appStatusBarInner--high" ng-if="item.widths[2] &gt; 0" ng-style="{width: item.widths[2] + \'%\'}"></div></div><div class="appTooltip appTooltip--cozy appTooltip--brief appTooltip--bottom"><div class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow appDescriptionListRow--cozy timeout"><dt class="alignRight">{{\'DEVICE_TOOLTIP_TX_RATE_STATUS_TIMEOUT\' | translate}}</dt><dd class="alignLeft">{{::item.values[0] | numberToString}}</dd></div><div class="appDescriptionListRow appDescriptionListRow--cozy retry"><dt class="alignRight">{{\'DEVICE_TOOLTIP_TX_RATE_STATUS_RETRY\' | translate}}</dt><dd class="alignLeft">{{::item.values[1] | numberToString}}</dd></div><div class="appDescriptionListRow appDescriptionListRow--cozy total"><dt class="alignRight">{{\'DEVICE_TOOLTIP_TX_RATE_STATUS_TOTAL\' | translate}}</dt><dd class="alignLeft">{{::item.values[2] | numberToString}}</dd></div></div></div></div>'}},{"pug-runtime":23}],643:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiUnreadAlerts",["alerts",function(e){return{scope:!0,template:t("./unreadAlerts.pug")(),link:function(t){t.getCount=function(){return e.repositories.unread.model.get("count")},t.getTruncatedCount=function(){var t=this.getCount();return t>99?"99+":t+""}}}}])},{"./unreadAlerts.pug":644}],644:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="count count--round appCount appCount--warning" ng-if="getCount() &gt; 0"><div class="count__value">{{getTruncatedCount()}}</div></div>'}},{"pug-runtime":23}],645:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiUpgradingWhiteoutNotice",["deviceStateUtils","DEVICE_STATES",function(e,i){return{scope:{model:"=unifiUpgradingWhiteoutNotice"},template:t("./upgradingWhiteoutNotice.pug")(),link:function(t){t.$watch(function(){return t.model?e.getRawDeviceState(t.model):void 0},function(e){t.isUpgrading=e===i.UPGRADING})}}}])},{"./upgradingWhiteoutNotice.pug":646}],646:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiWhiteoutNotice unifiWhiteoutNotice--panelItem" ng-if="isUpgrading"><div class="unifiWhiteoutNotice__content"><div class="appInfoBox appInfoBox--warning appInfoBox--noBorder appInfoBox--flexible"><div class="appInfoBox__icon icon ubnt-icon--clock-2"></div><div class="appInfoBox__content"><div class="appInfoBox__body verticalRhythmTop--condensed"><p translate="COMMON_NOTICE_DISABLED_DURING_UPGRADE"></p></div></div></div></div></div>'}},{"pug-runtime":23}],647:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiUploadGuestPortalImage",["$q","$translate","fileUtils","heyToasts","UPLOAD_SETTINGS",function(e,i,n,o,r){return{replace:!0,restrict:"E",require:"ngModel",scope:{model:"=ngModel",labelChange:"@unifiUploadGuestPortalImageLabelChange",labelUpload:"@unifiUploadGuestPortalImageLabelUpload"},template:t("./uploadGuestPortalImage.pug")(),link:function(t,a,s,l){t.select=function(t){var a=t[0];a&&a instanceof Blob&&n.extractBlobHeader(a,4).then(function(t){if(-1===r.ALLOWED_IMAGE_HEADERS.indexOf(t))return e.reject();n.readLocalToUrl(a).then(function(t){l.$setViewValue({file:a,url:t})})}).catch(function(){o.pushError(i.instant("SETTINGS_GUEST_CONTROL_IMAGE_ERROR"))})}}}}])},{"./uploadGuestPortalImage.pug":648}],648:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<span><button class="appTextButton" type="button" ngf-select="true" accept="image/x-png,image/gif,image/jpeg" ngf-change="select($files)">{{ (model ? labelChange : labelUpload) | translate }}</button></span>'}},{"pug-runtime":23}],649:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiUsePlaceholder",["$timeout",function(t){return{restrict:"A",require:"ngModel",link:function(e,i,n,o){var r=!0,a=!1,s=function(){return i[0].getAttribute("placeholder")},l=function(t){t&&(!o.$viewValue||o.$pristine&&a)&&(o.$setViewValue(t),o.$setPristine(!0),o.$render(),a=!0)},c=e.$watch(n.unifiUsePlaceholderNonEmpty,function(t){r=!t,c()});t(function(){e.$watch(function(){return s()},function(t){l(t)}),e.$watch(function(){return o.$modelValue},function(t){if(!t){var e=s();l(e)}})},0),o.$parsers.push(function(t){if(!t)if(r)!function(t){i[0].setAttribute("placeholder",t)}(t);else{var e=s();l(e),t=e}return t})}}}])},{}],650:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiValidateClientMac",function(){return{restrict:"A",require:"ngModel",link:function(t,e,i,n){var o=/^01([:-][0-9A-F]{2}){5}$/i;n.$parsers.push(function(t){var e="ff:ff:ff:ff:ff:ff"!==t;return n.$setValidity("broadcast",e),t}),n.$parsers.push(function(t){var e=!o.test(t);return n.$setValidity("multicast",e),t})}}})},{}],651:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiValidateDuplicateInCollection",function(){return{restrict:"A",require:"ngModel",link:function(t,e,i,n){var o=t.$eval(i.unifiValidateDuplicateInCollection),r=t.$eval(i.unifiValidateDuplicateInCollectionParam),a=t.$eval(i.unifiValidateDuplicateInCollectionLowerCase)||!1,s=t.$eval(i.unifiValidateDuplicateInCollectionIgnoreCurrentModel)||!1;n.$parsers.push(function(e){return o.some(function(i){var n=i.get(r);a&&"string"==typeof n&&(n=n.toLowerCase(),e=e.toLowerCase());var o=s?t.model:void 0;return(!o||i.id!==o.id)&&n===e})?n.$setValidity("alreadyInCollection",!1):n.$setValidity("alreadyInCollection",!0),e})}}})},{}],652:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiValidateDuplicates",["_",function(t){return{require:"ngModel",link:function(e,i,n,o){o.$validators.duplicate=function(){return t.chain(o.$$parentForm.$$controls).filter(function(t){return o.$name===t.$name}).groupBy(function(t){return t.$viewValue}).reduce(function(t,e){return e.forEach(function(i){var n=1===e.length||!i.$viewValue;o===i?t=n:i.$setValidity("duplicate",n)}),t},!1).value()}}}}])},{}],653:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiValidateIpEqualVersion",["$parse","regexUtils","REGEX_PATTERNS",function(t,e,i){return{require:"ngModel",link:function(n,o,r,a){var s={ipv4:e.or([i.IPV4_ADDRESS,i.IPV4_SUBNET]),ipv6:e.or([i.IPV6_ADDRESS,i.IPV6_SUBNET])};n.$watch(r.unifiValidateIpEqualVersion,function(){a.$validate()}),a.$validators.hasToBeIpv4=function(e,i){if(i){var o=t(r.unifiValidateIpEqualVersion)(n),a=s.ipv4.test(o);return!(s.ipv6.test(i)&&a)}return!0},a.$validators.hasToBeIpv6=function(e,i){if(i){var o=t(r.unifiValidateIpEqualVersion)(n),a=s.ipv6.test(o);return!(s.ipv4.test(i)&&a)}return!0}}}}])},{}],654:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiValidateIpInSubnet",["$parse","ipUtils","REGEX_PATTERNS",function(t,e,i){return{require:"ngModel",link:function(n,o,r,a){n.$watch(r.unifiValidateIpInSubnet,function(){a.$validate()}),a.$validators.ipInSubnet=function(o,a){if(!a)return!0;if(a.match(i.IPV4_ADDRESS)){var s=t(r.unifiValidateIpInSubnet)(n);return!s||e.subnetHasIp(s,a)}return!1}}}}])},{}],655:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiValidateIpRange",["REGEX_PATTERNS",function(t){return{require:"ngModel",link:function(e,i,n,o){o.$validators.ipRange=function(e,i){if(i){var n=!1;if("!"===i.charAt(0)&&(i=i.substring(1)),n||(n=i.match(t.IPV4_ADDRESS)),!n){var o=i.split("-");n=o&&2===o.length&&o[0].match(t.IPV4_ADDRESS)&&o[1].match(t.IPV4_ADDRESS)}if(!n&&i.match(t.IPV4_SUBNET)){var r=i.split("/");n=r[0].match(t.IPV4_ADDRESS)&&parseInt(r[1],10)<=32}return n}return!0}}}}])},{}],656:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiValidateIpv6InSubnet",["$parse","ipv6Utils","REGEX_PATTERNS",function(t,e,i){return{require:"ngModel",link:function(n,o,r,a){n.$watch(r.unifiValidateIpv6InSubnet,function(){a.$validate()}),a.$validators.ipv6InSubnet=function(o,a){if(!a)return!0;var s=t(r.unifiValidateIpv6InSubnet)(n);return!s||!!a.match(i.IPV6_ADDRESS)&&e.subnetHasIp(s,a)}}}}])},{}],657:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiValidateIpv6Range",["REGEX_PATTERNS",function(t){return{require:"ngModel",link:function(e,i,n,o){o.$validators.ipv6Range=function(e,i){if(i){var n=!1;if("!"===i.charAt(0)&&(i=i.substring(1)),n||(n=i.match(t.IPV6_ADDRESS)),!n){var o=i.split("-");n=o&&2===o.length&&o[0].match(t.IPV6_ADDRESS)&&o[1].match(t.IPV6_ADDRESS)}if(!n&&i.match(t.IPV6_SUBNET)){var r=i.split("/");n=r[0].match(t.IPV6_ADDRESS)&&parseInt(r[1],10)<=128}return n}return!0}}}}])},{}],658:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiValidateNetmask",["$parse","ipUtils","REGEX_PATTERNS",function(t,e,i){return{require:"ngModel",link:function(n,o,r,a){n.$watch(r.unifiValidateNetmask,function(){a.$validate()}),a.$validators.netmask=function(o,a){if(!a)return!0;if(a.match(i.IPV4_NETMASK)){var s=t(r.unifiValidateNetmask)(n),l=t(r.unifiValidateNetmaskRfc3021Compliance)(n)||!1;return!s||(!(!l||!e.isMask31(a))||e.isUsableIp(s,a))}return!1}}}}])},{}],659:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiValidateNotEqual",[function(){return{require:"ngModel",scope:{value:"=unifiValidateNotEqual"},link:function(t,e,i,n){n.$validators.notEqual=function(e,i){return void 0===t.value||t.value!==i}}}}])},{}],660:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiValidatePatterns",["$parse",function(t){return{require:"ngModel",link:function(e,i,n,o){o.$validators.patterns=function(i,o){if(o){var r=t(n.unifiValidatePatterns)(e),a=t(n.unifiValidatePatternsMatchAll)(e)?"every":"some";return!r||!r.length||r[a](function(t){return t.test(o)})}return!0}}}}])},{}],661:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiValidatePortRange",[function(){return{require:"ngModel",link:function(t,e,i,n){var o=function(t){return t&&(""+t).match(/^\d+$/)};n.$validators.portRange=function(t,e){if(e){var i=e.split(/[,-]+/g),n=e.match(/\d*-\d*/g),r=i.length<=15;return r&&angular.forEach(i,function(t){(!o(t)||isNaN(t=parseInt(t,10))||t<1||t>65535)&&(r=!1)}),r&&angular.forEach(n,function(t){var e=t.split("-");(!o(e[0])||!o(e[1])||parseInt(e[0],10)>=parseInt(e[1],10))&&(r=!1)}),r}return!0}}}}])},{}],662:[function(t,e,i){"use strict";function n(){this.itemsLength=2}n.prototype.updateListLength=function(t){t&&(this.itemsLength=t),this.elements=new Array(this.itemsLength)},n.$inject=[],angular.module("app-unifi-manage").controller("VpnListLoadingModuleController",n)},{}],663:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiVpnListLoadingModule",[function(){return{scope:{itemsLength:"=unifiVpnListLoadingModuleItemsLength"},bindToController:{failedToLoad:"=unifiVpnListLoadingModuleFailed",isLoading:"=unifiVpnListLoadingModuleIsLoading"},controller:"VpnListLoadingModuleController",controllerAs:"vpnListLoadingModuleCtrl",template:t("./vpnListLoadingModule.pug")(),replace:!0,link:function(t,e,i,n){t.$watch("itemsLength",function(t){n.updateListLength(t)})}}}])},{"./vpnListLoadingModule.pug":664}],664:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiLoading" ng-class="{\'unifiLoading--hidden\': !(vpnListLoadingModuleCtrl.isLoading &amp;&amp; !vpnListLoadingModuleCtrl.failedToLoad)}"><div class="unifiLoadingGradient"><table class="appTable appTable--noWrap appTable--light appTable--transparent appTable--condensed appTable--noPadding appTable--quietHeader appTable--quietBody"><thead><tr><th class="vpnName"><span translate="DASHBOARD_MODULE_VPN_TABLE_HEADER_NAME"></span></th><th class="vpnStatus alignCenter"><span translate="DASHBOARD_MODULE_VPN_TABLE_HEADER_STATUS"></span></th><th class="vpnTunnels"><span translate="DASHBOARD_MODULE_VPN_TABLE_HEADER_TUNNELS"></span></th><th class="vpnAvgTxData visible--lgUp"><span translate="DASHBOARD_MODULE_VPN_TABLE_HEADER_AVG_TX_DATA"></span></th><th class="vpnAvgRxData visible--lgUp"><span translate="DASHBOARD_MODULE_VPN_TABLE_HEADER_AVG_RX_DATA"></span></th></tr></thead><tbody><tr ng-repeat="step in vpnListLoadingModuleCtrl.elements track by $index"><td class="vpnName"><div class="dashboardModuleDummyText dashboardModuleDummyText--large">&nbsp;</div></td><td class="vpnStatus alignCenter"><div class="statusBall appStatusBall"></div></td><td class="vpnTunnels"><div class="dashboardModuleDummyText dashboardModuleDummyText--small">&nbsp;</div></td><td class="visible--lgUp"><div class="dashboardModuleDummyText dashboardModuleDummyText--large">&nbsp;</div></td><td class="visible--lgUp"><div class="dashboardModuleDummyText dashboardModuleDummyText--full">&nbsp;</div></td></tr></tbody></table></div></div>'}},{"pug-runtime":23}],665:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("VpnListModuleController",["$q","BaseListController","moduleControllerMixin","networks","resolveRepositoryGroupControllerMixin","remoteUserVpn","SimpleModelFilter",function(t,e,i,o,r,a,s){return new(function(t){function l(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return t.skipInitialization=!0,t.currentPage=1,t.rowsPerPage=5,t.repositories=["networks","remoteUserVpn"],t.listeners={},t.defaultSortBy="name",t.filter=new s,t.tunnelSummary={},r(t),i(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,e),n(l,[{key:"init",value:function(){this.listeners={networks:o.repository.collection.onUpdate(this.updateTunnelSummary.bind(this)),remoteUserVpn:a.repository.collection.onUpdate(this.updateTunnelSummary.bind(this))},this.initConfig(),this.resolve(),this.initFilters(),this.initView()}},{key:"initFilters",value:function(){this.filter.removeAttributeFilter("purpose"),this.filter.addAttributeFilter("purpose","remote-user-vpn")}},{key:"getCollection",value:function(){return o.repository.collection}},{key:"updateTunnelSummary",value:function(){var t=this;o.repository.collection.each(function(e){var i=0,n=0,o=0;a.repository.collection.forEach(function(t){t.get("network_id")===e.id&&(i++,n+=t.get("tx_bytes"),o+=t.get("rx_bytes"))}),t.tunnelSummary[e.id]=t.tunnelSummary[e.id]||{},t.tunnelSummary[e.id].tunnels=i,t.tunnelSummary[e.id].tx=Math.round(n/i),t.tunnelSummary[e.id].rx=Math.round(o/i)})}},{key:"destroy",value:function(){var t=this;Object.keys(this.listeners).forEach(function(e){t.listeners[e].stopListening()}),this.unregister(),this.destroyView()}}]),l}())}])},{}],666:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiVpnListModule",["ModuleDirective",function(e){return new e("vpnList",t("./vpnListModule.pug")())}])},{"./vpnListModule.pug":667}],667:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--table"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle">{{vpnListModuleCtrl.definition.get(\'translationKey\') | translate}}</div></div><unifi-loading-module unifi-loading-module-loader="vpnListModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="vpnListModuleCtrl.isLoading" unifi-loading-module-failed="vpnListModuleCtrl.failedToLoad" unifi-loading-module-retry="vpnListModuleCtrl.retry()" unifi-loading-module-layout="vpnListModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !vpnListModuleCtrl.isLoading,        \'animated fadeOut\': vpnListModuleCtrl.isLoading      }"><table class="appTable appTable--noWrap appTable--light appTable--transparent appTable--condensed appTable--noPadding appTable--quietHeader appTable--quietBody" ng-show="!vpnListModuleCtrl.isLoading &amp;&amp; vpnListModuleCtrl.view.getModels().length"><thead><tr><th class="vpnName"><span translate="DASHBOARD_MODULE_VPN_TABLE_HEADER_NAME"></span></th><th class="vpnStatus alignCenter"><span translate="DASHBOARD_MODULE_VPN_TABLE_HEADER_STATUS"></span></th><th class="vpnTunnels"><span translate="DASHBOARD_MODULE_VPN_TABLE_HEADER_TUNNELS"></span></th><th class="vpnAvgTxData visible--lgUp"><span translate="DASHBOARD_MODULE_VPN_TABLE_HEADER_AVG_TX_DATA"></span></th><th class="vpnAvgRxData visible--lgUp"><span translate="DASHBOARD_MODULE_VPN_TABLE_HEADER_AVG_RX_DATA"></span></th></tr></thead><tfoot ng-if="vpnListModuleCtrl.view.getModels().length"><tr><td class="visible--lgUp" colspan="5"><unifi-micro-pagination unifi-micro-pagination-current-page="vpnListModuleCtrl.currentPage" unifi-micro-pagination-rows-per-page="vpnListModuleCtrl.rowsPerPage" unifi-micro-pagination-total-rows="vpnListModuleCtrl.view.getModels().length" unifi-micro-pagination-hide-current-state="true"></unifi-micro-pagination></td><td class="visible--mdDown" colspan="3"><unifi-micro-pagination unifi-micro-pagination-current-page="vpnListModuleCtrl.currentPage" unifi-micro-pagination-rows-per-page="vpnListModuleCtrl.rowsPerPage" unifi-micro-pagination-total-rows="vpnListModuleCtrl.view.getModels().length" unifi-micro-pagination-hide-current-state="true"></unifi-micro-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in vpnListModuleCtrl.view.getModels(),              startFrom (vpnListModuleCtrl.currentPage - 1) * vpnListModuleCtrl.rowsPerPage,              limitTo vpnListModuleCtrl.rowsPerPage" collection-view-repeat-watch-all="vpnListModuleCtrl.tunnelSummary"><td class="vpnName"><span>{{model.get(\'name\')}}</span></td><td class="vpnStatus alignCenter"><div class="statusBall appStatusBall" ng-class="model.get(\'enabled\') ? \'appStatusBall--positive\' : \'appStatusBall--static\'"></div></td><td class="vpnTunnels"><span>{{vpnListModuleCtrl.tunnelSummary[model.id].tunnels || 0}}</span></td><td class="visible--lgUp"><span>{{vpnListModuleCtrl.tunnelSummary[model.id].tx || 0 | bytes}}</span></td><td class="visible--lgUp"><span>{{vpnListModuleCtrl.tunnelSummary[model.id].rx || 0 | bytes}}</span></td></tr></tbody></table><unifi-unavailable-module ng-if="!vpnListModuleCtrl.isLoading &amp;&amp; !vpnListModuleCtrl.view.getModels().length" unifi-unavailable-module-icon="\'ubnt-icon--alert\'" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_VPN_TABLE_EMPTY_NO_DATA\'"></unifi-unavailable-module></div></div></div>'}},{"pug-runtime":23}],668:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"vpn|list",loader:"vpn-list",translationKey:"DASHBOARD_MODULE_DEFINITIONS_VPN_LIST",directive:"unifi-vpn-list-module",preview:"images/dashboard/table.png",layout:"double",requirements:{deviceType:"ugw"}}])}])},{}],669:[function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function o(t,e,i,n,o){this.chartUtils=i,this.dashboardStats=n,this.siteStatus=o,this.LATENCY_HISTOGRAM_RESOLUTION=38,this.THROUGHPUT_HISTOGRAM_RESOLUTION=34;var r=function(t,e){return Math.min(1,.1+(e?Math.sqrt(t/e):0))},a=function(t){return t.slice().sort(function(t,e){return t-e}).reverse()[3]};this.latencyConfig={label:e.instant("DASHBOARD_MODULE_STATUS_MEGA_LABEL_LATENCY"),xAxisFormat:function(e){return angular.isNumber(e)?t("milliseconds")(e).toUpperCase():""},max:0,glowThreshold:a,opacity:r},this.throughputConfig={glowThreshold:a,opacity:r},this.collectDashboardStats()}o.prototype.addEventHandlers=function(){this.listener=this.dashboardStats.repository.collection.onEvent("update",this.collectDashboardStats.bind(this),{leading:!1}),this.dashboardStats.repository.registerAndFetch()},o.prototype.removeEventHandlers=function(){this.listener.stopListening(),this.dashboardStats.repository.unregister()},o.prototype.collectDashboardStats=function(){if(this.data=this.dashboardStats.getChartData(),0===this.data.entries.length)this.isLoading=!0,this.latencyData=new Array(34).fill(0),this.latencyConfig.markerPosition=void 0,this.throughputData=new Array(38).fill(0),this.throughputConfig.markerPosition=void 0;else{this.isLoading=!1;var t=this.data.entries.filter(function(t){return angular.isNumber(t.latencyMs)}).map(function(t){return t.latencyMs});this.siteStatus.updateWanStatus(t),this.latencyData=this.chartUtils.prepareHistogram(t,this.LATENCY_HISTOGRAM_RESOLUTION),this.latencyConfig.max=Math.ceil(t.length?Math.max.apply(Math,n(t)):30),this.latencyConfig.markerPosition=t.pop()/this.latencyConfig.max*this.latencyData.length;var e=this.data.entries.filter(function(t){return angular.isNumber(t.download)}).map(function(t){return t.download});this.throughputData=this.chartUtils.prepareHistogram(e,this.THROUGHPUT_HISTOGRAM_RESOLUTION);var i=Math.max.apply(Math,n(e)),o=e.pop();this.throughputConfig.markerPosition=i&&o/i*this.throughputData.length}},o.$inject=["$filter","$translate","chartUtils","dashboardStats","siteStatus"],angular.module("app-unifi-manage").controller("WanHistogramController",o)},{}],670:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiWanHistogram",["eventHandlersDirectiveMixin",function(e){return{scope:{isDark:"=?unifiWanHistogramIsDark"},controller:"WanHistogramController",controllerAs:"wanHistogramCtrl",replace:!0,bindToController:!0,template:t("./wanHistogram.pug")(),link:function(t,i,n,o){e.init(t,i,n,o)}}}])},{"./wanHistogram.pug":671}],671:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiHistogramContainer"><ng-d3-svg-pattern ng-d3-svg-pattern-id="glow" ng-d3-svg-pattern-type="glow" ng-d3-svg-pattern-options="{ weight: 2, repeat: 3 }"></ng-d3-svg-pattern><div class="unifiHistogramDonutContainer"><unifi-histogram-donut-chart class="fullWidth fullHeight" ng-class="{\'unifiHistogramDonutChart--isLoading\': wanHistogramCtrl.isLoading}" unifi-histogram-donut-chart-config="wanHistogramCtrl.throughputConfig" unifi-histogram-donut-chart-data="wanHistogramCtrl.throughputData" unifi-histogram-donut-chart-is-dark="wanHistogramCtrl.isDark"></unifi-histogram-donut-chart><div class="unifiHistogramDonutLegend" ng-class="{\'unifiHistogramDonutLegend--dark\': wanHistogramCtrl.isDark}"><div class="unifiHistogramDonutLegend__status" ng-switch="wanHistogramCtrl.siteStatus.getWanStatus()"><div ng-switch-when="UNAVAILABLE">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_UNAVAILABLE\' | translate}}</div><div ng-switch-when="UNKNOWN">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_UNKNOWN\' | translate}}</div><div class="unifiHistogramDonutLegend__status--good" ng-switch-when="EXCELLENT">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_EXCELLENT\' | translate}}</div><div class="unifiHistogramDonutLegend__status--good" ng-switch-when="GOOD">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_GOOD\' | translate}}</div><div class="unifiHistogramDonutLegend__status--warn" ng-switch-when="FAIR">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_FAIR\' | translate}}</div><div class="unifiHistogramDonutLegend__status--warn" ng-switch-when="POOR">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_POOR\' | translate}}</div><div class="unifiHistogramDonutLegend__status--bad" ng-switch-when="BAD">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_BAD\' | translate}}</div></div><div class="unifiHistogramDonutLegend__mainLabel">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_CAPACITY_LOAD\' | translate}}</div><div class="unifiHistogramDonutLegend__secondaryLabel">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_PAST_24H\' | translate}}</div><div class="unifiHistogramDonutLegend__bottom"><div class="unifiHistogramDonutLegend__leftRange uppercase">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_MIN\' | translate}}</div><div class="unifiHistogramDonutLegend__rightRange uppercase">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_MAX\' | translate}}</div></div></div></div><div class="unifiHistogramBarChartContainer"><unifi-histogram-bar-chart ng-class="{\'unifiHistogramBarChart--isLoading\': wanHistogramCtrl.isLoading}" unifi-histogram-bar-chart-config="wanHistogramCtrl.latencyConfig" unifi-histogram-bar-chart-data="wanHistogramCtrl.latencyData"></unifi-histogram-bar-chart></div></div>'}},{"pug-runtime":23}],672:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("WanHistogramModuleController",["gatewayUtils","BaseModuleController","resolveRepositoryGroupControllerMixin",function(t,e,i){return new(function(o){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.repositories=["dashboardStats","siteHealth"],i(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,e),n(r,[{key:"isAvailable",value:function(){return t.hasSiteGateway()}}]),r}())}])},{}],673:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiWanHistogramModule",["ModuleDirective",function(e){return new e("wanHistogram",t("./wanHistogramModule.pug")(),{isDark:"=?unifiWanHistogramModuleIsDark"})}])},{"./wanHistogramModule.pug":674}],674:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--histogram"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle">{{wanHistogramModuleCtrl.definition.get(\'translationKey\') | translate}}</div></div><unifi-loading-module unifi-loading-module-loader="wanHistogramModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="wanHistogramModuleCtrl.isLoading" unifi-loading-module-failed="wanHistogramModuleCtrl.failedToLoad" unifi-loading-module-retry="wanHistogramModuleCtrl.retry()" unifi-loading-module-layout="wanHistogramModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !wanHistogramModuleCtrl.isLoading,        \'animated fadeOut\': wanHistogramModuleCtrl.isLoading      }"><div ng-if="!wanHistogramModuleCtrl.isLoading &amp;&amp; wanHistogramModuleCtrl.isAvailable()"><unifi-wan-histogram></unifi-wan-histogram></div><unifi-unavailable-module ng-if="!wanHistogramModuleCtrl.isLoading &amp;&amp; !wanHistogramModuleCtrl.isAvailable()" unifi-unavailable-module-icon="\'ubnt-icon--shield\'" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_WAN_HISTOGRAM_UNAVAILABLE\'"></unifi-unavailable-module></div></div></div>'}},{"pug-runtime":23}],675:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"histogram|wan",translationKey:"DASHBOARD_MODULE_DEFINITIONS_WAN_HISTOGRAM",directive:"unifi-wan-histogram-module",preview:"images/dashboard/placeholder.png",layout:"single",requirements:{deviceType:"ugw"},isHidden:!0}])}])},{}],676:[function(t,e,i){"use strict";angular.module("app-unifi-manage").controller("WifiAssociationsModuleController",["WifiClientsModuleController",function(t){return new(function(e){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,t),i}())}])},{}],677:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiWifiAssociationsModule",["ModuleDirective",function(e){var i=new e("wifiAssociations",t("./wifiAssociationsModule.pug")());return i.addMixin({init:function(t,e,i,n){t.$on(n.chartConfig.dataMarkEvent,function(t,e){n.markItem(e)}),t.$watchCollection(n.getFilteredTimeRange.bind(n),function(t){t&&(n.updateTimeRange(),!n.data.length&&n.prepareFakeData())})}}),i}])},{"./wifiAssociationsModule.pug":678}],678:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="module module--wifiAssociations unifiWifiAssociationsModule" ng-class="{    \'unifiWifiAssociationsModule--isInitializing\' : wifiAssociationsModuleCtrl.isInitializing,    \'unifiWifiAssociationsModule--isLoading\' : wifiAssociationsModuleCtrl.isLoading  }"><div class="moduleContent moduleContent--flexible"><div class="moduleHeader moduleHeader--withLineChart"><div class="modularSubHeading modularSubHeading--clipped"><div class="moduleHeaderTitle" translate="{{::wifiAssociationsModuleCtrl.definition.get(\'translationKey\')}}"></div></div><div class="modularSubHeading modularSubHeading--secondary moduleHeaderLegend"><div class="moduleHeaderLegendItem"><div class="statusBall appStatusBall appStatusBall--smash moduleHeaderLegend__statusBall--existing"></div><div class="moduleHeaderLegendLabel" translate="DASHBOARD_MODULE_WIFI_ASSOCIATIONS_EXISTING"></div></div><div class="moduleHeaderLegendItem"><div class="statusBall appStatusBall appStatusBall--smash moduleHeaderLegend__statusBall--new"></div><div class="moduleHeaderLegendLabel" translate="DASHBOARD_MODULE_WIFI_ASSOCIATIONS_NEW"></div></div><div class="moduleHeaderLegendItem"><div class="statusBall appStatusBall appStatusBall--smash moduleHeaderLegend__statusBall--disconnected"></div><div class="moduleHeaderLegendLabel" translate="DASHBOARD_MODULE_WIFI_ASSOCIATIONS_DISCONNECTED"></div></div></div></div><unifi-loading-module unifi-loading-module-loader="wifiAssociationsModuleCtrl.definition.get(\'loader\')" unifi-loading-module-failed="wifiAssociationsModuleCtrl.failedToLoad" unifi-loading-module-retry="wifiAssociationsModuleCtrl.retry()" unifi-loading-module-layout="wifiAssociationsModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div class="moduleContentStretched" ng-class="{        \'noPointerEvents\': wifiAssociationsModuleCtrl.isInitializing || wifiAssociationsModuleCtrl.isLoading      }"><svg height="0" width="0"><defs><linearGradient id="wifiAssociationsGradient" x1="0" y1="0" x2="0" y2="100%" patternUnits="userSpaceOnUse"><stop offset="0%" stop-color="#0175e3"></stop><stop offset="100%" stop-color="#0046cc"></stop></linearGradient></defs></svg><unifi-line-chart-with-tooltip unifi-line-chart-with-tooltip-config="wifiAssociationsModuleCtrl.chartConfig" unifi-line-chart-with-tooltip-data="wifiAssociationsModuleCtrl.data"><div class="ubntTooltipContainer positionAbsolute ng-animatable" ng-if="!wifiAssociationsModuleCtrl.focusedData.hidden" style="--tooltip-width: 140px"><div class="ubntTooltip unifiDashboardTooltip"'+(i="unifi-auto-position",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' unifi-auto-position-vertical-lock="top"><div class="unifiDashboardTooltip__header truncate"><div class="unweighted verticalRhythmQuarter">{{wifiAssociationsModuleCtrl.relativeDate(wifiAssociationsModuleCtrl.focusedData.time)}}</div><div class="unweighted">{{wifiAssociationsModuleCtrl.moment(wifiAssociationsModuleCtrl.focusedData.time).add(wifiAssociationsModuleCtrl.timeOffset).startOf(\'minute\').valueOf() | statsTimeRange: wifiAssociationsModuleCtrl.getBarGranularity() : true}}</div></div><dl class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow"><dt><div class="statusBall appStatusBall appStatusBall--smash unifiChartTooltip__statusBall unifiChartTooltip__statusBall--existing"></div><span translate="DASHBOARD_MODULE_WIFI_ASSOCIATIONS_EXISTING"></span></dt><dd class="alignRight">{{wifiAssociationsModuleCtrl.focusedData.current - wifiAssociationsModuleCtrl.focusedData.new}}</dd></div></dl><dl class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow"><dt><div class="statusBall appStatusBall appStatusBall--smash unifiChartTooltip__statusBall unifiChartTooltip__statusBall--new"></div><span translate="DASHBOARD_MODULE_WIFI_ASSOCIATIONS_NEW"></span></dt><dd class="alignRight">{{wifiAssociationsModuleCtrl.focusedData.new}}</dd></div></dl><dl class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow"><dt class="noWrap"><div class="statusBall appStatusBall appStatusBall--smash unifiChartTooltip__statusBall unifiChartTooltip__statusBall--disconnected"></div><span translate="DASHBOARD_MODULE_WIFI_ASSOCIATIONS_DISCONNECTED"></span></dt><dd class="alignRight">{{-wifiAssociationsModuleCtrl.focusedData.lost}}</dd></div></dl></div></div></unifi-line-chart-with-tooltip></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],679:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"wifi-associations",translationKey:"DASHBOARD_MODULE_DEFINITIONS_WIFI_ASSOCIATIONS",directive:"unifi-wifi-associations-module",preview:"images/dashboard/bar-chart-negative.png",layout:"full"}])}])},{}],680:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("WifiSummaryModuleController",["BaseModuleController","resolveRepositoryGroupControllerMixin","wlanModuleStats",function(t,e,i){return new(function(o){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.wlanModuleStats=i,t.repositories=["wlanModuleStats"],e(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,t),n(r,[{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"destroy",this).call(this),this.unregister()}},{key:"isAvailable",value:function(){return i.repository.model.get("connected_ap")>0}}]),r}())}])},{}],681:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiWifiSummaryModule",["ModuleDirective",function(e){return new e("wifiSummary",t("./wifiSummaryModule.pug")())}])},{"./wifiSummaryModule.pug":682}],682:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--summary"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle">{{wifiSummaryModuleCtrl.definition.get(\'translationKey\') | translate}}</div></div><unifi-loading-module unifi-loading-module-loader="wifiSummaryModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="wifiSummaryModuleCtrl.isLoading" unifi-loading-module-failed="wifiSummaryModuleCtrl.failedToLoad" unifi-loading-module-retry="wifiSummaryModuleCtrl.retry()" unifi-loading-module-layout="wifiSummaryModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !wifiSummaryModuleCtrl.isLoading,        \'animated fadeOut\': wifiSummaryModuleCtrl.isLoading      }"><ul class="appMenu appMenu--transparent appMenu--cozy" ng-if="!wifiSummaryModuleCtrl.isLoading &amp;&amp; wifiSummaryModuleCtrl.isAvailable()"><li class="appMenu__item noHorizontalPadding"><div class="flexFlag flexFlag--centered"><div class="appMenuItemImage"><div class="icon ubnt-icon--ap-unifi"></div></div><div class="unifiSummaryContent"><div class="unifiSummaryContentLabel">{{\'DASHBOARD_MODULE_WIFI_SUMMARY_APS_ONLINE\' | translate}}</div><div class="unifiSummaryContentValue">{{wifiSummaryModuleCtrl.wlanModuleStats.repository.model.get(\'connected_ap\') || 0 | numberToString}}</div></div></div></li><li class="appMenu__item noHorizontalPadding"><div class="flexFlag flexFlag--centered"><div class="appMenuItemImage"><div class="icon ubnt-icon--user-wireless"></div></div><div class="unifiSummaryContent"><div class="unifiSummaryContentLabel">{{\'DASHBOARD_MODULE_WIFI_SUMMARY_CLIENTS\' | translate}}</div><div class="unifiSummaryContentValue">{{wifiSummaryModuleCtrl.wlanModuleStats.repository.model.get(\'num_client\') || 0 | numberToString}}</div></div></div></li><li class="appMenu__item noHorizontalPadding"><div class="flexFlag flexFlag--centered"><div class="appMenuItemImage"><div class="icon ubnt-icon--speedometer"></div></div><div class="unifiSummaryContent"><div class="unifiSummaryContentLabel">{{\'DASHBOARD_MODULE_WIFI_SUMMARY_UTILIZATION\' | translate}}</div><div class="unifiSummaryContentValue">{{wifiSummaryModuleCtrl.wlanModuleStats.repository.model.get(\'avg_utilization\') ? (wifiSummaryModuleCtrl.wlanModuleStats.repository.model.get(\'avg_utilization\') | percent: 100) : (\'COMMON_NOT_AVAILABLE\' | translate)}}</div></div></div></li><li class="appMenu__item noHorizontalPadding"><div class="flexFlag flexFlag--centered"><div class="appMenuItemImage"><div class="icon ubnt-icon--chart-signal-2"></div></div><div class="unifiSummaryContent"><div class="unifiSummaryContentLabel">{{\'DASHBOARD_MODULE_WIFI_SUMMARY_TRAFFIC\' | translate}}</div><div class="unifiSummaryContentValue">{{wifiSummaryModuleCtrl.wlanModuleStats.repository.model.get(\'bytes-r\') || 0 | bps:{convertFromBytes:true} }}</div></div></div></li></ul><unifi-unavailable-module ng-if="!wifiSummaryModuleCtrl.isLoading &amp;&amp; !wifiSummaryModuleCtrl.isAvailable()" unifi-unavailable-module-icon="\'ubnt-icon--ap-unifi\'" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_WIFI_SUMMARY_UNAVAILABLE\'"></unifi-unavailable-module></div></div></div>'}},{"pug-runtime":23}],683:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"summary|wifi",loader:"summary",translationKey:"DASHBOARD_MODULE_DEFINITIONS_WIFI_SUMMARY",directive:"unifi-wifi-summary-module",preview:"images/dashboard/summary.png",layout:"single",requirements:{deviceType:"uap"}}])}])},{}],684:[function(t,e,i){"use strict";function n(t){this.types=Object.keys(t).map(function(e){return t[e]})}n.$inject=["WINDOW_PANEL_GROUPS"],angular.module("app-unifi-manage").controller("WindowPanelsController",n)},{}],685:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiWindowPanels",[function(){return{controller:"WindowPanelsController",controllerAs:"windowPanelsCtrl",replace:!0,restrict:"E",template:t("./windowPanels.pug")()}}])},{"./windowPanels.pug":686}],686:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div id="windowPanels"><unifi-window-panels-group ng-repeat="type in ::windowPanelsCtrl.types" unifi-window-panels-group-type="type"></unifi-window-panels-group></div>'}},{"pug-runtime":23}],687:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("WindowPanelsGroupController",["BasePanelController","windowPanels","WINDOW_PANEL_GROUPS",function(t,e,i){return new(function(o){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.WINDOW_PANEL_GROUPS=i,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,t),n(r,[{key:"$onInit",value:function(){var t=e.getPanelsByGroupType(this.type);(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"init",this).call(this,t)}},{key:"setItemCoords",value:function(t,e,i){var n=this;this.panels.getItemById(t).then(function(t){n.panels.addItem(t,[{state:"x",value:e+"px",overwrite:!0},{state:"y",value:i+"px",overwrite:!0}],0)})}}]),r}())}])},{}],688:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiWindowPanelsGroup",[function(){return{bindToController:{type:"=unifiWindowPanelsGroupType"},controller:"WindowPanelsGroupController",controllerAs:"windowPanelsGroupCtrl",replace:!0,restrict:"E",template:t("./windowPanelsGroup.pug")()}}])},{"./windowPanelsGroup.pug":689}],689:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div id="windowPanels"><div class="unifiDndItem is-undocked" ng-repeat="item in windowPanelsGroupCtrl.getItems()" ng-init="itemId = windowPanelsGroupCtrl.panels.getItemAndTypeId(item)"'+n("unifi-draggable-item",!0,!0,!0)+' unifi-draggable-item-handle=".unifiPanelItemHeader" unifi-draggable-item-on-drag-start="windowPanelsGroupCtrl.onItemDragStart(itemId)" unifi-draggable-item-on-drag-stop="windowPanelsGroupCtrl.onItemDragStop(itemId, elementX, elementY)"'+n("unifi-constrain-position",!0,!0,!0)+' unifi-constrain-position-selector="#contentContainer &gt; .ubntMainPanel" unifi-constrain-position-is-disabled="false"'+n("unifi-resizable-item",!0,!0,!0)+' unifi-resizable-item-direction="[\'right\']" unifi-resizable-item-on-resize-stop="windowPanelsGroupCtrl.onItemResizeStop(itemId, width, height)" unifi-resizable-item-is-disabled="windowPanelsGroupCtrl.WINDOW_PANEL_GROUPS.DEBUG_TERMINAL === windowPanelsGroupCtrl.type" ng-style="{      \'left\': windowPanelsGroupCtrl.panels.getItemState(item, \'x\') || (100 + \'px\'),      \'top\': windowPanelsGroupCtrl.panels.getItemState(item, \'y\') || (100 + \'px\'),      \'width\': windowPanelsGroupCtrl.panels.getItemState(item, \'width\') || \'auto\',      \'z-index\': windowPanelsGroupCtrl.getItems().length - $index + 700    }"><div class="unifiPanelItemContainer" ng-if="windowPanelsGroupCtrl.WINDOW_PANEL_GROUPS.DEBUG_TERMINAL === windowPanelsGroupCtrl.type" unifi-terminal-panel="item" data-id="{{item.id}}"></div><div class="unifiPanelItemContainer" ng-if="windowPanelsGroupCtrl.WINDOW_PANEL_GROUPS.AIR_TIME=== windowPanelsGroupCtrl.type" unifi-air-time-panel="item" data-id="{{item.id}}"></div><div class="unifiPanelItemContainer" ng-if="windowPanelsGroupCtrl.WINDOW_PANEL_GROUPS.AIR_VIEW === windowPanelsGroupCtrl.type" unifi-air-view-panel="item" data-id="{{item.id}}"></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],690:[function(t,e,i){"use strict";function n(t,e,i,n){this.siteStatus=i,this.isLoading=!0,this.airTimeData=new Array(34).fill(0),this.retryData=new Array(38).fill(0),this.repository=new e(new n);var o=function(t,e){return Math.min(1,.1+(e?Math.sqrt(t/e):0))},r=function(t){return t.slice().sort(function(t,e){return t-e}).reverse()[3]};this.airTimeConfig={label:t.instant("DASHBOARD_MODULE_STATUS_MEGA_LABEL_AIR_TIME"),xAxisFormat:function(t){return angular.isNumber(t)?t+"%":""},glowThreshold:r,opacity:o,max:100},this.retryConfig={skipDataParsing:!0,glowThreshold:r,opacity:o}}n.prototype.addEventHandlers=function(){this.repository.model.on("change",this.collectData,this),this.repository.register().fetch()},n.prototype.removeEventHandlers=function(){this.repository.unregister(),this.repository.model.off("change",this.collectData,this)},n.prototype.collectData=function(){this.isLoading=!1;var t=this.repository.model.get("retries");t&&(this.retryData=t.histogram,this.retryConfig.markerPosition=t.currentAverage/t.maxValue*t.buckets);var e=this.repository.model.get("airtime");e&&(this.airTimeData=e.histogram,this.airTimeConfig.markerPosition=e.currentAverage/e.maxValue*e.buckets),this.siteStatus.updateWlanStatus(this.retryData)},n.$inject=["$translate","BaseModelRepository","siteStatus","WlanHistogramModel"],angular.module("app-unifi-manage").controller("WlanHistogramController",n)},{}],691:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiWlanHistogram",["eventHandlersDirectiveMixin",function(e){return{scope:{isDark:"=?unifiWlanHistogramIsDark"},controller:"WlanHistogramController",controllerAs:"wlanHistogramCtrl",replace:!0,bindToController:!0,template:t("./wlanHistogram.pug")(),link:function(t,i,n,o){e.init(t,i,n,o)}}}])},{"./wlanHistogram.pug":692}],692:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiHistogramContainer"><ng-d3-svg-pattern ng-d3-svg-pattern-id="glow" ng-d3-svg-pattern-type="glow" ng-d3-svg-pattern-options="{ weight: 2, repeat: 3 }"></ng-d3-svg-pattern><div class="unifiHistogramDonutContainer"><unifi-histogram-donut-chart class="fullWidth fullHeight" ng-class="{\'unifiHistogramDonutChart--isLoading\': wlanHistogramCtrl.isLoading}" unifi-histogram-donut-chart-config="wlanHistogramCtrl.retryConfig" unifi-histogram-donut-chart-data="wlanHistogramCtrl.retryData" unifi-histogram-donut-chart-is-dark="wlanHistogramCtrl.isDark"></unifi-histogram-donut-chart><div class="unifiHistogramDonutLegend" ng-class="{\'unifiHistogramDonutLegend--dark\': wlanHistogramCtrl.isDark}"><div class="unifiHistogramDonutLegend__status" ng-switch="wlanHistogramCtrl.siteStatus.getWlanStatus()"><div ng-switch-when="UNAVAILABLE">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_UNAVAILABLE\' | translate}}</div><div ng-switch-when="UNKNOWN">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_UNKNOWN\' | translate}}</div><div class="unifiHistogramDonutLegend__status--good" ng-switch-when="EXCELLENT">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_EXCELLENT\' | translate}}</div><div class="unifiHistogramDonutLegend__status--good" ng-switch-when="GOOD">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_GOOD\' | translate}}</div><div class="unifiHistogramDonutLegend__status--warn" ng-switch-when="FAIR">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_FAIR\' | translate}}</div><div class="unifiHistogramDonutLegend__status--warn" ng-switch-when="POOR">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_POOR\' | translate}}</div><div class="unifiHistogramDonutLegend__status--bad" ng-switch-when="BAD">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_STATUS_BAD\' | translate}}</div></div><div class="unifiHistogramDonutLegend__mainLabel">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_RETRY_RATE\' | translate}}</div><div class="unifiHistogramDonutLegend__secondaryLabel">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_PAST_24H\' | translate}}</div><div class="unifiHistogramDonutLegend__bottom"><div class="unifiHistogramDonutLegend__leftRange uppercase">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_LOW\' | translate}}</div><div class="unifiHistogramDonutLegend__rightRange uppercase">{{\'DASHBOARD_MODULE_STATUS_MEGA_LABEL_HIGH\' | translate}}</div></div></div></div><div class="unifiHistogramBarChartContainer"><unifi-histogram-bar-chart ng-class="{\'unifiHistogramBarChart--isLoading\': wlanHistogramCtrl.isLoading}" unifi-histogram-bar-chart-config="wlanHistogramCtrl.airTimeConfig" unifi-histogram-bar-chart-data="wlanHistogramCtrl.airTimeData"></unifi-histogram-bar-chart></div></div>'}},{"pug-runtime":23}],693:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("WlanHistogramModuleController",["BaseModuleController","resolveRepositoryGroupControllerMixin","siteHealth",function(t,e,i){return new(function(o){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.repositories=["siteHealth"],e(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,t),n(r,[{key:"isAvailable",value:function(){return i.repository.collection.getNested("wlan.num_ap")>0}}]),r}())}])},{}],694:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiWlanHistogramModule",["ModuleDirective",function(e){return new e("wlanHistogram",t("./wlanHistogramModule.pug")(),{isDark:"=?unifiWlanHistogramModuleIsDark"})}])},{"./wlanHistogramModule.pug":695}],695:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="module module--histogram"><div class="moduleContent"><div class="moduleHeader"><div class="modularSubHeading modularSubHeading--clipped moduleHeaderTitle">{{wlanHistogramModuleCtrl.definition.get(\'translationKey\') | translate}}</div></div><unifi-loading-module unifi-loading-module-loader="wlanHistogramModuleCtrl.definition.get(\'loader\')" unifi-loading-module-is-loading="wlanHistogramModuleCtrl.isLoading" unifi-loading-module-failed="wlanHistogramModuleCtrl.failedToLoad" unifi-loading-module-retry="wlanHistogramModuleCtrl.retry()" unifi-loading-module-layout="wlanHistogramModuleCtrl.definition.get(\'layout\')"></unifi-loading-module><div ng-class="{        \'animated fadeIn\': !wlanHistogramModuleCtrl.isLoading,        \'animated fadeOut\': wlanHistogramModuleCtrl.isLoading      }"><div ng-if="!wlanHistogramModuleCtrl.isLoading &amp;&amp; wlanHistogramModuleCtrl.isAvailable()"><unifi-wlan-histogram></unifi-wlan-histogram></div><unifi-unavailable-module ng-if="!wlanHistogramModuleCtrl.isLoading &amp;&amp; !wlanHistogramModuleCtrl.isAvailable()" unifi-unavailable-module-icon="\'ubnt-icon--ap-unifi\'" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULE_WLAN_HISTOGRAM_UNAVAILABLE\'"></unifi-unavailable-module></div></div></div>'}},{"pug-runtime":23}],696:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dashboards",function(t){t.moduleDefinitions.add([{id:"histogram|wlan",translationKey:"DASHBOARD_MODULE_DEFINITIONS_WLAN_HISTOGRAM",directive:"unifi-wlan-histogram-module",preview:"images/dashboard/placeholder.png",layout:"single",requirements:{deviceType:"ugw"},isHidden:!0}])}])},{}],697:[function(t,e,i){"use strict";angular.module("app-unifi-manage").directive("unifiYesOrNoBadge",[function(){return{template:t("./yesOrNoBadge.pug")(),scope:{model:"=unifiYesOrNoBadgeModel"}}}])},{"./yesOrNoBadge.pug":698}],698:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<span class="appBadge" ng-if="model === true || model === false" ng-class="{      \'appBadge--success\': model === true,      \'appBadge--danger\': model === false    }">{{::model | yesOrNo}}</span>'}},{"pug-runtime":23}],699:[function(t,e,i){"use strict";angular.module("app-unifi-manage").config(["$compileProvider",function(t){t.debugInfoEnabled(window.unifiConfig.DebugInfoEnabled),t.commentDirectivesEnabled(!1),t.cssClassDirectivesEnabled(!1)}])},{}],700:[function(t,e,i){"use strict";angular.module("app-unifi-manage").config(["dashboardModulesCollectionViewProvider",function(t){t.overrideComparator("manageDashboardModuleDefinitionsComparator"),t.overrideFilter("ManageDashboardModuleDefinitionsFilter")}])},{}],701:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("FLAGS",{allowUndockedPanels:!0,allowPortProfileOpMode:!1,enableDpiSsidFiltering:!1,enableDpiBlockingRate:!1,enableDpiRestrictionsForApps:!1,enableEliteBilling:!1,enableFacebookWifi:!0,enableInstantRma:!0,enableIpv6GuestControl:!1,enableMacFilter:">=5.5.4",enableMobileAppBadges:!1,enableDeviceListSatisfaction:!1,enableOAuthLogin:!1,enableWiFiExperience:!1,enableReporterManager:!1,withOverrideSiteInformUrl:!1})},{}],702:[function(t,e,i){"use strict";angular.module("app-unifi-manage").config(["frameProvider",function(e){e.when("about",{controller:"AboutController",controllerAs:"aboutCtrl",layout:"aboutLayout",template:t("../views/frames/about.pug")()}).when("addClient",{controller:"AddClientController",controllerAs:"addClientCtrl",layout:"addClientLayout",template:t("../views/frames/addClient.pug")()}).when("addSite",{controller:"AddSiteController",controllerAs:"addSiteCtrl",layout:"addSiteLayout",template:t("../views/frames/addSite.pug")()}).when("addSshKey",{controller:"AddSshKeyController",controllerAs:"addSshKeyCtrl",layout:"addSshKeyLayout",template:t("../views/frames/addSshKey.pug")()}).when("autoChannels",{controller:"AutoChannelsModalController",controllerAs:"autoChannelsModalCtrl",layout:"autoChannelsModalLayout",template:t("../views/frames/autoChannelsModal.pug")(),link:function(t,e,i,n){n.addEventHandlers(),t.$on("$destroy",function(){n.removeEventHandlers()})}}).when("alerts",{controller:"AlertsController",controllerAs:"alertsCtrl",layout:"alertsLayout",template:t("../views/frames/alerts.pug")()}).when("cloudKeySdCardCheck",{controller:"CloudKeySdCardCheckController",controllerAs:"cloudKeySdCardCheckCtrl",layout:"cloudKeySdCardCheckLayout",template:t("../views/frames/cloudKeySdCardCheck.pug")()}).when("configureDpiCategoryGraph",{controller:"ConfigureDpiCategoryGraphController",controllerAs:"configureDpiCategoryGraphCtrl",layout:"addDpiCategoryGraphLayout",template:t("../views/frames/configureDpiCategoryGraph.pug")()}).when("confirmRemoveAdmin",{controller:"ConfirmRemoveAdminController",controllerAs:"confirmRemoveAdminCtrl",layout:"confirmLayout",template:t("../views/frames/confirmRemoveAdmin.pug")()}).when("confirmRestart",{controller:"ConfirmRestartController",controllerAs:"confirmRestartCtrl",layout:"confirmLayout",template:t("../../base-unifi-device/views/frames/confirmRestart.pug")()}).when("confirmUpgradeOverrides",{controller:"ConfirmUpgradeOverridesController",controllerAs:"confirmUpgradeOverridesCtrl",layout:"confirmLayout",template:t("../views/frames/confirmUpgradeOverrides.pug")()}).when("fallbackVlan",{controller:"FallbackVlanController",controllerAs:"fallbackVlanCtrl",layout:"fallbackVlanLayout",template:t("../views/frames/fallbackVlan.pug")()}).when("radiusProfile",{controller:"RadiusProfileController",controllerAs:"radiusProfileCtrl",layout:"radiusProfileLayout",template:t("../views/frames/radiusProfile.pug")()}).when("updateDataRetentionDays",{controller:"UpdateDataRetentionDaysController",controllerAs:"updateDataRetentionDaysCtrl",layout:"confirmLayout",template:t("../views/frames/updateDataRetentionDays.pug")()}).when("dpiRestrictionForm",{controller:"DpiRestrictionFormController",controllerAs:"dpiRestrictionFormCtrl",layout:"dpiRestrictionFormLayout",template:t("../views/frames/dpiRestrictionForm.pug")()}).when("dpiRestrictionGroupForm",{controller:"DpiRestrictionGroupFormController",controllerAs:"dpiRestrictionGroupFormCtrl",layout:"dpiRestrictionGroupFormLayout",template:t("../views/frames/dpiRestrictionGroupForm.pug")()}).when("dpiRestrictionNetworkAssignmentForm",{controller:"DpiRestrictionNetworkAssignmentFormController",controllerAs:"dpiRestrictionNetworkAssignmentFormCtrl",layout:"dpiRestrictionNetworkAssignmentFormLayout",template:t("../views/frames/dpiRestrictionNetworkAssignmentForm.pug")()}).when("editTextField",{controller:"EditTextFieldController",controllerAs:"editTextFieldCtrl",layout:"editTextFieldLayout",template:t("../views/frames/editTextField.pug")()}).when("eliteDeviceOffline",{controller:"EliteDeviceOfflineController",controllerAs:"eliteDeviceOfflineCtrl",layout:"eliteDeviceOfflineLayout",template:t("../views/frames/eliteDeviceOffline.pug")()}).when("events",{controller:"EventsController",controllerAs:"eventsCtrl",layout:"eventsLayout",template:t("../views/frames/events.pug")()}).when("exportSite",{controller:"ExportSiteController",controllerAs:"exportSiteCtrl",layout:"exportSiteLayout",template:t("../views/frames/exportSite.pug")()}).when("firewallGroupsCreate",{controller:"FirewallGroupsCreateController",controllerAs:"firewallGroupsCreateCtrl",template:t("../views/frames/firewallGroupsCreate.pug")(),layout:"firewallGroupsCreateLayout"}).when("hotspot2NaiRealmListEntry",{controller:"Hotspot2NaiRealmListEntryController",controllerAs:"hotspot2NaiRealmListEntryCtrl",template:t("../views/frames/hotspot2NaiRealmListEntry.pug")(),layout:"hotspot2NaiRealmListEntryLayout"}).when("hotspotPackage",{controller:"HotspotPackageController",controllerAs:"hotspotPackageCtrl",layout:"hotspotPackageLayout",template:t("../views/frames/hotspotPackage.pug")()}).when("importSite",{controller:"ImportSiteController",controllerAs:"importSiteCtrl",layout:"importSiteLayout",template:t("../views/frames/importSite.pug")()}).when("instantRma",{controller:"InstantRmaController",controllerAs:"instantRmaCtrl",layout:"instantRmaLayout",template:t("../views/frames/instantRma.pug")()}).when("releaseNotes",{controller:"ReleaseNotesController",controllerAs:"releaseNotesCtrl",layout:"releaseNotesLayout",template:t("../views/frames/releaseNotes.pug")()}).when("sitesOverview",{controller:"SitesOverviewController",controllerAs:"sitesOverviewCtrl",layout:"sitesOverviewLayout",template:t("../views/frames/sitesOverview.pug")()}).when("speedTest",{controller:"SpeedTestController",controllerAs:"speedTestCtrl",layout:"speedTestLayout",template:t("../views/frames/speedTest.pug")()}).when("simpleTextEditor",{controller:"SimpleTextEditorController",controllerAs:"simpleTextEditorCtrl",layout:"simpleTextEditorLayout",template:t("../views/frames/simpleTextEditor.pug")()}).when("statisticsDpiFilters",{controller:"StatisticsDpiFiltersController",controllerAs:"statisticsDpiFiltersCtrl",layout:"statisticsDpiFiltersLayout",template:t("../views/frames/statisticsDpiFilters.pug")()}).when("systemConfig",{controller:"SystemConfigController",controllerAs:"systemConfigCtrl",layout:"systemConfigLayout",template:t("../views/frames/systemConfig.pug")()}).when("reportTermsOfService",{controller:"ReportTermsOfServiceController",controllerAs:"reportTermsOfServiceCtrl",layout:"reportTermsOfServiceLayout",template:t("../views/frames/reportTermsOfService.pug")()}).when("webrtcError",{controller:"WebrtcErrorController",controllerAs:"webrtcErrorCtrl",layout:"webrtcErrorLayout",template:t("../views/frames/webrtcError.pug")()}).when("webrtcFailed",{controller:"WebrtcFailedController",controllerAs:"webrtcFailedCtrl",layout:"webrtcFailedLayout",template:t("../views/frames/webrtcFailed.pug")()}).when("wirelessNetworkMacFilterAddBatch",{controller:"WirelessNetworkMacFilterAddBatchController",controllerAs:"wirelessNetworkMacFilterAddBatchCtrl",layout:"wirelessNetworkMacFilterAddBatchLayout",template:t("../views/frames/wirelessNetworkMacFilterAddBatch.pug")()}).when("wirelessNetworkMacFilterAddClients",{controller:"WirelessNetworkMacFilterAddClientsController",controllerAs:"wirelessNetworkMacFilterAddClientsCtrl",layout:"wirelessNetworkMacFilterAddClientsLayout",template:t("../views/frames/wirelessNetworkMacFilterAddClients.pug")()}).when("adminPasswordChangeSuggestion",{controller:"AdminPasswordChangeSuggestionController",controllerAs:"adminPasswordChangeSuggestionCtrl",template:t("../views/frames/adminPasswordChangeSuggestion.pug")(),layout:"adminPasswordChangeSuggestionLayout"}).when("ispThroughput",{controller:"IspThroughputController",controllerAs:"ispThroughputCtrl",template:t("../views/frames/ispThroughput.pug")(),layout:"ispThroughputLayout"})}])},{"../../base-unifi-device/views/frames/confirmRestart.pug":1477,"../views/frames/about.pug":1232,"../views/frames/addClient.pug":1233,"../views/frames/addSite.pug":1234,"../views/frames/addSshKey.pug":1235,"../views/frames/adminPasswordChangeSuggestion.pug":1236,"../views/frames/alerts.pug":1237,"../views/frames/autoChannelsModal.pug":1238,"../views/frames/cloudKeySdCardCheck.pug":1239,"../views/frames/configureDpiCategoryGraph.pug":1240,"../views/frames/confirmRemoveAdmin.pug":1241,"../views/frames/confirmUpgradeOverrides.pug":1242,"../views/frames/dpiRestrictionForm.pug":1243,"../views/frames/dpiRestrictionGroupForm.pug":1244,"../views/frames/dpiRestrictionNetworkAssignmentForm.pug":1245,"../views/frames/editTextField.pug":1246,"../views/frames/eliteDeviceOffline.pug":1247,"../views/frames/events.pug":1248,"../views/frames/exportSite.pug":1249,"../views/frames/fallbackVlan.pug":1250,"../views/frames/firewallGroupsCreate.pug":1251,"../views/frames/hotspot2NaiRealmListEntry.pug":1252,"../views/frames/hotspotPackage.pug":1253,"../views/frames/importSite.pug":1254,"../views/frames/instantRma.pug":1255,"../views/frames/ispThroughput.pug":1256,"../views/frames/radiusProfile.pug":1257,"../views/frames/releaseNotes.pug":1258,"../views/frames/reportTermsOfService.pug":1259,"../views/frames/simpleTextEditor.pug":1260,"../views/frames/sitesOverview.pug":1261,"../views/frames/speedTest.pug":1262,"../views/frames/statisticsDpiFilters.pug":1263,"../views/frames/systemConfig.pug":1264,"../views/frames/updateDataRetentionDays.pug":1265,"../views/frames/webrtcError.pug":1266,"../views/frames/webrtcFailed.pug":1267,"../views/frames/wirelessNetworkMacFilterAddBatch.pug":1268,"../views/frames/wirelessNetworkMacFilterAddClients.pug":1269}],703:[function(t,e,i){"use strict";angular.module("app-unifi-manage").config(["panelProvider",function(t){t.setImplementation("propertyPanel")}])},{}],704:[function(t,e,i){"use strict";angular.module("app-unifi-manage").config(["$urlRouterProvider","$locationProvider",function(t,e){t.otherwise("/"),e.html5Mode({enabled:!0,requireBase:!1})}])},{}],705:[function(t,e,i){"use strict";angular.module("app-unifi-manage").config(["$sceDelegateProvider",function(t){t.resourceUrlWhitelist(["self","https://maps.googleapis.com/**","https://localhost:4443/**",window.unifiConfig.UnifiAppSwitcherHost+"/**"])}])},{}],706:[function(t,e,i){"use strict";angular.module("app-unifi-manage").config(["frameProvider",function(t){t.define("sideNavPopover",["layout","placeholder","content"],["$q","elements",function(t,e){var i,n;return{onShowStart:function(){e.content&&e.content.isDisplayed()?e.content.leave(!0):(i=t.defer(),e.layout.enter(!0).then(function(){e.placeholder.enter(!0),e.layout.addClass("is-side-nav-popover-visible"),i.resolve()}))},onShowSuccess:function(t){i.promise.then(function(){e.content.enter(!0).then(function(){n=t(function(t){return e.content.manipulate(function(e){return e.html(t),e})}),e.placeholder.isDisplayed()&&e.placeholder.leave(!0)})})},onClose:function(){n&&(n(),n=null),e.layout.removeClass("is-side-nav-popover-visible").then(function(){e.layout.leave(!0)})}}}])}])},{}],707:[function(t,e,i){"use strict";var n=t("../lib/resolve"),o=lazyRequire.get("stateHelpers");angular.module("app-unifi-manage").config(["$stateProvider","momentProvider",function(e,i){var r=i.$get();e.state("manage",{abstract:!0,template:t("../views/index.pug")(),resolve:n.manage}).state("manage.home",{controller:"HomeController",controllerAs:"homeCtrl",url:"/",template:t("../views/home.pug")(),resolve:n.home,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.account",{controller:"AccountController",controllerAs:"accountCtrl",url:"/account",template:t("../../base-unifi/views/account.pug")(),resolve:n.account}).state("manage.account.login",{controller:"LoginController",controllerAs:"loginCtrl",url:"/login?redirect",template:t("../../base-unifi/views/login.pug")(),params:{redirect:{value:null,squash:!0}}}).state("manage.account.2fa",{controller:"Login2FAController",controllerAs:"login2FACtrl",url:"/login/2fa?redirect",template:t("../../base-unifi/views/2fa.pug")(),params:{redirect:{value:null,squash:!0},username:{value:null},password:{value:null},remember:{value:!1}}}).state("manage.account.verify",{controller:"AccountVerifyController",controllerAs:"accountVerifyCtrl",url:"/verify?email&t",template:t("../views/account/verify.pug")(),params:{email:{value:null,squash:!0},t:{value:null,squash:!0}}}).state("manage.account.forgotpassword",{controller:"ForgotPasswordController",controllerAs:"forgotPasswordCtrl",url:"/forgotpassword",template:t("../../base-unifi/views/forgotPassword.pug")()}).state("manage.oauthlogin",{controller:"OAuthLoginController",controllerAs:"oAuthLoginCtrl",url:"/oauth?redirect",template:t("../../base-unifi/views/oAuthLogin.pug")(),resolve:n.oAuthLogin,params:{redirect:{value:null,squash:!0}}}).state("manage.ssologin",{url:"/sso_login/:sso_token/:ubic_uuid/:site_id",template:t("../../base-unifi/views/ssoLogin.pug")(),resolve:n.ssoLogin}).state("manage.site",{controller:"SiteController",controllerAs:"siteCtrl",url:"/site/:site",template:t("../views/manageSite.pug")(),resolve:n.site,defaultChildState:".dashboard",onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.dashboard",{controller:"DashboardController",controllerAs:"dashboardCtrl",url:"/dashboard/{action:view|edit}/{id:[0-9a-f]{24}}/{panel:dashboards|none}",template:t("../views/site/dashboard.pug")(),resolve:n.dashboard,params:{action:{value:"view",squash:!0},id:{value:null,squash:!0},panel:{value:"none",squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.statistics",{controller:"StatisticsController",controllerAs:"statisticsCtrl",url:"/statistics",template:t("../views/site/statistics.pug")(),resolve:n.statistics,defaultChildState:".overview"}).state("manage.site.statistics.overview",{controller:"StatisticsOverviewController",controllerAs:"statisticsOverviewCtrl",data:{parentRouteStateId:"manage.site.statistics",routeStateId:"statistics:overview",routeStateStickyParams:["start","end"]},url:"/overview/:granularity/:start/:end",template:t("../views/statistics/overview.pug")(),resolve:n.statisticsOverview,params:{granularity:{value:null,squash:!0},start:{value:r.utc().subtract(7,"days").startOf("day").format("x")},end:{value:r.utc().add(1,"days").startOf("day").format("x")}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.statistics.dpi",{controller:"DpiController",controllerAs:"dpiCtrl",url:"/dpi/{view:overview|apps|users|category}/{categoryId:[0-9]{1,3}}/{applicationId:[0-9]{1,5}}/{userId:[0-9a-f]{2}[:-][0-9a-f]{2}[:-][0-9a-f]{2}[:-][0-9a-f]{2}[:-][0-9a-f]{2}[:-][0-9a-f]{2}}",template:t("../views/statistics/dpi.pug")(),resolve:n.statisticsDpi,data:{parentRouteStateId:"manage.site.statistics"},params:{view:{value:"overview",squash:!0},categoryId:{value:null,squash:!0},applicationId:{value:null,squash:!0},userId:{value:null,squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.statistics.performance",{controller:"PerformanceController",controllerAs:"performanceCtrl",url:"/performance/:deviceId/:granularity/:start/:end",template:t("../views/statistics/performance.pug")(),resolve:n.statisticsPerformance,data:{parentRouteStateId:"manage.site.statistics"},params:{deviceId:{value:null,squash:!0},granularity:{value:null,squash:!0},start:{value:null,squash:!0},end:{value:null,squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.statistics.client",{controller:"ClientStatisticsController",controllerAs:"clientStatisticsCtrl",url:"/client/:clientId/:granularity/:start/:end",template:t("../views/statistics/client.pug")(),resolve:n.statisticsClient,params:{clientId:{value:null,squash:!0},granularity:{value:null,squash:!0},start:{value:null,squash:!0},end:{value:null,squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.statistics.switch",{controller:"StatisticsSwitchController",controllerAs:"statisticsSwitchCtrl",url:"/switch/:granularity/:start/:end/:switchId",template:t("../views/statistics/switch.pug")(),resolve:n.statisticsSwitch,data:{parentRouteStateId:"manage.site.statistics"},params:{granularity:{value:null,squash:!0},start:{value:null,squash:!0},end:{value:null,squash:!0},switchId:{value:null,squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.statistics.speedtest",{controller:"StatisticsSpeedTestController",controllerAs:"statisticsSpeedTestCtrl",url:"/speedtest/:start/:end",template:t("../views/statistics/speedtest.pug")(),resolve:n.statisticsSpeedTest,data:{parentRouteStateId:"manage.site.statistics"},params:{start:{value:r.utc().startOf("day").format("x")},end:{value:r.utc().add(1,"days").startOf("day").format("x")}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.statistics.debugging",{controller:"StatisticsDebuggingMetricsController",controllerAs:"statisticsDebuggingMetricsCtrl",url:"/debugging",resolve:n.statisticsDebugging,data:{parentRouteStateId:"manage.site.statistics"},template:t("../views/statistics/debuggingMetrics.pug")(),onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.ips",{url:"/ips",defaultChildState:".overview",resolve:n.ips,template:t("../views/site/ips.pug")(),onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.ips.overview",{url:"/overview/:startOrPreset/{end:[0-9]{0,13}}",params:{startOrPreset:{value:null,squash:!0},end:{value:null,squash:!0}},resolve:n.ipsOverview,template:t("../views/ips/ipsOverview.pug")(),onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.ips.list",{controller:"IpsListController",controllerAs:"ipsListCtrl",url:"/list/:startOrPreset/{end:[0-9]{13}}/{country:[A-Z]{3}}/{severity:low|medium|high}/{ip:[0-9]{1,3}[:.][0-9]{1,3}[:.][0-9]{1,3}[:.][0-9]{1,3}}",params:{startOrPreset:{value:null,squash:!0},end:{value:null,squash:!0},ip:{value:null,squash:!0},severity:{value:null,squash:!0},country:{value:null,squash:!0},overrideStart:null,overrideEnd:null},resolve:n.ipsList,template:t("../views/ips/ipsList.pug")(),onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.maps",{url:"/maps",template:t("../views/site/maps.pug")(),resolve:n.maps,defaultChildState:".physical",onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.maps.physical",{controller:"MapController",controllerAs:"mapCtrl",template:t("../views/maps/physical.pug")(),url:"/physical/:mapId/:deviceId",resolve:n.physicalMaps,data:{parentRouteStateId:"manage.site.maps"},params:{mapId:{value:null,squash:!0},deviceId:{value:null,squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.maps.topology",{controller:"TopologyViewController",controllerAs:"topologyViewCtrl",url:"/topology",resolve:n.topology,data:{parentRouteStateId:"manage.site.maps"},template:t("../views/maps/topology.pug")(),onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.devices",{controller:"DevicesController",controllerAs:"devicesCtrl",url:"/devices/{page:[0-9]+}/{pageSize:[0-9]+}/:type/:view",template:t("../views/site/devices.pug")(),resolve:n.devices,data:{routeStateId:"devices",routeStateStickyParams:["type","view"]},params:{pageSize:["preferences",function(t){return(t.model.getRowsPerPage("device")||t.model.getRowsPerPage()).toString()}],page:{value:"1",squash:!1},type:{value:null,squash:!0},view:{value:null,squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.clients",{controller:"ClientsController",controllerAs:"clientsCtrl",url:"/clients/{page:[0-9]+}/{pageSize:[0-9]+}/{wired:all|wired|wireless}/{guest:all|guests|users}/{radio:all|na|ng}/{active:all|active}",template:t("../views/site/clients.pug")(),resolve:n.clients,data:{routeStateId:"clients",routeStateStickyParams:["wired","guest","radio"]},params:{pageSize:["preferences",function(t){return(t.model.getRowsPerPage("client")||t.model.getRowsPerPage()).toString()}],page:{value:"1",squash:!1},wired:{value:"all",squash:!0},guest:{value:"all",squash:!0},radio:{value:"all",squash:!0},active:{value:"all",squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.insights",{controller:"InsightsController",controllerAs:"insightsCtrl",url:"/insights",template:'<ui-view class="ubntMainPanel" />',resolve:n.insights}).state("manage.site.insights.dynamicdns",{url:"/dynamicdns/{page:[0-9]+}/{pageSize:[0-9]+}",template:t("../views/insights/dynamicDnsStats.pug")(),resolve:n.dynamicDnsStats,data:{parentRouteStateId:"manage.site.insights"},params:{page:{value:"1",squash:!1},pageSize:["preferences",function(t){return(t.model.getRowsPerPage("dynamicDns")||t.model.getRowsPerPage()).toString()}]},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.insights.knownclients",{url:"/knownclients/{page:[0-9]+}/{pageSize:[0-9]+}/{within:[0-9]+}/{wired:all|wired|wireless}/{guest:all|guests|users}/{configuration:all|configured|default}/{blocked:blocked}/{noted:noted}/{staticIp:static-ip}",template:t("../views/insights/knownClients.pug")(),resolve:n.knownClients,data:{parentRouteStateId:"manage.site.insights"},params:{pageSize:["preferences",function(t){return(t.model.getRowsPerPage("knownClient")||t.model.getRowsPerPage()).toString()}],page:{value:"1",squash:!1},within:{value:"24",squash:!1},wired:{value:"all",squash:!0},guest:{value:"all",squash:!0},configuration:{value:"all",squash:!0},blocked:{value:null,squash:!0},noted:{value:null,squash:!0},staticIp:{value:null,squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.insights.neighboringaps",{url:"/neighboraps/{page:[0-9]+}/{pageSize:[0-9]+}/{within:[0-9]+}/{radioType:all|na|ng}",template:t("../views/insights/neighboringAccessPoints.pug")(),resolve:n.neighboringAccessPoints,data:{parentRouteStateId:"manage.site.insights"},params:{pageSize:["preferences",function(t){return(t.model.getRowsPerPage("neighboringAccessPoint")||t.model.getRowsPerPage()).toString()}],page:{value:"1",squash:!1},within:{value:"1",squash:!1},radioType:{value:"all",squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.insights.pastconnections",{url:"/pastconnections/{page:[0-9]+}/{pageSize:[0-9]+}/:start/:end/{guest:all|guests|users}",template:t("../views/insights/pastConnections.pug")(),resolve:n.pastConnections,data:{parentRouteStateId:"manage.site.insights"},params:{page:{value:"1",squash:!1},pageSize:["preferences",function(t){return(t.model.getRowsPerPage("pastConnection")||t.model.getRowsPerPage()).toString()}],start:{value:r.utc().subtract(1,"days").startOf("day").format("x")},end:{value:r.utc().add(1,"days").startOf("day").format("x")},guest:{value:"all",squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.insights.pastguests",{url:"/pastguests/{page:[0-9]+}/{pageSize:[0-9]+}/:start/:end",resolve:n.pastGuestAuthorizations,template:t("../views/insights/pastGuestAuthorizations.pug")(),data:{parentRouteStateId:"manage.site.insights"},params:{page:{value:"1",squash:!1},pageSize:["preferences",function(t){return(t.model.getRowsPerPage("pastGuestAuthorization")||t.model.getRowsPerPage()).toString()}],start:{value:r.utc().subtract(1,"days").startOf("day").format("x")},end:{value:r.utc().add(1,"days").startOf("day").format("x")}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.insights.portforwardstats",{url:"/portforwardstats/{page:[0-9]+}/{pageSize:[0-9]+}/{view:all|upnp|userdefined}",template:t("../views/insights/portForwardStats.pug")(),resolve:n.portForwardStats,data:{parentRouteStateId:"manage.site.insights"},params:{page:{value:"1",squash:!1},pageSize:["preferences",function(t){return(t.model.getRowsPerPage("portForwardStats")||t.model.getRowsPerPage()).toString()}],view:{value:"all",squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.insights.staticrouting",{url:"/staticrouting/{page:[0-9]+}/{pageSize:[0-9]+}",template:t("../views/insights/routing.pug")(),resolve:n.routingStats,data:{parentRouteStateId:"manage.site.insights"},params:{page:{value:"1",squash:!1},pageSize:["preferences",function(t){return(t.model.getRowsPerPage("routingStats")||t.model.getRowsPerPage()).toString()}]},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.insights.streams",{url:"/streams/{page:[0-9]+}/{pageSize:[0-9]+}/{stream:all|[0-9a-z-]+}",template:t("../views/insights/streams.pug")(),resolve:n.streams,data:{parentRouteStateId:"manage.site.insights"},params:{page:{value:"1",squash:!1},pageSize:["preferences",function(t){return(t.model.getRowsPerPage("streams")||t.model.getRowsPerPage()).toString()}],stream:{value:"all",squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.insights.switchstats",{url:"/switchstats/{page:[0-9]+}/{pageSize:[0-9]+}/{device:all|(?:[0-9a-fA-F][0-9a-fA-F]:){5}(?:[0-9a-fA-F][0-9a-fA-F])}/{linkStatus:all|connected|disconnected}/{view:overview|poe|counters}",template:t("../views/insights/switchStats.pug")(),resolve:n.switchStats,data:{parentRouteStateId:"manage.site.insights"},params:{page:{value:"1",squash:!1},pageSize:["preferences",function(t){return(t.model.getRowsPerPage("switchStats")||t.model.getRowsPerPage()).toString()}],device:{value:"all",squash:!0},linkStatus:{value:"all",squash:!0},view:{value:"overview",squash:!0}},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.insights.remoteuservpn",{url:"/remoteuservpn/{page:[0-9]+}/{pageSize:[0-9]+}",template:t("../views/insights/remoteUserVpn.pug")(),resolve:n.remoteUserVpn,data:{parentRouteStateId:"manage.site.insights"},params:{page:{value:"1",squash:!1},pageSize:["preferences",function(t){return(t.model.getRowsPerPage("remoteUserVpn")||t.model.getRowsPerPage()).toString()}]},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.insights.logs",{url:"/logs/",template:t("../views/insights/controllerLogs.pug")(),resolve:n.logs,data:{parentRouteStateId:"manage.site.insights"},onEnter:o.onEnterUseCallbackAndRememberState,onExit:o.onExitUseCallback}).state("manage.site.store",{url:"/store",template:t("../views/site/store.pug")(),resolve:n.store,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings",{controller:"SettingsController",controllerAs:"settingsCtrl",url:"/settings",template:t("../views/site/settings.pug")(),resolve:n.settings,defaultChildState:".site",onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.backup",{url:"/backup",template:"<unifi-backup-settings/>",resolve:n.backup,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.site",{url:"/site",template:"<unifi-site-settings>",resolve:n.siteSettings,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.wlans",{url:"/wlans/{wlanGroupAction:add|edit}/:wlanGroupId/{wlanAction:add|edit|list}/:wlanId",template:"<unifi-wireless-networks/>",resolve:n.wirelessNetworks,params:{wlanGroupAction:{value:null,squash:!0},wlanGroupId:{value:null,squash:!0},wlanAction:{value:null,squash:!0},wlanId:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.networks",{url:"/networks/{action:add|edit|list}/:id",template:"<unifi-networks/>",resolve:n.networks,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.routingAndFirewall",{template:"<ui-view />",defaultChildState:".routing"}).state("manage.site.settings.routingAndFirewall.routing",{url:"/routing/{action:add|edit|list}/:id",template:"<unifi-routing/>",resolve:n.routing,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.routingAndFirewall.firewall",{url:"/firewall",template:"<unifi-firewall/>",resolve:n.firewall,defaultChildState:".rulesIpv4",onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.routingAndFirewall.firewall.rulesIpv4",{url:"/rules/ipv4/{action:add|edit|list}/:ruleset/:id",template:"<unifi-firewall-rules/>",params:{action:{value:"list",squash:!1},ruleset:["firewallUtils",function(t){return t.getDefaultRulesetIpv4()}],id:{value:null,squash:!0}}}).state("manage.site.settings.routingAndFirewall.firewall.rulesIpv6",{url:"/rules/ipv6/{action:add|edit|list}/:ruleset/:id",template:"<unifi-firewall-rules/>",params:{action:{value:"list",squash:!1},ruleset:["firewallUtils",function(t){return t.getDefaultRulesetIpv6()}],id:{value:null,squash:!0}}}).state("manage.site.settings.routingAndFirewall.firewall.groups",{url:"/groups/{action:add|edit|list}/:id",template:"<unifi-firewall-groups/>",params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}}}).state("manage.site.settings.routingAndFirewall.firewall.settings",{url:"/settings",template:"<unifi-firewall-settings/>"}).state("manage.site.settings.routingAndFirewall.portforward",{url:"/portforward/{action:add|edit|list}/:id",template:"<unifi-port-forward/>",resolve:n.portForwards,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.routingAndFirewall.geoipfiltering",{url:"/geoipfiltering",template:"<unifi-geo-ip-filtering/>",resolve:n.geoIpFiltering,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.guestcontrol",{url:"/guestcontrol",template:"<unifi-guest-control-settings/>",resolve:n.guestControl,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services",{url:"/services",template:"<ui-view />",defaultChildState:".radius"}).state("manage.site.settings.services.radius",{url:"/radius",template:"<ui-view />",defaultChildState:".users"}).state("manage.site.settings.services.radius.users",{url:"/users/{action:add|edit|list}/:id",template:"<unifi-radius-users/>",resolve:n.radiusUsers,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services.radius.server",{url:"/server",template:"<unifi-radius-server/>",resolve:n.radiusServer,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services.hotspot2",{url:"/hotspot2/{action:add|edit|list}/:id",template:"<unifi-hotspot2/>",resolve:n.hotspot2,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services.dhcp",{url:"/dhcp",template:"<ui-view />",defaultChildState:".dhcpServer"}).state("manage.site.settings.services.dhcp.dhcpOptions",{url:"/options/{action:add|edit|list}/:id",template:"<unifi-dhcp-settings/>",resolve:n.dhcp,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services.dhcp.dhcpRelay",{url:"/relay",template:"<unifi-dhcp-relay/>",resolve:n.dhcpRelay,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services.dhcp.dhcpServer",{url:"/server",template:"<unifi-dhcp-server/>",resolve:n.dhcpServer,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services.dynamicdns",{url:"/dynamicdns/{action:add|edit|list}/:id",template:"<unifi-dynamic-dns/>",resolve:n.dynamicDns,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services.sip",{url:"/sip",template:"<ui-view />",defaultChildState:".settings"}).state("manage.site.settings.services.sip.settings",{url:"/settings",template:"<unifi-sip-settings/>",onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services.sip.endpoints",{url:"/endpoints/{action:add|edit|list}/:id",template:"<unifi-sip-endpoints/>",resolve:n.sip,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services.snmp",{url:"/snmp",template:"<unifi-snmp-settings/>"}).state("manage.site.settings.services.upnp",{url:"/upnp",template:"<unifi-upnp-settings/>",resolve:n.upnp,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services.mdns",{url:"/mdns",template:"<unifi-mdns-settings/>",resolve:n.mDns,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services.ntp",{url:"/ntp",template:"<unifi-ntp-settings/>",onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.services.upgrades",{controller:"ScheduledUpgradesController",controllerAs:"scheduledUpgradesCtrl",url:"/upgrades/{action:add|edit|list}/:id",template:t("../views/settings/scheduledUpgrades.pug")(),resolve:n.scheduledUpgrades,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}}}).state("manage.site.settings.profiles",{url:"/profiles",template:"<ui-view />",defaultChildState:".radius"}).state("manage.site.settings.profiles.radius",{url:"/radius/{action:add|edit|list}/:id",template:"<unifi-radius-profiles/>",resolve:n.radiusProfiles,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.profiles.ports",{url:"/ports/{action:add|edit|list}/:id",template:"<unifi-port-profiles/>",resolve:n.portProfiles,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.admins",{url:"/admins/{action:add|edit|list}/:id",template:"<unifi-admins />",resolve:n.admins,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.usergroups",{url:"/usergroups/{action:add|edit|list}/:id",template:"<unifi-user-groups />",resolve:n.userGroups,params:{action:{value:"list",squash:!1},id:{value:null,squash:!0}},onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.dpi",{url:"/dpi",template:"<ui-view />",defaultChildState:".settings"}).state("manage.site.settings.dpi.settings",{url:"/settings",template:"<unifi-dpi-settings/>",resolve:n.dpiSettings,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.dpi.restrictions",{url:"/restrictions",template:"<ui-view />",defaultChildState:".groups"}).state("manage.site.settings.dpi.restrictions.groups",{url:"/groups",template:"<unifi-dpi-restriction-groups/>",resolve:n.dpiRestrictions,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.dpi.restrictions.assignments",{url:"/assignments",template:"<unifi-dpi-restriction-assignments/>",resolve:n.dpiRestrictions,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.controller",{controller:"ControllerSettingsController",controllerAs:"controllerSettingsCtrl",url:"/controller",template:"<unifi-controller-settings/>",resolve:n.controller}).state("manage.site.settings.ips",{url:"/ips",template:"<unifi-ips-settings/>",resolve:n.ipsSettings,onEnter:o.onEnterUseCallback,onExit:o.onExitUseCallback}).state("manage.site.settings.notifications",{url:"/notifications",template:"<unifi-notifications-settings/>",resolve:n.notifications}).state("manage.site.settings.cloudaccess",{url:"/cloudaccess",template:"<unifi-cloud-access-settings/>"}).state("manage.site.settings.elitedevice",{url:"/elitedevice",template:"<unifi-elite-device-settings/>",resolve:n.elitedevice}).state("manage.site.settings.maintenance",{url:"/maintenance",template:"<unifi-maintenance-settings/>",resolve:n.maintenance}).state("manage.fatal",{controller:"FatalController",controllerAs:"fatalCtrl",url:"/fatal/:error",template:t("../views/fatal.pug")(),params:{error:{value:"400",squash:!0}}})}])},{"../../base-unifi/views/2fa.pug":1518,"../../base-unifi/views/account.pug":1519,"../../base-unifi/views/forgotPassword.pug":1520,"../../base-unifi/views/login.pug":1521,"../../base-unifi/views/oAuthLogin.pug":1522,"../../base-unifi/views/ssoLogin.pug":1523,"../lib/resolve":898,"../views/account/verify.pug":1230,"../views/fatal.pug":1231,"../views/home.pug":1270,"../views/index.pug":1271,"../views/insights/controllerLogs.pug":1272,"../views/insights/dynamicDnsStats.pug":1273,"../views/insights/knownClients.pug":1274,"../views/insights/neighboringAccessPoints.pug":1275,"../views/insights/pastConnections.pug":1276,"../views/insights/pastGuestAuthorizations.pug":1277,"../views/insights/portForwardStats.pug":1278,"../views/insights/remoteUserVpn.pug":1279,"../views/insights/routing.pug":1280,"../views/insights/streams.pug":1281,"../views/insights/switchStats.pug":1282,"../views/ips/ipsList.pug":1283,"../views/ips/ipsOverview.pug":1284,"../views/manageSite.pug":1285,"../views/maps/physical.pug":1286,"../views/maps/topology.pug":1287,"../views/settings/scheduledUpgrades.pug":1288,"../views/site/clients.pug":1289,"../views/site/dashboard.pug":1290,"../views/site/devices.pug":1291,"../views/site/ips.pug":1292,"../views/site/maps.pug":1293,"../views/site/settings.pug":1294,"../views/site/statistics.pug":1295,"../views/site/store.pug":1296,"../views/statistics/client.pug":1297,"../views/statistics/debuggingMetrics.pug":1298,"../views/statistics/dpi.pug":1299,"../views/statistics/overview.pug":1300,"../views/statistics/performance.pug":1301,"../views/statistics/speedtest.pug":1302,"../views/statistics/switch.pug":1303}],708:[function(t,e,i){"use strict";angular.module("app-unifi-manage").config(["$translatePartialLoaderProvider",function(e){e.setPart("en","common",t("../../../locales/en/common.json")),e.setPart("en","dashboard",t("../../../locales/en/dashboard.json")),e.setPart("en","dashboardModules",t("../../../locales/en/dashboardModules.json")),e.setPart("en","fatal",t("../../../locales/en/fatal.json")),e.setPart("en","modules",t("../../../locales/en/modules.json"))}])},{"../../../locales/en/common.json":77,"../../../locales/en/dashboard.json":78,"../../../locales/en/dashboardModules.json":79,"../../../locales/en/fatal.json":80,"../../../locales/en/modules.json":81}],709:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("AIR_TIME",{QUEUE_SIZE:30})},{}],710:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("AIR_TIME_NODE",{BSSID:{FREE:"FREE",NOISE:"NOISE",UNKNOWN:"00:00:00:00:00:00"},TYPE:{AP:"AP",FREE:"FREE",NOISE:"NOISE",PACKET:"PACKET",AP_SELF:"AP_SELF",STATION:"STATION",TOTAL:"TOTAL"}})},{}],711:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("AIR_VIEW",{QUEUE_SIZE:20,VALUE:{CUMULATIVE_DISTRIBUTION_FUNCTION:"cdf",PROBABILITY_DENSITY_FUNCTION:"pdf",WATERFALL:"waterfall"},POWER:{MAX:-32,MIN:-96,MIN_VISIBLE:-94,RESOLUTION:2,STEP:16},FREQUENCY:{RESOLUTION:1}})},{}],712:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("ALERTS_DEFAULTS",{FETCH_PACK_SIZE:3e3,REFRESH_PACK_SIZE:500})},{}],713:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("CAST_RATES",{MIN:100,MAX:1488e4})},{}],714:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("CHAT_DEPARTMENTS",{PRE_SALES:"Pre-Sales",UNIFI_CONTROLLER:"UniFi Controller"})},{}],715:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("CHAT_LEVELS",{SUPER_ONLY:"super-only",EVERYONE:"everyone",DISABLED:"disabled"})},{}],716:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("CLIENT_DEVICE",{APPLE_IPHONE:{name:"Apple iPhone",image:"images/clientDevices/iPhone.png",fingerprints:[/^(apple):.*(iphone).*$/i]},APPLE_IPAD:{name:"Apple iPad",fingerprints:[/^(apple):.*(ipad).*$/i]},APPLE_IPOD:{name:"Apple iPod",image:"images/clientDevices/iPod.png",fingerprints:[/^(apple):.*(ipod).*$/i]},APPLE_MACBOOK_PRO:{name:"MacBook Pro",image:"images/clientDevices/MacBookPro.png",fingerprints:[/^(apple):.*(mbp|macbook-pro).*$/i]},APPLE_MAC:{name:"iMac",image:"images/clientDevices/iMac.png",fingerprints:[/^(apple):.*(mac)((?!pro|air).)*$/i]},APPLE_MACBOOK_AIR:{name:"MacBook Air",image:"images/clientDevices/MacBookAir.png",fingerprints:[/^(apple):.*(air).*$/i]},ANDROID:{name:"Android",image:"images/clientDevices/Droid.png",fingerprints:[/^(.*):.*android.*$/i,/^.*xiaomi.*:.*redmi.*$/i]},APPLE_TV:{name:"Apple TV",image:"images/clientDevices/AppleTV.png",fingerprints:[/^(apple):.*tv.*$/i]}})},{}],717:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("CLIENT_FETCH_DEFAULTS",{DEBOUNCE_WAIT:200,THROTTLE_WAIT:3e3})},{}],718:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("DASHBOARD_SHARED_FILTERS",{DEVICE_ACCESS_POINTS:"device|ap",STATISTICS_TIME_RANGE:"stats|timerange"})},{}],719:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("DEFAULT_WLAN_SCHEDULE","mon-sun|0800-1800")},{}],720:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("DEVICE_FETCH_DEFAULTS",{DEBOUNCE_WAIT:200,THROTTLE_WAIT:3e3})},{}],721:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("DEVICE_LED_COLORS",{defaultColors:{blue:{hex:"#0000ff"},red:{hex:"#ff0000"},yellow:{hex:"#ffff00"},orange:{hex:"#ffA500"},green:{hex:"#00ff00"},magenta:{hex:"#ff00ff"},cyan:{hex:"#00ffff"},white:{hex:"#ffffff"}},defaultBrightness:100})},{}],722:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("DIRECT_DEVICE_CONNECTION",{SUPPORTED_BROWSERS:["Chrome","Firefox"]})},{}],723:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("DIRECT_DEVICE_CONNECTION_STATES",{DISCONNECTED:"DISCONNECTED",CONNECTING:"CONNECTING",WAITING:"WAITING",SCANNING:"SCANNING"})},{}],724:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("DPI_CATEGORIES",{0:"DPI_CATEGORIES_INSTANT_MESSAGING",1:"DPI_CATEGORIES_P2P",3:"DPI_CATEGORIES_FILE_TRANSFER",4:"DPI_CATEGORIES_STREAMING_MEDIA",5:"DPI_CATEGORIES_MAIL_AND_COLLABORATION",6:"DPI_CATEGORIES_VOICE_OVER_IP",7:"DPI_CATEGORIES_DATABASE",8:"DPI_CATEGORIES_GAMES",9:"DPI_CATEGORIES_NETWORK_MANAGEMENT",10:"DPI_CATEGORIES_REMOTE_ACCESS_TERMINALS",11:"DPI_CATEGORIES_BYPASS_PROXIES_AND_TUNNELS",12:"DPI_CATEGORIES_STOCK_MARKET",13:"DPI_CATEGORIES_WEB",14:"DPI_CATEGORIES_SECURITY_UPDATE",15:"DPI_CATEGORIES_WEB_IM",17:"DPI_CATEGORIES_BUSINESS",18:"DPI_CATEGORIES_NETWORK_PROTOCOLS",19:"DPI_CATEGORIES_NETWORK_PROTOCOLS",20:"DPI_CATEGORIES_NETWORK_PROTOCOLS",23:"DPI_CATEGORIES_PRIVATE_PROTOCOL",24:"DPI_CATEGORIES_SOCIAL_NETWORK",255:"DPI_CATEGORIES_UNKNOWN"})},{}],725:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("DPI_EVENTS",{CATEGORIES_CHANGED:"dpi-categories-changed",APPLICATIONS_CHANGED:"dpi-applicationss-changed"})},{}],726:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("DPI_TYPES",{BY_APP:"by_app",BY_CAT:"by_cat",TOTAL:"total"})},{}],727:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("EASTER_EGGS",{ELITE_TEASER_VERSION:"v0.1"})},{}],728:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("EGRESS_RATE_LIMITS",{MIN:64,MAX:999999})},{}],729:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("ELEMENTS",{PANEL_STICKY_TITLE_HEIGHT:35})},{}],730:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("ELITE_RMA_REASONS",{DEAD_ON_ARRIVAL:"DEVICE_ELITE_INSTANT_REASON_DEAD_ON_ARRIVAL",ETHERNET_FAILURE:"DEVICE_ELITE_INSTANT_REASON_ETHERNET_FAILURE",LCD_FAILURE:"DEVICE_ELITE_INSTANT_REASON_LCD_FAILURE",OTHER:"DEVICE_ELITE_INSTANT_REASON_OTHER",POWER_FAILURE:"DEVICE_ELITE_INSTANT_REASON_POWER_FAILURE",RADIO_FAILURE:"DEVICE_ELITE_INSTANT_REASON_RADIO_FAILURE",ROUTER_OR_MESH_POINT_POWER_FAILURE:"DEVICE_ELITE_INSTANT_REASON_ROUTER_OR_MESH_POINT_POWER_FAILURE",SOFTWARE_CORRUPTION:"DEVICE_ELITE_INSTANT_REASON_SOFTWARE_CORRUPTION",WEATHER_RELATED:"DEVICE_ELITE_INSTANT_REASON_WEATHER_RELATED"})},{}],731:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("ENV",{APP:"app-unifi-manage",APP_STATE_PREFIX:"manage.",LOGIN_STATE:"manage.account.login",HOME_STATE:"manage.home",STORE_STATE:"manage.site.store",FATAL_STATE:"manage.fatal",STORE_ACTIVE_SITE:!0})},{}],732:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("EVENTS_DEFAULTS",{FETCH_PACK_SIZE:3e3,REFRESH_PACK_SIZE:500})},{}],733:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("EVENT_KEYS",{EVT_AD_AutoBackupFailedCloudKeySDCardNotFound:"EVT_AD_AUTO_BACKUP_FAILED_CLOUD_KEY_SD_CARD_NOT_FOUND",EVT_AD_GuestAuthorizedFor:"EVT_AD_GUEST_AUTHORIZED_FOR",EVT_AD_GuestExtended:"EVT_AD_GUEST_EXTENDED",EVT_AD_GuestUnauthorized:"EVT_AD_GUEST_UNAUTHORIZED",EVT_AD_HDUsableSpace:"EVT_AD_HD_USABLE_SPACE",EVT_AD_HotspotOpLogin:"EVT_AD_HOTSPOT_OP_LOGIN",EVT_AD_Login:"EVT_AD_LOGIN",EVT_AD_LoginFailed:"EVT_AD_LOGIN_FAILED",EVT_AD_MicroSDUsableSpace:"EVT_AD_MICRO_SD_USABLE_SPACE",EVT_AD_PaymentRefunded:"EVT_AD_PAYMENT_REFUNDED",EVT_AD_UpdateAvailable:"EVT_AD_UPDATE_AVAILABLE",EVT_AD_VoucherCreated:"EVT_AD_VOUCHER_CREATED",EVT_AD_VoucherDeleted:"EVT_AD_VOUCHER_DELETED",EVT_AD_VouchersDeleted:{key:"EVT_AD_VOUCHERS_DELETED",pluralize:!0},EVT_AP_Adopted:"EVT_AP_ADOPTED",EVT_AP_AutoReadopted:"EVT_AP_AUTO_READOPTED",EVT_AP_ChannelChanged:"EVT_AP_CHANNEL_CHANGED",EVT_AP_Configured:"EVT_AP_CONFIGURED",EVT_AP_Connected:"EVT_AP_CONNECTED",EVT_AP_Deleted:"EVT_AP_DELETED",EVT_AP_DetectRogueAP:"EVT_AP_DETECT_ROGUE_AP",EVT_AP_DiscoveredPending:"EVT_AP_DISCOVERED_PENDING",EVT_AP_EliteDeviceChanged:"EVT_AP_ELITE_DEVICE_CHANGED",EVT_AP_EliteDeviceRevoke:"EVT_AP_ELITE_DEVICE_REVOKE",EVT_AP_EliteDeviceOffline:"EVT_AP_ELITE_DEVICE_OFFLINE",EVT_AP_FirmwareCheckFailed:"EVT_AP_FIRMWARE_CHECK_FAILED",EVT_AP_FirmwareDownloadFailed:"EVT_AP_FIRMWARE_DOWNLOAD_FAILED",EVT_AP_HostKeyMismatch:"EVT_AP_HOST_KEY_MISMATCH",EVT_AP_Isolated:"EVT_AP_ISOLATED",EVT_AP_LicenseChanged:"EVT_AP_LICENSE_CHANGED",EVT_AP_LicenseInvalid:"EVT_AP_LICENSE_INVALID",EVT_AP_LicenseValid:"EVT_AP_LICENSE_VALID",EVT_AP_Lost_Contact:"EVT_AP_LOST_CONTACT",EVT_AP_Notification:"EVT_AP_NOTIFICATION",EVT_AP_PossibleInterference:"EVT_AP_POSSIBLE_INTERFERENCE",EVT_AP_RadarDetected:"EVT_AP_RADAR_DETECTED",EVT_AP_RediscoveredPending:"EVT_AP_REDISCOVERED_PENDING",EVT_AP_Restarted:"EVT_AP_RESTARTED",EVT_AP_RestartedUnknown:"EVT_AP_RESTARTED_UNKNOWN",EVT_AP_RestartProc:"EVT_AP_RESTART_PROC",EVT_AP_RollUpgrade:"EVT_AP_ROLL_UPGRADE",EVT_AP_Upgraded:"EVT_AP_UPGRADED",EVT_AP_UpgradeScheduled:"EVT_AP_UPGRADE_SCHEDULED",EVT_AP_WirelessEvent:"EVT_AP_WIRELESS_EVENT",EVT_AP_PlanFinished:"EVT_AP_PLAN_FINISHED",EVT_CF_VwireSet:"EVT_CF_VWIRE_SET",EVT_CF_VwireUnset:"EVT_CF_VWIRE_UNSET",EVT_GW_Adopted:"EVT_GW_ADOPTED",EVT_GW_AutoReadopted:"EVT_GW_AUTO_READOPTED",EVT_GW_CommitError:"EVT_GW_COMMIT_ERROR",EVT_GW_Connected:"EVT_GW_CONNECTED",EVT_GW_Deleted:"EVT_GW_DELETED",EVT_GW_DiscoveredPending:"EVT_GW_DISCOVERED_PENDING",EVT_GW_EliteDeviceChanged:"EVT_GW_ELITE_DEVICE_CHANGED",EVT_GW_EliteDeviceRevoke:"EVT_GW_ELITE_DEVICE_REVOKE",EVT_GW_EliteDeviceOffline:"EVT_GW_ELITE_DEVICE_OFFLINE",EVT_GW_FirmwareCheckFailed:"EVT_GW_FIRMWARE_CHECK_FAILED",EVT_GW_FirmwareDownloadFailed:"EVT_GW_FIRMWARE_DOWNLOAD_FAILED",EVT_GW_HostKeyMismatch:"EVT_GW_HOST_KEY_MISMATCH",EVT_GW_LicenseChanged:"EVT_GW_LICENSE_CHANGED",EVT_GW_LicenseInvalid:"EVT_GW_LICENSE_INVALID",EVT_GW_LicenseValid:"EVT_GW_LICENSE_VALID",EVT_GW_Lost_Contact:"EVT_GW_LOST_CONTACT",EVT_GW_Notification:"EVT_GW_NOTIFICATION",EVT_GW_Restarted:"EVT_GW_RESTARTED",EVT_GW_RestartedUnknown:"EVT_GW_RESTARTED_UNKNOWN",EVT_GW_RestartProc:"EVT_GW_RESTART_PROC",EVT_GW_Upgraded:"EVT_GW_UPGRADED",EVT_GW_UpgradeScheduled:"EVT_GW_UPGRADE_SCHEDULED",EVT_HS_AuthedByNoAuth:"EVT_HS_AUTHED_BY_NO_AUTH",EVT_HS_AuthedByPassword:"EVT_HS_AUTHED_BY_PASSWORD",EVT_HS_PaymentProcessed:"EVT_HS_PAYMENT_PROCESSED",EVT_HS_VoucherUsed:"EVT_HS_VOUCHER_USED",EVT_IPS_IpsAlert:"EVT_IPS_IPS_ALERT",EVT_LC_Blocked:"EVT_LC_BLOCKED",EVT_LC_Unblocked:"EVT_LC_UNBLOCKED",EVT_LG_Connected:"EVT_LG_CONNECTED",EVT_LG_Disconnected:"EVT_LG_DISCONNECTED",EVT_LU_Connected:"EVT_LU_CONNECTED",EVT_LU_Disconnected:"EVT_LU_DISCONNECTED",EVT_PA_IncorrectStreamConfiguration:"EVT_PA_INCORRECT_STREAM_CONFIGURATION",EVT_PA_ScheduledStreamFailed:"EVT_PA_SCHEDULED_STREAM_FAILED",EVT_PA_StreamSkippedDevices:"EVT_PA_STREAM_SKIPPED_DEVICES",EVT_SW_Adopted:"EVT_SW_ADOPTED",EVT_SW_AutoReadopted:"EVT_SW_AUTO_READOPTED",EVT_SW_Connected:"EVT_SW_CONNECTED",EVT_SW_Deleted:"EVT_SW_DELETED",EVT_SW_DetectRogueDHCP:"EVT_SW_DETECT_ROGUE_DHCP",EVT_SW_DiscoveredPending:"EVT_SW_DISCOVERED_PENDING",EVT_SW_EliteDeviceChanged:"EVT_SW_ELITE_DEVICE_CHANGED",EVT_SW_EliteDeviceRevoke:"EVT_SW_ELITE_DEVICE_REVOKE",EVT_SW_EliteDeviceOffline:"EVT_SW_ELITE_DEVICE_OFFLINE",EVT_SW_HostKeyMismatch:"EVT_SW_HOST_KEY_MISMATCH",EVT_SW_FirmwareCheckFailed:"EVT_SW_FIRMWARE_CHECK_FAILED",EVT_SW_FirmwareDownloadFailed:"EVT_SW_FIRMWARE_DOWNLOAD_FAILED",EVT_SW_LicenseChanged:"EVT_SW_LICENSE_CHANGED",EVT_SW_LicenseInvalid:"EVT_SW_LICENSE_INVALID",EVT_SW_LicenseValid:"EVT_SW_LICENSE_VALID",EVT_SW_LoopDetected:"EVT_SW_LOOP_DETECTED",EVT_SW_Lost_Contact:"EVT_SW_LOST_CONTACT",EVT_SW_Notification:"EVT_SW_NOTIFICATION",EVT_SW_Overheat:"EVT_SW_OVERHEAT",EVT_SW_PoeOverload:"EVT_SW_POE_OVERLOAD",EVT_SW_PoeDisconnect:"EVT_SW_POE_DISCONNECT",EVT_SW_Restarted:"EVT_SW_RESTARTED",EVT_SW_RestartedUnknown:"EVT_SW_RESTARTED_UNKNOWN",EVT_SW_RestartProc:"EVT_SW_RESTART_PROC",EVT_SW_Upgraded:"EVT_SW_UPGRADED",EVT_SW_UpgradeScheduled:"EVT_SW_UPGRADE_SCHEDULED",EVT_WC_Blocked:"EVT_WC_BLOCKED",EVT_WC_Unblocked:"EVT_WC_UNBLOCKED",EVT_WG_AuthorizationEnded:"EVT_WG_AUTHORIZATION_ENDED",EVT_WG_AuthorizationEndedByQuota:"EVT_WG_AUTHORIZATION_ENDED_BY_QUOTA",EVT_WG_Connected:"EVT_WG_CONNECTED",EVT_WG_Disconnected:"EVT_WG_DISCONNECTED",EVT_WG_Roam:"EVT_WG_ROAM",EVT_WG_RoamRadio:"EVT_WG_ROAM_RADIO",EVT_WU_Connected:"EVT_WU_CONNECTED",EVT_WU_Disconnected:"EVT_WU_DISCONNECTED",EVT_WU_Roam:"EVT_WU_ROAM",EVT_WU_RoamRadio:"EVT_WU_ROAM_RADIO"})},{}],734:[function(t,e,i){"use strict";var n="ubnt-icon--ap2",o="ubnt-icon--block",r="ubnt-icon--certificate",a="ubnt-icon--check-circle2",s="ubnt-icon--clock-2",l="appAlertIcon--danger",c="ubnt-icon--unifi-elite2",u="ubnt-icon--ethernet-port",d="appAlertIcon--primary",p="appAlertIcon--success",f="ubnt-icon--switch",h="ubnt-icon--trashcan",_="appAlertIcon--warning";angular.module("app-unifi-manage").constant("EVENT_KEYS_CLASSES_MAP",{EVT_AD_AutoBackupFailedCloudKeySDCardNotFound:[l,"ubnt-icon--cloud-key"],EVT_AD_GuestAuthorizedFor:[d,a],EVT_AD_GuestExtended:[d,s],EVT_AD_GuestUnauthorized:[d,o],EVT_AD_HotspotOpLogin:[d,"ubnt-icon--login"],EVT_AD_Login:[d,"ubnt-icon--login"],EVT_AD_LoginFailed:[l,"ubnt-icon--login"],EVT_AD_PaymentRefunded:[d,"ubnt-icon--dollar-sign-2"],EVT_AD_UpdateAvailable:[d,"ubnt-icon--download-2"],EVT_AD_VoucherCreated:[d,"ubnt-icon--document"],EVT_AD_VoucherDeleted:[d,h],EVT_AD_VouchersDeleted:[d,h],EVT_AD_HDUsableSpace:[_,"ubnt-icon--alert"],EVT_AD_MicroSDUsableSpace:[_,"ubnt-icon--alert"],EVT_AP_Adopted:[p,n],EVT_AP_AutoReadopted:[p,n],EVT_AP_ChannelChanged:[d,n],EVT_AP_Configured:[d,"ubnt-icon--tools"],EVT_AP_Connected:[p,n],EVT_AP_Deleted:[l,h],EVT_AP_DiscoveredPending:[_,n],EVT_AP_EliteDeviceChanged:[d,c],EVT_AP_EliteDeviceRevoke:[_,c],EVT_AP_EliteDeviceOffline:[l,c],EVT_AP_FirmwareCheckFailed:[l,n],EVT_AP_FirmwareDownloadFailed:[l,n],EVT_AP_HostKeyMismatch:[l,"ubnt-icon--key"],EVT_AP_Isolated:[l,"ubnt-icon--ap-offline"],EVT_AP_LicenseInvalid:[l,r],EVT_AP_LicenseValid:[p,r],EVT_AP_Lost_Contact:[l,"ubnt-icon--ap-offline"],EVT_AP_Notification:[d,n],EVT_AP_PossibleInterference:[_,"ubnt-icon--sine-wave-alert"],EVT_AP_RadarDetected:[d,n],EVT_AP_RediscoveredPending:[_,n],EVT_AP_Restarted:[_,n],EVT_AP_RestartedUnknown:[_,n],EVT_AP_RestartProc:[_,n],EVT_AP_DetectRogueAP:[l,n],EVT_AP_RollUpgrade:[d,n],EVT_AP_Upgraded:[p,n],EVT_AP_UpgradeScheduled:[d,s],EVT_AP_WirelessEvent:[d,n],EVT_AP_PlanFinished:[d,n],EVT_CF_VwireSet:[d,"ubnt-icon--ap"],EVT_CF_VwireUnset:[d,"ubnt-icon--ap-offline"],EVT_DEV_Lost_Contact:[l,"ubnt-icon--ap-offline"],EVT_DEV_DiscoveredPending:[_,u],EVT_GW_Adopted:[p,u],EVT_GW_AutoReadopted:[p,u],EVT_GW_Connected:[p,u],EVT_GW_CommitError:[l,"ubnt-icon--gears"],EVT_GW_Deleted:[l,h],EVT_GW_DiscoveredPending:[_,u],EVT_GW_EliteDeviceChanged:[d,c],EVT_GW_EliteDeviceRevoke:[_,c],EVT_GW_EliteDeviceOffline:[l,c],EVT_GW_FirmwareCheckFailed:[l,u],EVT_GW_FirmwareDownloadFailed:[l,u],EVT_GW_HostKeyMismatch:[l,"ubnt-icon--key"],EVT_GW_LicenseInvalid:[l,r],EVT_GW_LicenseValid:[p,r],EVT_GW_Lost_Contact:[l,u],EVT_GW_Notification:[d,u],EVT_GW_Restarted:[_,u],EVT_GW_RestartedUnknown:[_,u],EVT_GW_RestartProc:[_,u],EVT_GW_Upgraded:[p,u],EVT_GW_UpgradeScheduled:[d,s],EVT_HS_AuthedByNoAuth:[d,a],EVT_HS_AuthedByPassword:[d,a],EVT_HS_PaymentProcessed:[d,"ubnt-icon--dollar-sign-2"],EVT_HS_VoucherUsed:[d,"ubnt-icon--document"],EVT_IPS_IpsAlert:[d,"ubnt-icon--network"],EVT_LAN_LoopDetected:[l,"ubnt-icon--network"],EVT_LAN_NeighboringDHCPDetected:[l,"ubnt-icon--network"],EVT_LC_Blocked:[d,o],EVT_LC_Unblocked:[d,a],EVT_LG_Connected:[d,"ubnt-icon--guest-wired"],EVT_LG_Disconnected:[d,"ubnt-icon--guest-wired"],EVT_LU_Connected:[d,"ubnt-icon--user-wired"],EVT_LU_Disconnected:[d,"ubnt-icon--user-wired"],EVT_PA_IncorrectStreamConfiguration:[l,"ubnt-icon--audio-off"],EVT_PA_ScheduledStreamFailed:[l,"ubnt-icon--audio-off"],EVT_PA_StreamSkippedDevices:[_,"ubnt-icon--audio-off"],EVT_SW_Adopted:[p,f],EVT_SW_AutoReadopted:[p,f],EVT_SW_Connected:[p,f],EVT_SW_Deleted:[l,h],EVT_SW_DetectNeighboringDHCP:[l,"ubnt-icon--network"],EVT_SW_DetectRogueDHCP:[l,f],EVT_SW_DiscoveredPending:[_,f],EVT_SW_EliteDeviceChanged:[d,c],EVT_SW_EliteDeviceRevoke:[_,c],EVT_SW_EliteDeviceOffline:[l,c],EVT_SW_FirmwareCheckFailed:[l,f],EVT_SW_FirmwareDownloadFailed:[l,f],EVT_SW_HostKeyMismatch:[l,"ubnt-icon--key"],EVT_SW_LicenseInvalid:[l,r],EVT_SW_LicenseValid:[p,r],EVT_SW_LoopDetected:[l,f],EVT_SW_Lost_Contact:[l,f],EVT_SW_Notification:[d,f],EVT_SW_Overheat:[l,"ubnt-icon--thermometer-high"],EVT_SW_PoeOverload:[l,f],EVT_SW_PoeDisconnect:[_,f],EVT_SW_Restarted:[_,f],EVT_SW_RestartedUnknown:[_,f],EVT_SW_RestartProc:[_,f],EVT_SW_Upgraded:[p,f],EVT_SW_UpgradeScheduled:[d,s],EVT_WC_Blocked:[d,o],EVT_WC_Unblocked:[d,a],EVT_WG_AuthorizationEnded:[d,o],EVT_WG_AuthorizationEndedByQuota:[d,o],EVT_WG_Connected:[d,"ubnt-icon--guest-wireless"],EVT_WG_Disconnected:[d,"ubnt-icon--guest-wireless"],EVT_WG_Roam:[d,"ubnt-icon--guest-wireless"],EVT_WG_RoamRadio:[d,"ubnt-icon--guest-wireless"],EVT_WU_Connected:[d,"ubnt-icon--user-wireless"],EVT_WU_Disconnected:[d,"ubnt-icon--user-wireless"],EVT_WU_Roam:[d,"ubnt-icon--user-wireless"],EVT_WU_RoamRadio:[d,"ubnt-icon--user-wireless"],EVT_WWW_Disconnected:[l,"ubnt-icon--internet-offline"],EVT_WWW_Reconnected:[p,"ubnt-icon--internet"]})},{}],735:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("EVENT_KEYS_LEVELS_MAP",{EVT_AD_AutoBackupFailedCloudKeySDCardNotFound:"danger",EVT_AD_GuestAuthorizedFor:"primary",EVT_AD_GuestExtended:"primary",EVT_AD_GuestUnauthorized:"primary",EVT_AD_HotspotOpLogin:"primary",EVT_AD_Login:"primary",EVT_AD_LoginFailed:"danger",EVT_AD_PaymentRefunded:"primary",EVT_AD_UpdateAvailable:"primary",EVT_AD_VoucherCreated:"primary",EVT_AD_VoucherDeleted:"primary",EVT_AD_HDUsableSpace:"warning",EVT_AD_MicroSDUsableSpace:"warning",EVT_AP_Adopted:"primary",EVT_AP_AutoReadopted:"primary",EVT_AP_ChannelChanged:"primary",EVT_AP_PlanFinished:"primary",EVT_AP_Configured:"primary",EVT_AP_Connected:"primary",EVT_AP_Deleted:"danger",EVT_AP_DiscoveredPending:"warning",EVT_AP_EliteDeviceChanged:"primary",EVT_AP_EliteDeviceRevoke:"warning",EVT_AP_EliteDeviceOffline:"danger",EVT_AP_FirmwareCheckFailed:"danger",EVT_AP_FirmwareDownloadFailed:"danger",EVT_AP_HostKeyMismatch:"danger",EVT_AP_Isolated:"danger",EVT_AP_LicenseInvalid:"danger",EVT_AP_LicenseValid:"primary",EVT_AP_Lost_Contact:"danger",EVT_AP_Notification:"primary",EVT_AP_PossibleInterference:"warning",EVT_AP_RadarDetected:"primary",EVT_AP_RediscoveredPending:"warning",EVT_AP_Restarted:"warning",EVT_AP_RestartedUnknown:"warning",EVT_AP_RestartProc:"warning",EVT_AP_DetectRogueAP:"danger",EVT_AP_RollUpgrade:"primary",EVT_AP_Upgraded:"primary",EVT_AP_UpgradeScheduled:"primary",EVT_AP_WirelessEvent:"primary",EVT_CF_VwireSet:"primary",EVT_CF_VwireUnset:"primary",EVT_DEV_Lost_Contact:"danger",EVT_DEV_DiscoveredPending:"warning",EVT_GW_Adopted:"primary",EVT_GW_AutoReadopted:"primary",EVT_GW_Connected:"primary",EVT_GW_CommitError:"danger",EVT_GW_Deleted:"danger",EVT_GW_DiscoveredPending:"warning",EVT_GW_EliteDeviceChanged:"primary",EVT_GW_EliteDeviceRevoke:"warning",EVT_GW_EliteDeviceOffline:"danger",EVT_GW_FirmwareCheckFailed:"danger",EVT_GW_FirmwareDownloadFailed:"danger",EVT_GW_HostKeyMismatch:"danger",EVT_GW_LicenseInvalid:"danger",EVT_GW_LicenseValid:"primary",EVT_GW_Lost_Contact:"danger",EVT_GW_Notification:"primary",EVT_GW_Restarted:"warning",EVT_GW_RestartedUnknown:"warning",EVT_GW_RestartProc:"warning",EVT_GW_Upgraded:"primary",EVT_GW_UpgradeScheduled:"primary",EVT_IPS_IpsAlert:"primary",EVT_HS_AuthedByNoAuth:"primary",EVT_HS_AuthedByPassword:"primary",EVT_HS_PaymentProcessed:"primary",EVT_HS_VoucherUsed:"primary",EVT_LAN_LoopDetected:"danger",EVT_LAN_NeighboringDHCPDetected:"danger",EVT_LC_Blocked:"primary",EVT_LC_Unblocked:"primary",EVT_LG_Connected:"primary",EVT_LG_Disconnected:"primary",EVT_LU_Connected:"primary",EVT_LU_Disconnected:"primary",EVT_PA_IncorrectStreamConfiguration:"danger",EVT_PA_ScheduledStreamFailed:"danger",EVT_PA_StreamSkippedDevices:"warning",EVT_SW_Adopted:"primary",EVT_SW_AutoReadopted:"primary",EVT_SW_Connected:"primary",EVT_SW_Deleted:"danger",EVT_SW_DetectNeighboringDHCP:"danger",EVT_SW_DetectRogueDHCP:"danger",EVT_SW_DiscoveredPending:"warning",EVT_SW_EliteDeviceChanged:"primary",EVT_SW_EliteDeviceRevoke:"warning",EVT_SW_EliteDeviceOffline:"danger",EVT_SW_FirmwareCheckFailed:"danger",EVT_SW_FirmwareDownloadFailed:"danger",EVT_SW_HostKeyMismatch:"danger",EVT_SW_LicenseInvalid:"danger",EVT_SW_LicenseValid:"primary",EVT_SW_LoopDetected:"danger",EVT_SW_Lost_Contact:"danger",EVT_SW_Notification:"primary",EVT_SW_Overheat:"danger",EVT_SW_Restarted:"warning",EVT_SW_RestartedUnknown:"warning",EVT_SW_RestartProc:"warning",EVT_SW_Upgraded:"primary",EVT_SW_UpgradeScheduled:"primary",EVT_WC_Blocked:"primary",EVT_WC_Unblocked:"primary",EVT_WG_AuthorizationEnded:"primary",EVT_WG_AuthorizationEndedByQuota:"primary",EVT_WG_Connected:"primary",EVT_WG_Disconnected:"primary",EVT_WG_Roam:"primary",EVT_WG_RoamRadio:"primary",EVT_WU_Connected:"primary",EVT_WU_Disconnected:"primary",EVT_WU_Roam:"primary",EVT_WU_RoamRadio:"primary",EVT_WWW_Disconnected:"danger",EVT_WWW_Reconnected:"primary"})},{}],736:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("FIREWALL",{GROUPS:{ADDRESS_IPV4:"address-group",ADDRESS_IPV6:"ipv6-address-group",PORT:"port-group"},IPV4:{POPULAR_PROTOCOLS:["all","tcp","udp","tcp_udp","icmp"],BASIC_PROTOCOLS:["ah","ax.25","dccp","ddp","egp","eigrp","encap","esp","etherip","fc","ggp","gre","hip","hmp","idpr-cmtp","idrp","igmp","igp","ip","ipcomp","ipencap","ipip","ipv6","ipv6-frag","ipv6-icmp","ipv6-nonxt","ipv6-opts","ipv6-route","isis","iso-tp4","l2tp","manet","mobility-header","mpls-in-ip","ospf","pim","pup","rdp","rohc","rspf","rsvp","sctp","shim6","skip","st","udplite","vmtp","vrrp","wesp","xns-idp","xtp"],ICMP_TYPES:["","communication-prohibited","destination-unreachable","echo-reply","echo-request","fragmentation-needed","host-precedence-violation","host-prohibited","host-redirect","host-unknown","host-unreachable","ip-header-bad","network-prohibited","network-redirect","network-unknown","network-unreachable","parameter-problem","port-unreachable","protocol-unreachable","redirect","required-option-missing","router-advertisement","router-solicitation","source-route-failed","timestamp-reply","timestamp-request","TOS-host-redirect","TOS-host-unreachable","TOS-network-redirect","TOS-network-unreachable","ttl-exceeded","ttl-zero-during-reassembly","ttl-zero-during-transit"]},IPV6:{POPULAR_PROTOCOLS:["all","tcp","udp","tcp_udp","icmpv6"],BASIC_PROTOCOLS:["ah","dccp","eigrp","esp","gre","ipcomp","ipv6","ipv6-frag","ipv6-icmp","ipv6-nonxt","ipv6-opts","ipv6-route","isis","l2tp","manet","mobility-header","mpls-in-ip","ospf","pim","rsvp","sctp","shim6","vrrp"],ICMP_TYPES:["","address-unreachable","bad-header","communication-prohibited","destination-unreachable","echo-reply","echo-request","neighbor-advertisement","neighbor-solicitation","no-route","packet-too-big","parameter-problem","port-unreachable","redirect","router-advertisement","router-solicitation","time-exceeded","ttl-zero-during-reassembly","ttl-zero-during-transit","unknown-header-type","unknown-option"]},VALIDATORS:{GROUP_NAME_MAX_LENGTH:64,RULE_NAME_MAX_LENGTH:128}})},{}],737:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("HOTSPOT2_AUTH_IDS",{2:"SETTINGS_HOTSPOT2_VALUES_AUTH_NON_EAP",3:"SETTINGS_HOTSPOT2_VALUES_AUTH_INNER_EAP",5:"SETTINGS_HOTSPOT2_VALUES_AUTH_CREDENTIAL"})},{}],738:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("HOTSPOT2_AUTH_VALUES",{0:{0:"SETTINGS_HOTSPOT2_VALUES_AUTH_NONE"},2:{1:"SETTINGS_HOTSPOT2_VALUES_AUTH_PAP",2:"SETTINGS_HOTSPOT2_VALUES_AUTH_CHAP",3:"SETTINGS_HOTSPOT2_VALUES_AUTH_MSCHAP",4:"SETTINGS_HOTSPOT2_VALUES_AUTH_MSCHAPV2"},3:{0:"SETTINGS_HOTSPOT2_VALUES_AUTH_NONE"},5:{1:"SETTINGS_HOTSPOT2_VALUES_AUTH_SIM",2:"SETTINGS_HOTSPOT2_VALUES_AUTH_USIM",3:"SETTINGS_HOTSPOT2_VALUES_AUTH_NFC",4:"SETTINGS_HOTSPOT2_VALUES_AUTH_HW_TOKEN",5:"SETTINGS_HOTSPOT2_VALUES_AUTH_SOFTOKEN",6:"SETTINGS_HOTSPOT2_VALUES_AUTH_CERTIFICATE",7:"SETTINGS_HOTSPOT2_VALUES_AUTH_USERNAME_PW",9:"SETTINGS_HOTSPOT2_VALUES_AUTH_ANONYMOUS",10:"SETTINGS_HOTSPOT2_VALUES_AUTH_VENDOR"}})},{}],739:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("HOTSPOT2_EAP_METHODS",{13:"EAP-TLS",21:"EAP-TTLS",18:"EAP-SIM",23:"EAP-AKA",50:"EAP-AKA'"})},{}],740:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("HOTSPOT2_NETWORK_TYPES",{0:"SETTINGS_HOTSPOT2_VALUES_PRIVATE_NETWORK",1:"SETTINGS_HOTSPOT2_VALUES_PRIVATE_NETWORK_WITH_GUEST_ACCESS",2:"SETTINGS_HOTSPOT2_VALUES_CHARGEABLE_PUBLIC_NETWORK",3:"SETTINGS_HOTSPOT2_VALUES_FREE_PUBLIC_NETWORK",4:"SETTINGS_HOTSPOT2_VALUES_PERSONAL_DEVICE_NETWORK",5:"SETTINGS_HOTSPOT2_VALUES_EMERGENCY_SERVICES_ONLY_NETWORK",14:"SETTINGS_HOTSPOT2_VALUES_TEST_OR_EXPERIMENTAL",15:"SETTINGS_HOTSPOT2_VALUES_WILDCARD"})},{}],741:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("HOTSPOT2_VENUE_GROUPS",{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED",1:"SETTINGS_HOTSPOT2_VALUES_ASSEMBLY",2:"SETTINGS_HOTSPOT2_VALUES_BUSINESS",3:"SETTINGS_HOTSPOT2_VALUES_EDUCATIONAL",4:"SETTINGS_HOTSPOT2_VALUES_FACTORY_AND_INDUSTRIAL",5:"SETTINGS_HOTSPOT2_VALUES_INSTITUTIONAL",6:"SETTINGS_HOTSPOT2_VALUES_MERCANTILE",7:"SETTINGS_HOTSPOT2_VALUES_RESIDENTIAL",8:"SETTINGS_HOTSPOT2_VALUES_STORAGE",9:"SETTINGS_HOTSPOT2_VALUES_UTILITY_AND_MISCELLANEOUS",10:"SETTINGS_HOTSPOT2_VALUES_VEHICULAR",11:"SETTINGS_HOTSPOT2_VALUES_OUTDOOR"})},{}],742:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("HOTSPOT2_VENUE_TYPES",{0:{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED"},1:{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED",1:"SETTINGS_HOTSPOT2_VALUES_ARENA",2:"SETTINGS_HOTSPOT2_VALUES_STADIUM",3:"SETTINGS_HOTSPOT2_VALUES_PASSENGER_TERMINAL",4:"SETTINGS_HOTSPOT2_VALUES_AMPHITHEATER",5:"SETTINGS_HOTSPOT2_VALUES_AMUSEMENT_PARK",6:"SETTINGS_HOTSPOT2_VALUES_PLACE_OF_WORSHIP",7:"SETTINGS_HOTSPOT2_VALUES_CONVENTION_CENTER",8:"SETTINGS_HOTSPOT2_VALUES_LIBRARY",9:"SETTINGS_HOTSPOT2_VALUES_MUSEUM",10:"SETTINGS_HOTSPOT2_VALUES_RESTAURANT",11:"SETTINGS_HOTSPOT2_VALUES_THEATER",12:"SETTINGS_HOTSPOT2_VALUES_BAR",13:"SETTINGS_HOTSPOT2_VALUES_COFFEE_SHOP",14:"SETTINGS_HOTSPOT2_VALUES_ZOO_OR_AQUARIUM",15:"SETTINGS_HOTSPOT2_VALUES_EMERGANCY_COORDINATION_CENTER"},2:{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED",1:"SETTINGS_HOTSPOT2_VALUES_DOCTOR_OR_DENTIST_OFFICE",2:"SETTINGS_HOTSPOT2_VALUES_BANK",3:"SETTINGS_HOTSPOT2_VALUES_FIRE_STATION",4:"SETTINGS_HOTSPOT2_VALUES_POLICE_STATION",6:"SETTINGS_HOTSPOT2_VALUES_POST_OFFICE",7:"SETTINGS_HOTSPOT2_VALUES_PROFESSIONAL_OFFICE",8:"SETTINGS_HOTSPOT2_VALUES_RESEARCH_AND_DEVELOPMENT_FACILITY",9:"SETTINGS_HOTSPOT2_VALUES_ATTORNEY_OFFICE"},3:{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED",1:"SETTINGS_HOTSPOT2_VALUES_PRIMARY_SCHOOL",2:"SETTINGS_HOTSPOT2_VALUES_SECONDARY_SCHOOL",3:"SETTINGS_HOTSPOT2_VALUES_UNIVERSITY_OR_COLLEGE"},4:{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED",1:"SETTINGS_HOTSPOT2_VALUES_FACTORY"},5:{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED",1:"SETTINGS_HOTSPOT2_VALUES_HOSPITAL",2:"SETTINGS_HOTSPOT2_VALUES_LONG_TERM_CARE",3:"SETTINGS_HOTSPOT2_VALUES_REHAB_CENTER",4:"SETTINGS_HOTSPOT2_VALUES_GROUP_HOME",5:"SETTINGS_HOTSPOT2_VALUES_PRISON_OR_JAIL"},6:{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED",1:"SETTINGS_HOTSPOT2_VALUES_RETAIL_STORE",2:"SETTINGS_HOTSPOT2_VALUES_GROCERY_MARKET",3:"SETTINGS_HOTSPOT2_VALUES_AUTOMOTIVE_SERVICE_STATION",4:"SETTINGS_HOTSPOT2_VALUES_SHOPPING_MALL",5:"SETTINGS_HOTSPOT2_VALUES_GAS_STATION"},7:{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED",1:"SETTINGS_HOTSPOT2_VALUES_PRIVATE_RESIDENCE",2:"SETTINGS_HOTSPOT2_VALUES_HOTEL_OR_MOTEL",3:"SETTINGS_HOTSPOT2_VALUES_DORMITORY",4:"SETTINGS_HOTSPOT2_VALUES_BOARDING_HOUSE"},8:{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED"},9:{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED"},10:{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED",1:"SETTINGS_HOTSPOT2_VALUES_AUTOMOBILE_OR_TRUCK",2:"SETTINGS_HOTSPOT2_VALUES_AIRPLANE",3:"SETTINGS_HOTSPOT2_VALUES_BUS",4:"SETTINGS_HOTSPOT2_VALUES_FERRY",5:"SETTINGS_HOTSPOT2_VALUES_SHIP_OR_BOAT",6:"SETTINGS_HOTSPOT2_VALUES_TRAIN",7:"SETTINGS_HOTSPOT2_VALUES_MOTOR_BIKE"},11:{0:"SETTINGS_HOTSPOT2_VALUES_UNSPECIFIED",1:"SETTINGS_HOTSPOT2_VALUES_MUNI_MESH_NETWORK",2:"SETTINGS_HOTSPOT2_VALUES_CITY_PARK",3:"SETTINGS_HOTSPOT2_VALUES_REST_AREA",4:"SETTINGS_HOTSPOT2_VALUES_TRAFFIC_CONTROL",5:"SETTINGS_HOTSPOT2_VALUES_BUS_STOP",6:"SETTINGS_HOTSPOT2_VALUES_KIOSK"}})},{}],743:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("HOTSPOT_LANGUAGES",{BUILT_IN_LANGUAGES:["ar","bg_BG","ca","cs","da","de_DE","el","en","es_ES","fi","fr","hu","id","it","nl","nb","no","pl","pt_BR","pt_PT","sk","sv","tr","zh_CN"],ALL_LANGUAGES:t("constant-unifi/src/json/hotspotLanguages.json")})},{"constant-unifi/src/json/hotspotLanguages.json":5}],744:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("HOTSPOT_PAYMENT_FIELDS",[{id:"first_name"},{id:"last_name"},{id:"address"},{id:"city"},{id:"state"},{id:"zip"},{id:"country",forceRequiredForNonFreePayments:!0},{id:"email"}])},{}],745:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("HOTSPOT_PORTAL_CUSTOMIZED_DEFAULTS",{portal_customized_bg_color:"#233041",portal_customized_bg_image_enabled:!0,portal_customized_bg_image_filename:void 0,portal_customized_bg_image_tile:!1,portal_customized_box_color:"#ffffff",portal_customized_box_link_color:"#1379b7",portal_customized_box_text_color:"#000000",portal_customized_box_opacity:90,portal_customized_button_color:"#1379b7",portal_customized_button_text_color:"#ffffff",portal_customized_link_color:"#00db9e",portal_customized_logo_enabled:!0,portal_customized_logo_filename:void 0,portal_customized_text_color:"#ffffff"})},{}],746:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("HOTSPOT_PORTAL_CUSTOMIZED_LANGUAGES_DEFAULTS",{portal_customized_languages:["en"]})},{}],747:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("HOTSPOT_PORTAL_OVERRIDE_TEMPLATE_HELP",{jsp:"https://help.ubnt.com/hc/en-us/articles/205143830-UniFi-Hotspot-portal-customization",angular:"https://help.ubnt.com"})},{}],748:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("INSIGHTS_DEFAULTS",{STATES:[{state:"manage.site.insights.neighboringaps",translationKey:"INSIGHTS_NAV_NEIGHBORING_ACCESS_POINTS"},{state:"manage.site.insights.knownclients",translationKey:"INSIGHTS_NAV_KNOWN_CLIENTS"},{state:"manage.site.insights.pastconnections",translationKey:"INSIGHTS_NAV_PAST_CONNECTIONS"},{state:"manage.site.insights.pastguests",translationKey:"INSIGHTS_NAV_PAST_GUEST_AUTHORIZATIONS"},{state:"manage.site.insights.switchstats",translationKey:"INSIGHTS_NAV_SWITCH_STATS"},{state:"manage.site.insights.portforwardstats",translationKey:"INSIGHTS_NAV_PORT_FORWARD_STATS"},{state:"manage.site.insights.dynamicdns",translationKey:"INSIGHTS_NAV_DYNAMIC_DNS"},{state:"manage.site.insights.remoteuservpn",translationKey:"INSIGHTS_NAV_REMOTE_USER_VPN"},{state:"manage.site.insights.streams",translationKey:"INSIGHTS_NAV_STREAMS"},{state:"manage.site.insights.logs",translationKey:"INSIGHTS_NAV_LOGS",isSuperAdminOnly:!0}]})},{}],749:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("IPS_CATEGORY_DEFAULTS",{"emerging-activex":!1,"emerging-attackresponse":!1,botcc:!1,"emerging-chat":!1,ciarmy:!1,compromised:!1,"emerging-dns":!0,"emerging-dos":!1,dshield:!1,"emerging-exploit":!0,"emerging-ftp":!1,"emerging-games":!1,"emerging-icmp":!1,"emerging-icmpinfo":!1,"emerging-imap":!1,"emerging-inappropriate":!1,"emerging-info":!1,"emerging-malware":!0,"emerging-misc":!1,"emerging-mobile":!0,"emerging-netbios":!1,"emerging-p2p":!1,"emerging-policy":!1,"emerging-pop3":!1,"emerging-rpc":!1,"emerging-scada":!1,"emerging-scan":!1,"emerging-shellcode":!0,"emerging-smtp":!1,"emerging-snmp":!1,spamhaus:!1,"emerging-sql":!1,"emerging-telnet":!1,"emerging-tftp":!1,tor:!0,"emerging-trojan":!1,"emerging-useragent":!0,"emerging-voip":!1,"emerging-webapps":!1,"emerging-webclient":!1,"emerging-webserver":!1,"emerging-worm":!0})},{}],750:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("IPS_CATEGORY_RESTRICTED",{"emerging-activex":!1,"emerging-attackresponse":!1,botcc:!0,"emerging-chat":!1,ciarmy:!1,compromised:!1,"emerging-dns":!0,"emerging-dos":!1,dshield:!0,"emerging-exploit":!0,"emerging-ftp":!1,"emerging-games":!1,"emerging-icmp":!1,"emerging-icmpinfo":!1,"emerging-imap":!1,"emerging-inappropriate":!1,"emerging-info":!1,"emerging-malware":!0,"emerging-misc":!1,"emerging-mobile":!0,"emerging-netbios":!1,"emerging-p2p":!0,"emerging-policy":!1,"emerging-pop3":!1,"emerging-rpc":!1,"emerging-scada":!1,"emerging-scan":!1,"emerging-shellcode":!0,"emerging-smtp":!1,"emerging-snmp":!1,spamhaus:!0,"emerging-sql":!1,"emerging-telnet":!1,"emerging-tftp":!1,tor:!0,"emerging-trojan":!1,"emerging-useragent":!0,"emerging-voip":!1,"emerging-webapps":!1,"emerging-webclient":!1,"emerging-webserver":!1,"emerging-worm":!0})},{}],751:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("KNOWN_CLIENT_FIELDS",["_id","blocked","fixed_ip","hostname","ip","is_guest","is_wired","first_seen","last_seen","mac","name","noted","rx_bytes","oui","tx_bytes","use_fixedip"])},{}],752:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("LOG_EVENTS",{LOGS_ADDED:"LOGS_ADDED_EVENT",LOGS_FETCHED:"LOGS_FETCHED_EVENT"})},{}],753:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("MAC",{BROADCAST:"ff:ff:ff:ff:ff:ff",UNKNOWN:"00:00:00:00:00:00"})},{}],754:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("NEIGHBOR_SCAN_SETTINGS",{STATUS_FETCH:{INTERVAL_DELAY:1e4,INTERVAL_COUNT:360},MAX_SCAN_AGE:864e5})},{}],755:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("NETWORK_PURPOSE",{corporate:"SETTINGS_NETWORK_VALUES_PURPOSE_CORPORATE",guest:"SETTINGS_NETWORK_VALUES_PURPOSE_GUEST","remote-user-vpn":"SETTINGS_NETWORK_VALUES_PURPOSE_REMOTE_USER_VPN","site-vpn":"SETTINGS_NETWORK_VALUES_PURPOSE_SITE_TO_SITE_VPN",voip:"SETTINGS_NETWORK_VALUES_PURPOSE_VOICE","vlan-only":"SETTINGS_NETWORK_VALUES_PURPOSE_VLAN_ONLY","vpn-client":"SETTINGS_NETWORK_VALUES_PURPOSE_VPN_CLIENT",wan:"SETTINGS_NETWORK_VALUES_PURPOSE_WAN"})},{}],756:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("OCCUPANCY_GRAPH",{boxMarginInPts:1,minBoxesInRow:3,selector:{bbox:"unifiOccupancyGraph__bbox",box:"unifiOccupancyGraph__box",boxes:"unifiOccupancyGraph__boxes",graph:"unifiOccupancyGraph__graph",plot:"unifiOccupancyGraph__plot",xAxis:"unifiOccupancyGraph__xAxis"},xAxisHeightInPx:25,xAxisLineSize:1,xAxisPadding:.4,xAxisTickSize:2})},{}],757:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("OUI",{UBIQUITI:"Ubiquiti",APPLE:"Apple"})},{}],758:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("PORT_PROFILE_DEFAULTS",{op_mode:"switch",dot1x_ctrl:"force_authorized",autoneg:!0,full_duplex:!0,lldpmed_enabled:!0,egress_rate_limit_kbps_enabled:!1,linkNegotiationOptions:{autoneg:{id:"autoneg",label:"DEVICE_PROPERTIES_GATEWAY_LINK_NEGOTIATION_AUTO_DEFAULT",autoneg:!0,speed:void 0,full_duplex:void 0},"10000 FDX":{id:"10000 FDX",label:"DEVICE_STATE_FLAG_WIRED_FULL_DUPLEX",autoneg:!1,speed:1e4,full_duplex:!0},"1000 FDX":{id:"1000 FDX",label:"DEVICE_STATE_FLAG_WIRED_FULL_DUPLEX",autoneg:!1,speed:1e3,full_duplex:!0},"100 FDX":{id:"100 FDX",label:"DEVICE_STATE_FLAG_WIRED_FULL_DUPLEX",autoneg:!1,speed:100,full_duplex:!0},"100 HDX":{id:"100 HDX",label:"DEVICE_STATE_FLAG_WIRED_HALF_DUPLEX",autoneg:!1,speed:100,full_duplex:!1},"10 FDX":{id:"10 FDX",label:"DEVICE_STATE_FLAG_WIRED_FULL_DUPLEX",autoneg:!1,speed:10,full_duplex:!0},"10 HDX":{id:"10 HDX",label:"DEVICE_STATE_FLAG_WIRED_HALF_DUPLEX",autoneg:!1,speed:10,full_duplex:!1}}})},{}],759:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("PROVIDER_CAPABILITIES_SETTINGS",{DOWNLOAD:1e4,UPLOAD:1e3})},{}],760:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("PSU_STATUS_TRANSLATION_KEYS",{good:"DEVICE_PSU_STATUS_GOOD",bad:"DEVICE_PSU_STATUS_BAD",pwc_disconnect:"DEVICE_PSU_STATUS_PWC_DISCONNECT",not_exist:"DEVICE_PSU_STATUS_NOT_PRESENT",default:"DEVICE_PSU_STATUS_NA"})},{}],761:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("RADIUS_DEFAULTS",{INTERIM_UPDATE:3600})},{}],762:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("RADIUS_LIMITS",{INTERIM_UPDATE_INTERVAL_MIN:60,INTERIM_UPDATE_INTERVAL_MAX:86400})},{}],763:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("RADIUS_VLAN_OPTIONS",{ENABLED:"optional",DISABLED:"disabled",REQUIRED:"required"})},{}],764:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("REMOTE_USER_VPN_TYPES",[{value:"pptp-server",translationKey:"SETTINGS_NETWORK_VALUES_VPN_SERVER_PPTP",translationKeyAbbr:"SETTINGS_NETWORK_VALUES_VPN_SERVER_PPTP_ABBR"},{value:"l2tp-server",translationKey:"SETTINGS_NETWORK_VALUES_VPN_SERVER_L2TP",translationKeyAbbr:"SETTINGS_NETWORK_VALUES_VPN_SERVER_L2TP_ABBR"}])},{}],765:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("RF_ENVIRONMENT_CHART_OPTIONS",{channelLabelRegularFontSizeInPx:9,channelLabelSmallFontSizeInPx:6,channelTrapezoidBottomMarginInPx:15,channelTrapezoidNaCutInMHz:3,channelTrapezoidNaHeightInPx:40,channelTrapezoidNgCutInMHz:1,channelTrapezoidNgHeightInPx:15,domainIntervalMarginInPx:10,htLabelMarginTopInPx:-7,htLabelMarginLeftInPx:4,marginBottomInPx:0,marginLeftInPx:5,marginRightInPx:5,marginTopInPx:0,rowMarginBottomInPx:0,rowMarginTopInPx:20,tickIntervalNa:80,tickIntervalNg:10,warningUtilizationLevel:70}),angular.module("app-unifi-manage").constant("RF_ENVIRONMENT_CHART_SELECTORS",{channel:"unifiRfEnvironmentChart__channel",channelBbox:"unifiRfEnvironmentChart__channelBbox",channelLabel:"unifiRfEnvironmentChart__channelLabel",channelMark:"unifiRfEnvironmentChart__channelMark",channelMarkBg:"unifiRfEnvironmentChart__channelMarkBg",channelTrapezoid:"unifiRfEnvironmentChart__channelTrapezoid",channelTrapezoidBg:"unifiRfEnvironmentChart__channelTrapezoidBg",currentChannel:"unifiRfEnvironmentChart__currentChannel",currentChannelRect:"unifiRfEnvironmentChart__currentChannelRect",htLabel:"unifiRfEnvironmentChart__htLabel",htRow:"unifiRfEnvironmentChart__htRow",plot:"unifiRfEnvironmentChart__plot",xAxis:"unifiRfEnvironmentChart__xAxis"})},{}],766:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("RF_ENVIRONMENT_INTERFERENCE_INTERVAL",{160:[-87,-23],80:[-90,-26],40:[-93,-29],20:[-96,-32]})},{}],767:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("RF_ENVIRONMENT_SETTINGS",{DEVICE_FETCH:{INTERVAL_DELAY:25e3,INTERVAL_COUNT:25,HEY_TOAST_DELAY:6e4}})},{}],768:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("RMA_PROBLEM_CATEGORIES",["Dead on Arrival","Ethernet Failure (Negotiation Issues, No Ping)","LCD Failure","Other","Power Failure / ESD","Radio Failure (Low TX/RX Power, etc)","Router or Mesh Point Power Failure","Software corruption","Weather Related"])},{}],769:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("SCAN_TYPES",{AIR_TIME:{name:"AIR_TIME",channelPrefix:"airtime"},AIR_VIEW:{name:"AIR_VIEW",channelPrefix:"airview"}})},{}],770:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("SITE_HEALTH",{STATUS_MAP:{unknown:"disabled",ok:"success",warning:"warning",error:"danger"},ICON_MAP:{www:"ubnt-icon--world",wan:"ubnt-icon--shield",lan:"ubnt-icon--network",wlan:"ubnt-icon--ap-unifi"},ATTR_MAP:{wan:{active:"num_gw",inactive:"num_disconnected",pending:"num_pending"},lan:{active:"num_sw",inactive:"num_disconnected",pending:"num_pending"},wlan:{active:"num_ap",inactive:"num_disconnected",pending:"num_pending"}}})},{}],771:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("SNMP_SETTINGS",{MAX_COMMUNITY_LENGTH:256,MAX_USERNAME_LENGTH:30,MAX_PASSWORD_LENGTH:32,MIN_PASSWORD_LENGTH:8,MAX_DEVICE_LOCATION_LENGTH:255,MAX_DEVICE_CONTACT_LENGTH:255})},{}],772:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("SPANNING_TREE_PRIORITIES",["0","4096","8192","12288","16384","20480","24576","28672","32768","36864","40960","45056","49152","53248","57344","61440"])},{}],773:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("SPEED_TEST_SETTINGS",{TEST_TIMEOUT:3e5,REFRESHING_INTERVAL:50,DONUT_CHART:{SCALE_MAX:700,SCALE_SPACE:1},LINE_CHART:{TICKS_FACTOR:3,TICKS_ON_SCALE:65,X_AXIS_NATURAL_DIRECTION_DOWNLOAD:!0,X_AXIS_NATURAL_DIRECTION_UPLOAD:!0},EVENT_STRING:"speed-test:update"})},{}],774:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("SPEED_TEST_STATUSES",{UNKNOWN:-1,PENDING_TEST:0,IN_PROGRESS:1,IS_COMPLETED:2})},{}],775:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("STATUS",{EXCELLENT:"EXCELLENT",GOOD:"GOOD",FAIR:"FAIR",POOR:"POOR",BAD:"BAD",UNAVAILABLE:"UNAVAILABLE",UNKNOWN:"UNKNOWN"})},{}],776:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("TERMS_OF_SERVICE_DEFAULT",'Terms of Use\n\nBy accessing the wireless network, you acknowledge that you\'re of legal age, you have read and understood and agree to be bound by this agreement.\n\nThe wireless network service is provided by the property owners and is completely at their discretion. Your access to the network may be blocked, suspended, or terminated at any time for any reason.\n\nYou agree not to use the wireless network for any purpose that is unlawful and take full responsibility of your acts.\n\nThe wireless network is provided "as is" without warranties of any kind, either expressed or implied.')},{}],777:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("TOP_ITEM_TYPES",{MOST_ACTIVE:"mostActive",TOP_RETRIES:"topRetries",CHANNEL_UTIL:"channelUtil",CLIENT_COUNT:"ClientCount",INTERFERENCE:"interference",MEMORY_USAGE:"memoryUsage",CPU_USAGE:"cpuUsage",MOST_ACTIVE_CLIENTS:"mostActiveClients",LONGEST_CONNECTED_CLIENTS:"longestConnectedClients"})},{}],778:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("UBNT_CLIENT_TYPES",[{className:"icon ubnt-icon--cloud-key",match:function(t){return"UniFi-CloudKey"===t.get("hostname")}},{className:"unifiDeviceIcon unifiDeviceIcon--UAS",match:function(t){return"UAS-Pro"===t.get("hostname")}},{className:"icon ubnt-icon--camera-2",match:function(t){return t.get("hostname")&&-1!==t.get("hostname").indexOf("UVC")}}])},{}],779:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("UPLOAD_SETTINGS",{ALLOWED_IMAGE_HEADERS:["89504e47","47494638","ffd8ffe0","ffd8ffe1","ffd8ffe2"]})},{}],780:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("USG_TEMPERATURE_LABELS",{UGW4:{PHY:"DEVICE_PROPERTIES_LABEL_TEMPERATURE_PHY",CPU:"DEVICE_PROPERTIES_LABEL_TEMPERATURE_CPU","Board (PHY)":"DEVICE_PROPERTIES_LABEL_TEMPERATURE_BOARD_PHY","Board (CPU)":"DEVICE_PROPERTIES_LABEL_TEMPERATURE_BOARD_CPU"},UGWXG:{"Board 1":"DEVICE_PROPERTIES_LABEL_TEMPERATURE_BOARD_1","Board 2":"DEVICE_PROPERTIES_LABEL_TEMPERATURE_BOARD_2",CPU:"DEVICE_PROPERTIES_LABEL_TEMPERATURE_CPU","PHY 1":"DEVICE_PROPERTIES_LABEL_TEMPERATURE_PHY_1","PHY 2":"DEVICE_PROPERTIES_LABEL_TEMPERATURE_PHY_2"}})},{}],781:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("US_STATES",[{value:"AK",text:"Alaska"},{value:"AL",text:"Alabama"},{value:"AR",text:"Arkansas"},{value:"AS",text:"American Samoa"},{value:"AZ",text:"Arizona"},{value:"CA",text:"California"},{value:"CO",text:"Colorado"},{value:"CT",text:"Connecticut"},{value:"DC",text:"District of Columbia"},{value:"DE",text:"Delaware"},{value:"FL",text:"Florida"},{value:"GA",text:"Georgia"},{value:"GU",text:"Guam"},{value:"HI",text:"Hawaii"},{value:"IA",text:"Iowa"},{value:"ID",text:"Idaho"},{value:"IL",text:"Illinois"},{value:"IN",text:"Indiana"},{value:"KS",text:"Kansas"},{value:"KY",text:"Kentucky"},{value:"LA",text:"Louisiana"},{value:"MA",text:"Massachusetts"},{value:"MD",text:"Maryland"},{value:"ME",text:"Maine"},{value:"MI",text:"Michigan"},{value:"MN",text:"Minnesota"},{value:"MO",text:"Missouri"},{value:"MS",text:"Mississippi"},{value:"MT",text:"Montana"},{value:"NC",text:"North Carolina"},{value:"ND",text:"North Dakota"},{value:"NE",text:"Nebraska"},{value:"NH",text:"New Hampshire"},{value:"NJ",text:"New Jersey"},{value:"NM",text:"New Mexico"},{value:"NV",text:"Nevada"},{value:"NY",text:"New York"},{value:"OH",text:"Ohio"},{value:"OK",text:"Oklahoma"},{value:"OR",text:"Oregon"},{value:"PA",text:"Pennsylvania"},{value:"PR",text:"Puerto Rico"},{value:"RI",text:"Rhode Island"},{value:"SC",text:"South Carolina"},{value:"SD",text:"South Dakota"},{value:"TN",text:"Tennessee"},{value:"TX",text:"Texas"},{value:"UT",text:"Utah"},{value:"VA",text:"Virginia"},{value:"VI",text:"Virgin Islands"},{value:"VT",text:"Vermont"},{value:"WA",text:"Washington"},{value:"WI",text:"Wisconsin"},{value:"WV",text:"West Virginia"},{value:"WY",text:"Wyoming"}])},{}],782:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("UTILIZATION_STATES",{usg:{cpu10:{0:[0,4],10:[5,14],20:[15,24],30:[25,34],40:[35,44],50:[45,54],60:[55,64],70:[65,74],80:[75,84],90:[85,94],100:[95,100]},cpu:{low:[0,33],medium:[34,66],high:[67,100]}},controller:{cpu:{low:[0,33],medium:[34,66],high:[67,100]}},internet:{capacity:{0:[0,4],10:[5,14],20:[15,24],30:[25,34],40:[35,44],50:[45,54],60:[55,64],70:[65,74],80:[75,84],90:[85,94],100:[95,100]}},latencyThresholds:[0,20,75,150,250],retriesThresholds:[0,.1,.25,.5,.65]})},{}],783:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("VIRTUAL_DEVICES_WHITELIST",["U2IW","U7EDU","U7HD","U7IW","U7IWP","U7LR","U7LT","U7MP","U7MSH","U7P","U7PG2","U7SHD"])},{}],784:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("WIFI_NG_BASE_CHANNELS",{1:[1,2,3],6:[4,5,6,7,8],11:[9,10,11,12,13],14:[14]})},{}],785:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("WINDOW_PANEL_GROUPS",{DEBUG_TERMINAL:"debugTerminal",AIR_TIME:"airTime",AIR_VIEW:"airView"})},{}],786:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("WLAN_GROUP_SETTINGS",{MAX_WLANCONF_WITH_WIRELESS_UPLINK:4,MAX_WLANCONF:8})},{}],787:[function(t,e,i){"use strict";angular.module("app-unifi-manage").constant("WLAN_MINRATE_SETTINGS",{DTIM:{MODE:{DEFAULT:"default",CUSTOM:"custom"},MIN:1,MAX:255,DEFAULT:1},MCS:{ng:[1e3,2e3,5500,6e3,9e3,11e3,12e3,18e3,24e3,36e3,48e3,54e3],na:[6e3,9e3,12e3,18e3,24e3,36e3,48e3,54e3]}})},{}],788:[function(t,e,i){"use strict";angular.module("app-unifi-manage").controller("AboutController",["system",function(t){return new function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.repository.model.fetch(),this.model=t.repository.model}}])},{}],789:[function(t,e,i){"use strict";function n(t,e,i,n,o,r){this.account=i,this.queryString=n,this.$state=t,this.VerifyMgrModel=o,this.ENV=r,e.email&&e.t?this.verifyAccount(e.email,e.t):this.verificationError=!0}n.prototype.verifyAccount=function(t,e){this.verificationError=!1;var i=new this.VerifyMgrModel;i.set({email:t,token:e}),this.account.verifyAccount(i).then(function(){this.$state.go(this.ENV.HOME_STATE).then(function(){this.queryString.clear()}.bind(this))}.bind(this)).catch(function(){this.verificationError=!0}.bind(this))},n.$inject=["$state","$stateParams","account","queryString","VerifyMgrModel","ENV"],angular.module("app-unifi-manage").controller("AccountVerifyController",n)},{}],790:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").controller("AddClientController",["BasePaginatedListController","$q","$translate","clientBatchUtils","ClientModel","clients","CollectionView","devices","frame","heyToasts","knownClientsCache","networks","networkUtils","NewClientCollection","preferences","REGEX_PATTERNS","regexUtils","userGroups",function(t,e,i,r,a,s,l,c,u,d,p,f,h,_,m,g,v,E){return new(function(C){function T(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,T);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(T.__proto__||Object.getPrototypeOf(T)).call(this));return t.showList=!1,t.isEditing=!1,t.rowsPerPage=m.model.getRowsPerPropertyPanel(),t.collection=new _,t.view=new l(t.collection),t.model=new a,t.patterns={macAddress:v.exact(g.MAC_ADDRESS),name:g.NAME},t.unverifiedMacs=[],t.verifiedMacs=[],o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"$onInit",t).call(t),t.init(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(T,t),n(T,[{key:"init",value:function(){var t=this;this.failedToLoad=!1;var i=[this.resolveUserGroups(),this.resolveNetworks(),this.resolveClients()];e.all(i).catch(function(){t.failedToLoad=!0}).finally(function(){t.isLoading=!1})}},{key:"resolveUserGroups",value:function(){return E.repository.register().fetch()}},{key:"resolveNetworks",value:function(){return f.repository.register().fetch()}},{key:"resolveClients",value:function(){return s.repository.register().fetch()}},{key:"getUserGroups",value:function(){return E.repository.collection.models}},{key:"getNetworks",value:function(){return h.getNetworksAvailableForClient()}},{key:"getNetworkIpSubnet",value:function(){var t=this.model.get("network_id");if(t){var e=f.repository.collection.get(t);return e&&e.get("ip_subnet")}}},{key:"canAssignFixedIp",value:function(){var t=c.repository.collection.where({type:"ugw",adopted:!0}).length>0,e=f.repository.collection.where({dhcpd_enabled:!0}).length>0;return t&&e}},{key:"isMacBeingVerified",value:function(){var t=this.model.get("mac");return-1!==this.unverifiedMacs.indexOf(t)}},{key:"isMacAlreadyUsed",value:function(){var t=this,e=this.model.get("mac");if(-1!==this.verifiedMacs.indexOf(e))return this.form.macAddress.$setValidity("macAlreadyUsed",!0),!1;var i=s.repository.collection.get(e)||p.repository.collection.get(e);return i||-1!==this.unverifiedMacs.indexOf(e)?(this.form.macAddress.$setValidity("macAlreadyUsed",!1),!!i):(this.unverifiedMacs.push(e),p.repository.fetchItem(e).catch(function(){t.verifiedMacs.push(e),t.form.macAddress.$setValidity("macAlreadyUsed",!0)}).finally(function(){var i=t.unverifiedMacs.indexOf(e);t.unverifiedMacs.splice(i,1)}))}},{key:"onMacChange",value:function(){this.isMacBeingVerified()||this.isMacAlreadyUsed()}},{key:"isSubmitAllowed",value:function(){return!this.form.$pristine&&this.form.$valid}},{key:"submit",value:function(){this.model.get("use_fixedip")||(this.model.unset("network_id"),this.model.unset("fixed_ip")),this.collection.add(this.model),this.showList=!0,this.isEditing=!1}},{key:"unregister",value:function(){E.repository.unregister(),f.repository.unregister(),s.repository.unregister()}},{key:"onClose",value:function(){if(this.isEmpty())return u.close("addClient");u.show("confirm",{title:i.instant.bind(this,"CLIENT_ADD_DISCARD_CONFIRM_TITLE",{count:this.collection.length},"messageformat").bind(this),message:i.instant.bind(this,"CLIENT_ADD_DISCARD_CONFIRM_MESSAGE",{count:this.collection.length},"messageformat"),options:angular.noop}).then(function(){return u.close("addClient")})}},{key:"getClients",value:function(){return this.collection.models}},{key:"deleteClient",value:function(t){this.collection.remove(t),this.isEmpty()&&this.addAnotherClient()}},{key:"isEmpty",value:function(){return 0===this.collection.length}},{key:"addAnotherClient",value:function(){this.model=new a,this.showValidation=!1,this.showList=!1}},{key:"cancel",value:function(){this.collection.length>0?(this.showList=!0,this.isEditing=!1):this.onClose()}},{key:"edit",value:function(t){this.model=t,this.showList=!1,this.isEditing=!0}},{key:"getNetworkName",value:function(t){if(t){var e=f.repository.collection.get(t);return e&&e.get("name")}}},{key:"getUserGroupName",value:function(t){if(t){var e=E.repository.collection.get(t);return e&&e.get("name")}}},{key:"submitAll",value:function(){return r.addClients(this.collection).then(function(t){return d.pushSuccess(t),u.close("addClient"),!0}).catch(function(t){return d.pushError(t),!1})}}]),T}())}])},{}],791:[function(t,e,i){"use strict";function n(t,e,i,n,o,r){this.$state=t,this.frame=e,this.heyToasts=i,this.siteUtils=n,this.model=new o,this.patterns={name:r.NAME}}n.prototype.save=function(){return this.isSubmitting=!0,this.siteUtils.addSite(this.model).then(function(t){return this.frame.getLayout("addSiteLayout").resolve(),this.heyToasts.pushSuccess(t),this.$state.go("manage.site.dashboard",{site:this.model.get("name")}),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.$inject=["$state","frame","heyToasts","siteUtils","SiteModel","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("AddSiteController",n)},{}],792:[function(t,e,i){"use strict";function n(t,e){this.$state=t,this.frame=e,this.attributes={inputKey:"",name:""},this.patterns={sshKey:/^ssh-rsa AAAA[0-9A-Za-z+/]+[=]{0,3}[ ]?(.)*$/}}n.prototype.save=function(){var t=this.attributes.inputKey.split(" "),e=t[0],i=t[1],n=t.length>2?t[2]:this.attributes.name;this.frame.getLayout("addSshKeyLayout").resolve({name:this.attributes.name,type:e,key:i,comment:n})},n.$inject=["$state","frame"],angular.module("app-unifi-manage").controller("AddSshKeyController",n)},{}],793:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a){this.frame=t,this.heyToasts=e,this.random=i,this.settings=n,this.SettingsModel=o,this.siteUtils=r,this.CREDENTIALS_SETTINGS=a,this.init()}n.prototype.init=function(){this.password=this.random.getRandomString(16)},n.prototype.dismiss=function(){this.isSubmitting=!0;var t=this.settings.getSettingFromKey("super_mgmt");this.settings.saveSettings(t,{default_site_device_auth_password_alert:!1},"mgmt").finally(function(){this.isSubmitting=!1,this.frame.getLayout("adminPasswordChangeSuggestionLayout").reject()}.bind(this))},n.prototype.resetPassword=function(){this.isSubmitting=!0;var t=this.siteUtils.getDefaultSiteName();t||this.frame.getLayout("adminPasswordChangeSuggestionLayout").reject();var e=new this.SettingsModel({key:"mgmt"});e._forceSite=t,this.settings.saveSettings(e,{x_ssh_password:this.password},"mgmt").finally(function(){this.isSubmitting=!1,this.frame.getLayout("adminPasswordChangeSuggestionLayout").reject()}.bind(this))},n.$inject=["frame","heyToasts","random","settings","SettingsModel","siteUtils","CREDENTIALS_SETTINGS"],angular.module("app-unifi-manage").controller("AdminPasswordChangeSuggestionController",n)},{}],794:[function(t,e,i){"use strict";var n=t("./AlertsLinkController");angular.module("app-unifi-manage").controller("AlertsController",["alerts","alertFrameUtils",function(t,e){return new(function(i){function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o}())}])},{"./AlertsLinkController":795}],795:[function(t,e,i){"use strict";function n(t,e){this.alerts=t,this.alertFrameUtils=e}n.prototype.getUnreadCount=function(){return this.alerts.repositories.unread.model.get("count")},n.prototype.closeAlerts=function(){this.alertFrameUtils.close()},n.prototype.toggleAlerts=function(){this.alertFrameUtils.toggle()},n.prototype.isAlertsOpen=function(){return this.alertFrameUtils.isOpen()},n.prototype.hasTranslationsLoaded=function(){return this.alertFrameUtils.hasTranslationsLoaded()},n.$inject=["alerts","alertFrameUtils"],e.exports=n},{}],796:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseCollectionController");function o(t,e,i,o){this.INDEX_FORMAT="YYYY-MM-DD HH:mm",this.CalendarFilter=t,this.CollectionView=e,this.moment=i,this.preferences=o,n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.$onInit=function(){this.initCalendarView(this._collection)},o.prototype.getCollection=function(){return this.collection},o.prototype.initCalendarView=function(){throw new Error("You must override initCalendarView")},o.prototype.setDate=function(t){this.calendarDate=t},o.prototype.setListLayout=function(t,e){this.setCalendarLayout({layout:"list",date:t,period:e})},o.prototype.isSameDay=function(t){return this.calendarDate.isSame(t,"day")},o.prototype.isSameMonth=function(t){return this.calendarDate.isSame(t,"month")},o.prototype.prevDay=function(){this.calendarDate.subtract(1,"day")},o.prototype.nextDay=function(){this.calendarDate.add(1,"day")},o.prototype.prevWeek=function(){this.calendarDate.subtract(1,"week")},o.prototype.nextWeek=function(){this.calendarDate.add(1,"week")},o.prototype.prevMonth=function(){this.calendarDate.subtract(1,"month")},o.prototype.nextMonth=function(){this.calendarDate.add(1,"month")},o.prototype.getStartOfHour=function(){return this.calendarDate.clone().startOf("hour")},o.prototype.getEndOfHour=function(){return this.calendarDate.clone().endOf("hour")},o.prototype.getStartOfWeek=function(){return this.calendarDate.clone().startOf("week")},o.prototype.getEndOfWeek=function(){return this.calendarDate.clone().endOf("week")},o.$inject=["CalendarFilter","CollectionView","moment","preferences"],e.exports=o},{}],797:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").factory("BaseClientListController",["BasePaginatedListController",function(t){return function(e){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.defaultSortBy=t.defaultSortBy||"name",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,t),n(i,[{key:"initFilters",value:function(){var t=this.listState.getFilter("wired");this.filter.setWiredFilter(t&&"all"!==t?"wired"===t:void 0);var e=this.listState.getFilter("guest");this.filter.setGuestFilter(e&&"all"!==e?"guests"===e:void 0),this.isFiltered=this.filter.isFiltered.bind(this.filter),this.getWiredFilter=this.filter.getWiredFilter.bind(this.filter),this.hasWiredFilter=this.filter.hasWiredFilter.bind(this.filter),this.getGuestFilter=this.filter.getGuestFilter.bind(this.filter),this.hasGuestFilter=this.filter.hasGuestFilter.bind(this.filter)}},{key:"setWiredFilter",value:function(t){this.beginStateChange(),this.listState.addFilter("wired",t?"wired":"wireless"),this.filter.setWiredFilter(t),this.commitStateChange()}},{key:"clearWiredFilter",value:function(){this.beginStateChange(),this.listState.removeFilter("wired"),this.filter.clearWiredFilter(),this.commitStateChange()}},{key:"setGuestFilter",value:function(t){this.beginStateChange(),this.listState.addFilter("guest",t?"guests":"users"),this.filter.setGuestFilter(t),this.commitStateChange()}},{key:"clearGuestFilter",value:function(){this.beginStateChange(),this.listState.removeFilter("guest"),this.filter.clearGuestFilter(),this.commitStateChange()}}]),i}()}])},{}],798:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").factory("BaseDpiUsersController",["clients","devices","knownClientsCache","selectedDpiCategories","userDpi","BaseCollection","BasePaginatedListController",function(t,e,i,o,r,a,s){return function(l){function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return t.defaultSortBy="totalBytes",t.defaultSortDesc=!0,t.initView(),t.cachedKnownClientIds=[],t.isLoading=0!==o.getIds().length,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,s),n(c,[{key:"getCollection",value:function(){return this.collection=this.collection||new a,this.collection}},{key:"addEventHandlers",value:function(){var t=this;this.repository=r.buildRepository("by_app"),this.repository.register(),this.listener=this.repository.collection.onEvent("update",function(){t.isLoading=!1,t.collectData()},{leading:!1})}},{key:"removeEventHandlers",value:function(){this.cachedKnownClientIds.forEach(function(t){i.repository.unregisterItem(t)}),this.listener.stopListening(),this.repository.unregister()}},{key:"getModel",value:function(n){var o=e.repository.collection.get(n)||t.repository.collection.get(n);return o||(o=i.repository.collection.get(n))&&i.repository.registerItem(n),o}},{key:"collectData",value:function(){throw new Error("You must override collectData")}},{key:"knownClientFetched",value:function(t){throw new Error("You must override knownClientFetched")}},{key:"fetchKnownClient",value:function(t){var e=this;t&&-1===this.cachedKnownClientIds.indexOf(t)&&(this.cachedKnownClientIds.push(t),i.repository.registerItem(t).fetchItem(t).then(function(t){e.knownClientFetched(t)}))}}]),c}()}])},{}],799:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").factory("BaseDropdownListController",["BasePaginatedListController","$injector","$timeout","toggleDropdownControllerMixin",function(t,e,i,o){return function(r){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return o(t),t.$timeout=i,t.rowsPerPage=t.rowsPerPage||10,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),n(a,[{key:"initFilters",value:function(){var t=e.get("BaseSearchableModelFilter");this.filter=new t,this.filter.searchableAttributes=this.searchableAttributes}},{key:"openDropdown",value:function(){this.isDropdownVisible=!0,this.refresh()}},{key:"selectModel",value:function(t){this.selectedModel===t?this.selectedModel=void 0:(this.selectedModel=t,this.closeDropdown()),this.onSelect&&this.$timeout(function(){this.onSelect({model:this.selectedModel})}.bind(this),0)}},{key:"onSearchQueryChange",value:function(t){(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"onSearchQueryChange",this).call(this,t),this.onChange&&this.onChange({searchQuery:t}),t&&this.openDropdown()}},{key:"clearSearchQuery",value:function(){this.filter&&(this.filter.searchQuery=void 0)}},{key:"setSupplementalFilter",value:function(t){if(!this.isSupplementalFilterAllowed())throw new Error("The filter does not support supplemental functions");this.beginStateChange(),this.filter.setSupplementalFunction(t),this.commitStateChange()}},{key:"clearSupplementalFilter",value:function(){if(!this.isSupplementalFilterAllowed())throw new Error("The filter does not support supplemental functions");this.beginStateChange(),this.filter.clearSupplementalFunction(),this.commitStateChange()}},{key:"isSupplementalFilterAllowed",value:function(){return!!(this.filter&&this.filter.setSupplementalFunction&&this.filter.clearSupplementalFunction)}}]),a}()}])},{}],800:[function(t,e,i){"use strict";function n(t,e,i,n,o){this.ERROR_EDIT_NOT_FOUND="Missing or invalid item ID",this.$state=t,this.$stateParams=e,this.preferences=o,this.ENV=n,this.isAdmin=i.isAdmin.bind(i),this.isSuperAdmin=i.isSuperAdmin.bind(i),this.initView()}n.prototype.initView=function(t,e){try{if(t=t||this.$stateParams.action,e=e||this.$stateParams.id,"edit"===t){if(this.model=this.collection.get(e),!this.model)throw new Error(this.ERROR_EDIT_NOT_FOUND);this.view="form"}else if("add"===t){var i=this.collection.model;this.model=new i,this.view="form"}else this.view="list"}catch(t){this.onInitViewError(t)}},n.prototype.onInitViewError=function(t){this.errorMsg=t.message,this.$state.go(this.ENV.FATAL_STATE,{error:404})},n.prototype.list=function(t){this.$state.go(this.$state.current.name,{action:"list",id:null},{notify:!t}),t&&this.initView("list")},n.prototype.add=function(t){this.$state.go(this.$state.current.name,{action:"add",id:null},{notify:!t}),t&&this.initView("add")},n.prototype.edit=function(t,e){this.$state.go(this.$state.current.name,{action:"edit",id:t.id},{notify:!e}),e&&this.initView("edit",t.id)},n.$inject=["$state","$stateParams","account","ENV","preferences"],e.exports=n},{}],801:[function(t,e,i){"use strict";function n(t){this.formUtils=t,this.count=0}n.prototype.addItem=function(){return!!this.isAddAllowed()&&(this.count++,!0)},n.prototype.removeItem=function(){throw new Error("You must override removeItem")},n.prototype.isAddAllowed=function(){return!this.max||this.count<this.max},n.prototype.isRemoveAllowed=function(){return!this.min||this.count>this.min},n.prototype.getOptions=function(){return this.formUtils.range(this.count)},n.$inject=["formUtils"],e.exports=n},{}],802:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").factory("BaseSettingsController",["$q","$translate","heyToasts","account","settings","settingsUtils","siteUtils","reload","modelDivergence",function(t,e,i,o,r,a,s,l,c){return function(){function u(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.site=s.getActiveSite(),this.isAdmin=o.isAdmin.bind(o),this.isSuperAdmin=o.isSuperAdmin.bind(o),this.defaultSettings={},this.forms={}}return n(u,[{key:"getTranslatedSectionName",value:function(t){return t?this.settingsSectionTranslationKeys&&this.settingsSectionTranslationKeys[t]?e.instant(this.settingsSectionTranslationKeys[t]):e.instant("SETTINGS_"+this.settingsSection.toUpperCase()+"_KEY_"+t.toUpperCase()).toLowerCase():this.settingsSectionTranslationKey?e.instant(this.settingsSectionTranslationKey):e.instant("SETTINGS_NAV_"+this.settingsSection.toUpperCase()).toLowerCase()}},{key:"getSettingFromKey",value:function(t,e,i){var n=r.getSettingFromKey(t,i?void 0:this.site.id);return n?e&&angular.forEach(e,function(t,e){void 0===n.get(e)&&n.set(e,t)}):this.defaultSettings[t]||(this.defaultSettings[t]=r.buildSettingFromKey(t,e,i?void 0:this.site.id)),n||this.defaultSettings[t]}},{key:"haveFormsDiverged",value:function(){var t=!1;return angular.forEach(this.forms,function(e){e&&e.$error&&e.$error.divergent&&(t=!0)}),t}},{key:"resolveDivergence",value:function(){angular.forEach(this.forms,function(t){c.resolveDivergence(t)})}},{key:"ignoreDivergence",value:function(){angular.forEach(this.forms,function(t){c.ignoreDivergence(t)})}},{key:"saveSection",value:function(t,e,n){var o=a.clearAttrs(n,e);return r.saveSettings(t,o,this.getTranslatedSectionName(n)).then(function(){return!0}).catch(function(t){return i.pushError(t),!1})}},{key:"afterSave",value:function(n){var o=this;return t.all(n).then(function(t){var n=t.filter(function(t){return t}).length,r=t.length-n;n&&(r?i.pushWarning(e.instant("COMMON_NOTICE_SAVE_MIXED",{section:o.getTranslatedSectionName()})):i.pushSuccess(e.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:o.getTranslatedSectionName()})))}).catch(function(){i.pushError(e.instant("COMMON_NOTICE_SAVE_ERROR",{section:o.getTranslatedSectionName()}))}).finally(function(){o.isSubmitting=!1})}},{key:"reset",value:function(){l.reloadState()}}]),u}()}])},{}],803:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a,s,l,c,u,d){var p=this;this.$state=e,this.$stateParams=i,this.clients=n,this.devices=o,this.knownClientsCache=r,this.statisticsParams=a,this.statsFeatures=s,this.statsUtils=l,this.RADIO_TYPES=c,this.REPORT_TYPES=u,this.STATS_DEFAULTS=d,this.radioType=void 0,this.setGranularity=function(t){p.granularity=t,p.updateState(!1)},t.$on("$destroy",this.unregisterKnownClient.bind(this)),this.init()}n.prototype.init=function(){this.granularity=this.statisticsParams.getGranularity(),this.start=this.statisticsParams.getStart(),this.end=this.statisticsParams.getEnd(),this.clientMac=this.$stateParams.clientId,this.clientMac&&(this.client=this.getModel(this.clientMac),this.client||this.fetchKnownClient(this.clientMac))},n.prototype.updateState=function(t){var e={start:this.start,end:this.end,granularity:this.granularity.url,clientId:this.client.get("mac")};this.$state.go(this.$state.current.name,e,{notify:t})},n.prototype.getModel=function(t){var e=this.devices.repository.collection.get(t)||this.clients.repository.collection.get(t);return e||(e=this.knownClientsCache.repository.collection.get(t))&&this.knownClientsCache.repository.registerItem(t),e},n.prototype.fetchKnownClient=function(t){this.cachedKnownClientId=t,this.knownClientsCache.repository.registerItem(t).fetchItem(t).then(function(t){this.client=t}.bind(this))},n.prototype.unregisterKnownClient=function(){this.cachedKnownClientId&&this.knownClientsCache.repository.unregisterItem(this.cachedKnownClientId)},n.$inject=["$scope","$state","$stateParams","clients","devices","knownClientsCache","statisticsParams","statsFeatures","statsUtils","RADIO_TYPES","REPORT_TYPES","STATS_DEFAULTS"],angular.module("app-unifi-manage").controller("ClientStatisticsController",n)},{}],804:[function(t,e,i){"use strict";function n(){}n.$inject=[],angular.module("app-unifi-manage").controller("ClientsController",n)},{}],805:[function(t,e,i){"use strict";function n(t){this.frame=t}n.prototype.resolve=function(){this.frame.getLayout("cloudKeySdCardCheckLayout").resolve()},n.$inject=["frame"],angular.module("app-unifi-manage").controller("CloudKeySdCardCheckController",n)},{}],806:[function(t,e,i){"use strict";function n(t,e,i,n){this.bowser=t,this.dpi=e,this.frame=i,this.availableCategories=e.getAllAppCategories().filter(function(t){return-1===n.indexOf(t.name)})}n.prototype.resolve=function(){this.frame.getLayout("addDpiCategoryGraphLayout").resolve(this.categories)},n.prototype.isAndroid4x=function(){return parseInt(this.bowser.osversion)<5&&this.bowser.android},n.$inject=["bowser","dpi","frame","excludedCategories"],angular.module("app-unifi-manage").controller("ConfigureDpiCategoryGraphController",n)},{}],807:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("ConfirmRemoveAdminController",["account","model","BaseConfirmController",function(t,e,i){return new(function(o){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return i.model=e,i.isSuperAdmin=t.isSuperAdmin.bind(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),n(r,[{key:"resolve",value:function(){return function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0}(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"resolve",this).call(this,{removeSuperSitePermissions:this.removeSuperSitePermissions})}}]),r}())}])},{}],808:[function(t,e,i){"use strict";angular.module("app-unifi-manage").controller("ConfirmUpgradeOverridesController",["modifiedFiles","options","BaseConfirmController",function(t,e,i){return new(function(n){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return i.modifiedFiles=t,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,i),o}())}])},{}],809:[function(t,e,i){"use strict";function n(t,e,i,n){this.account=e,this.preferences=n,this.activeDashboard=t.id||i.getActiveDashboard(),this.isEditingModules="edit"===t.action,this.isEditingDashboards="dashboards"===t.panel}n.$inject=["$stateParams","account","dashboards","preferences"],angular.module("app-unifi-manage").controller("DashboardController",n)},{}],810:[function(t,e,i){"use strict";function n(){}n.$inject=[],angular.module("app-unifi-manage").controller("DevicesController",n)},{}],811:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiController",["$stateParams","dpiFilters","selectedDpiApplications","selectedDpiCategories","STATS_DEFAULTS",function(t,e,i,o,r){return new(function(){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.STATS_DEFAULTS=r,this.clearSelectedApplications=i.clear.bind(i),this.clearSelectedCategories=o.clear.bind(o)}return n(a,[{key:"$onInit",value:function(){e.addEventHandlers()}},{key:"$onDestroy",value:function(){e.removeEventHandlers()}},{key:"showCategoryStatistics",value:function(){return-1!==r.CATEGORY_STATISTIC_VIEWS.indexOf(t.view)&&!t.userId}},{key:"showUserStatistics",value:function(){return"users"===t.view&&!!t.userId}},{key:"showApplicationStatistics",value:function(){return-1!==r.APPLICATION_STATISTIC_VIEWS.indexOf(t.view)}}]),a}())}])},{}],812:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("DpiRestrictionFormController",["$translate","apiResults","dpi","dpiApps","dpiGroups","dpiUtils","DpiAppModel","frame","heyToasts","model","restrictionGroup",function(t,e,i,o,r,a,s,l,c,u,d){return new(function(){function p(){var t=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),this.dpiGroups=r,this.restrictionGroup=d,this.model=u?u.deepCopy():new s({enabled:!0,cats:[]}),this.availableCategories=i.getAllAppCategories(),this.applications=this.model.get("apps")||[],this.categories=(this.model.get("cats")||[]).map(function(t){var e=i.getCategoryName(t);return{name:e,translatedName:a.getTranslatedCategoryName(e)}}).filter(function(t,e,i){return i.indexOf(t)===e}),-1!==this.model.get("qos_rate_max_down")?(this.downLimitEnabled=!0,this.downLimit=this.model.get("qos_rate_max_down")):this.downLimitEnabled=!1,-1!==this.model.get("qos_rate_max_up")?(this.upLimitEnabled=!0,this.upLimit=this.model.get("qos_rate_max_up")):this.upLimitEnabled=!1,this.selectedApplicationTags=[],this.updateSelectedApplicationTags(),this.alreadySelectedCategories=function(e){return!t.categories.find(function(t){return t.name===e.name})},this.alreadySelectedApplications=function(e){return-1===t.applications.indexOf(e.applicationId)}}return n(p,[{key:"addCategoryAndApplication",value:function(){this.dpiCategoryToAdd&&(this.dpiApplicationToAdd?this.addApplication():this.addCategory())}},{key:"addCategory",value:function(){this.dpiCategoryToAdd&&this.categories.push({name:this.dpiCategoryToAdd.name,translatedName:a.getTranslatedCategoryName(this.dpiCategoryToAdd.name)})}},{key:"addApplication",value:function(){this.dpiApplicationToAdd&&(this.applications.push(this.dpiApplicationToAdd.applicationId),this.updateSelectedApplicationTags())}},{key:"onCategorySelection",value:function(){this.dpiCategoryToAdd&&(this.availableApplications=i.getAllAppsFromCategory(this.dpiCategoryToAdd.name))}},{key:"removeCategory",value:function(t){this.categories.splice(this.categories.indexOf(t),1)}},{key:"removeApplication",value:function(t){var e=this.applications.findIndex(function(e){return i.getAppName(e)===t});-1!==e&&(this.applications.splice(e,1),this.updateSelectedApplicationTags())}},{key:"updateSelectedApplicationTags",value:function(){this.selectedApplicationTags=this.applications.map(function(t){return{name:i.getAppName(t),description:i.getCompoundName(t)}})}},{key:"hasValidCategories",value:function(){return this.categories.length>0||this.applications.length>0}},{key:"getRestrictions",value:function(){return[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(new Set(this.restrictionGroup.get("dpiapp_ids")||[])))}},{key:"getModelAttrsToSave",value:function(){var t=this,e={cats:i.getAllAppCategories().filter(function(e){return-1!==t.categories.findIndex(function(t){return t.name===e.name})}).map(function(t){return t.categoryIds}).reduce(function(t,e){return t.concat(e)},[]),apps:this.applications};return this.model.get("blocked")||(e.qos_rate_max_down=this.downLimitEnabled?this.downLimit:-1,e.qos_rate_max_up=this.upLimitEnabled?this.upLimit:-1),e}},{key:"getRestrictionGroupAttrsToSave",value:function(){var t=this.getRestrictions();return-1===t.indexOf(this.model.id)&&t.push(this.model.id),{dpiapp_ids:t}}},{key:"save",value:function(){var i=this;return this.isSubmitting=!0,this.model.save(this.getModelAttrsToSave(),{wait:!0}).then(function(){return i.restrictionGroup.save(i.getRestrictionGroupAttrsToSave(),{wait:!0}).then(function(){return o.repository.collection.add(i.model,{merge:!0}),i.restrictionGroup.fetch().then(function(){return c.pushSuccess(t.instant("DPI_RESTRICTION_SAVE_SUCCESS")),l.getLayout("dpiRestrictionFormLayout").resolve(),!0})})}).catch(function(i){return c.pushError(e.appendErrorMsg(t.instant("DPI_RESTRICTION_SAVE_ERROR"),i)),!1}).finally(function(){i.isSubmitting=!1})}}]),p}())}])},{}],813:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a,s){this.$translate=t,this.apiResults=e,this.frame=i,this.heyToasts=n,this.dpiGroups=o,this.model=a?a.deepCopy():new r,this.patterns={name:s.NAME}}n.prototype.save=function(){return this.isSubmitting=!0,this.model.save(this.model.attributes,{wait:!0}).then(function(){return this.dpiGroups.repository.collection.add(this.model,{merge:!0}),this.heyToasts.pushSuccess(this.$translate.instant("DPI_RESTRICTION_GROUP_SAVE_SUCCESS")),this.frame.getLayout("dpiRestrictionGroupFormLayout").resolve(),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("DPI_RESTRICTION_GROUP_SAVE_ERROR"),t)),!1}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))},n.$inject=["$translate","apiResults","frame","heyToasts","dpiGroups","DpiGroupModel","model","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("DpiRestrictionGroupFormController",n)},{}],814:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a){this.$translate=t,this.apiResults=e,this.dpiGroups=i,this.frame=n,this.heyToasts=o,this.networks=r.repository.collection.map(function(t){return{name:t.get("name"),type:this.$translate.instant("SETTINGS_NAV_NETWORKS"),model:t}},this).concat(a.repository.collection.map(function(t){return{name:t.get("name"),type:this.$translate.instant("SETTINGS_NAV_WIRELESS_NETWORKS"),model:t}},this)),this.networks=this.networks.filter(function(t){var e=t.model.get("dpigroup_id");return!(e&&i.repository.collection.get(e))})}n.prototype.save=function(){this.network.model.save({dpi_enabled:!0,dpigroup_id:this.restrictionGroupId}).then(function(){return this.heyToasts.pushSuccess(this.$translate.instant("DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_SAVE_SUCCESS")),this.frame.getLayout("dpiRestrictionNetworkAssignmentFormLayout").resolve()}.bind(this)).catch(function(t){this.heyToasts.pushError(this.apiResults.appendErrorMsg(this.$translate.instant("DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_SAVE_ERROR"),t))}.bind(this))},n.$inject=["$translate","apiResults","dpiGroups","frame","heyToasts","networks","wirelessNetworks"],angular.module("app-unifi-manage").controller("DpiRestrictionNetworkAssignmentFormController",n)},{}],815:[function(t,e,i){"use strict";function n(t,e,i,n,o,r){this.$state=t,this.frame=e,this.title=i,this.label=n,this.resolveButtonLabel=o,this.text=r}n.prototype.resolve=function(){return this.frame.getLayout("editTextFieldLayout").resolve(this.text)},n.prototype.reject=function(){return this.frame.getLayout("editTextFieldLayout").reject()},n.$inject=["$state","frame","title","label","resolveButtonLabel","text"],angular.module("app-unifi-manage").controller("EditTextFieldController",n)},{}],816:[function(t,e,i){"use strict";function n(t,e,i,n,o){this.$rootScope=t,this.eliteDevices=e,this.frame=i,this.ZOPIM_EVENTS=o,this.currentPage=1,this.rowsPerPage=n.model.getRowsPerPropertyPanel()}n.prototype.getOfflineDevices=function(){return this.eliteDevices.getOfflineDevices()},n.prototype.paginationLimit=function(){return this.rowsPerPage},n.prototype.paginationBegin=function(){return(this.currentPage-1)*this.rowsPerPage},n.prototype.close=function(){this.eliteDevices.closeOfflineFrame()},n.prototype.openChatSupport=function(){this.$rootScope.$broadcast(this.ZOPIM_EVENTS.OPEN_ZOPIM)},n.$inject=["$rootScope","eliteDevices","frame","preferences","ZOPIM_EVENTS"],angular.module("app-unifi-manage").controller("EliteDeviceOfflineController",n)},{}],817:[function(t,e,i){"use strict";var n=t("./EventsLinkController");angular.module("app-unifi-manage").controller("EventsController",["eventFrameUtils",function(t){return new(function(e){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n),i}())}])},{"./EventsLinkController":818}],818:[function(t,e,i){"use strict";function n(t){this.eventFrameUtils=t}n.prototype.closeEvents=function(){this.eventFrameUtils.close()},n.prototype.toggleEvents=function(){this.eventFrameUtils.toggle()},n.prototype.isEventsOpen=function(){return this.eventFrameUtils.isOpen()},n.prototype.hasTranslationsLoaded=function(){return this.eventFrameUtils.hasTranslationsLoaded()},n.$inject=["eventFrameUtils"],e.exports=n},{}],819:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a,s,l,c){this.batchEdit=t,this.deviceBatchUtils=e,this.devices=n,this.frame=r,this.heyToasts=a,this.siteUtils=s,this.DEVICE_INFORM=l,this.patterns={hostname:c.HOSTNAME,portNumber:c.PORT_NUMBER,ipAddress:c.IPV4_ADDRESS},this.migrate_hostname="",this.migrate_port=l.DEFAULT_PORT,this.adoptedDevicesFilter=new i,this.adoptedDevicesFilter.setDeviceMigratableFilter(!0),this.selectAllAdoptedTest=o.isDeviceMigratable.bind(o),this.resolve()}n.$inject=["batchEdit","deviceBatchUtils","DeviceFilter","devices","deviceStateUtils","frame","heyToasts","siteUtils","DEVICE_INFORM","REGEX_PATTERNS"],n.prototype.getInformHostWithPort=function(){return[this.migrate_hostname,this.migrate_port].join(":")},n.prototype.gotoNextStep=function(){this.step++},n.prototype.export=function(){return this.isExporting=!0,this.siteUtils.generateSiteExport().then(function(t){return this.heyToasts.pushSuccess(t),this.gotoNextStep(),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isExporting=!1}.bind(this))},n.prototype.importConfirm=function(){this.gotoNextStep()},n.prototype.onSelectDevicesToMigrate=function(t){this.selectedDevicesToMigrate=t},n.prototype.migrateDevices=function(){this.isMigrating=!0;var t=[this.DEVICE_INFORM.PROTOCOL,this.getInformHostWithPort(),this.DEVICE_INFORM.ENDPOINT].join("");return this.deviceBatchUtils.migrateDevices(this.selectedDevicesToMigrate,t).then(function(t){return this.heyToasts.pushSuccess(t),this.gotoNextStep(),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isMigrating=!1}.bind(this))},n.prototype.onSelectDevicesToForget=function(t){this.selectedDevicesToForget=t},n.prototype.forgetDevices=function(){this.isMigrating=!0;var t=this.batchEdit.createBatch("batch:device:forget","batch:device",{destination:this.selectedDevicesToForget});return this.deviceBatchUtils.forgetDevices(t).then(function(t){return this.heyToasts.pushSuccess(t),this.frame.getLayout("exportSiteLayout").resolve(),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isMigrating=!1}.bind(this))},n.prototype.resolve=function(){return this.devices.repository.register().fetch()},n.prototype.reject=function(){this.devices.repository.unregister(),this.frame.getLayout("exportSiteLayout").reject()},angular.module("app-unifi-manage").controller("ExportSiteController",n)},{}],820:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("FallbackVlanController",["account","frame","model","networkUtils",function(t,e,i,o){return new(function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.model=i,this.isAdmin=t.isAdmin.bind(t),this.nativeNetworkTypes=o.nativeNetworkTypes}return n(r,[{key:"close",value:function(){return e.getLayout("fallbackVlanLayout").reject()}},{key:"onSaveOverride",value:function(){return e.getLayout("fallbackVlanLayout").resolve(i)}}]),r}())}])},{}],821:[function(t,e,i){"use strict";function n(t,e,i,n){this.isAdmin=e.isAdmin.bind(e),this.frame=i,this.model=new t,n&&(this.model.attributes.group_type=n)}n.prototype.onSave=function(){this.frame.getLayout("firewallGroupsCreateLayout").resolve(this.model)},n.prototype.onCancel=function(){this.frame.getLayout("firewallGroupsCreateLayout").reject()},n.$inject=["FirewallGroupModel","account","frame","groupType"],angular.module("app-unifi-manage").controller("FirewallGroupsCreateController",n)},{}],822:[function(t,e,i){"use strict";function n(t,e,i,n){this.$state=t,this.site=e,this.siteUtils=i,this.ENV=n,this.redirectToDashboard()}n.prototype.redirectToDashboard=function(){var t=this.site.getActiveSite()||this.siteUtils.getDefaultSiteName();t?this.$state.go("manage.site.dashboard",{site:t}):this.$state.go(this.ENV.FATAL_STATE,{error:404})},n.$inject=["$state","site","siteUtils","ENV"],angular.module("app-unifi-manage").controller("HomeController",n)},{}],823:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a){if(this.$rootScope=t,this.$timeout=e,this.frame=n,this.entry=i,this.title=i.name,this.entry.auth_ids&&this.entry.auth_vals){this.entry.auth_ids=this.entry.auth_ids.split(","),this.entry.auth_vals=this.entry.auth_vals.split(","),this.auths=[];for(var s=0;s<this.entry.auth_ids.length;s++)this.auths.push({id:this.entry.auth_ids[s],val:this.entry.auth_vals[s]})}this.HOTSPOT2_EAP_METHODS=a,this.HOTSPOT2_AUTH_IDS=o,this.HOTSPOT2_AUTH_VALUES=r,this.maxAuths=10;var l=t.$on("$frameClose:hotspot2NaiRealmListEntry",function(){this.removeEventHandlers(),l()}.bind(this));this.addEventHandlers()}n.prototype.constructor=n,n.prototype.resolve=function(){var t=this.entry;return t.auth_ids&&t.auth_vals&&(t.auth_ids=t.auth_ids.toString(),t.auth_vals=t.auth_vals.toString()),this.frame.getLayout("hotspot2NaiRealmListEntryLayout").resolve(t)},n.prototype.reject=function(){return this.frame.getLayout("hotspot2NaiRealmListEntryLayout").reject()},n.prototype.removeEventHandlers=function(){this.events&&angular.forEach(this.events,function(t){t()})},n.prototype.addEventHandlers=function(){this.removeEventHandlers(),this.events=[this.$rootScope.$on("keyup:enter",function(){this.$timeout(function(){this.isSubmitAllowed()?this.save():this.showValidation=!0}.bind(this),0)}.bind(this))]},n.prototype.save=function(){return this.isSubmitting=!0,this.resolve(),!0},n.prototype.removeAuth=function(t){this.form.$setDirty(),this.entry.auth_ids.splice(t,1),this.entry.auth_vals.splice(t,1),this.auths.splice(t,1)},n.prototype.addAuth=function(){if(this.authId&&this.authVal){if(this.form.$setDirty(),this.entry.auth_ids&&this.entry.auth_vals&&this.auths||(this.entry.auth_ids=[],this.entry.auth_vals=[],this.auths=[]),this.auths.length>=this.maxAuths)return;this.auths.push({id:this.authId,val:this.authVal}),this.entry.auth_ids.push(this.authId),this.entry.auth_vals.push(this.authVal),this.authId=null,this.authVal=null}},n.prototype.isSubmitAllowed=function(){return this.form.$valid&&!this.form.$pristine},n.$inject=["$rootScope","$timeout","entry","frame","HOTSPOT2_AUTH_IDS","HOTSPOT2_AUTH_VALUES","HOTSPOT2_EAP_METHODS"],angular.module("app-unifi-manage").controller("Hotspot2NaiRealmListEntryController",n)},{}],824:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a){this.frame=e,this.model=n,this.freePackageExists=i,this.countryCodes=t.getCountryCodes(),this.countryNamesMap=t.getCountryNamesMap(),this.currencies=Object.keys(o),this.HOTSPOT_PAYMENT_FIELDS=r,this.HOTSPOT_PAYMENT_FIELDS_DEFAULTS=a,0===this.model.get("amount")&&(this.freePackage=!0)}n.prototype.isSubmitAllowed=function(){return this.form.$valid&&!this.form.$pristine},n.prototype.save=function(){this.frame.getLayout("hotspotPackageLayout").resolve(this.model)},n.prototype.isFreePackageCheckboxDisabled=function(){return this.freePackageExists},n.prototype.adjustAmountAndCurrency=function(){this.freePackage&&(this.model.set("amount",0),this.model.set("currency",void 0))},n.$inject=["countries","frame","freePackageExists","model","CURRENCY_MAP","HOTSPOT_PAYMENT_FIELDS","HOTSPOT_PAYMENT_FIELDS_DEFAULTS"],angular.module("app-unifi-manage").controller("HotspotPackageController",n)},{}],825:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a){this.$state=t,this.frame=e,this.heyToasts=i,this.siteUtils=n,this.systemBackupUtils=r,this.model=new o,this.patterns={name:a.NAME}}n.prototype.importSite=function(t){if(t&&t[0])return this.isImporting=!0,this.systemBackupUtils.uploadBackupFile(t[0],this.importProgress).then(function(t){return this.siteUtils.importSite(this.model,t.backup_id).then(function(t){return this.frame.getLayout("importSiteLayout").resolve(),this.heyToasts.pushSuccess(t),this.$state.go("manage.site.dashboard",{site:this.model.get("name")}),!0}.bind(this))}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isImporting=!1,this.importProgress=void 0}.bind(this))},n.$inject=["$state","frame","heyToasts","siteUtils","SiteModel","systemBackupUtils","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("ImportSiteController",n)},{}],826:[function(t,e,i){"use strict";function n(t,e,i){var n="manage.site.insights",o=n+".neighboringaps";function r(){"manage.site.insights"===e.current.name&&e.go(i.getRouteState(n,"$childState",o))}r(),t.$on("pageutilsStateChangeSuccess",function(){r()})}n.$inject=["$scope","$state","routeStates"],angular.module("app-unifi-manage").controller("InsightsController",n)},{}],827:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a,s,l,c,u){this.$q=t,this.$translate=e,this.countries=i,this.deviceElite=n,this.deviceEliteDetails=o,this.frame=r,this.heyToasts=a,this.model=s,this.settings=l,this.ELITE_RMA_REASONS=c,this.US_STATES=u,this.init()}n.prototype.init=function(){var t=this.getCountries();this.country=t.length&&t[0].get("key"),this.state=this.US_STATES[0].value,this.saveAsDefault=!0,this.autoreplace=!0,this.fillForm()},n.prototype.fillForm=function(){var t=this.settings.getSettingFromKey("super_mgmt");if(t&&t.get("contact_info_full_name")){var e=t.attributes;this.fullName=e.contact_info_full_name,this.companyName=e.contact_info_company_name,this.phoneNumber=e.contact_info_phone_number,this.address1=e.contact_info_shipping_address_1,this.address2=e.contact_info_shipping_address_2,this.city=e.contact_info_city,this.state=e.contact_info_state,this.zipCode=e.contact_info_zip,this.country=e.contact_info_country}},n.prototype.close=function(){this.frame.getLayout("instantRmaLayout").reject()},n.prototype.getCountries=function(){var t=this.deviceEliteDetails.getSupportedCountries();return t.length?this.countries.repository.collection.models.filter(function(e){return-1!==t.indexOf(e.get("code"))}):[]},n.prototype.submit=function(){if(this.isSubmitting=!0,this.saveAsDefault&&this.updateContactInfoSettings().finally(function(){this.model||(this.frame.getLayout("instantRmaLayout").resolve(),this.isSubmitting=!1)}.bind(this)),this.model){var t={contactInfo:{full_name:this.fullName,company_name:this.companyName,phone_number:this.phoneNumber,shipping_address_1:this.address1,shipping_address_2:this.address2,city:this.city,state:this.state,zip:this.zipCode,country:this.country},autoreplace:this.autoreplace,reason:this.reason};return this.deviceElite.instantRma(this.model,t).then(function(t){this.heyToasts.pushSuccess(t),this.frame.getLayout("instantRmaLayout").resolve()}.bind(this)).catch(function(t){this.heyToasts.pushError(t)}.bind(this)).finally(function(){this.isSubmitting=!1}.bind(this))}return this.$q.when()},n.prototype.updateContactInfoSettings=function(){var t=this.settings.getSettingFromKey("super_mgmt"),e={contact_info_full_name:this.fullName,contact_info_company_name:this.companyName,contact_info_phone_number:this.phoneNumber,contact_info_shipping_address_1:this.address1,contact_info_shipping_address_2:this.address2,contact_info_city:this.city,contact_info_state:this.state,contact_info_zip:this.zipCode,contact_info_country:this.country},i=!1;return Object.keys(e).forEach(function(n){e[n]!==t.get(n)&&(i=!0)}),i?this.settings.saveSettings(t,e,"super_mgmt").then(function(){this.heyToasts.pushSuccess(this.$translate.instant("INSTANT_RMA_SHIPPING_INFO_CHANGE_SUCCESS"))}.bind(this)).catch(function(){this.heyToasts.pushError(this.$translate.instant("INSTANT_RMA_SHIPPING_INFO_CHANGE_ERROR"))}.bind(this)):this.$q.when()},n.$inject=["$q","$translate","countries","deviceElite","deviceEliteDetails","frame","heyToasts","device","settings","ELITE_RMA_REASONS","US_STATES"],angular.module("app-unifi-manage").controller("InstantRmaController",n)},{}],828:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("IpsListController",["$state","$stateParams","$injector","$translate","BasePaginatedListController","CollectionView","frame","ipsAlertsComparator","ipsEvents","ipsEventsUtils","IpsListFilter","preferences","dateUtils",function(t,e,i,o,r,a,s,l,c,u,d,p,f){return new(function(t){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.$translate=o,t.dateUtils=f,t.comparator=l,t.filter=(new d).setTimeRangeFilter(e.overrideStart,e.overrideEnd),t.defaultSortBy="time",t.isFiltered=function(){return t.filter.isFiltered()},t.refresh(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r),n(i,[{key:"getCollection",value:function(){return c.filteredCollection}},{key:"openDetails",value:function(t){s.show("ipsThreatDetail",{event:function(){return t}})}},{key:"formatSource",value:function(t){return this.formatIpAndPort(t.getSrcIp(),t.getSrcPort())}},{key:"formatDestination",value:function(t){return this.formatIpAndPort(t.getDestIp(),t.getDestPort())}},{key:"formatIpAndPort",value:function(t,e){return e?t+" : "+e:t}},{key:"getCountryCode",value:function(t){return u.getForeignCountryCode(t)}},{key:"getPaginationDataType",value:function(){var t=1===this.view.getModels().length?"PAGINATION_AURA_THREAT_DATA_TYPE":"PAGINATION_AURA_THREATS_DATA_TYPE";return this.$translate.instant(t)}}]),i}())}])},{}],829:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("IspThroughputController",["$injector","$translate","BaseCollectionRepository","BaseModelRepository","binaryPrefix","DashboardStatsCollection","devices","dynamicModules","gatewayUtils","moment","objectUtils","ReportCollection","siteHealth","timeBasedGraphControllerMixin","DATE_RANGE_PRESETS",function(t,e,i,o,r,a,s,l,c,u,d,p,f,h,_){var m={hour:{preset:_.LAST_HOUR},day:{preset:_.LAST_24H},week:{preset:_.LAST_WEEK},month:{preset:_.LAST_30_DAYS}};return new(function(){function _(){var t=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_),h(this),this.timeRange=m.day,this.tabs=[{translationKey:"ISP_MODAL_1_HOUR",onSelect:function(){t.timeRange=m.hour},isSelected:function(){return t.timeRange===m.hour}},{translationKey:"ISP_MODAL_24_HOURS",onSelect:function(){t.timeRange=m.day},isSelected:function(){return t.timeRange===m.day}},{translationKey:"ISP_MODAL_7_DAYS",onSelect:function(){t.timeRange=m.week},isSelected:function(){return t.timeRange===m.week}},{translationKey:"ISP_MODAL_30_DAYS",onSelect:function(){t.timeRange=m.month},isSelected:function(){return t.timeRange===m.month}}],this.data=[],this.commonChartConfig={margin:{left:80,top:5,bottom:20,right:10},xProperty:"time",xAxisPadding:0,xAxisTickSize:2,withSecondaryXAxis:!0,xAxisTickResolution:u.duration(5,"minute").asMilliseconds(),xScaleDomain:[0,100],left:{interpolate:"curveMonotoneX",yProperty:["download","upload"]}},this.updateChartConfigs()}return n(_,[{key:"updateChartConfigs",value:function(){this.throughputChartConfig=d.deepInherit(this.commonChartConfig),this.throughputChartConfig.left.type="area",this.throughputChartConfig.left.yProperty=["download","upload"],this.throughputChartConfig.left.yAxisFormat=function(t){return r.parse(Math.abs(t),"SI").toString(" ")+e.instant("COMMON_UNIT_BPS")},this.latencyChartConfig=d.deepInherit(this.commonChartConfig),this.latencyChartConfig.left.type="plot",this.latencyChartConfig.left.yProperty=["latency"],this.latencyChartConfig.left.yAxisFormat=function(t){return t+" "+e.instant("COMMON_LATENCY_UNIT")},this.latencyChartConfig.yAxisTicks=2}},{key:"$onInit",value:function(){var e=this;this.dashboardRepository=new i(new a),this.dashboardRepository.register(),f.repository.collection.on("sync",this.updateSiteHealth,this),this.dashboardRepository.collection.on("sync",this.updatePlotData,this),s.repository.fetch().then(function(){if(c.hasSiteGateway()){e.usgPorts=c.getNetworkGroupsNames(c.getSiteGateway()).map(function(t){return t.toLowerCase()}).sort(function(t,e){return e.charCodeAt(0)-t.charCodeAt(0)}),e.usgRepository=new i(new p("gw"));var t=["time"];e.usgPorts.forEach(function(e){t.push(e+"-rx_bytes"),t.push(e+"-tx_bytes")}),e.usgRepository.collection.setAttrs(t),e.usgRepository.register(),e.usgRepository.collection.on("sync",e.updateUsgData,e)}e.updateTimeRange()}),this.updateSiteHealth(),l.load("dpi").then(function(){e.DPI_TYPES=t.get("DPI_TYPES");var i=t.get("SiteDpiModel");e.dpiRepository=new o(new i(e.DPI_TYPES.BY_APP)),e.dpiRepository.model.setLimit(3),e.dpiRepository.model.on("sync",e.updateDpiData,e),e.dpiRepository.registerAndFetch()})}},{key:"$onDestroy",value:function(){this.dashboardRepository.unregister(),f.repository.collection.off("sync",this.updateSiteHealth,this),this.dashboardRepository.collection.off("sync",this.updatePlotData,this),this.dpiRepository.model.off("sync",this.updateDpiData,this),this.usgRepository&&this.usgRepository.collection.off("sync",this.updateUsgData,this)}},{key:"updateTimeRange",value:function(){var t=this.getGranularity(this.timeRange.preset.start,this.timeRange.preset.end,!0,!0),e=u(this.timeRange.preset.start).round(5,"minutes").valueOf(),i=u(this.timeRange.preset.end).round(5,"minutes").valueOf();this.commonChartConfig.xScaleDomain=[e,i],this.commonChartConfig.xAxisTickResolution=this.getTickResolution(this.timeRange.preset.start,this.timeRange.preset.end),this.prepareXAxis(this.commonChartConfig),this.dashboardRepository.collection.setGranularity(t),this.dashboardRepository.collection.setDateInterval(e,i),this.dashboardRepository.refresh(),this.usgRepository&&this.usgRepository.collection.setGranularity(t),this.usgRepository&&this.usgRepository.collection.setDateInterval(e,i),this.usgRepository&&this.usgRepository.refresh()}},{key:"updateSiteHealth",value:function(){var t=f.repository.collection.get("www");t&&(this.parsedUpload=r.parse(t.get("tx_bytes-r"),"IEC",!0),this.parsedDownload=r.parse(t.get("rx_bytes-r"),"IEC",!0),this.latency=t.get("latency"))}},{key:"updatePlotData",value:function(){var t=this.dashboardRepository.collection.getChartData();t.notEmpty&&(this.data=t.entries.map(function(t){var e={download:t.download,upload:t.upload,maxDownload:t.maxDownload,maxUpload:t.maxUpload},i=e.download;return{time:t.time,latency:t.latencyMs,raw:e,download:null!==i?-i:null,upload:e.upload}}),this.updateChartConfigs())}},{key:"updateDpiData",value:function(){var t=this.dpiRepository.model.get(this.DPI_TYPES.BY_APP);t&&(this.dpiItems=t.toArray().sort(function(t,e){return e.getTotalBytes()-t.getTotalBytes()}))}},{key:"updateUsgData",value:function(){var t=this;this.usgData={},this.usgRepository.collection.each(function(e){t.usgPorts.forEach(function(i){t.usgData[i]=t.usgData[i]||{rx:0,tx:0},t.usgData[i].rx+=e.get(i+"-rx_bytes"),t.usgData[i].tx+=e.get(i+"-tx_bytes")})})}}]),_}())}])},{}],830:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("LoginController",["$state","account","BaseLoginController","status","ENV",function(t,e,i,o,r){return new(function(a){function s(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return t.oauthAppId=o.repository.model.getNested("meta.sso_oauth_app_id"),t.remember=e.isRememberMeEnabled(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,i),n(s,[{key:"_appLogin",value:function(t,i,n){return e.loginToManage(t,i,n)}},{key:"_appRedirect",value:function(){return t.go(r.HOME_STATE)}},{key:"_oAuthLogin",value:function(){return e.oAuthLogin(this.oauthAppId)}}]),s}())}])},{}],831:[function(t,e,i){"use strict";function n(t,e,i,n,o){this.site=i,this.system=n,this.ENV=o,t.fetchPreferences().then(function(){t.model.get("serviceWorkers")&&e.register()})}n.$inject=["preferences","serviceWorker","site","system","ENV","queryString"],angular.module("app-unifi-manage").controller("ManageController",n)},{}],832:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("OAuthLoginController",["$q","$state","$stateParams","$location","queryString","account","site","status","ENV",function(t,e,i,o,r,a,s,l,c){return new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.LOGIN_STATE=c.LOGIN_STATE,this.login()}return n(t,[{key:"login",value:function(){var t=this;a.oAuthLogin(l.repository.model.getNested("meta.sso_oauth_app_id")).then(function(){var t=i.redirect?decodeURIComponent(i.redirect):void 0;return t&&!t.includes("/fatal/")?(o.url(t),!0):e.go(c.HOME_STATE).then(function(){t&&r.remove("redirect")})}).catch(function(e){t.error=e}).finally(function(){r.remove("oauth")})}}]),t}())}])},{}],833:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("PerformanceController",["$filter","$rootScope","$state","$stateParams","$translate","devices","deviceRadioUtils","gatewayUtils","statisticsParams","statsFeatures","RADIO_TYPES","REPORT_TYPES","STATS_DEFAULTS",function(t,e,i,o,r,a,s,l,c,u,d,p,f){return new(function(){function h(){var t=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),this.statsFeatures=u,this.REPORT_TYPES=p,this.STATS_DEFAULTS=f,this.radio=void 0,this.apFilterGroups=[{id:"radio",translationKey:"RADIO_TYPE",isVisible:function(){return t.isDeviceAP()},items:[{id:"all",translationKey:"RADIO_TYPE_ALL",isSelected:function(){return void 0===t.radio},onSelect:function(){t.radio=void 0}}]}],this.setGranularity=function(e){t.granularity=e,t.updateState(t.start,t.end,!1)}}return n(h,[{key:"$onInit",value:function(){var e=this;this.device=a.repository.collection.get(o.deviceId),this.isDeviceAP()&&(this.radios=s.getAllRadios(this.device),this.apFilterGroups[0].items=this.apFilterGroups[0].items.concat(this.radios.filter(function(t){return t.get("radio")===d.NA.type||t.get("radio")===d.NG.type}).map(function(i){return{id:i.get("name"),label:t("radio")(i,{showInterface:!0}),isSelected:function(){return e.radio===i.get("name")},onSelect:function(){e.radio=i.get("name")}}}))),this.granularity=c.getGranularity(),this.start=c.getStart(),this.end=c.getEnd()}},{key:"isApOrUsg",value:function(){return this.isDeviceAP()||this.isDeviceGateway()}},{key:"changeDevice",value:function(t){t&&(this.device=t,this.updateState(this.start,this.end,!0))}},{key:"updateState",value:function(t,n,o){var r={start:t,end:n,granularity:this.granularity.url,deviceId:this.device.get("mac")};i.go(i.current.name,r,{notify:o}).then(function(){o||e.$broadcast("webrtcActiveDeviceRestore")})}},{key:"isDeviceAvailable",value:function(t){return t!==this.device&&t.isAdopted()}},{key:"isDeviceGateway",value:function(){return this.device&&this.device.isGateway()}},{key:"isDeviceAP",value:function(){return this.device&&this.device.isAp()}},{key:"getUsgPorts",value:function(){var t=[];return this.isDeviceGateway()&&(t=l.getNetworkGroupsNames(this.device),this.usgPort||(this.usgPort=t[0])),t}},{key:"getUsgPortLabel",value:function(t){if(this.isDeviceGateway()){var e=t.replace(/[0-9]/g,""),i=t.replace(/[^0-9]/g,"");return r.instant("DEVICE_GATEWAY_PORT_TYPE_"+e)+(i?" "+i:" 1")}return""}}]),h}())}])},{}],834:[function(t,e,i){"use strict";function n(t,e,i){this.frame=e,this.model=i,this.isAdmin=t.isAdmin.bind(t)}n.prototype.close=function(){return this.frame.getLayout("radiusProfileLayout").reject()},n.prototype.onSaveOverride=function(){return this.frame.getLayout("radiusProfileLayout").resolve(this.model)},n.$inject=["account","frame","model","RadiusProfileModel"],angular.module("app-unifi-manage").controller("RadiusProfileController",n)},{}],835:[function(t,e,i){"use strict";var n=t("./BaseRepeatableController");function o(t,e,i){this.preferences=e,this.patterns={ipAddress:i.IPV4_ADDRESS,portNumber:i.PORT_NUMBER},n.call(this,t)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.updateModel=function(t){this.model=t,this.syncCount()},o.prototype.syncCount=function(){if(this.model&&this.model.attributes[this.attributeName]&&this.model.attributes[this.attributeName].length&&(this.count=this.model.attributes[this.attributeName].length),this.min>this.count)for(var t=0;t<this.min;t++)this.addItem()},o.prototype.removeItem=function(t){this.model&&(this.model.attributes[this.attributeName].splice(t-1,1),this.count--)},o.prototype.addItem=function(){return!(!this.model||!n.prototype.addItem.call(this))&&(this.model.attributes[this.attributeName].push({}),!0)},o.$inject=["formUtils","preferences","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("RadiusRepeatableFormController",o)},{"./BaseRepeatableController":801}],836:[function(t,e,i){"use strict";var n=t("./ReleaseNotesLinkController");function o(t,e,i,o,r,a,s,l,c){this.$q=t,this.$http=e,this.account=i,this.dynamicModules=o,this.feedback=r,this.heyToasts=a,this.releaseNotes=s,this.text="",this.email="",this.isAvailable=!1,this.MAX_MESSAGE_LENGTH=160,this.patterns={email:c.EMAIL},this.init(),n.call(this,l)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.init=function(){this.updateEmail(),this.loadReleaseNotes()},o.prototype.updateEmail=function(){this.account.hasEmail()&&(this.email=this.account.getEmail())},o.prototype.loadReleaseNotes=function(){var t=this;this.isLoading=!0,this.$q.all([this.dynamicModules.load("showdown"),this.releaseNotes.loadCurrent()]).then(function(e){t.isAvailable=!0,t.md=e[1]}).catch(function(){t.isAvailable=!1}).finally(function(){t.isLoading=!1})},o.prototype.send=function(){var t=this,e={email:this.email,message:this.text};this.isSending=!0,this.feedback.send(e).then(function(e){t.heyToasts.pushSuccess(e),t.text="",t.showValidation=!1}).catch(function(e){t.heyToasts.pushError(e)}).finally(function(){t.isSending=!1})},o.$inject=["$q","$http","account","dynamicModules","feedback","heyToasts","releaseNotes","releaseNotesFrameUtils","REGEX_PATTERNS"],angular.module("app-unifi-manage").controller("ReleaseNotesController",o)},{"./ReleaseNotesLinkController":837}],837:[function(t,e,i){"use strict";function n(t){this.releaseNotesFrameUtils=t}n.prototype.closeReleaseNotes=function(){this.releaseNotesFrameUtils.close()},n.prototype.toggleReleaseNotes=function(){this.releaseNotesFrameUtils.toggle()},n.prototype.isReleaseNotesOpen=function(){return this.releaseNotesFrameUtils.isOpen()},n.$inject=["releaseNotesFrameUtils"],e.exports=n},{}],838:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("ReportTermsOfServiceController",["$q","$translate","frame","heyToasts","ReporterMgrModel","showReportsApprovement","termsVersion","URLS",function(t,e,i,o,r,a,s,l){return new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.URLS=l,this.isSaving=!1,this.isAcceptTosChecked=!0,this.isReportCloudError=!1,this.isCustom=!0}return n(t,[{key:"approve",value:function(){this.save({cmd:"approve",approved_terms_version:s,report_device_stats:this.isAcceptTosChecked,report_cloud_error:this.isReportCloudError})}},{key:"disapprove",value:function(){this.save({cmd:"disapprove"})}},{key:"save",value:function(t){var n=this;this.isSaving=!0,(new r).save(t).then(function(){i.getLayout("reportTermsOfServiceLayout").resolve()}).catch(function(){o.pushError(e.instant("STATISTICS_REPORT_ERROR_SAVE_FAILED")),n.isSaving=!1})}},{key:"shouldShowReportsApprovement",value:function(){return a}}]),t}())}])},{}],839:[function(t,e,i){"use strict";var n=t("./BaseListAndFormController");function o(t,e,i,o,r,a){this.collection=r.repository.collection,this.isAdmin=i.isAdmin.bind(i),n.call(this,t,e,i,a,o)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.$inject=["$state","$stateParams","account","preferences","scheduledUpgrades","ENV"],angular.module("app-unifi-manage").controller("ScheduledUpgradesController",o)},{"./BaseListAndFormController":800}],840:[function(t,e,i){"use strict";function n(t){this.preferences=t}n.$inject=["preferences"],angular.module("app-unifi-manage").controller("SettingsController",n)},{}],841:[function(t,e,i){"use strict";function n(t,e,i){this.frame=t,this.text=e,this.title=i}n.prototype.submit=function(){this.frame.getLayout("simpleTextEditorLayout").resolve(this.text)},n.$inject=["frame","text","title"],angular.module("app-unifi-manage").controller("SimpleTextEditorController",n)},{}],842:[function(t,e,i){"use strict";function n(t,e,i,n,o,r){this.$state=t,this.site=e,this.siteUtils=i,this.preferences=n,this.propertyPanel=o,this.ENV=r,this.isPropertyPanelOpen=o.isDockOpen.bind(o),this.validateSite()}n.prototype.validateSite=function(){var t,e=this.site.getActiveSite();e&&((t=this.siteUtils.doesSiteExist(e))||this.site.clearActiveSite()),t||this.$state.go(this.ENV.FATAL_STATE,{error:404})},n.prototype.isPropertyPanelAvailable=function(){return!this.propertyPanel.isEmpty()},n.$inject=["$state","site","siteUtils","preferences","propertyPanel","ENV"],angular.module("app-unifi-manage").controller("SiteController",n)},{}],843:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").controller("SitesOverviewController",["$q","$window","appUrl","frame","sitesOverview","translateResolver",function(t,e,i,o,r,a){return new(function(){function s(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s)}return n(s,[{key:"$onInit",value:function(){var e=this;this.isLoading=!0,this.failedToLoad=!1,t.all([r.repository.register().fetch({forceFetch:!0}),a.resolve("overview")]).catch(function(){e.failedToLoad=!0}).finally(function(){e.isLoading=!1})}},{key:"$onDestroy",value:function(){r.repository.unregister()}},{key:"resolve",value:function(){return o.getLayout("sitesOverviewLayout").resolve()}},{key:"reject",value:function(){return o.getLayout("sitesOverviewLayout").reject()}},{key:"onSearchQueryChange",value:function(t){this.searchQuery=t}},{key:"getOverviewUrl",value:function(){return i.buildUrl(["overview","sites"])}},{key:"openOverviewWindow",value:function(){e.open(this.getOverviewUrl())}}]),s}())}])},{}],844:[function(t,e,i){"use strict";function n(t,e,i,n,o){this.$scope=e,this.APP_EVENTS=o,this.siteHealth=n;var r=t.$on("$frameClose:speedTest",function(){this.onFrameClose(),r()}.bind(this));i(this.startTest.bind(this),0)}n.prototype.startTest=function(){this.$scope.$broadcast(this.APP_EVENTS.SPEED_TEST_START)},n.prototype.stopTest=function(){this.$scope.$broadcast(this.APP_EVENTS.SPEED_TEST_STOP)},n.prototype.onFrameClose=function(){this.stopTest(),this.siteHealth.repository.isRefreshable()&&this.siteHealth.repository.refresh()},n.$inject=["$rootScope","$scope","$timeout","siteHealth","APP_EVENTS"],angular.module("app-unifi-manage").controller("SpeedTestController",n)},{}],845:[function(t,e,i){"use strict";function n(t){this.STATS_DEFAULTS=t}n.$inject=["STATS_DEFAULTS"],angular.module("app-unifi-manage").controller("StatisticsController",n)},{}],846:[function(t,e,i){"use strict";function n(t,e,i,n){this.RADIO_TYPES=t,this.STATS_DEFAULTS=e,this.TRAFFIC=i,this.TOP_ITEM_TYPES=n,this.radioFilterGroup={id:"radioType",translationKey:"RADIO_TYPE",items:[{id:"ng",translationKey:"2G",isSelected:function(){return this.radioType===this.RADIO_TYPES.NG}.bind(this),onSelect:function(){this.radioType=this.RADIO_TYPES.NG}.bind(this)},{id:"na",translationKey:"5G",isSelected:function(){return this.radioType===this.RADIO_TYPES.NA}.bind(this),onSelect:function(){this.radioType=this.RADIO_TYPES.NA}.bind(this)}]},this.txRxFilterGroup={id:"trafficType",translationKey:"TRAFFIC_TYPE",items:[{id:"rx",translationKey:"RX",isSelected:function(){return this.trafficType===this.TRAFFIC.DIRECTION.RX}.bind(this),onSelect:function(){this.trafficType=this.TRAFFIC.DIRECTION.RX}.bind(this)},{id:"tx",translationKey:"TX",isSelected:function(){return this.trafficType===this.TRAFFIC.DIRECTION.TX}.bind(this),onSelect:function(){this.trafficType=this.TRAFFIC.DIRECTION.TX}.bind(this)},{id:"all",translationKey:"TOTAL",isSelected:function(){return this.trafficType===this.TRAFFIC.DIRECTION.TOTAL}.bind(this),onSelect:function(){this.trafficType=this.TRAFFIC.DIRECTION.TOTAL}.bind(this)}]},this.filterGroups=[this.radioFilterGroup,this.txRxFilterGroup],this.radioType=this.RADIO_TYPES.NA,this.trafficType=this.TRAFFIC.DIRECTION.TOTAL}n.$inject=["RADIO_TYPES","STATS_DEFAULTS","TRAFFIC","TOP_ITEM_TYPES"],angular.module("app-unifi-manage").controller("StatisticsDebuggingMetricsController",n)},{}],847:[function(t,e,i){"use strict";function n(t,e,i){this.dpiFilters=t,this.frame=e,this.STATS_DEFAULTS=i,this.enabled=t.isEnabled(),this.allFilters=t.getAllFilters(),this.availableFilters=t.getAvailableFilters(),this.filtersToAdd=[],this.filtersToRemove=[]}n.prototype.saveAndResolve=function(){this.enabled!==this.dpiFilters.isEnabled()&&this.dpiFilters.toggleFiltering(),this.dpiFilters.selectFilters(this.filtersToAdd),this.dpiFilters.deselectFilters(this.filtersToRemove),this.frame.getLayout("statisticsDpiFiltersLayout").resolve()},n.prototype.toggleFiltering=function(){this.enabled=!this.enabled},n.prototype.isEnabled=function(){return this.enabled},n.prototype.toggleFilter=function(t){-1!==this.filtersToAdd.indexOf(t)?(this.filtersToAdd.splice(this.filtersToAdd.indexOf(t),1),this.filtersToRemove.push(t)):-1!==this.filtersToRemove.indexOf(t)?(this.filtersToRemove.splice(this.filtersToRemove.indexOf(t),1),this.filtersToAdd.push(t)):this.dpiFilters.isSelected(t)?this.filtersToRemove.push(t):this.filtersToAdd.push(t)},n.$inject=["dpiFilters","frame","STATS_DEFAULTS"],angular.module("app-unifi-manage").controller("StatisticsDpiFiltersController",n)},{}],848:[function(t,e,i){"use strict";function n(t,e,i,n,o){this.frame=t,this.heyToasts=e,this.statistics=i,this.$translate=n,this.STATS_DEFAULTS=o}n.prototype.clearCurrentStats=function(){return this.frame.show("confirm",{title:function(){return this.$translate.instant("STATISTICS_CLEAR_CURRENT_STATS_CONFIRM_TITLE")}.bind(this),message:function(){return this.$translate.instant("STATISTICS_CLEAR_CURRENT_STATS_CONFIRM_MESSAGE")}.bind(this),options:angular.noop}).then(function(){return this.isClearingStats=!0,this.statistics.resetCurrentStats().then(function(t){this.heyToasts.pushSuccess(t)}.bind(this)).catch(function(t){this.heyToasts.pushError(t)}.bind(this))}.bind(this)).finally(function(){this.isClearingStats=!1}.bind(this))},n.$inject=["frame","heyToasts","statistics","$translate","STATS_DEFAULTS"],angular.module("app-unifi-manage").controller("StatisticsOverviewController",n)},{}],849:[function(t,e,i){"use strict";function n(t,e,i,n){this.$rootScope=t,this.$state=e,this.speedTestReports=i,this.STATS_DEFAULTS=n,this.init()}n.prototype.init=function(){this.granularity=this.speedTestReports.getGranularity(),this.start=this.speedTestReports.getStart(),this.end=this.speedTestReports.getEnd()},n.prototype.updateReports=function(t,e){var i=this;this.speedTestReports.setGranularity(this.granularity),this.speedTestReports.setDateInterval(t,e);var n=angular.extend({},this.$state.params);n.start=t,n.end=e,this.$state.go(this.$state.current.name,n,{notify:!1}).then(function(){return i.$rootScope.$broadcast("webrtcActiveDeviceRestore")}),this.speedTestReports.repository.refresh()},n.$inject=["$rootScope","$state","speedTestReports","STATS_DEFAULTS"],angular.module("app-unifi-manage").controller("StatisticsSpeedTestController",n)},{}],850:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a,s,l,c,u,d){var p=this;this.$filter=t,this.$rootScope=e,this.$state=i,this.$stateParams=n,this.$translate=o,this.devices=r,this.preferences=a,this.statsFeatures=s,this.switchReports=l,this.switchUtils=c,this.TRAFFIC=u,this.STATS_DEFAULTS=d,this.selectedPorts={},this.sortOrders=[{value:"natural",translationKey:"STATISTICS_ORDER_BY_NATURAL"},{value:"tx",translationKey:"STATISTICS_ORDER_BY_TX"},{value:"rx",translationKey:"STATISTICS_ORDER_BY_RX"},{value:"total",translationKey:"STATISTICS_ORDER_BY_TOTAL"}],this.filterGroups=[{id:"trafficUnit",translationKey:"TRAFFIC_UNIT",excludeFromSummary:!0,items:[{id:"bps",translationKey:"COMMON_UNIT_BPS",isSelected:function(){return p.switchReports.getTrafficUnit()===p.TRAFFIC.UNIT.BYTES&&p.statsFeatures.useBps()},onSelect:function(){p.statsFeatures.setUseBps(!0),p.switchReports.setTrafficUnit(p.TRAFFIC.UNIT.BYTES),p.switchReports.repository.refresh()}},{id:"bytes",translationKey:"COMMON_UNIT_BYTES",isSelected:function(){return p.switchReports.getTrafficUnit()===p.TRAFFIC.UNIT.BYTES&&!p.statsFeatures.useBps()},onSelect:function(){p.statsFeatures.setUseBps(!1),p.switchReports.setTrafficUnit(p.TRAFFIC.UNIT.BYTES),p.switchReports.repository.refresh()}},{id:"packets",translationKey:"TRAFFIC_UNIT_PACKETS",isSelected:function(){return p.switchReports.getTrafficUnit()===p.TRAFFIC.UNIT.PACKETS},onSelect:function(){p.switchReports.setTrafficUnit(p.TRAFFIC.UNIT.PACKETS),p.switchReports.repository.refresh()}}]},{id:"TrafficType",translationKey:"TRAFFIC_TYPE",excludeFromSummary:!0,isVisible:function(){return p.switchReports.getTrafficUnit()===p.TRAFFIC.UNIT.PACKETS},items:[{id:"all",translationKey:"TRAFFIC_TYPE_ALL",isSelected:function(){return p.switchReports.getTrafficType()===p.TRAFFIC.TYPE.ALL},onSelect:function(){p.switchReports.setTrafficType(p.TRAFFIC.TYPE.ALL),p.switchReports.repository.refresh()}},{id:"broadcast",translationKey:"TRAFFIC_TYPE_BROADCAST",isSelected:function(){return p.switchReports.getTrafficType()===p.TRAFFIC.TYPE.BROADCAST},onSelect:function(){p.switchReports.setTrafficType(p.TRAFFIC.TYPE.BROADCAST),p.switchReports.repository.refresh()}},{id:"multicast",translationKey:"TRAFFIC_TYPE_MULTICAST",isSelected:function(){return p.switchReports.getTrafficType()===p.TRAFFIC.TYPE.MULTICAST},onSelect:function(){p.switchReports.setTrafficType(p.TRAFFIC.TYPE.MULTICAST),p.switchReports.repository.refresh()}}]}],this.setGranularity=function(t){p.granularity=t,p.updateReports(p.start,p.end)},this.init()}n.prototype.init=function(){var t=this.switchReports.repository.collection.getMac();t&&(this.device=this.devices.repository.collection.get(t),this.granularity=this.switchReports.getGranularity(),this.start=this.switchReports.getStart(),this.end=this.switchReports.getEnd(),this.order=this.sortOrders[0],this.device&&(this.isHybridSwitch=this.switchUtils.isHybridSwitch(this.device),this.ports=this.device.get("port_table").models,this.selectConnectedPorts()))},n.prototype.selectAllPorts=function(){this.ports.forEach(function(t){this.selectedPorts[t.get("port_idx")]=!0},this)},n.prototype.selectNone=function(){this.selectedPorts={}},n.prototype.selectConnectedPorts=function(){this.ports.filter(function(t){return t.get("enable")&&t.get("up")}).forEach(function(t){this.selectedPorts[t.get("port_idx")]=!0},this)},n.prototype.toggleSortDropdown=function(){this.isSortDropdownVisible=!this.isSortDropdownVisible},n.prototype.closeSortDropdown=function(){this.isSortDropdownVisible=!1},n.prototype.isDeviceAvailable=function(t){return t&&t.isAdopted()&&(t.isSwitch()||this.switchUtils.isHybridSwitch(t))&&t!==this.device},n.prototype.changeSwitch=function(t){if(t){var e=angular.extend({},this.$state.params);e.switchId=t.id,this.$state.go(this.$state.current.name,e)}},n.prototype.togglePortSelection=function(t){var e=t.get("port_idx");return this.selectedPorts[e]=!this.selectedPorts[e],this.selectedPorts[e]},n.prototype.isPortSelected=function(t){return this.isHybridSwitch||t&&!0===this.selectedPorts[t.get("port_idx")]},n.prototype.filter=function(){return this.isPortSelected.bind(this)},n.prototype.orderBy=function(){return function(t){var e;switch(this.switchReports.getTrafficType()){case this.TRAFFIC.MULTICAST:e="multicast";break;case this.TRAFFIC.BROADCAST:e="broadcast";break;case this.TRAFFIC.UNICAST:default:e="bytes"}switch(this.order.value){default:case"natural":return t.get("port_idx");case"tx":return-t.get("tx_"+e)||0;case"rx":return-t.get("rx_"+e)||0;case"total":return-(t.get("tx_"+e)||0)-(t.get("rx_"+e)||0)}}.bind(this)},n.prototype.updateReports=function(t,e){var i=this;this.switchReports.setGranularity(this.granularity),this.switchReports.setDateInterval(t,e);var n={start:t,end:e,granularity:this.granularity.url,switchId:this.$stateParams.switchId};this.$state.go(this.$state.current.name,n,{notify:!1}).then(function(){return i.$rootScope.$broadcast("webrtcActiveDeviceRestore")}),this.switchReports.repository.refresh()},n.$inject=["$filter","$rootScope","$state","$stateParams","$translate","devices","preferences","statsFeatures","switchReports","switchUtils","TRAFFIC","STATS_DEFAULTS"],angular.module("app-unifi-manage").controller("StatisticsSwitchController",n)},{}],851:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a,s,l,c,u,d){this.deviceRadioUtils=u,this.frame=t,this.activeTab="system",this.settings=e,this.networks=i,this.wirelessNetworks=n,this.userGroups=o,this.system=r,this.systemConfig=s,this.devicesCollection=s.getSystemConfigDevices(),this.deviceModels=s.getSystemConfigModelsCount(),this.guestPortal=e.getSettingFromKey("guest_access",a.getActiveSite().id),this.getDeviceModelName=l.getDeviceModelShort.bind(l),this.isAtfEnabled=c.isAtfEnabled.bind(c),this.getTransmitPowerString=u.getTransmitPowerString.bind(u),this.getTransmitPowerMode=u.getTransmitPowerMode.bind(u),this.getMinRssiString=u.getMinRssiString.bind(u),this.getUplinkDisplayName=d.getUplinkDisplayName.bind(d)}n.prototype.isDisplaySiteOnLeft=function(){return this.deviceModels.length<this.networks.repository.collection.models.length+this.wirelessNetworks.repository.collection.models.length},n.prototype.getLoadBalance=function(t,e){return this.deviceRadioUtils.getRadiosByType(t,e).map(function(t){return this.systemConfig.getLoadBalance(t.get("wlangroup_id"))}.bind(this)).join(", ")},n.$inject=["frame","settings","networks","wirelessNetworks","userGroups","system","siteUtils","systemConfig","deviceStateUtils","deviceFeatureUtils","deviceRadioUtils","deviceUplinkUtils"],angular.module("app-unifi-manage").controller("SystemConfigController",n)},{}],852:[function(t,e,i){"use strict";angular.module("app-unifi-manage").controller("UpdateDataRetentionDaysController",["dataRetention","options","BaseConfirmController",function(t,e,i){return new(function(n){function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return i.dataRetentionOptions=t.getOptions(!1),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,i),o}())}])},{}],853:[function(t,e,i){"use strict";function n(t,e){this.frame=t,this.message=e}n.$inject=["frame","message"],n.prototype.gotoDashboard=function(){this.frame.getLayout("webrtcErrorLayout").resolve()},angular.module("app-unifi-manage").controller("WebrtcErrorController",n)},{}],854:[function(t,e,i){"use strict";var n=window.webrtc.unifiWebRtcConnector;function o(t,e,i,n,o,r,a,s){this.$q=t,this.$timeout=e,this.$translate=i,this.$window=n,this.CloudDashboardHost=o,this.deviceId=r,this.frame=a,this.heyToasts=s,this.isGeneratingReport=!1,this.reportBrowserUrl=null,this.reportControllerUrl=null}o.$inject=["$q","$timeout","$translate","$window","CloudDashboardHost","deviceId","frame","heyToasts"],o.prototype.isReportGenerated=function(){return this.reportBrowserUrl&&this.reportControllerUrl},o.prototype.getReport=function(){var t=this;this.isGeneratingReport=!0,this.getReportBrowserUrl().then(function(e){t.reportBrowserUrl=e}).then(function(){return t.getReportControllerUrl(t.deviceId)}).then(function(e){t.reportControllerUrl=e}).catch(function(){t.heyToasts.pushError(t.$translate.instant("WEBRTC_FAILED_TOOLTIP_GET_REPORT_FAILED"))}).finally(function(){t.isGeneratingReport=!1})},o.prototype.getReportBrowserUrl=function(){return this.$q.when(n.getBrowserLog()).then(function(t){return URL.createObjectURL(t)})},o.prototype.getReportControllerUrl=function(t){return n.getControllerLog(t).then(function(t){return URL.createObjectURL(new Blob([t]))})},o.prototype.gotoDashboard=function(){var t=this;this.$timeout(function(){t.$window.location.href=t.CloudDashboardHost},0),this.frame.getLayout("webrtcFailedLayout").reject()},o.prototype.retry=function(){this.frame.getLayout("webrtcFailedLayout").resolve()},angular.module("app-unifi-manage").controller("WebrtcFailedController",o)},{}],855:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").factory("WifiClientsModuleController",["account","BaseCollectionRepository","BaseModuleController","binaryPrefix","d3","DataConverter","moduleControllerMixin","moment","objectUtils","dateUtils","ReportCollection","timeBasedGraphControllerMixin","DASHBOARD_SHARED_FILTERS","DATE_RANGE_PRESETS","REPORT_GRANULARITY",function(t,e,i,o,r,a,s,l,c,u,d,p,f,h,_){var m=new e(new d("ap"));return m.collection.setAttrs(["num_sta","sta_assoc_min","sta_assoc_max","sta_connect_time_min","sta_connect_time_max","sta_connect_time_total","time","user-wlan-num_sta_connected","user-wlan-num_sta_disconnected","user-wlan-sta_assoc_samples","user-wlan-sta_track_samples"]),function(e){function s(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return t.moment=l,t.isNumber=angular.isNumber,p(t),t.chartConfig={dataMarkEvent:"WIFI_ASSOCIATIONS_GRAPH_DATA_MARK_EVENT",margin:{left:29,top:5,bottom:30,right:1},withSecondaryXAxis:!0,xProperty:"time",hideInfoBox:!0,xAxisPadding:0,xAxisTickSize:2,yAxisTicks:4,yScaleMarginFactor:1.1,initialYScaleDomain:[-100,300],left:{interpolate:"curveMonotoneX",types:["roundedBars","bars"],yProperty:["new","current","lost"],dataFilter:function(e,i,n){return angular.isNumber(t.getYProperty(e,i,n))}}},t.chartConfig.left.yAxisFormat=function(t){return t%1==0?o.parse(t,"SI").toString():""},t.chartConfig.left.barCss=function(t){return t.avgTimeToAssociate<1?"unifiWifiAssociationsTime--success":t.avgTimeToAssociate<3?"unifiWifiAssociationsTime--warning":"unifiWifiAssociationsTime--danger"},t.chartConfig.xScaleDomain=[],t.data=[],t.timezone=u.getPreferredTimezone(),t.updateDataConverter(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,i),n(s,[{key:"$onInit",value:function(){this.isInitializing=!0,this.isLoading=!1}},{key:"updateDataConverter",value:function(){this.dataConverter=(new a).withMap({time:"time",ap:"ap",new:function(t){return t["user-wlan-num_sta_connected"]||0},lost:function(t){return-t["user-wlan-num_sta_disconnected"]||0},current:function(t){return t.num_sta||0},samplesCount:function(t){return t["user-wlan-sta_track_samples"]||0},failuresCount:function(t){return t["user-wlan-sta_assoc_failures"]||0}},!0).sortedBy("time")}},{key:"updateTimeRange",value:function(){var t=this,e=this.getFilteredTimeRange(),i=m.collection.getStart()!==e[0]||m.collection.getEnd()!==e[1];if(e){var n=this.getGranularity(e[0],e[1],!0,!0);this.chartConfig.xAxisTickResolution=this.getTickResolution(e[0],e[1]),this.chartConfig.xScaleDomain=e;var o=void 0,a=void 0,s=!0,c=l.duration(e[1]-e[0]).asDays();c<=1?(o=r.utcHours,a=l.duration(30,"minute").asMilliseconds(),s=!1):c<28?(o=r.utcDays,a=l.duration(12,"hour").asMilliseconds()):c<120?(o=r.utcWeeks,a=l.duration(3.5,"day").asMilliseconds()):(o=r.utcMonths,a=l.duration(.5,"month").asMilliseconds()),this.chartConfig.xAxisSecondaryFormat=function(e){return t.xAxisFormat(2*a,l(e).startOf("hour").valueOf())},this.chartConfig.xAxisTickValues=function(){var t=u.getPreferredTimezone();return[e[0]].concat(o(e[0],e[1]).map(function(e){return s?l(e).subtract(l().tz(t).utcOffset(),"minutes").valueOf():l(e).valueOf()})).concat(e[1])},this.chartConfig.xAxisSecondaryTickValues=function(){var t=o(e[0],e[1]).map(function(t){return s?l(t).subtract(l().utcOffset(),"minutes").valueOf():l(t).valueOf()}),i=a;return t[0]-e[0]>i&&(i=-i),t.map(function(t){return t+i}).filter(function(t){return e[1]-t>.8*i})},c<=1&&(n=_.MINUTES),this.chartConfig.barWidthResolution=1===c?l.duration(15,"minute").asMilliseconds():n.grain,m.collection.setDateInterval(e[0],e[1]),m.collection.setGranularity(n),i?m.refresh():m.collection.fetched&&this.collectData()}}},{key:"getBarGranularity",value:function(){var t=m.collection.granularity;return t===_.MINUTES?{grain:this.chartConfig.barWidthResolution}:t}},{key:"resolve",value:function(){m.register(),this.listener=m.collection.onEvent("sync",this.collectData.bind(this),{leading:!1}),t.repository.model.on("change",this.collectData,this),m.collection.getStart()&&m.collection.resolve()}},{key:"unregister",value:function(){this.listener.stopListening(),t.repository.model.off("change",this.collectData,this),m.unregister()}},{key:"isApAvailable",value:function(t){return t!==this.device&&t.isAdopted()&&t.isAp()}},{key:"changeDevice",value:function(t){m.collection.setMacs(t?[t.get("mac")]:void 0),m.refresh()}},{key:"prepareFakeData",value:function(){var t=this.chartConfig.barWidthResolution,e=this.chartConfig.xScaleDomain;this.data=new Array(Math.floor((e[1]-e[0])/t)).fill({}).map(function(i,n){return(i={new:Math.floor(50*Math.random()),lost:-Math.floor(50*Math.random()),time:e[0]+t*n+t/2}).current=i.new+Math.floor(50*Math.random()),i}),this.isInitializing=!1,this.isLoading=!0}},{key:"collectData",value:function(){var t=this;this.isInitializing=!1,this.isLoading=!1,this.data=this.dataConverter.process(m.collection.toJSON());var e=this.data.reduce(function(t,e){var i=e.time;return t[i]||(t[i]=[]),t[i].push({time:i,new:e.new,current:e.current,lost:e.lost}),t},{});e=Object.values(e).map(function(t){return c.appendAll(t,["time"])}),e=m.collection.granularity===_.MINUTES?e.reduce(function(e,i){var n=t.chartConfig.barWidthResolution/1e3/60,o=l(i.time).minutes()%n,r=l(i.time).subtract(o,"minutes").valueOf();if(e[r]){var a=e[r];a.new=(a.new||0)+(i.new||0),a.current=i.current,a.lost=(a.lost||0)+(i.lost||0),a.assocMin=Math.min(a.assocMin,i.sta_assoc_min),a.assocMax=Math.max(a.assocMax,i.sta_assoc_max),a.samples=a.samples+i.samplesCount-(i.failuresCount||0),a.summaryConnectTime=a.summaryConnectTime+(i.sta_connect_time_total||0)}else e[r]={time:r,new:i.new,current:i.current,lost:i.lost,assocMin:i.sta_assoc_min,assocMax:i.sta_assoc_max,samples:i.samplesCount-(i.failuresCount||0),summaryConnectTime:i.sta_connect_time_total||0,hidden:!1};return e},{}):e.reduce(function(t,e){return t[e.time]=e,t},{});var i=this.chartConfig.barWidthResolution,n=this.chartConfig.xScaleDomain,o=new Array(Math.floor((n[1]-n[0])/i)).fill({}).map(function(t,e){return{time:n[0]+i*e}}).reduce(function(t,e){var i=e.time;return t[i]={time:i,new:0,current:0,lost:0,hidden:!0},t},{});this.data=Object.values(angular.extend(o,e));var r=m.collection.granularity;this.timeOffset=r===_.MINUTES?this.chartConfig.barWidthResolution/2:-r.grain/2,r===_.DAILY&&(this.timeOffset+=60*l().utcOffset()*1e3),this.data.forEach(function(e){e.current=Math.max(e.current,e.new),e.time=e.time-t.timeOffset,e.avgTimeToAssociate=e.summaryConnectTime/1e6/e.samples}),this.data=this.data.filter(function(t){return t.time>m.collection.getStart()}).sort(function(t,e){return t.time-e.time}),m.collection.length?this.chartConfig.left.domain=void 0:this.chartConfig.left.domain=this.chartConfig.initialYScaleDomain}},{key:"getFilteredTimeRange",value:function(){return this.sharedFilters&&this.sharedFilters[f.STATISTICS_TIME_RANGE]&&this.sharedFilters[f.STATISTICS_TIME_RANGE].getFilteredTimeRange()||[parseInt(h.LAST_24H.start),parseInt(h.LAST_24H.end)]}},{key:"destroy",value:function(){this.unregister()}},{key:"relativeDate",value:function(t){return l(t).calendar(null,{lastDay:"[Yesterday]",sameDay:"[Today]",nextDay:"[Tomorrow]",lastWeek:"[last] dddd",nextWeek:"dddd",sameElse:"L"})}}]),s}()}])},{}],856:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a,s){this._=t,this.$q=e,this.$translate=i,this.frame=o,this.heyToasts=r,this.preferences=a,this.macFilterList="",this.macFilterOverride=!1,this.patterns={macAddress:s.exact(n.MAC_ADDRESS),macAddressList:/^[\s]*(([0-9A-F]{2}[:-]){5}[0-9A-F]{2})([\s]*[\n]+[\s]*((([0-9A-F]{2}[:-]){5}[0-9A-F]{2})))*[\s]*$/i}}n.prototype.sanitize=function(t){return t.replace(/-/g,":").split("\n").map(function(t){return t.trim()}).filter(function(t){return""!==t})},n.prototype.onSave=function(){var t=this.sanitize(this.macFilterList);this.frame.getLayout("wirelessNetworkMacFilterAddBatchLayout").resolve({macFilterList:this._.uniq(t),macFilterOverride:this.macFilterOverride})},n.prototype.getShowedMacAddress=function(){var t=this.form.wlanMacFilterList.$viewValue;return t?t.split("\n"):[]},n.prototype.isMacAddressValid=function(t){return""===(t=t.trim())||this.patterns.macAddress.test(t)},n.prototype.readCsvFile=function(t){var e=this.$q.defer();if(t&&t[0]){var i=new FileReader;i.readAsText(t[0]),i.onload=function(t){var i=t.target.result,n=i?i.split(/[\s,;]+/):[];e.resolve(n)}}return e.promise},n.prototype.onCsvImport=function(t){this.readCsvFile(t).then(function(t){if(t.length){var e=this.getShowedMacAddress();e=[].concat(e,t),this.macFilterList=e.join("\n"),this.heyToasts.pushSuccess(this.$translate.instant("SETTINGS_WLAN_FILTER_LIST_UPLOAD_CSV_UPDATE_SUCCESS",{uploaded:t.length}))}}.bind(this))},n.$inject=["_","$q","$translate","REGEX_PATTERNS","frame","heyToasts","preferences","regexUtils"],angular.module("app-unifi-manage").controller("WirelessNetworkMacFilterAddBatchController",n)},{}],857:[function(t,e,i){"use strict";function n(t,e,i,n,o,r){this.ClientFilter=t,this.CollectionView=e,this.clients=i,this.frame=n,this.macFilterList=angular.copy(o),this.macFilterClients={},this.macFilterSearch="",this.clientsCurrentPage=1,this.clientsRowsPerPage=10,this.clientsFilter=new this.ClientFilter,this.clientsFilter.searchableAttributes=["hostname","mac"],!0===r&&this.clientsFilter.setWiredFilter(!1),this.clientsFilter.setExcludedMacsFilter(this.macFilterList),this.clientsView=new this.CollectionView(this.clients.repository.collection),this.clientsView.setFilters([this.clientsFilter.getTest()]),this.clientsView.setSortBy("mac"),this.clientsView.refresh()}n.prototype.onSave=function(){var t=Object.keys(this.macFilterClients).filter(function(t){return this.macFilterClients[t]}.bind(this));this.frame.getLayout("wirelessNetworkMacFilterAddClientsLayout").resolve({macFilterList:t})},n.prototype.onMacFilterSearchChange=function(){this.clientsFilter.updateSearchQuery(this.macFilterSearch),this.clientsView.refresh()},n.prototype.onMacFilterSearchBlockEnter=function(t){13===t.keyCode&&t.preventDefault()},n.prototype.getClientsCnt=function(){return this.clientsView.getModels()&&this.clientsView.getModels().length||0},n.prototype.getClients=function(){return this.clientsView.getModels()},n.$inject=["ClientFilter","CollectionView","clients","frame","macFilterList","wirelessClientsOnly"],angular.module("app-unifi-manage").controller("WirelessNetworkMacFilterAddClientsController",n)},{}],858:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("ampm",["moment","preferences",function(t,e){return function(i){return e.model.get("use24HourTime")||(i=t(i,"H").format("ha")),i}}])},{}],859:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("bssid",["$translate",function(t){var e="ff:ff:ff:ff:ff:ff",i="00:00:00:00:00:00";return function(n){return n&&n!==i?n===e?t.instant("COMMON_BSSID_BROADCAST"):n:t.instant("COMMON_BSSID_UNKNOWN")}}])},{}],860:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("bssidList",[function(){return function(t,e,i){var n="";return t&&(n+=t.pluck("bssid").slice(0,i).join(e))&&t.length>i&&(n+="..."),n}}])},{}],861:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("channel",["deviceChannelUtils",function(t){return function(e){return t.getChannel(e)}}])},{}],862:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("channelUtilization",["$filter","deviceRadioUtils",function(t,e){return function(i,n){return e.getRadiosByType(i,n).map(function(e){return t("radioStatsChannelUtilization")(i,e)}).join("\n")}}])},{}],863:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("clientRadio",["RADIO_TYPES",function(t){return function(e){if(e.get("is_wired"))return"";var i="11"+e.get("radio_proto"),n=(t[e.get("radio").toUpperCase()]||{}).frequency;return n?i+" ("+n+")":i}}])},{}],864:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("deviceName",["devices",function(t){return function(e){var i=t.repository.collection.get(e);return i?i.getDisplayName():e}}])},{}],865:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("duplex",["Backbone","$translate","$filter",function(t,e,i){return function(n){var o,r;return n instanceof t.Model?(o=n.get("full_duplex"),r=n.get("speed")):(o=n.full_duplex,r=n.speed),e.instant(o?"DEVICE_STATE_FLAG_WIRED_FULL_DUPLEX":"DEVICE_STATE_FLAG_WIRED_HALF_DUPLEX",{speed:i("numberToString")(r)})}}])},{}],866:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("duration",["moment",function(t){return function(e,i,n){return t.duration(e,i).format(n)}}])},{}],867:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("enabled",["$translate",function(t){return function(e){return"boolean"==typeof e||void 0===e||null===e?t.instant(e?"COMMON_LABEL_ENABLED":"COMMON_LABEL_DISABLED"):e}}])},{}],868:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("essid",["$translate",function(t){return function(e){return e||t.instant("AP_ESSID_HIDDEN")}}])},{}],869:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("latency",[function(){return function(t){return(t=Number(t))<1e3?Number(t.toPrecision(3)):Math.round(t)}}])},{}],870:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("mac",["$translate","MAC",function(t,e){return function(i){return i?e.BROADCAST===i?t.instant("COMMON_MAC_BROADCAST"):e.UNKNOWN===i?t.instant("COMMON_MAC_UNKNOWN"):i:t.instant("COMMON_MAC_UNKNOWN")}}])},{}],871:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("minutesToMoment",[function(){return function(t){var e=t>=1440?1439:t,i=Math.floor(e/60);return{hour:i,minute:e-60*i}}}])},{}],872:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("networkPurpose",["$translate","NETWORK_PURPOSE",function(t,e){return function(i){return t.instant(e[i])}}])},{}],873:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("networkSubnet",["ipUtils","REGEX_PATTERNS",function(t,e){return function(i,n){var o;switch(i.get("purpose")){case"site-vpn":o="auto"===(i.get("vpn_type")||"auto")?i.get("remote_site_subnets")||[]:i.get("remote_vpn_subnets")||[];break;case"vpn-client":o=i.get("remote_vpn_subnets")||[];break;case"wan":o=[t.getSubnet(i.get("wan_ip"),i.get("wan_netmask"))];break;default:o=[i.get("ip_subnet"),i.get("ipv6_subnet")].filter(Boolean)}return"ipv4"===n?o=o.filter(e.IPV4_SUBNET.test.bind(e.IPV4_SUBNET)):"ipv6"===n&&(o=o.filter(e.IPV6_SUBNET.test.bind(e.IPV6_SUBNET))),o.join(", ")}}])},{}],874:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("networkVlan",["networks",function(t){return function(e,i){var n,o=e.get("name");if(i){var r=t.repository.collection.get(e.get(i));r&&(n=r.get("vlan"))}else n=e.get("vlan");return o+(n?" ("+n+")":"")}}])},{}],875:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("orEmpty",[function(){return function(t){return t||0===t?t:""}}])},{}],876:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("portForwardProtocol",["$translate",function(t){return function(e){return"tcp_udp"===e?t.instant("PORT_FORWARD_STATS_VALUE_PROTOCOL_BOTH"):e.toUpperCase()}}])},{}],877:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("portForwardSource",["$translate",function(t){return function(e){return e&&"any"!==e?e:t.instant("PORT_FORWARD_STATS_VALUE_SOURCE_ANY")}}])},{}],878:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("radioProtocol",["$translate","deviceRadioUtils",function(t,e){return function(i,n){var o,r=n.get("radio"),a=n.get("name");switch(r){case"na":o=i&&e.isAcRadio(i,a)?"DEVICE_RADIO_PROTOCOL_NA_AC":"DEVICE_RADIO_PROTOCOL_NA";break;case"ng":o="DEVICE_RADIO_PROTOCOL_NG"}return o?t.instant(o):""}}])},{}],879:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("radioStatsChannelUtilization",["deviceRadioUtils",function(t){return function(e,i){var n=t.getRadioChannelUtilization(e,i);return void 0===n?"":n.total+"% / "+n.selfRx+"% / "+n.selfTx+"%"}}])},{}],880:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("range",["_",function(t){return function(e,i,n){return t.range(i,n+1)}}])},{}],881:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("roaming",["$translate",function(t){return function(e,i){var n=e.get("name")||t.instant("COMMON_FILTER_ROAMING_UNLABELED"),o="";return e.get("roam_enabled")&&(o=" ("+t.instant(i?"COMMON_FILTER_ROAMING_DETAILS_ABBR":"COMMON_FILTER_ROAMING_DETAILS",{radio:e.get("roam_radio"),channel:e.get("roam_channel_"+e.get("roam_radio"))})+")"),n+o}}])},{}],882:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("rssi",[function(){return function(t){return(t=parseFloat(t))?(0===(t=((t=Math.min(45,Math.max(t,5)))-5)/40*99)?"0":t.toPrecision(2))+"%":""}}])},{}],883:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("rssiToDbm",["$translate",function(t){return function(e){return void 0!==e&&null!==e?e-95+" "+t.instant("DEVICE_RADIO_TRANSMIT_POWER_DBM"):""}}])},{}],884:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("rxtx",["binaryPrefix",function(t){return function(e){var i=t.parse(1e3*e,"SI");return i.value||0===i.value?i.value+" "+i.prefix+"bps":""}}])},{}],885:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("secondsSince",["$filter",function(t){return function(e){var i=(new Date).getTime()-e;return t("seconds")(Math.floor(i/1e3))}}])},{}],886:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("statsTimeRange",["moment","preferences","REPORT_GRANULARITY","dateUtils",function(t,e,i,n){return function(o,r,a,s){r=r||i.DAILY;var l,c,u=angular.isNumber(r)?r:r.grain,d=n.getPreferredTimezone(),p=e.model.get("dateFormat"),f=e.model.get("timeFormat"),h=[],_=t(o).tz(d);if(u===t.duration(1,"hour").asMilliseconds())l=_.clone().subtract(1,"second").floor(1,"hour"),c=_.clone().ceil(1,"hour"),a||h.push(c.format(p)),s||(h.push(l.format(f)),h.push("-"),h.push(c.format(f)));else if(u>=t.duration(1,"day").asMilliseconds()){var m;m=u<t.duration(1,"week").asMilliseconds()?"day":u<t.duration(1,"month").asMilliseconds()?"week":"month",l=_.clone().startOf(m),c=_.clone().endOf(m),a||(h.push(l.format(p)),l.format(p)!==c.format(p)&&(h.push("-"),h.push(c.format(p)))),s||h.push(l.format(f))}else l=_.clone().subtract(r.grain,"ms"),c=_.clone(),a||h.push(c.format(p)),h.push(l.format(f)),h.push("-"),h.push(c.format(f));return h.join(" ")}}])},{}],887:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("streamEncodingQuality",["$translate",function(t){var e=4,i=7;return function(n){return n&&angular.isNumber(n)?n<e?t.instant("STREAM_PROPERTIES_LABEL_QUALITY_LOW"):n<i?t.instant("STREAM_PROPERTIES_LABEL_QUALITY_MEDIUM"):t.instant("STREAM_PROPERTIES_LABEL_QUALITY_HIGH"):""}}])},{}],888:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("temperature",[function(){return function(t){return t=parseInt(t,10),isNaN(t)?"":t+""}}])},{}],889:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("timeLeft",["moment",function(t){return function(e){var i=e-(new Date).getTime(),n=t.duration(i,"milliseconds"),o=Math.floor(n.asDays());return o?o+"d":Math.floor(n.asHours())+"h"}}])},{}],890:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("translateDpiCategory",["dpiUtils",function(t){return function(e){return t.getTranslatedCategoryName(e)}}])},{}],891:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("truncate",[function(){return function(t,e){return t&&e&&t.length>e+2?t.slice(0,e)+(t.length>=e?"...":""):t}}])},{}],892:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("unifiCronDayName",["$translate",function(t){var e={0:"SUN",1:"MON",2:"TUE",3:"WED",4:"THU",5:"FRI",6:"SAT"};return function(i){return null!==i&&angular.isDefined(e[i])?t.instant("DATETIME_DAYS_"+e[i]):null}}])},{}],893:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("unifiCronMonthName",["$translate",function(t){return function(e){return null!==e&&e>0&&e<=12?t.instant("DATETIME_MONTHS_"+e):null}}])},{}],894:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("unifiCronNextExecution",["$translate","moment",function(t,e){return function(t){var i,n,o,r,a=(i=t,n=Number.isInteger,o=angular.isString(i)&&i.split(" ")||[],r={minute:parseInt(o[0]),hour:parseInt(o[1]),day:parseInt(o[2]),month:parseInt(o[3]),week:parseInt(o[4])},5!==o.length||!n(r.minute)||n(r.week)&&(n(r.day)||n(r.month))||!n(r.hour)&&n(r.day)||!n(r.hour)&&!n(r.day)&&n(r.month)||!n(r.hour)&&n(r.week)?null:r);if(a){var s=e(),l=s.clone();return Number.isInteger(a.minute)&&(l.minute(a.minute),l.isSameOrBefore(s)&&l.add(1,"hour")),Number.isInteger(a.hour)&&(l.hour(a.hour),l.isSameOrBefore(s)&&l.add(1,"day")),Number.isInteger(a.day)&&(l.date(a.day),l.isSameOrBefore(s)&&l.add(1,"month")),Number.isInteger(a.month)&&(l.month(a.month-1),l.isSameOrBefore(s)&&l.add(1,"year")),Number.isInteger(a.week)&&(l.isoWeekday(a.week),l.isSameOrBefore(s)&&l.add(1,"week")),l}return null}}])},{}],895:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("wlanGroup",["deviceWlanGroupUtils",function(t){return function(e,i){return t.getWlanGroupNamesByType(e,i)}}])},{}],896:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("wlanOverride",["$translate",function(t){return function(e,i){var n=[],o=!1;if(e){var r=void 0!==e.get("enabled")?e.get("enabled"):i.get("enabled");if(r!==i.get("enabled")&&(n.push(t.instant(r?"DEVICE_PROPERTIES_AP_WLAN_OVERRIDES_ENABLED":"DEVICE_PROPERTIES_AP_WLAN_OVERRIDES_DISABLED")),r||(o=!0)),!o){var a=e.get("name");a&&a!==i.get("name")&&n.push(t.instant("DEVICE_PROPERTIES_AP_WLAN_OVERRIDES_SSID")+": "+a);var s=e.get("vlan_enabled");if(void 0!==s&&s!==i.get("vlan_enabled"))n.push(t.instant("DEVICE_PROPERTIES_AP_WLAN_OVERRIDES_VLAN")+": "+t.instant(s?"DEVICE_PROPERTIES_AP_WLAN_OVERRIDES_ENABLED":"DEVICE_PROPERTIES_AP_WLAN_OVERRIDES_DISABLED"));else{var l=e.get("vlan");l&&l!==i.get("vlan")&&n.push(t.instant("DEVICE_PROPERTIES_AP_WLAN_OVERRIDES_VLAN")+": "+l)}var c=e.get("x_passphrase");c&&c!==i.get("x_passphrase")&&"wpapsk"===i.get("security")&&n.push(t.instant("DEVICE_PROPERTIES_AP_WLAN_OVERRIDES_PSK"))}}return n.join(", ")}}])},{}],897:[function(t,e,i){"use strict";angular.module("app-unifi-manage").filter("yesOrNo",["$translate",function(t){return function(e){return void 0===e||null===e?"":t.instant(!0===e?"COMMON_VALUE_YES":"COMMON_VALUE_NO")}}])},{}],898:[function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var o={};o.knownClients=t("./routeInitializers/initializeKnownClients"),o.neighboringAccessPoints=t("./routeInitializers/initializeNeighboringAccessPoints"),o.pastConnections=t("./routeInitializers/initializePastConnections"),o.pastGuestAuthorizations=t("./routeInitializers/initializePastGuestAuthorizations"),o.ipsOverview=t("./routeInitializers/initializeIpsOverview"),o.ipsList=t("./routeInitializers/initializeIpsList"),o.ipsSettings=t("./routeInitializers/initializeIpsSettings"),o.statisticsOverview=t("./routeInitializers/initializeStatisticsOverview"),o.statisticsDpi=t("./routeInitializers/initializeStatisticsDpi"),o.statisticsSwitch=t("./routeInitializers/initializeStatisticsSwitch"),o.statisticsPerformance=t("./routeInitializers/initializeStatisticsPerformance"),o.statisticsClient=t("./routeInitializers/initializeStatisticsClient"),o.statisticsSpeedTest=t("./routeInitializers/initializeStatisticsSpeedTest");var r={};r.allowSuperAdminAccess=t("./routeResolvers/resolveAllowSuperAdminAccess"),r.propertyPanel=t("./routeResolvers/resolvePropertyPanel"),r.allowAdminAccess=t("../../base-unifi/lib/routeResolvers/resolveAllowAdminAccess"),r.login=t("../../base-unifi/lib/routeResolvers/resolveLogin"),r.ssoLogin=t("../../base-unifi/lib/routeResolvers/resolveSsoLogin");var a=function(t){var e=t.repositories,i=void 0===e?[]:e,o=t.repositoriesAsync,r=void 0===o?[]:o,a=t.translations,s=void 0===a?[]:a,l=t.withRouteDeps,c=void 0!==l&&l,u=t.modules,d=void 0===u?[]:u;return{routeDeps:["$injector","$q","dynamicModules","repositoryUtils"].concat(n(c?["routeDeps"]:[]),[function(t,e,o,a){return t.get("manageResolver").resolve().then(function(){return e.all(d.map(function(t){return o.load(t)}))}).then(function(){r.forEach(function(t){return a.getRepository(t).registerAndFetch()})}).then(function(){var o;return e.all(i.map(function(t){return a.getRepository(t).fetch()}).concat(s.length?(o=t.get("translateResolver")).resolve.apply(o,n(s)):e.when()))}).then(function(){return{onEnterCallback:a.registerGroup,onEnterArgs:i,onExitCallback:a.unregisterGroup,onExitArgs:i.concat(r)}})}])}};e.exports={},e.exports.account={routeDeps:["$injector","$q",function(t,e){return t.get("manageResolver").resolve().then(function(){return e.all([t.get("translateResolver").resolve("account"),t.get("status").repository.model.fetch()])})}]},e.exports.admins={routeDeps:["repositoryUtils","$injector","$q",function(t,e,i){var n=["admins"];return e.get("manageResolver").resolve().then(function(){return r.login(e).then(function(){return r.allowAdminAccess(e)})}).then(function(){return e.get("account").isSuperAdmin()&&n.push("adminsOverview"),i.all(n.map(function(e){return t.getRepository(e).fetch()}))}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:n,onExitCallback:t.unregisterGroup,onExitArgs:n}})}]},e.exports.backup=a({repositories:["backup"]}),e.exports.clients=a({repositories:["networks","clients","devices","userGroups"],translations:["clients"],modules:["dpi"]}),e.exports.controller={routeDeps:["$injector",function(t){return t.get("manageResolver").resolve().then(function(){return r.login(t)})}]},e.exports.dashboard=a({repositories:["dashboards","siteHealth"],translations:["dashboard","dashboardModules","dashboardFilters","isp"],withRouteDeps:!0}),e.exports.devices={routeDeps:["repositoryUtils","$injector","$q","routeDeps",function(t,e,i){var n=["clients","countries","networks","status","wirelessNetworkGroups","wirelessNetworks","tags"];return e.get("manageResolver").resolve().then(function(){return i.all(n.map(function(e){return t.getRepository(e).fetch()}).concat(e.get("partialDevices").resolve(),e.get("translateResolver").resolve("devices"),t.getRepository("discoveredDevices").fetch()))}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:n.concat("partialDevices"),onExitCallback:t.unregisterGroup,onExitArgs:n.concat("partialDevices")}})}]},e.exports.dhcpRelay=a({repositories:["siteHealth"]}),e.exports.dhcp=a({repositories:["dhcpOptions","networks"]}),e.exports.dhcpServer=a({repositories:["siteHealth"]}),e.exports.dpiRestrictions={routeDeps:["$injector","$q","dynamicModules","repositoryUtils",function(t,e,i,n){var o=["system"],r=["dpiApps","dpiGroups","networks","radius","wirelessNetworks"];return e.all([i.load("dpi"),t.get("manageResolver").resolve()]).then(function(){return e.all(o.map(function(t){return n.getRepository(t).fetch()}))}).then(function(){return e.all(r.map(function(t){return n.getRepository(t).fetch()}))}).then(function(){return{onEnterCallback:n.registerGroup,onEnterArgs:o.concat(r),onExitCallback:n.unregisterGroup,onExitArgs:o.concat(r)}})}]},e.exports.dpiSettings=a({repositories:["system"],modules:["dpi"]}),e.exports.dynamicDns=a({repositories:["dynamicDns","siteHealth"],withRouteDeps:!0}),e.exports.dynamicDnsStats=a({repositories:["dynamicDnsStats"],translations:["dynamicDnsStats"],withRouteDeps:!0}),e.exports.firewall={routeDeps:["repositoryUtils","$injector","$q",function(t,e,i){var n=["devices","firewallGroups","firewallRules","networks"];return e.get("manageResolver").resolve().then(function(){return i.all(n.map(function(e){return t.getRepository(e).fetch()}).concat(e.get("translateResolver").resolve("firewall")))}).then(function(){return e.get("devices").repository.fetchGatewayDetails().then(function(){return e.get("firewallRules").repository.fetch()})}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:n,onExitCallback:t.unregisterGroup,onExitArgs:n}})}]},e.exports.geoIpFiltering=a({repositories:["geoIpCountries","system"],translations:["countries"],withRouteDeps:!0}),e.exports.guestControl=a({repositories:["countries","hotspotPackages","radius"],translations:["languages"]}),e.exports.home={routeDeps:["repositoryUtils","$injector","$q",function(t,e,i){var n=["sites"];return e.get("manageResolver").resolve().then(function(){return r.login(e)}).then(function(){return e.get("wsRegisterMessageHandlers").resolve()}).then(function(){return e.get("wsResolver").resolve()}).then(function(){return e.get("superSiteMessageChannelResolver").resolve()}).then(function(){return i.all(n.map(function(e){return t.getRepository(e).fetch()}))}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:n,onExitCallback:t.unregisterGroup,onExitArgs:n}})}]},e.exports.hotspot2=a({repositories:["hotspot2"],translations:["languages"],withRouteDeps:!0}),e.exports.insights={routeDeps:["$injector","$q",function(t,e){return e.all([t.get("translateResolver").resolve("insights"),t.get("dynamicModules").load("insights")])}]},e.exports.ipsSettings={routeDeps:["$injector","$q","repositoryUtils",function(t,e,i){var n=["devices","networks","system"],r=["ipsEvents"];return t.get("manageResolver").resolve().then(function(){return o.ipsSettings(t)}).then(function(){r.forEach(function(t){return i.getRepository(t).registerAndFetch()})}).then(function(){return e.all(n.map(function(t){return i.getRepository(t).fetch()}).concat([t.get("dynamicModules").load("ips")]))}).then(function(){return{onEnterCallback:i.registerGroup,onEnterArgs:n,onExitCallback:i.unregisterGroup,onExitArgs:[].concat(n,r)}})}]},e.exports.knownClients={routeDeps:["repositoryUtils","$injector","$stateParams","$q",function(t,e,i,n){var r=["clients","devices","knownClients"];return e.get("manageResolver").resolve().then(function(){return o.knownClients(e,i)}).then(function(){return n.all(r.map(function(e){return t.getRepository(e).fetch()}).concat(e.get("translateResolver").resolve("knownClients")))}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:r,onExitCallback:t.unregisterGroup,onExitArgs:r}})}]},e.exports.logs={routeDeps:["$injector","$q",function(t,e){return t.get("manageResolver").resolve().then(function(){return r.login(t).then(function(){return r.allowSuperAdminAccess(t)}).then(function(){return e.all([t.get("wsLogsRegisterMessageHandlers").resolve(),t.get("translateResolver").resolve("logs")])})})}]},e.exports.maintenance={routeDeps:["$injector","$q","repositoryUtils","system",function(t,e,i,n){var o=["firmware","firmwareAvailable"];return t.get("manageResolver").resolve().then(function(){return e.all((n.isUnifiGo()?[]:o).map(function(t){return i.getRepository(t).fetch()}))}).then(function(){return r.login(t).then(function(){return r.allowSuperAdminAccess(t)})})}]},e.exports.manage={routeDeps:["$injector",function(t){return t.get("translateResolver").resolve("common","fatal")}]},e.exports.maps={routeDeps:["$injector","$q","dynamicModules","repositoryUtils",function(t,e,i,n){var o=["devices","virtualDevices","tags"],r=["clients"];return i.load("maps").then(function(){return t.get("manageResolver").resolve()}).then(function(){r.map(function(t){return n.getRepository(t).registerAndFetch()})}).then(function(){return e.all(o.map(function(t){return n.getRepository(t).fetch()}).concat(t.get("translateResolver").resolve("devices","maps")))}).then(function(){return{onEnterCallback:n.registerGroup,onEnterArgs:o,onExitCallback:n.unregisterGroup,onExitArgs:o.concat(r)}})}]},e.exports.mDns=a({repositories:["siteHealth"]}),e.exports.neighboringAccessPoints={routeDeps:["repositoryUtils","$injector","$stateParams","$q","routeDeps",function(t,e,i,n){var r=["devices"],a=["rogueKnownAccessPoints"];return e.get("manageResolver").resolve().then(function(){return o.neighboringAccessPoints(e,i)}).then(function(){r.map(function(e){return t.getRepository(e).registerAndFetch()})}).then(function(){return n.all(a.map(function(e){return t.getRepository(e).fetch()}).concat(e.get("translateResolver").resolve("neighboringAccessPoints")))}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:a,onExitCallback:t.unregisterGroup,onExitArgs:a.concat(r)}})}]},e.exports.networks=a({repositories:["devices","dhcpOptions","networks","radius"],withRouteDeps:!0}),e.exports.notifications={routeDeps:["$injector","$q","repositoryUtils",function(t,e,i){var n=[{service:"notifications",repository:"defaultEvents"},{service:"notifications",repository:"effectiveEvents"}];return t.get("manageResolver").resolve().then(function(){return e.all(n.map(function(t){return i.getRepository(t).fetch()}))}).then(function(){return e.all(n.map(function(t){return i.getRepository(t).fetch()}).concat(t.get("translateResolver").resolve("eventLabels")))}).then(function(){return{onEnterCallback:i.registerGroup,onEnterArgs:n,onExitCallback:i.unregisterGroup,onExitArgs:n}})}]},e.exports.oAuthLogin=a({repositories:["status"],translations:["account"]}),e.exports.elitedevice={routeDeps:["repositoryUtils","$injector","$q","routeDeps",function(t,e,i){var n=["deviceEliteDetails"];return e.get("manageResolver").resolve().then(function(){return r.login(e).then(function(){return r.allowSuperAdminAccess(e)})}).then(function(){return i.all(n.map(function(e){return t.getRepository(e).fetch().catch(angular.noop)}))}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:n,onExitCallback:t.unregisterGroup,onExitArgs:n}})}]},e.exports.pastConnections={routeDeps:["repositoryUtils","$injector","$stateParams","$q","routeDeps",function(t,e,i,n){var r=["clients","devices","knownClients","pastConnections"];return e.get("manageResolver").resolve().then(function(){return o.pastConnections(e,i)}).then(function(){return n.all(r.map(function(e){return t.getRepository(e).fetch()}).concat(e.get("translateResolver").resolve("pastConnections")))}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:r,onExitCallback:t.unregisterGroup,onExitArgs:r}})}]},e.exports.pastGuestAuthorizations={routeDeps:["repositoryUtils","$injector","$stateParams","$q","routeDeps",function(t,e,i,n){var r=["clients","devices","pastGuestAuthorizations"];return e.get("manageResolver").resolve().then(function(){return o.pastGuestAuthorizations(e,i)}).then(function(){return n.all(r.map(function(e){return t.getRepository(e).fetch()}).concat(e.get("translateResolver").resolve("pastGuestAuthorizations")))}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:r,onExitCallback:t.unregisterGroup,onExitArgs:r}})}]},e.exports.physicalMaps={routeDeps:["$injector","$q","dynamicModules","repositoryUtils",function(t,e,i,n){var o=["maps","walls"];return i.load("maps").then(function(){return t.get("manageResolver").resolve()}).then(function(){return e.all(o.map(function(t){return n.getRepository(t).fetch()}))}).then(function(){return{onEnterCallback:n.registerGroup,onEnterArgs:o,onExitCallback:n.unregisterGroup,onExitArgs:o}})}]},e.exports.portForwards=a({repositories:["portForwards","siteHealth"]}),e.exports.portForwardStats={routeDeps:["repositoryUtils","$injector","$q",function(t,e,i){var n=["portForwards","portForwardStats"];return e.get("manageResolver").resolve().then(function(){return i.all([e.get("portForwards").repository.fetch(),e.get("translateResolver").resolve("portForwardStats")])}).then(function(){return e.get("portForwardStats").repository.fetch()}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:n,onExitCallback:t.unregisterGroup,onExitArgs:n}})}]},e.exports.portProfiles=a({repositories:["switches","networks"]}),e.exports.radiusProfiles=a({repositories:["radius"]}),e.exports.radiusServer=a({repositories:["networks","radius","siteHealth"]}),e.exports.radiusUsers=a({repositories:["networks","radiusUsers","siteHealth"]}),e.exports.scheduledUpgrades=a({repositories:["scheduledUpgrades","devices"]}),e.exports.remoteUserVpn=a({repositories:["remoteUserVpn"],translations:["remoteUserVpn"]}),e.exports.routing=a({repositories:["devices","networks","routing"],translations:["routing"],withRouteDeps:!0}),e.exports.routingStats=a({repositories:["routingStats"],translations:["routing"]}),e.exports.settings=a({repositories:["countries","countryChannels","sdn","settings","sites","system"],translations:["overview","settings","dpiRestrictions","dpiCategories"],modules:["settings"],withRouteDeps:!0}),e.exports.sip=a({repositories:["devices"]}),e.exports.site={routeDeps:["$injector","$q","dynamicModules","repositoryUtils",function(t,e,i,n){var o=["countryChannels","settings","shopifyLineItems","sites","siteHealth","system"],a=[{service:"alerts",repository:"unread"},"controllerWarnings"];return t.get("manageResolver").resolve().then(function(){return r.login(t).then(function(){return t.get("wsRegisterMessageHandlers").resolve()}).then(function(){return t.get("wsResolver").resolve()}).then(function(){return t.get("superSiteMessageChannelResolver").resolve()}).then(function(){return e.all(o.map(function(t){return n.getRepository(t).fetch()}).concat(t.get("translateResolver").resolve("statistics")))}).then(function(){return r.propertyPanel(t)}).then(function(){e.all(a.map(function(t){return n.getRepository(t).fetch()})).then(function(){t.get("dataRetentionUpdate").resolve().then(function(){return t.get("cloudKeySdCardCheck").resolve()}).then(function(){return t.get("onOpenWarnings").resolve()}).then(function(){return t.get("defaultSiteSshAuthPasswordCheck").resolve()})})}).then(function(){return{onEnterCallback:n.registerGroup,onEnterArgs:o.concat(a),onExitCallback:n.unregisterGroup,onExitArgs:o.concat(a)}})})}]},e.exports.siteSettings=a({repositories:["wirelessNetworkGroups","wirelessNetworks"]}),e.exports.ssoLogin={routeDeps:["account","$state","$stateParams","site","translateResolver","ENV",function(t,e,i,n,o,a){return r.ssoLogin(t,e,i,n,o,a)}]},e.exports.statistics=a({repositories:["system"],translations:["dpiOverview","dpiApps","dpiUsers","dpiApplicationStatistics","dpiUserStatistics","dpiCategories"],withRouteDeps:!0}),e.exports.statisticsDebugging=a({repositories:["clients","devices"]}),e.exports.ips={routeDeps:["ipsEvents","repositoryUtils","$injector","$q",function(t,e,i,n){var o=["clients","devices","firewallRules","networks"];return i.get("manageResolver").resolve().then(function(){return n.all(o.map(function(t){return e.getRepository(t).fetch()}).concat(i.get("translateResolver").resolve("countries","dashboard","dashboardModules","dashboardFilters","ips","settings")).concat([i.get("dynamicModules").load("ips")]))}).then(function(){return{onEnterCallback:e.registerGroup,onEnterArgs:o,onExitCallback:function(i){e.unregisterGroup(i),t.updateFilteredCollection({resetFilter:!0})},onExitArgs:o}})}]},e.exports.ipsOverview={routeDeps:["repositoryUtils","$injector","$stateParams","$q",function(t,e,i,n){var r=["ipsEvents"];return e.get("manageResolver").resolve().then(function(){return o.ipsOverview(e,i)}).then(function(){return n.all(r.map(function(e){return t.getRepository(e).fetch()}))}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:r,onExitCallback:t.unregisterGroup,onExitArgs:r}})}]},e.exports.ipsList={routeDeps:["repositoryUtils","$injector","$stateParams","$q",function(t,e,i,n){var r=["ipsEvents"];return e.get("manageResolver").resolve().then(function(){return o.ipsList(e,i)}).then(function(){return n.all(r.map(function(e){return t.getRepository(e).fetch()}))}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:r,onExitCallback:t.unregisterGroup,onExitArgs:r}})}]},e.exports.statisticsDpi={routeDeps:["dynamicModules","repositoryUtils","$injector","$stateParams","$q","routeDeps",function(t,e,i,n,r){var a=["clients","devices","siteHealth","settings",{service:"siteDpi",repository:"byCat"}],s=[{service:"siteDpi",repository:"byApp"}];return i.get("manageResolver").resolve().then(function(){return t.load("dpi")}).then(function(){return r.all(a.map(function(t){return e.getRepository(t).fetch()}))}).then(function(){return o.statisticsDpi(i,n)}).then(function(){return r.all(s.map(function(t){return e.getRepository(t).fetch()}))}).then(function(){return{onEnterCallback:e.registerGroup,onEnterArgs:a.concat(s),onExitCallback:e.unregisterGroup,onExitArgs:a.concat(s)}})}]},e.exports.statisticsOverview={routeDeps:["repositoryUtils","$injector","$stateParams","$q",function(t,e,i,n){var r=["clients","devices"];return e.get("manageResolver").resolve().then(function(){return o.statisticsOverview(e,i)}).then(function(){return n.all(r.map(function(e){return t.getRepository(e).fetch()}))}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:r,onExitCallback:t.unregisterGroup,onExitArgs:r}})}]},e.exports.statisticsPerformance={routeDeps:["repositoryUtils","$injector","$stateParams","$q",function(t,e,i,n){var r=["devices"];return e.get("manageResolver").resolve().then(function(){return n.all(r.map(function(e){return t.getRepository(e).fetch()}))}).then(function(){return o.statisticsPerformance(e,i)}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:r,onExitCallback:t.unregisterGroup,onExitArgs:r}})}]},e.exports.statisticsClient={routeDeps:["repositoryUtils","$injector","$stateParams","$q",function(t,e,i,n){var r=["clients"];return e.get("manageResolver").resolve().then(function(){return n.all(r.map(function(e){return t.getRepository(e).fetch()}))}).then(function(){return o.statisticsClient(e,i)}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:r,onExitCallback:t.unregisterGroup,onExitArgs:r}})}]},e.exports.statisticsSpeedTest={routeDeps:["repositoryUtils","$injector","$stateParams","$q",function(t,e,i,n){var r=[],a=["speedTestReports"];return e.get("manageResolver").resolve().then(function(){return o.statisticsSpeedTest(e,i)?n.all(a.map(function(e){return t.getRepository(e).refresh()})):n.when()}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:r.concat(a),onExitCallback:t.unregisterGroup,onExitArgs:r.concat(a)}})}]},e.exports.statisticsSwitch={routeDeps:["repositoryUtils","$injector","$stateParams","$q",function(t,e,i,n){var r=["clients","devices"],a=["switchReports"];return e.get("manageResolver").resolve().then(function(){return n.all(r.map(function(e){return t.getRepository(e).fetch()}))}).then(function(){return o.statisticsSwitch(e,i)?n.all(a.map(function(e){return t.getRepository(e).refresh()})):n.when()}).then(function(){return{onEnterCallback:t.registerGroup,onEnterArgs:r.concat(a),onExitCallback:t.unregisterGroup,onExitArgs:r.concat(a)}})}]},e.exports.store=a({repositories:["shopifyVariants"],translations:["store"]}),e.exports.streams=a({repositories:["devices","streams"],translations:["streams"]}),e.exports.switchStats=a({repositories:["devices","switches","switchStats"],translations:["switchStats"],withRouteDeps:!0}),e.exports.topology={routeDeps:["$injector","$q","dynamicModules","repositoryUtils",function(t,e,i,n){var o=["clients"];return i.load("maps").then(function(){return t.get("manageResolver").resolve()}).then(function(){return e.all(o.map(function(t){return n.getRepository(t).fetch()}))}).then(function(){return{onEnterCallback:n.registerGroup,onEnterArgs:o,onExitCallback:n.unregisterGroup,onExitArgs:o}})}]},e.exports.upnp=a({repositories:["devices","networks"]}),e.exports.userGroups=a({repositories:["userGroups"]}),e.exports.wirelessNetworks=a({repositories:["countryChannels","devices","clients","userGroups","wirelessNetworkGroups","wirelessNetworks","radius","hotspot2"],withRouteDeps:!0}),e.exports.initializers=o,e.exports.resolvers=r},{"../../base-unifi/lib/routeResolvers/resolveAllowAdminAccess":1515,"../../base-unifi/lib/routeResolvers/resolveLogin":1516,"../../base-unifi/lib/routeResolvers/resolveSsoLogin":1517,"./routeInitializers/initializeIpsList":899,"./routeInitializers/initializeIpsOverview":900,"./routeInitializers/initializeIpsSettings":901,"./routeInitializers/initializeKnownClients":902,"./routeInitializers/initializeNeighboringAccessPoints":903,"./routeInitializers/initializePastConnections":904,"./routeInitializers/initializePastGuestAuthorizations":905,"./routeInitializers/initializeStatisticsClient":906,"./routeInitializers/initializeStatisticsDpi":907,"./routeInitializers/initializeStatisticsOverview":908,"./routeInitializers/initializeStatisticsPerformance":909,"./routeInitializers/initializeStatisticsSpeedTest":910,"./routeInitializers/initializeStatisticsSwitch":911,"./routeResolvers/resolveAllowSuperAdminAccess":912,"./routeResolvers/resolvePropertyPanel":913}],899:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("ipsEvents"),n=t.get("ipsFilters"),o=t.get("COUNTRY_MAP"),r=t.get("DATE_RANGE_PRESETS"),a=t.get("$q"),s=t.get("localStorageFailSafe"),l=new(t.get("StorageValue"))(s,"IPS_STATISTICS_LAST_INTERVAL"),c=void 0,u=void 0,d=e.country,p=e.ip,f=e.severity;if(l.hydrate(),e.startOrPreset=e.startOrPreset||l.getValue()||"last_24h",isNaN(e.startOrPreset)){var h=e.startOrPreset&&r[e.startOrPreset.toUpperCase()];c=h.start,u=h.end,l.setValue(e.startOrPreset)}else c=e.startOrPreset,u=e.end;if(d){var _=Object.keys(o).find(function(t){return o[t].longCode===d});n.setCountryFilter(_)}return p&&n.setIpFilter(p),f&&n.setSeverityFilter(f),(d||p||f)&&(i.updateFilteredCollection(),n.openPanel()),c!==i.getStartDate()||u!==i.getEndDate()?(i.repository.collection.setDateInterval(c,u),i.repository.refresh()):a.when()}},{}],900:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("ipsEvents"),n=t.get("DATE_RANGE_PRESETS"),o=t.get("$q"),r=t.get("localStorageFailSafe"),a=new(t.get("StorageValue"))(r,"IPS_STATISTICS_LAST_INTERVAL"),s=void 0,l=void 0;if(a.hydrate(),e.startOrPreset=e.startOrPreset||a.getValue()||"last_24h",isNaN(e.startOrPreset)){var c=e.startOrPreset&&n[e.startOrPreset.toUpperCase()];s=c.start,l=c.end,a.setValue(e.startOrPreset)}else s=e.startOrPreset,l=e.end;return s!==i.repository.collection.start||l!==i.repository.collection.end?(i.repository.collection.setDateInterval(s,l),i.repository.refresh()):o.when()}},{}],901:[function(t,e,i){"use strict";e.exports=function(t){var e=t.get("ipsEvents"),i=t.get("$q");return e.repository.collection.setDateInterval(void 0,void 0),i.when()}},{}],902:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("knownClients"),n=t.get("$q");return i.updateWithin(parseInt(e.within)),n.when()}},{}],903:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("neighboringAccessPoints"),n=t.get("$q");return i.updateWithin(parseInt(e.within)),n.when()}},{}],904:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("pastConnections"),n=t.get("$q"),o=e.start,r=e.end;return i.updateDateInterval(o,r),n.when()}},{}],905:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("pastGuestAuthorizations"),n=t.get("$q"),o=e.start,r=e.end;return i.updateDateInterval(o,r),n.when()}},{}],906:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("_"),n=t.get("$q"),o=t.get("moment"),r=t.get("statisticsParams"),a=t.get("REPORT_GRANULARITY"),s=t.get("localStorageFailSafe"),l=new(t.get("StorageValue"))(s,"STATISTICS_CLIENT_LAST_INTERVAL");l.hydrate(),e.granularity=e.granularity||l.getValue()||a.DAILY.url;var c=i.find(a,function(t){return t.url===e.granularity})||a.DAILY;l.setValue(c.url);var u=e.end||o.utc().add(1,"days").startOf("day").format("x"),d=c===a.DAILY?7:1,p=e.start||o.utc().subtract(d,"days").startOf("day").format("x");return e.start=p,e.end=u,r.setGranularity(c),r.setDateInterval(p,u),n.when()}},{}],907:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("siteDpi"),n=t.get("selectedDpiCategories");n.restore();var o=n.getIds();return e.categoryId&&-1===o.indexOf(parseInt(e.categoryId))&&o.push(parseInt(e.categoryId)),i.repositories.byApp.model.setDPICategories(o),t.get("$q").when()}},{}],908:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("REPORT_GRANULARITY"),n=t.get("$q"),o=t.get("_"),r=t.get("localStorageFailSafe"),a=new(t.get("StorageValue"))(r,"STATISTICS_OVERVIEW_LAST_INTERVAL"),s=t.get("statisticsParams");a.hydrate(),e.granularity=e.granularity||a.getValue()||i.DAILY.url;var l=o.find(i,function(t){return t.url===e.granularity})||i.DAILY;a.setValue(l.url);var c=e.start,u=e.end;return s.setGranularity(l),s.setDateInterval(c,u),n.when()}},{}],909:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("_"),n=t.get("$q"),o=t.get("gatewayUtils"),r=t.get("devices"),a=t.get("moment"),s=t.get("statisticsParams"),l=t.get("REPORT_GRANULARITY"),c=t.get("localStorageFailSafe"),u=new(t.get("StorageValue"))(c,"STATISTICS_PERFORMANCE_LAST_INTERVAL");u.hydrate(),e.granularity=e.granularity||u.getValue()||l.DAILY.url;var d=i.find(l,function(t){return t.url===e.granularity})||l.DAILY;u.setValue(d.url);var p=e.end||a.utc().add(1,"days").startOf("day").format("x"),f=d===l.DAILY?7:1,h=e.start||a.utc().subtract(f,"days").startOf("day").format("x");if(e.start=h,e.end=p,s.setGranularity(d),s.setDateInterval(h,p),!e.deviceId||!r.repository.collection.get(e.deviceId)){var _=o.getSiteGateway()||r.repository.collection.findWhere({adopted:!0}),m=_&&_.get("mac");m?e.deviceId=m:(e.end=void 0,e.start=void 0,e.granularity=void 0,e.deviceId=void 0)}return n.when()}},{}],910:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("$q"),n=t.get("moment"),o=t.get("speedTestReports");o.setGranularity({url:"archive",grain:n.duration(1,"hour").asMilliseconds()});var r=e.start,a=e.end;return o.setDateInterval(r,a),i.when()}},{}],911:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("_"),n=t.get("$q"),o=t.get("devices"),r=t.get("moment"),a=t.get("switchReports"),s=t.get("switchUtils"),l=t.get("REPORT_GRANULARITY"),c=t.get("localStorageFailSafe"),u=new(t.get("StorageValue"))(c,"STATISTICS_SWITCH_LAST_INTERVAL");u.hydrate(),e.granularity=e.granularity||u.getValue()||l.DAILY.url;var d=i.find(l,function(t){return t.url===e.granularity})||l.DAILY;u.setValue(d.url);var p,f=e.end||r.utc().add(1,"days").startOf("day").format("x"),h=d===l.DAILY?7:1,_=e.start||r.utc().subtract(h,"days").startOf("day").format("x");if(e.start=_,e.end=f,a.setGranularity(d),a.setDateInterval(_,f),e.switchId&&(p=o.repository.collection.get(e.switchId)),!p||!p.isAdopted()){var m=o.repository.collection.filter(function(t){return s.isAdoptedSwitch(t)||s.isHybridSwitch(t)&&t.isAdopted()});p=m.length?m[0]:void 0,e.switchId=p?p.id:null}return a.setSwitch(p),n.when()}},{}],912:[function(t,e,i){"use strict";e.exports=function(t){var e=t.get("$q"),i=t.get("account"),n=t.get("$state"),o=t.get("ENV");return i.isSuperAdmin()?e.when():(n.go(o.FATAL_STATE,{error:403}),e.reject())}},{}],913:[function(t,e,i){"use strict";e.exports=function(t){var e=t.get("$q"),i=t.get("$rootScope"),n=t.get("propertyPanel"),o=i.$on("$stateChangeSuccess",function(){o(),n.initFromQueryString()});return e.when()}},{}],914:[function(t,e,i){"use strict";t("../base-unifi-dashboard/main"),t("../base-unifi-device/main"),t("../base-unifi-hotspot/main"),t("../base-unifi-maintenance/main"),t("../base-unifi-overview/main"),t("../base-unifi-webrtc-controller/main"),t("../shared-unifi-manage/main"),t("../shared-unifi-panel/main"),t("../shared-unifi-store/main"),t("../unifi-zopim/main"),t("../unifi-terminal/main"),angular.module("app-unifi-manage",["angular-cron-jobs","base-unifi","base-unifi-dashboard","base-unifi-device","base-unifi-hotspot","base-unifi-maintenance","base-unifi-overview","base-unifi-webrtc-controller","event","ng-sortable","ng-timezone","number-validator","onLastRepeat","pikaday","rzModule","shared-unifi-manage","shared-unifi-panel","shared-unifi-store","tinycolor","unifi-zopim","unifi-terminal","vs-repeat"]),t("./components/accordionGroupState/accordionGroupState.js"),t("./components/activityGraph/ActivityGraphController.js"),t("./components/activityGraph/activityGraph.js"),t("./components/adminForm/AdminFormController.js"),t("./components/adminForm/adminForm.js"),t("./components/adminList/AdminListController.js"),t("./components/adminList/adminList.js"),t("./components/alertsCalendar/AlertsCalendarController.js"),t("./components/alertsCalendar/alertsCalendar.js"),t("./components/alertsSideNav/AlertsSideNavController.js"),t("./components/alertsSideNav/alertsSideNav.js"),t("./components/anomaliesModule/AnomaliesModuleController.js"),t("./components/anomaliesModule/anomaliesModule.js"),t("./components/anomaliesModule/anomaliesModuleDefinitions.js"),t("./components/apStatisticsModule/ApStatisticsModuleController.js"),t("./components/apStatisticsModule/apStatisticsModule.js"),t("./components/apStatisticsModule/apStatisticsModuleDefinitions.js"),t("./components/appSwitcherContainer/appSwitcherContainer.js"),t("./components/associationFailuresModule/AssociationFailuresModuleController.js"),t("./components/associationFailuresModule/associationFailuresModule.js"),t("./components/associationFailuresModule/associationFailuresModuleDefinitions.js"),t("./components/auraDark/auraDark.js"),t("./components/auraGlobalHeader/AuraGlobalHeaderController.js"),t("./components/auraGlobalHeader/auraGlobalHeader.js"),t("./components/auraGlobalSideNav/AuraGlobalSideNavController.js"),t("./components/auraGlobalSideNav/auraGlobalSideNav.js"),t("./components/auraPagination/auraPagination.js"),t("./components/autocomplete/AutocompleteController.js"),t("./components/autocomplete/autocomplete.js"),t("./components/batchClientIcon/batchClientIcon.js"),t("./components/batchDeviceIcon/batchDeviceIcon.js"),t("./components/binaryInput/binaryInput.js"),t("./components/calendarButtonArchiveAlert/calendarButtonArchiveAlert.js"),t("./components/calendarButtonArchiveAlert/calendarButtonArchiveAlertController.js"),t("./components/calendarButtonArchiveAlerts/calendarButtonArchiveAlerts.js"),t("./components/calendarButtonArchiveAlerts/calendarButtonArchiveAlertsController.js"),t("./components/calendarViewDay/CalendarViewDayController.js"),t("./components/calendarViewDay/calendarViewDay.js"),t("./components/calendarViewList/CalendarViewListController.js"),t("./components/calendarViewList/calendarViewList.js"),t("./components/calendarViewMonth/CalendarViewMonthController.js"),t("./components/calendarViewMonth/calendarViewMonth.js"),t("./components/calendarViewWeek/CalendarViewWeekController.js"),t("./components/calendarViewWeek/calendarViewWeek.js"),t("./components/carouselModule/CarouselModuleController.js"),t("./components/carouselModule/carouselModule.js"),t("./components/carouselModule/carouselModuleDefinitions.js"),t("./components/channelDistribution/ChannelDistributionController.js"),t("./components/channelDistribution/channelDistribution.js"),t("./components/channelDistributionItem/ChannelDistributionItemController.js"),t("./components/channelDistributionItem/channelDistributionItem.js"),t("./components/channelDistributionModule/ChannelDistributionModuleController.js"),t("./components/channelDistributionModule/channelDistributionModule.js"),t("./components/channelDistributionModule/channelDistributionModuleDefinitions.js"),t("./components/channelDistributionWarning/ChannelDistributionWarningController.js"),t("./components/channelDistributionWarning/channelDistributionWarning.js"),t("./components/channelUtilizationStatusBar/ChannelUtilizationStatusBarController.js"),t("./components/channelUtilizationStatusBar/channelUtilizationStatusBar.js"),t("./components/channelUtilizationStatusBarGroup/ChannelUtilizationStatusBarGroupController.js"),t("./components/channelUtilizationStatusBarGroup/channelUtilizationStatusBarGroup.js"),t("./components/chatSideNav/ChatSideNavController.js"),t("./components/chatSideNav/chatSideNav.js"),t("./components/chunkedLoadProgressBar/chunkedLoadProgressBar.js"),t("./components/clientActivityStatus/clientActivityStatus.js"),t("./components/clientButtonAuthorize/ClientButtonAuthorizeController.js"),t("./components/clientButtonAuthorize/clientButtonAuthorize.js"),t("./components/clientButtonBlock/ClientButtonBlockController.js"),t("./components/clientButtonBlock/clientButtonBlock.js"),t("./components/clientButtonForget/ClientButtonForgetController.js"),t("./components/clientButtonForget/clientButtonForget.js"),t("./components/clientButtonReconnect/ClientButtonReconnectController.js"),t("./components/clientButtonReconnect/clientButtonReconnect.js"),t("./components/clientFreqDistributionModule/ClientFreqDistributionModuleController.js"),t("./components/clientFreqDistributionModule/clientFreqDistributionModule.js"),t("./components/clientFreqDistributionModule/clientFreqDistributionModuleDefinitions.js"),t("./components/clientGraph/ClientGraphController.js"),t("./components/clientGraph/clientGraph.js"),t("./components/clientIcon/ClientIconController.js"),t("./components/clientIcon/clientIcon.js"),t("./components/clientList/ClientListController.js"),t("./components/clientList/clientList.js"),t("./components/collectionButtonDropdown/CollectionButtonDropdownController.js"),t("./components/collectionButtonDropdown/collectionButtonDropdown.js"),t("./components/collectionViewRow/collectionViewRow.js"),t("./components/colorPicker/colorPicker.js"),t("./components/colorToolHsvSpace/colorToolHsvSpace.js"),t("./components/colorToolHueSpace/colorToolHueSpace.js"),t("./components/colorToolPresets/colorToolPresets.js"),t("./components/colorToolSvSpace/colorToolSvSpace.js"),t("./components/configChanged/configChanged.js"),t("./components/countryFlag/countryFlag.js"),t("./components/customPortalPreview/customPortalPreview.js"),t("./components/deviceChannel/DeviceChannelController.js"),t("./components/deviceChannel/deviceChannel.js"),t("./components/deviceChannelGroup/DeviceChannelGroupController.js"),t("./components/deviceChannelGroup/deviceChannelGroup.js"),t("./components/deviceClientsNum/DeviceClientsNumController.js"),t("./components/deviceClientsNum/deviceClientsNum.js"),t("./components/deviceDistributionModule/DeviceDistributionModuleController.js"),t("./components/deviceDistributionModule/deviceDistributionModule.js"),t("./components/deviceDistributionModule/deviceDistributionModuleDefinitions.js"),t("./components/deviceFilter/DeviceFilterController.js"),t("./components/deviceFilter/deviceFilter.js"),t("./components/deviceFilter/deviceFilterDefinitions.js"),t("./components/deviceFilter/deviceFilterWatchDirectiveMixin.js"),t("./components/deviceGraph/DeviceGraphController.js"),t("./components/deviceGraph/deviceGraph.js"),t("./components/deviceList/DeviceListController.js"),t("./components/deviceList/deviceList.js"),t("./components/deviceSatisfactionStatusBar/DeviceSatisfactionStatusBarController.js"),t("./components/deviceSatisfactionStatusBar/deviceSatisfactionStatusBar.js"),t("./components/deviceSearchWithTagsDropdownList/DeviceSearchWithTagsDropdownListController.js"),t("./components/deviceSearchWithTagsDropdownList/deviceSearchWithTagsDropdownList.js"),t("./components/deviceSelectList/DeviceSelectListController.js"),t("./components/deviceSelectList/deviceSelectList.js"),t("./components/deviceUplink/DeviceUplinkController.js"),t("./components/deviceUplink/deviceUplink.js"),t("./components/dhcpOptionForm/DhcpOptionFormController.js"),t("./components/dhcpOptionForm/dhcpOptionForm.js"),t("./components/dhcpOptionList/DhcpOptionListController.js"),t("./components/dhcpOptionList/dhcpOptionList.js"),t("./components/distributionLoadingModule/DistributionLoadingModuleController.js"),t("./components/distributionLoadingModule/distributionLoadingModule.js"),t("./components/dpiApplicationStatistics/DpiApplicationStatisticsController.js"),t("./components/dpiApplicationStatistics/dpiApplicationStatistics.js"),t("./components/dpiApplicationUsageGraph/DpiApplicationUsageGraphController.js"),t("./components/dpiApplicationUsageGraph/dpiApplicationUsageGraph.js"),t("./components/dpiApps/DpiAppsController.js"),t("./components/dpiApps/dpiApps.js"),t("./components/dpiCategoryStatistics/DpiCategoryStatisticsController.js"),t("./components/dpiCategoryStatistics/dpiCategoryStatistics.js"),t("./components/dpiCategoryUsageGraph/DpiCategoryUsageGraphController.js"),t("./components/dpiCategoryUsageGraph/dpiCategoryUsageGraph.js"),t("./components/dpiDrillDown/DpiDrillDownController.js"),t("./components/dpiDrillDown/dpiDrillDown.js"),t("./components/dpiOverview/DpiOverviewController.js"),t("./components/dpiOverview/dpiOverview.js"),t("./components/dpiRestrictionGroup/DpiRestrictionGroupController.js"),t("./components/dpiRestrictionGroup/dpiRestrictionGroup.js"),t("./components/dpiRestrictionNetworkAssignmentsList/DpiRestrictionNetworkAssignmentsListController.js"),t("./components/dpiRestrictionNetworkAssignmentsList/dpiRestrictionNetworkAssignmentsList.js"),t("./components/dpiRestrictionWirelessNetworkAssignmentsList/DpiRestrictionWirelessNetworkAssignmentsListController.js"),t("./components/dpiRestrictionWirelessNetworkAssignmentsList/dpiRestrictionWirelessNetworkAssignmentsList.js"),t("./components/dpiRestrictionsList/DpiRestrictionsListController.js"),t("./components/dpiRestrictionsList/dpiRestrictionsList.js"),t("./components/dpiSelector/DpiSelectorController.js"),t("./components/dpiSelector/dpiSelector.js"),t("./components/dpiUserStatistics/DpiUserStatisticsController.js"),t("./components/dpiUserStatistics/dpiUserStatistics.js"),t("./components/dpiUsers/DpiUsersController.js"),t("./components/dpiUsers/dpiUsers.js"),t("./components/eliteStatusBadge/EliteStatusBadgeController.js"),t("./components/eliteStatusBadge/eliteStatusBadge.js"),t("./components/escHandler/escHandler.js"),t("./components/eventIcon/eventIcon.js"),t("./components/eventMessage/EventMessageController.js"),t("./components/eventMessage/eventMessage.js"),t("./components/eventMessageItem/eventMessageItem.js"),t("./components/eventsCalendar/EventsCalendarController.js"),t("./components/eventsCalendar/eventsCalendar.js"),t("./components/eventsSideNav/EventsSideNavController.js"),t("./components/eventsSideNav/eventsSideNav.js"),t("./components/fallbackVlanSelector/FallbackVlanSelectorController.js"),t("./components/fallbackVlanSelector/fallbackVlanSelector.js"),t("./components/firmwareList/FirmwareListController.js"),t("./components/firmwareList/firmwareList.js"),t("./components/fixCheckUndefined/fixCheckUndefined.js"),t("./components/flexRowModule/FlexRowModuleController.js"),t("./components/flexRowModule/flexRowModule.js"),t("./components/flexRowModule/flexRowModuleDefinitions.js"),t("./components/gatewayDiagram/GatewayDiagramController.js"),t("./components/gatewayDiagram/gatewayDiagram.js"),t("./components/gatewayDiagramKeys/gatewayDiagramKeys.js"),t("./components/healthBarModule/HealthBarModuleController.js"),t("./components/healthBarModule/HealthBarModuleStickyController.js"),t("./components/healthBarModule/healthBarModule.js"),t("./components/healthBarModule/healthBarModuleDefinitions.js"),t("./components/healthBarModule/healthBarModuleSticky.js"),t("./components/hexColorInput/hexColorInput.js"),t("./components/highlightedTextarea/highlightedTextarea.js"),t("./components/ifAdvanceFeatures/ifAdvancedFeatures.js"),t("./components/iframePostMessage/iframePostMessage.js"),t("./components/indeterminateCheckbox/indeterminateCheckbox.js"),t("./components/internetConnectionModule/InternetConnectionModuleController.js"),t("./components/internetConnectionModule/internetConnectionModule.js"),t("./components/internetConnectionModule/internetConnectionModuleDefinitions.js"),t("./components/ipsMapModule/IpsMapModuleController.js"),t("./components/ipsMapModule/ipsMapModule.js"),t("./components/ipsMapModule/ipsMapModuleDefinitions.js"),t("./components/ipsSuppressList/IpsSuppressListController.js"),t("./components/ipsSuppressList/ipsSuppressList.js"),t("./components/linkUsage/linkUsage.js"),t("./components/load/LoadController.js"),t("./components/load/load.js"),t("./components/loadModule/LoadModuleController.js"),t("./components/loadModule/loadModule.js"),t("./components/loadModule/loadModuleDefinitions.js"),t("./components/megaLoadStatus/megaLoadStatus.js"),t("./components/networkFormDetailsNetwork/NetworkFormDetailsNetworkController.js"),t("./components/networkFormDetailsNetwork/networkFormDetailsNetwork.js"),t("./components/networkFormDetailsNetworkV6/NetworkFormDetailsNetworkV6Controller.js"),t("./components/networkFormDetailsNetworkV6/networkFormDetailsNetworkV6.js"),t("./components/networkFormInputPurpose/NetworkFormInputPurposeController.js"),t("./components/networkFormInputPurpose/networkFormInputPurpose.js"),t("./components/networkFormInputRemoteSubnets/NetworkFormInputRemoteSubnetsController.js"),t("./components/networkFormInputRemoteSubnets/networkFormInputRemoteSubnets.js"),t("./components/networkFormLan/NetworkFormLanController.js"),t("./components/networkFormLan/networkFormLan.js"),t("./components/networkFormRemoteUserVpn/NetworkFormRemoteUserVpnController.js"),t("./components/networkFormRemoteUserVpn/networkFormRemoteUserVpn.js"),t("./components/networkFormSiteVpn/NetworkFormSiteVpnController.js"),t("./components/networkFormSiteVpn/networkFormSiteVpn.js"),t("./components/networkFormVlanOnly/NetworkFormVlanOnlyController.js"),t("./components/networkFormVlanOnly/networkFormVlanOnly.js"),t("./components/networkFormVpnClient/NetworkFormVpnClientController.js"),t("./components/networkFormVpnClient/networkFormVpnClient.js"),t("./components/networkFormWan/NetworkFormWanController.js"),t("./components/networkFormWan/networkFormWan.js"),t("./components/networkList/NetworkListController.js"),t("./components/networkList/networkList.js"),t("./components/networkStatusDiagram/NetworkStatusDiagramController.js"),t("./components/networkStatusDiagram/networkStatusDiagram.js"),t("./components/notifyDeviceRequirement/NotifyDeviceRequirementController.js"),t("./components/notifyDeviceRequirement/notifyDeviceRequirement.js"),t("./components/notifyFirmwareRequirement/NotifyFirmwareRequirementController.js"),t("./components/notifyFirmwareRequirement/notifyFirmwareRequirement.js"),t("./components/openTerminal/OpenTerminalController.js"),t("./components/openTerminal/openTerminal.js"),t("./components/overrideCheckbox/overrideCheckbox.js"),t("./components/pendingChangesIcon/pendingChangesIcon.js"),t("./components/pendingChangesList/pendingChangesList.js"),t("./components/portForwardList/PortForwardListController.js"),t("./components/portForwardList/portForwardList.js"),t("./components/portIcon/portIcon.js"),t("./components/portPowerModule/PortPowerModuleController.js"),t("./components/portPowerModule/portPowerModule.js"),t("./components/portPowerModule/portPowerModuleDefinitions.js"),t("./components/portProfileSummary/PortProfileSummaryController.js"),t("./components/portProfileSummary/portProfileSummary.js"),t("./components/portUsageLoadingModule/PortUsageLoadingModuleController.js"),t("./components/portUsageLoadingModule/portUsageLoadingModule.js"),t("./components/portUsageModule/PortUsageModuleController.js"),t("./components/portUsageModule/portUsageModule.js"),t("./components/portUsageModule/portUsageModuleDefinitions.js"),t("./components/powerSaveIcon/powerSaveIcon.js"),t("./components/progress/ProgressController.js"),t("./components/progress/progress.js"),t("./components/propertyPanel/PropertyPanelController.js"),t("./components/propertyPanel/propertyPanel.js"),t("./components/propertyPanelPendingChanges/PropertyPanelPendingChangesController.js"),t("./components/propertyPanelPendingChanges/propertyPanelPendingChanges.js"),t("./components/radiusAcctServerFormGroup/radiusAcctServerFormGroup.js"),t("./components/radiusAuthServerFormGroup/radiusAuthServerFormGroup.js"),t("./components/radiusProfileForm/RadiusProfileFormController.js"),t("./components/radiusProfileForm/radiusProfileForm.js"),t("./components/radiusProfileList/RadiusProfileListController.js"),t("./components/radiusProfileList/radiusProfileList.js"),t("./components/radiusSelector/RadiusSelectorController.js"),t("./components/radiusSelector/radiusSelector.js"),t("./components/releaseNotesSideNav/ReleaseNotesSideNavController.js"),t("./components/releaseNotesSideNav/releaseNotesSideNav.js"),t("./components/repeatableForm/RepeatableFormController.js"),t("./components/repeatableForm/repeatableForm.js"),t("./components/repeatableInput/RepeatableInputController.js"),t("./components/repeatableInput/repeatableInput.js"),t("./components/rfEnvironmentChart/RfEnvironmentChartController.js"),t("./components/rfEnvironmentChart/rfEnvironmentChart.js"),t("./components/rfEnvironmentLegend/RfEnvironmentLegendController.js"),t("./components/rfEnvironmentLegend/rfEnvironmentLegend.js"),t("./components/rfEnvironmentRssiHistogram/RfEnvironmentRssiHistogramController.js"),t("./components/rfEnvironmentRssiHistogram/rfEnvironmentRssiHistogram.js"),t("./components/rfEnvironmentTooltip/rfEnvironmentTooltip.js"),t("./components/routingForm/RoutingFormController.js"),t("./components/routingForm/routingForm.js"),t("./components/routingList/RoutingListController.js"),t("./components/routingList/routingList.js"),t("./components/routingUtilizationLoadingModule/RoutingUtilizationLoadingModuleController.js"),t("./components/routingUtilizationLoadingModule/routingUtilizationLoadingModule.js"),t("./components/routingUtilizationModule/RoutingUtilizationModuleController.js"),t("./components/routingUtilizationModule/routingUtilizationModule.js"),t("./components/routingUtilizationModule/routingUtilizationModuleDefinitions.js"),t("./components/satisfactionStatusBar/satisfactionStatusBar.js"),t("./components/scheduledUpgradeForm/ScheduledUpgradeFormController.js"),t("./components/scheduledUpgradeForm/scheduledUpgradeForm.js"),t("./components/scheduledUpgradesList/ScheduledUpgradesListController.js"),t("./components/scheduledUpgradesList/scheduledUpgradesList.js"),t("./components/screenshotDownload/ScreenshotDownloadController.js"),t("./components/screenshotDownload/screenshotDownload.js"),t("./components/sdnStatus/SdnStatusController.js"),t("./components/sdnStatus/sdnStatus.js"),t("./components/selectDeviceDropdownList/SelectDeviceDropdownListController.js"),t("./components/selectDeviceDropdownList/selectDeviceDropdownList.js"),t("./components/selectEmptyStringOption/selectEmptyStringOption.js"),t("./components/selectSimpleDropdownList/SelectSimpleDropdownListController.js"),t("./components/selectSimpleDropdownList/selectSimpleDropdownList.js"),t("./components/settingsNav/SettingsNavController.js"),t("./components/settingsNav/settingsNav.js"),t("./components/settingsSideNav/settingsSideNav.js"),t("./components/sipEndpointForm/SipEndpointFormController.js"),t("./components/sipEndpointForm/sipEndpointForm.js"),t("./components/sipEndpointList/SipEndpointListController.js"),t("./components/sipEndpointList/sipEndpointList.js"),t("./components/speedTestContainer/SpeedTestContainerController.js"),t("./components/speedTestContainer/speedTestContainer.js"),t("./components/speedTestDonutChart/SpeedTestDonutChartController.js"),t("./components/speedTestDonutChart/speedTestDonutChart.js"),t("./components/speedTestHistory/SpeedTestHistoryController.js"),t("./components/speedTestHistory/speedTestHistory.js"),t("./components/speedTestLineChart/SpeedTestLineChartController.js"),t("./components/speedTestLineChart/speedTestLineChart.js"),t("./components/speedTestModule/SpeedTestModuleController.js"),t("./components/speedTestModule/speedTestModule.js"),t("./components/speedTestModule/speedTestModuleDefinitions.js"),t("./components/speedTestResult/speedTestResult.js"),t("./components/stateSwitcher/StateSwitcherController.js"),t("./components/stateSwitcher/stateSwitcher.js"),t("./components/statsCurrentUsage/StatsCurrentUsageController.js"),t("./components/statsCurrentUsage/statsCurrentUsage.js"),t("./components/statsQuickLook/StatsQuickLookController.js"),t("./components/statsQuickLook/statsQuickLook.js"),t("./components/statsRecentActivities/StatsRecentActivitiesController.js"),t("./components/statsRecentActivities/statsRecentActivities.js"),t("./components/statsWirelessClients/StatsWirelessClientsController.js"),t("./components/statsWirelessClients/statsWirelessClients.js"),t("./components/statusMegaModule/StatusMegaModuleController.js"),t("./components/statusMegaModule/StatusMegaModuleStickyController.js"),t("./components/statusMegaModule/statusMegaModule.js"),t("./components/statusMegaModule/statusMegaModuleDefinitions.js"),t("./components/statusMegaModule/statusMegaModuleSticky.js"),t("./components/stopEvent/stopEvent.js"),t("./components/streamIcon/StreamIconController.js"),t("./components/streamIcon/streamIcon.js"),t("./components/stringMaxLength/stringMaxLength.js"),t("./components/stringToIntegerInput/stringToIntegerInput.js"),t("./components/summaryLoadingModule/SummaryLoadingModuleController.js"),t("./components/summaryLoadingModule/summaryLoadingModule.js"),t("./components/switchDiagram/switchDiagram.js"),t("./components/switchDiagramKeys/SwitchDiagramKeysController.js"),t("./components/switchDiagramKeys/switchDiagramKeys.js"),t("./components/switchPortButtonClearCounters/SwitchPortButtonClearCountersController.js"),t("./components/switchPortButtonClearCounters/switchPortButtonClearCounters.js"),t("./components/switchPortButtonPowerCycle/SwitchPortButtonPowerCycleController.js"),t("./components/switchPortButtonPowerCycle/switchPortButtonPowerCycle.js"),t("./components/switchPortDiagram/switchPortDiagram.js"),t("./components/switchPortTooltip/SwitchPortTooltipController.js"),t("./components/switchPortTooltip/switchPortTooltip.js"),t("./components/switchPortUsage/SwitchPortUsageController.js"),t("./components/switchPortUsage/switchPortUsage.js"),t("./components/switchingSummaryModule/SwitchingSummaryModuleController.js"),t("./components/switchingSummaryModule/switchingSummaryModule.js"),t("./components/switchingSummaryModule/switchingSummaryModuleDefinitions.js"),t("./components/systemConfigSite/SystemConfigSiteController.js"),t("./components/systemConfigSite/systemConfigSite.js"),t("./components/tagList/tagList.js"),t("./components/terminalAdapter/terminalAdapter.js"),t("./components/terminalPanel/TerminalPanelController.js"),t("./components/terminalPanel/terminalPanel.js"),t("./components/terminalStatus/TerminalStatusController.js"),t("./components/terminalStatus/terminalStatus.js"),t("./components/timeRangeFilter/TimeRangeFilterController.js"),t("./components/timeRangeFilter/timeRangeFilter.js"),t("./components/timeRangeFilter/timeRangeFilterDefinitions.js"),t("./components/timeToAssociateModule/TimeToAssociateModuleController.js"),t("./components/timeToAssociateModule/timeToAssociateModule.js"),t("./components/timeToAssociateModule/timeToAssociateModuleDefinitions.js"),t("./components/topDpiItemsLoadingModule/TopDpiItemsLoadingModuleController.js"),t("./components/topDpiItemsLoadingModule/topDpiItemsLoadingModule.js"),t("./components/topDpiItemsModule/TopDpiItemsModuleController.js"),t("./components/topDpiItemsModule/topDpiItemsModule.js"),t("./components/topDpiItemsModule/topDpiItemsModuleDefinitions.js"),t("./components/topItemsLoadingModule/TopItemsLoadingModuleController.js"),t("./components/topItemsLoadingModule/topItemsLoadingModule.js"),t("./components/topItemsModule/TopItemsModuleController.js"),t("./components/topItemsModule/topItemsModule.js"),t("./components/topItemsModule/topItemsModuleDefinitions.js"),t("./components/topItemsWidget/TopItemsWidgetController.js"),t("./components/topItemsWidget/topItemsWidget.js"),t("./components/truthyCheckbox/truthyCheckbox.js"),t("./components/txRateStatusBar/TxRateStatusBarController.js"),t("./components/txRateStatusBar/txRateStatusBar.js"),t("./components/unreadAlerts/unreadAlerts.js"),t("./components/upgradingWhiteoutNotice/upgradingWhiteoutNotice.js"),t("./components/uploadGuestPortalImage/uploadGuestPortalImage.js"),t("./components/usePlaceholder/usePlaceholder.js"),t("./components/validateClientMac/validateClientMac.js"),t("./components/validateDuplicateInCollection/validateDuplicateInCollection.js"),t("./components/validateDuplicates/validateDuplicates.js"),t("./components/validateIpEqualVersion/validateIpEqualVersion.js"),t("./components/validateIpInSubnet/validateIpInSubnet.js"),t("./components/validateIpRange/validateIpRange.js"),t("./components/validateIpv6InSubnet/validateIpv6InSubnet.js"),t("./components/validateIpv6Range/validateIpv6Range.js"),t("./components/validateNetmask/validateNetmask.js"),t("./components/validateNotEqual/validateNotEqual.js"),t("./components/validatePatterns/validatePatterns.js"),t("./components/validatePortRange/validatePortRange.js"),t("./components/vpnListLoadingModule/VpnListLoadingModuleController.js"),t("./components/vpnListLoadingModule/vpnListLoadingModule.js"),t("./components/vpnListModule/VpnListModuleController.js"),t("./components/vpnListModule/vpnListModule.js"),t("./components/vpnListModule/vpnListModuleDefinitions.js"),t("./components/wanHistogram/WanHistogramController.js"),t("./components/wanHistogram/wanHistogram.js"),t("./components/wanHistogramModule/WanHistogramModuleController.js"),t("./components/wanHistogramModule/wanHistogramModule.js"),t("./components/wanHistogramModule/wanHistogramModuleDefinitions.js"),t("./components/wifiAssociationsModule/WifiAssociationsModuleController.js"),t("./components/wifiAssociationsModule/wifiAssociationsModule.js"),t("./components/wifiAssociationsModule/wifiAssociationsModuleDefinitions.js"),t("./components/wifiSummaryModule/WifiSummaryModuleController.js"),t("./components/wifiSummaryModule/wifiSummaryModule.js"),t("./components/wifiSummaryModule/wifiSummaryModuleDefinitions.js"),t("./components/windowPanels/WindowPanelsController.js"),t("./components/windowPanels/windowPanels.js"),t("./components/windowPanelsGroup/WindowPanelsGroupController.js"),t("./components/windowPanelsGroup/windowPanelsGroup.js"),t("./components/wlanHistogram/WlanHistogramController.js"),t("./components/wlanHistogram/wlanHistogram.js"),t("./components/wlanHistogramModule/WlanHistogramModuleController.js"),t("./components/wlanHistogramModule/wlanHistogramModule.js"),t("./components/wlanHistogramModule/wlanHistogramModuleDefinitions.js"),t("./components/yesOrNoBadge/yesOrNoBadge.js"),t("./config/compile.js"),t("./config/dashboard.js"),t("./config/flags.js"),t("./config/frames.js"),t("./config/panel.js"),t("./config/routes.js"),t("./config/sce.js"),t("./config/sideNavPopover.js"),t("./config/states.js"),t("./config/translate.js"),t("./constants/AIR_TIME.js"),t("./constants/AIR_TIME_NODE.js"),t("./constants/AIR_VIEW.js"),t("./constants/ALERTS_DEFAULTS.js"),t("./constants/CAST_RATES.js"),t("./constants/CHAT_DEPARTMENTS.js"),t("./constants/CHAT_LEVELS.js"),t("./constants/CLIENT_DEVICE.js"),t("./constants/CLIENT_FETCH_DEFAULTS.js"),t("./constants/DASHBOARD_SHARED_FILTERS.js"),t("./constants/DEFAULT_WLAN_SCHEDULE.js"),t("./constants/DEVICE_FETCH_DEFAULTS.js"),t("./constants/DEVICE_LED_COLORS.js"),t("./constants/DIRECT_DEVICE_CONNECTION.js"),t("./constants/DIRECT_DEVICE_CONNECTION_STATES.js"),t("./constants/DPI_CATEGORIES.js"),t("./constants/DPI_EVENTS.js"),t("./constants/DPI_TYPES.js"),t("./constants/EASTER_EGGS.js"),t("./constants/EGRESS_RATE_LIMITS.js"),t("./constants/ELEMENTS.js"),t("./constants/ELITE_RMA_REASONS.js"),t("./constants/ENV.js"),t("./constants/EVENTS_DEFAULTS.js"),t("./constants/EVENT_KEYS.js"),t("./constants/EVENT_KEYS_CLASSES_MAP.js"),t("./constants/EVENT_KEYS_LEVELS_MAP.js"),t("./constants/FIREWALL.js"),t("./constants/HOTSPOT2_AUTH_IDS.js"),t("./constants/HOTSPOT2_AUTH_VALUES.js"),t("./constants/HOTSPOT2_EAP_METHODS.js"),t("./constants/HOTSPOT2_NETWORK_TYPES.js"),t("./constants/HOTSPOT2_VENUE_GROUPS.js"),t("./constants/HOTSPOT2_VENUE_TYPES.js"),t("./constants/HOTSPOT_LANGUAGES.js"),t("./constants/HOTSPOT_PAYMENT_FIELDS.js"),t("./constants/HOTSPOT_PORTAL_CUSTOMIZED_DEFAULTS.js"),t("./constants/HOTSPOT_PORTAL_CUSTOMIZED_LANGUAGES_DEFAULTS.js"),t("./constants/HOTSPOT_PORTAL_OVERRIDE_TEMPLATE_HELP.js"),t("./constants/INSIGHTS_DEFAULTS.js"),t("./constants/IPS_CATEGORY_DEFAULTS.js"),t("./constants/IPS_CATEGORY_RESTRICTED.js"),t("./constants/KNOWN_CLIENT_FIELDS.js"),t("./constants/LOG_EVENTS.js"),t("./constants/MAC.js"),t("./constants/NEIGHBOR_SCAN_SETTINGS.js"),t("./constants/NETWORK_PURPOSE.js"),t("./constants/OCCUPANCY_GRAPH.js"),t("./constants/OUI.js"),t("./constants/PORT_PROFILE_DEFAULTS.js"),t("./constants/PROVIDER_CAPABILITIES_SETTINGS.js"),t("./constants/PSU_STATUS_TRANSLATION_KEYS.js"),t("./constants/RADIUS_DEFAULTS.js"),t("./constants/RADIUS_LIMITS.js"),t("./constants/RADIUS_VLAN_OPTIONS.js"),t("./constants/REMOTE_USER_VPN_TYPES.js"),t("./constants/RF_ENVIRONMENT_CHART_OPTIONS.js"),t("./constants/RF_ENVIRONMENT_INTERFERENCE_INTERVAL.js"),t("./constants/RF_ENVIRONMENT_SETTINGS.js"),t("./constants/RMA_PROBLEM_CATEGORIES.js"),t("./constants/SCAN_TYPES.js"),t("./constants/SITE_HEALTH.js"),t("./constants/SNMP_SETTINGS.js"),t("./constants/SPANNING_TREE_PRIORITIES.js"),t("./constants/SPEED_TEST_SETTINGS.js"),t("./constants/SPEED_TEST_STATUSES.js"),t("./constants/STATUS.js"),t("./constants/TERMS_OF_SERVICE_DEFAULT.js"),t("./constants/TOP_ITEM_TYPES.js"),t("./constants/UBNT_CLIENT_TYPES.js"),t("./constants/UPLOAD_SETTINGS.js"),t("./constants/USG_TEMPERATURE_LABELS.js"),t("./constants/US_STATES.js"),t("./constants/UTILIZATION_STATES.js"),t("./constants/VIRTUAL_DEVICES_WHITELIST.js"),t("./constants/WIFI_NG_BASE_CHANNELS.js"),t("./constants/WINDOW_PANEL_GROUPS.js"),t("./constants/WLAN_GROUP_SETTINGS.js"),t("./constants/WLAN_MINRATE_SETTINGS.js"),t("./controllers/AboutController.js"),t("./controllers/AccountVerifyController.js"),t("./controllers/AddClientController.js"),t("./controllers/AddSiteController.js"),t("./controllers/AddSshKeyController.js"),t("./controllers/AdminPasswordChangeSuggestionController.js"),t("./controllers/AlertsController.js"),t("./controllers/AlertsLinkController.js"),t("./controllers/BaseCalendarViewController.js"),t("./controllers/BaseClientListController.js"),t("./controllers/BaseDpiUsersController.js"),t("./controllers/BaseDropdownListController.js"),t("./controllers/BaseListAndFormController.js"),t("./controllers/BaseRepeatableController.js"),t("./controllers/BaseSettingsController.js"),t("./controllers/ClientStatisticsController.js"),t("./controllers/ClientsController.js"),t("./controllers/CloudKeySdCardCheckController.js"),t("./controllers/ConfigureDpiCategoryGraphController.js"),t("./controllers/ConfirmRemoveAdminController.js"),t("./controllers/ConfirmUpgradeOverridesController.js"),t("./controllers/DashboardController.js"),t("./controllers/DevicesController.js"),t("./controllers/DpiController.js"),t("./controllers/DpiRestrictionFormController.js"),t("./controllers/DpiRestrictionGroupFormController.js"),t("./controllers/DpiRestrictionNetworkAssignmentFormController.js"),t("./controllers/EditTextFieldController.js"),t("./controllers/EliteDeviceOfflineController.js"),t("./controllers/EventsController.js"),t("./controllers/EventsLinkController.js"),t("./controllers/ExportSiteController.js"),t("./controllers/FallbackVlanController.js"),t("./controllers/FirewallGroupsCreateController.js"),t("./controllers/HomeController.js"),t("./controllers/Hotspot2NaiRealmListEntryController.js"),t("./controllers/HotspotPackageController.js"),t("./controllers/ImportSiteController.js"),t("./controllers/InsightsController.js"),t("./controllers/InstantRmaController.js"),t("./controllers/IpsListController.js"),t("./controllers/IspThroughputController.js"),t("./controllers/LoginController.js"),t("./controllers/ManageController.js"),t("./controllers/OAuthLoginController.js"),t("./controllers/PerformanceController.js"),t("./controllers/RadiusProfileController.js"),t("./controllers/RadiusRepeatableFormController.js"),t("./controllers/ReleaseNotesController.js"),t("./controllers/ReleaseNotesLinkController.js"),t("./controllers/ReportTermsOfServiceController.js"),t("./controllers/ScheduledUpgradesController.js"),t("./controllers/SettingsController.js"),t("./controllers/SimpleTextEditorController.js"),t("./controllers/SiteController.js"),t("./controllers/SitesOverviewController.js"),t("./controllers/SpeedTestController.js"),t("./controllers/StatisticsController.js"),t("./controllers/StatisticsDebuggingMetricsController.js"),t("./controllers/StatisticsDpiFiltersController.js"),t("./controllers/StatisticsOverviewController.js"),t("./controllers/StatisticsSpeedTestController.js"),t("./controllers/StatisticsSwitchController.js"),t("./controllers/SystemConfigController.js"),t("./controllers/UpdateDataRetentionDaysController.js"),t("./controllers/WebrtcErrorController.js"),t("./controllers/WebrtcFailedController.js"),t("./controllers/WifiClientsModuleController.js"),t("./controllers/WirelessNetworkMacFilterAddBatchController.js"),t("./controllers/WirelessNetworkMacFilterAddClientsController.js"),t("./filters/ampm.js"),t("./filters/bssid.js"),t("./filters/bssidList.js"),t("./filters/channel.js"),t("./filters/channelUtilization.js"),t("./filters/clientRadio.js"),t("./filters/deviceName.js"),t("./filters/duplex.js"),t("./filters/duration.js"),t("./filters/enabled.js"),t("./filters/essid.js"),t("./filters/latency.js"),t("./filters/mac.js"),t("./filters/minutesToMoment.js"),t("./filters/networkPurpose.js"),t("./filters/networkSubnet.js"),t("./filters/networkVlan.js"),t("./filters/orEmpty.js"),t("./filters/portForwardProtocol.js"),t("./filters/portForwardSource.js"),t("./filters/radioProtocol.js"),t("./filters/radioStatsChannelUtilization.js"),t("./filters/range.js"),t("./filters/roaming.js"),t("./filters/rssi.js"),t("./filters/rssiToDbm.js"),t("./filters/rxtx.js"),t("./filters/secondsSince.js"),t("./filters/statsTimeRange.js"),t("./filters/streamEncodingQuality.js"),t("./filters/temperature.js"),t("./filters/timeLeft.js"),t("./filters/translateDpiCategory.js"),t("./filters/truncate.js"),t("./filters/unifiCronDayName.js"),t("./filters/unifiCronMonthName.js"),t("./filters/unifiCronNextExecution.js"),t("./filters/wlanGroup.js"),t("./filters/wlanOverride.js"),t("./filters/yesOrNo.js"),t("./lib/resolve.js"),t("./lib/routeInitializers/initializeIpsList.js"),t("./lib/routeInitializers/initializeIpsOverview.js"),t("./lib/routeInitializers/initializeIpsSettings.js"),t("./lib/routeInitializers/initializeKnownClients.js"),t("./lib/routeInitializers/initializeNeighboringAccessPoints.js"),t("./lib/routeInitializers/initializePastConnections.js"),t("./lib/routeInitializers/initializePastGuestAuthorizations.js"),t("./lib/routeInitializers/initializeStatisticsClient.js"),t("./lib/routeInitializers/initializeStatisticsDpi.js"),t("./lib/routeInitializers/initializeStatisticsOverview.js"),t("./lib/routeInitializers/initializeStatisticsPerformance.js"),t("./lib/routeInitializers/initializeStatisticsSpeedTest.js"),t("./lib/routeInitializers/initializeStatisticsSwitch.js"),t("./lib/routeResolvers/resolveAllowSuperAdminAccess.js"),t("./lib/routeResolvers/resolvePropertyPanel.js"),t("./run/clientCacheSync.js"),t("./run/deviceBatchSync.js"),t("./run/dynamicModules.js"),t("./run/hellojs.js"),t("./run/templateCache.js"),t("./services/Topology.js"),t("./services/accessPointUtils.js"),t("./services/activityReports.js"),t("./services/admins.js"),t("./services/airTime.js"),t("./services/airView.js"),t("./services/airViewColors.js"),t("./services/airViewScanUtils.js"),t("./services/alertFrameUtils.js"),t("./services/alertUtils.js"),t("./services/alerts.js"),t("./services/anomalies.js"),t("./services/builderFactories/GenericDirective.js"),t("./services/builderFactories/SimpleFormDirective.js"),t("./services/channelUtilization.js"),t("./services/clientBatchUtils.js"),t("./services/clientListColumnStore.js"),t("./services/clientStateUtils.js"),t("./services/clientUplinkUtils.js"),t("./services/clientUtils.js"),t("./services/clients.js"),t("./services/cloudKeySdCardCheck.js"),t("./services/collections/AirTimeScanCollection.js"),t("./services/collections/AirViewScanCollection.js"),t("./services/collections/AlertCollection.js"),t("./services/collections/AnomaliesCollection.js"),t("./services/collections/CacheableClientCollection.js"),t("./services/collections/ClientCollection.js"),t("./services/collections/ClientHistoryCollection.js"),t("./services/collections/DashboardStatsCollection.js"),t("./services/collections/DeviceInventoryCollection.js"),t("./services/collections/DhcpOptionCollection.js"),t("./services/collections/DpiAppCollection.js"),t("./services/collections/DpiGroupCollection.js"),t("./services/collections/DynamicDnsCollection.js"),t("./services/collections/DynamicDnsStatsCollection.js"),t("./services/collections/EventCollection.js"),t("./services/collections/FirewallGroupCollection.js"),t("./services/collections/FirewallRuleCollection.js"),t("./services/collections/FirmwareAvailableCollection.js"),t("./services/collections/FirmwareCachedCollection.js"),t("./services/collections/Hotspot2Collection.js"),t("./services/collections/HotspotPackageCollection.js"),t("./services/collections/IpsEventCollection.js"),t("./services/collections/KnownClientCacheCollection.js"),t("./services/collections/KnownClientCollection.js"),t("./services/collections/LoggingCollection.js"),t("./services/collections/NeighboringAccessPointCollection.js"),t("./services/collections/NewClientCollection.js"),t("./services/collections/PastConnectionCollection.js"),t("./services/collections/PastGuestAuthorizationCollection.js"),t("./services/collections/PortCollection.js"),t("./services/collections/PortForwardCollection.js"),t("./services/collections/PortForwardStatsCollection.js"),t("./services/collections/RadiusProfileCollection.js"),t("./services/collections/RadiusUserCollection.js"),t("./services/collections/RealtimeScanCollection.js"),t("./services/collections/RemoteUserVpnCollection.js"),t("./services/collections/RogueKnownAccessPointCollection.js"),t("./services/collections/RoutingCollection.js"),t("./services/collections/RoutingStatsCollection.js"),t("./services/collections/ScheduleTaskCollection.js"),t("./services/collections/SiteAdminCollection.js"),t("./services/collections/StreamCollection.js"),t("./services/collections/StreamDeviceCollection.js"),t("./services/collections/SwitchModuleStatsCollection.js"),t("./services/collections/SwitchPortCollection.js"),t("./services/collections/SwitchStatsPortCollection.js"),t("./services/collections/UserGroupCollection.js"),t("./services/collections/VirtualDeviceCollection.js"),t("./services/collections/WallCollection.js"),t("./services/collections/WlanDpiCollection.js"),t("./services/comparators/BaseComparator.js"),t("./services/comparators/adminsComparator.js"),t("./services/comparators/clientsComparator.js"),t("./services/comparators/ipsAlertsComparator.js"),t("./services/comparators/manageDashboardModuleDefinitionsComparator.js"),t("./services/comparators/manageDevicesComparator.js"),t("./services/comparators/simpleClientsComparator.js"),t("./services/comparators/streamDevicesComparator.js"),t("./services/comparators/unplacedDevicesComparator.js"),t("./services/comparators/wirelessNetworksComparator.js"),t("./services/controllerMixins/activeTabControllerMixin.js"),t("./services/controllerMixins/devicePropertiesPortsControllerMixin.js"),t("./services/controllerMixins/missingModelControllerMixin.js"),t("./services/controllerMixins/panelViewControllerMixin.js"),t("./services/controllerMixins/resolveRepositoryGroupControllerMixin.js"),t("./services/controllerMixins/timeBasedGraphControllerMixin.js"),t("./services/controllerStats.js"),t("./services/controllerWarnings.js"),t("./services/countryNameUtils.js"),t("./services/customPortalPreview.js"),t("./services/d3ChannelTrapezoidPoints.js"),t("./services/d3RfEnvironmentInterferenceScale.js"),t("./services/d3RfEnvironmentRssiInterferenceScale.js"),t("./services/dashboardStats.js"),t("./services/dataConverter.js"),t("./services/dataRetention.js"),t("./services/dataRetentionUpdate.js"),t("./services/dbnameToServiceMapper.js"),t("./services/defaultSiteSshAuthPasswordCheck.js"),t("./services/deviceInventory.js"),t("./services/deviceListColumnStore.js"),t("./services/deviceUpdateWsMessageHandler.js"),t("./services/devices.js"),t("./services/dhcpOptions.js"),t("./services/directDeviceConnectionUtils.js"),t("./services/directDeviceConnector.js"),t("./services/directiveMixins/clientPropertiesConfigureBatchDirectiveMixin.js"),t("./services/directiveMixins/clientPropertiesConfigureWithPendingDirectiveMixin.js"),t("./services/directiveMixins/clientPropertiesPendingActionsDirectiveMixin.js"),t("./services/directiveMixins/devicePropertiesActiveAccordionDirectiveMixin.js"),t("./services/directiveMixins/devicePropertiesConfigureBatchDirectiveMixin.js"),t("./services/directiveMixins/devicePropertiesConfigureWithPendingDirectiveMixin.js"),t("./services/directiveMixins/devicePropertiesPendingActionsDirectiveMixin.js"),t("./services/directiveMixins/devicePropertiesPortsDirectiveMixin.js"),t("./services/directiveMixins/gatewayPropertiesDynamicDnsListDirectiveMixin.js"),t("./services/directiveMixins/sharedAttrsDirectiveMixin.js"),t("./services/dpiApps.js"),t("./services/dpiFilters.js"),t("./services/dpiGroups.js"),t("./services/dpiUtils.js"),t("./services/dynamicDns.js"),t("./services/dynamicDnsStats.js"),t("./services/eliteDevices.js"),t("./services/eventFilterUtils.js"),t("./services/eventFrameUtils.js"),t("./services/events.js"),t("./services/eventsWsMessageHandler.js"),t("./services/factories/AirTimeRawDataParser.js"),t("./services/factories/DirectDeviceCollectionFactory.js"),t("./services/factories/SettingsModelFactory.js"),t("./services/factories/WifiBandChannels.js"),t("./services/factories/WindowPanelsGroup.js"),t("./services/feedback.js"),t("./services/filters/AdminOtherSiteFilter.js"),t("./services/filters/BaseClientFilter.js"),t("./services/filters/CalendarFilter.js"),t("./services/filters/ClientFilter.js"),t("./services/filters/DashboardFilter.js"),t("./services/filters/DeviceFilter.js"),t("./services/filters/FirewallRulesetFilter.js"),t("./services/filters/FirmwareFilter.js"),t("./services/filters/IpsAlertFilter.js"),t("./services/filters/IpsListFilter.js"),t("./services/filters/ManageDashboardModuleDefinitionsFilter.js");t("./services/filters/SimpleModelFilter.js"),t("./services/filters/StreamDeviceFilter.js"),t("./services/firewallGroups.js"),t("./services/firewallRules.js"),t("./services/firewallUtils.js"),t("./services/firmware.js"),t("./services/firmwareAvailable.js"),t("./services/firmwareUtils.js"),t("./services/formUtils.js"),t("./services/gatewayUtils.js"),t("./services/gateways.js"),t("./services/geometryUtils.js"),t("./services/hotspot2.js"),t("./services/hotspotOverrides.js"),t("./services/hotspotPackages.js"),t("./services/imageUrlUtils.js"),t("./services/ipsEvents.js"),t("./services/ipsEventsUtils.js"),t("./services/ipsFilters.js"),t("./services/ipsFirewallUtils.js"),t("./services/knownClients.js"),t("./services/knownClientsCache.js"),t("./services/logsWsMessageHandler.js"),t("./services/mapLabelOptionStore.js"),t("./services/mixins/modelToCollectionMixin.js"),t("./services/modelUtils.js"),t("./services/models/AirTimeScanModel.js"),t("./services/models/AirViewScanModel.js"),t("./services/models/AlertModel.js"),t("./services/models/BaseClientModel.js"),t("./services/models/BatchClientModel.js"),t("./services/models/ChannelUtilizationModel.js"),t("./services/models/ClientHistoryModel.js"),t("./services/models/ClientMgrModel.js"),t("./services/models/ClientModel.js"),t("./services/models/ConfigMgrModel.js"),t("./services/models/ControllerWarningsModel.js"),t("./services/models/DeviceInventoryModel.js"),t("./services/models/DhcpOptionModel.js"),t("./services/models/DpiAppModel.js"),t("./services/models/DpiGroupModel.js"),t("./services/models/DynamicDnsModel.js"),t("./services/models/DynamicDnsStatsModel.js"),t("./services/models/EventMgrModel.js"),t("./services/models/EventModel.js"),t("./services/models/FirewallGroupModel.js"),t("./services/models/FirewallRuleModel.js"),t("./services/models/FirmwareModel.js"),t("./services/models/FwUpdateModel.js"),t("./services/models/HealthModel.js"),t("./services/models/Hotspot2Model.js"),t("./services/models/HotspotOverridesModel.js"),t("./services/models/IpsEventModel.js"),t("./services/models/KnownClientModel.js"),t("./services/models/LoggingModel.js"),t("./services/models/NeighboringAccessPointModel.js"),t("./services/models/PastConnectionModel.js"),t("./services/models/PastGuestAuthorizationModel.js"),t("./services/models/PortForwardModel.js"),t("./services/models/PortForwardStatsModel.js"),t("./services/models/PortModel.js"),t("./services/models/RadioAiPlanModel.js"),t("./services/models/RadiusProfileModel.js"),t("./services/models/RadiusUserModel.js"),t("./services/models/RemoteUserVpnModel.js"),t("./services/models/ReporterMgrModel.js"),t("./services/models/RogueKnownAccessPointModel.js"),t("./services/models/RoutingModel.js"),t("./services/models/RoutingStatsModel.js"),t("./services/models/ScanMatrixModel.js"),t("./services/models/ScheduleTaskModel.js"),t("./services/models/SettingsGuestAccessModel.js"),t("./services/models/SiteAdminModel.js"),t("./services/models/StatisticsMgrModel.js"),t("./services/models/StreamDeviceModel.js"),t("./services/models/StreamMgrModel.js"),t("./services/models/StreamModel.js"),t("./services/models/SwitchModuleStatsModel.js"),t("./services/models/SwitchPortModel.js"),t("./services/models/SwitchStatsPortModel.js"),t("./services/models/UnreadAlertsModel.js"),t("./services/models/UserGroupModel.js"),t("./services/models/VerifyMgrModel.js"),t("./services/models/VirtualDeviceModel.js"),t("./services/models/WallModel.js"),t("./services/models/WlanHistogramModel.js"),t("./services/models/WlanModuleStatsModel.js"),t("./services/neighboringAccessPoints.js"),t("./services/networkUtils.js"),t("./services/networks.js"),t("./services/notifications.js"),t("./services/objectUtils.js"),t("./services/onOpenWarnings.js"),t("./services/ouiIcons.js"),t("./services/partialDevices.js"),t("./services/pastConnections.js"),t("./services/pastGuestAuthorizations.js"),t("./services/portForwardStats.js"),t("./services/portForwards.js"),t("./services/postMessage.js"),t("./services/progress.js"),t("./services/propertyPanel.js"),t("./services/propertyPanelHelper.js"),t("./services/radius.js"),t("./services/radiusUsers.js"),t("./services/radiusUtils.js"),t("./services/releaseNotes.js"),t("./services/releaseNotesFrameUtils.js"),t("./services/remoteUserVpn.js"),t("./services/resolvers/manageResolver.js"),t("./services/resolvers/wsLogsRegisterMessageHandlers.js"),t("./services/resolvers/wsRegisterMessageHandlers.js"),t("./services/resolvers/wsResolver.js"),t("./services/rfEnvironment.js"),t("./services/rfEnvironmentChart.js"),t("./services/rogueKnownAccessPoints.js"),t("./services/routing.js"),t("./services/routingStats.js"),t("./services/scheduleConverter.js"),t("./services/scheduledUpgrades.js"),t("./services/selectedDpiApplications.js"),t("./services/selectedDpiCategories.js"),t("./services/settings.js"),t("./services/settingsUtils.js"),t("./services/siteAdminUtils.js"),t("./services/siteDpi.js"),t("./services/siteStatus.js"),t("./services/speedTest.js"),t("./services/speedTestReports.js"),t("./services/statistics.js"),t("./services/statisticsParams.js"),t("./services/statsFeatures.js"),t("./services/statsUtils.js"),t("./services/streams.js"),t("./services/superSiteEventsWsMessageHandler.js"),t("./services/switchModuleStats.js"),t("./services/switchPropertiesPortListColumnStore.js"),t("./services/switchReports.js"),t("./services/switchStats.js"),t("./services/switchUtils.js"),t("./services/switches.js"),t("./services/syncWsMessageHandler.js"),t("./services/systemConfig.js"),t("./services/treeUtils.js"),t("./services/txRateStatus.js"),t("./services/updateController.js"),t("./services/userDpi.js"),t("./services/userGroups.js"),t("./services/utilizationUtils.js"),t("./services/virtualDevices.js"),t("./services/walls.js"),t("./services/windowPanels.js"),t("./services/wirelessNetworkUtils.js"),t("./services/wlanDpi.js"),t("./services/wlanModuleStats.js"),t("./services/ws/wsLogsConnector.js"),t("./services/wsLogsAdapter.js"),t("./values/APP_EVENTS.js"),window.unifiIsUnit||angular.bootstrap(document,["app-unifi-manage"])},{"../base-unifi-dashboard/main":1340,"../base-unifi-device/main":1420,"../base-unifi-hotspot/main":1481,"../base-unifi-maintenance/main":1492,"../base-unifi-overview/main":1504,"../base-unifi-webrtc-controller/main":1510,"../shared-unifi-manage/main":1563,"../shared-unifi-panel/main":1582,"../shared-unifi-store/main":1597,"../unifi-terminal/main":1613,"../unifi-zopim/main":1624,"./components/accordionGroupState/accordionGroupState.js":82,"./components/activityGraph/ActivityGraphController.js":83,"./components/activityGraph/activityGraph.js":84,"./components/adminForm/AdminFormController.js":86,"./components/adminForm/adminForm.js":87,"./components/adminList/AdminListController.js":89,"./components/adminList/adminList.js":90,"./components/alertsCalendar/AlertsCalendarController.js":92,"./components/alertsCalendar/alertsCalendar.js":93,"./components/alertsSideNav/AlertsSideNavController.js":95,"./components/alertsSideNav/alertsSideNav.js":96,"./components/anomaliesModule/AnomaliesModuleController.js":98,"./components/anomaliesModule/anomaliesModule.js":99,"./components/anomaliesModule/anomaliesModuleDefinitions.js":101,"./components/apStatisticsModule/ApStatisticsModuleController.js":102,"./components/apStatisticsModule/apStatisticsModule.js":103,"./components/apStatisticsModule/apStatisticsModuleDefinitions.js":105,"./components/appSwitcherContainer/appSwitcherContainer.js":106,"./components/associationFailuresModule/AssociationFailuresModuleController.js":108,"./components/associationFailuresModule/associationFailuresModule.js":109,"./components/associationFailuresModule/associationFailuresModuleDefinitions.js":111,"./components/auraDark/auraDark.js":112,"./components/auraGlobalHeader/AuraGlobalHeaderController.js":113,"./components/auraGlobalHeader/auraGlobalHeader.js":114,"./components/auraGlobalSideNav/AuraGlobalSideNavController.js":116,"./components/auraGlobalSideNav/auraGlobalSideNav.js":117,"./components/auraPagination/auraPagination.js":119,"./components/autocomplete/AutocompleteController.js":121,"./components/autocomplete/autocomplete.js":122,"./components/batchClientIcon/batchClientIcon.js":124,"./components/batchDeviceIcon/batchDeviceIcon.js":126,"./components/binaryInput/binaryInput.js":128,"./components/calendarButtonArchiveAlert/calendarButtonArchiveAlert.js":130,"./components/calendarButtonArchiveAlert/calendarButtonArchiveAlertController.js":132,"./components/calendarButtonArchiveAlerts/calendarButtonArchiveAlerts.js":133,"./components/calendarButtonArchiveAlerts/calendarButtonArchiveAlertsController.js":135,"./components/calendarViewDay/CalendarViewDayController.js":136,"./components/calendarViewDay/calendarViewDay.js":137,"./components/calendarViewList/CalendarViewListController.js":139,"./components/calendarViewList/calendarViewList.js":140,"./components/calendarViewMonth/CalendarViewMonthController.js":142,"./components/calendarViewMonth/calendarViewMonth.js":143,"./components/calendarViewWeek/CalendarViewWeekController.js":145,"./components/calendarViewWeek/calendarViewWeek.js":146,"./components/carouselModule/CarouselModuleController.js":148,"./components/carouselModule/carouselModule.js":149,"./components/carouselModule/carouselModuleDefinitions.js":151,"./components/channelDistribution/ChannelDistributionController.js":152,"./components/channelDistribution/channelDistribution.js":153,"./components/channelDistributionItem/ChannelDistributionItemController.js":155,"./components/channelDistributionItem/channelDistributionItem.js":156,"./components/channelDistributionModule/ChannelDistributionModuleController.js":158,"./components/channelDistributionModule/channelDistributionModule.js":159,"./components/channelDistributionModule/channelDistributionModuleDefinitions.js":161,"./components/channelDistributionWarning/ChannelDistributionWarningController.js":162,"./components/channelDistributionWarning/channelDistributionWarning.js":163,"./components/channelUtilizationStatusBar/ChannelUtilizationStatusBarController.js":165,"./components/channelUtilizationStatusBar/channelUtilizationStatusBar.js":166,"./components/channelUtilizationStatusBarGroup/ChannelUtilizationStatusBarGroupController.js":168,"./components/channelUtilizationStatusBarGroup/channelUtilizationStatusBarGroup.js":169,"./components/chatSideNav/ChatSideNavController.js":171,"./components/chatSideNav/chatSideNav.js":172,"./components/chunkedLoadProgressBar/chunkedLoadProgressBar.js":174,"./components/clientActivityStatus/clientActivityStatus.js":176,"./components/clientButtonAuthorize/ClientButtonAuthorizeController.js":178,"./components/clientButtonAuthorize/clientButtonAuthorize.js":179,"./components/clientButtonBlock/ClientButtonBlockController.js":181,"./components/clientButtonBlock/clientButtonBlock.js":182,"./components/clientButtonForget/ClientButtonForgetController.js":184,"./components/clientButtonForget/clientButtonForget.js":185,"./components/clientButtonReconnect/ClientButtonReconnectController.js":187,"./components/clientButtonReconnect/clientButtonReconnect.js":188,"./components/clientFreqDistributionModule/ClientFreqDistributionModuleController.js":190,"./components/clientFreqDistributionModule/clientFreqDistributionModule.js":191,"./components/clientFreqDistributionModule/clientFreqDistributionModuleDefinitions.js":193,"./components/clientGraph/ClientGraphController.js":194,"./components/clientGraph/clientGraph.js":195,"./components/clientIcon/ClientIconController.js":197,"./components/clientIcon/clientIcon.js":198,"./components/clientList/ClientListController.js":200,"./components/clientList/clientList.js":201,"./components/collectionButtonDropdown/CollectionButtonDropdownController.js":203,"./components/collectionButtonDropdown/collectionButtonDropdown.js":204,"./components/collectionViewRow/collectionViewRow.js":206,"./components/colorPicker/colorPicker.js":207,"./components/colorToolHsvSpace/colorToolHsvSpace.js":209,"./components/colorToolHueSpace/colorToolHueSpace.js":211,"./components/colorToolPresets/colorToolPresets.js":213,"./components/colorToolSvSpace/colorToolSvSpace.js":215,"./components/configChanged/configChanged.js":217,"./components/countryFlag/countryFlag.js":219,"./components/customPortalPreview/customPortalPreview.js":221,"./components/deviceChannel/DeviceChannelController.js":223,"./components/deviceChannel/deviceChannel.js":224,"./components/deviceChannelGroup/DeviceChannelGroupController.js":226,"./components/deviceChannelGroup/deviceChannelGroup.js":227,"./components/deviceClientsNum/DeviceClientsNumController.js":229,"./components/deviceClientsNum/deviceClientsNum.js":230,"./components/deviceDistributionModule/DeviceDistributionModuleController.js":232,"./components/deviceDistributionModule/deviceDistributionModule.js":233,"./components/deviceDistributionModule/deviceDistributionModuleDefinitions.js":235,"./components/deviceFilter/DeviceFilterController.js":236,"./components/deviceFilter/deviceFilter.js":237,"./components/deviceFilter/deviceFilterDefinitions.js":239,"./components/deviceFilter/deviceFilterWatchDirectiveMixin.js":240,"./components/deviceGraph/DeviceGraphController.js":241,"./components/deviceGraph/deviceGraph.js":242,"./components/deviceList/DeviceListController.js":244,"./components/deviceList/deviceList.js":245,"./components/deviceSatisfactionStatusBar/DeviceSatisfactionStatusBarController.js":247,"./components/deviceSatisfactionStatusBar/deviceSatisfactionStatusBar.js":248,"./components/deviceSearchWithTagsDropdownList/DeviceSearchWithTagsDropdownListController.js":250,"./components/deviceSearchWithTagsDropdownList/deviceSearchWithTagsDropdownList.js":251,"./components/deviceSelectList/DeviceSelectListController.js":253,"./components/deviceSelectList/deviceSelectList.js":254,"./components/deviceUplink/DeviceUplinkController.js":256,"./components/deviceUplink/deviceUplink.js":257,"./components/dhcpOptionForm/DhcpOptionFormController.js":259,"./components/dhcpOptionForm/dhcpOptionForm.js":260,"./components/dhcpOptionList/DhcpOptionListController.js":262,"./components/dhcpOptionList/dhcpOptionList.js":263,"./components/distributionLoadingModule/DistributionLoadingModuleController.js":265,"./components/distributionLoadingModule/distributionLoadingModule.js":266,"./components/dpiApplicationStatistics/DpiApplicationStatisticsController.js":268,"./components/dpiApplicationStatistics/dpiApplicationStatistics.js":269,"./components/dpiApplicationUsageGraph/DpiApplicationUsageGraphController.js":271,"./components/dpiApplicationUsageGraph/dpiApplicationUsageGraph.js":272,"./components/dpiApps/DpiAppsController.js":274,"./components/dpiApps/dpiApps.js":275,"./components/dpiCategoryStatistics/DpiCategoryStatisticsController.js":277,"./components/dpiCategoryStatistics/dpiCategoryStatistics.js":278,"./components/dpiCategoryUsageGraph/DpiCategoryUsageGraphController.js":280,"./components/dpiCategoryUsageGraph/dpiCategoryUsageGraph.js":281,"./components/dpiDrillDown/DpiDrillDownController.js":283,"./components/dpiDrillDown/dpiDrillDown.js":284,"./components/dpiOverview/DpiOverviewController.js":286,"./components/dpiOverview/dpiOverview.js":287,"./components/dpiRestrictionGroup/DpiRestrictionGroupController.js":289,"./components/dpiRestrictionGroup/dpiRestrictionGroup.js":290,"./components/dpiRestrictionNetworkAssignmentsList/DpiRestrictionNetworkAssignmentsListController.js":292,"./components/dpiRestrictionNetworkAssignmentsList/dpiRestrictionNetworkAssignmentsList.js":293,"./components/dpiRestrictionWirelessNetworkAssignmentsList/DpiRestrictionWirelessNetworkAssignmentsListController.js":295,"./components/dpiRestrictionWirelessNetworkAssignmentsList/dpiRestrictionWirelessNetworkAssignmentsList.js":296,"./components/dpiRestrictionsList/DpiRestrictionsListController.js":298,"./components/dpiRestrictionsList/dpiRestrictionsList.js":299,"./components/dpiSelector/DpiSelectorController.js":301,"./components/dpiSelector/dpiSelector.js":302,"./components/dpiUserStatistics/DpiUserStatisticsController.js":304,"./components/dpiUserStatistics/dpiUserStatistics.js":305,"./components/dpiUsers/DpiUsersController.js":307,"./components/dpiUsers/dpiUsers.js":308,"./components/eliteStatusBadge/EliteStatusBadgeController.js":310,"./components/eliteStatusBadge/eliteStatusBadge.js":311,"./components/escHandler/escHandler.js":313,"./components/eventIcon/eventIcon.js":314,"./components/eventMessage/EventMessageController.js":315,"./components/eventMessage/eventMessage.js":316,"./components/eventMessageItem/eventMessageItem.js":317,"./components/eventsCalendar/EventsCalendarController.js":319,"./components/eventsCalendar/eventsCalendar.js":320,"./components/eventsSideNav/EventsSideNavController.js":322,"./components/eventsSideNav/eventsSideNav.js":323,"./components/fallbackVlanSelector/FallbackVlanSelectorController.js":325,"./components/fallbackVlanSelector/fallbackVlanSelector.js":326,"./components/firmwareList/FirmwareListController.js":328,"./components/firmwareList/firmwareList.js":329,"./components/fixCheckUndefined/fixCheckUndefined.js":331,"./components/flexRowModule/FlexRowModuleController.js":332,"./components/flexRowModule/flexRowModule.js":333,"./components/flexRowModule/flexRowModuleDefinitions.js":335,"./components/gatewayDiagram/GatewayDiagramController.js":336,"./components/gatewayDiagram/gatewayDiagram.js":337,"./components/gatewayDiagramKeys/gatewayDiagramKeys.js":339,"./components/healthBarModule/HealthBarModuleController.js":341,"./components/healthBarModule/HealthBarModuleStickyController.js":342,"./components/healthBarModule/healthBarModule.js":343,"./components/healthBarModule/healthBarModuleDefinitions.js":345,"./components/healthBarModule/healthBarModuleSticky.js":346,"./components/hexColorInput/hexColorInput.js":348,"./components/highlightedTextarea/highlightedTextarea.js":349,"./components/ifAdvanceFeatures/ifAdvancedFeatures.js":350,"./components/iframePostMessage/iframePostMessage.js":351,"./components/indeterminateCheckbox/indeterminateCheckbox.js":352,"./components/internetConnectionModule/InternetConnectionModuleController.js":353,"./components/internetConnectionModule/internetConnectionModule.js":354,"./components/internetConnectionModule/internetConnectionModuleDefinitions.js":356,"./components/ipsMapModule/IpsMapModuleController.js":357,"./components/ipsMapModule/ipsMapModule.js":358,"./components/ipsMapModule/ipsMapModuleDefinitions.js":360,"./components/ipsSuppressList/IpsSuppressListController.js":361,"./components/ipsSuppressList/ipsSuppressList.js":362,"./components/linkUsage/linkUsage.js":364,"./components/load/LoadController.js":366,"./components/load/load.js":367,"./components/loadModule/LoadModuleController.js":369,"./components/loadModule/loadModule.js":370,"./components/loadModule/loadModuleDefinitions.js":372,"./components/megaLoadStatus/megaLoadStatus.js":373,"./components/networkFormDetailsNetwork/NetworkFormDetailsNetworkController.js":375,"./components/networkFormDetailsNetwork/networkFormDetailsNetwork.js":376,"./components/networkFormDetailsNetworkV6/NetworkFormDetailsNetworkV6Controller.js":378,"./components/networkFormDetailsNetworkV6/networkFormDetailsNetworkV6.js":379,"./components/networkFormInputPurpose/NetworkFormInputPurposeController.js":381,"./components/networkFormInputPurpose/networkFormInputPurpose.js":382,"./components/networkFormInputRemoteSubnets/NetworkFormInputRemoteSubnetsController.js":384,"./components/networkFormInputRemoteSubnets/networkFormInputRemoteSubnets.js":385,"./components/networkFormLan/NetworkFormLanController.js":387,"./components/networkFormLan/networkFormLan.js":388,"./components/networkFormRemoteUserVpn/NetworkFormRemoteUserVpnController.js":390,"./components/networkFormRemoteUserVpn/networkFormRemoteUserVpn.js":391,"./components/networkFormSiteVpn/NetworkFormSiteVpnController.js":393,"./components/networkFormSiteVpn/networkFormSiteVpn.js":394,"./components/networkFormVlanOnly/NetworkFormVlanOnlyController.js":396,"./components/networkFormVlanOnly/networkFormVlanOnly.js":397,"./components/networkFormVpnClient/NetworkFormVpnClientController.js":399,"./components/networkFormVpnClient/networkFormVpnClient.js":400,"./components/networkFormWan/NetworkFormWanController.js":402,"./components/networkFormWan/networkFormWan.js":403,"./components/networkList/NetworkListController.js":405,"./components/networkList/networkList.js":406,"./components/networkStatusDiagram/NetworkStatusDiagramController.js":408,"./components/networkStatusDiagram/networkStatusDiagram.js":409,"./components/notifyDeviceRequirement/NotifyDeviceRequirementController.js":411,"./components/notifyDeviceRequirement/notifyDeviceRequirement.js":412,"./components/notifyFirmwareRequirement/NotifyFirmwareRequirementController.js":414,"./components/notifyFirmwareRequirement/notifyFirmwareRequirement.js":415,"./components/openTerminal/OpenTerminalController.js":417,"./components/openTerminal/openTerminal.js":418,"./components/overrideCheckbox/overrideCheckbox.js":419,"./components/pendingChangesIcon/pendingChangesIcon.js":420,"./components/pendingChangesList/pendingChangesList.js":422,"./components/portForwardList/PortForwardListController.js":424,"./components/portForwardList/portForwardList.js":425,"./components/portIcon/portIcon.js":427,"./components/portPowerModule/PortPowerModuleController.js":429,"./components/portPowerModule/portPowerModule.js":430,"./components/portPowerModule/portPowerModuleDefinitions.js":432,"./components/portProfileSummary/PortProfileSummaryController.js":433,"./components/portProfileSummary/portProfileSummary.js":434,"./components/portUsageLoadingModule/PortUsageLoadingModuleController.js":436,"./components/portUsageLoadingModule/portUsageLoadingModule.js":437,"./components/portUsageModule/PortUsageModuleController.js":439,"./components/portUsageModule/portUsageModule.js":440,"./components/portUsageModule/portUsageModuleDefinitions.js":442,"./components/powerSaveIcon/powerSaveIcon.js":443,"./components/progress/ProgressController.js":445,"./components/progress/progress.js":446,"./components/propertyPanel/PropertyPanelController.js":448,"./components/propertyPanel/propertyPanel.js":449,"./components/propertyPanelPendingChanges/PropertyPanelPendingChangesController.js":451,"./components/propertyPanelPendingChanges/propertyPanelPendingChanges.js":452,"./components/radiusAcctServerFormGroup/radiusAcctServerFormGroup.js":454,"./components/radiusAuthServerFormGroup/radiusAuthServerFormGroup.js":456,"./components/radiusProfileForm/RadiusProfileFormController.js":458,"./components/radiusProfileForm/radiusProfileForm.js":459,"./components/radiusProfileList/RadiusProfileListController.js":461,"./components/radiusProfileList/radiusProfileList.js":462,"./components/radiusSelector/RadiusSelectorController.js":464,"./components/radiusSelector/radiusSelector.js":465,"./components/releaseNotesSideNav/ReleaseNotesSideNavController.js":467,"./components/releaseNotesSideNav/releaseNotesSideNav.js":468,"./components/repeatableForm/RepeatableFormController.js":470,"./components/repeatableForm/repeatableForm.js":471,"./components/repeatableInput/RepeatableInputController.js":472,"./components/repeatableInput/repeatableInput.js":473,"./components/rfEnvironmentChart/RfEnvironmentChartController.js":474,"./components/rfEnvironmentChart/rfEnvironmentChart.js":475,"./components/rfEnvironmentLegend/RfEnvironmentLegendController.js":477,"./components/rfEnvironmentLegend/rfEnvironmentLegend.js":478,"./components/rfEnvironmentRssiHistogram/RfEnvironmentRssiHistogramController.js":480,"./components/rfEnvironmentRssiHistogram/rfEnvironmentRssiHistogram.js":481,"./components/rfEnvironmentTooltip/rfEnvironmentTooltip.js":483,"./components/routingForm/RoutingFormController.js":485,"./components/routingForm/routingForm.js":486,"./components/routingList/RoutingListController.js":488,"./components/routingList/routingList.js":489,"./components/routingUtilizationLoadingModule/RoutingUtilizationLoadingModuleController.js":491,"./components/routingUtilizationLoadingModule/routingUtilizationLoadingModule.js":492,"./components/routingUtilizationModule/RoutingUtilizationModuleController.js":494,"./components/routingUtilizationModule/routingUtilizationModule.js":495,"./components/routingUtilizationModule/routingUtilizationModuleDefinitions.js":497,"./components/satisfactionStatusBar/satisfactionStatusBar.js":498,"./components/scheduledUpgradeForm/ScheduledUpgradeFormController.js":500,"./components/scheduledUpgradeForm/scheduledUpgradeForm.js":501,"./components/scheduledUpgradesList/ScheduledUpgradesListController.js":503,"./components/scheduledUpgradesList/scheduledUpgradesList.js":504,"./components/screenshotDownload/ScreenshotDownloadController.js":506,"./components/screenshotDownload/screenshotDownload.js":507,"./components/sdnStatus/SdnStatusController.js":508,"./components/sdnStatus/sdnStatus.js":509,"./components/selectDeviceDropdownList/SelectDeviceDropdownListController.js":511,"./components/selectDeviceDropdownList/selectDeviceDropdownList.js":512,"./components/selectEmptyStringOption/selectEmptyStringOption.js":514,"./components/selectSimpleDropdownList/SelectSimpleDropdownListController.js":515,"./components/selectSimpleDropdownList/selectSimpleDropdownList.js":516,"./components/settingsNav/SettingsNavController.js":518,"./components/settingsNav/settingsNav.js":519,"./components/settingsSideNav/settingsSideNav.js":521,"./components/sipEndpointForm/SipEndpointFormController.js":523,"./components/sipEndpointForm/sipEndpointForm.js":524,"./components/sipEndpointList/SipEndpointListController.js":526,"./components/sipEndpointList/sipEndpointList.js":527,"./components/speedTestContainer/SpeedTestContainerController.js":529,"./components/speedTestContainer/speedTestContainer.js":530,"./components/speedTestDonutChart/SpeedTestDonutChartController.js":532,"./components/speedTestDonutChart/speedTestDonutChart.js":533,"./components/speedTestHistory/SpeedTestHistoryController.js":535,"./components/speedTestHistory/speedTestHistory.js":536,"./components/speedTestLineChart/SpeedTestLineChartController.js":538,"./components/speedTestLineChart/speedTestLineChart.js":539,"./components/speedTestModule/SpeedTestModuleController.js":541,"./components/speedTestModule/speedTestModule.js":542,"./components/speedTestModule/speedTestModuleDefinitions.js":544,"./components/speedTestResult/speedTestResult.js":545,"./components/stateSwitcher/StateSwitcherController.js":547,"./components/stateSwitcher/stateSwitcher.js":548,"./components/statsCurrentUsage/StatsCurrentUsageController.js":550,"./components/statsCurrentUsage/statsCurrentUsage.js":551,"./components/statsQuickLook/StatsQuickLookController.js":553,"./components/statsQuickLook/statsQuickLook.js":554,"./components/statsRecentActivities/StatsRecentActivitiesController.js":556,"./components/statsRecentActivities/statsRecentActivities.js":557,"./components/statsWirelessClients/StatsWirelessClientsController.js":559,"./components/statsWirelessClients/statsWirelessClients.js":560,"./components/statusMegaModule/StatusMegaModuleController.js":562,"./components/statusMegaModule/StatusMegaModuleStickyController.js":563,"./components/statusMegaModule/statusMegaModule.js":564,"./components/statusMegaModule/statusMegaModuleDefinitions.js":566,"./components/statusMegaModule/statusMegaModuleSticky.js":567,"./components/stopEvent/stopEvent.js":569,"./components/streamIcon/StreamIconController.js":570,"./components/streamIcon/streamIcon.js":571,"./components/stringMaxLength/stringMaxLength.js":573,"./components/stringToIntegerInput/stringToIntegerInput.js":574,"./components/summaryLoadingModule/SummaryLoadingModuleController.js":575,"./components/summaryLoadingModule/summaryLoadingModule.js":576,"./components/switchDiagram/switchDiagram.js":578,"./components/switchDiagramKeys/SwitchDiagramKeysController.js":580,"./components/switchDiagramKeys/switchDiagramKeys.js":581,"./components/switchPortButtonClearCounters/SwitchPortButtonClearCountersController.js":583,"./components/switchPortButtonClearCounters/switchPortButtonClearCounters.js":584,"./components/switchPortButtonPowerCycle/SwitchPortButtonPowerCycleController.js":586,"./components/switchPortButtonPowerCycle/switchPortButtonPowerCycle.js":587,"./components/switchPortDiagram/switchPortDiagram.js":589,"./components/switchPortTooltip/SwitchPortTooltipController.js":591,"./components/switchPortTooltip/switchPortTooltip.js":592,"./components/switchPortUsage/SwitchPortUsageController.js":594,"./components/switchPortUsage/switchPortUsage.js":595,"./components/switchingSummaryModule/SwitchingSummaryModuleController.js":597,"./components/switchingSummaryModule/switchingSummaryModule.js":598,"./components/switchingSummaryModule/switchingSummaryModuleDefinitions.js":600,"./components/systemConfigSite/SystemConfigSiteController.js":601,"./components/systemConfigSite/systemConfigSite.js":602,"./components/tagList/tagList.js":604,"./components/terminalAdapter/terminalAdapter.js":606,"./components/terminalPanel/TerminalPanelController.js":608,"./components/terminalPanel/terminalPanel.js":609,"./components/terminalStatus/TerminalStatusController.js":611,"./components/terminalStatus/terminalStatus.js":612,"./components/timeRangeFilter/TimeRangeFilterController.js":614,"./components/timeRangeFilter/timeRangeFilter.js":615,"./components/timeRangeFilter/timeRangeFilterDefinitions.js":617,"./components/timeToAssociateModule/TimeToAssociateModuleController.js":618,"./components/timeToAssociateModule/timeToAssociateModule.js":619,"./components/timeToAssociateModule/timeToAssociateModuleDefinitions.js":621,"./components/topDpiItemsLoadingModule/TopDpiItemsLoadingModuleController.js":622,"./components/topDpiItemsLoadingModule/topDpiItemsLoadingModule.js":623,"./components/topDpiItemsModule/TopDpiItemsModuleController.js":625,"./components/topDpiItemsModule/topDpiItemsModule.js":626,"./components/topDpiItemsModule/topDpiItemsModuleDefinitions.js":628,"./components/topItemsLoadingModule/TopItemsLoadingModuleController.js":629,"./components/topItemsLoadingModule/topItemsLoadingModule.js":630,"./components/topItemsModule/TopItemsModuleController.js":632,"./components/topItemsModule/topItemsModule.js":633,"./components/topItemsModule/topItemsModuleDefinitions.js":635,"./components/topItemsWidget/TopItemsWidgetController.js":636,"./components/topItemsWidget/topItemsWidget.js":637,"./components/truthyCheckbox/truthyCheckbox.js":639,"./components/txRateStatusBar/TxRateStatusBarController.js":640,"./components/txRateStatusBar/txRateStatusBar.js":641,"./components/unreadAlerts/unreadAlerts.js":643,"./components/upgradingWhiteoutNotice/upgradingWhiteoutNotice.js":645,"./components/uploadGuestPortalImage/uploadGuestPortalImage.js":647,"./components/usePlaceholder/usePlaceholder.js":649,"./components/validateClientMac/validateClientMac.js":650,"./components/validateDuplicateInCollection/validateDuplicateInCollection.js":651,"./components/validateDuplicates/validateDuplicates.js":652,"./components/validateIpEqualVersion/validateIpEqualVersion.js":653,"./components/validateIpInSubnet/validateIpInSubnet.js":654,"./components/validateIpRange/validateIpRange.js":655,"./components/validateIpv6InSubnet/validateIpv6InSubnet.js":656,"./components/validateIpv6Range/validateIpv6Range.js":657,"./components/validateNetmask/validateNetmask.js":658,"./components/validateNotEqual/validateNotEqual.js":659,"./components/validatePatterns/validatePatterns.js":660,"./components/validatePortRange/validatePortRange.js":661,"./components/vpnListLoadingModule/VpnListLoadingModuleController.js":662,"./components/vpnListLoadingModule/vpnListLoadingModule.js":663,"./components/vpnListModule/VpnListModuleController.js":665,"./components/vpnListModule/vpnListModule.js":666,"./components/vpnListModule/vpnListModuleDefinitions.js":668,"./components/wanHistogram/WanHistogramController.js":669,"./components/wanHistogram/wanHistogram.js":670,"./components/wanHistogramModule/WanHistogramModuleController.js":672,"./components/wanHistogramModule/wanHistogramModule.js":673,"./components/wanHistogramModule/wanHistogramModuleDefinitions.js":675,"./components/wifiAssociationsModule/WifiAssociationsModuleController.js":676,"./components/wifiAssociationsModule/wifiAssociationsModule.js":677,"./components/wifiAssociationsModule/wifiAssociationsModuleDefinitions.js":679,"./components/wifiSummaryModule/WifiSummaryModuleController.js":680,"./components/wifiSummaryModule/wifiSummaryModule.js":681,"./components/wifiSummaryModule/wifiSummaryModuleDefinitions.js":683,"./components/windowPanels/WindowPanelsController.js":684,"./components/windowPanels/windowPanels.js":685,"./components/windowPanelsGroup/WindowPanelsGroupController.js":687,"./components/windowPanelsGroup/windowPanelsGroup.js":688,"./components/wlanHistogram/WlanHistogramController.js":690,"./components/wlanHistogram/wlanHistogram.js":691,"./components/wlanHistogramModule/WlanHistogramModuleController.js":693,"./components/wlanHistogramModule/wlanHistogramModule.js":694,"./components/wlanHistogramModule/wlanHistogramModuleDefinitions.js":696,"./components/yesOrNoBadge/yesOrNoBadge.js":697,"./config/compile.js":699,"./config/dashboard.js":700,"./config/flags.js":701,"./config/frames.js":702,"./config/panel.js":703,"./config/routes.js":704,"./config/sce.js":705,"./config/sideNavPopover.js":706,"./config/states.js":707,"./config/translate.js":708,"./constants/AIR_TIME.js":709,"./constants/AIR_TIME_NODE.js":710,"./constants/AIR_VIEW.js":711,"./constants/ALERTS_DEFAULTS.js":712,"./constants/CAST_RATES.js":713,"./constants/CHAT_DEPARTMENTS.js":714,"./constants/CHAT_LEVELS.js":715,"./constants/CLIENT_DEVICE.js":716,"./constants/CLIENT_FETCH_DEFAULTS.js":717,"./constants/DASHBOARD_SHARED_FILTERS.js":718,"./constants/DEFAULT_WLAN_SCHEDULE.js":719,"./constants/DEVICE_FETCH_DEFAULTS.js":720,"./constants/DEVICE_LED_COLORS.js":721,"./constants/DIRECT_DEVICE_CONNECTION.js":722,"./constants/DIRECT_DEVICE_CONNECTION_STATES.js":723,"./constants/DPI_CATEGORIES.js":724,"./constants/DPI_EVENTS.js":725,"./constants/DPI_TYPES.js":726,"./constants/EASTER_EGGS.js":727,"./constants/EGRESS_RATE_LIMITS.js":728,"./constants/ELEMENTS.js":729,"./constants/ELITE_RMA_REASONS.js":730,"./constants/ENV.js":731,"./constants/EVENTS_DEFAULTS.js":732,"./constants/EVENT_KEYS.js":733,"./constants/EVENT_KEYS_CLASSES_MAP.js":734,"./constants/EVENT_KEYS_LEVELS_MAP.js":735,"./constants/FIREWALL.js":736,"./constants/HOTSPOT2_AUTH_IDS.js":737,"./constants/HOTSPOT2_AUTH_VALUES.js":738,"./constants/HOTSPOT2_EAP_METHODS.js":739,"./constants/HOTSPOT2_NETWORK_TYPES.js":740,"./constants/HOTSPOT2_VENUE_GROUPS.js":741,"./constants/HOTSPOT2_VENUE_TYPES.js":742,"./constants/HOTSPOT_LANGUAGES.js":743,"./constants/HOTSPOT_PAYMENT_FIELDS.js":744,"./constants/HOTSPOT_PORTAL_CUSTOMIZED_DEFAULTS.js":745,"./constants/HOTSPOT_PORTAL_CUSTOMIZED_LANGUAGES_DEFAULTS.js":746,"./constants/HOTSPOT_PORTAL_OVERRIDE_TEMPLATE_HELP.js":747,"./constants/INSIGHTS_DEFAULTS.js":748,"./constants/IPS_CATEGORY_DEFAULTS.js":749,"./constants/IPS_CATEGORY_RESTRICTED.js":750,"./constants/KNOWN_CLIENT_FIELDS.js":751,"./constants/LOG_EVENTS.js":752,"./constants/MAC.js":753,"./constants/NEIGHBOR_SCAN_SETTINGS.js":754,"./constants/NETWORK_PURPOSE.js":755,"./constants/OCCUPANCY_GRAPH.js":756,"./constants/OUI.js":757,"./constants/PORT_PROFILE_DEFAULTS.js":758,"./constants/PROVIDER_CAPABILITIES_SETTINGS.js":759,"./constants/PSU_STATUS_TRANSLATION_KEYS.js":760,"./constants/RADIUS_DEFAULTS.js":761,"./constants/RADIUS_LIMITS.js":762,"./constants/RADIUS_VLAN_OPTIONS.js":763,"./constants/REMOTE_USER_VPN_TYPES.js":764,"./constants/RF_ENVIRONMENT_CHART_OPTIONS.js":765,"./constants/RF_ENVIRONMENT_INTERFERENCE_INTERVAL.js":766,"./constants/RF_ENVIRONMENT_SETTINGS.js":767,"./constants/RMA_PROBLEM_CATEGORIES.js":768,"./constants/SCAN_TYPES.js":769,"./constants/SITE_HEALTH.js":770,"./constants/SNMP_SETTINGS.js":771,"./constants/SPANNING_TREE_PRIORITIES.js":772,"./constants/SPEED_TEST_SETTINGS.js":773,"./constants/SPEED_TEST_STATUSES.js":774,"./constants/STATUS.js":775,"./constants/TERMS_OF_SERVICE_DEFAULT.js":776,"./constants/TOP_ITEM_TYPES.js":777,"./constants/UBNT_CLIENT_TYPES.js":778,"./constants/UPLOAD_SETTINGS.js":779,"./constants/USG_TEMPERATURE_LABELS.js":780,"./constants/US_STATES.js":781,"./constants/UTILIZATION_STATES.js":782,"./constants/VIRTUAL_DEVICES_WHITELIST.js":783,"./constants/WIFI_NG_BASE_CHANNELS.js":784,"./constants/WINDOW_PANEL_GROUPS.js":785,"./constants/WLAN_GROUP_SETTINGS.js":786,"./constants/WLAN_MINRATE_SETTINGS.js":787,"./controllers/AboutController.js":788,"./controllers/AccountVerifyController.js":789,"./controllers/AddClientController.js":790,"./controllers/AddSiteController.js":791,"./controllers/AddSshKeyController.js":792,"./controllers/AdminPasswordChangeSuggestionController.js":793,"./controllers/AlertsController.js":794,"./controllers/AlertsLinkController.js":795,"./controllers/BaseCalendarViewController.js":796,"./controllers/BaseClientListController.js":797,"./controllers/BaseDpiUsersController.js":798,"./controllers/BaseDropdownListController.js":799,"./controllers/BaseListAndFormController.js":800,"./controllers/BaseRepeatableController.js":801,"./controllers/BaseSettingsController.js":802,"./controllers/ClientStatisticsController.js":803,"./controllers/ClientsController.js":804,"./controllers/CloudKeySdCardCheckController.js":805,"./controllers/ConfigureDpiCategoryGraphController.js":806,"./controllers/ConfirmRemoveAdminController.js":807,"./controllers/ConfirmUpgradeOverridesController.js":808,"./controllers/DashboardController.js":809,"./controllers/DevicesController.js":810,"./controllers/DpiController.js":811,"./controllers/DpiRestrictionFormController.js":812,"./controllers/DpiRestrictionGroupFormController.js":813,"./controllers/DpiRestrictionNetworkAssignmentFormController.js":814,"./controllers/EditTextFieldController.js":815,"./controllers/EliteDeviceOfflineController.js":816,"./controllers/EventsController.js":817,"./controllers/EventsLinkController.js":818,"./controllers/ExportSiteController.js":819,"./controllers/FallbackVlanController.js":820,"./controllers/FirewallGroupsCreateController.js":821,"./controllers/HomeController.js":822,"./controllers/Hotspot2NaiRealmListEntryController.js":823,"./controllers/HotspotPackageController.js":824,"./controllers/ImportSiteController.js":825,"./controllers/InsightsController.js":826,"./controllers/InstantRmaController.js":827,"./controllers/IpsListController.js":828,"./controllers/IspThroughputController.js":829,"./controllers/LoginController.js":830,"./controllers/ManageController.js":831,"./controllers/OAuthLoginController.js":832,"./controllers/PerformanceController.js":833,"./controllers/RadiusProfileController.js":834,"./controllers/RadiusRepeatableFormController.js":835,"./controllers/ReleaseNotesController.js":836,"./controllers/ReleaseNotesLinkController.js":837,"./controllers/ReportTermsOfServiceController.js":838,"./controllers/ScheduledUpgradesController.js":839,"./controllers/SettingsController.js":840,"./controllers/SimpleTextEditorController.js":841,"./controllers/SiteController.js":842,"./controllers/SitesOverviewController.js":843,"./controllers/SpeedTestController.js":844,"./controllers/StatisticsController.js":845,"./controllers/StatisticsDebuggingMetricsController.js":846,"./controllers/StatisticsDpiFiltersController.js":847,"./controllers/StatisticsOverviewController.js":848,"./controllers/StatisticsSpeedTestController.js":849,"./controllers/StatisticsSwitchController.js":850,"./controllers/SystemConfigController.js":851,"./controllers/UpdateDataRetentionDaysController.js":852,"./controllers/WebrtcErrorController.js":853,"./controllers/WebrtcFailedController.js":854,"./controllers/WifiClientsModuleController.js":855,"./controllers/WirelessNetworkMacFilterAddBatchController.js":856,"./controllers/WirelessNetworkMacFilterAddClientsController.js":857,"./filters/ampm.js":858,"./filters/bssid.js":859,"./filters/bssidList.js":860,"./filters/channel.js":861,"./filters/channelUtilization.js":862,"./filters/clientRadio.js":863,"./filters/deviceName.js":864,"./filters/duplex.js":865,"./filters/duration.js":866,"./filters/enabled.js":867,"./filters/essid.js":868,"./filters/latency.js":869,"./filters/mac.js":870,"./filters/minutesToMoment.js":871,"./filters/networkPurpose.js":872,"./filters/networkSubnet.js":873,"./filters/networkVlan.js":874,"./filters/orEmpty.js":875,"./filters/portForwardProtocol.js":876,"./filters/portForwardSource.js":877,"./filters/radioProtocol.js":878,"./filters/radioStatsChannelUtilization.js":879,"./filters/range.js":880,"./filters/roaming.js":881,"./filters/rssi.js":882,"./filters/rssiToDbm.js":883,"./filters/rxtx.js":884,"./filters/secondsSince.js":885,"./filters/statsTimeRange.js":886,"./filters/streamEncodingQuality.js":887,"./filters/temperature.js":888,"./filters/timeLeft.js":889,"./filters/translateDpiCategory.js":890,"./filters/truncate.js":891,"./filters/unifiCronDayName.js":892,"./filters/unifiCronMonthName.js":893,"./filters/unifiCronNextExecution.js":894,"./filters/wlanGroup.js":895,"./filters/wlanOverride.js":896,"./filters/yesOrNo.js":897,"./lib/resolve.js":898,"./lib/routeInitializers/initializeIpsList.js":899,"./lib/routeInitializers/initializeIpsOverview.js":900,"./lib/routeInitializers/initializeIpsSettings.js":901,"./lib/routeInitializers/initializeKnownClients.js":902,"./lib/routeInitializers/initializeNeighboringAccessPoints.js":903,"./lib/routeInitializers/initializePastConnections.js":904,"./lib/routeInitializers/initializePastGuestAuthorizations.js":905,"./lib/routeInitializers/initializeStatisticsClient.js":906,"./lib/routeInitializers/initializeStatisticsDpi.js":907,"./lib/routeInitializers/initializeStatisticsOverview.js":908,"./lib/routeInitializers/initializeStatisticsPerformance.js":909,"./lib/routeInitializers/initializeStatisticsSpeedTest.js":910,"./lib/routeInitializers/initializeStatisticsSwitch.js":911,"./lib/routeResolvers/resolveAllowSuperAdminAccess.js":912,"./lib/routeResolvers/resolvePropertyPanel.js":913,"./run/clientCacheSync.js":921,"./run/deviceBatchSync.js":922,"./run/dynamicModules.js":923,"./run/hellojs.js":924,"./run/templateCache.js":925,"./services/Topology.js":926,"./services/accessPointUtils.js":927,"./services/activityReports.js":928,"./services/admins.js":929,"./services/airTime.js":930,"./services/airView.js":931,"./services/airViewColors.js":932,"./services/airViewScanUtils.js":933,"./services/alertFrameUtils.js":934,"./services/alertUtils.js":935,"./services/alerts.js":936,"./services/anomalies.js":937,"./services/builderFactories/GenericDirective.js":938,"./services/builderFactories/SimpleFormDirective.js":939,"./services/channelUtilization.js":940,"./services/clientBatchUtils.js":941,"./services/clientListColumnStore.js":942,"./services/clientStateUtils.js":943,"./services/clientUplinkUtils.js":944,"./services/clientUtils.js":945,"./services/clients.js":946,"./services/cloudKeySdCardCheck.js":947,"./services/collections/AirTimeScanCollection.js":948,"./services/collections/AirViewScanCollection.js":949,"./services/collections/AlertCollection.js":950,"./services/collections/AnomaliesCollection.js":951,"./services/collections/CacheableClientCollection.js":952,"./services/collections/ClientCollection.js":953,"./services/collections/ClientHistoryCollection.js":954,"./services/collections/DashboardStatsCollection.js":955,"./services/collections/DeviceInventoryCollection.js":956,"./services/collections/DhcpOptionCollection.js":957,"./services/collections/DpiAppCollection.js":958,"./services/collections/DpiGroupCollection.js":959,"./services/collections/DynamicDnsCollection.js":960,"./services/collections/DynamicDnsStatsCollection.js":961,"./services/collections/EventCollection.js":962,"./services/collections/FirewallGroupCollection.js":963,"./services/collections/FirewallRuleCollection.js":964,"./services/collections/FirmwareAvailableCollection.js":965,"./services/collections/FirmwareCachedCollection.js":966,"./services/collections/Hotspot2Collection.js":967,"./services/collections/HotspotPackageCollection.js":968,"./services/collections/IpsEventCollection.js":969,"./services/collections/KnownClientCacheCollection.js":970,"./services/collections/KnownClientCollection.js":971,"./services/collections/LoggingCollection.js":972,"./services/collections/NeighboringAccessPointCollection.js":973,"./services/collections/NewClientCollection.js":974,"./services/collections/PastConnectionCollection.js":975,"./services/collections/PastGuestAuthorizationCollection.js":976,"./services/collections/PortCollection.js":977,"./services/collections/PortForwardCollection.js":978,"./services/collections/PortForwardStatsCollection.js":979,"./services/collections/RadiusProfileCollection.js":980,"./services/collections/RadiusUserCollection.js":981,"./services/collections/RealtimeScanCollection.js":982,"./services/collections/RemoteUserVpnCollection.js":983,"./services/collections/RogueKnownAccessPointCollection.js":984,"./services/collections/RoutingCollection.js":985,"./services/collections/RoutingStatsCollection.js":986,"./services/collections/ScheduleTaskCollection.js":987,"./services/collections/SiteAdminCollection.js":988,"./services/collections/StreamCollection.js":989,"./services/collections/StreamDeviceCollection.js":990,"./services/collections/SwitchModuleStatsCollection.js":991,"./services/collections/SwitchPortCollection.js":992,"./services/collections/SwitchStatsPortCollection.js":993,"./services/collections/UserGroupCollection.js":994,"./services/collections/VirtualDeviceCollection.js":995,"./services/collections/WallCollection.js":996,"./services/collections/WlanDpiCollection.js":997,"./services/comparators/BaseComparator.js":998,"./services/comparators/adminsComparator.js":999,"./services/comparators/clientsComparator.js":1e3,"./services/comparators/ipsAlertsComparator.js":1001,"./services/comparators/manageDashboardModuleDefinitionsComparator.js":1002,"./services/comparators/manageDevicesComparator.js":1003,"./services/comparators/simpleClientsComparator.js":1004,"./services/comparators/streamDevicesComparator.js":1005,"./services/comparators/unplacedDevicesComparator.js":1006,"./services/comparators/wirelessNetworksComparator.js":1007,"./services/controllerMixins/activeTabControllerMixin.js":1008,"./services/controllerMixins/devicePropertiesPortsControllerMixin.js":1009,"./services/controllerMixins/missingModelControllerMixin.js":1010,"./services/controllerMixins/panelViewControllerMixin.js":1011,"./services/controllerMixins/resolveRepositoryGroupControllerMixin.js":1012,"./services/controllerMixins/timeBasedGraphControllerMixin.js":1013,"./services/controllerStats.js":1014,"./services/controllerWarnings.js":1015,"./services/countryNameUtils.js":1016,"./services/customPortalPreview.js":1017,"./services/d3ChannelTrapezoidPoints.js":1018,"./services/d3RfEnvironmentInterferenceScale.js":1019,"./services/d3RfEnvironmentRssiInterferenceScale.js":1020,"./services/dashboardStats.js":1021,"./services/dataConverter.js":1022,"./services/dataRetention.js":1023,"./services/dataRetentionUpdate.js":1024,"./services/dbnameToServiceMapper.js":1025,"./services/defaultSiteSshAuthPasswordCheck.js":1026,"./services/deviceInventory.js":1027,"./services/deviceListColumnStore.js":1028,"./services/deviceUpdateWsMessageHandler.js":1029,"./services/devices.js":1030,"./services/dhcpOptions.js":1031,"./services/directDeviceConnectionUtils.js":1032,"./services/directDeviceConnector.js":1033,"./services/directiveMixins/clientPropertiesConfigureBatchDirectiveMixin.js":1034,"./services/directiveMixins/clientPropertiesConfigureWithPendingDirectiveMixin.js":1035,"./services/directiveMixins/clientPropertiesPendingActionsDirectiveMixin.js":1036,"./services/directiveMixins/devicePropertiesActiveAccordionDirectiveMixin.js":1037,"./services/directiveMixins/devicePropertiesConfigureBatchDirectiveMixin.js":1038,"./services/directiveMixins/devicePropertiesConfigureWithPendingDirectiveMixin.js":1039,"./services/directiveMixins/devicePropertiesPendingActionsDirectiveMixin.js":1040,"./services/directiveMixins/devicePropertiesPortsDirectiveMixin.js":1041,"./services/directiveMixins/gatewayPropertiesDynamicDnsListDirectiveMixin.js":1042,"./services/directiveMixins/sharedAttrsDirectiveMixin.js":1043,"./services/dpiApps.js":1044,"./services/dpiFilters.js":1045,"./services/dpiGroups.js":1046,"./services/dpiUtils.js":1047,"./services/dynamicDns.js":1048,"./services/dynamicDnsStats.js":1049,"./services/eliteDevices.js":1050,"./services/eventFilterUtils.js":1051,"./services/eventFrameUtils.js":1052,"./services/events.js":1053,"./services/eventsWsMessageHandler.js":1054,"./services/factories/AirTimeRawDataParser.js":1055,"./services/factories/DirectDeviceCollectionFactory.js":1056,"./services/factories/SettingsModelFactory.js":1057,"./services/factories/WifiBandChannels.js":1058,"./services/factories/WindowPanelsGroup.js":1059,"./services/feedback.js":1060,"./services/filters/AdminOtherSiteFilter.js":1061,"./services/filters/BaseClientFilter.js":1062,"./services/filters/CalendarFilter.js":1063,"./services/filters/ClientFilter.js":1064,"./services/filters/DashboardFilter.js":1065,"./services/filters/DeviceFilter.js":1066,"./services/filters/FirewallRulesetFilter.js":1067,"./services/filters/FirmwareFilter.js":1068,"./services/filters/IpsAlertFilter.js":1069,"./services/filters/IpsListFilter.js":1070,"./services/filters/ManageDashboardModuleDefinitionsFilter.js":1071,"./services/filters/SimpleModelFilter.js":1072,"./services/filters/StreamDeviceFilter.js":1073,"./services/firewallGroups.js":1074,"./services/firewallRules.js":1075,"./services/firewallUtils.js":1076,"./services/firmware.js":1077,"./services/firmwareAvailable.js":1078,"./services/firmwareUtils.js":1079,"./services/formUtils.js":1080,"./services/gatewayUtils.js":1081,"./services/gateways.js":1082,"./services/geometryUtils.js":1083,"./services/hotspot2.js":1084,"./services/hotspotOverrides.js":1085,"./services/hotspotPackages.js":1086,"./services/imageUrlUtils.js":1087,"./services/ipsEvents.js":1088,"./services/ipsEventsUtils.js":1089,"./services/ipsFilters.js":1090,"./services/ipsFirewallUtils.js":1091,"./services/knownClients.js":1092,"./services/knownClientsCache.js":1093,"./services/logsWsMessageHandler.js":1094,"./services/mapLabelOptionStore.js":1095,"./services/mixins/modelToCollectionMixin.js":1096,"./services/modelUtils.js":1097,"./services/models/AirTimeScanModel.js":1098,"./services/models/AirViewScanModel.js":1099,"./services/models/AlertModel.js":1100,"./services/models/BaseClientModel.js":1101,"./services/models/BatchClientModel.js":1102,"./services/models/ChannelUtilizationModel.js":1103,"./services/models/ClientHistoryModel.js":1104,"./services/models/ClientMgrModel.js":1105,"./services/models/ClientModel.js":1106,"./services/models/ConfigMgrModel.js":1107,"./services/models/ControllerWarningsModel.js":1108,"./services/models/DeviceInventoryModel.js":1109,"./services/models/DhcpOptionModel.js":1110,"./services/models/DpiAppModel.js":1111,"./services/models/DpiGroupModel.js":1112,"./services/models/DynamicDnsModel.js":1113,"./services/models/DynamicDnsStatsModel.js":1114,"./services/models/EventMgrModel.js":1115,"./services/models/EventModel.js":1116,"./services/models/FirewallGroupModel.js":1117,"./services/models/FirewallRuleModel.js":1118,"./services/models/FirmwareModel.js":1119,"./services/models/FwUpdateModel.js":1120,"./services/models/HealthModel.js":1121,"./services/models/Hotspot2Model.js":1122,"./services/models/HotspotOverridesModel.js":1123,"./services/models/IpsEventModel.js":1124,"./services/models/KnownClientModel.js":1125,"./services/models/LoggingModel.js":1126,"./services/models/NeighboringAccessPointModel.js":1127,"./services/models/PastConnectionModel.js":1128,"./services/models/PastGuestAuthorizationModel.js":1129,"./services/models/PortForwardModel.js":1130,"./services/models/PortForwardStatsModel.js":1131,"./services/models/PortModel.js":1132,"./services/models/RadioAiPlanModel.js":1133,"./services/models/RadiusProfileModel.js":1134,"./services/models/RadiusUserModel.js":1135,"./services/models/RemoteUserVpnModel.js":1136,"./services/models/ReporterMgrModel.js":1137,"./services/models/RogueKnownAccessPointModel.js":1138,"./services/models/RoutingModel.js":1139,"./services/models/RoutingStatsModel.js":1140,"./services/models/ScanMatrixModel.js":1141,"./services/models/ScheduleTaskModel.js":1142,"./services/models/SettingsGuestAccessModel.js":1143,"./services/models/SiteAdminModel.js":1144,"./services/models/StatisticsMgrModel.js":1145,"./services/models/StreamDeviceModel.js":1146,"./services/models/StreamMgrModel.js":1147,"./services/models/StreamModel.js":1148,"./services/models/SwitchModuleStatsModel.js":1149,"./services/models/SwitchPortModel.js":1150,"./services/models/SwitchStatsPortModel.js":1151,"./services/models/UnreadAlertsModel.js":1152,"./services/models/UserGroupModel.js":1153,"./services/models/VerifyMgrModel.js":1154,"./services/models/VirtualDeviceModel.js":1155,"./services/models/WallModel.js":1156,"./services/models/WlanHistogramModel.js":1157,"./services/models/WlanModuleStatsModel.js":1158,"./services/neighboringAccessPoints.js":1159,"./services/networkUtils.js":1160,"./services/networks.js":1161,"./services/notifications.js":1162,"./services/objectUtils.js":1163,"./services/onOpenWarnings.js":1164,"./services/ouiIcons.js":1165,"./services/partialDevices.js":1166,"./services/pastConnections.js":1167,"./services/pastGuestAuthorizations.js":1168,"./services/portForwardStats.js":1169,"./services/portForwards.js":1170,"./services/postMessage.js":1171,"./services/progress.js":1172,"./services/propertyPanel.js":1173,"./services/propertyPanelHelper.js":1174,"./services/radius.js":1175,"./services/radiusUsers.js":1176,"./services/radiusUtils.js":1177,"./services/releaseNotes.js":1178,"./services/releaseNotesFrameUtils.js":1179,"./services/remoteUserVpn.js":1180,"./services/resolvers/manageResolver.js":1181,"./services/resolvers/wsLogsRegisterMessageHandlers.js":1182,"./services/resolvers/wsRegisterMessageHandlers.js":1183,"./services/resolvers/wsResolver.js":1184,"./services/rfEnvironment.js":1185,"./services/rfEnvironmentChart.js":1186,"./services/rogueKnownAccessPoints.js":1187,"./services/routing.js":1188,"./services/routingStats.js":1189,"./services/scheduleConverter.js":1190,"./services/scheduledUpgrades.js":1191,"./services/selectedDpiApplications.js":1192,"./services/selectedDpiCategories.js":1193,"./services/settings.js":1194,"./services/settingsUtils.js":1195,"./services/siteAdminUtils.js":1196,"./services/siteDpi.js":1197,"./services/siteStatus.js":1198,"./services/speedTest.js":1199,"./services/speedTestReports.js":1200,"./services/statistics.js":1201,"./services/statisticsParams.js":1202,"./services/statsFeatures.js":1203,"./services/statsUtils.js":1204,"./services/streams.js":1205,"./services/superSiteEventsWsMessageHandler.js":1206,"./services/switchModuleStats.js":1207,"./services/switchPropertiesPortListColumnStore.js":1208,"./services/switchReports.js":1209,"./services/switchStats.js":1210,"./services/switchUtils.js":1211,"./services/switches.js":1212,"./services/syncWsMessageHandler.js":1213,"./services/systemConfig.js":1214,"./services/treeUtils.js":1215,"./services/txRateStatus.js":1216,"./services/updateController.js":1217,"./services/userDpi.js":1218,"./services/userGroups.js":1219,"./services/utilizationUtils.js":1220,"./services/virtualDevices.js":1221,"./services/walls.js":1222,"./services/windowPanels.js":1223,"./services/wirelessNetworkUtils.js":1224,"./services/wlanDpi.js":1225,"./services/wlanModuleStats.js":1226,"./services/ws/wsLogsConnector.js":1227,"./services/wsLogsAdapter.js":1228,"./values/APP_EVENTS.js":1229}],915:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_OCCURRENCE_EVERY"></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><select class="cron-select" ng-model="myFrequency.base" ng-options="item.value as item.label for item in frequency"'+n("required",!0,!0,!0)+"><option"+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div><span ng-show="myFrequency.base == 4" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_OCCURRENCE_ON"></span><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="myFrequency.base == 4"><select class="cron-select day-value" ng-model="myFrequency.dayValues" ng-options="(value | unifiCronDayName) for value in dayValues"></select></div><span ng-show="myFrequency.base &gt;= 5" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_OCCURRENCE_ON_THE"></span><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="myFrequency.base &gt;= 5"><select class="cron-select day-of-month-value" ng-model="myFrequency.dayOfMonthValues" ng-options="value for value in dayOfMonthValues"></select></div><span ng-show="myFrequency.base == 6" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_OCCURRENCE_OF"></span><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="myFrequency.base == 6"><select class="cron-select month-value" ng-model="myFrequency.monthValues" ng-options="(value | unifiCronMonthName) for value in monthValues"></select></div><span ng-show="myFrequency.base &gt;= 2" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_OCCURRENCE_AT"></span><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="myFrequency.base &gt;= 3"><select class="cron-select hour-value" ng-model="myFrequency.hourValues" ng-options="value as value|ampm for value in hourValues"></select></div><span ng-show="myFrequency.base &gt;= 3">:</span><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-show="myFrequency.base &gt;= 2"><select class="cron-select minute-value" ng-model="myFrequency.minuteValues" ng-options="value for value in minuteValues"></select></div><span ng-show="myFrequency.base == 2" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_OCCURRENCE_PAST_THE_HOUR"></span><span ng-show="config.timezone" translate="SETTINGS_BACKUP_LABEL_AUTOBACKUP_OCCURRENCE_IN_TIMEZONE" translate-values="{timezone: config.timezone}"></span><unifi-tooltip ng-show="config.timezone"><content translate="SETTINGS_BACKUP_TOOLTIP_AUTOBACKUP_OCCURRENCE_IN_TIMEZONE"></content></unifi-tooltip></div>'};var o=/["&<>]/},{"pug-runtime":23}],916:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiDndPlaceholder"><div class="icon ubnt-icon--ellipsis"></div></div>'}},{"pug-runtime":23}],917:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiPanelItemHeader unifiViewSidePanelStickyTitle" ng-show="attrs.isVisible &amp;&amp; attrs.model"><div class="unifiPanelItemHeader__avatar" ng-if="[\'device\', \'knownclient\', \'stream\', \'batch:uap\', \'batch:usw\', \'batch:sta\'].indexOf(attrs.itemType) !== -1" ng-switch="attrs.itemType"><div ng-switch-when="device" unifi-device-icon="attrs.model"></div><div ng-switch-when="knownclient" unifi-client-icon="attrs.model"></div><div ng-switch-when="stream" unifi-stream-icon="attrs.model"></div><div ng-switch-when="batch:uap" unifi-batch-device-icon="attrs.model"></div><div ng-switch-when="batch:usw" unifi-batch-device-icon="attrs.model"></div><div ng-switch-when="batch:sta" unifi-batch-client-icon="attrs.model"></div></div><div class="unifiPanelItemHeader__title truncate"><span ng-class="{\'horizontalRhythmLeft--cozy\': attrs.model.isBatch}">{{attrs.model.getDisplayName()}}</span></div></div>'}},{"pug-runtime":23}],918:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+="<td class=\"displayName\"><div class=\"iconText appIconText\"><span class=\"iconText__icon icon\" ng-class=\"{        'ubnt-icon--map-2': model.get('type') !== 'googleMap',        'ubnt-icon--world': model.get('type') === 'googleMap'      }\"></span><span class=\"iconText__text\" ng-class=\"!model.get('name') ? 'italicized' : ''\">{{::model.getDisplayName()}}</span></div></td>"}},{"pug-runtime":23}],919:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<td ng-repeat="attr in collectionViewRowCtrl.config" data-attr="{{::attr}}">{{model.get(attr)}}</td>'}},{"pug-runtime":23}],920:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<td class="deviceStateIcon unifiDevicesTable__statusBall"><span class="horizontalRhythmLeft--condensed" unifi-device-status="::model" unifi-device-status-with-icons="true"></span></td><td class="displayName">{{::model.getDisplayName()}}</td><td class="deviceActions appTableCell--actions noVerticalPadding"><button class="appMainButton appMainButton--iconOnly appMainButton--tertiary appMainButton--condensed" ng-if="::model.get(\'state\')" unifi-open-panel="model" unifi-open-panel-active-tab="\'details\'" title="{{\'COMMON_PROPERTY_PANEL_OPEN\' | translate}}"><span class="button__icon icon ubnt-icon--panels"></span></button></td>'}},{"pug-runtime":23}],921:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["clients","knownClients","knownClientsCache",function(t,e,i){var n=function(t){return"action:"===t.substring(0,7)},o=function(t,e,i){var n=i.repository.collection.get(t.id);n&&n.set(e||t.attributes)},r=function(t,e,r){n(t)&&(r?o(e,r,i):i.repository.refreshItem(e.id))};t.repository.collection.on("all",r),e.repository.collection.on("all",r),i.repository.collection.on("all",function(i,r,a){("save"===i||"pending:save"===i||n(i))&&(t.repository.isRegistered()&&o(r,a,t),e.repository.isRegistered()&&o(r,a,e))})}])},{}],922:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["devices","batchEdit",function(t,e){var i=function(){return e.collection.filter(function(t){return"batch:uap"===t.modelType||"batch:usw"===t.modelType||"batch:device"===t.modelType})};t.repository.collection.on("remove",function(t){i().forEach(function(e){e.get("destination").remove(t)})}),t.repository.collection.on("reset",function(){i().forEach(function(t){t.get("destination").reset()})}),t.repository.collection.on("sync",function(){i().forEach(function(e){var i=[];e.get("destination").each(function(e){t.repository.collection.get(e)||i.push(e)}),i.length&&e.get("destination").remove(i)})}),t.repository.collection.on("change:adopted",function(t){t.get("adopted")||i().forEach(function(e){e.get("destination").remove(t)})})}])},{}],923:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["dynamicModules",function(t){var e={dpi:15,settings:15,maps:20};Object.keys(e).forEach(function(i){setTimeout(function(){t.load(i)},1e3*e[i])})}])},{}],924:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["hellojs","SsoOAuthUrl",function(t,e){t.init({ubnt:{name:"ubnt",oauth:{version:2,auth:e+"/authorize",grant:e+"/token/",response_type:"code"}}})}])},{}],925:[function(t,e,i){"use strict";angular.module("app-unifi-manage").run(["$templateCache",function(e){e.put("partials/cronSelection.html",t("../partials/cronSelection.pug")()),e.put("partials/propertyPanelDndPlaceholder.html",t("../partials/propertyPanelDndPlaceholder.pug")()),e.put("partials/propertyPanelStickyTitle.html",t("../partials/propertyPanelStickyTitle.pug")()),e.put("partials/selectedMapTableRow.html",t("../partials/selectedMapTableRow.pug")()),e.put("partials/simpleAttributesTableRow.html",t("../partials/simpleAttributesTableRow.pug")()),e.put("partials/statsRecentActivitiesSelectDeviceTableRow.html",t("../partials/statsRecentActivitiesSelectDeviceTableRow.pug")()),e.put("partials/eventMessageItem.html",t("../components/eventMessageItem/eventMessageItem.pug")())}])},{"../components/eventMessageItem/eventMessageItem.pug":318,"../partials/cronSelection.pug":915,"../partials/propertyPanelDndPlaceholder.pug":916,"../partials/propertyPanelStickyTitle.pug":917,"../partials/selectedMapTableRow.pug":918,"../partials/simpleAttributesTableRow.pug":919,"../partials/statsRecentActivitiesSelectDeviceTableRow.pug":920}],926:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}angular.module("app-unifi-manage").factory("Topology",["$filter","clients","clientUplinkUtils","d3","devices","deviceStateUtils","deviceUplinkUtils","gatewayUtils",function(t,e,i,r,a,s,l,c){var u=function(){function t(){o(this,t)}return n(t,[{key:"getModel",value:function(){return("device"===this.type?a:e).repository.collection.get(this.id)}},{key:"getParentModel",value:function(){return this.parentId&&a.repository.collection.get(this.parentId)}}]),t}();return function(){function d(){o(this,d)}return n(d,[{key:"getConnectedClients",value:function(n){return e.repository.collection.filter(function(t){return i.getUplinkMac(t)===n}).map(function(e){var i=new u;return angular.extend(i,{type:"client",id:e.id,name:t("truncate")(e.getDisplayName(),16)})})}},{key:"getParentDevice",value:function(t){var e=l.getUplink(t);if(e||(e=a.repository.collection.find(function(e){var i=e.get("downlink_table");return!!i&&!!i.findWhere({mac:t.id})})),!e){var i=t.getNested("last_uplink.uplink_mac");i&&(e=a.repository.collection.get(i))}return e}},{key:"sortFunction",value:function(t,e){var i=this.getChannel(t)||0,n=this.getChannel(e)||0;if(i&&n)return i-n;var o=this.getRemotePort(t)||0,r=this.getRemotePort(e)||0;return 0===o?1:0===r?-1:o-r}},{key:"rebuildTree",value:function(t){var e,i,n=this,o=(e=new u,(i=c.getSiteGateway())&&s.isDeviceConnected(i)?(e.id=i.id,e.name=i.getDisplayName(),e.type="device"):(e.id="virtualParent",e.type="virtual"),e),d=a.repository.collection.filter(function(t){return s.isDeviceConnected(t)&&!t.isGateway()}).map(function(t){var e=n.getParentDevice(t),i=new u;return angular.extend(i,{name:t.getDisplayName(),id:t.id,type:"device",parentId:e&&e.id||o.id,linkType:e&&s.isDeviceConnected(e)?"physical":"virtual",linkHidden:!(e&&s.isDeviceConnected(e)),aggregated:t.isAp()&&t.getNested("config_network.bonding_enabled")||l.isUplinkAggregated(t)}),i});return r.hierarchy(o,function(e){var i=d.filter(function(t){return t.parentId===e.id}).sort(function(t,e){return n.sortFunction(t,e)});return t&&(i=n.getConnectedClients(e.id).sort(function(t,e){return n.sortFunction(t,e)}).concat(i)),i})}},{key:"getRemotePort",value:function(t){var e=t.getModel();switch(t.type){case"device":if(e){var i=l.getUplinkAttrs(e);if(i&&i.uplink_remote_port)return i.uplink_remote_port;var n=t.getParentModel(),o=n&&n.get("downlink_table")&&n.get("downlink_table").findWhere({mac:t.id});return o&&o.get("port_idx")}break;case"client":return e.get("is_wired")?e.get("sw_port"):void 0}}},{key:"getChannel",value:function(t){var e=t.getModel();if("client"===t.type&&e)return e.get("channel")}}]),d}()}])},{}],927:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("accessPointUtils",["devices","siteUtils","DEVICE_TYPES",function(t,e,i){this.getSiteAccessPoints=function(){var n=e.getActiveSite();return n&&t.repository.collection.where({type:i.AP,site_id:n.id})||[]},this.hasSiteAccessPoints=function(){return!!this.getSiteAccessPoints().length}}])},{}],928:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("activityReports",[function(){var t=[];this.getRepositories=function(){return t},this.registerRepository=function(e){t.push(e)},this.unregisterRepository=function(e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}}])},{}],929:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("admins",["$q","$translate","BaseCollectionRepository","SiteAdminCollection","SiteMgrModel","apiResults",function(t,e,i,n,o,r){this.repository=new i(new n),this.createAdmin=function(i,n){var a=this.repository.collection;return n=n||i.attributes,(new o).save({cmd:"create-admin",email:n.email,name:n.name,requires_new_password:n.requires_new_password||!1,role:n.role,x_password:n.x_password,permissions:n.permissions}).then(function(o){return i.set(i.parse(o.data)),a.add(i,{merge:!0}),t.when(e.instant("ADMIN_ACTIONS_CREATE_SUCCESS",{adminName:n.name}))}).catch(function(i){return t.reject(r.appendErrorMsg(e.instant("ADMIN_ACTIONS_CREATE_ERROR",{adminName:n.name}),i))})},this.inviteAdmin=function(i,n){var a=this.repository.collection;return n=n||i.attributes,(new o).save({cmd:"invite-admin",email:n.email,for_sso:n.for_sso||!1,name:n.name,role:n.role,permissions:n.permissions,super_site_permissions:n.super_site_permissions}).then(function(o){return i.set(i.parse(o.data)),a.add(i,{merge:!0}),t.when(e.instant("ADMIN_ACTIONS_INVITE_SUCCESS",{adminName:n.name}))}).catch(function(i){return t.reject(r.appendErrorMsg(e.instant("ADMIN_ACTIONS_INVITE_ERROR",{adminName:n.name}),i))})},this.editAdmin=function(i,n){var a=this.repository.collection;return n=n||i.attributes,(new o).save({cmd:"update-admin",admin:i.id,name:n.name,x_password:n.x_password,email:n.email,email_alert_enabled:!!n.email_alert_enabled,email_alert_grouping_enabled:!!n.email_alert_grouping_enabled,email_alert_grouping_delay:angular.isNumber(n.email_alert_grouping_delay)?n.email_alert_grouping_delay:void 0}).then(function(o){return i.set(i.parse(o.data)),a.add(i,{merge:!0}),t.when(e.instant("ADMIN_ACTIONS_EDIT_SUCCESS",{adminName:n.name}))}).catch(function(i){return t.reject(r.appendErrorMsg(e.instant("ADMIN_ACTIONS_EDIT_ERROR",{adminName:n.name}),i))})},this.setAdminPermissions=function(i,n){var a=this.repository.collection;return n=n||i.attributes,(new o).save({cmd:"set-admin-permissions",admin:i.id,permissions:n.permissions}).then(function(o){return i.set(i.parse(o.data)),a.add(i,{merge:!0}),t.when(e.instant("ADMIN_ACTIONS_SET_PERMISSIONS_SUCCESS",{adminName:n.name}))}).catch(function(i){return t.reject(r.appendErrorMsg(e.instant("ADMIN_ACTIONS_SET_PERMISSIONS_ERROR",{adminName:n.name}),i))})},this.grantAdmin=function(i,n){var a=this.repository.collection;return n=n||i.attributes,(new o).save({cmd:"grant-admin",admin:i.id,role:n.role,permissions:n.permissions}).then(function(o){return i.set(i.parse(o.data)),a.add(i,{merge:!0}),t.when(e.instant("ADMIN_ACTIONS_GRANT_SUCCESS",{adminName:n.name}))}).catch(function(i){return t.reject(r.appendErrorMsg(e.instant("ADMIN_ACTIONS_GRANT_ERROR",{adminName:n.name}),i))})},this.revokeAdmin=function(i){var n=this.repository.collection;return(new o).save({admin:i.id,cmd:"revoke-admin"}).then(function(){return n.remove(i.id),t.when(e.instant("ADMIN_ACTIONS_REVOKE_SUCCESS",{adminName:i.get("name")}))}).catch(function(n){return t.reject(r.appendErrorMsg(e.instant("ADMIN_ACTIONS_REVOKE_ERROR",{adminName:i.get("name")}),n))})},this.grantSuperAdmin=function(i,n){var a=this.repository.collection;return n=n||i.attributes,(new o).save({cmd:"grant-super-admin",admin:i.id}).then(function(o){return i.set(i.parse(o.data)),a.add(i,{merge:!0}),t.when(e.instant("ADMIN_ACTIONS_GRANT_SUPER_SUCCESS",{adminName:n.name}))}).catch(function(i){return t.reject(r.appendErrorMsg(e.instant("ADMIN_ACTIONS_GRANT_SUPER_ERROR",{adminName:n.name}),i))})},this.setSuperSiteAdminPermissions=function(i,n){var a=this.repository.collection;return n=n||i.attributes,(new o).save({cmd:"grant-super-admin",admin:i.id,role:n.is_super?"admin":"nobody",permissions:n.super_site_permissions}).then(function(o){return i.set(i.parse(o.data)),a.add(i,{merge:!0}),t.when(e.instant("ADMIN_ACTIONS_GRANT_SUPER_PERMISSIONS_SUCCESS",{adminName:n.name}))}).catch(function(i){return t.reject(r.appendErrorMsg(e.instant("ADMIN_ACTIONS_GRANT_SUPER_PERMISSIONS_ERROR",{adminName:n.name}),i))})},this.revokeSuperAdmin=function(i,n){var a=this.repository.collection;return n=n||i.attributes,(new o).save({cmd:"revoke-super-admin",admin:i.id}).then(function(o){return i.set(i.parse(o.data)),a.add(i,{merge:!0}),t.when(e.instant("ADMIN_ACTIONS_REVOKE_SUPER_SUCCESS",{adminName:n.name}))}).catch(function(i){return t.reject(r.appendErrorMsg(e.instant("ADMIN_ACTIONS_REVOKE_SUPER_ERROR",{adminName:n.name}),i))})}}])},{}],930:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("airTime",["$timeout","$translate","AirTimeRawDataParser","directDeviceConnector","deviceRadioUtils","heyToasts","DIRECT_DEVICE_CONNECTION_STATES","SCAN_TYPES",function(t,e,i,n,o,r,a,s){function l(t){return t.get("name")}this.getCollection=function(t,e){return n.getCollection(t,s.AIR_TIME,l(e))},this.getState=function(t,e){return n.getState(t,s.AIR_TIME,l(e))},this.startScan=function(c,u,d){var p=new i;return n.connect(c,u,s.AIR_TIME,l(d)).then(function(i){i.state=a.WAITING;var o=t(function(){n.stopScan(u,s.AIR_TIME,l(d)),r.pushError(e.instant("AIR_TIME_SESSION_CONNECTION_TIMEOUT"))},2e4);return i.connector.on(i.channelName,function(e){var n=p.parse(e);n&&"scan"===n.status&&(i.state=a.SCANNING,i.collection.add(n),t.cancel(o))}),i}).then(function(t){var e=d.get("name"),i=o.getRadioStatsByName(u,e),n={interface:e,channel:o.getRadioStatsPrimaryChannel(i)};return t.connector.send(t.channelName,JSON.stringify(n)+"\n"),t.collection})},this.stopScan=function(t,e){n.stopScan(t,s.AIR_TIME,l(e))},this.clearScans=function(t,e){n.clearCollection(t,s.AIR_TIME,l(e))},this.closeConnection=function(t){n.closeConnection(t)}}])},{}],931:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("airView",["$timeout","$translate","AirTimeRawDataParser","directDeviceConnector","deviceRadioUtils","heyToasts","DIRECT_DEVICE_CONNECTION_STATES","SCAN_TYPES",function(t,e,i,n,o,r,a,s){this.getCollection=function(t){return n.getCollection(t,s.AIR_VIEW)},this.getState=function(t){return n.getState(t,s.AIR_VIEW)},this.startScan=function(o,l){var c=new i;return n.connect(o,l,s.AIR_VIEW).then(function(i){i.state=a.WAITING;var o=t(function(){n.stopScan(l,s.AIR_VIEW),r.pushError(e.instant("AIR_VIEW_SESSION_CONNECTION_TIMEOUT"))},2e4);return i.connector.on(i.channelName,function(e){var n=c.parse(e);n&&("scan"===n.status||n.rssi_histograms)&&(i.state=a.SCANNING,i.collection.add(n),t.cancel(o))}),i}).then(function(t){return t.connector.send(t.channelName,JSON.stringify({width:1})+"\n"),t.collection})},this.stopScan=function(t){n.stopScan(t,s.AIR_VIEW)},this.clearScans=function(t){n.clearCollection(t,s.AIR_VIEW)},this.closeConnection=function(t){n.closeConnection(t)}}])},{}],932:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("airViewColors",["_","d3","AIR_VIEW","CHART_COLORS",function(t,e,i,n){this.color={probability:e.scaleLinear().domain(t.range(0,101,12.5)).range([n[0],n[0],n[0],n[1],n[2],n[3],n[4],n[5],n[6]]),power:e.scaleLinear().domain(t.range(i.POWER.MIN,i.POWER.MAX+1,i.POWER.STEP)).range([n[0],n[2],n[3],n[4],n[6]])},this.opacity={probability:e.scaleLinear().domain([0,30,100]).range([.1,1,1])}}])},{}],933:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("airViewScanUtils",["AIR_VIEW","RADIO_TYPES",function(t,e){this.cumulateProbabilities=function(t){return t.reduceRight(function(t,e){var i=t[0]||0;return t.unshift(e+i),t},[])},this.findPowerLevelWithGivenProbability=function(t,e){var i=e.length-1,n=e.slice().reverse().findIndex(function(e){return e>=t}),o=angular.isDefined(n)?n:i;return this.getPowerLevelByIndex(i-o)},this.getPowerLevelByIndex=function(e){return e*t.POWER.RESOLUTION+t.POWER.MIN},this.isFrequencyInRadioTypes=function(t,i){var n=i.includes(e.NA.type)&&t>5e3,o=i.includes(e.NG.type)&&t<2500;return n||o}}])},{}],934:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("alertFrameUtils",["$rootScope","contextSwitchStates","frame","alerts","devices","translateResolver","EVENTS",function(t,e,i,n,o,r,a){var s=this;this.isOpen=function(){var t=i.getLayout("alertsLayout");return t&&t.showing},this.open=function(e){var s=this;e&&e.stopPropagation(),t.$broadcast(a.CLOSE_SIDE_NAV_POPOVERS),this.isOpen()||(r.resolve("events","calendarView","eventStrings").then(function(){s.translationLoaded=!0}),o.repository.register().fetch().then(function(){return n.repositories.alerts.register().fetch()}),i.show("alerts"))},this.close=function(){this.isOpen()&&(i.close("alerts"),n.repositories.alerts.unregister(),o.repository.unregister())},this.toggle=function(t){t&&t.stopPropagation(),this.isOpen()?this.close():this.open()},this.hasTranslationsLoaded=function(){return!!this.translationLoaded},t.$on(a.CLOSE_SIDE_NAV_POPOVERS,function(){s.close()}),t.$on(e.getSuccess(),function(){s.close()})}])},{}],935:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("alertUtils",["alerts","EventMgrModel",function(t,e){this.archiveAlert=function(i){return(new e).save({_id:i.get("_id"),cmd:"archive-alarm"}).then(function(){i.set("archived",!0),t.repositories.unread.model.decrementCount(),t.repositories.alerts.collection.getWithArchived()||(t.repositories.alerts.collection.remove(i),t.repositories.alerts.collection.setTotalAlerts(-1,!0))})},this.archiveAllAlerts=function(){return(new e).save({cmd:"archive-all-alarms"}).then(function(){t.repositories.unread.model.clearCount(),t.repositories.alerts.refresh({reset:!0})})}}])},{}],936:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("alerts",["BaseCollectionRepository","BaseModelRepository","AlertCollection","UnreadAlertsModel",function(t,e,i,n){this.repositories={alerts:new t(new i),unread:new e(new n)},this.repositories.alerts.fetchMore=function(t){return this.collection.resolveMore(t)}}])},{}],937:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("anomalies",["BaseCollectionRepository","AnomaliesCollection",function(t,e){this.repository=new t(new e)}])},{}],938:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("GenericDirective",["MixinContainer",function(t){return function(e,i){var n=e.charAt(0).toUpperCase()+e.slice(1),o=new t;return{addMixin:o.addMixin,controller:n+"Controller",controllerAs:e+"Ctrl",template:i,replace:!0,scope:{},link:function(t,e,i,n){o.initMixins(t,e,i,n),n.addEventHandlers(),t.$on("$destroy",function(){return n.removeEventHandlers()})}}}}])},{}],939:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("SimpleFormDirective",["$timeout","MixinContainer","updateModelDirectiveMixin",function(t,e,i){return function(n,o,r){var a=n.charAt(0).toUpperCase()+n.slice(1),s=new e;return{addMixin:s.addMixin,scope:angular.extend({},r||{},{model:"=unifi"+a+"Form",isDark:"=unifi"+a+"FormIsDark",isModal:"=unifi"+a+"FormIsModal",onSave:"&unifi"+a+"FormOnSave",onCancel:"&unifi"+a+"FormOnCancel",isReadOnly:"=unifi"+a+"FormIsReadOnly"}),controller:a+"FormController",controllerAs:n+"FormCtrl",template:o,link:function(e,n,o,r){e.directiveId=e.$id,e.onSubmit=function(t){!0===t&&e.onSave()},t(function(){e.isLoaded=!0},0),i.init(e,n,o,r),e.$on("$destroy",function(){r.removeEventHandlers()}),s.initMixins(e,n,o,r)}}}}])},{}],940:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("channelUtilization",["BaseModelRepository","ChannelUtilizationModel","deviceRadioUtils","DistributionCalculator",function(t,e,i,n){this.repository=new t(new e),this.getDevicesPerChannel=function(t){var e=this.repository.model.get(t),i={};return e&&Object.keys(e).forEach(function(t){i[t]=e[t].devices}),i},this.getClientsPerChannel=function(t){var e=this.repository.model.get(t),i={};return Object.keys(e).forEach(function(t){i[t]=e[t].clients}),i},this.getUtilizationDistributionPerChannel=function(t){return(new n).withGroupedCollection(this.getDevicesPerChannel(t)).withExtractValue(function(t){return t.cu_total}).calculateMinAvgMaxInGroup()},this.getStationsDistributionPerChannel=function(t){return(new n).withGroupedCollection(this.getDevicesPerChannel(t)).withExtractValue(function(t){return t.num_sta}).calculateMinAvgMaxInGroup()},this.getRateRxDistributionPerChannel=function(t){return(new n).withGroupedCollection(this.getClientsPerChannel(t)).withExtractValue(function(t){return t.rx_rate||0}).calculateMinAvgMaxInGroup()},this.getRateTxDistributionPerChannel=function(t){return(new n).withGroupedCollection(this.getClientsPerChannel(t)).withExtractValue(function(t){return t.tx_rate||0}).calculateMinAvgMaxInGroup()}}])},{}],941:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("clientBatchUtils",["$q","$translate","ClientMgrModel","apiResults","repositoryUtils",function(t,e,i,n,o){function r(t,e,i){t.set(i),t.collection&&t.collection.trigger(e,t,i)}this._executeClientCommand=function(t,e){var n=new i;return(e=e||{}).cmd=t,n.save(e)},this.savePendingChanges=function(i,r){var a,s=i.get("source").getPendingAttributes(),l=Object.keys(s);return i._independentProperties&&!!i._independentProperties.find(function(t){return s.hasOwnProperty(t)&&angular.isObject(s[t])})?(a={objects:[]},i.get("destination").each(function(t){var e={id:t.get("_id"),data:{}};l.forEach(function(n){-1!==i._independentProperties.indexOf(n)?s[n]&&(e.data[n]=s[n][t.id]):e.data[n]=s[n]}),a.objects.push(e)})):a={id:i.get("destination").pluck("_id"),data:s},i.savePartial(a,r).then(function(){return o.getRepository("clients").refresh(),i.get("source").clearPendingChanges(),(i.get("success")||[]).length?(i.get("error")||[]).length?t.when(e.instant("CLIENT_PROPERTIES_PENDING_CHANGES_BATCH_APPLY_MIXED")):t.when(e.instant("CLIENT_PROPERTIES_PENDING_CHANGES_BATCH_APPLY_SUCCESS")):t.when(e.instant("CLIENT_PROPERTIES_PENDING_CHANGES_BATCH_APPLY_NONE"))}).catch(function(i){return t.reject(n.appendErrorMsg(e.instant("CLIENT_PROPERTIES_PENDING_CHANGES_BATCH_APPLY_ERROR"),i))})},this.addClients=function(i){return i.saveBatch({wait:!0}).then(function(o){var r=o.data.data.map(function(t){return t.data.length>0?i.findWhere({mac:t.data[0].mac}):void(o.data.meta.msg=t.meta.msg)},this).filter(function(t){return!!t});return i.remove(r),0===i.length?e.instant("CLIENT_ACTIONS_BATCH_ADD_SUCCESS",{count:o.data.data.length},"messageformat"):t.reject(n.appendErrorMsg(e.instant("CLIENT_ACTIONS_BATCH_ADD_ERROR",{count:i.length},"messageformat"),o))})},this.blockClients=function(i){var a={macs:i.get("destination").pluck("mac")};return this._executeClientCommand("block-sta",a).then(function(){return i.get("destination").each(function(t){r(t,"action:unblock",{blocked:!0})}),t.when(e.instant("CLIENT_ACTIONS_BATCH_BLOCK_NOTICE",{count:a.macs.length},"messageformat"))}).catch(function(i){return o.getRepository("clients").refresh(),t.reject(n.appendErrorMsg(e.instant("CLIENT_ACTIONS_BATCH_BLOCK_ERROR"),i))})},this.unblockClients=function(i){var a={macs:i.get("destination").pluck("mac")};return this._executeClientCommand("unblock-sta",a).then(function(){return i.get("destination").each(function(t){r(t,"action:unblock",{blocked:!1})}),t.when(e.instant("CLIENT_ACTIONS_BATCH_UNBLOCK_NOTICE",{count:a.macs.length},"messageformat"))}).catch(function(i){return o.getRepository("clients").refresh(),t.reject(n.appendErrorMsg(e.instant("CLIENT_ACTIONS_BATCH_UNBLOCK_ERROR"),i))})}}])},{}],942:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseListColumnStore");function o(t,e,i,o){this.localStorageKey="columnStore:client",this.columnOptions=[{id:"name",translationKey:"CLIENT_TABLE_HEADER_NAME"},{id:"hostname",translationKey:"CLIENT_TABLE_HEADER_HOSTNAME"},{id:"mac",translationKey:"CLIENT_TABLE_HEADER_MAC_ADDRESS"},{id:"ip",translationKey:"CLIENT_TABLE_HEADER_IP"},t.isEnabled("enableWiFiExperience")?{id:"satisfaction",translationKey:"CLIENT_TABLE_HEADER_WIFI_SATISFACTION"}:null,{id:"1x_identity",translationKey:"CLIENT_TABLE_HEADER_8021X_IDENTITY"},{id:"vlan",translationKey:"CLIENT_TABLE_HEADER_8021X_VLAN"},{id:"status",translationKey:"CLIENT_TABLE_HEADER_STATUS"},{id:"usergroup_id",translationKey:"CLIENT_TABLE_HEADER_USER_GROUP"},{id:"connection",translationKey:"CLIENT_TABLE_HEADER_CONNECTION_WIRED"},{id:"uplink",translationKey:"CLIENT_TABLE_HEADER_AP_PORT"},{id:"channel",translationKey:"CLIENT_TABLE_HEADER_CHANNEL"},{id:"phy_mode",translationKey:"CLIENT_TABLE_HEADER_PHY_MODE"},{id:"is_11r",translationKey:"CLIENT_TABLE_HEADER_FT"},{id:"signal",translationKey:"CLIENT_TABLE_HEADER_SIGNAL"},{id:"tx_rate",translationKey:"CLIENT_TABLE_HEADER_RX_RATE"},{id:"rx_rate",translationKey:"CLIENT_TABLE_HEADER_TX_RATE"},{id:"activity",translationKey:"CLIENT_TABLE_HEADER_ACTIVITY"},{id:"activity_down",translationKey:"CLIENT_TABLE_HEADER_ACTIVITY_DOWN"},{id:"activity_up",translationKey:"CLIENT_TABLE_HEADER_ACTIVITY_UP"},{id:"inter_network_down",translationKey:"CLIENT_TABLE_HEADER_INTER_NETWORK_DOWN"},{id:"inter_network_up",translationKey:"CLIENT_TABLE_HEADER_INTER_NETWORK_UP"},{id:"uptime",translationKey:"CLIENT_TABLE_HEADER_UPTIME"},{id:"vendor",translationKey:"CLIENT_TABLE_HEADER_DEVICE_VENDOR"},{id:"dev_cat",translationKey:"CLIENT_TABLE_HEADER_DEVICE_CAT"},{id:"dev_id",translationKey:"CLIENT_TABLE_HEADER_DEVICE_ID"},{id:"os_name",translationKey:"CLIENT_TABLE_HEADER_OS_NAME"},{id:"actions",translationKey:"CLIENT_TABLE_HEADER_ACTIONS",isPermanent:!0}].filter(function(t){return null!==t}),this.columnPresets=[{id:"default",translationKey:"CLIENT_COLUMNS_PRESET_DEFAULT"},{id:"all",translationKey:"CLIENT_COLUMNS_PRESET_ALL"}],this.views={default:["name","ip","satisfaction","connection","uplink","activity","activity_down","activity_up","uptime"]},n.call(this,e,i,o)}o.prototype=Object.create(n.prototype),o.constructor=o,o.prototype.setWiredFilter=function(t){this.isWired=t},o.prototype.setGuestFilter=function(t){this.isGuest=t},o.prototype.getPredefinedColumns=function(){var t=angular.copy(this.views.default);return!1===this.isWired&&(t.push("channel"),t.push("phy_mode"),t.push("signal")),this.isGuest&&t.push("status"),t},o.prototype.setColumns=function(){this.isCustomized?n.prototype.setColumns.call(this):this.columns=this.getPredefinedColumns()},o.prototype.setColumnPreset=function(t){var e="all"===t?this.getAllColumns():this.views[t];e&&e.length&&(this.clearSelectedColumns(),this.columns=e,this.setCustomized(!0),this.saveColumns())},o.$inject=["featureFlag","localStorageFailSafe","StorageObjectValue","StorageBooleanValue"],angular.module("app-unifi-manage").service("clientListColumnStore",o)},{}],943:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("clientStateUtils",[function(){this.isClientConnected=function(t){return!(!t.get("mac")||t.get("blocked")||!t.get("uptime"))},this.isClientAuthorizable=function(t){return!(!t.get("is_guest")||!(!t.get("is_wired")||t.get("is_wired")&&t.get("gw_mac")))}}])},{}],944:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("clientUplinkUtils",["devices",function(t){this.getUplink=function(e){return t.repository.collection.get(this.getUplinkMac(e))},this.getUplinkMac=function(t){return t.get("ap_mac")?t.get("ap_mac"):t.get("sw_mac")?t.get("sw_mac"):t.get("gw_mac")?t.get("gw_mac"):void 0},this.getUplinkDisplayName=function(t){var e=this.getUplink(t);return e?e.getDisplayName()+("usw"===e.get("type")&&t.get("sw_port")?" #"+t.get("sw_port"):""):""},this.getUplinkPropertyPanelState=function(t,e){return(e=e||this.getUplink(t))&&"usw"===e.get("type")?[{state:"port",value:t.get("sw_port"),overwrite:!0}]:void 0}}])},{}],945:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("clientUtils",["$q","$translate","ClientHistoryCollection","ClientMgrModel","DeviceMgrModel","apiResults","CLIENT_DEVICE","OUI","UBNT_CLIENT_TYPES",function(t,e,i,n,o,r,a,s,l){function c(t,e,i){t.set(i),t.collection&&t.collection.trigger(e,t,i)}this._executeClientCommand=function(t,e){var i=new n;return(e=e||{}).cmd=t,i.save(e)},this.fetchClientHistory=function(t,e,n){return(n=n||{}).params={mac:t.get("mac"),_limit:e||50,_sort:"-assoc_time"},(new i).resolve(n)},this.addClient=function(i){return i.save(null,{type:"POST"}).then(function(){return e.instant("CLIENT_ACTIONS_ADD_SUCCESS",{mac:i.get("mac")})}).catch(function(n){return t.reject(r.appendErrorMsg(e.instant("CLIENT_ACTIONS_ADD_ERROR",{mac:i.get("mac")}),n))})},this.saveClient=function(t,e,i){return t.savePartial(e,i).then(function(){t.collection&&!(i||{}).delegateTo&&t.collection.trigger("save",t,e)})},this.savePendingChanges=function(i,n){return i.savePendingChanges(n).then(function(){return t.when(e.instant("CLIENT_PROPERTIES_PENDING_CHANGES_APPLY_SUCCESS",{clientName:i.getDisplayName()}))}).catch(function(n){return t.reject(r.appendErrorMsg(e.instant("CLIENT_PROPERTIES_PENDING_CHANGES_APPLY_ERROR",{clientName:i.getDisplayName()}),n))})},this.reconnectClient=function(i){var n={mac:i.get("mac")};return this._executeClientCommand("kick-sta",n).then(function(){return c(i,"action:reconnect",{uptime:void 0}),t.when(e.instant("CLIENT_ACTIONS_RECONNECT_NOTICE",{clientName:i.getDisplayName()}))}).catch(function(n){return t.reject(r.appendErrorMsg(e.instant("CLIENT_ACTIONS_RECONNECT_ERROR",{clientName:i.getDisplayName()}),n))})},this.blockClient=function(i){var n={mac:i.get("mac")};return this._executeClientCommand("block-sta",n).then(function(){return c(i,"action:block",{blocked:!0}),t.when(e.instant("CLIENT_ACTIONS_BLOCK_NOTICE",{clientName:i.getDisplayName()}))}).catch(function(n){return t.reject(r.appendErrorMsg(e.instant("CLIENT_ACTIONS_BLOCK_ERROR",{clientName:i.getDisplayName()}),n))})},this.unblockClient=function(i){var n={mac:i.get("mac")};return this._executeClientCommand("unblock-sta",n).then(function(){return c(i,"action:unblock",{blocked:!1}),t.when(e.instant("CLIENT_ACTIONS_UNBLOCK_NOTICE",{clientName:i.getDisplayName()}))}).catch(function(n){return t.reject(r.appendErrorMsg(e.instant("CLIENT_ACTIONS_UNBLOCK_ERROR",{clientName:i.getDisplayName()}),n))})},this.authorizeGuest=function(i){var n={mac:i.get("mac")};return this._executeClientCommand("authorize-guest",n).then(function(){return c(i,"action:authorize",{authorized:!0}),t.when(e.instant("CLIENT_ACTIONS_AUTHORIZE_NOTICE",{clientName:i.getDisplayName()}))}).catch(function(n){return t.reject(r.appendErrorMsg(e.instant("CLIENT_ACTIONS_AUTHORIZE_ERROR",{clientName:i.getDisplayName()}),n))})},this.unauthorizeGuest=function(i){var n={mac:i.get("mac")};return this._executeClientCommand("unauthorize-guest",n).then(function(){return c(i,"action:unauthorize",{authorized:!1}),t.when(e.instant("CLIENT_ACTIONS_UNAUTHORIZE_NOTICE",{clientName:i.getDisplayName()}))}).catch(function(n){return t.reject(r.appendErrorMsg(e.instant("CLIENT_ACTIONS_UNAUTHORIZE_ERROR",{clientName:i.getDisplayName()}),n))})},this.forgetSta=function(i){var n={macs:[i.get("mac")]};return this._executeClientCommand("forget-sta",n).then(function(){return i.collection&&i.collection.remove(i),t.when(e.instant("CLIENT_ACTIONS_FORGET_NOTICE",{clientName:i.getDisplayName()}))}).catch(function(n){return t.reject(r.appendErrorMsg(e.instant("CLIENT_ACTIONS_FORGET_ERROR",{clientName:i.getDisplayName()}),n))})},this.queryDpiStats=function(t){return(new o).save({mac:t.get("mac"),cmd:"query-dpi-stats"})},this.getIconClassName=function(t){return t?(t.get("oui")===s.UBIQUITI&&(e=l.find(function(e){return e.match(t)},this)),e?e.className:t.get("is_guest")?t.get("is_wired")?"icon ubnt-icon--guest-wired":"icon ubnt-icon--guest-wireless":t.get("is_wired")?"icon ubnt-icon--user-wired":"icon ubnt-icon--user-wireless"):"";var e},this.getDeviceFingerprint=function(t){return t.get("oui")+":"+t.get("hostname")},this.getDeviceType=function(t){var e=Object.keys(a).find(function(e){return a[e].fingerprints.find(function(e){return e.test(this.getDeviceFingerprint(t))},this)},this);return e&&a[e]}}])},{}],946:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("clients",["BaseCollectionRepository","ClientCollection","inhibitor","CLIENT_FETCH_DEFAULTS",function(t,e,i,n){this.repository=new t(new e),this.repository.register();var o={},r=i(function(){var t=Object.keys(o);this.repository.collection.fetchBatch({macs:t}),o={}}.bind(this),{debounceWait:n.DEBOUNCE_WAIT,leading:!0,throttleWait:n.THROTTLE_WAIT});this.fetchClient=function(t){o[t]=!0,r()};var a={wired:{users:0,guests:0},wireless:{ng:{users:0,guests:0},na:{users:0,guests:0},unknown:{users:0,guests:0},sum:{active:0,users:0,guests:0,all:0}},sum:{users:0,guests:0,all:0}},s=angular.copy(a);this.getClientCounts=function(){return s};this.repository.collection.onUpdate(function(){s=angular.copy(a),this.repository.collection.each(function(t){var e;t.get("is_wired")?s.wired[t.get("is_guest")?"guests":"users"]++:(e=t.get("radio")||"unknown",s.wireless[e][t.get("is_guest")?"guests":"users"]++,t.isActive()&&s.wireless.sum.active++)}),s.wireless.ng.all=s.wireless.ng.users+s.wireless.ng.guests,s.wireless.na.all=s.wireless.na.users+s.wireless.na.guests,s.wireless.unknown.all=s.wireless.unknown.users+s.wireless.unknown.guests,s.wireless.sum.users=["ng","na","unknown"].reduce(function(t,e){return t+s.wireless[e].users},0),s.wireless.sum.guests=["ng","na","unknown"].reduce(function(t,e){return t+s.wireless[e].guests},0),s.wireless.sum.all=s.wireless.sum.users+s.wireless.sum.guests,s.wired.all=s.wired.users+s.wired.guests,s.sum={},s.sum.users=s.wired.users+s.wireless.sum.users,s.sum.guests=s.wired.guests+s.wireless.sum.guests,s.sum.all=s.sum.users+s.sum.guests,this.repository.collection.trigger("countersUpdate")}.bind(this))}])},{}],947:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("cloudKeySdCardCheck",["$q","account","frame","settings","system",function(t,e,i,n,o){this.resolve=function(){if(!e.isSuperAdmin())return t.when();var r=n.getSettingFromKey("super_mgmt");return o.isCloudKeyModelWithStorageLimitations()&&!o.isCloudKeySdCardMounted()&&r.get("autobackup_enabled")?i.show("cloudKeySdCardCheck",{options:angular.noop}).then(function(){return n.saveSettings(r,{autobackup_enabled:!1},"mgmt")}):t.when()}}])},{}],948:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("AirTimeScanCollection",["AirTimeScanModel","RealtimeScanCollection",function(t,e){return e.extend({model:t})}])},{}],949:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("AirViewScanCollection",["AirViewScanModel","RealtimeScanCollection","AIR_VIEW",function(t,e,i){return e.extend({model:t,queueSize:i.QUEUE_SIZE})}])},{}],950:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("AlertCollection",["CORSCollection","AlertModel","featureFlag","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin","ALERTS_DEFAULTS",function(t,e,i,n,o,r,a,s){return t.extend(n).extend(o).extend(r).extend(a).extend({model:e,siteUrl:"stat/alarm",meta:{count:0},getWithArchived:function(){return!!this._withArchived},setWithArchived:function(t){this._withArchived=!!t},getTotalAlerts:function(){return this.meta.count},setTotalAlerts:function(t,e){this.meta.count=e?this.meta.count+t:t},resolveMore:function(t){return(t=t||{}).params=t.params||{},t.params._limit=s.FETCH_PACK_SIZE,t.params._start=t.params._limit*Math.floor(this.length/t.params._limit),t.forceFetch=!0,this.resolve(t)},resolve:function(t){return(t=t||{}).params=t.params||{},t.params._limit=t.params._limit||s.REFRESH_PACK_SIZE,t.params._start=t.params._start||0,t.params._withcount=!0,this._withArchived||(t.params.archived=!1),this.length&&!t.reset?(t.merge=!0,t.remove=!1):t.reset=!0,n.resolve.call(this,t)},reset:function(){return this.setTotalAlerts(0),t.prototype.reset.apply(this,arguments)},sync:function(e,i,n){return n=n||{},"read"===e&&n.params&&(n.type="POST",n.data=JSON.stringify(n.params),delete n.params),t.prototype.sync.call(this,e,i,n)}})}])},{}],951:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("AnomaliesCollection",["CORSCollection","BackupModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,_isActiveSiteOptional:!0,setDateInterval:function(t,e){this.start=t,this.end=e},setGranularity:function(t){this.granularity=t},siteUrl:function(){var t=[this.granularity?"scale="+this.granularity.url:"",this.start?"start="+this.start:"",this.end?"end="+this.end:""].join("&");return"stat/anomalies"+(t.length?"?"+t:"")}})}])},{}],952:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("CacheableClientCollection",["BaseModel","ClientCollection","knownClientsCache",function(t,e,i){return e.extend({_prepareModel:function(n,o){return n=i.cacheConnectedClient(n instanceof t?n:new t(n,o)),i.repository.registerItem(n.id),e.prototype._prepareModel.call(this,n,o)},_removeReference:function(t,n){return i.repository.unregisterItem(t.id),e.prototype._removeReference.call(this,t,n)}})}])},{}],953:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ClientCollection",["CORSCollection","ClientModel","fetchBatchMixin","siteUrlMixin","statsMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a,s){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend(s).extend({model:e,siteUrl:"stat/sta"})}])},{}],954:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ClientHistoryCollection",["CORSCollection","ClientHistoryModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"stat/session",sync:function(e,i,n){return n=n||{},"read"===e&&n.params&&(n.type="POST",n.data=JSON.stringify(n.params),delete n.params),t.prototype.sync.call(this,e,i,n)}})}])},{}],955:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DashboardStatsCollection",["bowser","CORSCollection","CORSModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin","REPORT_GRANULARITY",function(t,e,i,n,o,r,a,s){function l(t){return t}function c(t){return 8*t}var u={latency_avg:{to:"latencyMs",transpose:l,value:!0},retries_rate_avg:{to:"retriesRate",transpose:l,value:!0},dropped_rate_avg:{to:"droppedRate",transpose:l,value:!0},airtime_avg:{to:"airtime",transpose:l,value:!0},"tx_bytes-r":{to:"upload",transpose:c,value:!0},"rx_bytes-r":{to:"download",transpose:c,value:!0},"max_tx_bytes-r":{to:"maxUpload",transpose:c,value:!0},"max_rx_bytes-r":{to:"maxDownload",transpose:c,value:!0},time:{to:"time",transpose:l,value:!1}};function d(t,e,i){var n={label:i};return Object.keys(u).forEach(function(i){var o=u[i],r=e.get(i);n[o.to]=r?o.transpose(r):null,o.value&&r&&(t.notEmpty=!0)}),t.entries.push(n),t}return e.extend(n).extend(o).extend(r).extend(a).extend({model:i,siteUrl:function(){var t=[];return this.granularity===s.MINUTES&&t.push("scale=5minutes"),this.start&&this.end&&(t.push("start="+this.start),t.push("end="+this.end)),"stat/dashboard"+((t.length?"?":"")+t.join("&"))},comparator:function(t){return[t.get("time")]},setDateInterval:function(t,e){this.start=t,this.end=e},setGranularity:function(t){this.granularity=t},getGranularity:function(){return this.granularity},getChartData:function(){return this.reduce(d,{entries:[],notEmpty:!1})}})}])},{}],956:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DeviceInventoryCollection",["CORSCollection","DeviceInventoryModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"stat/widget/device-inventory"})}])},{}],957:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DhcpOptionCollection",["CORSCollection","DhcpOptionModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"rest/dhcpoption"})}])},{}],958:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DpiAppCollection",["CORSCollection","DpiAppModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"rest/dpiapp"})}])},{}],959:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DpiGroupCollection",["CORSCollection","DpiGroupModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"rest/dpigroup",initialize:function(){this.on("change:name change:attr_no_delete",this.sort,this)},comparator:function(t){return[!t.isBuiltIn(),t.get("name")]}})}])},{}],960:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DynamicDnsCollection",["CORSCollection","DynamicDnsModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"rest/dynamicdns"})}])},{}],961:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DynamicDnsStatsCollection",["CORSCollection","DynamicDnsStatsModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"stat/dynamicdns"})}])},{}],962:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("EventCollection",["CORSCollection","EventModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin","EVENTS_DEFAULTS",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"stat/event",meta:{count:0,admin:0,lan:0,wlan:0},getWithin:function(){return this._within||4320},setWithin:function(t){this._within=t},getTotalEvents:function(){return this.meta.count},setTotalEvents:function(t){this.meta.count=t},resetCounts:function(){this.meta.admin=0,this.meta.lan=0,this.meta.wlan=0},updateCounts:function(){this.resetCounts(),this.each(function(t){t.get("is_admin")&&this.meta.admin++,"wlan"===t.get("subsystem")&&this.meta.wlan++,"lan"===t.get("subsystem")&&this.meta.lan++}.bind(this)),this.meta.all=this.length},resolveMore:function(t){return(t=t||{}).params=t.params||{},t.params._limit=a.FETCH_PACK_SIZE,t.params._start=t.params._limit*Math.floor(this.length/t.params._limit),t.forceFetch=!0,this.resolve(t).then(this.updateCounts.bind(this))},resolve:function(t){return(t=t||{}).params=t.params||{},t.params._limit=t.params._limit||a.REFRESH_PACK_SIZE,t.params._start=t.params._start||0,t.params.within=this.getWithin(),this.length&&!t.reset?(t.merge=!0,t.remove=!1):t.reset=!0,i.resolve.call(this,t).then(this.updateCounts.bind(this))},reset:function(){return this.resetCounts(0),this.setTotalEvents(0),t.prototype.reset.apply(this,arguments)},sync:function(e,i,n){return n=n||{},"read"===e&&n.params&&(n.type="POST",n.data=JSON.stringify(n.params),delete n.params),t.prototype.sync.call(this,e,i,n)}})}])},{}],963:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("FirewallGroupCollection",["CORSCollection","FirewallGroupModel","deepCopyMixin","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend({model:e,siteUrl:"rest/firewallgroup"})}])},{}],964:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("FirewallRuleCollection",["CORSCollection","FirewallRuleModel","deepCopyMixin","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend({model:e,siteUrl:"rest/firewallrule"})}])},{}],965:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("FirmwareAvailableCollection",["CORSCollection","FirmwareModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"cmd/firmware",_isActiveSiteOptional:!0,sync:function(e,i,n){return n=n||{},"read"===e&&(n.type="POST",n.data=JSON.stringify({cmd:"list-available"})),t.prototype.sync.call(this,e,i,n)}})}])},{}],966:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("FirmwareCachedCollection",["CORSCollection","FirmwareModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"cmd/firmware",_isActiveSiteOptional:!0,sync:function(e,i,n){return n=n||{},"read"===e&&(n.type="POST",n.data=JSON.stringify({cmd:"list-cached"})),t.prototype.sync.call(this,e,i,n)}})}])},{}],967:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("Hotspot2Collection",["CORSCollection","Hotspot2Model","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"rest/hotspot2conf"})}])},{}],968:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("HotspotPackageCollection",["CORSCollection","HotspotPackageModel","deepCopyMixin","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend({model:e,siteUrl:"rest/hotspotpackage?_sort=index"})}])},{}],969:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("IpsEventCollection",["CORSCollection","IpsEventModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"stat/ips/event",setDateInterval:function(t,e){this.start=t,this.end=e},sync:function(e,i,n){if(n=n||{},"read"===e){n.type="POST";var o={start:this.start,end:this.end,_limit:1e4};n.data=JSON.stringify(o)}return t.prototype.sync.call(this,e,i,n)}})}])},{}],970:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("KnownClientCacheCollection",["CORSCollection","KnownClientModel",function(t,e){return t.extend({model:e})}])},{}],971:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("KnownClientCollection",["CORSCollection","KnownClientModel","siteUrlMixin","siteUrlWithinMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend({model:e,siteUrl:"stat/alluser"})}])},{}],972:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("NotificationCollection",["CORSCollection","NotificationModel","siteUrlMixin","structureMixin","modelToCollectionMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend({model:e,siteUrl:function(){return this._isDefaultEvents?"stat/default-events":"stat/effective-events"},parse:function(t){return t=n.parse.call(this,t)[0],o.parse.call(this,t)}})}])},{}],973:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("NeighboringAccessPointCollection",["CORSCollection","NeighboringAccessPointModel","siteUrlMixin","siteUrlWithinMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend({within:null,model:e,siteUrl:"stat/rogueap"})}])},{}],974:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("NewClientCollection",["CORSCollection","ClientModel","saveBatchMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"group/user"})}])},{}],975:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("PastConnectionCollection",["$q","CORSCollection","PastConnectionModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return e.extend(n).extend(o).extend(r).extend(a).extend({model:i,start:0,end:0,siteUrl:function(){return"stat/session?type=all&start="+this.start+"&end="+this.end},updateDateInterval:function(t,e){this.start=t/1e3,this.end=e/1e3},getStart:function(){return 1e3*this.start},getEnd:function(){return 1e3*this.end}})}])},{}],976:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("PastGuestAuthorizationCollection",["CORSCollection","PastGuestAuthorizationModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,start:0,end:0,siteUrl:function(){return"stat/authorization?start="+this.start+"&end="+this.end},updateDateInterval:function(t,e){this.start=t/1e3,this.end=e/1e3},getStart:function(){return 1e3*this.start},getEnd:function(){return 1e3*this.end}})}])},{}],977:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("PortCollection",["BaseCollection","deepCopyMixin","PortModel",function(t,e,i){return t.extend(e).extend({model:i,comparator:"port_idx"})}])},{}],978:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("PortForwardCollection",["CORSCollection","deepCopyMixin","PortForwardModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(e).extend(n).extend(o).extend(r).extend(a).extend({model:i,siteUrl:"rest/portforward"})}])},{}],979:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("PortForwardStatsCollection",["CORSCollection","PortForwardStatsModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"stat/portforward"})}])},{}],980:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RadiusProfileCollection",["CORSCollection","RadiusProfileModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"rest/radiusprofile"})}])},{}],981:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RadiusUserCollection",["CORSCollection","RadiusUserModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(n).extend(o).extend(i).extend(r).extend({model:e,siteUrl:"rest/account"})}])},{}],982:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RealtimeScanCollection",["BaseCollection",function(t){return t.extend({index:0,queueSize:0,add:function(e){return e&&(e.id=this.index++,e.timestamp=Date.now()),this.queueSize&&this.size()>=this.queueSize&&this.remove(this.at(0),{silent:!0}),t.prototype.add.apply(this,arguments)},reset:function(){return this.index=0,t.prototype.reset.apply(this,arguments)}})}])},{}],983:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RemoteUserVpnCollection",["CORSCollection","RemoteUserVpnModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"stat/remoteuservpn"})}])},{}],984:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RogueKnownAccessPointCollection",["CORSCollection","RogueKnownAccessPointModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"rest/rogueknown"})}])},{}],985:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RoutingCollection",["CORSCollection","RoutingModel","deepCopyMixin","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend({model:e,siteUrl:"rest/routing"})}])},{}],986:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RoutingStatsCollection",["CORSCollection","RoutingStatsModel","deepCopyMixin","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend({model:e,siteUrl:"stat/routing"})}])},{}],987:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ScheduleTaskCollection",["CORSCollection","ScheduleTaskModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(n).extend(o).extend(i).extend(r).extend({model:e,setAction:function(t){this.action=t},siteUrl:function(){return"rest/scheduletask"+(this.action?"?action="+this.action:"")}})}])},{}],988:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("SiteAdminCollection",["CORSCollection","SiteAdminModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"cmd/sitemgr",sync:function(e,i,n){return n=n||{},"read"===e&&(n.type="POST",n.data=JSON.stringify({cmd:"get-admins"})),t.prototype.sync.call(this,e,i,n)}})}])},{}],989:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("StreamCollection",["CORSCollection","siteUrlMixin","StreamModel","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(e).extend(n).extend(o).extend(r).extend({model:i,siteUrl:"stat/stream"})}])},{}],990:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("StreamDeviceCollection",["CORSCollection","StreamDeviceModel",function(t,e){return t.extend({model:e})}])},{}],991:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("SwitchModuleStatsCollection",["CORSCollection","SwitchModuleStatsModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"stat/widget/switch-stats"})}])},{}],992:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("SwitchPortCollection",["CORSCollection","SwitchPortModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"rest/portconf"})}])},{}],993:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("SwitchStatsPortCollection",["SwitchPortCollection","SwitchStatsPortModel",function(t,e){return t.extend({model:e})}])},{}],994:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("UserGroupCollection",["CORSCollection","UserGroupModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"rest/usergroup",getDefault:function(){return this.findWhere({attr_hidden_id:"Default"})}})}])},{}],995:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("VirtualDeviceCollection",["CORSCollection","VirtualDeviceModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"rest/virtualdevice"})}])},{}],996:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("WallCollection",["CORSCollection","WallModel","deepCopyMixin","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend({model:e,siteUrl:"rest/wall"})}])},{}],997:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("WlanDpiCollection",["CORSCollection","CORSModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"stat/wlandpi"})}])},{}],998:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").service("BaseComparator",["collectionViewComparator",function(t){return function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"addComparator",value:function(e,i){return this[e]=function(e,n){return t(i(e),i(n))},this}}]),e}()}])},{}],999:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("adminsComparator",["collectionViewComparator","siteAdminUtils",function(t,e){var i={SETTINGS_ADMIN_VALUES_ROLE_SUPER_ADMIN:1,SETTINGS_ADMIN_VALUES_ROLE_ADMIN:2,SETTINGS_ADMIN_VALUES_ROLE_READ_ONLY:3};return{name:function(e,i){var n=e.get("name"),o=i.get("name");return t(n,o)},email:function(e,i){var n=e.get("email"),o=i.get("email");return t(n,o)},is_verified:function(e,i){var n=e.get("is_verified"),o=i.get("is_verified");return t(n,o)},role:function(n,o){var r=e.getRoleTranslationKey(n),a=e.getRoleTranslationKey(o);return t(i[r],i[a])}}}])},{}],1000:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("clientsComparator",["collectionViewComparator","clientUplinkUtils","dpi","ipUtils","userGroups",function(t,e,i,n,o){var r={undefined:1,false:1,true:2},a={undefined:1,false:1,true:2};return{state:function(e,i){return r[e.get("is_wired")]===r[i.get("is_wired")]?a[e.get("is_guest")]===a[i.get("is_guest")]?t(e.getDisplayName(),i.getDisplayName()):t(a[e.get("is_guest")],a[i.get("is_guest")]):t(r[e.get("is_wired")],r[i.get("is_wired")])},status:function(e,i){var n=e.get("authorized")||!e.get("is_guest"),o=i.get("authorized")||!i.get("is_guest");return t(n,o)},ip:function(e,i){var o=n.ip2long(e.get("ip")),r=n.ip2long(i.get("ip"));return t(o,r)},name:function(e,i){var n=e.getDisplayName(),o=i.getDisplayName();return t(n,o)},connection:function(e,i){var n=e.getConnection(),o=i.getConnection();return t(n,o)},satisfaction:function(e,i){var n=e.get("satisfaction"),o=i.get("satisfaction"),r=t(n,o);return void 0===n^void 0===o&&(r*=-1),r},uplink:function(i,n){if(e.getUplinkMac(i)===e.getUplinkMac(n)){var o=e.getUplink(i);return o&&"usw"===o.get("type")?t(i.get("sw_port"),n.get("sw_port")):0}return t(e.getUplinkDisplayName(i),e.getUplinkDisplayName(n))},phy_mode:function(e,i){var n=e.get("radio_proto"),o=i.get("radio_proto");return n===o?t(e.get("powersave_enabled"),i.get("powersave_enabled")):t(n,o)},usergroup_id:function(e,i){var n=e.get("usergroup_id"),r=i.get("usergroup_id");if(n&&r){var a=o.repository.collection.get(n),s=o.repository.collection.get(r);return t(a&&a.get("name"),s&&s.get("name"))}return n?-1:r?1:0},activity:function(e,i){return t(e.getActivityBytes(),i.getActivityBytes())},activity_down:function(e,i){return t(e.getTxActivity(),i.getTxActivity())},activity_up:function(e,i){return t(e.getRxActivity(),i.getRxActivity())},inter_network_down:function(e,i){return t(e.getInterNetworkDown()||0,i.getInterNetworkDown()||0)},inter_network_up:function(e,i){return t(e.getInterNetworkUp()||0,i.getInterNetworkUp()||0)},vendor:function(e,n){var o=i.getDeviceVendor(e.get("dev_vendor"))||e.get("oui"),r=i.getDeviceVendor(n.get("dev_vendor"))||n.get("oui");return t(o,r)},dev_id:function(e,n){var o=i.getDevice(e.get("dev_id")),r=i.getDevice(n.get("dev_id"));return t(o,r)},dev_cat:function(e,n){var o=i.getDeviceCategory(e.get("dev_id")),r=i.getDeviceCategory(n.get("dev_id"));return t(o,r)},os_name:function(e,n){var o=i.getOsName(e.get("os_name")),r=i.getOsName(n.get("os_name"));return t(o,r)}}}])},{}],1001:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("ipsAlertsComparator",["BaseComparator","countryNameUtils","ipUtils","ipsEventsUtils",function(t,e,i,n){return(new t).addComparator("severity",function(t){return t.getSeverity()}).addComparator("srcIp",function(t){return i.ip2long(t.getSrcIp())}).addComparator("country",function(t){var i=n.getForeignCountryCode(t);return e.getName(i)}).addComparator("dstIp",function(t){return i.ip2long(t.getDestIp())}).addComparator("time",function(t){return-1*t.getTime()}).addComparator("type",function(t){return t.getAlertCategory()})}])},{}],1002:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("manageDashboardModuleDefinitionsComparator",["$translate","collectionViewComparator",function(t,e){return{default:function(i,n){var o=t.instant(i.get("translationKey")),r=t.instant(n.get("translationKey"));return e(o,r)}}}])},{}],1003:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("manageDevicesComparator",["collectionViewComparator","devicesComparator","gatewayUtils","ipUtils",function(t,e,i,n){return angular.extend({},e,{ip:function(e,o){var r=(e.isGateway()?i.getIpByNetworkGroup("LAN",e):null)||e.get("ip"),a=(o.isGateway()?i.getIpByNetworkGroup("LAN",o):null)||o.get("ip");return t(n.ip2long(r),n.ip2long(a))}})}])},{}],1004:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("simpleClientsComparator",["collectionViewComparator","clientUplinkUtils","ipUtils","userGroups",function(t,e,i,n){var o={undefined:1,false:1,true:2},r={undefined:1,false:1,true:2};return{state:function(e,i){return o[e.get("is_wired")]===o[i.get("is_wired")]?r[e.get("is_guest")]===r[i.get("is_guest")]?t(e.getDisplayName(),i.getDisplayName()):t(r[e.get("is_guest")],r[i.get("is_guest")]):t(o[e.get("is_wired")],o[i.get("is_wired")])},status:function(e,i){var n=e.get("authorized")||!e.get("is_guest"),o=i.get("authorized")||!i.get("is_guest");return t(n,o)},ip:function(e,n){var o=i.ip2long(e.get("ip")),r=i.ip2long(n.get("ip"));return t(o,r)},name:function(e,i){var n=e.getDisplayName(),o=i.getDisplayName();return t(n,o)},connection:function(e,i){var n=e.getConnection(),o=i.getConnection();return t(n,o)},satisfaction:function(e,i){var n=e.get("satisfaction"),o=i.get("satisfaction"),r=t(n,o);return void 0===n^void 0===o&&(r*=-1),r},uplink:function(i,n){if(e.getUplinkMac(i)===e.getUplinkMac(n)){var o=e.getUplink(i);return o&&"usw"===o.get("type")?t(i.get("sw_port"),n.get("sw_port")):0}return t(e.getUplinkDisplayName(i),e.getUplinkDisplayName(n))},phy_mode:function(e,i){var n=e.get("radio_proto"),o=i.get("radio_proto");return n===o?t(e.get("powersave_enabled"),i.get("powersave_enabled")):t(n,o)},usergroup_id:function(e,i){var o=e.get("usergroup_id"),r=i.get("usergroup_id");if(o&&r){var a=n.repository.collection.get(o),s=n.repository.collection.get(r);return t(a&&a.get("name"),s&&s.get("name"))}return o?-1:r?1:0},activity:function(e,i){return t(e.getActivityBytes(),i.getActivityBytes())},activity_down:function(e,i){return t(e.getTxActivity(),i.getTxActivity())},activity_up:function(e,i){return t(e.getRxActivity(),i.getRxActivity())},inter_network_down:function(e,i){return t(e.getInterNetworkDown()||0,i.getInterNetworkDown()||0)},inter_network_up:function(e,i){return t(e.getInterNetworkUp()||0,i.getInterNetworkUp()||0)}}}])},{}],1005:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("streamDevicesComparator",["collectionViewComparator","devices",function(t,e){return{device:function(i,n){var o=e.repository.collection.get(i.get("mac")),r=e.repository.collection.get(n.get("mac")),a=o?o.getDisplayName():i.get("mac"),s=r?r.getDisplayName():n.get("mac");return t(a,s)}}}])},{}],1006:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("unplacedDevicesComparator",["collectionViewComparator","deviceStateUtils",function(t,e){return{displayName:function(i,n){var o=i.get("name")||e.getDeviceModelName(i),r=n.get("name")||e.getDeviceModelName(n);return t(o,r)}}}])},{}],1007:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("wirelessNetworksComparator",["collectionViewComparator","radius","RADIUS_VLAN_OPTIONS",function(t,e,i){var n={};function o(t){var i=e.repository.collection.get(t.get("radiusprofile_id"));return i?i.get("vlan_wlan_mode"):void 0}return n[i.ENABLED]=1,n[i.REQUIRED]=2,n[i.DISABLED]=3,n[void 0]=3,{vlan:function(e,i){var r=e.get("vlan_enabled")&&e.get("vlan")||5e3,a=i.get("vlan_enabled")&&i.get("vlan")||5e3;return r===a?t(n[o(e)],n[o(i)]):t(r,a)}}}])},{}],1008:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("activeTabControllerMixin",[function(){return function(t){angular.extend(t,{tabsVisibility:[],checkActiveTab:function(){var t=this.getActiveTab();this.tabsVisibility[t]||"details"===t||this.setActiveTab("details")}})}}])},{}],1009:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("devicePropertiesPortsControllerMixin",["$timeout","batchEditControllerMixin","scroller","ELEMENTS",function(t,e,i,n){return function(o){e(o),angular.extend(o,{editedPort:null,isEditingPorts:!1,highlightPort:function(e,o){this.isEditingPorts||(this.setActiveTab("ports"),this.highlightedPort=e.get("port_idx"),o&&t(function(){i.transitionToElement("portRow"+this.model.get("_id")+"-"+e.get("port_idx"),-n.PANEL_STICKY_TITLE_HEIGHT)}.bind(this),0))},togglePortSelection:function(t,e){return this.isEditingPorts?e=this.isPortSelected(t):(this.isPortSelectable(t)?void 0===e&&(e=!this.isPortSelected(t)):e=!1,e?this.getBatchEditDestination().add(t):this.getBatchEditDestination().remove(t)),e},isPortSelectable:function(t){return t&&!t.get("aggregated_by")&&"switch"===t.get("op_mode")},isPortSelected:function(t){return t&&this.isBatchEditSelected(t)},editPort:function(t){this.editedPort=t},cancelEditPort:function(){this.editedPort=null}})}}])},{}],1010:[function(t,e,i){"use strict";var n=t("./../../controllers/BaseListAndFormController");angular.module("app-unifi-manage").factory("missingModelControllerMixin",[function(){return function(t){angular.extend(t,{onInitViewError:function(t){t.message===this.ERROR_EDIT_NOT_FOUND?this.list():n.prototype.onInitViewError.call(this,t)}})}}])},{"./../../controllers/BaseListAndFormController":800}],1011:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("panelViewControllerMixin",["bowser","localStorageFailSafe","StorageObjectValue","preferences",function(t,e,i,n){return function(o,r,a){var s=new i(e,"panelViewStore:"+r);s.hydrate(),angular.extend(o,{usePanelView:function(){return void 0===this._usePanelView&&(this._usePanelView=!(t.mobile||t.tablet||a&&!n.model.get(a))),this._usePanelView},onPanelResizeStop:function(t,e){var i=s.getValue()||{};i[t]=e,s.setValue(i)},getInitialPanelHeight:function(t){var e=s.getValue();return e?e[t]:void 0}})}}])},{}],1012:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("resolveRepositoryGroupControllerMixin",["repositoryUtils",function(t){return function(e){angular.extend(e,{isLoading:!0,failedToLoad:!1,missingPermission:!1,resolve:function(){return this.failedToLoad=!1,this.lazyRepositories&&t.registerAndFetchGroup(this.lazyRepositories),t.registerAndFetchGroup(this.repositories||[]).then(function(){this.isLoading=!1,this.failedToLoad=!1}.bind(this)).catch(function(t){t&&403===t.status&&(this.missingPermission=!0),this.failedToLoad=!0}.bind(this))},retry:function(){this.resolve()},unregister:function(){t.unregisterGroup(this.repositories||[]),this.lazyRepositories&&t.unregisterGroup(this.lazyRepositories)}})}}])},{}],1013:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("timeBasedGraphControllerMixin",["d3","moment","preferences","dateUtils","REPORT_GRANULARITY",function(t,e,i,n,o){return function(r){angular.extend(r,{xAxisFormat:function(t,o){var r=n.getPreferredTimezone(),a=e(o,"x").tz(r).diff(e(o,"x").tz(r).startOf("day"),"minutes");switch(t){case e.duration(1,"hour").asMilliseconds():return e(o,"x").tz(r).format(i.model.get("use24HourTime")?"H:mm":"ha");case e.duration(6,"hour").asMilliseconds():var s=0===a?"ddd":i.model.get("use24HourTime")?"H:mm":"ha";return e(o,"x").tz(r).format(s);case e.duration(1,"day").asMilliseconds():return e(o,"x").tz(r).format("Do");case e.duration(1,"week").asMilliseconds():var l=e(o,"x").tz(r).day(0),c=e(o,"x").tz(r).day(6);return l.format("M")!==c.format("M")?l.format("Do MMM")+" - "+c.format("Do MMM"):l.format("Do")+" - "+c.format("Do MMM");case e.duration(1,"month").asMilliseconds():return e(o,"x").tz(r).format("MMMM");default:return}},getTickResolution:function(t,i){var n=e.duration(i-t).asDays();return n<=1?e.duration(1,"hour").asMilliseconds():n<28?e.duration(1,"day").asMilliseconds():n<120?e.duration(1,"week").asMilliseconds():e.duration(1,"month").asMilliseconds()},getMomentTickName:function(t,i){var n=e.duration(i-t).asDays();return n<=1?"hour":n<28?"day":n<120?"week":"month"},getGranularity:function(t,i,n,r){var a=Math.round(e.duration(i-t).asDays());return n&&(a<1||r&&a<=1)?o.MINUTES:a<7?o.HOURLY:a<120?o.DAILY:o.MONTHLY},getBackgroundShader:function(t,i){var n=Math.round(e.duration(i-t).asDays());return function(t,i){return n<=1?Math.floor(i/6)%2:n<21?e(t).dayOfYear()%2:n<93?e(t).format("w")%2:!!n&&e(t).format("m")%2}},getDataEntry:function(t){return this.data&&this.data.find(function(e){return e.time===t})},markItem:function(t){this.focusedData=this.getDataEntry(t)||this.focusedData},prepareXAxis:function(i,o,r){var a,s=this;o=o||i.xScaleDomain[0],r=r||i.xScaleDomain[1];var l=!0,c=e.duration(r-o).asDays();c<=1?(l=!1,a=t.utcHours):a=c<28?t.utcDays:c<120?t.utcWeeks:t.utcMonths,l=!i.doNotFixHours&&l,i.xAxisSecondaryFormat=function(t){return s.xAxisFormat(i.xAxisTickResolution,e(t).startOf("hour").valueOf())},i.xAxisTickValues=function(){var t=n.getPreferredTimezone();return[o].concat(a(o,r).map(function(i){return l?e(i).subtract(e().tz(t).utcOffset(),"minutes").valueOf():e(i).valueOf()})).concat(r)},i.xAxisSecondaryTickValues=function(){var t=a(o,r).map(function(t){return l?e(t).subtract(e().utcOffset(),"minutes").valueOf():e(t).valueOf()}),n=i.xAxisTickResolution/2;return t=t.map(function(t){return t+n}).filter(function(t){return t-o>.8*n}).filter(function(t){return r-t>.8*n})}}})}}])},{}],1014:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("controllerStats",["BaseModelRepository","ControllerStatsModel",function(t,e){this.repository=new t(new e)}])},{}],1015:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("controllerWarnings",["BaseModelRepository","ControllerWarningsModel",function(t,e){this.repository=new t(new e),this.getDevicesLimit=function(){return this.repository.model.get("device_limit")},this.hasUpgradableDevices=function(){return this.repository.model.get("has_upgradable_devices")},this.getFirmwareLastChanged=function(){return this.repository.model.get("firmware_last_changed")},this.shouldShowReportsTos=function(){return this.repository.model.get("request_terms")},this.shouldShowReportsApprovement=function(){return this.repository.model.get("request_approvement")},this.getTermsVersion=function(){return this.repository.model.get("terms_version")}}])},{}],1016:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("countryNameUtils",["$translate","settings","COUNTRY_MAP",function(t,e,i){var n=new Map,o=void 0;this.getName=function(e){return e?(n.has(e)||n.set(e,t.instant("COUNTRY_"+e)),n.get(e)):""},this.getNameWithDefaultSiteCountry=function(t){return t?this.getName(t):this.getName(this.getSiteCountryCode())},this.getSiteCountryCode=function(){if(!o){var t=e.getSettingFromKey("country").get("code");o=function(t){return Object.keys(i).find(function(e){return i[e].numericCode===parseInt(t)})}(t)}return o}}])},{}],1017:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("customPortalPreview",[function(){var t={hotspotConfig:{},hotspotPackages:[]};function e(t){return t}function i(t){return angular.isObject(t)?t.url:t}var n={auth:e,facebook_enabled:e,google_enabled:e,payment_enabled:e,radius_enabled:e,wechat_enabled:e,portal_customized_bg_color:e,portal_customized_bg_image_enabled:e,portal_customized_bg_image_filename:i,portal_customized_bg_image_tile:e,portal_customized_box_color:e,portal_customized_box_link_color:e,portal_customized_box_text_color:e,portal_customized_box_opacity:e,portal_customized_button_color:e,portal_customized_button_text_color:e,portal_customized_languages:e,portal_customized_link_color:e,portal_customized_logo_enabled:e,portal_customized_logo_filename:i,portal_customized_text_color:e,portal_customized_tos:e,portal_customized_tos_enabled:e,portal_customized_welcome_text:e,portal_customized_welcome_text_enabled:e,portal_customized_welcome_text_position:e,voucher_enabled:e};this.getPreviewModel=function(e,i,o){return t.hotspotConfig=function(e){var i={};return e?(i=Object.keys(n).reduce(function(t,i){return t[i.replace("portal_customized_","")]=n[i](e.get(i)),t},{}),angular.extend(t.hotspotConfig,i)):void 0}(e),t.hotspotPackages=function(t){return t.map(function(t){return t.attributes})}(i),t.mobile="mobile"===o,t}}])},{}],1018:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("d3ChannelTrapezoidPoints",[function(){var t={scaleHeight:1,cutLeft:0,cutRight:0};return function(e){var i=(e=angular.extend({},t,e)).scaleHeight*e.height,n=i/e.height,o=e.cutRight*n,r=e.cutLeft*n;return[[0,e.height],[e.width,e.height],[e.width-o,e.height-i],[r,e.height-i],[0,e.height]]}}])},{}],1019:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("d3RfEnvironmentInterferenceScale",["d3",function(t){return t.scaleLinear().domain([-120,-92,-78,-64,-50,0]).range(["hsl(34, 98%, 61%)","hsl(34, 98%, 61%)","hsl(34, 98%, 51%)","hsl(15, 83%, 51%)","hsl(15, 83%, 41%)","hsl(15, 83%, 41%)"])}])},{}],1020:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("d3RfEnvironmentRssiInterferenceScale",["d3",function(t){return t.scaleLinear().domain([-120,-92,-78,-64,-50,0]).range(["hsl(34, 98%, 61%)","hsl(34, 98%, 61%)","hsl(34, 98%, 51%)","hsl(15, 83%, 51%)","hsl(15, 83%, 41%)","hsl(15, 83%, 41%)"])}])},{}],1021:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("dashboardStats",["BaseCollectionRepository","DashboardStatsCollection","REPORT_GRANULARITY",function(t,e,i){this.repository=new t(new e),this.repository.collection.setGranularity(i.MINUTES),this.getChartData=function(){return this.repository.collection.getChartData()}}])},{}],1022:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DataConverter",["binaryPrefix","mergeDefaults","objectUtils",function(t,e,i){var n=function(){};return n.prototype.withMap=function(t,e){return this.map=function(i){var n=e?i:{};return Object.keys(t).forEach(function(e){angular.isFunction(t[e])?n[e]=t[e](i):(n[e]=i[t[e]],e!==t[e]&&delete n[t[e]])}),n},this},n.prototype.sortedBy=function(t,e){return this.sort=function(i,n){var o=i[t]-n[t];return e?-o:o},this},n.prototype.withUnknownDefaults=function(t){return this.unknownDefaults=t,this},n.prototype.withOtherDefaults=function(t){return this.otherDefaults=t,this},n.prototype.compactUnknown=function(t,e){return this.processUnknown=function(){this.unknown=i.appendAll(this.data.filter(function(e){return t(e)},this),e),this.unknown&&(this.unknown.generated=!0),this.data=this.data.filter(function(e){return!t(e)},this)},this},n.prototype.countTotal=function(t){return this.processTotal=function(){this.total=i.appendAll(this.data,t)||{}},this},n.prototype.withBinaryNormalization=function(t,e,i){return this.normalize=!0,this.useSamePrefix=e,this.binaryStandard=i||{},this.normalizeExclusions=t||[],this},n.prototype.withLimit=function(t,e,n){return this.applyLimit=function(){var o=t;(this.unknown||e&&this.data.length>o)&&o--,!e&&this.data.length>=o&&o--,this.other=i.appendAll(this.data.slice(o),n),this.other&&(this.other.generated=!0),this.data=this.data.splice(0,o),e&&(this.unknown=this.unknown?i.append(this.unknown,this.other):this.other,this.other=void 0)},this},n.prototype.deduplicatedBy=function(t,e){return this.processUnique=function(){this.data=i.reduceDuplicates(this.data,t,e)},this},n.prototype.withPadding=function(t){return this.doPadding=function(){if(0!==this.data.length){for(var e=0,i=[],n=parseInt(t.start);n<=parseInt(t.end);n+=t.grain)if(n=t.normalize?t.normalize(n):n,e===this.data.length-1&&n>=this.data[e][t.property]+t.grain||n<=this.data[e][t.property]-t.grain){var o={};o[t.property]=n,i.push(o)}else e<this.data.length-1&&e++;this.data=this.data.concat(i)}},this},n.prototype.apply=function(t){return t=this.process(t),this.unknown&&(this.map&&(this.unknown=this.map(this.unknown)),t.push(e(Object.create(this.unknownDefaults||{}),this.unknown))),this.other&&(this.map&&(this.other=this.map(this.other)),t.push(e(Object.create(this.otherDefaults||{}),this.other))),{data:t,units:this.units,total:this.total}},n.prototype.process=function(e){if(this.data=e,this.map&&(this.data=this.data.map(this.map)),this.normalize){this.maxValues=this.data.reduce(function(t,e){return Object.keys(e).forEach(function(i){-1===this.normalizeExclusions.indexOf(i)&&(void 0===t[i]||e[i]>t[i])&&(t[i]=e[i])},this),t}.bind(this),{});var i=Math.max.apply(null,Object.keys(this.maxValues).map(function(t){return this.maxValues[t]||0},this));this.units=Object.keys(this.maxValues).reduce(function(e,n){return e[n]=t.parse(this.useSamePrefix?i:this.maxValues[n],this.binaryStandard[n]||"IEC").prefix,e}.bind(this),{}),this.data=this.data.map(function(e){return e.raw=e.raw||{},Object.keys(this.units).forEach(function(i){e.raw[i]=e[i],e[i]=t.normalizeToPrefix(this.units[i],e[i],this.binaryStandard[i]||"IEC")},this),e},this)}return this.sort&&(this.data=this.data.sort(this.sort)),this.processTotal&&this.processTotal(),this.processUnique&&this.processUnique(),this.processUnknown&&this.processUnknown(),this.sort&&(this.data=this.data.sort(this.sort)),this.applyLimit&&this.applyLimit(),this.doPadding&&(this.doPadding(),this.sort&&(this.data=this.data.sort(this.sort))),this.data},n}])},{}],1023:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("dataRetention",[function(){this.getOptions=function(t){return{fiveMinutes:this.buildDataRetentionOptions([1/24,2/24,.25,.5,1,7,30]),hourly:this.buildDataRetentionOptions([1,7,30,60,90,180],t),daily:this.buildDataRetentionOptions([31,90,180,365],t),monthly:this.buildDataRetentionOptions([31,90,180,365],t),others:this.buildDataRetentionOptions([7,30,60,90,180,365],t)}},this.buildDataRetentionOptions=function(t,e){var i=t.map(function(t){return t<1?{hours:Math.round(24*t),translationKey:"DATETIME_HOURS_FULL_PARAMETERIZED",translationParams:{hours:Math.round(24*t)}}:{hours:24*t,translationKey:"DATETIME_DAYS_FULL_PARAMETERIZED",translationParams:{days:t}}});return e&&i.push({hours:-1,translationKey:"SETTINGS_MAINTENANCE_VALUES_DOWNLOAD_NO_LIMIT"}),i}}])},{}],1024:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("dataRetentionUpdate",["$q","account","frame","localStorageFailSafe","StorageBooleanValue","settings","system","$translate",function(t,e,i,n,o,r,a,s){this.dataRetentionDaysStorage=new o(n,"data_retention_days_check"),this.dataRetentionDaysStorage.hydrate(),this.isDataRetentionDaysChecked=this.dataRetentionDaysStorage.getValue(),this.resolve=function(){if(!this.isDataRetentionDaysChecked&&a.isCloudKey()&&!e.isReadOnly()){var n=r.getSettingFromKey("super_mgmt");if(!n)return t.when();var o=n.pick(["data_retention_time_in_hours_for_5minutes_scale","data_retention_time_in_hours_for_hourly_scale","data_retention_time_in_hours_for_daily_scale","data_retention_time_in_hours_for_monthly_scale","data_retention_time_in_hours_for_others"]);if(Object.keys(o).some(function(t){var e=parseInt(o[t]);return isNaN(e)||!angular.isNumber(e)||-1===e}))return i.show("updateDataRetentionDays",{options:angular.noop}).then(function(t){return r.saveSettings(n,t,s.instant("SETTINGS_MAINTENANCE_KEY_SUPER_MGMT").toLowerCase())}).catch(function(){return t.when()}).finally(function(){this.dataRetentionDaysStorage.setValue(!0)}.bind(this))}return t.when()}}])},{}],1025:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("dbnameToServiceMapper",["$injector","clients","devices","dhcpOptions","dpiApps","dpiGroups","dynamicDns","firewallGroups","firewallRules","hotspot2","hotspotPackages","knownClients","networks","portForwards","radius","radiusUsers","rogueKnownAccessPoints","routing","settings","switches","tags","userGroups","virtualDevices","walls","wirelessNetworkGroups","wirelessNetworks",function(t,e,i,n,o,r,a,s,l,c,u,d,p,f,h,_,m,g,v,E,C,T,S,y,A,b){var I={account:_,device:i,dhcpoption:n,dpiapp:o,dpigroup:r,dynamicdns:a,firewallgroup:s,firewallrule:l,guest:"pastGuestAuthorizations",hotspotpackages:u,hotspot2conf:c,map:"maps",networkconf:p,portconf:E,portforward:f,radiusprofile:h,rogueknown:m,routing:g,setting:v,sta:[e,d],tag:C,usergroup:T,virtualdevice:S,wall:y,wlanconf:b,wlangroup:A};this.getDbNames=function(){return Object.keys(I)},this.findServices=function(e){var i=I[e];return angular.isArray(i)||(i=[i]),i.map(function(e){if(!angular.isString(e))return e;try{return t.get(e)}catch(t){return void console.log('Service "'+e+'" is not yet available. Ignoring.')}}).filter(function(t){return!!t})}}])},{}],1026:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("defaultSiteSshAuthPasswordCheck",["$q","account","frame","settings",function(t,e,i,n){this.resolve=function(){return e.isSuperAdmin()&&n.getSettingFromKey("super_mgmt").get("default_site_device_auth_password_alert")?i.show("adminPasswordChangeSuggestion",{options:angular.noop}).catch(function(){return t.when()}):t.when()}}])},{}],1027:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("deviceInventory",["BaseCollectionRepository","DeviceInventoryCollection",function(t,e){this.repository=new t(new e)}])},{}],1028:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseListColumnStore");function o(t,e,i,o){this.featureFlag=t,this.localStorageKey="columnStore:device",this.columnOptions=[{id:"state",translationKey:"DEVICE_TABLE_HEADER_ICON",isPermanent:!0},{id:"name",translationKey:"DEVICE_TABLE_HEADER_NAME"},{id:"mac",translationKey:"DEVICE_TABLE_HEADER_MAC_ADDRESS"},{id:"ip",translationKey:"DEVICE_TABLE_HEADER_IP"},{id:"stateString",translationKey:"DEVICE_TABLE_HEADER_STATUS"},{id:"model",translationKey:"DEVICE_TABLE_HEADER_MODEL"},{id:"version",translationKey:"DEVICE_TABLE_HEADER_VERSION"},{id:"uplink",translationKey:"DEVICE_TABLE_HEADER_UPLINK"},{id:"uptime",translationKey:"DEVICE_TABLE_HEADER_UPTIME"},{id:"memory",translationKey:"DEVICE_TABLE_HEADER_MEMORY_USAGE"},{id:"cpu",translationKey:"DEVICE_TABLE_HEADER_CPU_USAGE"},{id:"loadAvg",translationKey:"DEVICE_TABLE_HEADER_LOAD_AVERAGE"},{id:"clients",translationKey:"DEVICE_TABLE_HEADER_CLIENTS"},{id:"down",translationKey:"DEVICE_TABLE_HEADER_DOWN"},{id:"up",translationKey:"DEVICE_TABLE_HEADER_UP"},{id:"wlan2g",translationKey:"DEVICE_TABLE_HEADER_WLAN2G"},{id:"wlan5g",translationKey:"DEVICE_TABLE_HEADER_WLAN5G"},{id:"radio2g",translationKey:"DEVICE_TABLE_HEADER_RADIO2G"},{id:"radio5g",translationKey:"DEVICE_TABLE_HEADER_RADIO5G"},{id:"clients2g",translationKey:"DEVICE_TABLE_HEADER_2G_CLIENTS"},{id:"clients5g",translationKey:"DEVICE_TABLE_HEADER_5G_CLIENTS"},{id:"tx",translationKey:"DEVICE_TABLE_HEADER_TX"},{id:"rx",translationKey:"DEVICE_TABLE_HEADER_RX"},{id:"tx2g",translationKey:"DEVICE_TABLE_HEADER_TX2G"},{id:"tx5g",translationKey:"DEVICE_TABLE_HEADER_TX5G"},{id:"channel",translationKey:"DEVICE_TABLE_HEADER_CHANNEL"},{id:"chutil2g",translationKey:"DEVICE_TABLE_HEADER_CHUTIL2G"},{id:"chutil5g",translationKey:"DEVICE_TABLE_HEADER_CHUTIL5G"},{id:"satisfaction2g",translationKey:"DEVICE_TABLE_HEADER_SATISFACTION2G"},{id:"satisfaction5g",translationKey:"DEVICE_TABLE_HEADER_SATISFACTION5G"},{id:"bssid",translationKey:"DEVICE_TABLE_HEADER_BSSID"},{id:"tags",translationKey:"DEVICE_TABLE_HEADER_TAGS"},{id:"actions",translationKey:"DEVICE_TABLE_HEADER_ACTIONS",isPermanent:!0}],t.isEnabled("enableDeviceListSatisfaction")||(this.columnOptions.splice(this.columnOptions.findIndex(function(t){return"satisfaction2g"===t.id}),1),this.columnOptions.splice(this.columnOptions.findIndex(function(t){return"satisfaction5g"===t.id}),1)),this.columnPresets=[{id:"default",translationKey:"DEVICE_COLUMNS_PRESET_DEFAULT"},{id:"ugw_usw",translationKey:"DEVICE_COLUMNS_PRESET_GATEWAY_SWITCHES"},{id:"uap",translationKey:"DEVICE_COLUMNS_PRESET_AP_OVERVIEW"},{id:"uap:performance",translationKey:"DEVICE_COLUMNS_PRESET_AP_PERFORMANCE"},{id:"uap:config",translationKey:"DEVICE_COLUMNS_PRESET_AP_CONFIG"},{id:"all",translationKey:"DEVICE_COLUMNS_PRESET_ALL"}],this.views={default:["name","ip","stateString","model","version","uptime"],ugw_usw:["name","ip","stateString","model","version","down","up"],uap:["name","ip","stateString","model","version","clients","down","up","channel"],"uap:performance":["name","ip","stateString","clients2g","clients5g","tx","rx","tx2g","tx5g","channel"],"uap:config":["name","stateString","version","wlan2g","wlan5g","radio2g","radio5g"]},n.call(this,e,i,o)}o.prototype=Object.create(n.prototype),o.constructor=o,o.prototype.setDeviceTypes=function(t){this.deviceTypes=t},o.prototype.setColumnGroup=function(t){this.columnGroup=t},o.prototype.getPredefinedColumns=function(){var t=[];return this.deviceTypes&&t.push(angular.isArray(this.deviceTypes)?this.deviceTypes.join("_"):this.deviceTypes),this.columnGroup&&t.push(this.columnGroup),this.views[t.join(":")]||this.views.default},o.prototype.isColumnVisible=function(t){return!(!this.featureFlag.isEnabled("enableDeviceListSatisfaction")&&-1!==["satisfaction2g","satisfaction5g"].indexOf(t))&&n.prototype.isColumnVisible.apply(this,arguments)},o.prototype.setColumns=function(){this.isCustomized?n.prototype.setColumns.call(this):this.columns=this.getPredefinedColumns()},o.prototype.setColumnPreset=function(t){var e="all"===t?this.getAllColumns():this.views[t];e&&e.length&&(this.clearSelectedColumns(),this.columns=e,this.setCustomized(!0),this.saveColumns())},o.$inject=["featureFlag","localStorageFailSafe","StorageObjectValue","StorageBooleanValue"],angular.module("app-unifi-manage").service("deviceListColumnStore",o)},{}],1029:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("deviceUpdateWsMessageHandler",["devices","DeviceModel","wsAdapter",function(t,e,i){this.register=function(){i.on("device:update",function(i){if(i.data){var n=t.repository.collection.get(i.meta.mac)||new e({mac:i.meta.mac});n.set(i.data[0]),t.repository.collection.add(n,{merge:!0})}})}}])},{}],1030:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("devices",["$q","$rootScope","BaseCollectionRepository","contextSwitchStates","DeviceCollection","deviceStateUtils","deviceUtils","discoveredDevices","inhibitor","partialDevices","DEVICE_FETCH_DEFAULTS",function(t,e,i,n,o,r,a,s,l,c,u){this.repository=c.repository;var d={},p=function(e){return e.filter(function(t){return t.isSwitch()&&t.isAdopted()&&t.get("port_table")}).forEach(function(t){t.get("port_table").each(function(e){e.set("device",t.id)})}),t.when(this.repository.collection)}.bind(this),f=function(){return s.mergeToDevicesCollection(this.repository.collection),t.when(this.repository.collection)}.bind(this),h=l(function(){var t=Object.keys(d);this.repository.collection.fetchBatch({macs:t}),d={}}.bind(this),{debounceWait:u.DEBOUNCE_WAIT,leading:!0,throttleWait:u.THROTTLE_WAIT});s.repository.collection.onUpdate(f.bind(this)),this.repository.fetch=function(){return c.resolve().then(function(){return c.repository.collection.fullyLoadedDefer.promise}).then(p).then(f)},this.repository.fetchGatewayDetails=function(){var e=a.getSiteGateway(this.collection);return e?e.resolve({cfg:!0}):t.when()},this.fetchDevice=function(t){d[t]=!0,h()},s.repository.collection.onUpdate(f.bind(this)),e.$on(n.getSuccess(),function(){this.repository.collection.reset()}.bind(this))}])},{}],1031:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("dhcpOptions",["BaseCollectionRepository","DhcpOptionCollection",function(t,e){this.repository=new t(new e)}])},{}],1032:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("directDeviceConnectionUtils",["bowser",function(t){this.isBrowserSupported=function(){return!(!t.blink&&!t.firefox||t.mobile)}}])},{}],1033:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("directDeviceConnector",["_","$q","AirTimeScanCollection","arrayBufferToStringConverter","deviceWebRtcConnectorPoll","DirectDeviceCollectionFactory","DIRECT_DEVICE_CONNECTION_STATES",function(t,e,i,n,o,r,a){var s={},l={},c=[a.CONNECTING,a.WAITING,a.SCANNING];this.getDeviceId=function(t){return t.get("mac")},this.obtainDeviceScans=function(t){var e=this.getDeviceId(t);return l[e]||(l[e]=[]),l[e]},this.obtainScan=function(e,i,n){var o=this.obtainDeviceScans(e),s={scanType:i,scanId:n},l=t.findWhere(o,s);return l||(l=angular.extend(s,{state:a.DISCONNECTED,collection:new r(i.name)}),o.push(l)),l},this.generateWebRtcChannelName=function(t){return s[t.name]=s[t.name]||1,t.channelPrefix+"."+s[t.name]++},this.getCollection=function(t,e,i){return this.obtainScan(t,e,i).collection},this.getState=function(t,e,i){return this.obtainScan(t,e,i).state},this.connect=function(t,i,r,s){var l=this.getDeviceId(i),c=this.obtainScan(i,r,s);return c.state=a.CONNECTING,c.channelName=this.generateWebRtcChannelName(r),o.establishConnection(l,t).then(function(t){return c.connector=t,t.openChannel(c.channelName,function(t,e){return n.convert(e)})}).then(function(){return c}).catch(function(t){return this.stopScan(i,r,s),e.reject(t)}.bind(this))},this.stopScan=function(t,e,i){var n=this.obtainScan(t,e,i);n.connector&&n.connector.closeChannel(n.channelName),n.state=a.DISCONNECTED,this.checkAndCleanConnections(t)},this.clearCollection=function(t,e,i){var n=this.getCollection(t,e,i);n&&n.reset()},this.checkAndCleanConnections=function(t){this.obtainDeviceScans(t).find(function(t){return-1!==c.indexOf(t.state)})||this.closeConnection(t)},this.closeConnection=function(t){var e=this.getDeviceId(t);o.releaseConnector(e)}}])},{}],1034:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("clientPropertiesConfigureBatchDirectiveMixin",[function(){this.init=function(t,e,i,n){t.withBatch&&n.initBatchEdit()}}])},{}],1035:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("clientPropertiesConfigureWithPendingDirectiveMixin",["EVENTS",function(t){this.init=function(e,i,n,o){o.isSaveQueued=e.isSaveQueued,o.pendingGroup=e.group,e.$on([t.PENDING_CHANGES_CANCELLED,e.group].join(":"),function(t,e){o.resetModelCopyAttrs(e)}),e.$on(t.PENDING_CHANGES_CANCELLED,function(t,e){o.resetModelCopyAttrs(e)})}}])},{}],1036:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("clientPropertiesPendingActionsDirectiveMixin",["clientUtils","heyToasts","EVENTS",function(t,e,i){this.init=function(n,o,r,a){function s(t,e,o){n.$broadcast([i.PENDING_CHANGES_CANCELLED,e].join(":"),o)}function l(t,e){n.$broadcast(i.PENDING_CHANGES_CANCELLED,e)}function c(t,e){n.$broadcast(i.PENDING_CHANGES_APPLIED,e)}function u(t){t&&(t.off("pending:group:clear",s),t.off("pending:clear",l),t.off("pending:save",c))}n.applyPendingChanges=function(i){return t.savePendingChanges(i,{wait:!0}).then(function(t){e.pushSuccess(t)}).catch(function(t){e.pushError(t)})},n.$watch(function(){return a.model},function(t,e){var i;u(e),(i=t)&&(i.on("pending:group:clear",s),i.on("pending:clear",l),i.on("pending:save",c))}),n.$on("$destroy",function(){u(a.model)})}}])},{}],1037:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("devicePropertiesActiveAccordionDirectiveMixin",["$timeout","propertyPanel",function(t,e){this.init=function(i,n,o,r,a){r.accordions[a]=r.accordions[a]||{},t(function(){i.$watch(function(){return r.model&&e.getItemState(r.model,"activeAccordionGroup")},function(t){t&&(r.accordions[a][t]=!0,e.unsetItemState(r.model,"activeAccordionGroup",!1))})},0,!1)}}])},{}],1038:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("devicePropertiesConfigureBatchDirectiveMixin",[function(){this.init=function(t,e,i,n){t.withBatch&&n.initBatchEdit()}}])},{}],1039:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("devicePropertiesConfigureWithPendingDirectiveMixin",["EVENTS",function(t){this.init=function(e,i,n,o){o.isSaveQueued=e.isSaveQueued,o.pendingGroup=e.group,e.$on([t.PENDING_CHANGES_CANCELLED,e.group].join(":"),function(t,e){o.resetModelCopyAttrs(e)}),e.$on(t.PENDING_CHANGES_CANCELLED,function(t,e){o.resetModelCopyAttrs(e)})}}])},{}],1040:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("devicePropertiesPendingActionsDirectiveMixin",["deviceUtils","heyToasts","EVENTS",function(t,e,i){this.init=function(n,o,r,a){function s(t,e,o){n.$broadcast([i.PENDING_CHANGES_CANCELLED,e].join(":"),o)}function l(t,e){n.$broadcast(i.PENDING_CHANGES_CANCELLED,e)}function c(t,e){n.$broadcast(i.PENDING_CHANGES_APPLIED,e)}function u(t){t&&(t.off("pending:group:clear",s),t.off("pending:clear",l),t.off("pending:save",c))}n.applyPendingChanges=function(i){return t.savePendingChanges(i,{wait:!0}).then(function(t){e.pushSuccess(t)}).catch(function(t){e.pushError(t)})},n.$watch(function(){return a.model},function(t,e){var i;u(e),(i=t)&&(i.on("pending:group:clear",s),i.on("pending:clear",l),i.on("pending:save",c))}),n.$on("$destroy",function(){u(a.model)})}}])},{}],1041:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("devicePropertiesPortsDirectiveMixin",[function(){this.init=function(t,e,i,n){this.onSelectedPortsChange(t,n),this.onSelectedPortItemStateChange(t,n),this.onEditPortItemStateChange(t,n)},this.onSelectedPortsChange=function(t,e){t.$watchCollection(function(){return e.selectedPorts},function(){t.$broadcast("portSelectionChange")})},this.onSelectedPortItemStateChange=function(t,e){t.$watch(function(){return t.model&&e.propertyPanel.getItemState(t.model,"port")},function(i){if(i){e.cancelEditPort();var n=t.model.get("port_table").findWhere({port_idx:i});n&&(e.togglePortSelection(n,!0),e.highlightPort(n,!0),e.propertyPanel.unsetItemState(t.model,"port"))}})},this.onEditPortItemStateChange=function(t,e){t.$watch(function(){return t.model&&e.propertyPanel.getItemState(t.model,"editPort")},function(i){if(i){var n=t.model.get("port_table").findWhere({port_idx:i});n&&e.editPort(n)}})}}])},{}],1042:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("gatewayPropertiesDynamicDnsListDirectiveMixin",["propertyPanel",function(t){this.init=function(t,e,i,n){this.onEditDynamicDnsItemStateChange(t,n)},this.onEditDynamicDnsItemStateChange=function(e,i){e.$watch(function(){return i.model&&t.getItemState(i.model,"editDynamicDns")},function(e){if(e){var n=i.dynamicDns.get(e);n&&(i.edit(n),t.unsetItemState(i.model,"editDynamicDns",!1))}})}}])},{}],1043:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("sharedAttrsDirectiveMixin",[function(){this.init=function(t,e,i,n,o){this.onModelCopyChange(t,n,o),this.onFormChange(t,n,o)},this.onModelCopyChange=function(t,e,i){t.$watch(function(){return e.modelCopy},function(e){e&&t.attrs&&angular.forEach(i,function(i){e.attributes[i]=t.attrs[i]})})},this.onFormChange=function(t,e,i){t.$watch(function(){if(e.modelCopy){var t={};return angular.forEach(i,function(i){t[i]=e.modelCopy.attributes[i]}),t}},function(e){e&&t.attrs&&angular.forEach(i,function(i){t.attrs[i]=e[i]})},!0)}}])},{}],1044:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("dpiApps",["BaseCollectionRepository","DpiAppCollection",function(t,e){this.repository=new t(new e)}])},{}],1045:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("dpiFilters",["devices","deviceFeatureUtils","objectUtils","wlanDpi","DEVICE_TYPES","STATS_DEFAULTS",function(t,e,i,n,o,r){var a,s=[],l=[],c=!1,u=function(){var i=n.repository.collection.map(function(t){return{name:t.get("name"),type:r.DPI.FILTER.SSID}}),s=t.repository.collection.where({type:o.AP}).filter(e.isDpiSupported,e).map(function(t){return{name:t.getDisplayName(),id:t.id,type:r.DPI.FILTER.DEVICE}});l=[].concat(i,s),a=void 0};this.getAllFilters=function(){return l},this.getSelectedFilters=function(){return s},this.getAvailableFilters=function(){return a||(a=l.filter(function(t){return!s.find(function(e){return angular.equals(e,t)})})),a},this.getActiveFilters=function(){return c?s.filter(function(t){return!!l.find(function(e){return angular.equals(t,e)})}).sort(function(t,e){return t.name.localeCompare(e.name)}):[]},this.selectFilters=function(t){t&&(t.forEach(function(t){!!l.find(function(e){return angular.equals(t,e)})&&s.push(t)}),a=void 0)},this.deselectFilters=function(t){t&&(s=s.filter(function(e){return!t.find(function(t){return angular.equals(e,t)})}),a=void 0)},this.isSelected=function(t){return s.some(function(e){return angular.equals(e,t)})},this.resetFilters=function(){s=[],u()},this.toggleFiltering=function(){c=!c},this.isEnabled=function(){return c},this.addEventHandlers=function(){n.repository.collection.on("sync",u)},this.removeEventHandlers=function(){n.repository.collection.off("sync",u)},u()}])},{}],1046:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("dpiGroups",["BaseCollectionRepository","DpiGroupCollection",function(t,e){this.repository=new t(new e)}])},{}],1047:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("dpiUtils",["_","d3","$translate","DataConverter","dpi","dpiGroups","dpiIcons","gatewayUtils","semanticVersion","settings","siteDpi","DPI_CATEGORIES",function(t,e,i,n,o,r,a,s,l,c,u,d){var p=e.scaleOrdinal().range(t.range(10));this.REQUIRED_USG_FIRMWARE="4.3.38",this.getIdsForCategoryName=function(t){var e=o.getAllAppCategories().find(function(e){return e.name===t});return(e?e.categoryIds:[]).map(function(t){return parseInt(t)})},this.isDpiEnabled=function(){var t=c.getSettingFromKey("dpi");return!!t&&t.get("enabled")},this.isDpiDataAvailable=function(t){return this.isDpiEnabled()&&u.isDpiDataAvailable(t)},this.isUSGFirmwareCompliant=function(){var t=s.getSiteGatewayVersion();return!!t&&l.satisfies(t,">="+this.REQUIRED_USG_FIRMWARE)},this.categoriesSortedByTraffic=function(){var t=(new n).deduplicatedBy("name",["catId"]).sortedBy("bytes",!0).countTotal().compactUnknown(function(t){return!t.name||"unknown"===t.name.toLowerCase()}).withUnknownDefaults({name:"Unknown"}),e=[];return this.isDpiEnabled()&&(e=(e=o.getAllAppCategories().map(function(t){return{bytes:0,name:t.name}})).concat(u.getDpiByCategory().map(function(t){return{bytes:t.getTotalBytes(),catId:t.get("cat"),name:t.getCategoryName()}}))),t.apply(e)},this.applicationsSortedByTraffic=function(t,e){var i=this.getIdsForCategoryName(t),o=e||(new n).deduplicatedBy("name").sortedBy("bytes",!0).countTotal().compactUnknown(function(t){return!t.name||"unknown"===t.name.toLowerCase()}).withUnknownDefaults({name:"Unknown"}),r=[];return i.map(function(t){return u.getAppStatsForCategory(t)}).forEach(function(t){r=r.concat(t.map(function(t){return{bytes:t.getTotalBytes(),name:t.getApplicationName(),icon:a.getIconForApplication(t.getCompoundId()),appId:t.get("app"),catId:t.get("cat")}}))},this),o.apply(r)},this.getNetworksWithDpiGroups=function(t,e){return t.toJSON().filter(function(t){var i=t.dpigroup_id;return t.dpi_enabled&&i&&r.repository.collection.get(i)&&(!e||i===e)},this).map(function(t){return t.id=t._id,t.restrictionGroupName=r.repository.collection.get(t.dpigroup_id).get("name"),t},this)},this.getTranslatedCategoryName=function(t){var e=(o.getAllAppCategories().find(function(e){return e.name===t})||{}).categoryIds;return e&&i.instant(d[e[0]])||i.instant("DPI_CATEGORIES_UNKNOWN")},this.getCssIndexForCategoryName=function(t){return p(t)}}])},{}],1048:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("dynamicDns",["BaseCollectionRepository","DynamicDnsCollection",function(t,e){this.repository=new t(new e)}])},{}],1049:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("dynamicDnsStats",["BaseCollectionRepository","DynamicDnsStatsCollection",function(t,e){this.repository=new t(new e)}])},{}],1050:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("eliteDevices",["$q","$translate","devices","frame","heyToasts",function(t,e,i,n,o){var r=[],a=[];this.isOpen=function(){var t=n.getLayout("eliteDeviceOfflineLayout");return t&&t.showing},this.reportNewOfflineDevice=function(t){if(-1===r.indexOf(t)){r.push(t);var e=i.repository.collection.get(t);e&&a.push(e)}!this.isOpen()&&a.length&&n.show("eliteDeviceOffline")},this.getOfflineDevices=function(){return a},this.handleEliteLicenseChange=function(t,n){var r=i.repository.collection.get(t);r&&n&&(r.set("elite",n),o.pushPrimary({icon:"ubnt-icon--unifi-elite2",text:e.instant("ELITE_DEVICE_LICENSE_CHANGED_MESSAGE",{display:r.getDisplayName()})},36e5))},this.handleEliteLicenseRevoke=function(t){var n=i.repository.collection.get(t);n&&(n.unset("elite"),o.pushWarning({icon:"ubnt-icon--unifi-elite2",text:e.instant("ELITE_DEVICE_LICENSE_REVOKED_MESSAGE",{display:n.getDisplayName()})},36e5))},this.closeOfflineFrame=function(){n.getLayout("eliteDeviceOfflineLayout").reject(),this.clearHistory()},this.clearHistory=function(){a=[],r=[]}}])},{}],1051:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("eventFilterUtils",["BaseModelFilter","devices","clients",function(t,e,i){this.checkDetails=function(n,o){return function(i,n){return["gw","sw","ap"].some(function(o){var r=i.get(o);if(r){var a=e.repository.collection.findWhere({mac:r});if(a)return t.prototype.testModelAttributes(a,["ip","mac","model","name"],n)}return!1})}(n,o)||function(e,n){var o=e.get("user");if(o){var r=i.repository.collection.findWhere({mac:o});if(r)return t.prototype.testModelAttributes(r,["ip","mac","model","name"],n)}return!1}(n,o)}}])},{}],1052:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("eventFrameUtils",["$rootScope","contextSwitchStates","devices","frame","events","translateResolver","EVENTS",function(t,e,i,n,o,r,a){var s=this;this.isOpen=function(){var t=n.getLayout("eventsLayout");return t&&t.showing},this.open=function(e){var s=this;e&&e.stopPropagation(),t.$broadcast(a.CLOSE_SIDE_NAV_POPOVERS),this.isOpen()||(r.resolve("events","calendarView","eventStrings").then(function(){s.translationLoaded=!0}),i.repository.register().fetch().then(function(){return o.repository.register().fetch()}),n.show("events"))},this.close=function(){this.isOpen()&&(n.close("events"),o.repository.unregister(),i.repository.unregister())},this.toggle=function(t){t&&t.stopPropagation(),this.isOpen()?this.close():this.open()},this.hasTranslationsLoaded=function(){return!!this.translationLoaded},t.$on(a.CLOSE_SIDE_NAV_POPOVERS,function(){s.close()}),t.$on(e.getSuccess(),function(){s.close()})}])},{}],1053:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("events",["BaseCollectionRepository","EventCollection",function(t,e){this.repository=new t(new e),this.repository.fetchMore=function(t){return this.collection.resolveMore(t)}}])},{}],1054:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("eventsWsMessageHandler",["ClientModel","clients","devices","DeviceModel","eliteDevices","wsAdapter",function(t,e,i,n,o,r){var a=["ap","gw","sw","ph"],s=["user","client","guest"],l=[{keys:["EVT_AP_Adopted","EVT_GW_Adopted","EVT_SW_Adopted","EVT_AP_AutoReadopted","EVT_GW_AutoReadopted","EVT_SW_AutoReadopted","EVT_AP_Connected","EVT_GW_Connected","EVT_SW_Connected","EVT_AP_Isolated","EVT_AP_Lost_Contact","EVT_GW_Lost_Contact","EVT_SW_Lost_Contact","EVT_AP_Notification","EVT_GW_Notification","EVT_SW_Notification","EVT_AP_Restarted","EVT_GW_Restarted","EVT_SW_Restarted","EVT_AP_RestartedUnknown","EVT_GW_RestartedUnknown","EVT_SW_RestartedUnknown","EVT_AP_Upgraded","EVT_GW_Upgraded","EVT_SW_Upgraded","EVT_AP_UpgradeScheduled","EVT_GW_UpgradeScheduled","EVT_SW_UpgradeScheduled","EVT_SW_HostKeyMismatch","EVT_AP_HostKeyMismatch","EVT_GW_HostKeyMismatch"],execute:function(){}},{keys:["EVT_LU_Connected","EVT_WU_Connected","EVT_LG_Connected","EVT_WG_Connected","EVT_WU_Roam","EVT_WG_Roam","EVT_WU_RoamRadio","EVT_WG_RoamRadio","EVT_WG_AuthorizationEnded","EVT_WG_AuthorizationEndedByQuota","EVT_AD_GuestUnauthorized","EVT_AD_GuestExtended","EVT_AD_GuestAuthorizedFor","EVT_HS_AuthedByNoAuth","EVT_HS_AuthedByPassword"],execute:function(t){var i=c(t,s);e.fetchClient(i)}},{keys:["EVT_LU_Disconnected","EVT_WU_Disconnected","EVT_LG_Disconnected","EVT_WG_Disconnected","EVT_LC_Blocked","EVT_WC_Blocked"],execute:function(t){var i=c(t,s);e.repository.collection.remove(i)}},{keys:["EVT_AP_DiscoveredPending","EVT_AP_PossibleInterference","EVT_AP_ChannelChanged","EVT_SW_DetectRogueDHCP","EVT_SW_LoopDetected","EVT_SW_Overheat","EVT_SW_PoeOverload","EVT_SW_PoeDisconnect"],execute:function(t){var e=c(t,a);i.fetchDevice(e)}},{keys:["EVT_AP_EliteDeviceChanged","EVT_SW_EliteDeviceChanged","EVT_GW_EliteDeviceChanged"],execute:function(t){var e=c(t,a);o.handleEliteLicenseChange(e,t.elite)}},{keys:["EVT_AP_EliteDeviceRevoke","EVT_GW_EliteDeviceRevoke","EVT_SW_EliteDeviceRevoke"],execute:function(t){var e=c(t,a);o.handleEliteLicenseRevoke(e)}},{keys:["EVT_AP_Deleted","EVT_GW_Deleted","EVT_SW_Deleted"],execute:function(t){var e=c(t,a);i.repository.collection.remove(e)}},{keys:["EVT_AP_RollUpgrade"],execute:function(){i.repository.collection.invalidate()}},{keys:["EVT_AP_EliteDeviceOffline","EVT_SW_EliteDeviceOffline","EVT_GW_EliteDeviceOffline"],execute:function(t){var e=c(t,a);o.reportNewOfflineDevice(e)}}];function c(t,e){return t[Object.keys(t).find(function(t){return e.indexOf(t)>=0})]}this.register=function(){r.on("events",function(t){t.data.forEach(function(t){var e=l.find(function(e){return-1!==e.keys.indexOf(t.key)});e&&e.execute(t)})})}}])},{}],1055:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("AirTimeRawDataParser",[function(){var t=function(){this.buffer=""};return t.prototype.parse=function(t){this.buffer+=t;try{var e=JSON.parse(this.buffer);return this.buffer="",e}catch(t){return}},t}])},{}],1056:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DirectDeviceCollectionFactory",["AirTimeScanCollection","AirViewScanCollection","SCAN_TYPES",function(t,e,i){return function(n){switch(n){case i.AIR_TIME.name:return new t;case i.AIR_VIEW.name:return new e}}}])},{}],1057:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("SettingsModelFactory",["SettingsGuestAccessModel","SettingsModel",function(t,e){function i(i,n){switch(i.key){case"guest_access":return new t(i,n);default:return new e(i,n)}}return i.prototype.idAttribute="_id",i}])},{}],1058:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("WifiBandChannels",["WIFI_BANDS","WIFI_CHANNELS",function(t,e){var i=Object.keys(e.na),n={};return i.forEach(function(e){n[e]={},Object.keys(t).forEach(function(i){n[e][t[i]]=[]})}),i.forEach(function(t){var i=e.na[t];Object.keys(i).forEach(function(e){var o=i[e].band;o&&(n[t][o]=n[t][o].concat(i[e].subChannels))})}),n}])},{}],1059:[function(t,e,i){"use strict";var n=lazyRequire.get("BasePanels");angular.module("app-unifi-manage").service("WindowPanelsGroup",["$q","$rootScope","$window","queryString","devices","BaseCollection","ItemState",function(t,e,i,o,r,a,s){var l=function(){r.repository.collection.on("remove",function(t){this.removeItem(t)},this),this.addEventHandlers(),n.call(this,t,e,i,o,a,s)};return(l.prototype=Object.create(n.prototype)).constructor=l,l.prototype.addEventHandlers=function(){r.repository.collection.on("remove",this.removeItem,this),r.repository.collection.on("reset",this.removeDevices,this)},l.prototype.removeEventHandlers=function(){r.repository.collection.off("remove",this.removeItem,this),r.repository.collection.off("reset",this.removeDevices,this)},l.prototype.removeDevices=function(){return this.removeItemsByType(["devices"])},l.prototype.getItemById=function(e){var i=e.split("|");if(i&&2===i.length){var n=this.collection.get(i[1]);if(n)return t.when(n)}return t.reject()},l}])},{}],1060:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("feedback",["$q","$translate","apiResults","SystemMgrModel",function(t,e,i,n){this.send=function(o){return(new n).save({cmd:"send-feedback",email:o.email,message:o.message}).then(function(){return t.when(e.instant("RELEASE_NOTES_TOAST_SUCCESS"))}).catch(function(n){return t.reject(i.appendErrorMsg(e.instant("RELEASE_NOTES_TOAST_ERROR"),n))})}}])},{}],1061:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("AdminOtherSiteFilter",["BaseSearchableModelFilter","siteUtils",function(t,e){var i=function(){t.call(this)};return(i.prototype=Object.create(t.prototype)).constructor=i,i.prototype.test=function(t){var i=(e.getActiveSite()||{}).id;return!(t.get("roles")||[]).models.some(function(t){return t.get("site_id")===i})},i}])},{}],1062:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("BaseClientFilter",["BaseSearchableModelFilter",function(t){var e=function(){t.call(this),this.isWiredFilter=null,this.isGuestFilter=null};return(e.prototype=Object.create(t.prototype)).constructor=e,e.prototype.test=function(){throw new Error("You must override test")},e.prototype.isFiltered=function(){throw new Error("You must override isFiltered")},e.prototype.getWiredFilter=function(){return this.isWiredFilter},e.prototype.hasWiredFilter=function(){return!0===this.isWiredFilter||!1===this.isWiredFilter},e.prototype.setWiredFilter=function(t){this.isWiredFilter=t},e.prototype.clearWiredFilter=function(){this.isWiredFilter=void 0},e.prototype.getGuestFilter=function(){return this.isGuestFilter},e.prototype.hasGuestFilter=function(){return!0===this.isGuestFilter||!1===this.isGuestFilter},e.prototype.setGuestFilter=function(t){this.isGuestFilter=t},e.prototype.clearGuestFilter=function(){this.isGuestFilter=void 0},e}])},{}],1063:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("CalendarFilter",["BaseSearchableModelFilter","eventFilterUtils","moment",function(t,e,i){var n=function(){t.call(this),this.moment=i,this.hour=null,this.date=null,this.month=null,this.level=null,this.type=null,this.searchableAttributes=["msg","gw_name","sw_name","ap_name","hostname"]};return(n.prototype=Object.create(t.prototype)).constructor=n,n.prototype.test=function(t){var i=this.moment(t.get("datetime"));if(null!==this.hour&&!i.isSame(this.hour,"hour"))return!1;if(null!==this.date&&!i.isSame(this.date,"day"))return!1;if(null!==this.month&&!i.isSame(this.month,"month"))return!1;if(null!==this.level&&this.level!==t.get("level"))return!1;if(null!==this.type)if("admin"===this.type){if(!t.get("is_admin"))return!1}else if(t.get("subsystem")!==this.type)return!1;if(this.search(t))return!0;var n=this.searchQuery?this.searchQuery.toLowerCase().split(" "):void 0;return!n||e.checkDetails(t,n)},n.prototype.setHour=function(t){this.hour=t||null},n.prototype.setDate=function(t){this.date=t||null},n.prototype.setMonth=function(t){this.month=t||null},n.prototype.setLevel=function(t){this.level=t||null},n.prototype.setType=function(t){this.type=t||null},n}])},{}],1064:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ClientFilter",["BaseClientFilter","clientUplinkUtils",function(t,e){var i=function(){t.call(this),this.radioTypeFilter=null,this.macFilter=null,this.networkFilter=null,this.activeFilter=null,this.excludedMacsFilter=[],this.matchAnyToken=!0,this.searchableAttributes=["name","hostname","mac","ap_mac","ip","essid","oui"]};return(i.prototype=Object.create(t.prototype)).constructor=t,i.prototype.test=function(t){if(!0===this.isWiredFilter&&!t.get("is_wired"))return!1;if(!1===this.isWiredFilter&&t.get("is_wired"))return!1;if(this.hasActiveFilter()&&!t.isActive())return!1;if(!0===this.isGuestFilter&&!t.get("is_guest"))return!1;if(!1===this.isGuestFilter&&t.get("is_guest"))return!1;if(this.hasRadioTypeFilter()&&this.radioTypeFilter!==t.get("radio"))return!1;if(this.hasMacFilter()&&this.macFilter!==e.getUplinkMac(t))return!1;if(this.hasExcludedMacsFilter()&&-1!==this.excludedMacsFilter.indexOf(t.get("mac")))return!1;if(this.hasNetworkFilter()&&this.networkFilter!==t.get("network_id"))return!1;if(this.search(t))return!0;var i=this.searchQuery?this.searchQuery.toLowerCase().split(" "):[];if(i.length){var n=e.getUplinkDisplayName(t).toLowerCase();return i.some(function(t){return n.indexOf(t)>-1})}return!0},i.prototype.isFiltered=function(){return this.hasWiredFilter()||this.hasGuestFilter()||this.hasRadioTypeFilter()||this.hasMacFilter()||this.hasNetworkFilter()||this.hasExcludedMacsFilter()||this.hasActiveFilter()||this.searchQuery.length>0},i.prototype.getRadioTypeFilter=function(){return this.radioTypeFilter},i.prototype.hasRadioTypeFilter=function(){return!!this.radioTypeFilter},i.prototype.setRadioTypeFilter=function(t){this.radioTypeFilter=t},i.prototype.clearRadioTypeFilter=function(){this.radioTypeFilter=void 0},i.prototype.getMacFilter=function(){return this.macFilter},i.prototype.hasMacFilter=function(){return!!this.macFilter},i.prototype.setMacFilter=function(t){this.macFilter=t},i.prototype.clearMacFilter=function(){this.macFilter=void 0},i.prototype.getExcludedMacsFilter=function(){return this.excludedMacsFilter},i.prototype.hasExcludedMacsFilter=function(){return!(!this.excludedMacsFilter||!this.excludedMacsFilter.length)},i.prototype.setExcludedMacsFilter=function(t){this.excludedMacsFilter=t||[]},i.prototype.clearExcludedMacsFilter=function(){this.excludedMacsFilter=[]},i.prototype.getNetworkFilter=function(){return this.networkFilter},i.prototype.hasNetworkFilter=function(){return!!this.networkFilter},i.prototype.setNetworkFilter=function(t){this.networkFilter=t},i.prototype.clearNetworkFilter=function(){this.networkFilter=void 0},i.prototype.clearActiveFilter=function(){this.activeFilter=null},i.prototype.setActiveFilter=function(t){this.activeFilter=t},i.prototype.hasActiveFilter=function(){return!!this.activeFilter},i}])},{}],1065:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DashboardFilter",["BaseSearchableModelFilter",function(t){var e=function(){t.call(this)};return(e.prototype=Object.create(t.prototype)).constructor=e,e.prototype.test=function(t){return!this.typeFilter||(t.get("dashboardType")||"primary")===this.typeFilter},e.prototype.setTypeFilter=function(t){this.typeFilter=t},e}])},{}],1066:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DeviceFilter",["BaseSearchableModelFilter","deviceStateUtils",function(t,e){var i=function(){t.call(this),this.deviceTypeFilter=null,this.deviceMigratableFilter=null,this.searchableAttributes=["name","mac","ip"]};return(i.prototype=Object.create(t.prototype)).constructor=i,i.prototype.test=function(t){if(this.deviceTypeFilter&&-1===this.deviceTypeFilter.indexOf(t.get("type")))return!1;if(this.deviceStateFilter&&-1===this.deviceStateFilter.indexOf(t.get("state")))return!1;if(this.deviceTagFilter){var i=this.deviceTagFilter.get("member_table");if(!i||-1===i.indexOf(t.get("mac")))return!1}if(null!==this.deviceMigratableFilter&&e.isDeviceMigratable(t)!==this.deviceMigratableFilter)return!1;if(!0===this.isSipEnabledFilter){if(!t.get("baresip_enabled"))return!1}else if(!1===this.isSipEnabledFilter&&t.get("baresip_enabled"))return!1;if(this.supplementalFunction&&!this.supplementalFunction(t))return!1;if(t.get("vap_table")&&t.get("vap_table").pluck("bssid").some(function(t){return t&&-1!==t.indexOf(this.searchQuery)}.bind(this)))return!0;if(this.search(t))return!0;var n=this.searchQuery?this.searchQuery.toLowerCase().split(" "):[];if(n.length){var o=e.getDeviceModelName(t).toLowerCase();if(n.some(function(t){return o.indexOf(t)>-1}))return!0;var r=e.getDeviceStateString(t).toLowerCase();return!!n.some(function(t){return r.indexOf(t)>-1})}return!0},i.prototype.isFiltered=function(){return!!this.deviceTypeFilter||!!this.deviceStateFilter||!!this.deviceTagFilter||this.hasDeviceMigratableFilter()||this.hasIsSipEnabledFilter()||this.searchQuery.length>0},i.prototype.getDeviceTypeFilter=function(){return this.deviceTypeFilter},i.prototype.hasDeviceTypeFilter=function(t){return this.deviceTypeFilter?angular.isArray(t)?angular.equals(this.deviceTypeFilter,t):-1!==this.deviceTypeFilter.indexOf(t):!t},i.prototype.setDeviceTypeFilter=function(t){t&&(t=angular.isArray(t)?t:[t],this.deviceTypeFilter=t)},i.prototype.clearDeviceTypeFilter=function(){this.deviceTypeFilter=null},i.prototype.getDeviceStateFilter=function(){return this.deviceStateFilter},i.prototype.hasDeviceStateFilter=function(t){return this.deviceStateFilter?angular.isArray(t)?angular.equals(this.deviceStateFilter,t):-1!==this.deviceStateFilter.indexOf(t):!t},i.prototype.setDeviceStateFilter=function(t){t&&(t=angular.isArray(t)?t:[t],this.deviceStateFilter=t)},i.prototype.clearDeviceStateFilter=function(){this.deviceStateFilter=null},i.prototype.setDeviceTagFilter=function(t){this.deviceTagFilter=t},i.prototype.hasDeviceTagFilter=function(){return!!this.deviceTagFilter},i.prototype.setDeviceMigratableFilter=function(t){this.deviceMigratableFilter=t},i.prototype.clearDeviceMigratableFilter=function(){this.deviceMigratableFilter=null},i.prototype.hasDeviceMigratableFilter=function(){return null!==this.deviceMigratableFilter},i.prototype.setIsSipEnabledFilter=function(t){return this.isSipEnabledFilter=t,this.isSipEnabledFilter},i.prototype.hasIsSipEnabledFilter=function(){return!0===this.isSipEnabledFilter||!1===this.isSipEnabledFilter},i}])},{}],1067:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("FirewallRulesetFilter",["BaseSearchableModelFilter",function(t){var e=function(){t.call(this),this.rulesetType="",this.searchableAttributes=["name"]};return(e.prototype=Object.create(t.prototype)).constructor=e,e.prototype.test=function(e){return(!this.rulesetType||e.get("ruleset")===this.rulesetType)&&t.prototype.test.call(this,e)},e.prototype.isFiltered=function(){return this.searchQuery.length+this.rulesetType.length>0},e.prototype.updateRuleset=function(t){this.rulesetType=t?t.trim():""},e}])},{}],1068:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("FirmwareFilter",["BaseSearchableModelFilter",function(t){var e=function(){t.call(this),this.device=null,this.state=null};return(e.prototype=Object.create(t.prototype)).constructor=e,e.prototype.test=function(t){if(null!==this.device){if("known"===this.device&&!t.get("cached")&&!t.get("knownDevice")&&!t.get("siteDevice"))return!1;if("site"===this.device&&!t.get("siteDevice"))return!1}if(null!==this.state){if("cached"===this.state&&!t.get("cached"))return!1;if("available"===this.state&&t.get("cached"))return!1}return!0},e.prototype.setDevice=function(t){this.device=t||null},e.prototype.setState=function(t){this.state=t||null},e}])},{}],1069:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").factory("IpsAlertFilter",["$translate","BaseSearchableModelFilter","countryNameUtils","ipsEventsUtils",function(t,e,i,r){return function(t){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.countryFilter=null,t.severityFilters=null,t.threatTypeFilter=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),n(i,[{key:"test",value:function(t){return(!this.countryFilter||!this.isCountryFilterNotSatisfied(t))&&(!(this.severityFilters&&!this.isSeverityFiltersSatisfied(t))&&((!this.threatTypeFilter||!this.isTypeFilterNotSatisfied(t))&&((!this.ipQuery||!this.isIpFilteredNotSatisfied(t))&&o(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"test",this).call(this,t))))}},{key:"isCountryFilterNotSatisfied",value:function(t){return r.getForeignCountryCode(t)!==this.countryFilter}},{key:"isSeverityFiltersSatisfied",value:function(t){var e=t.getSeverity();return-1!==this.severityFilters.indexOf(e)}},{key:"isTypeFilterNotSatisfied",value:function(t){var e=t.getAlertCategory();return this.threatTypeFilter!==e}},{key:"isIpFilteredNotSatisfied",value:function(t){var e=this;return![t.getSrcIp(),t.getDestIp()].some(function(t){return t.includes(e.ipQuery)})}},{key:"setIpFilter",value:function(t){this.ipQuery=t}},{key:"isIpFiltered",value:function(){return!!this.ipQuery}},{key:"setCountryFilter",value:function(t){this.countryFilter=t}},{key:"isCountryFiltered",value:function(){return!!this.countryFilter}},{key:"setSeverityFilters",value:function(t){this.severityFilters=t}},{key:"isSeverityFiltered",value:function(){return!(!this.severityFilters||!this.severityFilters.length||4===this.severityFilters.length)}},{key:"setThreatTypeFilter",value:function(t){this.threatTypeFilter=t}},{key:"isThreatTypeFiltered",value:function(){return!!this.threatTypeFilter}},{key:"isFiltered",value:function(){return!this.countryFilter||this.severityFilters||this.threatTypeFilter||o(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"isFiltered",this).call(this)}},{key:"getActiveFiltersCount",value:function(){return[this.isIpFiltered(),this.isCountryFiltered(),this.isSeverityFiltered(),this.isThreatTypeFiltered()].filter(Boolean).length}},{key:"clearFilters",value:function(){this.countryFilter=null,this.severityFilters=null,this.threatTypeFilter=null,this.ipQuery=null}}]),i}()}])},{}],1070:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("app-unifi-manage").factory("IpsListFilter",[function(){return function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.test=this.test.bind(this)}return n(t,[{key:"getTest",value:function(){return this.test}},{key:"test",value:function(t){return this.isTimeRangeFilterSatisfied(t)}},{key:"isTimeRangeFilterSatisfied",value:function(t){var e=t.get("time");return(void 0===this.start||this.start<=e)&&(void 0===this.end||this.end>=e)}},{key:"setTimeRangeFilter",value:function(t,e){return this.start=angular.isNumber(t)?parseInt(t):void 0,this.end=angular.isNumber(e)?parseInt(e):void 0,this}},{key:"isFiltered",value:function(){return this.start||this.end}}]),t}()}])},{}],1071:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ManageDashboardModuleDefinitionsFilter",["$translate","siteHealth","DashboardModuleDefinitionsFilter","DEVICE_TYPES",function(t,e,i,n){var o=function(){i.call(this)};return(o.prototype=Object.create(i.prototype)).constructor=o,o.prototype.isCompatible=function(t){var i=t.getNested("requirements.deviceType"),o=angular.isArray(i),r=!o||t.getNested("requirements.requireAllDevicesTypes"),a=!1;if(i){if(o&&-1!==i.indexOf(n.GATEWAY)||i===n.GATEWAY)if(e.hasGateway())a=!0;else if(r)return!1;if(o&&-1!==i.indexOf(n.SWITCH)||i===n.SWITCH)if(e.hasSwitch())a=!0;else if(r)return!1;if(o&&-1!==i.indexOf(n.AP)||i===n.AP)if(e.hasAp())a=!0;else if(r)return!1;if(!a)return!1}return!0},o}])},{}],1072:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("SimpleModelFilter",[function(){var t=function(){this.filters=[],this.matchAnyAttribute=!1,this.test=this.test.bind(this)};return t.prototype.getTest=function(){return this.test},t.prototype.test=function(t){return this.filters[this.matchAnyAttribute?"some":"every"](function(e){if(e.options.negate){if(this._match(t.get(e.attr),e.value,e.options))return!1}else if(!this._match(t.get(e.attr),e.value,e.options))return!1;return!0}.bind(this))},t.prototype.addAttributeFilter=function(t,e,i){this.filters.push({attr:t,value:e,options:i||{}})},t.prototype.removeAttributeFilter=function(t){for(var e,i=function(e){return e.attr===t};-1!==(e=this.filters.findIndex(i));)this.filters.splice(e,1)},t.prototype.clearAttributeFilters=function(){this.filters=[]},t.prototype.isFiltered=function(){return this.filters.length>0},t.prototype._match=function(t,e,i){return!0===e||!1===e||i.exact?t===e:Number.isFinite(e)?parseInt(t,10)===e:angular.isArray(e)?-1!==e.indexOf(t):t&&t.toLowerCase().indexOf(e.toLowerCase())>-1},t}])},{}],1073:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("StreamDeviceFilter",["BaseSearchableModelFilter",function(t){var e=function(){t.call(this),this.streamFilter=null,this.searchableAttributes=["streamId"]};return(e.prototype=Object.create(t.prototype)).constructor=e,e.prototype.test=function(e){var i=this.streamFilter;return(null===i||i===e.get("streamId"))&&t.prototype.test.call(this,e)},e.prototype.getStreamFilter=function(){return this.streamFilter},e.prototype.hasStreamFilter=function(){return null!==this.streamFilter},e.prototype.setStreamFilter=function(t){this.streamFilter=t},e.prototype.clearStreamFilter=function(){this.streamFilter=null},e.prototype.isFiltered=function(){return null!==this.streamFilter||this.searchQuery.length>0},e}])},{}],1074:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("firewallGroups",["BaseCollectionRepository","FirewallGroupCollection",function(t,e){this.repository=new t(new e)}])},{}],1075:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("firewallRules",["BaseCollectionRepository","FirewallRuleCollection","firewallUtils",function(t,e,i){this.repository=new t(new e),this.repository.fetch=function(e){return t.prototype.fetch.call(this.repository,e).then(function(){return i.getPredefinedRules(this.repository.collection)}.bind(this))}.bind(this)}])},{}],1076:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("firewallUtils",["$q","FirewallGroupModel","FirewallMgrModel","FirewallRuleModel","gatewayUtils",function(t,e,i,n,o){this.$q=t,this.gatewayUtils=o,this.firewallMgrModel=new i,this.RULESETS_V4=["WAN_IN","WAN_OUT","WAN_LOCAL","LAN_IN","LAN_OUT","LAN_LOCAL","GUEST_IN","GUEST_OUT","GUEST_LOCAL"],this.RULESETS_V6=["WANv6_IN","WANv6_OUT","WANv6_LOCAL","LANv6_IN","LANv6_OUT","LANv6_LOCAL","GUESTv6_IN","GUESTv6_OUT","GUESTv6_LOCAL"],this.HIGH_PRIORITY=2,this.LOW_PRIORITY=4,this.getGatewayDetails=function(){var t=this.gatewayUtils.getSiteGateway();return t&&t.get("system_cfg")},this.getNextIndex=function(t,e,i){var n=this.getPriorityScope(i),o=t.filter(function(t){return t.get("ruleset")===e&&t.get("rule_index")>=n[0]&&t.get("rule_index")<=n[1]}).map(function(t){return Number(t.get("rule_index"))});o.push(n[0]-1);var r=Math.max.apply(null,o)+1,a=Math.min(r,n[1]);return String(a)},this.getNextHighIndex=function(t,e){return this.getNextIndex(t,e,this.HIGH_PRIORITY)},this.getNextLowIndex=function(t,e){return this.getNextIndex(t,e,this.LOW_PRIORITY)},this.getDefaultRulesetIpv4=function(){return this.RULESETS_V4[0]},this.getDefaultRulesetIpv6=function(){return this.RULESETS_V6[0]},this.getPredefinedRules=function(t){var e=this.getGatewayDetails();if(e){var i=[].concat(this.RULESETS_V4,this.RULESETS_V6),o=e.firewall&&e.firewall.name||{},r=e.firewall&&e.firewall["ipv6-name"]||{};i.forEach(function(e){var i=o[e]||r[e]||{};Object.keys(i.rule||[]).forEach(function(o){var r=i.rule[o],a=new n({ruleset:e,rule_index:o,name:r.description,enabled:!0,action:r.action,protocol:r.protocol?r.protocol.replace("!",""):"all",protocol_v6:r.protocol?r.protocol.replace("!",""):"all",protocol_match_excepted:!!r.protocol&&0===r.protocol.indexOf("!")});if(this.isPredefinedRule(a)){t.find(function(t){return t.get("ruleset")===e&&t.get("rule_index")===o})||t.add(a)}}.bind(this))}.bind(this))}},this.getPriority=function(t){return Math.floor(t/1e3)},this.isHighPriority=function(t){return this.getPriority(t)===this.HIGH_PRIORITY},this.isLowPriority=function(t){return this.getPriority(t)===this.LOW_PRIORITY},this.getPriorityScope=function(t){var e=1e3*t;return[e,e+998]},this.isPredefinedRule=function(t){var e=t&&t.get("rule_index")||0,i=this.getPriority(e);return-1===[this.HIGH_PRIORITY,this.LOW_PRIORITY].indexOf(i)},this.saveRulesOrder=function(e,i){var n=[];return[this.HIGH_PRIORITY,this.LOW_PRIORITY].forEach(function(t){var i=this.getPriorityScope(t),o=1e3*t;e.filter(function(e){return this.getPriority(e.get("rule_index"))===t}.bind(this)).forEach(function(t){Number(t.get("rule_index"))!==o&&n.push({_id:t.id,rule_index:o}),o=Math.min(o+1,i[1])})}.bind(this)),n.length?this.firewallMgrModel.save({cmd:"reorder",ruleset:i,rules:n}).then(function(){return n}):t.resolve([])}}])},{}],1077:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("firmware",["FirmwareCachedCollection","BaseCollectionRepository",function(t,e){this.repository=new e(new t)}])},{}],1078:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("firmwareAvailable",["FirmwareAvailableCollection","BaseCollectionRepository",function(t,e){this.repository=new e(new t)}])},{}],1079:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("firmwareUtils",["$q","$translate","apiResults","firmware","firmwareAvailable","FirmwareModel",function(t,e,i,n,o,r){this.removeFirmware=function(a){var s=a.get("filename"),l=a.get("device"),c=a.get("version");return(new r).save({cmd:"remove",filename:s,device:l,version:c}).then(function(){return o.repository.refresh(),n.repository.refresh(),t.when(e.instant("SETTINGS_MAINTENANCE_FIRMWARE_REMOVE_FIRMWARE_SUCCESS"))}).catch(function(n){return t.reject(i.appendErrorMsg(e.instant("SETTINGS_MAINTENANCE_FIRMWARE_REMOVE_FIRMWARE_ERROR"),n))})},this.downloadFirmware=function(a){var s=a.get("filename"),l=a.get("device"),c=a.get("version");return(new r).save({cmd:"download",filename:s,device:l,version:c}).then(function(){return o.repository.refresh(),n.repository.refresh(),t.when(e.instant("SETTINGS_MAINTENANCE_FIRMWARE_CACHE_FIRMWARE_SUCCESS"))}).catch(function(n){return t.reject(i.appendErrorMsg(e.instant("SETTINGS_MAINTENANCE_FIRMWARE_CACHE_FIRMWARE_ERROR"),n))})}}])},{}],1080:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("formUtils",["_",function(t){this.range=t.memoize(function(t){return new Array(t)})}])},{}],1081:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("gatewayUtils",["$translate","deviceFeatureUtils","devices","deviceUtils","networks","settings","siteHealth","siteUtils","DEVICE_MODELS","DEVICE_TYPES","NETWORK_DEFAULTS",function(t,e,i,n,o,r,a,s,l,c,u){var d=this;this.updateNetworks=function(){d.networkGroups=o.getNetworkGroups()},o.repository.collection.on("sync",this.updateNetworks),this.updateNetworks(),this.getSiteGateway=function(){var t=s.getActiveSite();return t&&i.repository.collection.findWhere({type:c.GATEWAY,site_id:t.id})},this.getSiteGatewayVersion=function(){var t=this.getSiteGateway();return t?t.get("version"):this.getGatewayVersionFromHealth()},this.getGatewayVersionFromHealth=function(){var t=a.repository.collection.findWhere({subsystem:"wan"});return t&&t.get("gw_version")},this.hasSiteGateway=function(){return!!this.getSiteGateway()||!!this.getGatewayVersionFromHealth()},this.getIpByNetworkGroup=function(t,e){if(e.get("ethernet_overrides")&&e.get("port_table")){var i=e.get("ethernet_overrides").findWhere({networkgroup:t}),n=i?e.get("port_table").findWhere({ifname:i.get("ifname")}):void 0;return n&&n.get("ip")}},this.getDeviceSpecs=function(t){return l[t.get("model")]||{features:{},ports:{},linkNegotiation:{}}},this.getWanNetworkGroups=function(t){var e=t.get("ethernet_overrides");return this.networkGroups.reduce(function(t,i){if(i.id.toUpperCase().startsWith("WAN")&&e.findWhere({networkgroup:i.id}))return[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(t),[{label:i.id.toUpperCase(),value:i.id.toUpperCase()}]);return t},[]).sort(function(t,e){return t.label.localeCompare(e.label)})},this.getPortNetworkgroup=function(t,e){if(!t||!e)return null;var i=e.get("ethernet_overrides").findWhere({ifname:t}),n=null;i?n=this.networkGroups.find(function(t){return t.id===i.get("networkgroup")}):n={label:n=this.getDeviceSpecs(e).networkGroups[t]};return n},this.getDefaultNetworkgroupPortName=function(t,e){return t&&e?this.getDeviceSpecs(e).ports[this.getDefaultNetworkgroupIfname(t,e)]:null},this.getDefaultNetworkgroupIfname=function(t,e){if(!t||!e)return null;var i=this.getDeviceSpecs(e),n=void 0;return Object.keys(i.networkGroups).forEach(function(e){i.networkGroups[e]===t&&(n=e)}),n},this.getNetworkgroupPortName=function(t,i){if(!t||!i)return null;var n=this.getDeviceSpecs(i).ports;if(e.isGatewayPortReassignmentSupported(i)){var o=i.get("ethernet_overrides"),r=o.findWhere({networkgroup:t});if(r)return n[r.get("ifname")];var a=this.getDefaultNetworkgroupIfname(t,i);return o.findWhere({ifname:a})?"":this.getDefaultNetworkgroupPortName(t,i)}return this.getDefaultNetworkgroupPortName(t,i)},this.getNetworkgroupIfname=function(t,i){if(!t||!i)return null;if(e.isGatewayPortReassignmentSupported(i)){var n=i.get("ethernet_overrides").findWhere({networkgroup:t});if(n)return n.get("ifname")}return this.getDefaultNetworkgroupIfname(t,i)},this.getPortIcon=function(t,e){var i=this.getPortNetworkgroup(t,e);if(i){var n=i.id&&i.id.toLowerCase(),o=i.label&&i.label.toLowerCase();if(n&&o.startsWith("lan"))return"port-network";if(n&&o.startsWith("wan"))return"port-shield"}},this.isPortDisconnected=function(t,e){if(!t||!e)return!0;if(this.getPortNetworkgroup(t,e)){var i=e.get("port_table").findWhere({ifname:t});if(i)return i.get("enable")&&!i.get("up")}return!1},this.isSfpPlusSupported=function(t){return!!(this.getDeviceSpecs(t).features||{}).sfpPlusSupported},this.getNetworksCount=function(t){if(t){var e=this.getDeviceSpecs(t);return Object.keys(e.ports).length-1}return u.DEFAULT_NETWORK_INTERFACES},this.getTemperatureSensorConfigs=function(t){return this.getDeviceSpecs(t).temperatureSensors||[]},this.getInterface=function(t){return t.get("ifname")},this.getPortLabel=function(t,e){var i=this.getDeviceSpecs(t),n=e.get("ifname");return i.ports[n]||n},this.getPorts=function(t){var e=this.getDeviceSpecs(t);return Object.keys(e.ports).map(function(t){return e.ports[t]})},this.getPortIfNames=function(t){var e=this.getDeviceSpecs(t);return Object.keys(e.ports)},this.getNetworkGroupsNames=function(t){var e=this.getDeviceSpecs(t);return Object.keys(e.networkGroups).map(function(t){return e.networkGroups[t]})},this.tryAssignToDefaultPort=function(t){var e=this.getSiteGateway(),i=e.get("ethernet_overrides"),o=i.findWhere({networkgroup:t});return o||!(o=this.getDefaultNetworkgroupIfname(t,e))||e.get("ethernet_overrides").findWhere({ifname:o})?Promise.resolve():(i.push({ifname:o,networkgroup:t}),n.saveDevice(e,{ethernet_overrides:i},{wait:!0}))},this.getLinkNegotiations=function(t,e){var i=this.getDeviceSpecs(t).linkNegotiation||{},n=i[e]||{};return angular.extend({ifname:e},i[n.bindWith],n)}}])},{}],1082:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("gateways",["DeviceMgrModel",function(t){this.startSpeedTest=function(){return(new t).save({cmd:"speedtest"})},this.fetchSpeedTestResult=function(){return(new t).save({cmd:"speedtest-status"}).then(function(t){return t.data&&t.data.data&&t.data.data[0]||{}})}}])},{}],1083:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("geometryUtils",[function(){this.limitRectPosition=function(t,e,i,n,o){return[Math.max(Math.min(t,o[0]),o[0]-i),Math.max(Math.min(e,o[1]),o[1]-n)]},this.rescaleRect=function(t,e,i,n,o){var r=[t+i/2,e+n/2];return{width:i*o,height:n*o,x:r[0]-i*o/2,y:r[1]-n*o/2}},this.getLength=function(t,e){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))},this.lineAsPath=function(t,e,i){for(var n=(e[0]-t[0])/i,o=(e[1]-t[1])/i,r=[],a=0;a<=i;a++)r.push([t[0]+n*a,t[1]+o*a]);return r}}])},{}],1084:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("hotspot2",["BaseCollectionRepository","Hotspot2Collection",function(t,e){this.repository=new t(new e)}])},{}],1085:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("hotspotOverrides",["$q","$translate","BaseModelRepository","HotspotMgrModel","HotspotOverridesModel",function(t,e,i,n,o){this.repository=new i(new o),this.upgrade=function(){return(new n).save({cmd:"upgrade-portal"}).then(function(){return this.repository.refresh()}.bind(this)).then(function(){return t.when(e.instant("SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_SUCCESS"))}).catch(function(){return t.reject(e.instant("SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_ERROR"))})}}])},{}],1086:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("hotspotPackages",["BaseCollectionRepository","HotspotPackageCollection","HotspotPackageModel","HOTSPOT_PACKAGES_DEFAULTS",function(t,e,i,n){this.repository=new t(new e),this.clonePackagesWithDefaults=function(){var t=this.repository.collection.deepCopy();return 0===this.repository.collection.models.length&&n.forEach(function(e){t.add(new i(e))}),t}}])},{}],1087:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("imageUrlUtils",["$q","$http","$window","UseWebrtc",function(t,e,i,n){this.convertImageUrl=function(i){var o=t.defer();return!n||i&&(-1!==i.indexOf("base64")||i.startsWith("http"))?o.resolve(i):e.get(i,{withWebRTC:!0}).then(function(t){var e=window.URL.createObjectURL(new Blob([t.arraybuffer]));o.resolve(e)}).catch(function(){o.reject()}),o.promise},this.loadImage=function(e){var n=t.defer();return this.convertImageUrl(e).then(function(t){var e=new i.Image;e.onerror=function(){n.reject()},e.onload=function(){n.resolve({size:{width:e.width,height:e.height},url:t})},e.src=t}),n.promise}}])},{}],1088:[function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}angular.module("app-unifi-manage").service("ipsEvents",["$stateParams","BaseCollection","BaseCollectionRepository","countryNameUtils","IpsEventCollection","ipsEventsUtils","ipsFilters","COUNTRY_MAP","DATE_RANGE_PRESETS",function(t,e,i,o,r,a,s,l,c){var u=this;this.repository=new i(new r),this.filteredCollection=new e;var d=s.getFilter();this.updateFilteredCollection=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).resetFilter;void 0!==t&&t&&d.clearFilters();var e=u.repository.collection.filter(d.getTest());u.filteredCollection.reset(e)},this.repository.collection.onUpdate(this.updateFilteredCollection.bind(this));this._getModels=function(){return this.filteredCollection.models},this.getLinks=function(){var t=this._getModels(),e=t.map(function(t){var e=a.getCountryCodes(t),i=e.src,n=e.dst,o={origin:{country:i&&l[i]?i&&l[i].longCode:void 0,ip:t.getSrcIp()},destination:{country:n&&l[n]?n&&l[n].longCode:void 0,lat:t.get("dstipGeo")&&t.get("dstipGeo").latitude,lng:t.get("dstipGeo")&&t.get("dstipGeo").longitude},severity:t.getSeverity(),count:0};return t.get("srcipGeo")?(o.origin.lat=t.get("srcipGeo")&&t.get("srcipGeo").latitude,o.origin.lng=t.get("srcipGeo")&&t.get("srcipGeo").longitude):t.get("usgipGeo")&&(o.origin.lat=t.get("usgipGeo")&&t.get("usgipGeo").latitude,o.origin.lng=t.get("usgipGeo")&&t.get("usgipGeo").longitude),o}).filter(function(t){return t.origin.country&&t.destination.country}).reduce(function(t,e){var i=[e.origin.country,e.destination.country,e.destination.lat&&e.destination.lat.toFixed(2),e.destination.lng&&e.destination.lng.toFixed(2)].filter(function(t){return!!t}).join("");return t[i]=t[i]||e,t[i].severitySum=(t[i].severitySum||0)+e.severity,t[i].count++,t},{}),i=Object.keys(e).map(function(t){var i=e[t];return i.severityAverage=Math.round(i.severitySum/i.count),i.isOriginOurNetwork=a.isAddressFromOurNetwork(i.origin.ip),i});return i.forEach(function(t){["origin","destination"].forEach(function(e){"HMD"===t[e].country&&(t[e]={country:"HMD",lat:-53.0818,lng:73.5042})})}),{totalCount:t.length,links:i}},this.getTopThreats=function(t,e){var i,n,o,r=t.limit,a=void 0===r?1:r,s=this._getModels();return(i=s,n=e,o=function(t,e){return t.reduce(function(t,i){var n=e(i),o=t[n];return o?o.push(i):t[n]=[i],t},{})}(i,n),Object.values(o)||[]).sort(function(t,e){return e.length-t.length}).slice(0,a)},this.getTopThreatsByGeo=function(t){var e=t.limit,i=void 0===e?1:e;return this.getTopThreats({limit:i},function(t){return t.getSrcIp()+t.getSeverity()}).map(function(t){var e=a.getCountryCodes(t[0]).src;return{sourceIp:t[0].getSrcIp(),severity:t[0].getSeverity(),countryCode:e,attempts:t.length}})},this.getTopThreatsByType=function(t){var e=t.limit,i=void 0===e?1:e;return this.getTopThreats({limit:i},function(t){return t.getAlertCategory()}).map(function(t){return{category:t[0].getAlertCategory(),attempts:t.length,severity:t[0].getSeverity()}})},this.getThreatsBySeverity=function(){var t=this._getModels(),e=t.reduce(function(t,e){var i=e.getSeverity();return 1===i?t.high++:2===i?t.medium++:3!==i&&4!==i||t.low++,t},{low:0,medium:0,high:0});return e.sum=t.length,e},this.getLastAttacks=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).count,e=void 0===t?5:t;return this._getModels().slice(0,e)},this.getStartDate=function(){return this.repository.collection.start},this.getEndDate=function(){return this.repository.collection.end},this.parseStateParams=function(){var e={};return!t.startOrPreset||isNaN(t.startOrPreset)?(e.preset=t.startOrPreset&&c[t.startOrPreset.toUpperCase()]||c.LAST_24H,e.start=e.preset.start,e.end=e.preset.end):(e.start=t.startOrPreset,e.end=t.end),e},this.calculateStateParams=function(t,e,i){var n={};if(t){var o=Object.keys(c).find(function(e){return c[e]===t});n.startOrPreset=o?o.toLowerCase():"",n.end=null}else n.startOrPreset=e,n.end=i;return n},this.getThreatTypes=function(){var t=this.repository.collection.models.reduce(function(t,e){return t.add(e.getAlertCategory())},new Set);return[].concat(n(t)).sort()},this.getEventsCountryNames=function(){var t=this.repository.collection.models.reduce(function(t,e){return t.add(e.getSrcCountry()).add(e.getDestCountry())},new Set);return[].concat(n(t)).filter(function(t){return!!t}).map(function(t){return{cc:t,name:o.getName(t)}}).sort(function(t,e){return t.name>e.name?1:t.name<e.name?-1:0})}}])},{}],1089:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("ipsEventsUtils",["countryNameUtils","ipUtils","networkUtils",function(t,e,i){this.getForeignCountryCode=function(e){var i=this.getCountryCodes(e),n=i.src,o=i.dst;return n===t.getSiteCountryCode()?o:n},this.getCountryCodes=function(t){return{src:this.getCountryCode(t.getSrcCountry(),t.getSrcIp()),dst:this.getCountryCode(t.getDestCountry(),t.getDestIp())}},this.getCountryCode=function(e,i){return e||(this.isAddressFromOurNetwork(i)?t.getSiteCountryCode():void 0)},this.isAddressFromOurNetwork=function(t){return i.isIpAddressFromLocalNetwork(t)||e.isPrivateAddress(t)}}])},{}],1090:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("ipsFilters",["IpsAlertFilter",function(t){this.panelVisible=!1,this.severity={high:!0,medium:!0,low:!0},this.isPanelOpen=function(){return this.panelVisible},this.togglePanel=function(){this.panelVisible=!this.panelVisible},this.openPanel=function(){this.panelVisible=!0},this.getFilter=function(){return this.filter=this.filter||new t,this.filter},this.setCountryFilter=function(t){this.country=t,this.filter.setCountryFilter(t)},this.setIpFilter=function(t){this.ip=t,this.filter.setIpFilter(t)},this.setSeverityFilter=function(t){var e=this;Object.keys(this.severity).forEach(function(i){e.severity[i]=i===t}),this.updateSeverityFilters()},this.updateSeverityFilters=function(){var t=this,e=Object.keys(this.severity).filter(function(e){return t.severity[e]}).reduce(function(t,e){switch(e){case"high":t.push(1);break;case"medium":t.push(2);break;case"low":t.push(3),t.push(4)}return t},[]);this.filter.setSeverityFilters(e.length?e:null)},this.setDefaultAttrs=function(){this.country=null,this.ip=null,this.threatType=null,this.severity={high:!0,medium:!0,low:!0},this.filter.clearFilters()}}])},{}],1091:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("ipsFirewallUtils",["$q","firewallRules","FirewallMgrModel","FirewallRuleModel","ipUtils","ipv6Utils","networkUtils","FIREWALL",function(t,e,i,n,o,r,a,s){this.firewallMgrModel=new i,this.blockTraffic=function(t,e,i){var n=this.getPredefinedIpsFirewallRule(t,e,i);return this.createIpsRule(t,n)},this.blacklistIp=function(t,e){var i=this.getPredefinedIpsFirewallRule(t,e);return this.createIpsRule(t,i)},this.createIpsRule=function(t,e){e.rule_index=2e3;var i=e.ruleset,o=new n;return this.isRuleReorderRequired(t,i)?this.reorderRules(t,i).then(function(){return o.save(e,{wait:!0})}).then(function(){return t.add(o,{merge:!0})}):o.save(e,{wait:!0}).then(function(){return t.add(o,{merge:!0})})},this.isRuleReorderRequired=function(t,e){return t.some(function(t){return t.get("ruleset")===e&&2e3===Number(t.get("rule_index"))})},this.reorderRules=function(i,n){var o=2001,r=i.filter(function(t){return t.get("ruleset")===n}).sort(function(t,e){return t.get("rule_index")-e.get("rule_index")}).map(function(t){return{_id:t.id,rule_index:o++}});return this.firewallMgrModel.save({cmd:"reorder",ruleset:n,rules:r}).then(function(){return r.forEach(function(t){return e.repository.collection.get(t._id).set("rule_index",t.rule_index)}),t.when()})},this.getPredefinedIpsFirewallRule=function(t,e,i){var n={action:"drop",dst_firewallgroup_ids:[],enabled:!0,ipsec:"",logging:!1,protocol_match_excepted:!1,src_firewallgroup_ids:[],src_mac_address:"",state_established:!1,state_invalid:!1,state_new:!1,state_related:!1};return o.isIPv4Address(e)?(n.dst_address=i||"",n.dst_networkconf_id="",n.dst_networkconf_type="NETv4",n.icmp_typename="",n.name=i?"IPS Block Traffic from "+e+" to "+i:"IPS Blacklist "+e,n.protocol=s.IPV4.POPULAR_PROTOCOLS[0],n.ruleset=a.isIpAddressFromLocalNetwork(e)?"WAN_OUT":"WAN_IN",n.src_address=e,n.src_networkconf_id="",n.src_networkconf_type="NETv4"):(n.dst_address_ipv6=i||"",n.icmpv6_typename="",n.name=i?"IPS Block Traffic from "+r.removeLeadingZeros(e)+" to "+r.removeLeadingZeros(i):"IPS Blacklist "+r.removeLeadingZeros(e),n.protocol_v6=s.IPV6.POPULAR_PROTOCOLS[0],n.ruleset=a.isIpAddressFromLocalNetwork(e)?"WANv6_OUT":"WANv6_IN",n.src_address_ipv6=e),n}}])},{}],1092:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("knownClients",["$q","BaseCollectionRepository","KnownClientCollection","clients","KNOWN_CLIENT_FIELDS",function(t,e,i,n,o){this.repository=new e(new i);var r=function(){return this.repository.collection.add(n.repository.collection.invoke("pick",o),{merge:!0}),t.when(this.repository.collection)}.bind(this);this.repository.fetch=function(t){return e.prototype.fetch.call(this,t).then(r)},this.updateWithin=function(t){this.repository.collection.updateWithin(t)},this.getWithin=function(){return this.repository.collection.getWithin()}}])},{}],1093:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("knownClientsCache",["$rootScope","BaseIndependentCollectionRepository","KnownClientCacheCollection","contextSwitchStates","KNOWN_CLIENT_FIELDS",function(t,e,i,n,o){this.repository=new e(new i,"mac"),this.cacheConnectedClient=function(t){return this.repository.collection.add(t.pick(o),{merge:!0})},t.$on(n.getSuccess(),function(){this.repository.collection.reset()}.bind(this))}])},{}],1094:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("logsWsMessageHandler",["wsLogsAdapter","$rootScope","LOG_EVENTS",function(t,e,i){var n=!1;this.register=function(){n||(t.on("logMessage",function(t){var n;"logMessage"===t.meta.message&&(n=t.data,e.$broadcast(i.LOGS_ADDED,n))}),t.on("fetchMoreResult",function(t){var n;"fetchMoreResult"===t.meta.message&&(n=t.data,e.$broadcast(i.LOGS_FETCHED,n))}),n=!0)}}])},{}],1095:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};angular.module("app-unifi-manage").service("mapLabelOptionStore",["BaseOptionStore",function(t){return new(function(e){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.localStorageKey="optionStore:mapMarkerLabel",t.availableOptions=[{id:"name",translationKey:"MAP_DEVICE_MARKER_LABEL_NAME"},{id:"mac",translationKey:"MAP_DEVICE_MARKER_LABEL_MAC"},{id:"ip",translationKey:"MAP_DEVICE_MARKER_LABEL_IP"},{id:"status",translationKey:"MAP_DEVICE_MARKER_LABEL_STATUS"},{id:"model",translationKey:"MAP_DEVICE_MARKER_LABEL_MODEL"},{id:"version",translationKey:"MAP_DEVICE_MARKER_LABEL_VERSION"},{id:"uptime",translationKey:"MAP_DEVICE_MARKER_LABEL_UPTIME"},{id:"clients",translationKey:"MAP_DEVICE_MARKER_LABEL_CLIENTS"},{id:"bytes",translationKey:"MAP_DEVICE_MARKER_LABEL_BYTES"},{id:"channel",translationKey:"MAP_DEVICE_MARKER_LABEL_CHANNEL"}],t.optionPresets=[{id:"none",translationKey:"MAP_DEVICE_MARKER_LABEL_PRESET_NONE"},{id:"simple",translationKey:"MAP_DEVICE_MARKER_LABEL_PRESET_SIMPLE"},{id:"detailed",translationKey:"MAP_DEVICE_MARKER_LABEL_PRESET_DETAILED"},{id:"all",translationKey:"MAP_DEVICE_MARKER_LABEL_PRESET_ALL"}],t.views={none:[],simple:["name"],detailed:["name","mac","channel","clients"],all:["bytes","channel","clients","ip","mac","model","name","status","uptime","version"]},o(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"init",t).call(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,t),n(i,[{key:"setColumnGroup",value:function(t){this.columnGroup=t}},{key:"getPredefinedOptions",value:function(){return this.views.simple}},{key:"setOptionPreset",value:function(t){var e="all"===t?this.getAllOptions():this.views[t];e&&(this.clearSelectedOptions(),this.selectedOptions=e.slice(),this.saveOptions())}}]),i}())}])},{}],1096:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("modelToCollectionMixin",["_",function(t){return{_hasModelToCollectionMixin:!0,_modelToCollectionMixinIdAttribute:"_id",parse:function(t){var e=[],i={};return Object.keys(t).forEach(function(n){i[this._modelToCollectionMixinIdAttribute]=n,e.push(angular.extend(t[n],i))}.bind(this)),e},toJSON:function(){var e={};return this.each(function(i){e[i.get(this._modelToCollectionMixinIdAttribute)]=t.omit(i.toJSON(),this._modelToCollectionMixinIdAttribute)}.bind(this)),e}}}])},{}],1097:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("modelUtils",[function(){this.modelGet=function(t,e,i){var n=t&&t.get(e);return angular.isArray(n)&&(n=angular.copy(n)),void 0!==n&&null!==n?n:i}}])},{}],1098:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("AirTimeScanModel",["BaseModel",function(t){return t.extend({idAttribute:"id"})}])},{}],1099:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("AirViewScanModel",["BaseModel",function(t){return t.extend({idAttribute:"id"})}])},{}],1100:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("AlertModel",["CORSModel","webrtcMixin","EVENT_KEYS_LEVELS_MAP",function(t,e,i){return t.extend(e).extend({idAttribute:"_id",parse:function(t){return i[t.key]&&(t.level=i[t.key]),t}})}])},{}],1101:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("BaseClientModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","savePartialMixin","getNestedMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(e).extend(i).extend(n).extend(o).extend(r).extend(a).extend({idAttribute:"mac",modelType:"client",siteUrl:"rest/user",LAST_ACTIVITY_THRESHOLD:120,getDisplayName:function(){return this.get("name")||this.get("hostname")||this.get("mac")},getConnection:function(){return this.isWired()?this.get("network"):this.get("essid")},isActive:function(){var t=this.get("idletime");return!!(t&&t<=this.LAST_ACTIVITY_THRESHOLD)},isConfigured:function(){return!!(this.get("name")||this.get("use_fixedip")||this.get("usergroup_id")||this.get("blocked")||this.get("noted"))},isWired:function(){return this.get("is_wired")},getActivityBytes:function(){return this.isWired()?(this.get("wired-rx_bytes-r")||0)+(this.get("wired-tx_bytes-r")||0):this.get("bytes-r")},getTxActivity:function(){return this.isWired()?this.get("wired-tx_bytes"):this.get("tx_bytes")},getRxActivity:function(){return this.isWired()?this.get("wired-rx_bytes"):this.get("rx_bytes")},getRxActivityPackets:function(){return this.isWired()?this.get("wired-rx_packets"):this.get("rx_packets")},getTxActivityPackets:function(){return this.isWired()?this.get("wired-tx_packets"):this.get("tx_packets")},getInterNetworkActivityBytes:function(){return this.isWired()?this.get("bytes-r"):""},getInterNetworkUp:function(){return this.isWired()?this.get("rx_bytes"):""},getInterNetworkDown:function(){return this.isWired()?this.get("tx_bytes"):""},getInterNetworkUpPackets:function(){return this.isWired()?this.get("rx_packets"):""},getInterNetworkDownPackets:function(){return this.isWired()?this.get("tx_packets"):""}})}])},{}],1102:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("BatchClientModel",["$translate","BatchModel",function(t,e){return e.extend({siteUrl:"group/user",_independentProperties:["fixed_ip"],_getResponseByModel:function(t,e){return t[e.get("_id")]},getDisplayName:function(){return t.instant(function(t){switch(t){case"batch:sta":default:return"CLIENT_PROPERTIES_BATCH_PROPERTY_PANEL_TITLE"}}(this.modelType))}})}])},{}],1103:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ChannelUtilizationModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(e).extend(i).extend(n).extend(o).extend(r).extend({siteUrl:"stat/widget/channels"})}])},{}],1104:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ClientHistoryModel",["CORSModel","webrtcMixin",function(t,e){return t.extend(e).extend({idAttribute:"_id"})}])},{}],1105:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ClientMgrModel",["CORSModel","siteUrlMixin","webrtcMixin",function(t,e,i){return t.extend(e).extend(i).extend({siteUrl:"cmd/stamgr"})}])},{}],1106:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ClientModel",["BaseClientModel","modelDelegateMixin","pendingMixin",function(t,e,i){return t.extend(e).extend(i).extend({idAttribute:"mac",modelType:"client",siteUrl:"rest/user",_delegateFallbackCache:{get:t.prototype,set:t.prototype,has:t.prototype},url:function(){return this.buildUrl({id:this.get("_id")})},sync:function(e,i,n){return n=n||{},"read"===e&&(n.url=this.buildUrl({siteUrl:"stat/sta"})),t.prototype.sync.call(this,e,i,n)}})}])},{}],1107:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ConfigMgrModel",["CORSModel","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n){return t.extend(e).extend(i).extend(n).extend({siteUrl:"cmd/cfgmgr"})}])},{}],1108:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("ControllerWarningsModel",["Backbone","BaseCollection","CORSModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o,r,a){return i.extend(n).extend(o).extend(r).extend(a).extend({siteUrl:"stat/widget/warnings"})}])},{}],1109:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DeviceInventoryModel",["CORSModel","webrtcMixin",function(t,e){return t.extend(e).extend({idAttribute:"category"})}])},{}],1110:[function(t,e,i){"use strict";angular.module("shared-unifi-manage").factory("DhcpOptionModel",["CORSModel","siteUrlMixin","deepCopyMixin","structureMixin","webrtcMixin","webSocketMixin",function(t,e,i,n,o,r){return t.extend(e).extend(i).extend(n).extend(o).extend(r).extend({idAttribute:"_id",siteUrl:"rest/dhcpoption"})}])},{}],1111:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DpiAppModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"rest/dpiapp"})}])},{}],1112:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DpiGroupModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"rest/dpigroup",isBuiltIn:function(){return!!this.get("attr_no_delete")}})}])},{}],1113:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DynamicDnsModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({modelType:"dynamicDns",idAttribute:"_id",siteUrl:"rest/dynamicdns"})}])},{}],1114:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("DynamicDnsStatsModel",["CORSModel","webrtcMixin",function(t,e){return t.extend(e).extend({idAttribute:"_id"})}])},{}],1115:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("EventMgrModel",["CORSModel","siteUrlMixin","webrtcMixin",function(t,e,i){return t.extend(e).extend(i).extend({siteUrl:"cmd/evtmgr"})}])},{}],1116:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("EventModel",["CORSModel","webrtcMixin","EVENT_KEYS_LEVELS_MAP",function(t,e,i){return t.extend(e).extend({idAttribute:"_id",parse:function(t){return i[t.key]&&(t.level=i[t.key]),t}})}])},{}],1117:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("FirewallGroupModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"rest/firewallgroup"})}])},{}],1118:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("FirewallRuleModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"rest/firewallrule",getSrcAddress:function(){return this.get("src_address")},getSrcAddressIpv6:function(){return this.get("src_address_ipv6")},getDstAddress:function(){return this.get("dst_address")},getDstAddressIpv6:function(){return this.get("dst_address_ipv6")}})}])},{}],1119:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("FirmwareModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"filename",siteUrl:"cmd/firmware"})}])},{}],1120:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("FwUpdateModel",["CORSModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({_isActiveSiteOptional:!0,siteUrl:"stat/fwupdate",sync:function(e,i,n){var o=i.get("cmd");return o&&(n.url=this.buildUrl()+"/"+o,n.version&&(n.url+="?version="+n.version)),t.prototype.sync.call(this,e,i,n)},getChangelog:function(){return this.get("md")}})}])},{}],1121:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("HealthModel",["CORSModel","resolveMixin","siteUrlMixin","structureMixin","savePartialMixin","deepCopyMixin","getNestedMixin","webrtcMixin",function(t,e,i,n,o,r,a,s){return t.extend(e).extend(i).extend(n).extend(o).extend(r).extend(a).extend(s).extend({siteUrl:"stat/widget/health"})}])},{}],1122:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("Hotspot2Model",["CORSModel","structureMixin","webrtcMixin","savePartialMixin","deepCopyMixin","siteUrlMixin",function(t,e,i,n,o,r){return t.extend(e).extend(i).extend(n).extend(o).extend(r).extend({defaults:{venue_group:"0",venue_type:"0",network_type:"0"},idAttribute:"_id",siteUrl:"rest/hotspot2conf"})}])},{}],1123:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("HotspotOverridesModel",["CORSModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({siteUrl:"stat/hotspotoverrides"})}])},{}],1124:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("IpsEventModel",["CORSModel","webrtcMixin","ipv6Utils","EVENT_KEYS_LEVELS_MAP",function(t,e,i,n){return t.extend(e).extend({idAttribute:"_id",getSrcCountry:function(){return this.get("srcipCountry")},getDestCountry:function(){return this.get("dstipCountry")},getSrcIp:function(){var t=this.get("src_ip");return i.isIPv6Address(t)?i.removeLeadingZeros(t):t},getDestIp:function(){var t=this.get("dest_ip");return i.isIPv6Address(t)?i.removeLeadingZeros(t):t},getSrcPort:function(){return this.get("src_port")},getDestPort:function(){return this.get("dest_port")},getDstMac:function(){return this.get("dst_mac")},getSrcMac:function(){return this.get("src_mac")},getSeverity:function(){return this.get("inner_alert_severity")},getAlertCategory:function(){return this.get("inner_alert_category")},getTime:function(){return this.get("time")},getFlowId:function(){return this.get("flow_id")},getCategoryName:function(){return this.get("catname")},getProtocol:function(){return this.get("proto")},getInterface:function(){return this.get("in_iface")},getInnerAlertSignature:function(){return this.get("inner_alert_signature")},getUniqueAlertId:function(){return this.get("unique_alertid")},getAlertCategoryKey:function(){if("catname"in this.attributes)return"SETTINGS_IPS_VALUES_CATEGORY_"+this.getCategoryName().toUpperCase();var t=this.getInnerAlertSignature().split(" ");return"DROP"===t[1]?t[2]:t[1]},parse:function(t){return n[t.key]&&(t.level=n[t.key]),t}})}])},{}],1125:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("KnownClientModel",["BaseClientModel","resolveMixin","modelDelegateMixin","pendingMixin",function(t,e,i,n){return t.extend(e).extend(i).extend(n).extend({idAttribute:"mac",modelType:"knownclient",siteUrl:"stat/user",_delegateFallbackCache:{get:t.prototype,set:t.prototype,has:t.prototype},sync:function(e,i,n){return n=n||{},"update"===e&&(n.url=this.buildUrl({id:this.get("_id"),siteUrl:"rest/user"})),t.prototype.sync.call(this,e,i,n)}})}])},{}],1126:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("NotificationModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",getEventGroup:function(){return this.id.split("_")[1]},toJSON:function(){var e=t.prototype.toJSON.apply(this,arguments);return delete e._id,e}})}])},{}],1127:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("NeighboringAccessPointModel",["CORSModel","siteUrlMixin","deepCopyMixin","getNestedMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",isGrouped:function(){var t=this.get("aps");return t&&t.length>1}})}])},{}],1128:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("PastConnectionModel",["CORSModel","siteUrlMixin","deepCopyMixin","getNestedMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",getDisplayName:function(){return this.get("name")||this.get("hostname")||this.get("mac")}})}])},{}],1129:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("PastGuestAuthorizationModel",["CORSModel","siteUrlMixin","deepCopyMixin","getNestedMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",getDisplayName:function(){return this.get("hostname")||this.get("mac")}})}])},{}],1130:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("PortForwardModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({modelType:"portForward",idAttribute:"_id",siteUrl:"rest/portforward"})}])},{}],1131:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("PortForwardStatsModel",["CORSModel","siteUrlMixin","deepCopyMixin","getNestedMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id"})}])},{}],1132:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("PortModel",["BaseModel","deepCopyMixin",function(t,e){return t.extend(e).extend({modelType:"portModel",idAttribute:"port_idx"})}])},{}],1133:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RadioAiPlanModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"cmd/devmgr/radio-ai-plan"})}])},{}],1134:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RadiusProfileModel",["CORSModel","siteUrlMixin","structureMixin","savePartialMixin","deepCopyMixin","webrtcMixin","RADIUS_DEFAULTS","RADIUS_VLAN_OPTIONS",function(t,e,i,n,o,r,a,s){return t.extend(e).extend(i).extend(n).extend(o).extend(r).extend({defaults:{acct_servers:[],auth_servers:[],interim_update_interval:a.INTERIM_UPDATE},idAttribute:"_id",siteUrl:"rest/radiusprofile",isDefault:function(){return"Default"===this.get("attr_hidden_id")},isEnabled:function(){return this.get("vlan_wlan_mode")===s.ENABLED}})}])},{}],1135:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RadiusUserModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"rest/account"})}])},{}],1136:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RemoteUserVpnModel",["CORSModel","webrtcMixin",function(t,e){return t.extend(e).extend({idAttribute:"_id"})}])},{}],1137:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ReporterMgrModel",["$q","CORSModel","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o){return e.extend(i).extend(n).extend(o).extend({siteUrl:"cmd/reporter",save:function(i,n){return e.prototype.save.call(this,i,n).then(function(e){return!0===(e.data&&e.data.data&&e.data.data[0]||{}).result?t.when():t.reject()})}})}])},{}],1138:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RogueKnownAccessPointModel",["CORSModel","siteUrlMixin","getNestedMixin","webrtcMixin",function(t,e,i,n){return t.extend(e).extend(i).extend(n).extend({siteUrl:"rest/rogueknown",idAttribute:"_id"})}])},{}],1139:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RoutingModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"rest/routing"})}])},{}],1140:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("RoutingStatsModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"stat/routing",parse:function(t){var e={};return t.nh&&t.nh[0]&&(e.prefix=t.pfx,e.interface=t.nh[0].intf,e.metric=t.nh[0].metric,e.type=t.nh[0].t,e.via=t.nh[0].via),e}})}])},{}],1141:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ScanMatrixModel",["CORSModel","siteUrlMixin","structureMixin","savePartialMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(e).extend(i).extend(n).extend(o).extend(r).extend({siteUrl:"stat/widget/scan-matrix"})}])},{}],1142:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("ScheduleTaskModel",["AssociatedModel","Backbone","BaseCollection","CORSAssociatedModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o,r,a,s){return n.extend(o).extend(r).extend(a).extend(s).extend({idAttribute:"_id",siteUrl:"rest/scheduletask",relations:[{type:e.Many,key:"upgrade_targets",collectionType:i,relatedModel:t.extend({idAttribute:"mac"})}]})}])},{}],1143:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("SettingsGuestAccessModel",["HOTSPOT_PAYMENT_FIELDS_DEFAULTS","HOTSPOT_PORTAL_CUSTOMIZED_DEFAULTS","HOTSPOT_PORTAL_CUSTOMIZED_LANGUAGES_DEFAULTS","SettingsModel",function(t,e,i,n){return n.extend({defaults:angular.extend({portal_customized_title:"Hotspot portal",voucher_enabled:!0},t,e,i),resetPortalCustomization:function(){this.set(e)}})}])},{}],1144:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("SiteAdminModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"cmd/sitemgr",defaults:{role:"readonly"},sync:function(){throw new Error("All sync methods use the SiteMgr model via the admins service")}})}])},{}],1145:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("StatisticsMgrModel",["CORSModel","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n){return t.extend(e).extend(i).extend(n).extend({siteUrl:"cmd/stat"})}])},{}],1146:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("StreamDeviceModel",["CORSModel",function(t){return t.extend({idAttribute:"mac"})}])},{}],1147:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("StreamMgrModel",["CORSModel","siteUrlMixin","webrtcMixin",function(t,e,i){return t.extend(e).extend(i).extend({siteUrl:"cmd/streammgr"})}])},{}],1148:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("StreamModel",["CORSModel","siteUrlMixin","deepCopyMixin","getNestedMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"streamId",modelType:"stream",getDisplayName:function(){return this.id}})}])},{}],1149:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("SwitchModuleStatsModel",["AssociatedModel","Backbone","BaseCollection","CORSAssociatedModel","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o,r,a){return n.extend(o).extend(r).extend(a).extend({idAttribute:"mac",siteUrl:"stat/widget/switch-stats",relations:[{type:e.Many,key:"ports",collectionType:i,relatedModel:t}]})}])},{}],1150:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("SwitchPortModel",["CORSModel","savePartialMixin","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(e).extend(i).extend(n).extend(o).extend(r).extend({idAttribute:"_id",siteUrl:"rest/portconf"})}])},{}],1151:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("SwitchStatsPortModel",["SwitchPortModel",function(t){return t.extend({idAttribute:void 0})}])},{}],1152:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("UnreadAlertsModel",["CORSModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({siteUrl:"cnt/alarm?archived=false",defaults:{count:0},incrementCount:function(){this.set("count",this.get("count")+1)},decrementCount:function(){this.set("count",this.get("count")-1)},clearCount:function(){this.set("count",0)}})}])},{}],1153:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("UserGroupModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"rest/usergroup",defaults:{qos_rate_max_down:-1,qos_rate_max_up:-1},parse:function(t){return(t=i.parse.call(this,t))&&(t.qos_rate_max_down&&angular.isString(t.qos_rate_max_down)&&(t.qos_rate_max_down=parseInt(t.qos_rate_max_down,10)),t.qos_rate_max_up&&angular.isString(t.qos_rate_max_up)&&(t.qos_rate_max_up=parseInt(t.qos_rate_max_up,10))),t}})}])},{}],1154:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("VerifyMgrModel",["CORSModel","structureMixin","deepCopyMixin","UnifiAPIBasePath",function(t,e,i,n){return t.extend(e).extend(i).extend({url:n+"/verify"})}])},{}],1155:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("VirtualDeviceModel",["AssociatedModel","Backbone","BaseCollection","CORSAssociatedModel","getNestedMixin","siteUrlMixin","structureMixin","savePartialMixin","webrtcMixin","DEVICE_STATE_IDS","DEVICE_TYPES",function(t,e,i,n,o,r,a,s,l,c,u){return n.extend(r).extend(a).extend(s).extend(o).extend(l).extend({idAttribute:"_id",siteUrl:"rest/virtualdevice",relations:[{type:e.Many,key:"radio_table_stats",collectionType:i,relatedModel:t.extend({idAttribute:"radio"})}],getCoords:function(){return[this.get("x"),this.get("y")]},getDisplayName:function(){return this.get("name")},isAp:function(){return this.get("type")===u.AP},isElite:function(){return!1},isLocallyDiscovered:function(){return!1},isVirtual:function(){return!0}})}])},{}],1156:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("WallModel",["CORSModel","siteUrlMixin","structureMixin","savePartialMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"rest/wall"})}])},{}],1157:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("WlanHistogramModel",["CORSModel","resolveMixin","siteUrlMixin","structureMixin","savePartialMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(e).extend(i).extend(n).extend(o).extend(r).extend(a).extend({siteUrl:"stat/widget/wlan-histogram"})}])},{}],1158:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("WlanModuleStatsModel",["CORSModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(i).extend(n).extend(e).extend(o).extend({siteUrl:"stat/widget/wlan-stats"})}])},{}],1159:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("neighboringAccessPoints",["$q","BaseCollectionRepository","NeighboringAccessPointCollection","rogueKnownAccessPoints",function(t,e,i,n){function o(e){var i=n.repository.collection;return e.each(function(t){t.set("is_known",!!i.find(function(e){return e.get("bssid")===t.get("bssid")&&e.get("essid")===t.get("essid")}))}),t.when(e)}this.repository=new e(new i),this.repository.collection.setLimit(1e4),this.fetched=!1,this.repository.fetch=function(){var i=this;this.fetched=!1;var n=!!this.collection.fetched||!!this.collection.isLoading;return e.prototype.fetch.apply(this,arguments).then(o).then(function(e){return function(e,i){if(i)return t.when(this.collection);var n=e.models.reduce(function(t,e){var i,n=e.get("ap_mac"),o=e.get("bssid"),r=e.get("last_seen"),a=e.get("rssi"),s=e.get("rssi_age");t[o]?(r>(i=t[o]).get("last_seen")&&i.set("last_seen",r),(a>i.get("rssi")||a===i.get("rssi")&&s<i.get("rssi_age"))&&i.set({rssi:a,rssi_age:s,ap_mac:n})):((i=e.deepCopy()).set("aps",[]),t[o]=i);var l={ap_mac:n,rssi:a,rssi_age:s,last_seen:r};return i.get("aps").push(l),t},{}),o=Object.keys(n).map(function(t){return n[t]});return this.collection.reset(o),t.when(this.collection)}.call(i,e,n)}).then(function(){i.fetched=!0})},this.updateWithin=function(t){this.repository.collection.updateWithin(t)},this.getWithin=function(){return this.repository.collection.getWithin()}}])},{}],1160:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("networkUtils",["$q","$translate","ipUtils","ipv6Utils","SiteMgrModel","networks","sites","apiResults",function(t,e,i,n,o,r,a,s){this.nativeNetworkTypes=["corporate","guest","voip","vlan-only"],this.saveNetwork=function(i,n){return("site-vpn"===n.purpose&&"auto"===(n.vpn_type||"auto")?(new o).save({name:n.name,site:n.remote_site_id,cmd:"add-site-vpn"}):i.savePartial(n,{wait:!0})).then(function(){return r.repository.refresh().then(function(){return t.when(e.instant("SETTINGS_NETWORK_SAVE_SUCCESS",{networkName:n.name}))}).catch(function(){return t.when(e.instant("SETTINGS_NETWORK_SAVE_SUCCESS_FETCH_ERROR",{networkName:n.name}))})}).catch(function(i){return t.reject(s.appendErrorMsg(e.instant("SETTINGS_NETWORK_SAVE_ERROR",{networkName:n.name}),i))})},this.removeNetwork=function(i){return("site-vpn"===i.get("purpose")&&"auto"===(i.get("vpn_type")||"auto")?(new o).save({site:i.get("remote_site_id"),cmd:"delete-site-vpn"}):i.destroy({wait:!0})).then(function(){return r.repository.refresh().then(function(){return t.when(e.instant("SETTINGS_NETWORK_DELETE_SUCCESS",{networkName:i.get("name")}))}).catch(function(){return t.when(e.instant("SETTINGS_NETWORK_DELETE_SUCCESS_FETCH_ERROR",{networkName:i.get("name")}))})}).catch(function(n){return t.reject(s.appendErrorMsg(e.instant("SETTINGS_NETWORK_DELETE_ERROR",{networkName:i.get("name")}),n))})},this.isRemoteSiteVpn=function(t){return"site-vpn"===t.get("purpose")&&"auto"===(t.get("vpn_type")||"auto")},this.getRemoteSite=function(t){if(this.isRemoteSiteVpn(t)){var e=a.repository.collection.get(t.get("remote_site_id"));if(e&&"admin"===e.get("role"))return e}},this.getNetworksAvailableForClient=function(){var t=["corporate","guest","voip"];return r.repository.collection.filter(function(e){return-1!==t.indexOf(e.get("purpose"))})},this.isIpAddressFromLocalNetwork=function(t){var e=i.isIPv4Address(t)?"ip_subnet":"ipv6_subnet",o="ip_subnet"===e?i:n;return r.repository.collection.some(function(i){return i.has(e)&&o.subnetHasIp(i.get(e),t)})}}])},{}],1161:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("networks",["BaseCollectionRepository","NetworkCollection",function(t,e){this.repository=new t(new e),this.DISABLED_NETWORK_GROUP={id:0,label:"DEVICE_PROPERTIES_GATEWAY_VALUE_DISABLED"},this.getNetworkGroups=function(){var t=this.repository.collection.models.reduce(function(t,e){var i=e.get("purpose");if(-1!==["corporate","guest","wan"].indexOf(i)){var n=e.get("networkgroup")||e.get("wan_networkgroup");t[n]={id:n,label:n}}return t},{});return Object.keys(t).map(function(e){return t[e]})},this.getWanNetworkGroups=function(){var t=this.repository.collection.reduce(function(t,e){var i=e.get("wan_networkgroup")||"";return i.toUpperCase().startsWith("WAN")&&(t[i]=!0),t},{});return Object.keys(t)},this.getNetworksFromPurpose=function(t,e){return this.repository.collection.filter(function(i){return i.get("purpose")===t&&(!e||i.get("site_id")===e)})}}])},{}],1162:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("notifications",["BaseCollectionRepository","NotificationCollection",function(t,e){var i=e.extend({_isDefaultEvents:!0});this.repositories={defaultEvents:new t(new i),effectiveEvents:new t(new e)},this.getEventsByGroup=function(t,e){return this.repositories[e?"defaultEvents":"effectiveEvents"].collection.filter(angular.isArray(t)?function(e){return-1!==t.indexOf(e.getEventGroup())}:function(e){return e.getEventGroup()===t})},this.getEventGroups=function(t){return this.repositories[t?"defaultEvents":"effectiveEvents"].collection.reduce(function(t,e){var i=e.getEventGroup();return-1===t.indexOf(i)&&t.push(i),t},[])},this.isEventDefault=function(t){var e=angular.isObject(t)?t:this.repositories.effectiveEvents.collection.get(t),i=e&&this.repositories.defaultEvents.collection.get(e.id);return!!(e&&i&&angular.equals(e.attributes,i.attributes))},this.isEventDisabled=function(t){return!(!t||t.get("event_enabled")||t.get("alert_enabled")||t.get("email_enabled"))}}])},{}],1163:[function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};angular.module("app-unifi-manage").service("objectUtils",["_",function(t){this.deepInherit=function(t){var e=Object.create(t);for(var i in t)t.hasOwnProperty(i)&&"object"===n(t[i])&&(e[i]=this.deepInherit(t[i]));return e},this.append=function(t,e,i){return angular.isObject(e)&&Object.keys(e).forEach(function(n){void 0===t[n]||i&&-1!==i.indexOf(n)?t[n]=e[n]:angular.isNumber(t[n])?t[n]=(t[n]||0)+e[n]:angular.isArray(t[n])?t[n]=t[n].concat(e[n]):angular.isObject(t[n])&&this.append(t[n],e[n])},this),t},this.appendAll=function(t,e){var i=function(t,i){return t?this.append(t,i,e):t=angular.copy(i),t}.bind(this);return t.reduce(i,void 0)},this.reduceDuplicates=function(e,i,n){return t.values(t.groupBy(e,i)).map(function(t){return this.appendAll(t,n)},this)}}])},{}],1164:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("onOpenWarnings",["$q","$translate","account","controllerWarnings","frame","heyToasts","localStorageFailSafe","settings","siteUtils","StorageObjectValue","system","updateController",function(t,e,i,n,o,r,a,s,l,c,u,d){var p=this;this.resolve=function(){return p.checkPaymentGateway(),p.checkFirmwareUpdateAvailable(),p.checkControllerUpdateAvailable(),p.checkTermsAcceptance(),t.when()},this.checkPaymentGateway=function(){var t=s.getSettingFromKey("guest_access",l.getActiveSite().id);i.isSuperAdmin()&&t&&t.get("portal_enabled")&&t.get("payment_enabled")&&!t.get("gateway")&&r.pushWarning(e.instant("ON_LOAD_WARNING_MISSING_PAYMENT_GATEWAY"))},this.checkFirmwareUpdateAvailable=function(){if(n.hasUpgradableDevices()){var t=new c(a,"FIRMWARE_LAST_CHANGE");t.hydrate();var i=n.getFirmwareLastChanged(),o=t.getValue(),s=e.instant("ON_LOAD_WARNING_DEVICES_UPGRADE_AVAILABLE");if(void 0===o||o<i)!!r.currentlyDisplayedToasts.find(function(t){return t.message===s})||r.pushPrimary(s,0).then(function(){t.setValue(i)})}},this.checkControllerUpdateAvailable=function(){u.isUnifiGo()||d.checkControllerUpdate()},this.checkTermsAcceptance=function(){i.isSuperAdmin()&&n.shouldShowReportsTos()&&o.show("reportTermsOfService",{showReportsApprovement:function(){return n.shouldShowReportsApprovement()},termsVersion:function(){return n.getTermsVersion()}})}}])},{}],1165:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("ouiIcons",["OUI",function(t){this.getIconForOuiName=function(e){switch(e){case t.UBIQUITI:return"ubnt-icon--u";case t.APPLE:return"ubnt-icon--apple";default:return"ubnt-icon--chipset"}}}])},{}],1166:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("partialDevices",["BaseCollectionRepository","DeviceCollection",function(t,e){this.repository=new t(new e);var i=this.repository.fetch;this.resolve=function(){return i.call(this.repository,arguments)}}])},{}],1167:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("pastConnections",["BaseCollectionRepository","PastConnectionCollection","knownClientsCache",function(t,e,i){this.repository=new t(new e),this.updateDateInterval=function(t,e){t=parseInt(t),e=parseInt(e);var i=t!==this.getStart()||e!==this.getEnd();this.repository.collection.updateDateInterval(t,e),i&&this.repository.invalidate()},this.getStart=function(){return this.repository.collection.getStart()},this.getEnd=function(){return this.repository.collection.getEnd()},i.repository.collection.on("save",function(){this.repository.collection.trigger("change")}.bind(this))}])},{}],1168:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("pastGuestAuthorizations",["BaseCollectionRepository","PastGuestAuthorizationCollection",function(t,e){this.repository=new t(new e),this.updateDateInterval=function(t,e){t=parseInt(t),e=parseInt(e),(t!==this.getStart()||e!==this.getEnd())&&(this.repository.collection.updateDateInterval(t,e),this.repository.invalidate())},this.getStart=function(){return this.repository.collection.getStart()},this.getEnd=function(){return this.repository.collection.getEnd()}}])},{}],1169:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("portForwardStats",["BaseCollectionRepository","portForwards","PortForwardStatsCollection",function(t,e,i){this.repository=new t(new i),this.repository.fetch=function(i){return t.prototype.fetch.call(this.repository,i).then(function(){var t=this.repository.collection.filter(function(t){return e.repository.collection.get(t.id)||t.get("is_upnp")});this.repository.collection.reset(t)}.bind(this)).then(function(){this.repository.collection.add(e.repository.collection.deepAttributes(),{merge:!0})}.bind(this))}.bind(this),e.repository.collection.on("add change",function(){this.repository.isRegistered()&&this.repository.collection.add(e.repository.collection.deepAttributes(),{merge:!0})}.bind(this)),e.repository.collection.on("remove",function(t){this.repository.isRegistered()&&this.repository.collection.remove(t.id)}.bind(this))}])},{}],1170:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("portForwards",["BaseCollectionRepository","PortForwardCollection",function(t,e){this.repository=new t(new e)}])},{}],1171:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("postMessage",["$window",function(t){var e=[];this.registerListener=function(t){e.push(t)},this.getListeners=function(){return e},this.unregisterListener=function(t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)},this.send=function(t,e){t.postMessage(e,"*")},t.onmessage=function(t){e.forEach(function(e){e.call(e,t.data)})}}])},{}],1172:[function(t,e,i){"use strict";angular.module("app-unifi-manage").factory("progress",["$timeout","$translate",function(t,e){var i=function(){return 500*Math.random()},n=function(){this.visible=!1,this.value=0,this.message=""};n.prototype.start=function(n,o){this.value=0,this.message=o&&e.instant(o),this.visible=!0,this.steps=n,n&&(this.currentStep=0,this.timeoutPromise=t(this.nextTick.bind(this),i()))},n.prototype.nextTick=function(){var e=100/this.steps,n=Math.floor(this.value/e)*e+e;this.value+=.2*(n-this.value)*Math.random(),this.timeoutPromise=t(this.nextTick.bind(this),i())},n.prototype.nextStep=function(t){this.message=e.instant(t),this.currentStep++,this.value=Math.min(Math.ceil(100/this.steps*this.currentStep),100)},n.prototype.pause=function(){t.cancel(this.timeoutPromise)},n.prototype.resume=function(){this.timeoutPromise=t(this.nextTick.bind(this),i())},n.prototype.setStatus=function(t,i){this.value=t,this.message=e.instant(i)},n.prototype.completed=function(){this.visible=!1};var o={};return{invalidateProgress:function(t){o[t].progress.completed(),1===o[t].count?delete o[t]:o[t].count--},getProgress:function(t){return o[t]&&o[t].progress},getOrCreateProgress:function(t){return o[t]?o[t].count++:o[t]={progress:new n,count:1},o[t].progress}}}])},{}],1173:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseDockablePanels");angular.module("app-unifi-manage").service("propertyPanel",["$timeout","$q","$rootScope","$window","dynamicModules","featureFlag","preferences","queryString","knownClientsCache","devices","networks","streams","batchEdit","BaseCollection","ItemState","APP_EVENTS",function(t,e,i,o,r,a,s,l,c,u,d,p,f,h,_,m){var g=function(){this.queryStringKey="pp",this.dockOpenEvent=m.PROPERTY_PANEL_OPEN,this.dockCloseEvent=m.PROPERTY_PANEL_CLOSE,this.itemResizeEvent=m.PROPERTY_PANEL_ITEM_RESIZED,this.openTransitionRate=300,this.closeTransitionRate=300,this.addEventHandlers(),n.call(this,t,e,i,o,a,s,l,h,_)};return(g.prototype=Object.create(n.prototype)).constructor=g,g.prototype.addEventHandlers=function(){c.repository.collection.on("remove",this.removeItem,this),u.repository.collection.on("remove",this.removeItem,this),p.repository.collection.on("remove",this.removeItem,this),c.repository.collection.on("reset",this.removeKnownClients,this),u.repository.collection.on("reset",this.removeDevices,this),p.repository.collection.on("reset",this.removeStreams,this)},g.prototype.removeEventHandlers=function(){c.repository.collection.off("remove",this.removeItem,this),u.repository.collection.off("remove",this.removeItem,this),p.repository.collection.off("remove",this.removeItem,this),c.repository.collection.off("reset",this.removeKnownClients,this),u.repository.collection.off("reset",this.removeDevices,this),p.repository.collection.off("reset",this.removeStreams,this)},g.prototype.removeKnownClients=function(){return this.removeItemsByType(["knownclient"])},g.prototype.removeDevices=function(){return this.removeItemsByType(["device"])},g.prototype.removeStreams=function(){return this.removeItemsByType(["stream"])},g.prototype.getItemsWithPendingChanges=function(t){return this.getItemsByType(["device","batch:uap","batch:usw","knownclient","batch:sta"]).filter(function(e){return e.hasPendingChanges()&&(!t||!this.getItemState(e,"undocked"))}.bind(this))},g.prototype.getItemTypeById=function(t){var e=t.split("|");return e&&2===e.length?e[0]:void 0},g.prototype.getItemById=function(t){var i=t.split("|");if(i&&2===i.length)switch(i[0]){case"knownclient":return e.all([c.repository.fetchItem(i[1]),r.load("dpi")]).then(function(t){var i=t[0];return i?e.when(i):e.reject()});case"device":return u.repository.fetch().then(function(){var t=u.repository.collection.get(i[1]);return t?e.when(t):e.reject()});case"stream":return u.repository.fetch().then(function(){return p.repository.fetch()}).then(function(){return p.repository.collection.get(i[1])});case"batch:uap":case"batch:usw":case"batch:sta":return e.when(f.getBatch(i[1]))}return e.reject()},g.prototype.addItem=function(t,i,o,a){var s,l=this;switch(t.modelType){case"client":case"knownclient":s=e.all([e.when(c.cacheConnectedClient(t)),r.load("dpi")]);break;case"device":this.collection.get(t.id)||(u.repository.register(),s=u.repository.collection.getFullModel(t.get("mac")));break;case"batch:uap":case"batch:usw":d.repository.register().fetch()}(s||e.when(t)).then(function(t){n.prototype.addItem.call(l,angular.isArray(t)?t[0]:t,i,o,a)})},g.prototype.removeItem=function(t,e){t._hasPendingMixin&&t.hasPendingChanges()&&t.clearPendingChanges(),"device"===t.modelType&&this.collection.get(t.id)&&u.repository.unregister(),-1!==["batch:uap","batch:usw"].indexOf(t.modelType)&&this.collection.get(t.id)&&d.repository.unregister(),n.prototype.removeItem.call(this,t,e)},g.prototype.canAddItemToQueryString=function(t){return t&&!t.isBatch},new g}])},{}],1174:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("propertyPanelHelper",["APP_EVENTS",function(t){this.onPropertyPanelEvent=function(e,i){e.$on(t.PROPERTY_PANEL_OPEN,function(t,e){i(e)}),e.$on(t.PROPERTY_PANEL_CLOSE,function(t,e){i(e)})}}])},{}],1175:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("radius",["$q","$translate","apiResults","BaseCollectionRepository","RadiusProfileModel","RadiusProfileCollection",function(t,e,i,n,o,r){this.repository=new n(new r),this.save=function(n,r){var a=this.repository.collection;return n=n||new o,r=r||n.attributes,n.save(r).then(function(i){return n.set(n.parse(i.data)),a.add(n,{merge:!0}),t.when(e.instant("PROFILES_RADIUS_ACTIONS_SAVE_SUCCESS",{name:r.name}))}).catch(function(n){return t.reject(i.appendErrorMsg(e.instant("PROFILES_RADIUS_ACTIONS_SAVE_ERROR",{name:r.name}),n))})},this.remove=function(n){return n.destroy({wait:!0}).then(function(){return this.repository.collection.remove(n.id),t.when(e.instant("PROFILES_RADIUS_ACTIONS_DELETE_SUCCESS",{name:n.get("name")}))}.bind(this)).catch(function(o){return t.reject(i.appendErrorMsg(e.instant("PROFILES_RADIUS_ACTIONS_DELETE_ERROR",{name:n.get("name")}),o))})},this.isEnabledById=function(t){var e=this.repository.collection.get(t);return!!e&&e.isEnabled()}}])},{}],1176:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("radiusUsers",["$q","$translate","apiResults","BaseCollectionRepository","RadiusUserModel","RadiusUserCollection",function(t,e,i,n,o,r){this.repository=new n(new r),this.save=function(n,r){var a=this.repository.collection;return r=r||n.attributes,(n=n||new o).save(r).then(function(i){return n.set(n.parse(i.data)),a.add(n,{merge:!0}),t.when(e.instant("RADIUS_USER_ACTIONS_SAVE_SUCCESS",{name:r.name}))}).catch(function(n){return t.reject(i.appendErrorMsg(e.instant("RADIUS_USER_ACTIONS_SAVE_ERROR",{name:r.name}),n))})},this.removeUser=function(n){return n.destroy().then(function(){return this.repository.collection.remove(n.id),t.when(e.instant("RADIUS_USER_ACTIONS_REVOKE_SUCCESS",{name:n.get("name")}))}.bind(this)).catch(function(o){return t.reject(i.appendErrorMsg(e.instant("RADIUS_USER_ACTIONS_REVOKE_ERROR",{name:n.get("name")}),o))})}}])},{}],1177:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("radiusUtils",["radius","settings","site",function(t,e,i){this.getDefaultProfile=function(){return t.repository.collection.find(function(t){return t.isDefault()})},this.isRadiusServerEnabled=function(){var t=i.getActiveSite(),n=e.getSettingFromKey("radius",t.id);return!!n&&!!n.get("enabled")}}])},{}],1178:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("releaseNotes",["$q","FwUpdateModel","system",function(t,e,i){this._executeCmd=function(t,i){var n=new e({cmd:t});return i&&i.version?n.resolve({version:i.version}):n.resolve()},this.loadCurrent=function(){return this._executeCmd("get-release-notes",{version:i.getControllerVersion()}).then(function(e){return t.when(e.getChangelog())}).catch(function(e){return t.reject(e)})}}])},{}],1179:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("releaseNotesFrameUtils",["$rootScope","contextSwitchStates","frame","EVENTS",function(t,e,i,n){this.isOpen=function(){var t=i.getLayout("releaseNotesLayout");return t&&t.showing},this.open=function(e){e&&e.stopPropagation(),t.$broadcast(n.CLOSE_SIDE_NAV_POPOVERS),this.isOpen()||i.show("releaseNotes")},this.close=function(){this.isOpen()&&i.close("releaseNotes")},this.toggle=function(t){t&&t.stopPropagation(),this.isOpen()?this.close():this.open()},t.$on(n.CLOSE_SIDE_NAV_POPOVERS,function(){this.close()}.bind(this)),t.$on(e.getSuccess(),function(){this.close()}.bind(this))}])},{}],1180:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("remoteUserVpn",["BaseCollectionRepository","RemoteUserVpnCollection",function(t,e){this.repository=new t(new e),this.refresh=this.repository.refresh.bind(this.repository)}])},{}],1181:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("manageResolver",["$q","translateResolver","urlLocaleResolver","webrtcResolver",function(t,e,i,n){this.resolve=function(){return t.all([i.resolve(),e.resolve("modules"),n.resolve()])}}])},{}],1182:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("wsLogsRegisterMessageHandlers",["$q","logsWsMessageHandler",function(t,e){this.resolve=function(){return e.register(),t.when()}}])},{}],1183:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("wsRegisterMessageHandlers",["$q","deviceSdpOfferWsMessageHandler","deviceUpdateWsMessageHandler","eventsWsMessageHandler","syncWsMessageHandler","superSiteEventsWsMessageHandler",function(t,e,i,n,o,r){this.resolve=function(){return e.register(),i.register(),n.register(),o.register(),r.register(),t.when()}}])},{}],1184:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("wsResolver",["$q","bowser","preferences","UseWebrtc","wsConnector","WebSocketEnabled",function(t,e,i,n,o,r){this.resolve=function(){return!e.ios&&i.model.get("websocketEnabled")&&r?n?t.when():(o.waitForCurrentConnection()||o.connect(),t.when()):t.when()}}])},{}],1185:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("rfEnvironment",["$interval","$q","RF_ENVIRONMENT_SETTINGS","DeviceMgrModel","deviceFeatureUtils","deviceStateUtils","polls","SpectrumScanModel",function(t,e,i,n,o,r,a,s){this.getSpectrumScan=function(t){return new s({mac:t})},this.startSpectrumScan=function(t){return(new n).save({cmd:"spectrum-scan",mac:t.get("mac")}).then(function(){t.set("spectrum_scanning",!0)})},this._getPollName=function(t){return"rfEnvironment.refreshStatus."+t.get("mac").replace(/:/g,"")},this.stopRefreshingSpectrumScanResults=function(t){var e=this._getPollName(t);a.destroy(e)},this.refreshSpectrumScanResults=function(t,n){var o=e.defer(),r=this._getPollName(t);return t.resolve({forceFetch:!0}).then(function(){return a.createModelPoll(r,t,{delay:i.DEVICE_FETCH.INTERVAL_DELAY,count:i.DEVICE_FETCH.INTERVAL_COUNT,forceFetch:!0,onSuccess:function(){this.isScanning(t)||(n.set("spectrum_scanning",!1),o.resolve(),a.destroy(r))}.bind(this)}).then(function(t){return a.start(r).then(function(){n.set("spectrum_scanning",!1),o.reject(),t._isRunning=!0,a.destroy(r)})})}.bind(this)),o.promise},this.isAvailable=function(t){var e=o.isGen2(t),i=r.isDeviceConnected(t),n=o.isRfScanSupported(t);return i&&e&&("U7NHD"!==t.get("model")||n)},this.isScanning=function(t){return t.get("spectrum_scanning")},this.getLastScanningTime=function(t,e){var i=(t.get("scans")||[]).find(function(t){return t.radio===e});return 1e3*(i&&i.spectrum_table_time?i.spectrum_table_time:0)}}])},{}],1186:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("rfEnvironmentChart",["deviceChannelUtils","deviceRadioUtils","mathUtils",function(t,e,i){var n=["interference","interference_type","rssi_histogram","utilization"];this.getCurrentChannelDescription=function(e,i){return t.getCurrentChannelDescription(e,i)},this.getData=function(t,i,n){var o=[20,40,80];return e.isHt160SupportedByDevice(t)&&o.push(160),o.map(function(e){return{radioType:i,ht:e,channels:this.getChannels(t,i,e,n)}}.bind(this)).filter(function(t){return!!t.channels})},this.getChannels=function(e,i,o,r){var a=t.getChannelsDescriptions(e,i,o),s=t.getSpectrumScans(r,i);return a&&a.map(function(t){var e=this.getPrimaryChannel(t),r={radioType:i,ht:o},a=s.map(function(t){return this.getSpectrum(t.spectrum_table,e,o)}.bind(this)).filter(function(t){return!!t&&!angular.equals({},t)})[0]||{},l=n.reduce(function(t,e){return t[e]=a&&a[e],t},{});return angular.extend(r,t,l)}.bind(this))},this.getPrimaryChannel=function(t){var e=t.subChannels;return t.channel<=6?e[0]:e[e.length-1]},this.getSpectrum=function(t,e,i){return i=parseInt(i,10),t&&t.find(function(t){return t.channel===e&&parseInt(t.width,10)===i})||{}},this.getDomainIntervals=function(t){return t.reduce(function(t,e){return t.concat(e.channels)},[]).sort(function(t,e){return t.lowerFrequency-e.lowerFrequency||t.upperFrequency-e.upperFrequency}).reduce(function(t,e){var i=t[t.length-1];return i&&e.lowerFrequency<=i.upperFrequency?i.upperFrequency=Math.max(i.upperFrequency,e.upperFrequency):t.push({lowerFrequency:e.lowerFrequency,upperFrequency:e.upperFrequency}),t},[]).map(function(t,e,n){return 0===e&&(t.lowerFrequency=i.floor10(t.lowerFrequency,1)),e===n.length-1&&(t.upperFrequency=i.ceil10(t.upperFrequency,1)),t})},this.getDomainLength=function(t){return t.reduce(function(t,e){return t+(e.upperFrequency-e.lowerFrequency)},0)},this.getTicks=function(t,e){return t.reduce(function(t,i){for(var n=i.lowerFrequency;n<=i.upperFrequency;n+=e)t.push(n);return t},[])}}])},{}],1187:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("rogueKnownAccessPoints",["BaseCollectionRepository","RogueKnownAccessPointCollection",function(t,e){this.repository=new t(new e)}])},{}],1188:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("routing",["BaseCollectionRepository","RoutingCollection",function(t,e){this.repository=new t(new e)}])},{}],1189:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("routingStats",["BaseCollectionRepository","RoutingStatsCollection",function(t,e){this.repository=new t(new e)}])},{}],1190:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("scheduleConverter",["moment",function(t){var e=["mon","tue","wed","thu","fri","sat","sun"];function i(e){var i=e>=1440?1439:e;return t({hour:Math.floor(i/60),minute:Math.round(i/60%1*60)}).format("HHmm")}this.convertToHHMM=function(t){var e=[];return t.forEach(function(t){if(t.enabled){var n=i(t.values[0]),o=i(t.values[1]);e.push(t.name+"|"+n+"-"+o)}}),e},this.convertFromHHMM=function(t){var i=function(){var t=[];return e.forEach(function(e){t.push({name:e,values:[0,0],enabled:!1})}),t}();return t.forEach(function(t){var n=t.match(/([a-z]+)(-([a-z]+))?\|([\d]+)-([\d]+)/),o=n[1],r=n[3],a=parseInt(n[4].substr(0,2),10),s=parseInt(n[4].substr(2),10),l=parseInt(n[5].substr(0,2),10),c=parseInt(n[5].substr(2),10);e.slice(e.indexOf(o),e.indexOf(r||o)+1).forEach(function(t){var e=function(t,e){return t.find(function(t){return t.name===e})}(i,t);e.values=[60*a+s,60*l+c],e.enabled=!0})}),i}}])},{}],1191:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("scheduledUpgrades",["$q","$translate","apiResults","BaseCollectionRepository","ScheduleTaskModel","ScheduleTaskCollection",function(t,e,i,n,o,r){this.repository=new n(new r),this.repository.collection.setAction("upgrade"),this.save=function(n,r){var a=this.repository.collection;return r=r||n.attributes,n=n||new o,r.action="upgrade",n.save(r).then(function(i){return n.set(n.parse(i.data)),a.add(n,{merge:!0}),t.when(e.instant("SCHEDULED_UPGRADE_ACTIONS_SAVE_SUCCESS",{name:r.name}))}).catch(function(n){return t.reject(i.appendErrorMsg(e.instant("SCHEDULED_UPGRADE_ACTIONS_SAVE_ERROR",{name:r.name}),n))})},this.remove=function(n){return n.destroy().then(function(){return this.repository.collection.remove(n.id),t.when(e.instant("SCHEDULED_UPGRADE_ACTIONS_REMOVE_SUCCESS",{name:n.get("name")}))}.bind(this)).catch(function(o){return t.reject(i.appendErrorMsg(e.instant("SCHEDULED_UPGRADE_ACTIONS_REMOVE_ERROR",{name:n.get("name")}),o))})}}])},{}],1192:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("selectedDpiApplications",["dpiUtils","DPI_EVENTS","$rootScope",function(t,e,i){var n=[],o=[],r=function(){o=t.applicationsSortedByTraffic(this.categoryName).data.slice(0,5),n=this.getNames()}.bind(this),a=function(){o=t.applicationsSortedByTraffic(this.categoryName).data.filter(function(t){return-1!==n.indexOf(t.name)}),n=this.getNames()}.bind(this);this.get=function(){return o},this.getNames=function(){return o.map(function(t){return t.name})},this.clear=function(){n=[],o=[],i.$broadcast(e.APPLICATIONS_CHANGED)},this.isSelected=function(t){return-1!==this.getNames().indexOf(t)},this.toggleApplication=function(t){this.isSelected(t)?this.removeApplication(t):this.addApplication(t),i.$broadcast(e.APPLICATIONS_CHANGED)},this.removeApplication=function(t){var e=this.indexOf(t);o.splice(e,1),n.splice(e,1)},this.addApplication=function(t){n.push(t),a()},this.indexOf=function(t){return this.getNames().indexOf(t)},this.setCategory=function(t){this.categoryName!==t&&(this.categoryName=t,r())}}])},{}],1193:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("selectedDpiCategories",["localStorageFailSafe","StorageObjectValue","Backbone","dpi","dpiUtils","site","DPI_EVENTS","$rootScope",function(t,e,i,n,o,r,a,s){var l=new e(t,"SELECTED_DPI_CATEGORIES_PER_SITE");l.hydrate();var c,u=!1,d=[];this.getNames=function(){return d.map(function(t){return t.name})};var p=function(){if(c=this.getNames(),!u){var t=l.getValue()||{};t[r.getActiveSite()]=c,l.setValue(t)}s.$broadcast(a.CATEGORIES_CHANGED)}.bind(this),f=function(){d=o.categoriesSortedByTraffic().data.filter(function(t){return-1!==c.indexOf(t.name)})};this.restore=function(){if(!(c=this.read())){var i=new e(t,"SELECTED_DPI_CATEGORIES");i.hydrate(),c=i.getValue()}c?f():(d=o.categoriesSortedByTraffic().data.slice(0,5),p())},this.read=function(){var t=l.getValue();return t&&t[r.getActiveSite()]},this.restore(),s.$broadcast(a.CATEGORIES_CHANGED),this.setTemporary=function(t){u=t,t||this.restore()},this.get=function(){return d},this.getIds=function(){return d.reduce(function(t,e){return t.concat(o.getIdsForCategoryName(e.name))},[])},this.clear=function(){c=[],d=[],p()},this.isSelected=function(t){return-1!==this.getNames().indexOf(t)},this.toggleCategory=function(t){this.isSelected(t)?this.removeCategory(t):this.addCategory(t)},this.removeCategory=function(t){d.splice(this.indexOf(t),1),p()},this.addCategory=function(t){t&&(c.push(t),f(),p())},this.addCategories=function(t){t&&(c.push.apply(c,t),f(),p())},this.indexOf=function(t){return this.getNames().indexOf(t)},this.allCategoriesSelected=function(){return!n.getAllAppCategories().some(function(t){return!this.isSelected(t.name)},this)},this.selectAllCategories=function(){var t=n.getAllAppCategories().map(function(t){return t.name});c=t,f(),p()}}])},{}],1194:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("settings",["$q","$translate","BaseCollectionRepository","SettingsCollection","ConfigMgrModel","apiResults","CHAT_LEVELS","LIVE_UPDATES_LEVELS","STORE_LEVELS",function(t,e,i,n,o,r,a,s,l){this.repository=new i(new n);var c=function(){var e=this.getSettingFromKey("super_mgmt");return e&&void 0===e.get("live_chat")&&e.set("live_chat",a.SUPER_ONLY),t.when(this.repository.collection)}.bind(this),u=function(){var e=this.getSettingFromKey("super_mgmt");return e&&void 0===e.get("store_enabled")&&e.set("store_enabled",l.SUPER_ONLY),t.when(this.repository.collection)}.bind(this),d=function(){var t=this.getSettingFromKey("country");if(t){var e=t.get("code");angular.isNumber(e)&&t.set("code",e.toString())}}.bind(this),p=function(){var e=this.getSettingFromKey("super_mgmt");return e&&void 0===e.get("live_updates")&&e.set("live_updates",s.AUTO),t.when(this.repository.collection)}.bind(this);this.repository.fetch=function(t){return i.prototype.fetch.call(this,t).then(d).then(c).then(p).then(u)},this.getSettingFromKey=function(t,e){return this.repository.collection.find(function(i){return i.get("key")===t&&(!e||i.get("site_id")===e)})},this.getSettingValueFromKey=function(t,e,i){var n=this.getSettingFromKey(t,i);return n?n.get(e):void 0},this.buildSettingFromKey=function(t,e,i){var n=new this.repository.collection.model(angular.extend({key:t},e||{}));return i&&n.set("site_id",i),n},this.saveSettings=function(i,n,o){return i.save(n,{wait:!0}).then(function(n){return i instanceof this.repository.collection.baseModel&&n&&n.data&&n.data.data&&n.data.data[0]&&(i.set(n.data.data[0]),this.repository.collection.add(i,{merge:!0})),t.when(e.instant("COMMON_NOTICE_SAVE_SUCCESS",{section:o}))}.bind(this)).catch(function(i){return t.reject(r.appendErrorMsg(e.instant("COMMON_NOTICE_SAVE_ERROR",{section:o}),i))})},this.sendTestEmail=function(i,n){return(new o).save({cmd:"test_mail",email:n,host:i.get("host"),port:i.get("port"),use_auth:i.get("use_auth"),use_sender:i.get("use_sender"),use_ssl:i.get("use_ssl"),sender:i.get("sender"),username:i.get("username"),x_password:i.get("x_password")}).then(function(){return t.when(e.instant("SETTINGS_CONTROLLER_TEST_EMAIL_SUCCESS",{email:n}))}).catch(function(i){return t.reject(r.appendErrorMsg(e.instant("SETTINGS_CONTROLLER_TEST_EMAIL_ERROR",{email:n}),i))})}}])},{}],1195:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("settingsUtils",[function(){this.clearAttrs=function(t,e){return"super_mgmt"===t?Object.assign({},e,{report_approved:void 0,terms_version:void 0,approved_terms_version:void 0}):e}}])},{}],1196:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("siteAdminUtils",[function(){this.getRoleTranslationKey=function(t){return t.get("is_super")?"SETTINGS_ADMIN_VALUES_ROLE_SUPER_ADMIN":"admin"===t.get("role")?"SETTINGS_ADMIN_VALUES_ROLE_ADMIN":"SETTINGS_ADMIN_VALUES_ROLE_READ_ONLY"}}])},{}],1197:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("siteDpi",["BaseModelRepository","contextSwitchStates","devices","dpi","dpiFilters","SiteDpiModel","DPI_TYPES",function(t,e,i,n,o,r,a){this.repositories={total:new t(new r(a.TOTAL)),byApp:new t(new r(a.BY_APP,!0)),byCat:new t(new r(a.BY_CAT))},this.isDpiDataAvailable=function(t){return this.repositories[t].model&&this.repositories[t].model.get("last_updated")},this.getDpiByCategory=function(){return this.repositories.byCat.model.get(a.BY_CAT)},this.getDpiByApp=function(){return this.repositories.byApp.model.get(a.BY_APP)},this.getAppStatsForCategory=function(t){return this.getDpiByApp()?this.getDpiByApp().where({cat:t}):[]}}])},{}],1198:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("siteStatus",["BaseModelRepository","controllerWarnings","d3","devices","deviceStateUtils","featureFlag","HealthModel","DEVICE_STATES","STATUS","UTILIZATION_STATES",function(t,e,i,n,o,r,a,s,l,c){var u,d=this,p=l.UNKNOWN,f=l.UNKNOWN,h=l.UNKNOWN;this.repository=new t(new a),this.register=function(){this.repository.register().fetch(),this.repository.model.on("sync",this.updateGeneralStatus,this),this.repository.model.on("sync",this.updateGeneralSatisfaction,this),n.repository.register(),u=n.repository.collection.onUpdate(this.updateGeneralStatus.bind(this))},this.unregister=function(){this.repository.unregister(),this.repository.model.off("sync",this.updateGeneralStatus,this),this.repository.model.off("sync",this.updateGeneralSatisfaction,this),n.repository.unregister(),u.stopListening()},this.getDevicesStatus=function(){return this.devicesStatus},this.updateDevicesStatus=function(){void 0===n.repository.collection.fetched?this.devicesStatus=this.repository.model.get("devices_status"):this.devicesStatus=n.repository.collection.filter(function(t){return!o.isDeviceDisabled(t)}).reduce(function(t,e){var i=t[e.get("type")];if(!i)return t;e.isAdopted()&&i.adopted++;var n=o.getDeviceState(e),r=o.getRawDeviceState(e);return r===s.CONNECTED||r===s.PROVISIONING||r===s.UPGRADING?i.connected++:n===s.MANAGED_BY_OTHER?i.managedByOther++:n===s.PENDING?i.pending++:i.disconnected++,o.isDeviceDisabled(e)&&i.disabled++,t}.bind(this),["uap","ugw","usw"].reduce(function(t,e){return t[e]={connected:0,disconnected:0,adopted:0,managedByOther:0,pending:0},"uap"===e&&(t[e].disabled=0),t},{}))},this.getWanStatus=function(){return p},this.getWlanStatus=function(){return f},this.getGeneralStatus=function(){return h},this.getGeneralSatisfaction=function(){return this.satisfaction},this.updateGeneralSatisfaction=function(){this.satisfaction=this.repository.model.getNested("wifi_score.clients_with_good_score")},this.getSatisfactionStatus=function(){return d.satisfaction>95?l.EXCELLENT:d.satisfaction>80?l.GOOD:d.satisfaction>60?l.FAIR:d.satisfaction>40?l.POOR:l.BAD},this.updateGeneralStatus=function(){this.updateDevicesStatus();var t=this.getDevicesStatus(),e=[l.BAD,l.POOR,l.FAIR,l.GOOD,l.EXCELLENT];if(!t||t.uap.connected<1&&t.ugw.connected<1&&t.usw.connected<1)h={status:l.UNAVAILABLE,headline:"DASHBOARD_MODULE_STATUS_MEGA_HEADLINE_YOUR_SETUP_NEEDS_ATTENTION",subtitle:"DASHBOARD_MODULE_STATUS_MEGA_SUBTITLE_NO_CONNECTED_DEVICES"};else switch(h=t&&(t.uap.disconnected>0||t.ugw.disconnected>0||t.usw.disconnected>0)?{status:l.FAIR,subtitle:"DASHBOARD_MODULE_STATUS_MEGA_SUBTITLE_SOME_DEVICES_ARE_DISCONNECTED"}:t&&(t.uap.pending>0||t.ugw.pending>0||t.usw.pending>0)?{status:l.GOOD,subtitle:"DASHBOARD_MODULE_STATUS_MEGA_SUBTITLE_SOME_DEVICES_ARE_PENDING"}:t&&t.ugw.adopted<1?{status:l.GOOD,headline:"DASHBOARD_MODULE_STATUS_MEGA_HEADLINE_EVERYTHING_IS_GOOD",subtitle:"DASHBOARD_MODULE_STATUS_MEGA_SUBTITLE_CONNECT_USG_TO"}:{status:l.EXCELLENT},r.isEnabled("enableWiFiExperience")&&e.indexOf(this.getSatisfactionStatus())<2&&(h.subtitle="DASHBOARD_MODULE_STATUS_MEGA_SUBTITLE_LOW_SATISFACTION"),r.isEnabled("enableWiFiExperience")?h.status=e[Math.min(e.indexOf(this.getSatisfactionStatus()),e.indexOf(h.status))]:h.status=e[e.indexOf(h.status)],h.status){case l.BAD:case l.POOR:case l.FAIR:h.headline="DASHBOARD_MODULE_STATUS_MEGA_HEADLINE_YOUR_SETUP_NEEDS_ATTENTION";break;case l.GOOD:h.headline="DASHBOARD_MODULE_STATUS_MEGA_HEADLINE_EVERYTHING_IS_GOOD";break;case l.EXCELLENT:h.headline="DASHBOARD_MODULE_STATUS_MEGA_HEADLINE_EVERYTHING_IS_GREAT"}},this.updateWanStatus=function(t){if(this.repository.model.getNested("devices_status.ugw.adopted"))if(0!==t.length){var e=[l.EXCELLENT,l.GOOD,l.FAIR,l.POOR,l.BAD],n=i.scaleThreshold().range([""].concat(e)).domain(c.latencyThresholds),o=t.map(function(t){return n(t)}).reduce(function(t,e){return t[e]=void 0!==t[e]?t[e]+1:0,t},{}),r=.1*t.length,a=0;e.reverse().every(function(t){return!((a+=o[t]||0)>r)||(p=t,!1)})}else p=l.UNKNOWN;else p=l.UNAVAILABLE},this.updateWlanStatus=function(t){if(this.repository.model.getNested("devices_status.uap.adopted")){var e=c.retriesThresholds,i=[l.EXCELLENT,l.GOOD,l.FAIR,l.POOR,l.BAD];e.find(function(e,n){return e>=t&&(f=i[n],!0)})}else f=l.UNAVAILABLE},this.updateGeneralStatus()}])},{}],1199:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("speedTest",["$interval","$q","$rootScope","$timeout","contextSwitchStates","devices","gateways","gatewayUtils","wsAdapter","SPEED_TEST_SETTINGS","SPEED_TEST_STATUSES",function(t,e,i,n,o,r,a,s,l,c,u){var d=this;this._testDeferred=null,this._resetTestData=function(){this.downloadProgress=[],this.uploadProgress=[],this.downloadPushedElements=0,this.uploadPushedElements=0,this.result=null},this.isTestInProgress=function(){return!!this._testDeferred},this.getTestPromise=function(){return this.isTestInProgress()?this._testDeferred.promise:e.when(this.result)},this.resolve=function(){return d.isTestInProgress()?d.getTestPromise():d.result?e.when(d.result):d.fetch()},this.fetch=function(){return a.fetchSpeedTestResult().then(function(t){return d.result=t,t})},this.wsSpeedTestEventHandler=function(t){if("ok"===t.meta.rc){var e=t.data[0];d.result=e,d.parseProgressResult(e["download-progress"],d.downloadProgress),d.parseProgressResult(e["upload-progress"],d.uploadProgress),d.isTestCompleted(e)&&d.interruptTest(e)}},this.registerSpeedTestEventHandler=function(){l.on(c.EVENT_STRING,d.wsSpeedTestEventHandler)},this.unregisterSpeedTestEventHandler=function(){l.off(c.EVENT_STRING,d.wsSpeedTestEventHandler)},this.startTest=function(){return this.isTestInProgress()?this.getTestPromise():(this.testInterval=t(function(){var e={downloadTick:this.getNextDownloadTick(),uploadTick:this.getNextUploadTick()};i.$broadcast(c.EVENT_STRING,e),this.isTestInProgress()||e.downloadTick||e.uploadTick||t.cancel(this.testInterval)}.bind(this),c.REFRESHING_INTERVAL),this.registerSpeedTestEventHandler(),this._testDeferred=e.defer(),this._resetTestData(),this._executeTest())},this.parseProgressResult=function(t,e){if(t&&t.length)for(var i=0;i<t.length;++i)e.push.apply(e,t[i].records)},this._executeTest=function(){var t=this;return a.startSpeedTest().then(function(){t.testTimeout=n(function(){t.interruptTest()},c.TEST_TIMEOUT)}),this.getTestPromise()},this.interruptTest=function(t){this.isTestInProgress()&&(t?this._testDeferred.resolve(t):this._testDeferred.reject(),this.unregisterSpeedTestEventHandler()),this._testDeferred=null,this.testTimeout&&n.cancel(this.testTimeout)},this.isTestCompleted=function(t){return Boolean(t&&t.status_summary===u.IS_COMPLETED&&t.status_download===u.IS_COMPLETED&&t.status_upload===u.IS_COMPLETED&&t.xput_download&&t.xput_upload)};var p=function(t,e){return t=t||u.UNKNOWN,e=e||0,t===u.IS_COMPLETED&&0===e?u.IN_PROGRESS:t};this.getPingStatusResult=function(){return this.result&&this.result.status_ping||u.UNKNOWN},this.getDownloadStatusResult=function(){return p(this.result&&this.result.status_download,this.result&&this.result.xput_download)},this.getUploadStatusResult=function(){return p(this.result&&this.result.status_upload,this.result&&this.result.xput_upload)},this.getPingValueResult=function(){var t=this.result&&this.result.latency||0;return Number(t)},this.getDownloadValueResult=function(){return this.result&&this.result.xput_download||0},this.getUploadValueResult=function(){return this.result&&this.result.xput_upload||0};var f=function(t){return t&&{time:t[0]/1e3,value:t[1]/100}};this.getNextDownloadTick=function(){var t=f(this.downloadProgress.shift());if(t)return{index:this.downloadPushedElements++,time:t.time,value:t.value,valueDownload:t.value}},this.getNextUploadTick=function(){var t=f(this.uploadProgress.shift());if(t)return{index:this.uploadPushedElements++,time:t.time,value:t.value,valueUpload:t.value}},this.hasNextDownloadTick=function(){return this.downloadProgress.length},this.hasNextUploadTick=function(){return this.uploadProgress.length},this.getLastStatus=function(){var t=s.getSiteGateway();return t&&t.get("speedtest-status")},this.getResult=function(){var t=this.isTestInProgress()?{}:this.getLastStatus()||{};return{lastRun:t.rundate,value:t.latency||this.getPingValueResult(),status:t.status_ping||this.getPingStatusResult(),unit:"COMMON_LATENCY_UNIT"}},i.$on(o.getSuccess(),function(){this._testDeferred=null}.bind(this))}])},{}],1200:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("speedTestReports",["$q","$translate","BaseCollectionRepository","ReportCollection",function(t,e,i,n){this.repository=new i(new n("speedtest")),this.repository.collection.setAttrs(["xput_download","xput_upload","latency","time"]),this.setGranularity=function(t){this.granularity=t,this.repository.collection.setGranularity(t)},this.getGranularity=function(){return this.granularity},this.setDateInterval=function(t,e){this.start=t,this.end=e,this.repository.collection.setDateInterval(t,e)},this.getStart=function(){return this.start},this.getEnd=function(){return this.end}}])},{}],1201:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("statistics",["$q","$translate","apiResults","activityReports","StatisticsMgrModel",function(t,e,i,n,o){this.resetCurrentStats=function(){return(new o).save({cmd:"reset-current"}).then(function(){return t.all(n.getRepositories().map(function(t){return t.refresh()})).then(function(){return t.when(e.instant("STATISTICS_CLEAR_CURRENT_STATS_SUCCESS"))})}).catch(function(n){return t.reject(i.appendErrorMsg(e.instant("STATISTICS_CLEAR_CURRENT_STATS_ERROR"),n))})}}])},{}],1202:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("statisticsParams",[function(){this.setGranularity=function(t){this.granularity=t},this.getGranularity=function(){return this.granularity},this.setDateInterval=function(t,e){this.start=t,this.end=e},this.getStart=function(){return this.start},this.getEnd=function(){return this.end}}])},{}],1203:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("statsFeatures",["account","STATS_DEFAULTS",function(t,e){this.setUseBps=function(i){t.setUiSettings(e.PREFER_BPS_KEY,i)},this.useBps=function(){return!!t.getUiSettings(e.PREFER_BPS_KEY)}}])},{}],1204:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("statsUtils",["clients","devices","deviceRadioUtils","RADIO_STATES","settings","TRAFFIC",function(t,e,i,n,o,r){var a=function(t,e,o){var r=i.getRadiosByType(o,t).some(function(t){return i.getChannelStateDataByName(o,t.get("name")).state!==n.INIT});return(!t||r)&&angular.isNumber(e)&&!isNaN(e)};this.isClientTimeSeriesEnabled=function(){var t=o.getSettingFromKey("super_mgmt");return!!t&&t.get("time_series_per_client_stats_enabled")},this.getMostActiveApsValue=function(t,e,n,o){var a="bytes";return n&&n!==r.DIRECTION.TOTAL&&(a=n+"_"+a),e?i.getRadiosByType(t,e).reduce(function(e,i){return n&&n!==r.DIRECTION.TOTAL?e+(t.getNested("stat."+i.get("name")+"-"+a)||0):e+(t.getNested("stat."+i.get("name")+"-rx_"+a||0)+t.getNested("stat."+i.get("name")+"-tx_"+a)||0)},0):o&&void 0===t.get(a)?void 0:t.get(a)||0},this.getMostActiveAps=function(t,i,n){return e.repository.collection.getTopModels(t,function(t,e){return this.getMostActiveApsValue(e,i,n)-this.getMostActiveApsValue(t,i,n)}.bind(this),function(t){return t.isAp()&&a(i,this.getMostActiveApsValue(t,i,n,!0),t)}.bind(this))},this.getTopRetriesValue=function(t,e,n){var o=i.getRadiosByType(t,e);return o.length?Math.max.apply(Math,o.map(function(e){return n===r.DIRECTION.TOTAL?parseFloat(i.getRetryPercentage(t,e,"tx"))+parseFloat(i.getRetryPercentage(t,e,"rx")):parseFloat(i.getRetryPercentage(t,e,n))})):0},this.getTopRetries=function(t,i,n){return e.repository.collection.getTopModels(t,function(t,e){return this.getTopRetriesValue(e,i,n)-this.getTopRetriesValue(t,i,n)}.bind(this),function(t){return t.isAp()&&a(i,this.getTopRetriesValue(t,i,n),t)}.bind(this))},this.getTopChannelUtilValue=function(t,e,n){var o=i.getRadiosByType(t,e);return o.length?Math.max.apply(Math,o.map(function(e){var o=i.getRadioChannelUtilization(t,e);if(n===r.DIRECTION.TOTAL)return o&&o.total;var a="self"+n[0].toUpperCase()+"x";return o&&o[a]})):0},this.getTopChannelUtil=function(t,i,n){return e.repository.collection.getTopModels(t,function(t,e){return this.getTopChannelUtilValue(e,i,n)-this.getTopChannelUtilValue(t,i,n)}.bind(this),function(t){return t.isAp()&&a(i,this.getTopChannelUtilValue(t,i,n),t)}.bind(this))},this.getTopChannelInterferenceValue=function(t,e){var n=i.getRadiosByType(t,e);return n.length?Math.max.apply(Math,n.map(function(e){var n=i.getRadioChannelUtilization(t,e);return n&&n.interference})):0},this.getTopChannelInterference=function(t,i){return e.repository.collection.getTopModels(t,function(t,e){return this.getTopChannelInterferenceValue(e,i)-this.getTopChannelInterferenceValue(t,i)}.bind(this),function(t){return t.isAp()&&a(i,this.getTopChannelInterferenceValue(t,i),t)}.bind(this))},this.getTopClientCountValue=function(t,e){return e?i.getRadioStatsByType(t,e).reduce(function(t,e){return t+e.get("num_sta")},0):t.get("num_sta")},this.getTopClientCount=function(t,i){return e.repository.collection.getTopModels(t,function(t,e){return this.getTopClientCountValue(e,i)-this.getTopClientCountValue(t,i)}.bind(this),function(t){return t.isAp()&&a(i,this.getTopClientCountValue(t,i),t)}.bind(this))},this.getTopMemoryUsage=function(t){return e.repository.collection.getTopModels(t,function(t,e){return e.getNested("system-stats.mem")-t.getNested("system-stats.mem")},function(t){return t.isAp()&&!!t.getNested("system-stats.mem")})},this.getTopCpuUsage=function(t){return e.repository.collection.getTopModels(t,function(t,e){return e.getNested("system-stats.cpu")-t.getNested("system-stats.cpu")},function(t){return t.isAp()&&!!t.getNested("system-stats.cpu")})},this.getMostActiveSwitchesValue=function(t,e){if(e&&e!==r.DIRECTION.TOTAL){var i=e+"_bytes";return t.get(i)}return t.get("tx_bytes")+t.get("rx_bytes")},this.getMostActiveSwitches=function(t,i){return e.repository.collection.getTopModels(t,function(t,e){return this.getMostActiveSwitchesValue(e,i)-this.getMostActiveSwitchesValue(t,i)}.bind(this),function(t){return function(t,e){return e.isSwitch()&&!!t}(this.getMostActiveSwitchesValue(t,i),t)}.bind(this))},this.getMostActiveClientsValue=function(t,e,i,n){var o=0;return n&&n!==r.CONNECTION.WIRED||(i&&i!==r.DIRECTION.TOTAL&&i!==r.DIRECTION.TX||(o+=t.get("wired-tx_bytes")||0),i&&i!==r.DIRECTION.TOTAL&&i!==r.DIRECTION.RX||(o+=t.get("wired-rx_bytes")||0)),n&&n!==r.CONNECTION.WIRELESS||(i&&i!==r.DIRECTION.TOTAL&&i!==r.DIRECTION.TX||(o+=t.get("tx_bytes")||0),i&&i!==r.DIRECTION.TOTAL&&i!==r.DIRECTION.RX||(o+=t.get("rx_bytes")||0)),o},this.getMostActiveClients=function(e,i,n,o){return t.repository.collection.getTopModels(e,function(t,e){return this.getMostActiveClientsValue(e,i,n,o)-this.getMostActiveClientsValue(t,i,n,o)}.bind(this),function(t){if(o===r.CONNECTION.WIRED&&!t.get("is_wired"))return!1;if(o===r.CONNECTION.WIRELESS){if(t.get("is_wired"))return!1;if(i&&t.get("radio")!==i)return!1}return!!this.getMostActiveClientsValue(t,i,n,o)}.bind(this))},this.getTopUptimeClients=function(e,i){return t.repository.collection.getTopModels(e,function(t,e){return e.get("uptime")-t.get("uptime")},function(t){return!(t.get("is_wired")||i&&t.get("radio")!==i||!t.get("uptime"))})},this.bytesToBps=function(t,e){return t&&8*t/e}}])},{}],1205:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("streams",["$q","$translate","apiResults","BaseCollectionRepository","StreamCollection","StreamDeviceModel","StreamDeviceCollection","StreamMgrModel",function(t,e,i,n,o,r,a,s){this.streamDevicesCollection=new a,this.repository=new n(new o);var l=function(e){var i=[];return e.each(function(t){t.get("devices").forEach(function(e){var n,o,a=new r(e);a.set((n=t,o={},["streamId","ready","streaming"].forEach(function(t){o[t]=n.get(t)}),o)),i.push(a)})}),this.streamDevicesCollection.reset(i),t.when(this.repository.collection)}.bind(this);this.repository.fetch=function(t){return n.prototype.fetch.call(this,t).then(l)},this.terminateStream=function(n){return(new s).save({streamId:n.id,cmd:"stop-stream"}).then(function(){return this.repository.refresh(),t.when(e.instant("STREAMS_ACTIONS_TERMINATE_SUCCESS",{streamId:n.get("streamId")}))}.bind(this)).catch(function(o){return t.reject(i.appendErrorMsg(e.instant("STREAMS_ACTIONS_TERMINATE_ERROR",{streamId:n.get("streamId")}),o))})}}])},{}],1206:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("superSiteEventsWsMessageHandler",["backupExecutionWsMessageHandler","ClientModel","clients","devices","DeviceModel","eliteDevices","wsAdapter",function(t,e,i,n,o,r,a){var s=["ap","gw","sw","ph"],l=[{keys:["EVT_AP_DiscoveredPending","EVT_GW_DiscoveredPending","EVT_SW_DiscoveredPending"],execute:function(t){var e=c(t,s);n.fetchDevice(e)}},{keys:["EVT_AD_BackupCreated"],execute:function(e){var i=e.url;i&&t.backupCreated(i)}},{keys:["EVT_AD_BackupFailed"],execute:function(){t.backupFailed()}},{keys:["EVT_AP_EliteDeviceChanged","EVT_SW_EliteDeviceChanged","EVT_GW_EliteDeviceChanged","EVT_AP_EliteDeviceReplacementFound","EVT_SW_EliteDeviceReplacementFound","EVT_GW_EliteDeviceReplacementFound"],execute:function(t){var e=c(t,s);r.handleEliteLicenseChange(e,t.elite)}}];function c(t,e){return t[Object.keys(t).find(function(t){return e.indexOf(t)>=0})]}this.register=function(){a.on("events",function(t){t.data.forEach(function(t){var e=l.find(function(e){return-1!==e.keys.indexOf(t.key)});e&&e.execute(t)})},!0)}}])},{}],1207:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("switchModuleStats",["BaseCollectionRepository","SwitchModuleStatsCollection",function(t,e){this.repository=new t(new e);var i={totalPorts:0,usedPorts:0,portUtilization:0},n=angular.copy(i);this.getPortCounts=function(){return n};this.repository.collection.onUpdate(function(){n=angular.copy(i),this.repository.collection.each(function(t){n.totalPorts+=t.get("total_ports")||0,n.usedPorts+=t.get("used_ports")||0}),n.portUtilization=n.totalPorts&&Math.round(100*n.usedPorts/n.totalPorts)}.bind(this))}])},{}],1208:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseListColumnStore");function o(t,e,i){this.localStorageKey="columnStore:switchPropertiesPort",this.columnOptions=[{id:"port_idx",translationKey:"DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_PORT",isPermanent:!0},{id:"name",translationKey:"DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_NAME"},{id:"status",translationKey:"DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_STATUS"},{id:"tx_bytes",translationKey:"DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_TX"},{id:"rx_bytes",translationKey:"DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_RX"},{id:"poe_mode",translationKey:"DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_POE"},{id:"portconf_id",translationKey:"DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_PROFILE"},{id:"actions",translationKey:"DEVICE_PROPERTIES_SWITCH_PORTS_TABLE_HEADER_ACTIONS",isPermanent:!0}],this.columnPresets=[{id:"default",translationKey:"DEVICE_PROPERTIES_SWITCH_PORTS_COLUMNS_PRESET_DEFAULT"},{id:"all",translationKey:"DEVICE_PROPERTIES_SWITCH_PORTS_COLUMNS_PRESET_ALL"}],this.views={default:["name","status","poe_mode"]},n.call(this,t,e,i)}o.prototype=Object.create(n.prototype),o.constructor=o,o.prototype.setColumnGroup=function(t){this.columnGroup=t},o.prototype.getPredefinedColumns=function(){return this.columnGroup?this.views[this.columnGroup]:this.views.default},o.prototype.setColumns=function(){this.isCustomized?n.prototype.setColumns.call(this):this.columns=this.getPredefinedColumns()},o.prototype.setColumnPreset=function(t){var e="all"===t?this.getAllColumns():this.views[t];e&&e.length&&(this.clearSelectedColumns(),this.columns=e,this.setCustomized(!0),this.saveColumns())},o.$inject=["localStorageFailSafe","StorageObjectValue","StorageBooleanValue"],angular.module("app-unifi-manage").service("switchPropertiesPortListColumnStore",o)},{}],1209:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("switchReports",["$q","$translate","BaseCollectionRepository","ReportCollection","switchUtils","TRAFFIC",function(t,e,i,n,o,r){this.setGranularity=function(t){this.granularity=t,this.repository.collection.setGranularity(t)},this.getGranularity=function(){return this.granularity},this.setDateInterval=function(t,e){this.start=t,this.end=e,this.repository.collection.setDateInterval(t,e)},this.getTrafficUnit=function(){return this.trafficUnit},this.setTrafficUnit=function(t){this.trafficUnit=t,this.setSwitch(this.switchModel)},this.getTrafficType=function(){return this.trafficType},this.setTrafficType=function(t){this.trafficType=t,this.setSwitch(this.switchModel)},this.updateAttrs=function(){if(this.trafficUnit===r.UNIT.BYTES)this.attrs=["rx_bytes","tx_bytes"];else switch(this.trafficType){case r.TYPE.MULTICAST:this.attrs=["rx_multicast","tx_multicast"];break;case r.TYPE.BROADCAST:this.attrs=["rx_broadcast","tx_broadcast"];break;case r.TYPE.ALL:default:this.attrs=["rx_packets","tx_packets"]}},this.setSwitch=function(t){if(this.updateAttrs(),this.switchModel=t,t){var e=t.get("port_table").map(function(t){return t.get("port_idx")}).reduce(function(t,e){return t.concat(this.attrs.map(function(t){return"port_"+e+"-"+t}))}.bind(this),[]);e=["num_sta","time"].concat(e),this.repository.collection.setAttrs(e),this.repository.collection.setMac(t.id),this.repository.collection.setType(o.isHybridSwitch(t)?"ap":"sw")}else this.repository.collection.setMac(void 0)},this.getStart=function(){return this.start},this.getEnd=function(){return this.end},this.repository=new i(new n("sw")),this.setTrafficUnit(r.UNIT.BYTES),this.setTrafficType(r.TYPE.ALL)}])},{}],1210:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("switchStats",["$q","BaseCollectionRepository","SwitchStatsPortCollection","devices",function(t,e,i,n){this.repository=new e(new i),this.repository.fetch=function(e){return n.repository.fetch().then(function(i){var n=i.filter(function(t){return t.isSwitch()&&t.get("adopted")&&t.get("port_table")}).map(function(t){return t.get("port_table")}).reduce(function(t,e){return t.concat(e.toJSON())},[]);return this.collection.reset(n,e),t.when(this.collection)}.bind(this))},n.repository.collection.on("change:port_table[*]",function(){this.repository.isRegistered()&&this.repository.refresh()}.bind(this))}])},{}],1211:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("switchUtils",["$q","$translate","$filter","DeviceMgrModel","apiResults","devices","deviceFeatureUtils","switchModuleStats","switches","portFeatureUtils","DEVICE_MODELS",function(t,e,i,n,o,r,a,s,l,c,u){var d=this;function p(t){if(t){if(angular.isArray(t))return t;var e;if(/^[0-9]+$/.test(t)?e={start:1,end:parseInt(t,10)}:/^([0-9]+)-([0-9]+)$/.test(t)&&(e={start:parseInt(t.split("-")[0],10),end:parseInt(t.split("-")[1],10)}),e)return new Array(e.end-e.start+1).fill().map(function(t,i){return i+e.start})}return[]}function f(t,e){return t.get("up")?8*e*100/(1024*t.get("speed")*1024):0}this._executeDeviceCommand=function(t,e){var i=new n;return(e=e||{}).cmd=t,i.save(e)},this.powerCyclePort=function(i,n){var r={mac:i.get("mac"),port_idx:n.get("port_idx")};return this._executeDeviceCommand("power-cycle",r).then(function(){return i.fetch(),t.when(e.instant("DEVICE_ACTIONS_SWITCH_PORT_POWER_CYCLE_NOTICE",{port:n.get("port_idx"),deviceName:i.getDisplayName()}))}).catch(function(r){return t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_SWITCH_PORT_POWER_CYCLE_ERROR",{port:n.get("port_idx"),deviceName:i.getDisplayName()}),r))})},this.clearPortCounters=function(i,n){var r={mac:i.get("mac"),port_idx:n.get("port_idx")};return this._executeDeviceCommand("clear-switch-port-counters",r).then(function(){return i.fetch(),t.when(e.instant("DEVICE_ACTIONS_SWITCH_PORT_CLEAR_COUNTERS_NOTICE",{port:n.get("port_idx"),deviceName:i.getDisplayName()}))}).catch(function(r){return t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_SWITCH_PORT_CLEAR_COUNTERS_ERROR",{port:n.get("port_idx"),deviceName:i.getDisplayName()}),r))})},this.clearCounters=function(i){var n={mac:i.get("mac")};return this._executeDeviceCommand("clear-switch-counters",n).then(function(){return i.fetch(),t.when(e.instant("DEVICE_ACTIONS_SWITCH_CLEAR_COUNTERS_NOTICE",{deviceName:i.getDisplayName()}))}).catch(function(n){return t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_SWITCH_CLEAR_COUNTERS_ERROR",{deviceName:i.getDisplayName()}),n))})},this.clearAllCounters=function(){return this._executeDeviceCommand("clear-all-switch-counters").then(function(){return r.repository.refresh(),t.when(e.instant("DEVICE_ACTIONS_SWITCH_CLEAR_ALL_COUNTERS_NOTICE"))}).catch(function(i){return t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_SWITCH_CLEAR_ALL_COUNTERS_ERROR"),i))})},this.getAdoptedSwitches=function(){return r.repository.collection.filter(this.isAdoptedSwitch)},this.getPortDevice=function(t){return r.repository.collection.get(t.get("device"))},this.getPortIndex=function(t){var e;return t.get("masked")||(e=t.get("port_idx"),"aggregate"===t.get("op_mode")&&(e+="-"+(parseInt(e,10)+parseInt(t.get("aggregate_num_ports")-1,10)))),e},this.getPortOperationMode=function(t,i){var n=t.get("op_mode")||"switch";return"aggregate"===n||t.get("aggregated_by")?i?e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_AGGREGATING_PORT",{port:t.get("aggregated_by")}):e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_OPERATION_AGGREGATE"):"mirror"===n?i?e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_MIRRORING_PORT",{port:t.get("mirror_port_idx")}):e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_OPERATION_MIRROR"):"switch"===n?e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_OPERATION_SWITCH"):""},this.getPortStatus=function(t){var n="";return t.get("up")&&(n+=i("duplex")(t),t.get("is_uplink")&&(n+=" ("+e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_UPLINK")+")"),"discarding"===t.get("stp_state")&&(n+=" ("+e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_BLOCKED")+")")),n},this.getPortPoeMode=function(t){return t.get("port_poe")&&"switch"===t.get("op_mode")&&!t.get("masked")?t.get("poe_mode")||"off":""},this.getPortPoeModeText=function(t,i){switch(i?t.get("poe_mode"):this.getPortPoeMode(t)){case"auto":return i?e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_AUTO"):t.get("poe_enable")?e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_POWER",{power:t.get("poe_power")}):c.isPoePlusSupported(t)?e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_PLUS"):e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE");case"passthrough":return e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_PASSTHROUGH");case"pasv24":return e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_PASSIVE");case"off":return e.instant("DEVICE_PROPERTIES_SWITCH_PORT_VALUES_POE_OFF");default:return""}},this.getPortPoeDetection=function(t){switch(this.getPortPoeMode(t)){case"auto":return e.instant(t.get("poe_enable")?t.get("poe_good")?"DEVICE_PORT_POE_GOOD":"DEVICE_PORT_POE_CPD_TOO_HIGH":"DEVICE_PORT_POE_NOT_DETECTED");case"pasv24":return e.instant("DEVICE_PORT_POE_PASSIVE");default:return""}},this.getPortPoeVoltage=function(t){var e=this.getPortPoeMode(t);return this.isPowerDeviceDetected(t)||"pasv24"===e?t.get("poe_voltage"):""},this.getPortProfile=function(t){if(t.get("aggregated_by")||"mirror"===t.get("op_mode"))return this.getPortOperationMode(t,!0);if(t.get("portconf_id")){var e=l.repository.collection.get(t.get("portconf_id"));return e&&e.get("name")}},this.getPortDownlink=function(t,e){var i=t.get("downlink_table");if(i&&i.length){var n=i.get(e.get("port_idx"));return n&&r.repository.collection.get(n.get("mac"))}},this.getPortUplink=function(t,e){var i=t.get("uplink");return i&&i.port_idx===e.get("port_idx")?r.repository.collection.get(i.uplink_mac):void 0},this.getPortStpStatus=function(t){switch(t.get("up")?t.get("stp_state"):void 0){case"discarding":return e.instant("DEVICE_PORT_STP_STATE_DISCARDING");case"forwarding":return e.instant("DEVICE_PORT_STP_STATE_FORWARDING");case"disabled":return e.instant("DEVICE_PORT_STP_STATE_DISABLED");default:return""}},this.getPortAggregatedBy=function(t){if(t&&t.get("aggregated_by")&&t.get("device")){var e=r.repository.collection.get(t.get("device"));return e&&e.get("port_table").get(t.get("aggregated_by"))}},this.getTotalPower=function(t){var e=0;return t.get("port_table")&&t.get("port_table").each(function(t){e+=c.getCurrentPower(t)}),e},this.getTotalMaximumPower=function(t){return t.has("psu_table")&&t.get("psu_table").length?t.get("psu_table").reduce(function(t,e){return t+=e.get("watt")||0},0):((t?(u[t.get("model")]||{}).power:void 0)||{}).capacity},this.getTotalLinkUsage=function(t){return f(t,t.get("bytes-r"))},this.getRxLinkUsage=function(t){return f(t,t.get("rx_bytes-r"))},this.getTxLinkUsage=function(t){return f(t,t.get("tx_bytes-r"))},this.getPortNumbers=function(t){var e=(t?(u[t.get("model")]||{}).ports:void 0)||{};return{standard:p(e.standard),sfp:p(e.sfp),plus:p(e.plus)}},this.getPortLedColors=function(t){var e=d.getPortNumbers(t).plus.length>0;return(t?(u[t.get("model")]||{}).ledColors:void 0)||{amber:[10,100],green:[1e3],white:e?[1e4]:[]}},this.findPortLedColor=function(t,e){return Object.keys(t).find(function(i){return-1!==t[i].indexOf(e)})},this.getPortTypeByNumber=function(t,e){return t&&Object.keys(t).filter(function(i){return t[i]&&-1!==t[i].indexOf(e)})[0]},this.getPortPoeAvailability=function(t){var e={};return["isPoeOffSupported","isPoePassthroughSupported","isPoePassive24Supported","isPoeAutoSupported","isPoePlusSupported"].forEach(function(i){e[i]=c[i](t)}),e},this.getUnanimousPortPoeAvailability=function(t){var e={};return["isPoeOffSupported","isPoePassthroughSupported","isPoePassive24Supported","isPoeAutoSupported","isPoePlusSupported"].forEach(function(i){e[i]=t.reduce(function(t,e,n){return 0===n?c[i](e):c[i](e)===t?t:void 0},void 0)}),e},this.getDevicePoeAvailability=function(t){var e={};return["isPoeOffSupported","isPoePassthroughSupported","isPoePassive24Supported","isPoeAutoSupported","isPoePlusSupported"].forEach(function(i){e[i]=t.has("port_table")&&t.get("port_table").reduce(function(t,e,n){return 0===n?c[i](e):c[i](e)||t},void 0)}),e},this.isPowerDeviceDetected=function(t){return"auto"===t.get("poe_mode")&&!!t.get("poe_enable")},this.isAdoptedSwitch=function(t){return t.isSwitch()&&t.isAdopted()},this.isHybridSwitch=function(t){return"uap+usw"===a.getHybridCapability(t.get("model"),t.get("type"))};var h={capacity:0,draw:0},_=angular.copy(h);this.getPowerCounts=function(){return _};var m=function(){var t=this;_=angular.copy(h),s.repository.collection.each(function(e){var i=e.get("total_max_power"),n=e.get("current_power");if(i)_.capacity+=i,_.draw+=n;else{var o=r.repository.collection.get(e.get("mac"));o&&(_.capacity+=t.getTotalMaximumPower(o)||0,n||(n=t.getTotalPower(o)),_.draw+=n)}}),_.draw=Math.round(_.draw),_.percentage=_.draw/_.capacity*100};r.repository.collection.onUpdate(m.bind(this)),s.repository.collection.onUpdate(m.bind(this))}])},{}],1212:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("switches",["$q","$translate","BaseCollectionRepository","SwitchPortCollection","apiResults","networks",function(t,e,i,n,o,r){this.repository=new i(new n),r.repository.collection.on("add remove change",function(){this.repository.isRegistered()&&this.repository.refresh()}.bind(this)),this.savePortProfile=function(i,n,r){return i.savePartial(n,r).then(function(){return this.repository.collection.add(i,{merge:!0}),t.when(e.instant("SETTINGS_PROFILES_PORT_SAVE_SUCCESS",{name:i.get("name")}))}.bind(this)).catch(function(n){return t.reject(o.appendErrorMsg(e.instant("SETTINGS_PROFILES_PORT_SAVE_ERROR",{name:i.get("name")}),n))})},this.removePortProfile=function(i,n){return i.destroy(n).then(function(){return t.when(e.instant("SETTINGS_PROFILES_PORT_DELETE_SUCCESS",{name:i.get("name")}))}).catch(function(n){return t.reject(o.appendErrorMsg(e.instant("SETTINGS_PROFILES_PORT_DELETE_ERROR",{name:i.get("name")}),n))})}}])},{}],1213:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("syncWsMessageHandler",["dbnameToServiceMapper","wsAdapter",function(t,e){this.register=function(){t.getDbNames().forEach(function(i){e.on(i+":sync",function(e){var n=t.findServices(i);e.data&&e.data.forEach(function(t){n.forEach(function(e){var i=e.repository.collection.model.prototype.idAttribute,n=e.repository.collection.get(t[i]);n&&(n.set(t),e.repository.collection.add(n,{merge:!0}))})})}),e.on(i+":add",function(e){var n=t.findServices(i);e.data&&e.data.forEach(function(t){n.forEach(function(e){e.repository.collection.add(t,{merge:!0})})})}),e.on(i+":delete",function(e){var n=t.findServices(i);e.data&&e.data.forEach(function(t){n.forEach(function(e){var i=e.repository.collection.model.prototype.idAttribute;e.repository.collection.remove(t[i])})})})})}}])},{}],1214:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("systemConfig",["$q","settings","system","networks","devices","wirelessNetworkGroups","wirelessNetworks","deviceStateUtils","DEVICE_STATE_IDS",function(t,e,i,n,o,r,a,s,l){this.resolve=function(){var s=[e.repository.fetch(),i.repository.fetch(),n.repository.fetch(),r.repository.fetch(),a.repository.fetch(),o.repository.fetch()];return t.all(s)},this.getSystemConfigDevices=function(){return o.repository.collection.models.filter(function(t){return t.isAp()&&t.get("state")!==l.PENDING})},this.getSystemConfigModelsCount=function(){return t=this.getSystemConfigDevices().map(function(t){return s.getDeviceModelShort(t)}),e={},t.forEach(function(t){e[t]=e[t]?e[t]+1:1}),e;var t,e},this.getLoadBalance=function(t){var e=r.repository.collection.get(t)||r.repository.collection.getDefault();return!!e.get("loadbalance_enabled")&&e.get("maxsta")}}])},{}],1215:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("treeUtils",["arrayUtils",function(t){this.countNodes=function(e,i){if(e[i]&&e[i].length){var n=t.sumArrays.apply(this,e[i].map(function(t){return this.countNodes(t,i)}.bind(this)));return n.unshift(1),n}return[1]}}])},{}],1216:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("txRateStatus",["deviceRadioUtils",function(t){this.getValues=function(e,i){var n=t.getRadioStatsByName(e,i.get("name"));return n?[(parseInt(n.get("ast_txto"),10)||0)+(parseInt(n.get("ast_cst"),10)||0),parseInt(n.get("tx_retries"),10)||0,(parseInt(n.get("ast_be_xmit"),10)||0)+(parseInt(n.get("tx_packets"),10)||0)]:[]},this.getData=function(t,e){var i=this.getValues(t,e),n=[],o=100,r=i.reduce(function(t,e){return angular.isNumber(e)?t+e:t},0);return angular.forEach(i,function(t,e){var a=Math.ceil(100*t/r);a>o&&(a=o),n.push(e+1===i.length?o:a),o-=a}),{values:i,widths:n}}}])},{}],1217:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("updateController",["$q","$translate","$window","frame","FwUpdateModel","heyToasts","system","UnifiSoftwareDownloadUrl",function(t,e,i,n,o,r,a,s){this._executeCmd=function(t){return new o({cmd:t}).resolve()},this.checkControllerUpdate=function(){a.isCloudKey()?this.checkCloudKeyUpdate():this.checkSoftwareControllerUpdate()},this.checkCloudKeyUpdate=function(){var t=this;a.checkCloudKeyControllerUpdate().then(function(){a.isPackageUpdateAvailable()&&r.pushPrimary({text:e.instant("ON_LOAD_WARNING_CONTROLLER_UPDATE_AVAILABLE",{latestVersion:a.getPackageUpdateVersion()}),action:e.instant("COMMON_ACTIONS_UPDATE"),callback:function(){t.updateCloudKey()}},6e4)})},this.updateCloudKey=function(){return n.show("confirm",{title:function(){return e.instant("UPDATE_CLOUD_KEY_CONTROLLER_CONFIRM_TITLE")},message:function(){return e.instant("UPDATE_CLOUD_KEY_CONTROLLER_CONFIRM_MESSAGE")},options:function(){var t=a.countEolDevices(),i=e.instant("UNIFI_UPDATE_WARNING_EOL",{count:t},"messageformat");return{dangers:t&&a.hasControllerMinorVersionChanged()?[i]:[],warnings:[e.instant("UNIFI_UPDATE_WARNING")]}}}).then(function(){return a.updateCloudKeyController().then(function(t){return r.pushSuccess(t),!0}).catch(function(t){return r.pushError(t),!1})})},this.checkSoftwareControllerUpdate=function(){var t=this;this.hasUpgradableController().then(function(i){r.pushPrimary({text:e.instant("ON_LOAD_WARNING_CONTROLLER_UPDATE_AVAILABLE",{latestVersion:i.get("latest")}),action:e.instant("COMMON_ACTIONS_DOWNLOAD"),actionIcon:"ubnt-icon--download-2",callback:function(){t.redirectToDownloadLink(i)}},6e4)})},this.hasUpgradableController=function(){return this._executeCmd("latest-version").then(function(e){return e.get("has_upgradable_controller")?t.when(e):t.reject()}).catch(function(){return t.reject()})},this.redirectToDownloadLink=function(t){t.get("download_link")?i.location.href=t.get("download_link"):i.location.href=s}}])},{}],1218:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("userDpi",["BaseCollectionRepository","clients","DataConverter","dpi","UserDpiCollection",function(t,e,i,n,o){var r=[],a={};this.repositories={macFiltered:new t(new o("by_app"))},this.repositories.macFiltered.collection.setPayloadAttrs({macs:r}),this.buildRepository=function(e){return new t(new o(e))},this.watchUser=function(t){a[t]?a[t]++:(a[t]=1,r.push(t)),this.repositories.macFiltered.refresh()},this.unwatchUser=function(t){if(0==--a[t]){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}},this.getDpiForUser=function(t){var e=this.repositories.macFiltered.collection.get(t);return e&&e.get("by_app")||[]},this.categoriesSortedByTraffic=function(t){var e=(new i).deduplicatedBy("name").sortedBy("bytes",!0).countTotal().compactUnknown(function(t){return!t.name||"unknown"===t.name.toLowerCase()}).withUnknownDefaults({name:"Unknown"}),n=this.getDpiForUser(t).map(function(t){return{bytes:t.getTotalBytes(),name:t.getCategoryName()}});return e.apply(n)}}])},{}],1219:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("userGroups",["BaseCollectionRepository","UserGroupCollection",function(t,e){this.repository=new t(new e)}])},{}],1220:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("utilizationUtils",["UTILIZATION_STATES",function(t){this.getUtilizationLevel=function(e,i,n){var o=t[e]&&t[e][i];return n=+n,o&&Object.keys(o).find(function(t){return n>=o[t][0]&&n<=o[t][1]})}}])},{}],1221:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("virtualDevices",["BaseCollection","BaseCollectionRepository","deviceStateUtils","VirtualDeviceCollection","DEVICE_MODELS","DEVICE_STATE_IDS","RADIO_STATES","WIFI_CHANNELS",function(t,e,i,n,o,r,a,s){function l(e){var n=i.getDeviceModelName(e),l=[],c=[];if(!e.get("_populated")){if(e.isAp()){var u=o[e.get("model")];if(u&&u.radios){var d=parseInt(Object.keys(s.na[20])[0]),p=parseInt(Object.keys(s.ng[20])[0]),f=u.radios;c=Object.keys(f).map(function(t,e){return{radio:t,name:"wifi"+e}}),l=Object.keys(f).map(function(t,e){var i=f[t];return{radio:t,name:"wifi"+e,channel:"na"===t?d:p,gain:i.gain,state:a.RUN,tx_power:i.maxPower}})}}e.set({name:n,state:r.CONNECTED,radio_table_stats:new t(l),radio_table:new t(c),_populated:!0})}}this.repository=new e(new n),this.repository.collection.on("add",l),this.repository.collection.on("reset",function(t){t.each(l)})}])},{}],1222:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("walls",["$q","$translate","apiResults","BaseCollectionRepository","WallCollection",function(t,e,i,n,o){this.repository=new n(new o)}])},{}],1223:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("windowPanels",["$q","WindowPanelsGroup","WINDOW_PANEL_GROUPS",function(t,e,i){var n=Object.keys(i).reduce(function(t,n){return t[i[n]]=new e,t},{});this.getPanelsByGroupType=function(t){return n[t]},this.openWindow=function(e,i,n){var o=this.getPanelsByGroupType(e),r=o.itemState.getItemAndTypeId(i);return t(function(t,e){o.getItemById(r).then(function(){e()}).catch(function(){o.addItem(i,n),t()})})},this.closeWindow=function(t,e){this.getPanelsByGroupType(t).removeItem(e)}}])},{}],1224:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("wirelessNetworkUtils",["radius",function(t){this.isRadiusEnabled=function(e){return e.isRadiusConfigured()&&t.isEnabledById(e.get("radiusprofile_id"))}}])},{}],1225:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("wlanDpi",["$q","BaseCollectionRepository","WlanDpiCollection","featureFlag",function(t,e,i,n){this.repository=new e(new i),this.repository.fetch=function(i){return n.isEnabled("enableDpiSsidFiltering")?e.prototype.fetch.call(this,i):t.when(this.collection)}}])},{}],1226:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("wlanModuleStats",["BaseModelRepository","WlanModuleStatsModel",function(t,e){this.repository=new t(new e)}])},{}],1227:[function(t,e,i){"use strict";angular.module("app-unifi-manage").service("wsLogsConnector",["$q","$location","$rootScope","$translate","contextSwitchStates","EVENTS","heyToasts","site","unifiWebSocketPoll","UnifiWsHost","WS_DEFAULTS",function(t,e,i,n,o,r,a,s,l,c,u){var d=l.getWebSocket("logsWebSocket");d.retryScalar=u.UNIFI_WS_RETRY_SCALAR,d.customEventExtractor=function(t){return t.meta.message},this.connecting=!1,this.connect=function(){return this.init().then(this.establishConnection.bind(this)).then(this.finalize.bind(this))},this.init=function(){return this.connecting=t.defer(),t.when()},this.establishConnection=function(){this.currentSite=s.getActiveSite()||"default";var i=(c||"wss://"+e.host()+":"+e.port())+"/wss/logs";return d.open(i).catch(function(){return a.pushWarning(n.instant("WEBSOCKET_LOGS_CONNECTION_ERROR")),t.when()})},this.finalize=function(){this.connecting.resolve(!0)},this.waitForCurrentConnection=function(){return this.connecting?this.connecting.promise:void 0},this.isOpen=function(){return d.isOpen()},this.close=function(){this.connecting=!1,d.close()}.bind(this),i.$on(r.ADMIN_LOGOUT,function(){this.connecting=!1,d.close()}.bind(this))}])},{}],1228:[function(t,e,i){"use strict";var n=window.webrtc,o=n.unifiWebRtcConnector,r=n.webRtcConnectorCloud;angular.module("app-unifi-manage").service("wsLogsAdapter",["$q","$rootScope","$state","contextSwitchStates","unifiWebSocketPoll","UseWebrtc","wsLogsConnector","wsUtils","LOG_EVENTS",function(t,e,i,n,a,s,l,c,u){var d=this;this.skipClosing=!1;var p=a.getWebSocket("logsWebSocket");this.on=function(t,e){s?o.registerLogsHandler(t,e):p.on(t,e)},this.openConnection=function(){s?r.openChannel("logs").then(function(){r.on("logs",o.onLogsMessage)}):c.isWebSocketEnabled()&&!l.waitForCurrentConnection()&&l.connect()},this.closeConnection=function(){this.skipClosing?this.skipClosing=!1:s?r.closeChannel("logs"):l.close()}.bind(this),this.send=function(t){return s?o.send("/wss/logs",t).then(function(t){e.$broadcast(u.LOGS_FETCHED,t.data.data)}):p.send(t)},e.$on(n.getSuccess(),function(){d.skipClosing="manage.site.insights.logs"===i.current.name})}])},{}],1229:[function(t,e,i){"use strict";angular.module("app-unifi-manage").value("APP_EVENTS",{PROPERTY_PANEL_OPEN:"property-panel-open",PROPERTY_PANEL_CLOSE:"property-panel-close",PROPERTY_PANEL_ITEM_RESIZED:"property-panel-item-resized",SELECT_DROPDOWN_LIST_OPEN:"select-dropdown-list-open",SELECT_DROPDOWN_LIST_CLOSE:"select-dropdown-list-close",SELECT_DROPDOWN_LIST_CLEAR:"select-dropdown-list-clear",SPEED_TEST_START:"speed-test-start",SPEED_TEST_STOP:"speed-test-stop"})},{}],1230:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="unifiVerify" ng-switch="accountVerifyCtrl.verificationError"><div class="appInfoBox appInfoBox--cozy appInfoBox--dark appInfoBox--danger" ng-switch-when="true"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="ACCOUNT_NOTICE_VERIFY_ERROR_TITLE"></div><div class="appInfoBox__body"><p class="noMarginBottom"><span>{{\'ACCOUNT_NOTICE_VERIFY_ERROR_MESSAGE\' | translate}}&nbsp;</span><a ui-sref="manage.account.login">{{\'ACCOUNT_NOTICE_VERIFY_ERROR_MESSAGE_LOGIN\' | translate}}</a></p></div></div></div><div class="appSpinner appSpinner--large autoMargin"'+(i="ng-switch-default",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+"></div></div>";var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1231:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="ubntPanelContainer ubntPanelContainer--viewport ubntPanelContainer--withHeaderPanel" id="contentContainer"><aura-global-header></aura-global-header>\x3c!-- opacity fixes issues with header panel z-index--\x3e<div class="ubntMainPanel" style="opacity: 0.999;"><div class="ubntPanelContainer ubntPanelContainer--withSidePanel"><aura-global-side-nav class="ubntSidePanel ubntSidePanel--navigation"></aura-global-side-nav><div class="ubntMainPanel"><div class="appContainer appContainer--responsive appContainer--centered"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox appInfoBox--danger appInfoBox--responsive verticalRhythmTop"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-if="fatalCtrl.errorCode">{{fatalCtrl.errorCode}}: {{\'HTTP_STATUS_CODE_\' + fatalCtrl.errorCode | translate}}</div><div class="appInfoBox__header" ng-if="!fatalCtrl.errorCode" translate="FATAL_ERROR_GENERIC_ERROR"></div><div class="appInfoBox__body" ng-if="fatalCtrl.homeState"><p class="noMarginBottom"'+n("unifi-translate-link",!0,!0,!0)+' unifi-translate-link-translate="FATAL_ERROR_LINK_TO_HOME" unifi-translate-link-state="fatalCtrl.homeState"></p></div><div class="appInfoBox__body" ng-if="fatalCtrl.loginState"><p class="noMarginBottom"'+n("unifi-translate-link",!0,!0,!0)+' unifi-translate-link-translate="FATAL_ERROR_LINK_TO_LOGIN" unifi-translate-link-state="fatalCtrl.loginState"></p></div></div></div></div></div></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1232:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout"><div class="ubntModal ubntModal--medium"><div class="ubntModal__header"><div class="ubntHeader ubntHeader--centered"><div class="ubntHeader__title uppercase" translate="ABOUT_TITLE"></div><div class="ubntHeader__actions"><div class="ubntIconGroup"><aura-icon aura-icon="::\'close\'" aura-icon-class="::[\'ubntIcon\', \'ubntIcon--actionable\']" frame-close="about"></aura-icon></div></div></div></div><div class="ubntModal__main"><div class="ubntModalContent"><div class="container container--vertical-cozy" ng-if="aboutCtrl.model.fetched"><div class="row"><div class="col-3" translate="ABOUT_UI_LABEL"></div><div class="col-9">{{\'VERSION\' | constant}}</div></div><div class="row"><div class="col-3" translate="ABOUT_BACKEND_LABEL"></div><div class="col-9">{{::aboutCtrl.model.get(\'version\')}}</div></div><div class="row"><div class="col-3" translate="ABOUT_BUILD_LABEL"></div><div class="col-9">{{::aboutCtrl.model.get(\'build\')}}</div></div><div class="row"><div class="col-3" translate="ABOUT_UBIQUITI_LABEL"></div><div class="col-9">Ubiquiti Networks, Inc.<br>685 Third Avenue, 27th floor<br>New York, New York 10017<br>USA</div></div></div></div></div><div class="ubntModal__footer"><div class="ubntFooter"><div class="ubntFooter__buttons"><div class="ubntButtonGroup"><a class="ubntButton ubntButton--primary" frame-close="about" translate="COMMON_ACTIONS_OK"></a></div></div></div></div></div></div>'}},{"pug-runtime":23}],1233:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiAddClient"><div class="appControlModal" id="addClientModal" ng-class="{\'appControlModal--tiny\': !addClientCtrl.showList}" unifi-esc-handler="addClientCtrl.onClose()"><div class="appControlModal__close" ng-click="addClientCtrl.onClose()"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" ng-if="!addClientCtrl.showList">{{addClientCtrl.isEditing ? \'CLIENT_ADD_EDIT_TITLE\' : \'CLIENT_ADD_TITLE\' | translate}}</div><div class="appControlModal__content" ng-if="!addClientCtrl.showList"><unifi-loading-status unifi-loading-status-is-loading="addClientCtrl.isLoading" unifi-loading-status-failed="addClientCtrl.failedToLoad" unifi-loading-status-retry="addClientCtrl.init()" unifi-loading-status-is-dark="true" unifi-loading-status-is-opaque="true"></unifi-loading-status><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" ng-class="{          \'is-form-validation-visible\': addClientCtrl.showValidation,          \'is-validation-hidden\': !addClientCtrl.showValidation        }" ng-submit="addClientCtrl.isSubmitAllowed() &amp;&amp; addClientCtrl.submit()"><ng-form name="addClientCtrl.form"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow"><div class="col--xs5 col--sm4 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="CLIENT_ADD_LABEL_MAC"></label></div><div class="col--xs7 col--sm8 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="macAddress" ng-model="addClientCtrl.model.attributes.mac" ng-pattern="addClientCtrl.patterns.macAddress" ng-change="addClientCtrl.onMacChange()"'+n("unifi-mac-address",!0,!0,!0)+n("unifi-validate-client-mac",!0,!0,!0)+' unifi-validate-duplicate-in-collection="addClientCtrl.collection" unifi-validate-duplicate-in-collection-param="\'mac\'"'+n("required",!0,!0,!0)+n("autofocus",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="addClientCtrl.form.macAddress.$error.pattern" translate="VALIDATION_HINT_MAC_ADDRESS"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="!addClientCtrl.form.macAddress.$error.pattern &amp;&amp; addClientCtrl.form.macAddress.$error.alreadyInCollection" translate="CLIENT_ADD_MAC_ALREADY_IN_LIST_ERROR"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="!addClientCtrl.form.macAddress.$error.pattern &amp;&amp; addClientCtrl.form.macAddress.$error.broadcast" translate="CLIENT_ADD_MAC_BROADCAST_ERROR"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="!addClientCtrl.form.macAddress.$error.pattern &amp;&amp; addClientCtrl.form.macAddress.$error.multicast" translate="CLIENT_ADD_MAC_MULTICAST_ERROR"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="!addClientCtrl.form.macAddress.$error.pattern &amp;&amp; addClientCtrl.form.macAddress.$error.macAlreadyUsed" translate="CLIENT_ADD_MAC_ALREADY_USED_ERROR"></div></div></div><div class="appRow"><div class="col--xs5 col--sm4 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="CLIENT_ADD_LABEL_ALIAS"></label></div><div class="col--xs7 col--sm8 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="clientAlias" ng-model="addClientCtrl.model.attributes.name" ng-pattern="addClientCtrl.patterns.name"></div></div><div class="appRow"><div class="col--xs5 col--sm4 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="CLIENT_ADD_LABEL_USER_GROUP"></label></div><div class="col--xs7 col--sm8 appFormGroup appFormGroup--cozy"><select class="select--full" name="clientUserGroup" ng-model="addClientCtrl.model.attributes.usergroup_id" ng-options="userGroup.id as userGroup.get(\'name\') for userGroup in addClientCtrl.getUserGroups()"><option value="">{{\'CLIENT_PROPERTIES_VALUES_USER_GROUP_AUTOMATIC\' | translate}}</option></select></div></div><div class="appRow"><div class="col--xs5 col--sm4 label--right"><label class="appLabel--primary" translate="CLIENT_ADD_LABEL_FIXED_IP"></label></div><div class="col--xs7 col--sm8 appFormGroup appFormGroup--condensed"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="clientFixedIp" ng-model="addClientCtrl.model.attributes.use_fixedip" ng-disabled="!addClientCtrl.canAssignFixedIp()"><unifi-notify-device-requirement unifi-notify-device-requirement-type="ugw"></unifi-notify-device-requirement></div></div></div><div class="appRow" ng-if="addClientCtrl.model.attributes.use_fixedip"><div class="col--xs5 col--sm4 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="CLIENT_ADD_LABEL_NETWORK"></label></div><div class="col--xs7 col--sm8 appFormGroup appFormGroup--cozy"><select class="select--full" name="clientNetwork" ng-model="addClientCtrl.model.attributes.network_id" ng-options="network.id as network.get(\'name\') for network in addClientCtrl.getNetworks()" ng-required="addClientCtrl.model.attributes.use_fixedip"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div><div class="appRow" ng-if="addClientCtrl.model.attributes.use_fixedip"><div class="col--xs5 col--sm4 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="CLIENT_ADD_LABEL_IP_ADDRESS"></label></div><div class="col--xs7 col--sm8 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="clientIpAddress" ng-model="addClientCtrl.model.attributes.fixed_ip" unifi-validate-ip-in-subnet="addClientCtrl.getNetworkIpSubnet()" unifi-validate-duplicate-in-collection="addClientCtrl.collection" unifi-validate-duplicate-in-collection-param="\'fixed_ip\'" ng-required="addClientCtrl.model.attributes.use_fixedip"><div class="appInputFeedback appInputFeedback--danger" ng-show="addClientCtrl.model.attributes.network_id &amp;&amp; addClientCtrl.form.clientIpAddress.$error.ipInSubnet" translate="VALIDATION_HINT_IP_IN_SUBNET" translate-values="{ip: addClientCtrl.form.clientIpAddress.$viewValue, subnet: addClientCtrl.getNetworkIpSubnet()}"></div><div class="appInputFeedback appInputFeedback--danger" ng-if="!addClientCtrl.form.clientIpAddress.$error.ipInSubnet &amp;&amp; addClientCtrl.form.clientIpAddress.$error.alreadyInCollection" translate="CLIENT_ADD_IP_ALREADY_IN_LIST_ERROR"></div></div></div><div class="flexRow flexRow--alignCenter"><div class="flexCol--12 alignRight"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" ng-click="addClientCtrl.cancel()">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" type="submit" ng-click="addClientCtrl.showValidation = true" ng-disabled="addClientCtrl.form.$pristine || addClientCtrl.isMacBeingVerified()" busy-toggle="addClientCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{addClientCtrl.isEditing ? \'COMMON_ACTIONS_EDIT\' : \'COMMON_ACTIONS_ADD\' | translate}}</button></div></div></div></ng-form></form></div><div class="appControlModal__header" ng-if="addClientCtrl.showList">{{\'CLIENT_ADD_LIST_TITLE\' | translate}}</div><div class="appControlModal__content appControlModalScrollableContent" ng-if="addClientCtrl.showList"><div class="appScrollable appScrollable--centerPanel flexFlag__body"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" collection-view-sort="addClientCtrl.view" ng-class="{            \'appTable--dark\': true           }" unifi-condensed="appTable--condensed"><thead><tr><th class="macAddress" collection-view-sort-by="mac"><span translate="CLIENT_ADD_TABLE_HEADER_MAC"></span></th><th class="alias" collection-view-sort-by="name"><span translate="CLIENT_ADD_TABLE_HEADER_ALIAS"></span></th><th class="userGroup" collection-view-sort-by="usergroup_id"><span translate="CLIENT_ADD_TABLE_HEADER_USER_GROUP"></span></th><th class="network" collection-view-sort-by="network_id"><span translate="CLIENT_ADD_TABLE_HEADER_NETWORK"></span></th><th class="fixedIp" collection-view-sort-by="fixed_ip"><span translate="CLIENT_ADD_TABLE_HEADER_IP_ADDRESS"></span></th><th class="addClientActions"><span translate="CLIENT_ADD_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tfoot ng-if="addClientCtrl.collection.length"><tr><td colspan="6"><unifi-micro-pagination class="noMarginBottom" unifi-micro-pagination-current-page="addClientCtrl.currentPage" unifi-micro-pagination-rows-per-page="addClientCtrl.rowsPerPage" unifi-micro-pagination-total-rows="addClientCtrl.collection.length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in addClientCtrl.view.getModels(),                startFrom (addClientCtrl.currentPage - 1) * addClientCtrl.rowsPerPage,                limitTo addClientCtrl.rowsPerPage" data-id="{{::model.id}}"><td class="macAddress">{{::model.get(\'mac\')}}</td><td class="alias">{{::model.get(\'name\')}}</td><td class="userGroup">{{::addClientCtrl.getUserGroupName(model.get(\'usergroup_id\'))}}</td><td class="network">{{::addClientCtrl.getNetworkName(model.get(\'network_id\'))}}</td><td class="fixedIp">{{::model.get(\'fixed_ip\')}}</td><td class="addClientActions appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="addClientCtrl.edit(model)"><span class="button__icon icon ubnt-icon--pencil"></span><span translate="COMMON_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="addClientCtrl.deleteClient(model)"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table></div><div class="flexRow flexRow--alignCenter"><div class="flexCol--6 alignLeft"><button class="appMainButton appMainButton--cozy appMainButton--success" type="button" ng-click="addClientCtrl.addAnotherClient()">{{\'CLIENT_ADD_BUTTON_ADD_CLIENT\' | translate}}</button></div><div class="flexCol--6 alignRight"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" ng-click="addClientCtrl.onClose()">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" type="button" ng-click="addClientCtrl.submitAll()" ng-disabled="addClientCtrl.isEmpty()" busy-toggle="addClientCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SUBMIT\' | translate}}</button></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1234:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiAddSite"><div class="appControlModal appControlModal--tiny" id="addSiteModal"><div class="appControlModal__close" frame-close="addSite"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="SITE_ADD_MODAL_TITLE"></div><div class="appControlModal__content"><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="addSiteCtrl.form" ng-class="{          \'is-form-validation-visible\': addSiteCtrl.showValidation,          \'is-validation-hidden\': !addSiteCtrl.showValidation        }" ng-submit="addSiteCtrl.form.$valid &amp;&amp; addSiteCtrl.save()"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow appRow--comfy"><div class="col--xs4 col--sm3 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="SITE_ADD_LABEL_SITE_NAME"></label></div><div class="col--xs8 col--sm9 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="name" ng-model="addSiteCtrl.model.attributes.desc" ng-pattern="addSiteCtrl.patterns.name"'+n("required",!0,!0,!0)+n("autofocus",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="addSite">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="addSiteCtrl.showValidation = true" busy-toggle="addSiteCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SUBMIT\' | translate}}</button></div></div></div></div></form></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1235:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiAddSshKey"><div class="appControlModal appControlModal--small" id="addSshKeyModal"><div class="appControlModal__close" frame-close="addSshKey"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="SETTINGS_SITE_ADD_SSH_KEY_MODAL_TITLE"></div><div class="appControlModal__content"><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="addSshKeyCtrl.form" ng-class="{          \'is-form-validation-visible\': addSshKeyCtrl.showValidation,          \'is-validation-hidden\': !addSshKeyCtrl.showValidation        }" ng-submit="addSshKeyCtrl.form.$valid &amp;&amp; addSshKeyCtrl.save()"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow appRow--comfy"><div class="col--xs4 col--sm3 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH_KEY_NAME"></label></div><div class="col--xs8 col--sm9 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="name" ng-model="addSshKeyCtrl.attributes.name"'+n("required",!0,!0,!0)+n("autofocus",!0,!0,!0)+'></div></div><div class="appRow appRow--comfy"><div class="col--xs4 col--sm3 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_SITE_LABEL_DEVICE_AUTHENTICATION_SSH_KEY_CONTENT"></label></div><div class="col--xs8 col--sm9 appFormGroup appFormGroup--cozy"><textarea class="unifi textarea--full unifiAddSshKey__key" name="key" ng-model="addSshKeyCtrl.attributes.inputKey" placeholder="{{\'SETTINGS_SITE_PLACEHOLDER_SSH_KEY\' | translate}}"'+n("required",!0,!0,!0)+' ng-pattern="addSshKeyCtrl.patterns.sshKey"></textarea></div></div><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="addSshKey">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="addSshKeyCtrl.showValidation = true">{{\'COMMON_ACTIONS_ADD\' | translate}}</button></div></div></div></div></form></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1236:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="blackout"><div class="appControlModal appControlModal--small" id="adminPasswordChangeSuggestionModal"><div class="appControlModal__header" translate="PASSWORD_CHANGE_SUGGESTION_MODAL_TITLE"></div><div class="appControlModal__content"><unifi-loading-status unifi-loading-status-is-loading="adminPasswordChangeSuggestionCtrl.isLoading" unifi-loading-status-failed="adminPasswordChangeSuggestionCtrl.failedToLoad" unifi-loading-status-retry="adminPasswordChangeSuggestionCtrl.init()" unifi-loading-status-is-dark="true" unifi-loading-status-is-opaque="true"></unifi-loading-status><div class="appInfoBox appInfoBox--cozy appInfoBox--dark appInfoBox--warning verticalRhythm"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom justified"><span translate="PASSWORD_CHANGE_SUGGESTION_MODAL_REASON"></span></p></div></div></div><div class="appForm--dark appForm--cozy is-form-validation-visible" ng-form="adminPasswordChangeSuggestionCtrl.form"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow appRow--comfy"><div class="col--xs12"><p class="noMarginBottom" translate="PASSWORD_CHANGE_SUGGESTION_MODAL_DEVICE_AUTHENTICATION_LABEL"></p></div></div><div class="appRow appRow--comfy"><div class="col--xs5 col--sm4 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="PASSWORD_CHANGE_SUGGESTION_MODAL_DEVICE_AUTHENTICATION_PASSWORD"></label></div><div class="col--xs7 col--sm8 appFormGroup appFormGroup--cozy"><unifi-password-reveal><input class="input--full" name="sshP" type="password" ng-model="adminPasswordChangeSuggestionCtrl.password" ng-maxlength="adminPasswordChangeSuggestionCtrl.CREDENTIALS_SETTINGS.MAX_SSH_PASSWORD_LENGTH" ng-minlength="4"'+(i="required",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'></unifi-password-reveal><div class="appInputFeedback appInputFeedback--danger" ng-show="adminPasswordChangeSuggestionCtrl.form.sshP.$error.maxlength" translate="VALIDATION_HINT_MAX_LENGTH" translate-values="{ max: adminPasswordChangeSuggestionCtrl.CREDENTIALS_SETTINGS.MAX_SSH_PASSWORD_LENGTH }"></div><div class="appInputHelp">{{\'PASSWORD_CHANGE_SUGGESTION_MODAL_DEVICE_AUTHENTICATION_DESC\' | translate}}</div></div></div></div></div></div><div class="appControlModal__content"><div class="alignRight"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" ng-click="adminPasswordChangeSuggestionCtrl.dismiss()" busy-toggle="adminPasswordChangeSuggestionCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_DISMISS\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary uppercase" type="button" ng-disabled="adminPasswordChangeSuggestionCtrl.form.sshP.$invalid" ng-click="adminPasswordChangeSuggestionCtrl.resetPassword()" busy-toggle="adminPasswordChangeSuggestionCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'PASSWORD_CHANGE_SUGGESTION_MODAL_LINK_UPDATE\' | translate}}</button></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1237:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appGlobalSideNavPopover__close" ng-click="alertsCtrl.closeAlerts()"><div class="icon ubnt-icon--x"></div></div><div class="appGlobalSideNavPopover__header" translate="COMMON_NAV_ALERTS"></div><div class="unifiEvents__header visible--smUp" ng-show="alertsCtrl.hasTranslationsLoaded() &amp;&amp; alertsCtrl.getUnreadCount() &gt; 0"><div class="appCountLabelContainer"><div class="count count--round appCount appCount--warning unifiEvents__headerCount"><div class="count__value">{{alertsCtrl.getUnreadCount()}}</div></div><div class="appCountLabel appCountLabel--uppercase unifiEvents__headerLabel" translate="EVENT_TITLE_UNREAD_ALERTS" translate-values="{count: alertsCtrl.getUnreadCount()}" translate-interpolation="messageformat"></div></div></div><div class="appGlobalSideNavPopover__content noPaddingTop" ng-if="alertsCtrl.hasTranslationsLoaded()"><unifi-alerts-calendar></unifi-alerts-calendar></div>'}},{"pug-runtime":23}],1238:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="blackout unifiAutoChannelsModal"><div class="appControlModal appControlModal--small" id="autoChannelsModal" unifi-esc-handler="autoChannelsModalCtrl.cancel()"><div class="appControlModal__close" ng-click="autoChannelsModalCtrl.close()"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="MAP_AUTO_CHANNELS"></div><div class="appControlModal__content"><div class="autoChannelsModalContent"><div class="statusContainer unifiSmartMarginContainer verticalRhythm noPaddingBottom" ng-if="autoChannelsModalCtrl.calculationState === autoChannelsModalCtrl.CALCULATION_STATE.IN_PROGRESS"><h3 class="verticalRhythm--condensed fullWidth"><span class="type--small appType--dark" translate="MAP_AUTO_CHANNELS_PROGRESS"></span><span class="type--small appType--dark">{{ autoChannelsModalCtrl.calculationProgress + \'%\'}}</span></h3><div class="statusBar appStatusBar appStatusBar--dark appStatusBar--high"><div class="statusBar__inner" ng-style="{\'width\': autoChannelsModalCtrl.calculationProgress + \'%\'}"></div></div></div><div class="appInfoBox appInfoBox--danger appInfoBox--noBorder appInfoBox--dark verticalRhythm" ng-if="autoChannelsModalCtrl.calculationState === autoChannelsModalCtrl.CALCULATION_STATE.ERROR"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="MAP_AUTO_CHANNELS_ERROR"></div><div class="appInfoBox__body verticalRhythmTop--condensed"><p class="noMarginBottom">{{autoChannelsModalCtrl.calculationErrorMsg}}</p></div></div></div><form class="appForm appForm--cozy appForm--dark" ng-if="autoChannelsModalCtrl.calculationState === autoChannelsModalCtrl.CALCULATION_STATE.PENDING"'+(i="novalidate",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off"><div class="unifiSmartMarginContainer" ng-if="autoChannelsModalCtrl.isScanRecommendedVisible()"><div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--default appInfoBox--dark" ng-init="scanNeededCollapsed = true" ng-class="{\'is-app-info-box-collapsed\': scanNeededCollapsed}"><div class="appInfoBox__icon icon ubnt-icon--alert warning"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-click="scanNeededCollapsed = !scanNeededCollapsed"><div class="appInfoBox__text" translate="MAP_AUTO_CHANNELS_SCAN_RECOMMENDED"></div><div class="appInfoBox__toggle icon" ng-class="scanNeededCollapsed ? \'ubnt-icon--plus\' : \'ubnt-icon--minus\'"></div></div><div class="appInfoBox__body"><p translate="MAP_AUTO_CHANNELS_SCAN_RECOMMENDED_DESCRIPTION"></p></div><div class="appInfoBox__footer"><button class="appMainButton appMainButton--primary appMainButton--cozy" ng-click="autoChannelsModalCtrl.runScan()" translate="MAP_AUTO_CHANNELS_SCAN"></button></div></div></div></div><div class="unifiSmartMarginContainer" ng-if="autoChannelsModalCtrl.isScanProgressVisible()"><div class="appInfoBox appInfoBox--cozy appInfoBox--collapsible appInfoBox--default appInfoBox--dark" ng-init="scanProgressCollapsed = false" ng-class="{\'is-app-info-box-collapsed\': scanProgressCollapsed}"><div class="appInfoBox__icon icon ubnt-icon--alert warning"></div><div class="appInfoBox__content"><div class="appInfoBox__header" ng-click="scanProgressCollapsed = !scanProgressCollapsed"><div class="appInfoBox__text" translate="MAP_AUTO_CHANNELS_SCAN_IN_PROGRESS"></div><div class="appInfoBox__toggle icon" ng-class="scanProgressCollapsed ? \'ubnt-icon--plus\' : \'ubnt-icon--minus\'"></div></div><div class="appInfoBox__body"><p translate="MAP_AUTO_CHANNELS_SCAN_IN_PROGRESS_DESCRIPTION"></p><div class="statusBar appStatusBar appStatusBar--dark appStatusBar--high" ng-if="autoChannelsModalCtrl.currentScan.id"><div class="statusBar__inner" ng-style="{\'width\': autoChannelsModalCtrl.currentScan.progress + \'%\'}"></div></div></div></div></div></div><div class="appContainer appContainer--centered appContainer--fixed verticalRhythm"><div class="appRow"><div class="col--xs3 label--right"><label class="appLabel--primary" translate="MAP_AUTO_CHANNELS_RADIO"></label></div><div class="col--xs9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="radio in autoChannelsModalCtrl.radioOptions"><input type="radio" name="autoChannelsRadio" id="autoChannelsRadio{{radio}}" ng-model="autoChannelsModalCtrl.selection.radio" ng-value="radio" ng-disabled="!autoChannelsModalCtrl.radioDetails[radio].available"><label for="autoChannelsRadio{{radio}}" translate="{{\'MAP_AUTO_CHANNELS_RADIO_\' + radio | toTranslationKey}}"></label></div></div></div></div><div class="appRow"><div class="col--xs3 label--right"><label class="appLabel--primary" translate="MAP_AUTO_CHANNELS_CHANNEL_WIDTH"></label></div><div class="col--xs9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="channelWidth in autoChannelsModalCtrl.getChannelWidthsForSelectedRadio()"><input type="checkbox" name="autoChannelsChannelWidth" id="autoChannelsWidth{{channelWidth}}" ng-model="autoChannelsModalCtrl.selection.channelWidth[autoChannelsModalCtrl.selection.radio][channelWidth]" ng-change="autoChannelsModalCtrl.selectedChannelWidthChanged()"><label for="autoChannelsWidth{{channelWidth}}" translate="{{autoChannelsModalCtrl.getChannelWidthTranslationKey(channelWidth)}}"></label></div></div></div></div><div class="appRow" ng-if="autoChannelsModalCtrl.selection.radio === \'na\'"><div class="col--xs3 label--right"><label class="appLabel--primary" translate="MAP_AUTO_CHANNELS_BANDS"></label></div><div class="col--xs9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock" ng-repeat="band in autoChannelsModalCtrl.radioDetails.na.bands"><input type="checkbox" name="autoChannelsNaBand" id="autoChannelsNaBand{{band}}" ng-model="autoChannelsModalCtrl.selection.naBands[band]" ng-disabled="!autoChannelsModalCtrl.isBandAvailable(band)"><label for="autoChannelsNaBand{{band}}" translate="{{\'MAP_AUTO_CHANNELS_NA_BAND_\' +  band | toTranslationKey}}"></label></div></div></div></div><div class="appRow"><div class="col--xs3 label--right"><label class="appLabel--primary" translate="MAP_AUTO_CHANNELS_MAP"></label></div><div class="col--xs9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" name="autoChannelsMap" id="autoChannelsMap" ng-model="autoChannelsModalCtrl.selection.useXY"><label for="autoChannelsMap" translate="{{\'MAP_AUTO_CHANNELS_USE_COORDINATES\'}}"></label></div></div></div></div></div></form></div><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" ng-click="autoChannelsModalCtrl.cancel()">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-disabled="!autoChannelsModalCtrl.canCalculate()" ng-click="autoChannelsModalCtrl.calculate()">{{\'MAP_AUTO_CHANNELS_CALCULATE\' | translate}}</button></div></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1239:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout"><div class="appControlModal appControlModal--tiny" id="cloudKeySdCardCheckModal"><div class="appControlModal__header">{{\'SETTINGS_BACKUP_CLOUD_KEY_SD_CARD_CHECK_TITLE\' | translate}}</div><div class="appControlModal__content"><p class="verticalRhythm--cozy">{{\'SETTINGS_BACKUP_CLOUD_KEY_SD_CARD_CHECK_MESSAGE\' | translate}}</p></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="cloudKeySdCardCheckCtrl.resolve()" translate="SETTINGS_BACKUP_CLOUD_KEY_SD_CARD_CHECK_DISABLE"></button></div></div></div></div></div></div>'}},{"pug-runtime":23}],1240:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout unifiDpiCategoryPicker"><div class="appControlModal appControlModal--tiny" id="configureDpiCategoryGraphModal"><div class="appControlModal__header">{{\'STATISTICS_DPI_ADD_CATEGORY_TITLE\' | translate}}</div><div class="appControlModal__content"><form class="appForm--cozy appForm--dark"><div class="appFormGroup unifiDpiCategoryPicker__filter" ng-if="!configureDpiCategoryGraphCtrl.isAndroid4x()"><div class="appIconInput appIconInput--right appIconInput--full"><div class="appIconInput__icon icon ubnt-icon--search-2" ng-if="!configureDpiCategoryGraphCtrl.search"></div><a class="appIconInput__icon icon ubnt-icon--x-circle" ng-if="configureDpiCategoryGraphCtrl.search" ng-click="configureDpiCategoryGraphCtrl.search = \'\'"></a><input class="appIconInput__input input--full" type="text" ng-change="configureDpiCategoryGraphCtrl.categories = []" ng-model="configureDpiCategoryGraphCtrl.search" placeholder="{{\'STATISTICS_DPI_SELECT_CATEGORIES_FILTER\' | translate}}"></div></div><div class="appRow"><div ng-class="configureDpiCategoryGraphCtrl.isAndroid4x() ? \'col--xs6 label--right\' : \'col--xs12\'"><label class="appLabel--primary appLabel--boxAlign">{{\'STATISTICS_DPI_SELECT_CATEGORIES\' | translate}}</label></div><div class="appFormGroup"><select class="select--full" ng-options="category as category.name | translateDpiCategory for category in (configureDpiCategoryGraphCtrl.availableCategories | filter:configureDpiCategoryGraphCtrl.search | orderBy: \'translatedName\')" ng-model="configureDpiCategoryGraphCtrl.categories" multiple="true" ng-class="{\'unifiDpiCategoryPicker__select--tall col--xs12\': !configureDpiCategoryGraphCtrl.isAndroid4x(), \'unifiDpiCategoryPicker__select--initial col--xs6\': configureDpiCategoryGraphCtrl.isAndroid4x()}"></select></div></div></form></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--12 alignRight"><span><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" frame-close="configureDpiCategoryGraph" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--cozy appMainButton--primary" frame-close="configureDpiCategoryGraph" ng-click="configureDpiCategoryGraphCtrl.resolve()" ng-disabled="!configureDpiCategoryGraphCtrl.categories || configureDpiCategoryGraphCtrl.categories.length === 0" translate="COMMON_ACTIONS_SAVE"></button></span></div></div></div></div></div>'}},{"pug-runtime":23}],1241:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="blackout unifiConfirmRestart"><div class="appControlModal appControlModal--tiny" id="confirmRemoveAdminModal"><div class="appControlModal__close" frame-close="confirmRemoveAdmin"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header"><span translate="SETTINGS_ADMIN_DELETE_CONFIRM_TITLE" translate-values="{adminName: confirmRemoveAdminCtrl.model.get(\'name\')}"></span></div><div class="appControlModal__content"><form class="appForm appForm--cozy appForm--dark"'+(i="novalidate",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="confirmRemoveAdminCtrl.form"><p class="verticalRhythmHalf"><span translate="SETTINGS_ADMIN_DELETE_CONFIRM_MESSAGE" translate-values="{adminName: confirmRemoveAdminCtrl.model.get(\'name\')}"></span></p><div class="appInputGroup appInputGroup--comfy" ng-if="confirmRemoveAdminCtrl.isSuperAdmin() &amp;&amp; (confirmRemoveAdminCtrl.model.get(\'super_site_permissions\') || []).length"><input type="checkbox" name="removeSuperSitePermissions" id="removeSuperSitePermissions" ng-model="confirmRemoveAdminCtrl.removeSuperSitePermissions"><label for="removeSuperSitePermissions" translate="SETTINGS_ADMIN_DELETE_CONFIRM_REMOVE_SUPER_SITE_PERMISSIONS"></label></div></form></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--7" unifi-bypass-confirm="confirmRemoveAdminCtrl.bypassFlag" unifi-bypass-confirm-is-dark="true"></div><div class="flexCol--5 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark cancel" ng-click="confirmRemoveAdminCtrl.reject()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--cozy appMainButton--primary confirm" ng-click="confirmRemoveAdminCtrl.resolve()" translate="COMMON_ACTIONS_CONFIRM"></button></div></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1242:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout unifiConfirm"><div class="appControlModal appControlModal--tiny" id="confirmUpgradeOverridesModal"><div class="appControlModal__close" frame-close="confirm"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header">{{\'SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_CONFIRM_TITLE\' | translate}}</div><div class="appControlModal__content"><p class="verticalRhythm--cozy">{{\'SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_CONFIRM_MESSAGE_FILES\' | translate}}</p><pre class="verticalRhythm--cozy"><ul class="list list--cozy"><li ng-repeat="file in confirmUpgradeOverridesCtrl.modifiedFiles">{{file}}</li></ul></pre><p class="verticalRhythm--cozy">{{\'SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_CONFIRM_MESSAGE_WARNING\' | translate}}</p></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" ng-click="confirmUpgradeOverridesCtrl.reject()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="confirmUpgradeOverridesCtrl.resolve()" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_OVERRIDES_UPGRADE_CONFIRM_BUTTON"></button></div></div></div></div></div></div>'}},{"pug-runtime":23}],1243:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="blackout unifiDpiRestrictionForm"><div class="appControlModal appControlModal--small" id="dpiRestrictionFormModal"><div class="appControlModal__close" frame-close="dpiRestrictionForm"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="{{dpiRestrictionFormCtrl.model.id ? \'DPI_RESTRICTION_HEADER_EDIT\' : \'DPI_RESTRICTION_HEADER_ADD\'}}"></div><form class="appForm appForm--cozy appForm--dark" name="dpiRestrictionFormCtrl.form" ng-class="{\'is-form-validation-visible\': dpiRestrictionFormCtrl.showValidation}" ng-submit="dpiRestrictionFormCtrl.form.$valid &amp;&amp; dpiRestrictionFormCtrl.hasValidCategories() &amp;&amp; dpiRestrictionFormCtrl.save()"'+(i="novalidate",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off"><div class="appControlModal__content appControlModalScrollableContent"><div class="verticalRhythmTopQuarter"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow appRow--comfy"><div class="col--xs3 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="DPI_RESTRICTION_LABEL_GROUP"></label></div><div class="col--xs6"><div class="appInputGroup appInputGroup--cozy"><select class="fullWidth" ng-if="!dpiRestrictionFormCtrl.model.id" ng-model="dpiRestrictionFormCtrl.restrictionGroup" ng-options="group as group.get(\'name\') for group in dpiRestrictionFormCtrl.dpiGroups.repository.collection.models" required="true"><option unifi-option-placeholder="DPI_RESTRICTION_OPTION_SELECT_GROUP"></option></select><label class="appLabel appLabel--boxAlign" ng-if="dpiRestrictionFormCtrl.model.id">{{dpiRestrictionFormCtrl.restrictionGroup.get(\'name\')}}</label></div></div></div><div class="appRow appRow--comfy"><div class="col--xs3 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="DPI_RESTRICTION_LABEL_CATEGORY"></label></div><div class="col--xs6"><div class="appInputGroup appInputGroup--cozy"><select class="fullWidth" name="dpiCategory" ng-model="dpiRestrictionFormCtrl.dpiCategoryToAdd" ng-options="category as category.name | translateDpiCategory for category in dpiRestrictionFormCtrl.availableCategories | filter:dpiRestrictionFormCtrl.alreadySelectedCategories | orderBy:\'translatedName\'" ng-change="dpiRestrictionFormCtrl.onCategorySelection()" ng-class="{\'is-input-invalid\': !dpiRestrictionFormCtrl.hasValidCategories()}"><option unifi-option-placeholder="DPI_RESTRICTION_OPTION_SELECT_CATEGORY"></option></select></div></div></div><div class="appRow appRow--comfy" unifi-feature-flag-enable="enableDpiRestrictionsForApps"><div class="col--xs3 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="DPI_RESTRICTION_LABEL_APPLICATION"></label></div><div class="col--xs6"><div class="appInputGroup appInputGroup--cozy"><select class="fullWidth" name="dpiApplication" ng-disabled="!dpiRestrictionFormCtrl.dpiCategoryToAdd" ng-model="dpiRestrictionFormCtrl.dpiApplicationToAdd" ng-options="application as application.name for application in dpiRestrictionFormCtrl.availableApplications | filter:dpiRestrictionFormCtrl.alreadySelectedApplications | orderBy:\'name\'" ng-class="{\'is-input-invalid\': !dpiRestrictionFormCtrl.hasValidCategories()}"><option unifi-option-placeholder="DPI_RESTRICTION_OPTION_ALL_APPLICATIONS"></option></select></div></div></div><div class="appRow appRow--comfy"><div class="col--xs8 col--xsOffset3"><div class="appInputGroup appInputGroup--cozy"><button class="appMainButton appMainButton--transparent appMainButton--cozy noHorizontalPadding" type="button" ng-click="dpiRestrictionFormCtrl.addCategoryAndApplication()" ng-disabled="!dpiRestrictionFormCtrl.dpiCategoryToAdd"><span class="button__icon icon ubnt-icon--plus"></span><span class="button__label" translate="DPI_RESTRICTION_ACTION_ADD_CATEGORY"></span></button></div></div></div><div class="appRow appRow--comfy" ng-if="dpiRestrictionFormCtrl.categories.length"><div class="col--xs3 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="DPI_RESTRICTION_LABEL_RESTRICTED_CATEGORIES"></label></div><div class="col--xs9"><unifi-tag-list unifi-tag-list-tags="dpiRestrictionFormCtrl.categories" unifi-tag-list-name-property="\'translatedName\'" unifi-tag-list-on-remove="dpiRestrictionFormCtrl.removeCategory(tag)" unifi-tag-list-is-dark="true"></unifi-tag-list></div></div><div class="appRow appRow--comfy" unifi-feature-flag-enable="enableDpiRestrictionsForApps" unifi-feature-flag-and="dpiRestrictionFormCtrl.selectedApplicationTags.length"><div class="col--xs3 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="DPI_RESTRICTION_LABEL_RESTRICTED_APPLICATIONS"></label></div><div class="col--xs9"><unifi-tag-list unifi-tag-list-data="dpiRestrictionFormCtrl.selectedApplicationTags" unifi-tag-list-on-remove="dpiRestrictionFormCtrl.removeApplication(tag.name)" unifi-tag-list-is-dark="true"></unifi-tag-list></div></div></div></div><div class="verticalRhythmTopQuarter"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow"><div class="col--xs3 label--right"><label class="appLabel--primary" translate="DPI_RESTRICTION_LABEL_ENABLED"></label></div><div class="col--xs9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="dpiRestrictionFormEnabled" id="dpiRestrictionFormEnabled" ng-model="dpiRestrictionFormCtrl.model.attributes.enabled"><label for="dpiRestrictionFormEnabled" translate="DPI_RESTRICTION_VALUES_ENABLED"></label></div></div></div></div><div class="appRow"><div class="col--xs3 label--right"><label class="appLabel--primary" translate="DPI_RESTRICTION_LABEL_BLOCK"></label></div><div class="col--xs9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="dpiRestrictionFormBlock" id="dpiRestrictionFormBlock" ng-model="dpiRestrictionFormCtrl.model.attributes.blocked"><label for="dpiRestrictionFormBlock" translate="DPI_RESTRICTION_VALUES_BLOCK"></label></div></div></div></div><div class="appRow"><div class="col--xs3 label--right"><label class="appLabel--primary" translate="DPI_RESTRICTION_LABEL_LOG_TRAFFIC"></label></div><div class="col--xs9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="dpiRestrictionFormLog" id="dpiRestrictionFormLog" ng-model="dpiRestrictionFormCtrl.model.attributes.log"><label for="dpiRestrictionFormLog" translate="DPI_RESTRICTION_VALUES_LOG_TRAFFIC"></label></div></div></div></div><div class="appRow" unifi-feature-flag-enable="enableDpiBlockingRate"><div class="col--xs3 label--right"><label class="appLabel--primary" translate="DPI_RESTRICTION_LABEL_LIMIT_DOWN"></label></div><div class="col--xs9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" ng-model="dpiRestrictionFormCtrl.downLimitEnabled" ng-disabled="dpiRestrictionFormCtrl.model.attributes.blocked"><label>{{\'COMMON_LABEL_ENABLED\' | translate}}</label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><unifi-binary-input ng-model="dpiRestrictionFormCtrl.downLimit" unifi-binary-input-suffix="\'B/s\'" unifi-binary-input-base-prefix="\'K\'" unifi-binary-input-standard="\'IEC\'" unifi-binary-input-min="\'1\'" unifi-binary-input-max="\'999999\'" ng-disabled="dpiRestrictionFormCtrl.model.attributes.blocked || !dpiRestrictionFormCtrl.downLimitEnabled" ng-required="!dpiRestrictionFormCtrl.model.attributes.blocked &amp;&amp; dpiRestrictionFormCtrl.downLimitEnabled"></unifi-binary-input></div></div></div></div><div class="appRow" unifi-feature-flag-enable="enableDpiBlockingRate"><div class="col--xs3 label--right"><label class="appLabel--primary" translate="DPI_RESTRICTION_LABEL_LIMIT_UP"></label></div><div class="col--xs9 appFormGroup appFormGroup--condensed"><div class="appInputGroup"><div class="appInputGroup appInputGroup--cozy inlineBlock"><input type="checkbox" ng-model="dpiRestrictionFormCtrl.upLimitEnabled" ng-disabled="dpiRestrictionFormCtrl.model.attributes.blocked"><label translate="COMMON_LABEL_ENABLED"></label></div><div class="appInputGroup appInputGroup--cozy inlineBlock"><unifi-binary-input ng-model="dpiRestrictionFormCtrl.upLimit" unifi-binary-input-suffix="\'B/s\'" unifi-binary-input-base-prefix="\'K\'" unifi-binary-input-standard="\'IEC\'" unifi-binary-input-min="\'1\'" unifi-binary-input-max="\'999999\'" ng-disabled="dpiRestrictionFormCtrl.model.attributes.blocked || !dpiRestrictionFormCtrl.upLimitEnabled" ng-required="!dpiRestrictionFormCtrl.model.attributes.blocked &amp;&amp; dpiRestrictionFormCtrl.upLimitEnabled"></unifi-binary-input></div></div></div></div></div></div></div><div class="appControlModal__content"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="dpiRestrictionForm" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="dpiRestrictionFormCtrl.showValidation = true" translate="COMMON_ACTIONS_SAVE"></button></div></div></div></div></div></form></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1244:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiDpiRestrictionGroup"><div class="appControlModal appControlModal--tiny" id="dpiRestrictionGroupFormModal"><div class="appControlModal__close" frame-close="dpiRestrictionGroupForm"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="{{dpiRestrictionGroupFormCtrl.model.id ? \'DPI_RESTRICTION_GROUP_EDIT_MODAL_TITLE\' : \'DPI_RESTRICTION_GROUP_CREATE_MODAL_TITLE\'}}"></div><div class="appControlModal__content"><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="dpiRestrictionGroupFormCtrl.form" ng-class="{          \'is-form-validation-visible\': dpiRestrictionGroupFormCtrl.showValidation,          \'is-validation-hidden\': !dpiRestrictionGroupFormCtrl.showValidation        }" ng-submit="dpiRestrictionGroupFormCtrl.form.$valid &amp;&amp; dpiRestrictionGroupFormCtrl.save()"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow appRow--comfy"><div class="col--xs4 col--sm3 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="DPI_RESTRICTION_GROUP_NAME"></label></div><div class="col--xs8 col--sm9 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="name" ng-model="dpiRestrictionGroupFormCtrl.model.attributes.name" ng-pattern="dpiRestrictionGroupFormCtrl.patterns.name"'+n("required",!0,!0,!0)+n("autofocus",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="dpiRestrictionGroupForm">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="dpiRestrictionGroupFormCtrl.showValidation = true" busy-toggle="dpiRestrictionGroupFormCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SUBMIT\' | translate}}</button></div></div></div></div></form></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1245:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="blackout unifiDpiRestrictionGroupNetworkAssignment"><div class="appControlModal appControlModal--small" id="dpiRestrictionNetworkAssignmentFormModal"><div class="appControlModal__close" frame-close="dpiRestrictionNetworkAssignmentForm"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_HEADER"></div><form class="appForm appForm--cozy appForm--dark" name="dpiRestrictionNetworkAssignmentFormCtrl.form" ng-class="{\'is-form-validation-visible\': dpiRestrictionNetworkAssignmentFormCtrl.showValidation}" ng-submit="dpiRestrictionNetworkAssignmentFormCtrl.form.$valid &amp;&amp; dpiRestrictionNetworkAssignmentFormCtrl.save()"'+(i="novalidate",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off"><div class="appControlModal__content" ng-if="!dpiRestrictionNetworkAssignmentFormCtrl.networks.length"><div class="appInfoBox appInfoBox--info appInfoBox--cozy appInfoBox--dark appInfoBox--noBorder"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p translate="DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_NOTICE_NO_NETWORKS"></p></div></div></div></div><div class="appControlModal__content appControlModalScrollableContent" ng-if="dpiRestrictionNetworkAssignmentFormCtrl.networks.length"><div class="verticalRhythmTopQuarter"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow appRow--comfy"><div class="col--xs4 label--right"><label class="appLabel--primary appLabel--boxAlign">{{\'DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_NETWORK\' | translate}}</label></div><div class="col--xs7 col--sm5"><div class="appInputGroup appInputGroup--cozy"><select class="select--full" ng-model="dpiRestrictionNetworkAssignmentFormCtrl.network" ng-options="network.name group by network.type for network in dpiRestrictionNetworkAssignmentFormCtrl.networks" ng-required="true"><option unifi-option-placeholder="DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_SELECT_NETWORK"></option></select></div></div></div><div class="appRow appRow--comfy"><div class="col--xs4 label--right"><label class="appLabel--primary appLabel--boxAlign">{{\'DPI_RESTRICTION_GROUP\' | translate}}</label></div><div class="col--xs7 col--sm5"><div class="appInputGroup appInputGroup--cozy"><select class="select--full" ng-model="dpiRestrictionNetworkAssignmentFormCtrl.restrictionGroupId" ng-options="group.id as group.get(\'name\') for group in dpiRestrictionNetworkAssignmentFormCtrl.dpiGroups.repository.collection.models" ng-required="true"><option unifi-option-placeholder="DPI_RESTRICTION_GROUP_NETWORK_ASSIGNMENT_SELECT_GROUP"></option></select></div></div></div><div class="appRow appRow--comfy" ng-if="dpiRestrictionNetworkAssignmentFormCtrl.restrictionGroupId"><div class="col--xs12 verticalRhythmTop--comfy"><unifi-dpi-restrictions-list unifi-dpi-restrictions-list-restriction-group="dpiRestrictionNetworkAssignmentFormCtrl.dpiGroups.repository.collection.get(dpiRestrictionNetworkAssignmentFormCtrl.restrictionGroupId)" unifi-dpi-restrictions-list-is-read-only="true"></unifi-dpi-restrictions-list></div></div></div></div></div><div class="appControlModal__content"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="dpiRestrictionNetworkAssignmentForm">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="dpiRestrictionNetworkAssignmentFormCtrl.showValidation = true">{{\'COMMON_ACTIONS_SAVE\' | translate}}</button></div></div></div></div></div></form></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1246:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiEditDpiGroup"><div class="appControlModal appControlModal--tiny" id="editTextFieldModal"><div class="appControlModal__close" frame-close="editTextField" ng-click="editTextFieldCtrl.reject()"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header">{{editTextFieldCtrl.title}}</div><div class="appControlModal__content"><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow appRow--comfy"><div class="col--xs4 col--sm3 label--right"><label class="appLabel--primary appLabel--boxAlign">{{editTextFieldCtrl.label}}</label></div><div class="col--xs8 col--sm9 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="text" ng-model="editTextFieldCtrl.text"'+n("required",!0,!0,!0)+n("autofocus",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" ng-click="editTextFieldCtrl.reject()">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="editTextFieldCtrl.resolve()">{{editTextFieldCtrl.resolveButtonLabel}}</button></div></div></div></div></form></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1247:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout"><div class="appControlModal appControlModal--tiny" id="eliteDeviceOfflineModal" unifi-esc-handler="eliteDeviceOfflineCtrl.close()"><div class="appControlModal__close" ng-click="eliteDeviceOfflineCtrl.close()"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header"><div class="iconText appIconText"><div class="iconText__icon"><div class="icon ubnt-icon--unifi-elite2 icon--cozy icon--gold"></div></div><div class="iconText__text">{{\'ELITE_DEVICE_OFFLINE_HEADER\' | translate}}</div></div></div><div class="appControlModal__content"><p class="verticalRhythm--cozy">{{\'ELITE_DEVICE_OFFLINE_DETAILS\' | translate}}</p><div class="appContainer"><ul class="list horizontalRhythm horizontalRhythmLeft verticalRhythm--cozy"><li class="iconText appIconText unifiDeviceIconText" ng-repeat="device in eliteDeviceOfflineCtrl.getOfflineDevices() | limitTo:eliteDeviceOfflineCtrl.paginationLimit():eliteDeviceOfflineCtrl.paginationBegin() "><div class="iconText__icon" unifi-device-icon="device"></div><div class="iconText__text">{{device.getDisplayName()}}</div></li></ul><div class="appRow"><div class="col col--xs12"><unifi-micro-pagination ng-show="true" unifi-micro-pagination-current-page="eliteDeviceOfflineCtrl.currentPage" unifi-micro-pagination-rows-per-page="eliteDeviceOfflineCtrl.rowsPerPage" unifi-micro-pagination-total-rows="eliteDeviceOfflineCtrl.getOfflineDevices().length" unifi-list-pagination-is-dark="true"></unifi-micro-pagination></div></div></div></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark cancel" ng-click="eliteDeviceOfflineCtrl.close()">{{\'ELITE_DEVICE_OFFLINE_CANCEL_BUTTON\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary confirm" ng-click="eliteDeviceOfflineCtrl.openChatSupport()">{{\'ELITE_DEVICE_OFFLINE_LIVE_SUPPORT_BUTTON\' | translate}}</button></div></div></div></div></div></div>'}},{"pug-runtime":23}],1248:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appGlobalSideNavPopover__close" ng-click="eventsCtrl.closeEvents()"><div class="icon ubnt-icon--x"></div></div><div class="appGlobalSideNavPopover__header" translate="COMMON_NAV_EVENTS"></div><div class="appGlobalSideNavPopover__content noPaddingTop" ng-if="eventsCtrl.hasTranslationsLoaded()"><unifi-events-calendar></unifi-events-calendar></div>'}},{"pug-runtime":23}],1249:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiExportSite"><div class="appControlModal" id="exportSiteModal" ng-init="exportSiteCtrl.steps = 4; exportSiteCtrl.step = 1;" unifi-esc-handler="exportSiteCtrl.reject()"><div class="appControlModal__close" ng-click="exportSiteCtrl.reject()"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header"><span ng-class="{\'inactive--dark\': exportSiteCtrl.step !== 1}" translate="SITE_EXPORT_MODAL_EXPORT_SITE_TITLE"></span><span class="inactive--dark icon--inline icon ubnt-icon--pointer-right"></span><span ng-class="{\'inactive--dark\': exportSiteCtrl.step !== 2}" translate="SITE_EXPORT_MODAL_MIGRATE_SITE_TITLE"></span><span class="inactive--dark icon--inline icon ubnt-icon--pointer-right"></span><span ng-class="{\'inactive--dark\': exportSiteCtrl.step !== 3}" translate="SITE_EXPORT_MODAL_MIGRATE_DEVICES_TITLE"></span><span class="inactive--dark icon--inline icon ubnt-icon--pointer-right"></span><span ng-class="{\'inactive--dark\': exportSiteCtrl.step !== 4}" translate="SITE_EXPORT_MODAL_MIGRATE_DEVICES_TITLE"></span></div><div class="statusBar appStatusBar appStatusBar--dark appStatusBar--high appStatusBar--small"><div class="statusBar__inner" ng-style="{\'width\': ((100 * exportSiteCtrl.step / exportSiteCtrl.steps) | number:0) + \'%\'}"></div></div><div class="step" ng-if="exportSiteCtrl.step === 1"><div class="appControlModal__content"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow appRow--comfy"><div class="col--xs12"><div class="appInfoBox appInfoBox--dark appInfoBox--cozy"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="SITE_EXPORT_MODAL_EXPORT_SITE_HELP_TITLE"></div><div class="appInfoBox__body" translate="SITE_EXPORT_MODAL_EXPORT_SITE_HELP"></div></div></div></div></div><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="exportSite">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--cozy exportSite" ng-click="exportSiteCtrl.export()" busy-toggle="exportSiteCtrl.isExporting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'SITE_EXPORT_ACTIONS_DOWNLOAD_FILE\' | translate}}</button></div></div></div></div></div></div><div class="step" ng-if="exportSiteCtrl.step === 2"><div class="appControlModal__content"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow appRow--comfy"><div class="appInfoBox appInfoBox--warning appInfoBox--dark appInfoBox--cozy"><div class="appInfoBox__icon icon ubnt-icon--eye2"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="SITE_EXPORT_MODAL_MIGRATE_SITE_HELP_TITLE"></div><div class="appInfoBox__body" translate="SITE_EXPORT_MODAL_MIGRATE_SITE_HELP"></div></div></div></div><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="exportSite">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--cozy confirmImportSite" ng-click="exportSiteCtrl.importConfirm()">{{\'COMMON_ACTIONS_CONFIRM\' | translate}}</button></div></div></div></div></div></div><div class="step" ng-if="exportSiteCtrl.step === 3"><div class="appControlModal__content appControlModalScrollableContent noBorder"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow appRow--comfy"><div class="col--xs12"><div class="appInfoBox appInfoBox--dark appInfoBox--cozy"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="SITE_EXPORT_MODAL_MIGRATE_DEVICES_HELP_TITLE"></div><div class="appInfoBox__body" translate="SITE_EXPORT_MODAL_MIGRATE_DEVICES_HELP"></div></div></div></div></div></div><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="exportSiteCtrl.form" ng-class="{            \'is-form-validation-visible\': exportSiteCtrl.showValidation,            \'is-validation-hidden\': !exportSiteCtrl.showValidation          }" ng-submit="exportSiteCtrl.form.$valid &amp;&amp; exportSiteCtrl.selectedDevicesToMigrate.models.length &amp;&amp; exportSiteCtrl.migrateDevices()"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow"><div class="col--xs4 col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="Controller Inform URL"></label></div><div class="col--xs8 col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><label>{{exportSiteCtrl.DEVICE_INFORM.PROTOCOL}}</label><input type="text" name="migrate_hostname" ng-model="exportSiteCtrl.migrate_hostname"'+n("required",!0,!0,!0)+' size="50"'+n("autofocus",!0,!0,!0)+' placeholder="{{exportSiteCtrl.DEVICE_INFORM.DEFAULT_HOST}}" unifi-validate-patterns="[                        exportSiteCtrl.patterns.hostname,                        exportSiteCtrl.patterns.ipAddress                      ]"><label>:</label><input type="text" name="migrate_port" size="5" ng-model="exportSiteCtrl.migrate_port" ng-pattern="exportSiteCtrl.patterns.portNumber"'+n("required",!0,!0,!0)+' placeholder="{{exportSiteCtrl.DEVICE_INFORM.DEFAULT_PORT}}"><label>{{exportSiteCtrl.DEVICE_INFORM.ENDPOINT}}</label></div></div></div></div><unifi-device-select-list unifi-device-select-list-filter="exportSiteCtrl.adoptedDevicesFilter" unifi-device-select-list-is-dark="true" unifi-device-select-list-on-selection-change="exportSiteCtrl.onSelectDevicesToMigrate(selectedDevices)" unifi-device-select-list-select-all-test="exportSiteCtrl.selectAllAdoptedTest"></unifi-device-select-list><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="exportSite">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--cozy migrateDevices" ng-click="exportSiteCtrl.showValidation = true" busy-toggle="exportSiteCtrl.isMigrating" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="!exportSiteCtrl.selectedDevicesToMigrate.models.length">{{\'SITE_EXPORT_ACTIONS_MIGRATE_DEVICES\' | translate}}</button></div></div></div></div></form></div></div><div class="step" ng-if="exportSiteCtrl.step === 4"><div class="appControlModal__content appControlModalScrollableContent noBorder"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow appRow--comfy"><div class="col--xs12"><div class="appInfoBox appInfoBox--warning appInfoBox--dark appInfoBox--cozy"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="SITE_EXPORT_MODAL_FORGET_DEVICES_HELP_TITLE"></div><div class="appInfoBox__body" translate="SITE_EXPORT_MODAL_FORGET_DEVICES_HELP"></div></div></div></div></div></div><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="exportSiteCtrl.form2" ng-submit="exportSiteCtrl.selectedDevicesToForget.models.length &amp;&amp; exportSiteCtrl.forgetDevices()"><unifi-device-select-list unifi-device-select-list-is-dark="true" unifi-device-select-list-on-selection-change="exportSiteCtrl.onSelectDevicesToForget(selectedDevices)" unifi-device-select-list-collection="exportSiteCtrl.selectedDevicesToMigrate"></unifi-device-select-list><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="exportSite" ng-click="exportSiteCtrl.reject()">{{\'COMMON_ACTIONS_SKIP\' | translate}}</button><button class="appMainButton appMainButton--danger appMainButton--cozy forgetDevices" ng-click="exportSiteCtrl.showValidation = true" busy-toggle="exportSiteCtrl.isMigrating" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="!exportSiteCtrl.selectedDevicesToForget.models.length">{{\'SITE_EXPORT_ACTIONS_FORGET_DEVICES\' | translate}}</button></div></div></div></div></form></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1250:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="blackout unifiFallbackVlan"><div class="appControlModal" id="fallbackVlanModal"><div class="appControlModal__close" frame-close="fallbackVlan"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="{{fallbackVlanCtrl.model.id ? \'SETTINGS_NETWORK_SECTION_EDIT\' : \'SETTINGS_NETWORK_SECTION_CREATE\'}}" translate-values="{networkName: fallbackVlanCtrl.model.attributes.name}"></div><div class="appControlModal__content"><div ng-switch="fallbackVlanCtrl.model.attributes.purpose" ng-init="fallbackVlanCtrl.sharedAttrs = fallbackVlanCtrl.model.deepAttributes()"><div ng-switch-when="vlan-only" unifi-network-form-vlan-only="fallbackVlanCtrl.model" unifi-network-form-vlan-only-allowed-purposes="fallbackVlanCtrl.nativeNetworkTypes" unifi-network-form-vlan-only-attrs="fallbackVlanCtrl.sharedAttrs" unifi-network-form-vlan-only-on-save="fallbackVlanCtrl.onSaveOverride(model)" unifi-network-form-vlan-only-on-cancel="fallbackVlanCtrl.close()" unifi-network-form-vlan-only-is-read-only="!fallbackVlanCtrl.isAdmin()" unifi-network-form-vlan-only-is-dark="true" unifi-network-form-vlan-only-is-modal="true"></div><div'+(i="ng-switch-default",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' unifi-network-form-lan="fallbackVlanCtrl.model" unifi-network-form-lan-allowed-purposes="fallbackVlanCtrl.nativeNetworkTypes" unifi-network-form-lan-attrs="fallbackVlanCtrl.sharedAttrs" unifi-network-form-lan-on-save="fallbackVlanCtrl.onSaveOverride(model)" unifi-network-form-lan-on-cancel="fallbackVlanCtrl.close()" unifi-network-form-lan-is-read-only="!fallbackVlanCtrl.isAdmin()" unifi-network-form-lan-is-dark="true" unifi-network-form-lan-is-modal="true"></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1251:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout unifiFirewallGroupsCreateModal"><div class="appControlModal appControlModal--tiny" id="firewallGroupsCreateModal"><div class="appControlModal__close" frame-close="firewallGroupsCreate"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__content"><div unifi-firewall-groups-form="firewallGroupsCreateCtrl.model" unifi-firewall-groups-form-is-dark="true" unifi-firewall-groups-form-is-modal="true" unifi-firewall-groups-form-on-save="firewallGroupsCreateCtrl.onSave()" unifi-firewall-groups-form-on-cancel="firewallGroupsCreateCtrl.onCancel()" unifi-firewall-groups-form-is-read-only="!firewallGroupsCreateCtrl.isAdmin()"></div></div></div></div>'}},{"pug-runtime":23}],1252:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout hotspot2NaiRealmListEntry"><div class="appControlModal appControlModal--tiny" id="hotspot2NaiRealmListEntryModal"><div class="appControlModal__close" ng-click="hotspot2NaiRealmListEntryCtrl.reject()"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header"'+n("translate",!0,!0,!0)+' translate-values="{name: hotspot2NaiRealmListEntryCtrl.title}">{{hotspot2NaiRealmListEntryCtrl.title ? \'SETTINGS_HOTSPOT2_NAI_REALM_LIST_ENTRY_EDIT\' : \'SETTINGS_HOTSPOT2_NAI_REALM_LIST_ENTRY_CREATE\'}}</div><div class="appControlModal__content"><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" ng-class="{          \'is-form-validation-visible\': hotspot2NaiRealmListEntryCtrl.showValidation,          \'is-validation-hidden\': !hotspot2NaiRealmListEntryCtrl.showValidation        }" ng-submit="hotspot2NaiRealmListEntryCtrl.isSubmitAllowed() &amp;&amp; hotspot2NaiRealmListEntryCtrl.save()" name="hotspot2NaiRealmListEntryCtrl.form"><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_NAI_REALM_LABEL_NAME"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="entryName" ng-model="hotspot2NaiRealmListEntryCtrl.entry.name"'+n("required",!0,!0,!0)+n("autofocus",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="hotspot2NaiRealmListEntryCtrl.form.entryName.$error.required" translate="VALIDATION_HINT_REQUIRED"></div></div></div><div class="appRow"><div class="col--sm8 col--smOffset3 appFormGroup appFormGroup--cozy"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="naiRealmEnabled" id="naiRealmEnabled" ng-model="hotspot2NaiRealmListEntryCtrl.entry.status"><label translate="SETTINGS_HOTSPOT2_NAI_REALM_LABEL_ENABLED" for="naiRealmEnabled"></label></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_NAI_REALM_LABEL_EAP"></label></div><div class="col--sm8 appFormGroup appFormGroup--cozy"><select name="eapMethod" ng-model="hotspot2NaiRealmListEntryCtrl.entry.eap_method" ng-options="key as value | translate for (key, value) in hotspot2NaiRealmListEntryCtrl.HOTSPOT2_EAP_METHODS"'+n("required",!0,!0,!0)+"><option"+n("unifi-option-placeholder",!0,!0,!0)+'></option></select><div class="appInputFeedback appInputFeedback--danger" ng-show="hotspot2NaiRealmListEntryCtrl.form.eapMethod.$error.required" translate="VALIDATION_HINT_REQUIRED"></div></div></div><div class="appRow"><table class="appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped appTable--dark" unifi-condensed="appTable--condensed"><thead><th class="authId"><span translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_HEADER_AUTH_ID"></span></th><th class="authVal"><span translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_HEADER_AUTH_VAL"></span></th><th class="authActions"'+n("unifi-if-role-admin",!0,!0,!0)+'><span translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_HEADER_ACTIONS"></span></th></thead><tbody><tr ng-repeat="auth in hotspot2NaiRealmListEntryCtrl.auths"><td class="authId">{{ hotspot2NaiRealmListEntryCtrl.HOTSPOT2_AUTH_IDS[auth.id] | translate }}</td><td class="authVal">{{ hotspot2NaiRealmListEntryCtrl.HOTSPOT2_AUTH_VALUES[auth.id][auth.val] | translate}}</td><td class="authActions appTableCell--actions"'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="hotspot2NaiRealmListEntryCtrl.removeAuth($index)"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm appInfoBox--dark" ng-if="!hotspot2NaiRealmListEntryCtrl.auths.length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_HOTSPOT2_NAI_REALM_TABLE_AUTH_EMPTY"></p></div></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_NAI_REALM_LIST_VALUES_AUTH_ID"></label></div><div class="col--sm3 appFormGroup appFormGroup--cozy"><select class="venueGroup" name="authId" ng-model="hotspot2NaiRealmListEntryCtrl.authId" ng-options="key as value | translate for (key, value) in hotspot2NaiRealmListEntryCtrl.HOTSPOT2_AUTH_IDS" ng-change="hotspot2NaiRealmListEntryCtrl.authVal = undefined"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div><div class="appRow"><div class="col--sm3"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_HOTSPOT2_NAI_REALM_LIST_VALUES_AUTH_VAL"></label></div><div class="col--sm3 appFormGroup appFormGroup--cozy"><select name="authVal" ng-model="hotspot2NaiRealmListEntryCtrl.authVal" ng-options="key as value | translate for (key, value) in hotspot2NaiRealmListEntryCtrl.HOTSPOT2_AUTH_VALUES[hotspot2NaiRealmListEntryCtrl.authId || \'0\']"><option'+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div><div class="appRow"><div class="col--sm3 appFormGroup appFormGroup--cozy"><button class="appMainButton appMainButton--primary appMainButton--condensed" type="button" ng-disabled="hotspot2NaiRealmListEntryCtrl.auths.length &gt;= hotspot2NaiRealmListEntryCtrl.maxAuths || !hotspot2NaiRealmListEntryCtrl.authId || !hotspot2NaiRealmListEntryCtrl.authVal" ng-click="hotspot2NaiRealmListEntryCtrl.addAuth()"><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_HOTSPOT2_NAI_REALM_LIST_ACTIONS_ADD_AUTH"></span></button></div></div></div><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" ng-click="hotspot2NaiRealmListEntryCtrl.reject()">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="hotspot2NaiRealmListEntryCtrl.showValidation = true" ng-disabled="hotspot2NaiRealmListEntryCtrl.form.$pristine" busy-toggle="hotspot2NaiRealmListEntryCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SUBMIT\' | translate}}</button></div></div></div></div></form></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1253:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiHotspotPackage"><div class="appControlModal" id="hotspotPackageModal"><div class="appControlModal__close" frame-close="hotspotPackage"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_TITLE"></div><div class="appControlModal__content"><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" ng-class="{            \'is-form-validation-visible\': hotspotPackageCtrl.showValidation,            \'is-validation-hidden\': !hotspotPackageCtrl.showValidation          }" ng-submit="hotspotPackageCtrl.isSubmitAllowed() &amp;&amp; hotspotPackageCtrl.save()"><ng-form name="hotspotPackageCtrl.form"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow"><div class="col--xs5 col--sm3 label--right"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_LABEL_NAME"></label></div><div class="col--xs7 col--sm6 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="hotspotPackageName" ng-model="hotspotPackageCtrl.model.attributes.name"'+n("required",!0,!0,!0)+n("autofocus",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="hotspotPackageCtrl.form.hotspotPackageName.$error.required" translate="VALIDATION_HINT_REQUIRED"></div></div></div><div class="appRow"><div class="col--xs5 col--sm3 label--right"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_LABEL_PAYMENT"></label></div><div class="col--xs7 col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup appTooltipContainer appTooltipContainer--hoverable"><input type="checkbox" id="hotspotPackageFreePackage" name="hotspotPackageFreePackage" ng-model="hotspotPackageCtrl.freePackage" ng-disabled="hotspotPackageCtrl.isFreePackageCheckboxDisabled()" ng-change="hotspotPackageCtrl.adjustAmountAndCurrency()"><label for="hotspotPackageFreePackage" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_VALUES_PACKAGE_FREE"></label><unifi-tooltip><content translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_TOOLTIP_PACKAGE_FREE_DISABLED"></content></unifi-tooltip></div></div></div><div class="appRow" ng-if="!hotspotPackageCtrl.freePackage"><div class="col--xs5 col--sm3 label--right"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_LABEL_PRICE"></label></div><div class="col--xs7 col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appRow appRow--smash"><div class="col--xs4"><select name="hotspotPackageCurrency" ng-model="hotspotPackageCtrl.model.attributes.currency" ng-options="currency as currency for currency in hotspotPackageCtrl.currencies"'+n("required",!0,!0,!0)+'></select><div class="appInputFeedback appInputFeedback--danger" ng-show="hotspotPackageCtrl.form.hotspotPackageCurrency.$error.required" translate="VALIDATION_HINT_REQUIRED"></div></div><div class="col--xs8"><input class="input--full" type="number" id="hotspotPackageAmount" name="hotspotPackageAmount" ng-model="hotspotPackageCtrl.model.attributes.amount"'+n("required",!0,!0,!0)+n("input-non-zero",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="hotspotPackageCtrl.form.hotspotPackageAmount.$error.required" translate="VALIDATION_HINT_REQUIRED"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="hotspotPackageCtrl.form.hotspotPackageAmount.$error.nonZero" translate="VALIDATION_HINT_NON_ZERO"></div></div></div></div></div></div><div class="appRow" ng-if="!hotspotPackageCtrl.freePackage"><div class="col--xs5 col--sm3 label--right"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_LABEL_CHARGED_AS"></label><unifi-tooltip><content translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_TOOLTIP_CHARGED_AS"></content></unifi-tooltip></div><div class="col--xs7 col--sm6 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="hotspotPackageChargedAs" ng-model="hotspotPackageCtrl.model.attributes.charged_as"></div></div><div class="appRow" ng-if="hotspotPackageCtrl.freePackage"><div class="col--xs5 col--sm3 label--right"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_LABEL_TRIAL_RESET"></label><unifi-tooltip><content translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_TOOLTIP_TRIAL_RESET"></content></unifi-tooltip></div><div class="col--xs7 col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="number" name="hotspotPackageTrialReset" ng-model="hotspotPackageCtrl.model.attributes.trial_reset"'+n("required",!0,!0,!0)+'><label>{{\'DATETIME_HOURS_FULL\' | translate }}</label><div class="appInputFeedback appInputFeedback--danger" ng-show="hotspotPackageCtrl.form.hotspotPackageTrialReset.$error.required" translate="VALIDATION_HINT_REQUIRED"></div></div></div></div><div class="appRow"><div class="col--xs5 col--sm3 label--right"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_LABEL_LIMIT_OVERWRITE"></label><unifi-tooltip><content translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_TOOLTIP_LIMIT_OVERWRITE"></content></unifi-tooltip></div><div class="col--xs7 col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" id="hotspotPackageLimitOverwrite" name="hotspotPackageLimitOverwrite" ng-model="hotspotPackageCtrl.model.attributes.limit_overwrite"><label for="hotspotPackageLimitOverwrite" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_VALUES_ENABLE_LIMIT_OVERWRITE"></label></div></div></div><div class="appRow"><div class="col--xs5 col--sm3 label--right"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_LABEL_HOURS"></label></div><div class="col--xs7 col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="number" name="hotspotPackageHours" ng-model="hotspotPackageCtrl.model.attributes.hours"'+n("required",!0,!0,!0)+n("input-non-zero",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="hotspotPackageCtrl.form.hotspotPackageHours.$error.required" translate="VALIDATION_HINT_REQUIRED"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="hotspotPackageCtrl.form.hotspotPackageHours.$error.nonZero" translate="VALIDATION_HINT_NON_ZERO"></div></div></div></div><div class="appRow"><div class="col--xs5 col--sm3 label--right"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_LABEL_LIMIT_DOWN"></label></div><div class="col--xs7 col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="number" name="hotspotPackageLimitDown" ng-model="hotspotPackageCtrl.model.attributes.limit_down"><label>kbps</label></div></div></div><div class="appRow"><div class="col--xs5 col--sm3 label--right"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_LABEL_LIMIT_UP"></label></div><div class="col--xs7 col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="number" name="hotspotPackageLimitUp" ng-model="hotspotPackageCtrl.model.attributes.limit_up"><label>kbps</label></div></div></div><div class="appRow"><div class="col--xs5 col--sm3 label--right"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_LABEL_LIMIT_QUOTA"></label></div><div class="col--xs7 col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="number" name="hotspotPackageLimitQuota" ng-model="hotspotPackageCtrl.model.attributes.limit_quota"><label>MBytes</label></div></div></div><div class="appRow" ng-class="{\'appRow--comfy\': !hotspotPackageCtrl.model.attributes.custom_payment_fields_enabled}"><div class="col--xs5 col--sm3 label--right"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_LABEL_CUSTOM_PAYMENT_FIELDS"></label></div><div class="col--xs7 col--sm9 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><input type="checkbox" name="hotspotPackageCustomPaymentFields" ng-model="hotspotPackageCtrl.model.attributes.custom_payment_fields_enabled"></div></div></div><div class="appRow appRow--comfy" ng-show="hotspotPackageCtrl.model.attributes.custom_payment_fields_enabled"><div class="col--xs5 col--sm3 label--right"><label class="appLabel--primary" translate="SETTINGS_GUEST_CONTROL_HOTSPOT_PACKAGE_MODAL_LABEL_PAYMENT_FIELD_OPTIONS"></label></div><div class="col--xs7 col--sm9 appFormGroup appFormGroup--cozy"><div class="appRow appRow--cozy" ng-repeat="option in hotspotPackageCtrl.HOTSPOT_PAYMENT_FIELDS" ng-if="!hotspotPackageCtrl.freePackage || option !== \'address\'"><div class="col--sm4 appFormGroup appFormGroup--smash"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" id="customPortalPaymentField_{{option.id}}_enabled" ng-model="hotspotPackageCtrl.model.attributes[\'payment_fields_\' + option.id + \'_enabled\']" ng-disabled="!hotspotPackageCtrl.freePackage &amp;&amp; option.forceRequiredForNonFreePayments &amp;&amp; hotspotPackageCtrl.model.attributes[\'payment_fields_\' + option.id + \'_enabled\']"><label for="customPortalPaymentField_{{option.id}}_enabled">{{\'SETTINGS_GUEST_CONTROL_VALUES_PAYMENT_FIELD_\' + option.id.toUpperCase() + \'_ENABLED\' | translate}}</label></div></div><div class="col--sm3 appFormGroup appFormGroup--smash"><div class="appInputGroup appInputGroup--cozy" ng-show="hotspotPackageCtrl.model.attributes[\'payment_fields_\' + option.id + \'_enabled\']"><input type="checkbox" id="customPortalPaymentField_{{option}}_required" ng-model="hotspotPackageCtrl.model.attributes[\'payment_fields_\' + option.id + \'_required\']" ng-disabled="!hotspotPackageCtrl.freePackage &amp;&amp; option.forceRequiredForNonFreePayments &amp;&amp; hotspotPackageCtrl.model.attributes[\'payment_fields_\' + option.id + \'_required\']"><label for="customPortalPaymentField_{{option}}_required">{{\'SETTINGS_GUEST_CONTROL_VALUES_PAYMENT_FIELD_\' + option.id.toUpperCase() + \'_REQUIRED\' | translate}}</label></div></div><div class="col--sm5 appFormGroup appFormGroup--smash" ng-if="option.id === \'country\'"><div class="appInputGroup appInputGroup--cozy"><label class="appLabel--boxInline" for="customPortalPaymentFieldCountryDefault" translate="SETTINGS_GUEST_CONTROL_VALUES_PAYMENT_FIELD_COUNTRY_DEFAULT" ng-show="hotspotPackageCtrl.model.attributes.payment_fields_country_enabled"></label><select class="select-full" name="customPortalPaymentFieldCountryDefault" ng-model="hotspotPackageCtrl.model.attributes.payment_fields_country_default" ng-options="hotspotPackageCtrl.countryNamesMap[countryCode] for countryCode in hotspotPackageCtrl.countryCodes track by countryCode" ng-show="hotspotPackageCtrl.model.attributes.payment_fields_country_enabled"><option unifi-option-placeholder="SETTINGS_GUEST_CONTROL_VALUES_PAYMENT_FIELD_COUNTRY_SELECT_DEFAULT"></option></select></div></div></div></div></div><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="hotspotPackage">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="hotspotPackageCtrl.showValidation = true" ng-disabled="hotspotPackageCtrl.form.$pristine" busy-toggle="hotspotPackageCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SUBMIT\' | translate}}</button></div></div></div></div></ng-form></form></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1254:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiImportSite"><div class="appControlModal appControlModal--tiny" id="importSiteModal"><div class="appControlModal__close" frame-close="importSite"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="SITE_IMPORT_MODAL_TITLE"></div><div class="appControlModal__content"><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="importSiteCtrl.form" ng-class="{          \'is-form-validation-visible\': importSiteCtrl.showValidation,          \'is-validation-hidden\': !importSiteCtrl.showValidation        }" ng-submit="importSiteCtrl.form.$valid &amp;&amp; importSiteCtrl.save()"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow appRow--comfy"><div class="col--xs4 col--sm3 label--right"><label class="appLabel--primary appLabel--boxAlign" translate="SITE_IMPORT_LABEL_SITE_NAME"></label></div><div class="col--xs8 col--sm9 appFormGroup appFormGroup--cozy"><input class="input--full" type="text" name="name" ng-model="importSiteCtrl.model.attributes.desc" ng-pattern="importSiteCtrl.patterns.name"'+n("required",!0,!0,!0)+n("autofocus",!0,!0,!0)+'></div></div><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="importSite">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--cozy importSite" ng-click="importSiteCtrl.showValidation = true" type="file"'+n("ngf-select",!0,!0,!0)+' ngf-change="importSiteCtrl.importSite($files)" busy-toggle="importSiteCtrl.isImporting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-disabled="!importSiteCtrl.model.attributes.desc">{{\'SITE_IMPORT_ACTIONS_CHOOSE_FILE\' | translate}}</button><div class="appInputGroup inlineBlock" ng-if="importSiteCtrl.importProgress &amp;&amp; importSiteCtrl.importProgress.hasOwnProperty(\'percent\')"><label>{{importSiteCtrl.importProgress.percent || 0}}%</label></div></div></div></div></div></form></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1255:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiInstantRma"><div class="appControlModal appControlModal--small" id="instantRmaModal"><div class="appControlModal__close" ng-click="instantRmaCtrl.close()" unifi-esc-handler="instantRmaCtrl.close()"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="{{instantRmaCtrl.model ? \'INSTANT_RMA_HEADER\': \'SETTINGS_ELITE_DEVICE_LABEL_SHIPPING_INFO\'}}" translate-values="{mac: instantRmaCtrl.model.getDisplayName()}"></div><div class="appControlModal__content appControlModalScrollableContent"><p class="verticalRhythm--condensed justified appType--quiet" ng-if="instantRmaCtrl.model"><span translate="INSTANT_RMA_MESSAGE"></span></p><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" ng-class="{          \'is-form-validation-visible\': instantRmaCtrl.showValidation,          \'is-validation-hidden\': !instantRmaCtrl.showValidation        }" ng-submit="instantRmaCtrl.form.$valid &amp;&amp; instantRmaCtrl.submit()"><ng-form name="instantRmaCtrl.form"><fieldset class="appFieldset appFieldset--quiet verticalRhythm" ng-if="instantRmaCtrl.model"><div class="appRow"><div class="col--sm6"><label class="appLabel--primary appLabel--boxAlign" translate="INSTANT_RMA_LABEL_AUTOREPLACE"></label><unifi-tooltip><content translate="INSTANT_RMA_REPLACE_MESSAGE"></content></unifi-tooltip><div class="appFormGroup appFormGroup--condensed"><div class="toggle appToggle appToggle--dark" data-on="{{\'COMMON_TOGGLE_ON\' | translate}}" data-off="{{\'COMMON_TOGGLE_OFF\' | translate}}"><input type="checkbox" name="autoreplace" id="autoreplace" ng-model="instantRmaCtrl.autoreplace"><label for="autoreplace"></label></div></div></div><div class="col--sm6"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary appLabel--boxAlign" translate="INSTANT_RMA_LABEL_REASON"></label><select class="input--full" ng-options="key as value | translate for (key,value) in instantRmaCtrl.ELITE_RMA_REASONS" ng-model="instantRmaCtrl.reason"'+n("required",!0,!0,!0)+"><option"+n("unifi-option-placeholder",!0,!0,!0)+'></option></select></div></div></div></fieldset><fieldset class="appFieldset appFieldset--quiet"><div class="appSubHeading appSubHeading--small appSubHeading--standalone verticalRhythm--condensed" ng-if="instantRmaCtrl.model"><span translate="INSTANT_RMA_LABEL_SHIPPING_INFO"></span></div><div class="appRow"><div class="col--sm6"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary appLabel--boxAlign" translate="INSTANT_RMA_LABEL_FULL_NAME"></label><input class="input--full" type="text" ng-model="instantRmaCtrl.fullName"'+n("required",!0,!0,!0)+'></div></div><div class="col--sm6"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary appLabel--boxAlign" translate="INSTANT_RMA_LABEL_COMPANY_NAME"></label><input class="input--full" type="text" ng-model="instantRmaCtrl.companyName"></div></div></div><div class="appRow"><div class="col--sm12"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary appLabel--boxAlign" translate="INSTANT_RMA_LABEL_SHIPPING_ADDRESS"></label><input class="input--full" type="text" ng-model="instantRmaCtrl.address1"'+n("required",!0,!0,!0)+'></div></div></div><div class="appRow"><div class="col--sm12"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary appLabel--boxAlign" translate="INSTANT_RMA_LABEL_SHIPPING_ADDRESS_2"></label><input class="input--full" type="text" ng-model="instantRmaCtrl.address2"></div></div></div><div class="appRow"><div class="col--sm6"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary appLabel--boxAlign" translate="INSTANT_RMA_LABEL_COUNTRY"></label><select class="input--full" ng-options="country.get(\'key\') as country.get(\'name\') for country in instantRmaCtrl.getCountries()" ng-model="instantRmaCtrl.country"'+n("required",!0,!0,!0)+'><option value="">{{\'INSTANT_RMA_COUNTRY_PLACEHOLDER\' | translate}}</option></select></div></div><div class="col--sm6"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary appLabel--boxAlign" translate="INSTANT_RMA_LABEL_STATE"></label><select class="input--full" ng-options="state.value as state.text for state in instantRmaCtrl.US_STATES" ng-model="instantRmaCtrl.state"'+n("required",!0,!0,!0)+'><option value="">{{\'INSTANT_RMA_STATE_PLACEHOLDER\' | translate}}</option></select></div></div></div><div class="appRow"><div class="col--sm6"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary appLabel--boxAlign" translate="INSTANT_RMA_LABEL_CITY"></label><input class="input--full" type="text" ng-model="instantRmaCtrl.city"'+n("required",!0,!0,!0)+'></div></div><div class="col--sm6"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary appLabel--boxAlign" translate="INSTANT_RMA_LABEL_ZIP_CODE"></label><input class="input--full" type="text" ng-model="instantRmaCtrl.zipCode"'+n("required",!0,!0,!0)+'></div></div></div><div class="appRow"><div class="col--sm6"><div class="appFormGroup appFormGroup--condensed"><label class="appLabel--primary appLabel--boxAlign" translate="INSTANT_RMA_LABEL_PHONE_NUMBER"></label><input class="input--full" type="text" ng-model="instantRmaCtrl.phoneNumber"'+n("required",!0,!0,!0)+'></div></div></div><div class="appRow verticalRhythmTop--condensed" ng-if="instantRmaCtrl.model"><div class="col--sm12"><div class="appFormGroup appFormGroup--condensed"><div class="appInputGroup"><input id="saveAsDefault" type="checkbox" ng-model="instantRmaCtrl.saveAsDefault"><label for="saveAsDefault" translate="INSTANT_RMA_LABEL_OVERRIDE_SETTINGS"></label></div></div></div></div></fieldset><div class="flexRow flexRow--alignCenter verticalRhythmTop--condensed"><div class="flexCol--12 alignRight"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" ng-click="instantRmaCtrl.close()">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" type="submit" ng-click="instantRmaCtrl.showValidation = true" busy-toggle="instantRmaCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SUBMIT\' | translate}}</button></div></div></ng-form></form></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1256:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntModal ubntModal--large ispThroughput"><div class="ubntModal__header pb-0"><div class="ubntHeader ubntHeader--centered"><div class="ubntHeader__title"><div class="ubntIconText ubntIconText--withTextRight ubntIconText--currentColor ubntIconText--largerText ubntIconText--largeIcon justify-center"><aura-icon aura-icon="\'dashboard\'" aura-icon-class="[\'ubntIconText__icon\', \'ubntIconText--largeIcon\']"></aura-icon><div class="ubntIconText__text" translate="ISP_MODAL_THROUGHPUT"></div></div></div><div class="ubntHeader__actions"><div class="ubntIconGroup"><aura-icon aura-icon="::\'close\'" aura-icon-class="::[\'ubntIcon\', \'ubntIcon--actionable\']" frame-close="ispThroughput"></aura-icon></div></div></div></div><div class="ubntModal__main"><div class="ubntModalContent"><div class="container container--horizontal-comfy container--flush"><div class="row"><div class="col-12"><div class="ubntTabs ubntTabs--wrapped ubntTabs--centered ubnt-mod-cozy"><div class="ubntTabs__item" ng-repeat="tab in ::ispThroughputCtrl.tabs" ng-class="{\'is-tab-selected\': tab.isSelected()}" ng-click="tab.onSelect(); ispThroughputCtrl.updateTimeRange();"><a translate="{{::tab.translationKey}}"></a></div></div></div></div><div class="row"><div class="col-12"><div class="moduleHeader ubntHeader mt-4"><div class="ubntHeader__title" translate="ISP_MODAL_SUMMARY_HEADER"></div></div></div></div><div class="row pl-2 pr-2"><div class="col-4"><div class="ubntHeader mb-1"><div class="ubntHeader__title"><div class="ubntIconText ubntIconText--withTextRight ubntIconText--currentColor ubntIconText--regularText"><div class="ubntIconText__icon icon ubnt-icon--arrow-up-4 unifiIspDownload"></div><div class="ubntIconText__text" translate="ISP_MODAL_UPLOAD_LABEL"></div></div></div></div><span class="type-700 type-largest type-right mr-1">{{ispThroughputCtrl.parsedUpload.value || \'?\'}}</span><span>{{ispThroughputCtrl.parsedUpload.prefix}}</span><span translate="COMMON_UNIT_BPS"></span></div><div class="col-4"><div class="ubntHeader mb-1"><div class="ubntHeader__title"><div class="ubntIconText ubntIconText--withTextRight ubntIconText--currentColor ubntIconText--regularText"><div class="ubntIconText__icon icon ubnt-icon--arrow-down-4 unifiIspUpload"></div><div class="ubntIconText__text" translate="ISP_MODAL_DOWNLOAD_LABEL"></div></div></div></div><span class="type-700 type-largest type-right mr-1">{{ispThroughputCtrl.parsedDownload.value || \'?\'}}</span><span>{{ispThroughputCtrl.parsedDownload.prefix}}</span><span translate="COMMON_UNIT_BPS"></span></div><div class="col-4"><div class="ubntHeader mb-1"><div class="ubntHeader__title"><div class="ubntIconText ubntIconText--currentColor ubntIconText--regularText"><div class="ubntIconText__text" translate="ISP_MODAL_LATENCY_LABEL"></div></div></div></div><span class="type-700 type-largest type-right mr-1">{{ispThroughputCtrl.latency || \'?\'}}</span><span translate="COMMON_LATENCY_UNIT"></span></div></div><div class="row"><div class="col-12"><div class="moduleHeader ubntHeader mt-4"><div class="ubntHeader__title" translate="ISP_MODAL_THROUGHPUT_HEADER"></div></div></div></div><div class="row"><div class="col-12"><svg height="0" width="0" style="display: inherit;"><defs><linearGradient id="ispThroughputGradient__upload" x1="0" y1="0" x2="0" y2="100%" patternUnits="userSpaceOnUse"><stop offset="0%" stop-color="#006fff" stop-opacity="0.5"></stop><stop offset="100%" stop-color="#ffffff" stop-opacity="0.1"></stop></linearGradient></defs></svg><svg height="0" width="0" style="display: inherit;"><defs><linearGradient id="ispThroughputGradient__download" x1="0" y1="0" x2="0" y2="100%" patternUnits="userSpaceOnUse"><stop offset="0%" stop-color="#ffffff" stop-opacity="0.1"></stop><stop offset="100%" stop-color="#9013fe" stop-opacity="0.5"></stop></linearGradient></defs></svg><unifi-line-chart class="ispThroughputChart" unifi-line-chart-config="ispThroughputCtrl.throughputChartConfig" unifi-line-chart-data="ispThroughputCtrl.data"></unifi-line-chart></div></div><div class="row"><div class="col-12"><div class="moduleHeader ubntHeader mt-4"><div class="ubntHeader__title" translate="ISP_MODAL_LATENCY_HEADER"></div></div></div></div><div class="row"><div class="col-12"><unifi-line-chart class="ispThroughputChart ispThroughputChart__latency" unifi-line-chart-config="ispThroughputCtrl.latencyChartConfig" unifi-line-chart-data="ispThroughputCtrl.data"></unifi-line-chart></div></div><div class="row pt-3"><div class="col-6"><table class="ubntTable ubntTable--flush ubntTable--hoverable"><thead><tr><th translate="ISP_MODAL_NETWORK_SUMMARY"></th><th translate="ISP_MODAL_DOWN"></th><th translate="ISP_MODAL_UP"></th></tr></thead><tbody class="ubntTableBody"><tr ng-repeat="(port, portData) in ispThroughputCtrl.usgData track by $index"><td class="uppercase">{{port}}</td><td>{{portData.rx | bytes}}</td><td>{{portData.tx | bytes}}</td></tr></tbody></table></div><div class="col-6"><table class="ubntTable ubntTable--flush ubntTable--hoverable"><thead><tr><th translate="ISP_MODAL_TOP_PROCESS"></th><th translate="ISP_MODAL_DOWN"></th><th translate="ISP_MODAL_UP"></th></tr></thead><tbody class="ubntTableBody"><tr ng-repeat="model in ispThroughputCtrl.dpiItems track by $index"><td>{{model.getApplicationName()}}</td><td>{{model.get(\'rx_bytes\') | bytes}}</td><td>{{model.get(\'tx_bytes\') | bytes}}</td></tr></tbody></table></div></div></div></div></div></div>'}},{"pug-runtime":23}],1257:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="blackout unifiRadiusProfile"><div class="appControlModal" id="radiusProfileModal"><div class="appControlModal__close" frame-close="radiusProfile"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header"'+(i="translate",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' translate-values="{name: radiusProfileCtrl.model.attributes.name}">{{radiusProfileCtrl.model.id ? \'PROFILES_RADIUS_FORM_TITLE_EDIT_RADIUS_PROFILE\' : \'PROFILES_RADIUS_FORM_TITLE_CREATE_RADIUS_PROFILE\'}}</div><div class="appControlModal__content"><div unifi-radius-profile-form="radiusProfileCtrl.model" unifi-radius-profile-form-on-save="radiusProfileCtrl.onSaveOverride(model)" unifi-radius-profile-form-on-cancel="radiusProfileCtrl.close()" unifi-radius-profile-form-is-read-only="!radiusProfileCtrl.isAdmin()" unifi-radius-profile-form-is-dark="true" unifi-radius-profile-form-is-modal="true"></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1258:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="appGlobalSideNavPopover__close" ng-click="releaseNotesCtrl.closeReleaseNotes()"><div class="icon ubnt-icon--x"></div></div><div class="appGlobalSideNavPopover__header" translate="COMMON_NAV_RELEASE_NOTES"></div><div class="appReleaseNotes noPaddingTop"><div class="appScrollable appScrollable--centerPanel flexFlag__body"><div class="verticalRhythm--cozy verticalRhythmTop--cozy"><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" ng-class="{          \'is-form-validation-visible\': releaseNotesCtrl.showValidation,          \'is-validation-hidden\': !releaseNotesCtrl.showValidation        }" ng-submit="releaseNotesCtrl.form.$valid &amp;&amp; releaseNotesCtrl.send()"><ng-form name="releaseNotesCtrl.form"><div class="unifiReleaseNotesContainer"><div class="appRow"><div class="col--xs8"><label class="appLabel appLabel--primary" translate="RELEASE_NOTES_LABEL_SUGGESTIONS"></label></div><div class="col--xs4 alignRight">{{releaseNotesCtrl.text.length}} / {{releaseNotesCtrl.MAX_MESSAGE_LENGTH}}</div></div><div class="appRow"><div class="col--xs12 appFormGroup appFormGroup--cozy"><textarea class="textarea--full" name="text" ng-model="releaseNotesCtrl.text" ng-model-options="{allowInvalid: true}" ng-maxlength="releaseNotesCtrl.MAX_MESSAGE_LENGTH"'+n("autofocus",!0,!0,!0)+n("required",!0,!0,!0)+'></textarea><div class="appInputFeedback appInputFeedback--danger" ng-show="releaseNotesCtrl.form.text.$error.required" translate="VALIDATION_HINT_REQUIRED"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="releaseNotesCtrl.form.text.$error.maxlength">{{\'RELEASE_NOTES_ERROR_WRONG_LENGTH\' | translate : {maxLength: releaseNotesCtrl.MAX_MESSAGE_LENGTH} }}</div></div></div><div class="appRow"><div class="col--xs5 alignLeft appFormGroup appFormGroup--cozy"><input class="input--full" type="email" name="email" ng-model="releaseNotesCtrl.email" ng-pattern="releaseNotesCtrl.patterns.email" placeholder="{{\'RELEASE_NOTES_PLACEHOLDER_EMAIL\' | translate}}"'+n("required",!0,!0,!0)+'><div class="appInputFeedback appInputFeedback--danger" ng-show="releaseNotesCtrl.form.email.$error.required" translate="VALIDATION_HINT_REQUIRED"></div><div class="appInputFeedback appInputFeedback--danger" ng-show="releaseNotesCtrl.form.email.$error.email" translate="VALIDATION_HINT_EMAIL"></div></div><div class="col--xs6 col--xsOffset1 alignRight"><button class="appMainButton appMainButton--primary appMainButton--cozy" type="submit" ng-click="releaseNotesCtrl.showValidation = true" busy-toggle="releaseNotesCtrl.isSending" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'RELEASE_NOTES_BUTTON_SUBMIT\' | translate}}</button></div></div></div></ng-form><div class="unifiReleaseNotesContainer"><unifi-loading-status unifi-loading-status-is-loading="releaseNotesCtrl.isLoading" unifi-loading-status-failed="releaseNotesCtrl.failedToLoad" unifi-loading-status-is-dark="true" unifi-loading-status-is-opaque="true"></unifi-loading-status><div ng-if="releaseNotesCtrl.isAvailable" markdown-to-html="releaseNotesCtrl.md"></div><div class="appInfoBox appInfoBox--dark" ng-if="!releaseNotesCtrl.isAvailable"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="RELEASE_NOTES_UNAVAILABLE"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="RELEASE_NOTES_UNAVAILABLE_BODY"></p></div></div></div></div></form></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1259:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout"><div class="appControlModal appControlModal--small"><div class="appControlModal__header" translate="STATISTICS_REPORT_HEADER"></div><div class="appControlModal__content noPaddingTop"><div class="flexRow verticalRhythm--smash"><div class="flexCol--12"><p class="noMargin" translate="{{reportTermsOfServiceCtrl.isCustom ? \'STATISTICS_REPORT_SUB_HEADER_CUSTOM\' : \'STATISTICS_REPORT_SUB_HEADER_DEFAULT\'}}"></p></div></div></div><div class="appControlModal__content appControlModalScrollableContent noBorderTop" ng-if="!reportTermsOfServiceCtrl.isCustom"><div class="flexRow verticalRhythm--cozy appForm--dark"><div class="flexCol--1 width" style="width: 30px;"><span class="icon ubnt-icon--check-2 primary"></span></div><div class="flexCol--11"><label class="flexible" translate="{{!reportTermsOfServiceCtrl.shouldShowReportsApprovement() ? \'STATISTICS_REPORT_TOS_UPDATED_HEADER\' : \'STATISTICS_REPORT_ENABLE_ANALYTICS_HEADER\'}}"></label></div></div><div class="flexRow verticalRhythm--cozy appForm--dark"><div class="flexCol--1" style="width: 30px;"><span class="icon ubnt-icon--check-2 primary"></span></div><div class="flexCol--11"><label class="flexible" translate="STATISTICS_REPORT_ENABLE_CLOUD_ERROR_HEADER"></label></div></div><div class="flexRow"><div class="flexCol--12 verticalRhythm--smash"><p class="noMargin type--small" translate="STATISTICS_REPORT_ENABLE_ANALYTICS_DESCRIPTION" translate-values="{              \'linkTerms\': reportTermsOfServiceCtrl.URLS.LEGAL_TOS,              \'linkPrivacy\': reportTermsOfServiceCtrl.URLS.LEGAL_PP            }"></p></div></div></div><div class="appControlModal__content appControlModalScrollableContent noBorderTop noPaddingTop" ng-if="reportTermsOfServiceCtrl.isCustom"><div class="flexRow verticalRhythm--cozy appForm--dark" unifi-feature-flag-enable="enableReporterManager"><div class="flexCol--1 appForm--cozy" style="width: 30px;"><input type="checkbox" name="statisticsReportAcceptTos" id="statisticsReportAcceptTos" ng-model="reportTermsOfServiceCtrl.isAcceptTosChecked"></div><div class="flexCol--12"><label class="flexible" for="statisticsReportAcceptTos" translate="{{!reportTermsOfServiceCtrl.shouldShowReportsApprovement() ? \'STATISTICS_REPORT_TOS_UPDATED_HEADER\' : \'STATISTICS_REPORT_ENABLE_ANALYTICS_HEADER\'}}"></label></div></div><div class="flexRow verticalRhythm--cozy appForm--dark"><div class="flexCol--1 appForm--cozy" style="width: 30px;"><input type="checkbox" name="reportCloudError" id="reportCloudError" ng-model="reportTermsOfServiceCtrl.isReportCloudError"></div><div class="flexCol--12"><label class="flexible" for="reportCloudError" translate="STATISTICS_REPORT_ENABLE_CLOUD_ERROR_HEADER"></label></div></div><div class="flexRow verticalRhythm--smash"><div class="flexCol--12"><p class="noMargin type--small" translate="STATISTICS_REPORT_ENABLE_ANALYTICS_DESCRIPTION" translate-values="{              \'linkTerms\': reportTermsOfServiceCtrl.URLS.LEGAL_TOS,              \'linkPrivacy\': reportTermsOfServiceCtrl.URLS.LEGAL_PP            }"></p></div></div></div>\x3c!-- footer--\x3e<div class="appControlModal__content"><div class="flexRow flexRow--alignCenter" ng-if="!reportTermsOfServiceCtrl.isCustom"><div class="flexCol--6"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" ng-click="reportTermsOfServiceCtrl.isCustom = true">{{\'STATISTICS_REPORT_ACTIONS_CUSTOMIZE\' | translate}}</button></div></div><div class="flexCol--6 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--primary" type="button" ng-click="reportTermsOfServiceCtrl.approve()" busy-toggle="reportTermsOfServiceCtrl.isAcceptTosChecked &amp;&amp; reportTermsOfServiceCtrl.isSaving" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered centered\']">{{\'STATISTICS_REPORT_ACTIONS_CONTINUE\' | translate}}</button></div></div></div><div class="flexRow flexRow--alignCenter" ng-if="reportTermsOfServiceCtrl.isCustom"><div class="flexCol--12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--primary" type="button" ng-click="reportTermsOfServiceCtrl.approve()" busy-toggle="reportTermsOfServiceCtrl.isAcceptTosChecked &amp;&amp; reportTermsOfServiceCtrl.isSaving" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered centered\']">{{\'STATISTICS_REPORT_ACTIONS_CONTINUE\' | translate}}</button></div></div></div></div></div></div>'}},{"pug-runtime":23}],1260:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiSimpleTextEditor"><div class="appControlModal" id="simpleTextEditor"><div class="appControlModal__close" frame-close="simpleTextEditor"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header">{{simpleTextEditorCtrl.title}}</div><div class="appControlModal__content"><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="simpleTextEditorCtrl.form" ng-class="{          \'is-form-validation-visible\': simpleTextEditorCtrl.showValidation,          \'is-validation-hidden\': !simpleTextEditorCtrl.showValidation        }" ng-submit="simpleTextEditorCtrl.form.$valid &amp;&amp; simpleTextEditorCtrl.submit()"><div class="appContainer appContainer--centered appContainer--fixed"><div class="appRow"><div class="col--xs12"><p class="appType--dark appType--micro italicized" translate="SIMPLE_TEXT_EDITOR_MODAL_MESSAGE"></p></div></div><div class="appRow appRow--comfy"><div class="col--xs12"><textarea class="textarea--full unifiSimpleTextEditor__textarea" name="text" ng-model="simpleTextEditorCtrl.text"'+n("required",!0,!0,!0)+n("autofocus",!0,!0,!0)+'></textarea><div class="appInputFeedback appInputFeedback--danger" ng-show="simpleTextEditorCtrl.form.text.$error.required" translate="VALIDATION_HINT_REQUIRED"></div></div></div><div class="appRow"><div class="col--xs12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="simpleTextEditor">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="simpleTextEditorCtrl.showValidation = true" busy-toggle="simpleTextEditorCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']">{{\'COMMON_ACTIONS_SUBMIT\' | translate}}</button></div></div></div></div></form></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1261:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout unifiSitesOverview"><div class="appControlModal appControlModal--wide appControlModal--light" id="sitesOverviewModal" on-outside-element-click="sitesOverviewCtrl.reject()"><div class="flexRow"><div class="flexCol--6 unifiSitesOverview__titleCol"><div class="appControlModal__header" translate="SITES_OVERVIEW_MODAL_TITLE"></div></div><div class="flexCol--6 unifiSitesOverview__searchCol"><unifi-search unifi-search-on-change="sitesOverviewCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true" unifi-search-is-busy="sitesOverviewCtrl.isRefreshing"></unifi-search></div></div><a class="appControlModal__window" ng-click="sitesOverviewCtrl.openOverviewWindow()"><div class="icon ubnt-icon--popout"></div></a><div class="appControlModal__close" frame-close="sitesOverview"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__content appControlModalScrollableContent noHorizontalPadding"><unifi-loading-status unifi-loading-status-is-loading="sitesOverviewCtrl.isLoading" unifi-loading-status-failed="sitesOverviewCtrl.failedToLoad" unifi-loading-status-retry="sitesOverviewCtrl.init()" unifi-loading-status-is-opaque="true"></unifi-loading-status><unifi-site-overview-list ng-if="!sitesOverviewCtrl.isLoading &amp;&amp; !sitesOverviewCtrl.failedToLoad" unifi-site-overview-list-search-query="sitesOverviewCtrl.searchQuery" unifi-site-overview-list-is-refreshing="sitesOverviewCtrl.isRefreshing" unifi-site-overview-list-sort-key="\'sort:siteOverview\'"></unifi-site-overview-list></div></div></div>'}},{"pug-runtime":23}],1262:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="blackout unifiSpeedTestModal" ng-class="{\'unifiSpeedTestModal--inProgress\': speedTestCtrl.inProgress}"><div class="appControlModal appControlModal--tiny" id="speedTestModal"><div class="appControlModal__close" frame-close="speedTest"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header">&nbsp;</div><div class="appControlModal__content appControlModalScrollableContent noPadding unifiSpeedTestContainer--large"'+(i="unifi-speed-test-container",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' unifi-speed-test-container-in-progress="speedTestCtrl.inProgress" unifi-speed-test-container-is-dark="true" unifi-speed-test-container-ugw-limit="\'infoBox\'"></div><div class="appControlModal__content"><div class="appContainer"><div class="appRow"><div class="col--xs12 alignRight"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" frame-close="speedTest">{{ \'SPEED_TEST_TOOLTIP_ACTION_CLOSE\' | translate }}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-disabled="speedTestCtrl.inProgress" busy-toggle="speedTestCtrl.inProgress" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered appSpinner--small\']" ng-click="speedTestCtrl.startTest()">{{ \'SPEED_TEST_TOOLTIP_ACTION_RUN_SPEED_TEST\' | translate }}</button></div></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1263:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout unifiStatisticsDpiFilters"><div class="appControlModal" id="configureDpiCategoryGraphModal"><div class="appControlModal__header"> <div class="appRow"><div class="col--sm4">{{\'STATISTICS_DPI_EDIT_FILTERS_TITLE\' | translate}}</div><div class="col--sm8 alignRight appForm--cozy"><label class="capitalize appLabel--primary">{{\'STATISTICS_DPI_EDIT_FILTERS_TOGGLE\' | translate}}</label><div class="toggle appToggle appToggle--dark appToggle--inline" data-on="on" data-off="off"><input id="enableFilteringToggle" type="checkbox" ng-checked="statisticsDpiFiltersCtrl.isEnabled()" ng-click="statisticsDpiFiltersCtrl.toggleFiltering()"><label for="enableFilteringToggle"></label></div></div></div></div><div class="appControlModal__content appControlModalScrollableContent"><div class="appRow"><div class="col--xs12 col--sm6 appForm--cozy appForm--dark unifiStatisticsDpiFilters__pane"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone">{{\'STATISTICS_DPI_EDIT_FILTERS_DEVICES\' | translate}}</div><div class="appInputGroup appInputGroup--cram" ng-repeat="filter in statisticsDpiFiltersCtrl.allFilters | filter: {type: statisticsDpiFiltersCtrl.STATS_DEFAULTS.DPI.FILTER.DEVICE}"><input type="checkbox" ng-checked="statisticsDpiFiltersCtrl.dpiFilters.isSelected(filter)" ng-click="statisticsDpiFiltersCtrl.toggleFilter(filter)" ng-disabled="!statisticsDpiFiltersCtrl.isEnabled()"><label>{{filter.name}}</label></div></div><div class="col--xs12 col--sm6 appForm--cozy appForm--dark unifiStatisticsDpiFilters__pane"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone">{{\'STATISTICS_DPI_EDIT_FILTERS_SSIDS\' | translate}}</div><div class="appInputGroup appInputGroup--cram" ng-repeat="filter in statisticsDpiFiltersCtrl.allFilters | filter: {type: statisticsDpiFiltersCtrl.STATS_DEFAULTS.DPI.FILTER.SSID}"><input type="checkbox" ng-checked="statisticsDpiFiltersCtrl.dpiFilters.isSelected(filter)" ng-click="statisticsDpiFiltersCtrl.toggleFilter(filter)" ng-disabled="!statisticsDpiFiltersCtrl.isEnabled()"><label>{{filter.name}}</label></div></div></div></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--12 alignRight"><span><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" frame-close="statisticsDpiFilters" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--cozy appMainButton--primary" frame-close="statisticsDpiFilters" ng-click="statisticsDpiFiltersCtrl.saveAndResolve()" translate="COMMON_ACTIONS_SAVE"></button></span></div></div></div></div></div>'}},{"pug-runtime":23}],1264:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiSystemConfig"><div class="appControlModal appControlModal--wide appControlModal--light" id="systemConfigModal"><div class="appControlModal__close" frame-close="systemConfig"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__content noPaddingBottom"><ul class="appTabs appTabs--cozy"><li class="tabs__item" ng-click="systemConfigCtrl.activeTab = \'system\'" ng-class="{\'is-tab-selected\': systemConfigCtrl.activeTab === \'system\'}" translate="SETTINGS_MAINTENANCE_LABEL_SYSTEM_CONFIG"></li><li class="tabs__item" ng-click="systemConfigCtrl.activeTab = \'network\'" ng-class="{\'is-tab-selected\': systemConfigCtrl.activeTab === \'network\'}" translate="SETTINGS_MAINTENANCE_LABEL_NETWORK_CONFIG"></li></ul></div><div class="appControlModal__content appControlModalScrollableContent" id="systemConfig"><div class="unifiSystemConfigWrapper verticalRhythm--cozy" ng-show="systemConfigCtrl.activeTab === \'system\'"><div class="unifiSystemConfigSection"><table class="noMarginBottom"><tbody ng-if="systemConfigCtrl.isDisplaySiteOnLeft()"'+n("unifi-system-config-site",!0,!0,!0)+'></tbody><tbody><tr><td class="columnName">{{\'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_APS\' | translate}}</td><td class="columnValue"><div ng-repeat="(model, count) in systemConfigCtrl.deviceModels">{{model}} ({{count}})</div></td></tr></tbody></table></div><div class="unifiSystemConfigSection"><table class="noMarginBottom"><tbody ng-if="!systemConfigCtrl.isDisplaySiteOnLeft()"'+n("unifi-system-config-site",!0,!0,!0)+"></tbody><tbody><tr><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_NETWORKS' | translate}}</td><td class=\"columnValue\"><div ng-repeat=\"network in systemConfigCtrl.networks.repository.collection.models\">{{network.get('name')}}</div></td></tr><tr><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_WIRELESS_NETWORKS' | translate}}</td><td class=\"columnValue\"><div ng-repeat=\"network in systemConfigCtrl.wirelessNetworks.repository.collection.models\">{{network.get('name')}}</div></td></tr><tr ng-init=\"multicastBlockedNetworks = (systemConfigCtrl.wirelessNetworks.repository.collection.models | filter:{attributes:{ bc_filter_enabled: true}})\" ng-show=\"multicastBlockedNetworks.length &gt; 0\"><td class=\"columnName\">{{'SETTINGS_WLAN_LABEL_BC_FILTER_ENABLED' | translate}}</td><td class=\"columnValue\"><div ng-repeat=\"network in multicastBlockedNetworks\">{{network.get('name')}}</div></td></tr></tbody></table></div><div class=\"unifiSystemConfigSection\"><table class=\"noMarginBottom\"><tbody><tr><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_GUEST_CONTROL' | translate}}</td><td class=\"columnValue\">{{systemConfigCtrl.guestPortal.get('portal_enabled') | enabled}}</td></tr><tr><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_AUTHENTICATION' | translate}}</td><td class=\"columnValue\">{{systemConfigCtrl.guestPortal.get('auth')}}</td></tr><tr ng-if=\"systemConfigCtrl.guestPortal.get('auth') !== 'custom'\"><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_EXPIRATION' | translate}}</td><td class=\"columnValue\">{{systemConfigCtrl.guestPortal.get('expire') === 'custom' ? systemConfigCtrl.guestPortal.get('expire_number') * systemConfigCtrl.guestPortal.get('expire_unit') * 60 : systemConfigCtrl.guestPortal.get('expire') * 60 | seconds}}</td></tr><tr ng-if=\"systemConfigCtrl.guestPortal.get('auth') !== 'custom'\"><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_LANDING_PAGE' | translate}}</td><td class=\"columnValue\">{{systemConfigCtrl.guestPortal.get('redirect_enabled') ? 'promotional' : 'original'}}</td></tr><tr ng-if=\"systemConfigCtrl.guestPortal.get('auth') !== 'custom'\"><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_PORTAL_CUSTOMIZATION' | translate}}</td><td class=\"columnValue\">{{systemConfigCtrl.guestPortal.get('portal_customized') | enabled}}</td></tr><tr ng-if=\"systemConfigCtrl.guestPortal.get('auth') === 'custom'\"><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_CUSTOM_PORTAL' | translate}}</td><td class=\"columnValue\"><div ng-if=\"systemConfigCtrl.guestPortal.get('custom_ip')\">{{systemConfigCtrl.guestPortal.get('custom_ip')}}</div><div ng-if=\"systemConfigCtrl.guestPortal.get('custom_ipv6')\">{{systemConfigCtrl.guestPortal.get('custom_ipv6')}}</div></td></tr><tr ng-if=\"systemConfigCtrl.guestPortal.get('portal_hostname')\"><td class=\"columnName\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_PORTAL_URL_HOSTNAME' | translate}}</td><td class=\"columnValue\">{{systemConfigCtrl.guestPortal.get('portal_hostname')}}</td></tr></tbody></table></div></div><table class=\"unifiDevicesTable appTable appTable--light appTable--flexible appTable--striped appTable--condensed appTable--minor unifiSystemConfigTable\" ng-show=\"systemConfigCtrl.activeTab === 'system' &amp;&amp; systemConfigCtrl.devicesCollection.length\"><thead><tr><th rowspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_NAME_MAC_ADDRESS' | translate}}</th><th rowspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_MODEL' | translate}}</th><th rowspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_VERSION' | translate}}</th><th colspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_CHANNEL' | translate}}</th><th colspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_POWER' | translate}}</th><th colspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_CLIENTS' | translate}}</th><th rowspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_BAND_STEERING' | translate}}</th><th rowspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_ATF' | translate}}</th><th colspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_LOAD_BALANCING' | translate}}</th><th colspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_MIN_RSSI' | translate}}</th><th rowspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_UPLINK_STATE' | translate}}</th><th rowspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_IP_ADDRESS' | translate}}</th><th rowspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_UPTIME' | translate}}</th><th rowspan=\"2\">{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_UPLINK' | translate}}</th></tr><tr><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_2G' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_5G' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_2G' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_5G' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_2G' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_5G' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_2G' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_5G' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_2G' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_5G' | translate}}</th></tr></thead><tbody><tr ng-repeat=\"model in systemConfigCtrl.devicesCollection\"><td>{{model.getDisplayName()}}</td><td>{{systemConfigCtrl.getDeviceModelName(model)}}</td><td>{{model.get('version')}}</td><td><unifi-device-channel-group unifi-device-channel-group-model=\"model\" unifi-device-channel-group-radio-type=\"'ng'\"></unifi-device-channel-group></td><td><unifi-device-channel-group unifi-device-channel-group-model=\"model\" unifi-device-channel-group-radio-type=\"'na'\"></unifi-device-channel-group></td><td>{{systemConfigCtrl.getTransmitPowerString(model, 'ng')}}\n{{systemConfigCtrl.getTransmitPowerMode(model, 'ng')}}</td><td>{{systemConfigCtrl.getTransmitPowerString(model, 'na')}}\n{{systemConfigCtrl.getTransmitPowerMode(model, 'na')}}</td><td>{{systemConfigCtrl.deviceRadioUtils.extractRadioStatsFieldValueByType(model, 'ng', 'num_sta')}}</td><td>{{systemConfigCtrl.deviceRadioUtils.extractRadioStatsFieldValueByType(model, 'na', 'num_sta')}}</td><td><span ng-if=\"!model.get('bandsteering_mode') || model.get('bandsteering_mode') === 'off'\" translate=\"SETTINGS_MAINTENANCE_SYSTEM_CONFIG_VALUES_BAND_STEERING_OFF\"></span><span ng-if=\"model.get('bandsteering_mode') === 'prefer_5g'\" translate=\"SETTINGS_MAINTENANCE_SYSTEM_CONFIG_VALUES_BAND_STEERING_PREFER_5G\"></span><span ng-if=\"model.get('bandsteering_mode') === 'equal'\" translate=\"SETTINGS_MAINTENANCE_SYSTEM_CONFIG_VALUES_BAND_STEERING_BALANCED\"></span></td><td ng-bind-html=\"systemConfigCtrl.isAtfEnabled(model) | enabledIcon\"></td><td>{{systemConfigCtrl.getLoadBalance(model, 'ng') || ''}}</td><td>{{systemConfigCtrl.getLoadBalance(model, 'na') || ''}}</td><td>{{systemConfigCtrl.getMinRssiString(model, 'ng')}}</td><td>{{systemConfigCtrl.getMinRssiString(model, 'na')}}</td><td><span ng-if=\"model.get('uplink')\">{{model.get('uplink').type}}, {{model.get('uplink') | duplex}}</span></td><td class=\"noWrap\">{{model.get('ip')}}</td><td>{{model.get('uptime') | seconds}}</td><td>{{systemConfigCtrl.getUplinkDisplayName(model)}}</td></tr></tbody></table><table class=\"unifiNetworksTable appTable appTable--light appTable--flexible appTable--striped appTable--condensed appTable--minor unifiSystemConfigTable\" ng-show=\"systemConfigCtrl.activeTab === 'network' &amp;&amp; systemConfigCtrl.networks.repository.collection.models.length\"><thead><tr><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_NAME' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_PURPOSE' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_SUBNET' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_DHCP_SERVER' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_DHCP_RANGE' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_DHCP_NAME_SERVER' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_DHCP_WINS_SERVER' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_DHCP_LEASE_TIME' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_IGMP_SNOOPING' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_IPV6_SUBNET' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_DHCPV6_SERVER' | translate}}</th><th>{{'SETTINGS_MAINTENANCE_SYSTEM_CONFIG_LABEL_DHCPV6_RANGE' | translate}}</th></tr></thead><tbody><tr ng-repeat=\"model in systemConfigCtrl.networks.repository.collection.models\"><td>{{model | networkVlan}}</td><td>{{model.get('purpose') | networkPurpose}}</td><td>{{model | networkSubnet:'ipv4'}}</td><td class=\"alignCenter\" ng-bind-html=\"model.get('dhcpd_enabled') | enabledIcon\"></td><td>{{model.get('dhcpd_enabled') ? model.get('dhcpd_start') + ' - ' + model.get('dhcpd_stop') : ''}}</td><td>{{model.get('dhcpd_dns_1') && model.get('dhcpd_dns_enabled') ? model.get('dhcpd_dns_1') : ''}}{{model.get('dhcpd_dns_2') && model.get('dhcpd_dns_enabled') ? ', ' + model.get('dhcpd_dns_2') : ''}}</td><td>{{model.get('dhcpd_wins_1') && model.get('dhcpd_wins_enabled') ? model.get('dhcpd_wins_1') : ''}}{{model.get('dhcpd_wins_2') && model.get('dhcpd_wins_enabled') ? ', ' + model.get('dhcpd_wins_2') : ''}}</td><td>{{model.get('dhcpd_enabled') && model.get('dhcpd_leasetime') ? model.get('dhcpd_leasetime') : ''}}</td><td class=\"alignCenter\" ng-bind-html=\"model.get('igmp_snooping') | enabledIcon\"></td><td>{{model | networkSubnet:'ipv6'}}</td><td class=\"alignCenter\" ng-bind-html=\"model.get('dhcpdv6_enabled') | enabledIcon\"></td><td>{{model.get('dhcpdv6_enabled') ? model.get('dhcpdv6_start') + ' - ' + model.get('dhcpdv6_stop') : ''}}</td></tr></tbody></table></div><div class=\"appControlModal__content\"><div class=\"appContainer appContainer--centered appContainer--comfy\"><div class=\"appRow\"><div class=\"col--xs12 alignRight\"><div class=\"appInputGroup\"><button class=\"appMainButton appMainButton--cozy appMainButton--transparent\" type=\"button\" frame-close=\"systemConfig\">{{'COMMON_ACTIONS_CLOSE' | translate}}</button><button class=\"appMainButton appMainButton--cozy appMainButton--primary\" unifi-screenshot-download=\"systemConfigCtrl.activeTab\" unifi-screenshot-download-element-id=\"systemConfig\" unifi-screenshot-download-toggle-class=\"appControlModalScrollableContent--noMaxHeight\">{{'SETTINGS_MAINTENANCE_ACTIONS_DOWNLOAD' | translate}}</button></div></div></div></div></div></div></div>"};var o=/["&<>]/},{"pug-runtime":23}],1265:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout"><div class="appControlModal appControlModal--tiny" id="updateDataRetentionDaysModal"><div class="appControlModal__close" ng-click="updateDataRetentionDaysCtrl.reject()"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header">{{\'SETTINGS_MAINTENANCE_HISTORICAL_DATA_RETENTION_UPDATE_TITLE\' | translate}}</div><div class="appControlModal__content"><p class="verticalRhythm--cozy">{{\'SETTINGS_MAINTENANCE_HISTORICAL_DATA_RETENTION_UPDATE_MESSAGE\' | translate}}</p><div class="appForm appForm--cozy appForm--dark" ng-init="updateDataRetentionDaysCtrl.attributes = {}"><div class="appRow"><div class="col--sm6"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_MAINTENANCE_LABEL_TIME_SERIES_DATA_RETENTION_5_MINUTES"></label></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><select name="fiveMinutesDataRetentionDays" id="fiveMinutesDataRetentionDays" ng-model="updateDataRetentionDaysCtrl.attributes.data_retention_time_in_hours_for_5minutes_scale" ng-init="updateDataRetentionDaysCtrl.attributes.data_retention_time_in_hours_for_5minutes_scale = 24" ng-options="dayOption.hours as dayOption.translationKey | translate:dayOption.translationParams:\'messageformat\' for dayOption in updateDataRetentionDaysCtrl.dataRetentionOptions.fiveMinutes"></select></div></div></div></div><div class="appRow"><div class="col--sm6"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_MAINTENANCE_LABEL_TIME_SERIES_DATA_RETENTION_HOURLY"></label></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><select name="hourlyDataRetentionDays" id="hourlyDataRetentionDays" ng-model="updateDataRetentionDaysCtrl.attributes.data_retention_time_in_hours_for_hourly_scale" ng-init="updateDataRetentionDaysCtrl.attributes.data_retention_time_in_hours_for_hourly_scale = 24" ng-options="dayOption.hours as dayOption.translationKey | translate:dayOption.translationParams:\'messageformat\' for dayOption in updateDataRetentionDaysCtrl.dataRetentionOptions.hourly"></select></div></div></div></div><div class="appRow"><div class="col--sm6"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_MAINTENANCE_LABEL_TIME_SERIES_DATA_RETENTION_DAILY"></label></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><select name="dailyDataRetentionDays" id="dailyDataRetentionDays" ng-model="updateDataRetentionDaysCtrl.attributes.data_retention_time_in_hours_for_daily_scale" ng-init="updateDataRetentionDaysCtrl.attributes.data_retention_time_in_hours_for_daily_scale = 24 * 31" ng-options="dayOption.hours as dayOption.translationKey | translate:dayOption.translationParams:\'messageformat\' for dayOption in updateDataRetentionDaysCtrl.dataRetentionOptions.daily"></select></div></div></div></div><div class="appRow"><div class="col--sm6"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_MAINTENANCE_LABEL_TIME_SERIES_DATA_RETENTION_MONTHLY"></label></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><select name="monthlyDataRetentionDays" id="monthlyDataRetentionDays" ng-model="updateDataRetentionDaysCtrl.attributes.data_retention_time_in_hours_for_monthly_scale" ng-init="updateDataRetentionDaysCtrl.attributes.data_retention_time_in_hours_for_monthly_scale = 24 * 31" ng-options="dayOption.hours as dayOption.translationKey | translate:dayOption.translationParams:\'messageformat\' for dayOption in updateDataRetentionDaysCtrl.dataRetentionOptions.monthly"></select></div></div></div></div><div class="appRow"><div class="col--sm6"><label class="appLabel--primary appLabel--boxAlign" translate="SETTINGS_MAINTENANCE_LABEL_NON_TIME_SERIES_DATA_RETENTION"></label></div><div class="col--sm6 appFormGroup appFormGroup--cozy"><div class="appInputGroup"><div class="appInputGroup inlineBlock"><select name="othersDataRetentionDays" id="othersDataRetentionDays" ng-model="updateDataRetentionDaysCtrl.attributes.data_retention_time_in_hours_for_others" ng-init="updateDataRetentionDaysCtrl.attributes.data_retention_time_in_hours_for_others = 24 * 7" ng-options="dayOption.hours as dayOption.translationKey | translate:dayOption.translationParams:\'messageformat\' for dayOption in updateDataRetentionDaysCtrl.dataRetentionOptions.others"></select></div></div></div></div></div></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" ng-click="updateDataRetentionDaysCtrl.reject()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="updateDataRetentionDaysCtrl.resolve(updateDataRetentionDaysCtrl.attributes)" translate="COMMON_ACTIONS_APPLY"></button></div></div></div></div></div></div>'}},{"pug-runtime":23}],1266:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout"><div class="appControlModal appControlModal--tiny" id="webrtcFailedModal"><div class="appControlModal__header">{{ webrtcErrorCtrl.message | translate }}</div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--12 alignRight"><span class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="webrtcErrorCtrl.gotoDashboard()">{{ \'WEBRTC_ERROR_TOOLTIP_ACTIONS_GOTO_DASHBOARD\' | translate }}</button></span></div></div></div></div></div>'}},{"pug-runtime":23}],1267:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout"><div class="appControlModal appControlModal--tiny" id="webrtcFailedModal"><div class="appControlModal__header" translate="WEBRTC_FAILED_TOOLTIP_TITLE"></div><div class="appControlModal__content" translate="WEBRTC_FAILED_TOOLTIP_CONTENT"></div><div class="appControlModal__content"><div class="appInputGroup"><a class="appMainButton appMainButton--cozy appMainButton--tertiary" download="report-browser.json" ng-href="{{webrtcFailedCtrl.reportBrowserUrl}}" ng-if="webrtcFailedCtrl.reportBrowserUrl">{{ \'WEBRTC_FAILED_TOOLTIP_ACTIONS_GET_REPORT_BROWSER\' | translate }}</a></div><div class="appInputGroup"><a class="appMainButton appMainButton--cozy appMainButton--tertiary" download="report-controller.zip.b64" ng-href="{{webrtcFailedCtrl.reportControllerUrl}}" ng-if="webrtcFailedCtrl.reportControllerUrl">{{ \'WEBRTC_FAILED_TOOLTIP_ACTIONS_GET_REPORT_CONTROLLER\' | translate }}</a></div></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--6"><span class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" ng-click="webrtcFailedCtrl.gotoDashboard()">{{ \'WEBRTC_FAILED_TOOLTIP_ACTIONS_GOTO_DASHBOARD\' | translate }}</button></span></div><div class="flexCol--6 alignRight"><span class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--secondary" ng-if="!webrtcFailedCtrl.isReportGenerated()" busy-toggle="webrtcFailedCtrl.isGeneratingReport" busy-toggle-spinner-classes="[\'appSpinner appSpinner--dark appSpinner--centered appSpinner--small\']" ng-click="webrtcFailedCtrl.getReport($event)">{{ \'WEBRTC_FAILED_TOOLTIP_ACTIONS_GENERATE_REPORT\' | translate }}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" ng-click="webrtcFailedCtrl.retry()">{{ \'COMMON_ACTIONS_RETRY\' | translate }}</button></span></div></div></div></div></div>'}},{"pug-runtime":23}],1268:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout"><div class="appControlModal appControlModal--small"><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="wirelessNetworkMacFilterAddBatchCtrl.form" ng-class="{        \'is-form-validation-visible\': wirelessNetworkMacFilterAddBatchCtrl.showValidation,        \'is-validation-hidden\': !wirelessNetworkMacFilterAddBatchCtrl.showValidation      }" ng-submit="wirelessNetworkMacFilterAddBatchCtrl.form.$valid &amp;&amp; wirelessNetworkMacFilterAddBatchCtrl.onSave()"><div class="appControlModal__close" frame-close="wirelessNetworkMacFilterAddBatch"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="SETTINGS_WLAN_EDIT_MAC_FILTER_BATCH_HEADER"></div><div class="appControlModal__content appControlModalScrollableContent"><div class="appForm appForm--cozy appForm--dark verticalRhythmHalf unifiSettingsWirelessNetworkMacFilterHighlighted"'+n("unifi-highlighted-textarea",!0,!0,!0)+'><div class="highlighted highlighted--back"><div class="highlighted__line" ng-repeat="mac in wirelessNetworkMacFilterAddBatchCtrl.getShowedMacAddress() track by $index" ng-class="{\'highlighted__line--invalid\': !wirelessNetworkMacFilterAddBatchCtrl.isMacAddressValid(mac)}">&nbsp;</div></div><textarea class="textarea--full verticalRhythmHalf highlighted highlighted--textarea" name="wlanMacFilterList" ng-model="wirelessNetworkMacFilterAddBatchCtrl.macFilterList" ng-pattern="wirelessNetworkMacFilterAddBatchCtrl.patterns.macAddressList" ng-trim="false"'+n("required",!0,!0,!0)+'></textarea></div><div class="appFormGroup appFormGroup--cozy noMarginBottom"><div class="appInputGroup appInputGroup--cozy"><input type="checkbox" name="wlanMacFilterOverride" id="wlanMacFilterOverride" ng-model="wirelessNetworkMacFilterAddBatchCtrl.macFilterOverride"><label for="wlanMacFilterOverride" translate="SETTINGS_WLAN_VALUES_MAC_FILTER_OVERRIDE_LIST"></label></div></div><div class="appInfoBox appInfoBox--cozy verticalRhythmTop--cozy" ng-class="{\'appInfoBox--dark\': wirelessNetworkMacFilterAddBatchCtrl.preferences.model.get(\'isSettingsDark\')}"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_EDIT_MAC_FILTER_BATCH_INFO_EACH_IN_NEW_LINE"></p><p class="noMarginBottom" translate="SETTINGS_WLAN_EDIT_MAC_FILTER_BATCH_INFO_MAC_PATTERN" translate-values="{examples: \'04:18:D6:F0:11:22, 04-18-D6-F0-11-22\'}"></p></div></div></div></div><div class="appControlModal__content"><div class="appContainer"><div class="appRow"><div class="col--xs6 alignLeft"><button class="appMainButton appMainButton--cozy appMainButton--inputDark" type="button"'+n("ngf-select",!0,!0,!0)+' ngf-change="wirelessNetworkMacFilterAddBatchCtrl.onCsvImport($files)" accept="text/plain"><span class="button__icon icon ubnt-icon--plus"></span><span translate="COMMON_ACTIONS_IMPORT"></span></button></div><div class="col--xs6 alignRight"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="wirelessNetworkMacFilterAddBatch">{{ \'COMMON_ACTIONS_CLOSE\' | translate }}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" type="submit" ng-click="wirelessNetworkMacFilterAddBatchCtrl.showValidation = true">{{ \'COMMON_ACTIONS_APPLY\' | translate }}</button></div></div></div></div></form></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1269:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="blackout unifiSettingsWirelessNetworkMacFilterAddClients"><div class="appControlModal appControlModal--small"><form class="appForm appForm--cozy appForm--dark"'+(i="novalidate",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' autocomplete="off" name="wirelessNetworkMacFilterAddClientsCtrl.form" ng-class="{        \'is-form-validation-visible\': wirelessNetworkMacFilterAddClientsCtrl.showValidation,        \'is-validation-hidden\': !wirelessNetworkMacFilterAddClientsCtrl.showValidation      }" ng-submit="wirelessNetworkMacFilterAddClientsCtrl.form.$valid &amp;&amp; wirelessNetworkMacFilterAddClientsCtrl.onSave()"><div class="appControlModal__close" frame-close="wirelessNetworkMacFilterAddClients"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="SETTINGS_WLAN_EDIT_MAC_FILTER_CLIENTS_HEADER"></div><div class="appControlModal__content appControlModalScrollableContent"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--dark appActionBar--transparent verticalRhythmHalf noBorder noPaddingRight"><div class="appActionBar__inner"><div class="appActionBar__left"></div><div class="appActionBar__right"><div class="appInputGroup"><div class="appIconInput appIconInput--right appIconInput--comfy"><div class="appIconInput__icon icon ubnt-icon--search-2"></div><input class="appIconInput__input" ng-model="wirelessNetworkMacFilterAddClientsCtrl.macFilterSearch" ng-change="wirelessNetworkMacFilterAddClientsCtrl.onMacFilterSearchChange()" ng-keydown="wirelessNetworkMacFilterAddClientsCtrl.onMacFilterSearchBlockEnter($event)" type="text" placeholder="{{ \'DEBUG_PANEL_FILTER_BY_PLACEHOLDER\' | translate }}"></div></div></div></div></div><table class="appTable appTable--noWrap appTable--minor appTable--dark verticalRhythmHalf" ng-if="wirelessNetworkMacFilterAddClientsCtrl.getClientsCnt()" ng-class="{\'appTable--hoverable\': wirelessNetworkMacFilterAddClientsCtrl.getClientsCnt()}" unifi-condensed="appTable--condensed"><thead><tr><th class="wlanCheck"></th><th class="wlanMacAddress"><span translate="SETTINGS_WLAN_TABLE_FILTER_LIST_HEADER_MAC"></span></th><th class="wlanClientHostname"><span translate="SETTINGS_WLAN_TABLE_FILTER_LIST_HEADER_NAME"></span></th></tr></thead><tfoot ng-if="wirelessNetworkMacFilterAddClientsCtrl.getClientsCnt()"><tr><td colspan="3"><unifi-list-pagination class="noMarginBottom" unifi-list-pagination-current-page="wirelessNetworkMacFilterAddClientsCtrl.clientsCurrentPage" unifi-list-pagination-rows-per-page="wirelessNetworkMacFilterAddClientsCtrl.clientsRowsPerPage" unifi-list-pagination-total-rows="wirelessNetworkMacFilterAddClientsCtrl.getClientsCnt()" unifi-list-pagination-total-links="5" unifi-list-pagination-is-dark="true"></unifi-list-pagination></td></tr></tfoot><tbody><tr class="clickable" collection-view-repeat="client in wirelessNetworkMacFilterAddClientsCtrl.getClients(),                 startFrom (wirelessNetworkMacFilterAddClientsCtrl.clientsCurrentPage - 1) * wirelessNetworkMacFilterAddClientsCtrl.clientsRowsPerPage,                 limitTo wirelessNetworkMacFilterAddClientsCtrl.clientsRowsPerPage" data-id="{{::client.get(\'mac\')}}"><td class="wlanCheck"><input type="checkbox" id="macFilterClients[{{client.get(\'mac\')}}]" name="macFilterClients[{{client.get(\'mac\')}}]" value="{{client.get(\'mac\')}}" ng-model="wirelessNetworkMacFilterAddClientsCtrl.macFilterClients[client.get(\'mac\')]"></td><td class="wlanMacAddress"><label for="macFilterClients[{{client.get(\'mac\')}}]">{{::client.get(\'mac\')}}</label></td><td class="wlanClientHostname">{{::client.get(\'name\') || client.get(\'hostname\')}}</td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--dark appInfoBox--noBorder verticalRhythmTopHalf" ng-if="!wirelessNetworkMacFilterAddClientsCtrl.getClientsCnt()"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="SETTINGS_WLAN_TABLE_FILTER_LIST_NO_CLIENTS"></p></div></div></div></div><div class="appControlModal__content"><div class="appContainer"><div class="appRow"><div class="col--xs6 alignLeft"></div><div class="col--xs6 alignRight"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark" type="button" frame-close="wirelessNetworkMacFilterAddClients">{{ \'COMMON_ACTIONS_CLOSE\' | translate }}</button><button class="appMainButton appMainButton--cozy appMainButton--primary" type="submit" ng-click="wirelessNetworkMacFilterAddClientsCtrl.showValidation = true">{{ \'COMMON_ACTIONS_APPLY\' | translate }}</button></div></div></div></div></form></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1270:[function(t,e,i){t("pug-runtime");e.exports=function(t){return""}},{"pug-runtime":23}],1271:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+="<ui-view></ui-view><unifi-browser-warning></unifi-browser-warning>"}},{"pug-runtime":23}],1272:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-logs-list class="ubntMainPanel" unifi-logs-list-sort-key="\'sort:logs\'"></unifi-logs-list>'}},{"pug-runtime":23}],1273:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-dynamic-dns-stats-list class="ubntMainPanel" unifi-dynamic-dns-stats-list-sort-key="\'sort:dynamicdnsstats\'"></unifi-dynamic-dns-stats-list>'}},{"pug-runtime":23}],1274:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-known-client-list class="ubntMainPanel" unifi-known-client-list-sort-key="\'sort:knownclients\'"></unifi-known-client-list>'}},{"pug-runtime":23}],1275:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-neighboring-access-point-list class="ubntMainPanel" unifi-neighboring-access-point-list-sort-key="\'sort:neighboraps\'"></unifi-neighboring-access-point-list>'}},{"pug-runtime":23}],1276:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-past-connection-list class="ubntMainPanel" unifi-past-connection-list-sort-key="\'sort:pastconnections\'"></unifi-past-connection-list>'}},{"pug-runtime":23}],1277:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-past-guest-authorization-list class="ubntMainPanel" unifi-past-guest-authorization-list-sort-key="\'sort:pastguests\'"></unifi-past-guest-authorization-list>'}},{"pug-runtime":23}],1278:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-port-forward-stats-list class="ubntMainPanel" unifi-port-forward-stats-list-sort-key="\'sort:portforwardstats\'"></unifi-port-forward-stats-list>'}},{"pug-runtime":23}],1279:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-remote-user-vpn-list class="ubntMainPanel" unifi-remote-user-vpn-list-sort-key="\'sort:remoteuservpn\'"></unifi-remote-user-vpn-list>'}},{"pug-runtime":23}],1280:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-routing-stats-list class="ubntMainPanel"></unifi-routing-stats-list>'}},{"pug-runtime":23}],1281:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-streams-list class="ubntMainPanel" unifi-streams-list-sort-key="\'sort:streams\'"></unifi-streams-list>'}},{"pug-runtime":23}],1282:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-switch-stats-list class="ubntMainPanel" unifi-switch-stats-list-sort-key="\'sort:switchstats\'"></unifi-switch-stats-list>'}},{"pug-runtime":23}],1283:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><unifi-ips-toolbar></unifi-ips-toolbar><div class="ubntMainPanel ubntMainPanel--feature"><div class="ubntPanelContent ubntPanelContent--scrollable"><table class="ubntTable ubntTable--hoverable" collection-view-sort="ipsListCtrl.view"><thead><tr><th class="type" collection-view-sort-by="type"><span translate="IPS_TRAFFIC_LOG_TYPE_HEADER"></span></th><th class="severity" collection-view-sort-by="severity"><span translate="IPS_TRAFFIC_LOG_SEVERITY_HEADER"></span></th><th class="country" collection-view-sort-by="country"><span translate="IPS_TRAFFIC_LOG_COUNTRY_HEADER"></span></th><th class="source" collection-view-sort-by="srcIp"><span translate="IPS_TRAFFIC_LOG_SOURCE_HEADER"></span></th><th class="destination" collection-view-sort-by="dstIp"><span translate="IPS_TRAFFIC_LOG_DESTINATION_HEADER"></span></th><th class="date" collection-view-sort-by="time"><span translate="IPS_TRAFFIC_LOG_LAST_RECORDED_HEADER"></span></th></tr></thead><tfoot ng-if="ipsListCtrl.view.getModels().length"><tr><td class="ubntForm ubnt-mod-cozy pt-7" colspan="7"><unifi-aura-pagination unifi-aura-pagination-current-page="ipsListCtrl.currentPage" unifi-aura-pagination-rows-per-page="ipsListCtrl.rowsPerPage" unifi-aura-pagination-total-rows="ipsListCtrl.view.getModels().length" unifi-aura-pagination-data-type="ipsListCtrl.getPaginationDataType()"></unifi-aura-pagination></td></tr></tfoot><tbody class="ubntTableBody"><tr class="clickable" ng-repeat="              entry in ipsListCtrl.view.getEntries()              | limitTo:(ipsListCtrl.rowsPerPage):((ipsListCtrl.currentPage - 1) * ipsListCtrl.rowsPerPage)              track by entry.model.id            " ng-init="model = entry.model" data-id="{{:: model.id}}" ng-click="ipsListCtrl.openDetails(model)"><td class="type"><span>{{model.getAlertCategory()}}</span></td><td class="severity"><span unifi-ips-alert-severity="model.getSeverity()" unifi-ips-alert-severity-with-level="true"></span></td><td class="country"><span unifi-country-flag="ipsListCtrl.getCountryCode(model)" unifi-country-flag-with-name="true"></span></td><td class="source"><span><a class="appLink">{{ipsListCtrl.formatSource(model)}}</a></span></td><td class="destination"><span><a class="appLink">{{ipsListCtrl.formatDestination(model)}}</a></span></td><td class="date"><span>{{model.getTime() | moment: \'format\': \'datetime\': ipsListCtrl.dateUtils.getPreferredTimezone()}}</span></td></tr></tbody></table></div></div></div>'}},{"pug-runtime":23}],1284:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel unifiIpsOverview"><unifi-ips-toolbar></unifi-ips-toolbar><div class="ubntMainPanel ubntMainPanel--feature"><div class="ubntPanelContent ubntPanelContent--scrollable"><div class="fullWidth positionRelative mt-8"><unifi-ips-map></unifi-ips-map><unifi-ips-real-time-threats></unifi-ips-real-time-threats></div><div class="modulesDock px-0"><unifi-ips-top-threats-chart></unifi-ips-top-threats-chart><unifi-ips-top-geo-threats></unifi-ips-top-geo-threats><unifi-ips-top-type-threats></unifi-ips-top-type-threats></div><div class="unifiStatisticsContainer stack flexFlag__body"><div class="flexible flexFlag flexFlag--stretched"><unifi-ips-security-alerts-graph></unifi-ips-security-alerts-graph></div></div></div></div></div>'}},{"pug-runtime":23}],1285:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="ubntPanelContainer ubntPanelContainer--viewport ubntPanelContainer--horizontal" id="contentContainer"><aura-global-header></aura-global-header>\x3c!-- opacity fixes issues with header panel z-index--\x3e<div class="ubntMainPanel" style="opacity: 0.999;"><div class="ubntPanelContainer ubntPanelContainer--withSidePanel"><aura-global-side-nav class="ubntSidePanel ubntSidePanel--navigation"></aura-global-side-nav><div class="ubntMainPanel"><div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="ubntHeaderPanel ubntHeaderPanel--notifications">\x3c!-- Notifications should go here--\x3e</div><div class="ubntMainPanel"><div class="ubntPanelContainer ubntPanelContainer--withSidePanel is-property-panel-inline" ng-class="{                \'is-property-panel-open\': siteCtrl.isPropertyPanelOpen(),                \'is-property-panel-closed\': !siteCtrl.isPropertyPanelOpen(),                \'is-property-panel-available\': siteCtrl.isPropertyPanelAvailable()              }"><ui-view class="ubntMainPanel"></ui-view><unifi-property-panel'+n("unifi-requires-site-context",!0,!0,!0)+"></unifi-property-panel><unifi-window-panels"+n("unifi-requires-site-context",!0,!0,!0)+"></unifi-window-panels></div></div></div></div></div></div></div>"};var o=/["&<>]/},{"pug-runtime":23}],1286:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><unifi-map-action-bar></unifi-map-action-bar><unifi-physical-map class="flexFlag flexFlag__body flexFlag--stretched" ng-if="mapCtrl.selectedMap &amp;&amp; !mapCtrl.progress.getProgress(\'imageUploadProgress\').visible"></unifi-physical-map><div class="appInfoBox appInfoBox--centered appInfoBox--solid appInfoBox--narrow appInfoBox--noBorder" ng-if="mapCtrl.progress.getProgress(\'imageUploadProgress\').visible" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__content"><div class="appInfoBox__body"><unifi-progress unifi-progress-id="\'imageUploadProgress\'"></unifi-progress></div></div></div><div class="appInfoBox appInfoBox--centered" ng-if="!mapCtrl.selectedMap &amp;&amp; !mapCtrl.progress.getProgress(\'imageUploadProgress\').visible" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="NO_MAPS_DEFINED_TITLE"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="NO_MAPS_DEFINED_MESSAGE"></p></div></div></div></div>'}},{"pug-runtime":23}],1287:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="::topologyViewCtrl.MAP_DEFAULTS.STATES"></unifi-state-switcher></div><div class="appActionBarFilter"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter appMainButtonGroup--cozy"><li class="button appMainButton appMainButton--cozy" ng-click="topologyViewCtrl.toggleLinkLabels()" ng-class="{\'is-button-selected\': topologyViewCtrl.settings.linkLabelsEnabled}" translate="TOPOLOGY_LINK_LABELS"></li><li class="button appMainButton appMainButton--cozy" ng-click="topologyViewCtrl.toggleClientsVisibility()" ng-class="{\'is-button-selected\': topologyViewCtrl.settings.clientsVisible}" translate="TOPOLOGY_SHOW_CLIENTS"></li><li class="button appMainButton appMainButton--cozy" ng-click="topologyViewCtrl.withLinkRxUsage = !topologyViewCtrl.withLinkRxUsage; topologyViewCtrl.withLinkTxUsage = false;" ng-class="{\'is-button-selected\': topologyViewCtrl.withLinkRxUsage}" translate="TOPOLOGY_SHOW_LINK_RX_USAGE"></li><li class="button appMainButton appMainButton--cozy" ng-click="topologyViewCtrl.withLinkTxUsage = !topologyViewCtrl.withLinkTxUsage; topologyViewCtrl.withLinkRxUsage = false;" ng-class="{\'is-button-selected\': topologyViewCtrl.withLinkTxUsage}" translate="TOPOLOGY_SHOW_LINK_TX_USAGE"></li></ul></div></div></div><div class="appActionBar__right"><div class="appActionBarFilters"><div class="appActionBarFilter"><button class="appMainButton appMainButton--primary appMainButton--cozy" ng-click="topologyViewCtrl.resetTopology()" translate="TOPOLOGY_RESET_VIEW"></button></div></div></div></div></div><unifi-topology-graph class="flexFlag__body fullWidth" ng-class="{      \'unifiTopologyGraph__withLinkLabels\': topologyViewCtrl.settings.linkLabelsEnabled,      \'unifiTopologyGraph__withLinkTxUsage\': topologyViewCtrl.withLinkTxUsage,      \'unifiTopologyGraph__withLinkRxUsage\': topologyViewCtrl.withLinkRxUsage    }" unifi-topology-graph-with-clients="topologyViewCtrl.settings.clientsVisible"></unifi-topology-graph></div>'}},{"pug-runtime":23}],1288:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="appContainer appContainer--comfy appContainer--fixed" id="scheduledUpgrades"><unifi-settings-sub-menu-services></unifi-settings-sub-menu-services><div class="appRow appRow--comfy"><div class="col--xs12"><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="scheduledUpgradesCtrl.form" ng-class="{          \'appForm--dark\': scheduledUpgradesCtrl.preferences.model.get(\'isSettingsDark\'),          \'is-form-validation-visible\': scheduledUpgradesCtrl.showValidation,          \'is-validation-hidden\': !scheduledUpgradesCtrl.showValidation        }" ng-submit="scheduledUpgradesCtrl.form.$valid &amp;&amp; scheduledUpgradesCtrl.save()"><fieldset class="appFieldset appFieldset--quiet" ng-disabled="!scheduledUpgradesCtrl.isAdmin()"><div class="unifiSettingsSection noMarginTop"><div ng-switch="scheduledUpgradesCtrl.view"><div ng-switch-when="form" unifi-scheduled-upgrade-form="scheduledUpgradesCtrl.model" unifi-scheduled-upgrade-form-on-save="scheduledUpgradesCtrl.list()" unifi-scheduled-upgrade-form-on-cancel="scheduledUpgradesCtrl.list()" unifi-scheduled-upgrade-form-is-read-only="!scheduledUpgradesCtrl.isAdmin()"></div><div ng-switch-when="list"><unifi-scheduled-upgrades-list unifi-scheduled-upgrades-list-on-edit="scheduledUpgradesCtrl.edit(model)"></unifi-scheduled-upgrades-list><div'+n("unifi-if-role-admin",!0,!0,!0)+'><button class="appMainButton" ng-click="scheduledUpgradesCtrl.add()" ng-class="scheduledUpgradesCtrl.preferences.model.get(\'isSettingsDark\') ?                       \'appMainButton--inputDark\' :                       \'appMainButton--input\'                    "><span class="button__icon icon ubnt-icon--plus"></span><span translate="SETTINGS_SCHEDULED_UPGRADE_BUTTON_ADD"></span></button></div></div></div></div></fieldset></form></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1289:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-client-list class="ubntMainPanel" unifi-client-list-sort-key="\'sort:clients\'"></unifi-client-list>'}},{"pug-runtime":23}],1290:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntPanelContent" unifi-dashboard-container="dashboardCtrl.activeDashboard" unifi-dashboard-container-is-editing-modules="dashboardCtrl.isEditingModules" unifi-dashboard-container-is-editing-dashboards="dashboardCtrl.isEditingDashboards" unifi-dashboard-container-allow-multiple-dashboards="true"></div>'}},{"pug-runtime":23}],1291:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<unifi-device-list class="ubntMainPanel" unifi-device-list-sort-key="\'sort:devices\'"></unifi-device-list>'}},{"pug-runtime":23}],1292:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntPanelContainer ubntPanelContainer--withSidePanel unifiIps" style="min-height: calc(100vh - 45px); max-height: 100vh;"><unifi-ips-filter-panel></unifi-ips-filter-panel><div class="ubntMainPanel"><ui-view class="flexFlag flexFlag__body" style="align-items: stretch;"></ui-view></div></div>'}},{"pug-runtime":23}],1293:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<ui-view class="ubntMainPanel"></ui-view>'}},{"pug-runtime":23}],1294:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appView appView--panelLayout appView--aura" ng-class="settingsCtrl.preferences.model.get(\'isSettingsDark\') ? \'appView--dark\' : \'appView--light\'"><div class="appViewSidePanel appViewSidePanel--navigation visible--mdUp"><div class="appViewSidePanel__title" translate="COMMON_NAV_SETTINGS"></div><unifi-settings-nav unifi-settings-nav-is-dark="settingsCtrl.preferences.model.get(\'isSettingsDark\')" unifi-settings-nav-with-gradient="true" unifi-settings-nav-with-badges="true"></unifi-settings-nav></div><div class="appViewCenterPanel appScrollable"><ui-view></ui-view></div></div>'}},{"pug-runtime":23}],1295:[function(t,e,i){arguments[4][1293][0].apply(i,arguments)},{dup:1293,"pug-runtime":23}],1296:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+"<unifi-store-variants-list"+(i="unifi-if-store-enabled",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+"></unifi-store-variants-list>";var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1297:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="clientStatisticsCtrl.STATS_DEFAULTS.STATES"></unifi-state-switcher></div><div class="appActionBarFilter appActionBarFilter--noBorder" ng-if="clientStatisticsCtrl.client"><unifi-granularity-selector unifi-granularity-selector-init-value="clientStatisticsCtrl.granularity" unifi-granularity-selector-on-change="clientStatisticsCtrl.setGranularity"></unifi-granularity-selector></div><div class="appActionBarFilter" ng-if="clientStatisticsCtrl.client"><unifi-date-range-selector unifi-date-range-selector-start="clientStatisticsCtrl.start" unifi-date-range-selector-end="clientStatisticsCtrl.end" unifi-date-range-selector-on-change="clientStatisticsCtrl.updateState()" unifi-date-range-selector-position="bottomRight"></unifi-date-range-selector></div></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><div class="container container--comfy unifiStatisticsContainer unifiSmartMarginContainer" ng-if="clientStatisticsCtrl.statsUtils.isClientTimeSeriesEnabled() &amp;&amp; clientStatisticsCtrl.client"><div class="unifiVerticalLegend verticalRhythmTop verticalRhythm"><div class="unifiVerticalLegend__container"><div class="unifiVerticalLegend__item"><div class="unifiVerticalLegend__itemIcon"><div class="icon ubnt-icon--statistics unifiVerticalLegend__line--wide unifiDevice__legend--down bold"></div></div><div class="unifiVerticalLegend__itemDefinition">{{\'STATISTICS_DEVICE_RX\' | translate}}</div></div><div class="unifiVerticalLegend__item"><div class="unifiVerticalLegend__itemIcon"><div class="icon ubnt-icon--statistics unifiDevice__legend--up bold"></div></div><div class="unifiVerticalLegend__itemDefinition">{{\'STATISTICS_DEVICE_TX\' | translate}}</div></div></div></div><div class="stackCenter"><unifi-data-retention-warning class="verticalRhythmTop--cozy" unifi-data-retention-warning-start="clientStatisticsCtrl.start" unifi-data-retention-warning-granularity="clientStatisticsCtrl.granularity"></unifi-data-retention-warning></div><div class="appSubHeading appSubHeading--standalone"><div class="inlineBlock"><a class="inlineBlock verticalAlign--bottom" ng-if="clientStatisticsCtrl.client" unifi-open-panel="clientStatisticsCtrl.client" unifi-open-panel-active-tab="\'details\'"><div class="iconText appIconText"><span class="iconText__icon" unifi-client-icon="clientStatisticsCtrl.client"></span><span class="iconText__text">{{clientStatisticsCtrl.client.getDisplayName()}}</span></div></a></div></div><unifi-client-graph unifi-client-graph-client="clientStatisticsCtrl.client" unifi-client-graph-granularity="clientStatisticsCtrl.granularity" unifi-client-graph-start="clientStatisticsCtrl.start" unifi-client-graph-end="clientStatisticsCtrl.end" unifi-client-graph-type="clientStatisticsCtrl.REPORT_TYPES.CLIENT.BYTES" unifi-client-graph-mark-item="clientStatisticsCtrl.focusedTime"></unifi-client-graph><unifi-client-graph unifi-client-graph-client="clientStatisticsCtrl.client" unifi-client-graph-granularity="clientStatisticsCtrl.granularity" unifi-client-graph-start="clientStatisticsCtrl.start" unifi-client-graph-end="clientStatisticsCtrl.end" unifi-client-graph-type="clientStatisticsCtrl.REPORT_TYPES.CLIENT.PACKETS" unifi-client-graph-mark-item="clientStatisticsCtrl.focusedTime"></unifi-client-graph><unifi-client-graph unifi-client-graph-client="clientStatisticsCtrl.client" unifi-client-graph-granularity="clientStatisticsCtrl.granularity" unifi-client-graph-start="clientStatisticsCtrl.start" unifi-client-graph-end="clientStatisticsCtrl.end" unifi-client-graph-type="clientStatisticsCtrl.REPORT_TYPES.CLIENT.RETRIES" unifi-client-graph-mark-item="clientStatisticsCtrl.focusedTime"></unifi-client-graph><unifi-client-graph ng-if="!clientStatisticsCtrl.client.get(\'is_wired\')" unifi-client-graph-client="clientStatisticsCtrl.client" unifi-client-graph-granularity="clientStatisticsCtrl.granularity" unifi-client-graph-start="clientStatisticsCtrl.start" unifi-client-graph-end="clientStatisticsCtrl.end" unifi-client-graph-type="clientStatisticsCtrl.REPORT_TYPES.CLIENT.RATE" unifi-client-graph-mark-item="clientStatisticsCtrl.focusedTime"></unifi-client-graph><unifi-client-graph ng-if="!clientStatisticsCtrl.client.get(\'is_wired\')" unifi-client-graph-client="clientStatisticsCtrl.client" unifi-client-graph-granularity="clientStatisticsCtrl.granularity" unifi-client-graph-start="clientStatisticsCtrl.start" unifi-client-graph-end="clientStatisticsCtrl.end" unifi-client-graph-type="clientStatisticsCtrl.REPORT_TYPES.CLIENT.SIGNAL" unifi-client-graph-mark-item="clientStatisticsCtrl.focusedTime"></unifi-client-graph></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--centered appInfoBox--solid" ng-if="!clientStatisticsCtrl.statsUtils.isClientTimeSeriesEnabled()"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="STATISTICS_CLIENT_TIME_SERIES_NOT_ENABLED_TITLE"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="STATISTICS_CLIENT_TIME_SERIES_NOT_ENABLED_MESSAGE" translate-values="{state: \'manage.site.settings.maintenance\'}"'+(i="translate-compile",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'></p></div></div></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--centered appInfoBox--solid" ng-if="!clientStatisticsCtrl.client"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="STATISTICS_CLIENT_NOT_SELECTED_MESSAGE"></p></div></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1298:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--centerPanel appActionBar--transparent"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="statisticsDebuggingMetricsCtrl.STATS_DEFAULTS.STATES"></unifi-state-switcher></div><unifi-ui-list-filter-buttons unifi-ui-list-filter-buttons-config="statisticsDebuggingMetricsCtrl.filterGroups"></unifi-ui-list-filter-buttons></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><div class="unifiSmartMarginContainer unifiStatisticsContainer"><div class="appContainer appContainer--comfy verticalRhythmTop"><div class="appRow appRow--comfy"><div class="unifiStatisticsContainerWidget__small verticalRhythm"><unifi-top-items-widget unifi-top-items-widget-type="::statisticsDebuggingMetricsCtrl.TOP_ITEM_TYPES.MOST_ACTIVE" unifi-top-items-widget-radio-type="statisticsDebuggingMetricsCtrl.radioType" unifi-top-items-widget-traffic-type="statisticsDebuggingMetricsCtrl.trafficType" unifi-top-items-widget-limit="5"></unifi-top-items-widget></div><div class="unifiStatisticsContainerWidget__small verticalRhythm"><unifi-top-items-widget unifi-top-items-widget-type="::statisticsDebuggingMetricsCtrl.TOP_ITEM_TYPES.TOP_RETRIES" unifi-top-items-widget-radio-type="statisticsDebuggingMetricsCtrl.radioType" unifi-top-items-widget-traffic-type="statisticsDebuggingMetricsCtrl.trafficType" unifi-top-items-widget-limit="5"></unifi-top-items-widget></div><div class="unifiStatisticsContainerWidget__small verticalRhythm"><unifi-top-items-widget unifi-top-items-widget-type="::statisticsDebuggingMetricsCtrl.TOP_ITEM_TYPES.CHANNEL_UTIL" unifi-top-items-widget-radio-type="statisticsDebuggingMetricsCtrl.radioType" unifi-top-items-widget-traffic-type="statisticsDebuggingMetricsCtrl.trafficType" unifi-top-items-widget-limit="5"></unifi-top-items-widget></div><div class="unifiStatisticsContainerWidget__small verticalRhythm"><unifi-top-items-widget unifi-top-items-widget-type="::statisticsDebuggingMetricsCtrl.TOP_ITEM_TYPES.CLIENT_COUNT" unifi-top-items-widget-radio-type="statisticsDebuggingMetricsCtrl.radioType" unifi-top-items-widget-limit="5"></unifi-top-items-widget></div><div class="unifiStatisticsContainerWidget__small verticalRhythm"><unifi-top-items-widget unifi-top-items-widget-type="::statisticsDebuggingMetricsCtrl.TOP_ITEM_TYPES.INTERFERENCE" unifi-top-items-widget-radio-type="statisticsDebuggingMetricsCtrl.radioType" unifi-top-items-widget-limit="5"></unifi-top-items-widget></div><div class="unifiStatisticsContainerWidget__small verticalRhythm"><unifi-top-items-widget unifi-top-items-widget-type="::statisticsDebuggingMetricsCtrl.TOP_ITEM_TYPES.MOST_ACTIVE_CLIENTS" unifi-top-items-widget-radio-type="statisticsDebuggingMetricsCtrl.radioType" unifi-top-items-widget-traffic-type="statisticsDebuggingMetricsCtrl.trafficType" unifi-top-items-widget-connection-type="::statisticsDebuggingMetricsCtrl.TRAFFIC.CONNECTION.WIRELESS" unifi-top-items-widget-limit="5"></unifi-top-items-widget></div><div class="unifiStatisticsContainerWidget__small verticalRhythm"><unifi-top-items-widget unifi-top-items-widget-type="::statisticsDebuggingMetricsCtrl.TOP_ITEM_TYPES.LONGEST_CONNECTED_CLIENTS" unifi-top-items-widget-radio-type="statisticsDebuggingMetricsCtrl.radioType" unifi-top-items-widget-limit="5"></unifi-top-items-widget></div></div><hr><div class="appRow appRow--comfy verticalRhythmTop"><div class="unifiStatisticsContainerWidget__small verticalRhythm"><unifi-top-items-widget unifi-top-items-widget-type="::statisticsDebuggingMetricsCtrl.TOP_ITEM_TYPES.MEMORY_USAGE" unifi-top-items-widget-limit="5"></unifi-top-items-widget></div><div class="unifiStatisticsContainerWidget__small verticalRhythm"><unifi-top-items-widget unifi-top-items-widget-type="::statisticsDebuggingMetricsCtrl.TOP_ITEM_TYPES.CPU_USAGE" unifi-top-items-widget-limit="5"></unifi-top-items-widget></div></div></div></div></div></div></div>'}},{"pug-runtime":23}],1299:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="dpiCtrl.STATS_DEFAULTS.STATES"></unifi-state-switcher></div></div></div><div class="appActionBar__right"><button class="appMainButton appMainButton--primary appMainButton--cozy" ng-if="dpiCtrl.showCategoryStatistics()" ng-click="dpiCtrl.clearSelectedCategories()" translate="STATISTICS_DPI_CLEAR_CATEGORIES"></button><button class="appMainButton appMainButton--primary appMainButton--cozy" ng-if="dpiCtrl.showApplicationStatistics()" ng-click="dpiCtrl.clearSelectedApplications()" translate="STATISTICS_DPI_CLEAR_APPLICATIONS"></button></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><div class="unifiSmartMarginContainer unifiStatisticsContainer"><div class="appContainer"><unifi-dpi-category-statistics class="unifiSmartMarginContainer unifiStatisticsContainer unifiStatisticsDpi unifiStatisticsDpiCategory" ng-if="dpiCtrl.showCategoryStatistics()"></unifi-dpi-category-statistics><unifi-dpi-user-statistics class="unifiSmartMarginContainer unifiStatisticsContainer unifiStatisticsDpi" ng-if="dpiCtrl.showUserStatistics()"></unifi-dpi-user-statistics><unifi-dpi-application-statistics class="unifiSmartMarginContainer unifiStatisticsContainer unifiStatisticsDpi" ng-if="dpiCtrl.showApplicationStatistics()"></unifi-dpi-application-statistics></div></div></div></div></div>'}},{"pug-runtime":23}],1300:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><unifi-state-switcher class="appActionBarFilter" unifi-state-switcher-states="statisticsOverviewCtrl.STATS_DEFAULTS.STATES"></unifi-state-switcher></div></div><div class="appActionBar__right"'+(i="unifi-if-role-admin",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><button class="appMainButton appMainButton--primary appMainButton--cozy" ng-click="statisticsOverviewCtrl.clearCurrentStats()" busy-toggle="statisticsOverviewCtrl.isClearingStats" busy-toggle-spinner-classes="[\'appSpinner\', \'appSpinner--light\', \'appSpinner--centered\', \'appSpinner--small\']" translate="STATISTICS_CLEAR_CURRENT_STATS"></button></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><div class="container container--horizontal-comfy"><div class="row"><div class="col-md-down-12 col-4"><div class="container container--vertical-comfy container--flush"><div class="row"><unifi-stats-wireless-clients class="col-12" unifi-stats-wireless-clients-type="statisticsOverviewCtrl.STATS_DEFAULTS.WIRELESS_CLIENT_BREAKDOWN_TYPES.PER_ESSID"></unifi-stats-wireless-clients></div><div class="row"><unifi-stats-wireless-clients class="col-12" unifi-stats-wireless-clients-type="statisticsOverviewCtrl.STATS_DEFAULTS.WIRELESS_CLIENT_BREAKDOWN_TYPES.PER_RADIO"></unifi-stats-wireless-clients></div></div></div><div class="col-md-down-12 col-8"><div class="container container--vertical-comfy container--flush"><div class="row"><unifi-stats-current-usage class="col-12"></unifi-stats-current-usage></div><div class="row"><unifi-stats-quick-look class="col-12"></unifi-stats-quick-look></div></div></div></div><div class="row"><unifi-stats-recent-activities class="col-12"></unifi-stats-recent-activities></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1301:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="::performanceCtrl.STATS_DEFAULTS.STATES"></unifi-state-switcher></div><div class="appActionBarFilter"><unifi-select-device-dropdown-list class="unifiSelectDeviceDropdownList--wide" unifi-select-device-dropdown-list-selected-model="::performanceCtrl.device" unifi-select-device-dropdown-list-is-required="true" unifi-select-device-dropdown-list-device-filter="performanceCtrl.isDeviceAvailable(model)" unifi-select-device-dropdown-list-is-cozy="true" unifi-select-device-dropdown-list-on-select="performanceCtrl.changeDevice(model)" unifi-select-device-dropdown-list-no-clear="true"></unifi-select-device-dropdown-list></div><div class="appActionBarFilter appActionBarFilter--noBorder" ng-if="performanceCtrl.device"><unifi-granularity-selector unifi-granularity-selector-init-value="performanceCtrl.granularity" unifi-granularity-selector-on-change="performanceCtrl.setGranularity"></unifi-granularity-selector></div><div class="appActionBarFilter" ng-if="::performanceCtrl.device"><unifi-date-range-selector unifi-date-range-selector-start="performanceCtrl.start" unifi-date-range-selector-end="performanceCtrl.end" unifi-date-range-selector-on-change="performanceCtrl.updateState(start, end)" unifi-date-range-selector-with-list="true"></unifi-date-range-selector></div><unifi-ui-list-filter-buttons class="visibleAdjusted--lgUp" unifi-ui-list-filter-buttons-config="::performanceCtrl.apFilterGroups"></unifi-ui-list-filter-buttons><unifi-ui-list-filter-dropdown class="visibleAdjusted--mdDown" unifi-ui-list-filter-dropdown-config="::performanceCtrl.apFilterGroups" unifi-ui-list-filter-dropdown-is-hidden="::!performanceCtrl.isDeviceAP()"></unifi-ui-list-filter-dropdown><div class="appActionBarFilter" ng-if="::performanceCtrl.isDeviceAP()"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter appMainButtonGroup--cozy"><li class="button appMainButton appMainButton--cozy" ng-click="performanceCtrl.statsFeatures.setUseBps(true);" ng-class="{\'is-button-selected\': performanceCtrl.statsFeatures.useBps()}" translate="COMMON_UNIT_BPS"></li><li class="button appMainButton appMainButton--cozy" ng-click="performanceCtrl.statsFeatures.setUseBps(false);" ng-class="{\'is-button-selected\': !performanceCtrl.statsFeatures.useBps()}" translate="COMMON_UNIT_BYTES"></li></ul></div><div class="appActionBarFilter" ng-if="::performanceCtrl.isDeviceGateway()"><ul class="buttonGroup buttonGroup--shrink appMainButtonGroup appMainButtonGroup--filter appMainButtonGroup--cozy"><li class="button appMainButton appMainButton--cozy" ng-repeat="port in ::performanceCtrl.getUsgPorts() track by $index" ng-click="performanceCtrl.usgPort = port" ng-class="{\'is-button-selected\': performanceCtrl.usgPort === port}">{{::performanceCtrl.getUsgPortLabel(port)}}</li></ul></div></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><div class="appContainer appContainer--comfy unifiStatisticsContainer unifiSmartMarginContainer" ng-if="::performanceCtrl.device"><div class="unifiVerticalLegend verticalRhythmTop verticalRhythm"><div class="unifiVerticalLegend__container"><div class="unifiVerticalLegend__item"><div class="unifiVerticalLegend__itemIcon"><div class="unifiVerticalLegend__area unifiDevice__legend--cpu"></div></div><div class="unifiVerticalLegend__itemDefinition" translate="PERFORMANCE_CPU"></div></div><div class="unifiVerticalLegend__item"><div class="unifiVerticalLegend__itemIcon"><div class="icon ubnt-icon--statistics unifiVerticalLegend__line--wide unifiDevice__legend--memory bold"></div></div><div class="unifiVerticalLegend__itemDefinition" translate="PERFORMANCE_MEMORY"></div></div><div class="unifiVerticalLegend__item"><div class="unifiVerticalLegend__itemIcon"><div class="icon ubnt-icon--statistics unifiVerticalLegend__line--wide unifiDevice__legend--up bold"></div></div><div class="unifiVerticalLegend__itemDefinition" translate="STATISTICS_DEVICE_TX"></div></div><div class="unifiVerticalLegend__item"><div class="unifiVerticalLegend__itemIcon"><div class="icon ubnt-icon--statistics unifiDevice__legend--down bold"></div></div><div class="unifiVerticalLegend__itemDefinition" translate="STATISTICS_DEVICE_RX"></div></div></div></div><div class="stackCenter"><unifi-data-retention-warning class="verticalRhythmTop--cozy" unifi-data-retention-warning-start="performanceCtrl.start" unifi-data-retention-warning-granularity="performanceCtrl.granularity"></unifi-data-retention-warning></div><div class="appSubHeading appSubHeading--standalone"><div class="inlineBlock"><a unifi-open-panel="::performanceCtrl.device" unifi-open-panel-active-tab="\'details\'"><span class="noWrap" unifi-device-status="::performanceCtrl.device" unifi-device-status-is-cozy="true" unifi-device-status-with-icons="true" unifi-device-status-label="performanceCtrl.device.getDisplayName()"></span></a></div></div><unifi-device-graph unifi-device-graph-device="::performanceCtrl.device" unifi-device-graph-granularity="performanceCtrl.granularity" unifi-device-graph-start="performanceCtrl.start" unifi-device-graph-end="performanceCtrl.end" unifi-device-graph-type="::performanceCtrl.REPORT_TYPES.DEVICE.USERS" unifi-device-graph-radio="performanceCtrl.radio" unifi-device-graph-mark-item="performanceCtrl.focusedTime"></unifi-device-graph><unifi-device-graph unifi-device-graph-device="::performanceCtrl.device" unifi-device-graph-granularity="performanceCtrl.granularity" unifi-device-graph-start="performanceCtrl.start" unifi-device-graph-end="performanceCtrl.end" unifi-device-graph-type="::performanceCtrl.REPORT_TYPES.DEVICE.PERFORMANCE" unifi-device-graph-radio="performanceCtrl.radio" unifi-device-graph-mark-item="performanceCtrl.focusedTime"></unifi-device-graph><unifi-device-graph ng-if="::performanceCtrl.isApOrUsg()" unifi-device-graph-device="::performanceCtrl.device" unifi-device-graph-granularity="performanceCtrl.granularity" unifi-device-graph-start="performanceCtrl.start" unifi-device-graph-end="performanceCtrl.end" unifi-device-graph-type="::performanceCtrl.REPORT_TYPES.DEVICE.BYTES" unifi-device-graph-radio="performanceCtrl.radio" unifi-device-graph-usg-port="performanceCtrl.usgPort" unifi-device-graph-mark-item="performanceCtrl.focusedTime"></unifi-device-graph><unifi-device-graph ng-if="::performanceCtrl.isApOrUsg()" unifi-device-graph-device="::performanceCtrl.device" unifi-device-graph-granularity="performanceCtrl.granularity" unifi-device-graph-start="performanceCtrl.start" unifi-device-graph-end="performanceCtrl.end" unifi-device-graph-type="::performanceCtrl.REPORT_TYPES.DEVICE.PACKETS" unifi-device-graph-radio="performanceCtrl.radio" unifi-device-graph-usg-port="performanceCtrl.usgPort" unifi-device-graph-mark-item="performanceCtrl.focusedTime"></unifi-device-graph><unifi-device-graph ng-if="::performanceCtrl.isApOrUsg()" unifi-device-graph-device="::performanceCtrl.device" unifi-device-graph-granularity="performanceCtrl.granularity" unifi-device-graph-start="performanceCtrl.start" unifi-device-graph-end="performanceCtrl.end" unifi-device-graph-type="::performanceCtrl.REPORT_TYPES.DEVICE.DROPPED" unifi-device-graph-radio="performanceCtrl.radio" unifi-device-graph-usg-port="performanceCtrl.usgPort" unifi-device-graph-mark-item="performanceCtrl.focusedTime"></unifi-device-graph><unifi-device-graph ng-if="::performanceCtrl.isApOrUsg()" unifi-device-graph-device="::performanceCtrl.device" unifi-device-graph-granularity="performanceCtrl.granularity" unifi-device-graph-start="performanceCtrl.start" unifi-device-graph-end="performanceCtrl.end" unifi-device-graph-type="::performanceCtrl.REPORT_TYPES.DEVICE.ERRORS" unifi-device-graph-radio="performanceCtrl.radio" unifi-device-graph-usg-port="performanceCtrl.usgPort" unifi-device-graph-mark-item="performanceCtrl.focusedTime"></unifi-device-graph><unifi-device-graph ng-if="::performanceCtrl.isDeviceAP()" unifi-device-graph-device="::performanceCtrl.device" unifi-device-graph-granularity="performanceCtrl.granularity" unifi-device-graph-start="performanceCtrl.start" unifi-device-graph-end="performanceCtrl.end" unifi-device-graph-type="::performanceCtrl.REPORT_TYPES.DEVICE.RETRIES" unifi-device-graph-radio="performanceCtrl.radio" unifi-device-graph-mark-item="performanceCtrl.focusedTime"></unifi-device-graph><unifi-device-graph ng-if="::performanceCtrl.isDeviceAP()" unifi-device-graph-device="::performanceCtrl.device" unifi-device-graph-granularity="performanceCtrl.granularity" unifi-device-graph-start="performanceCtrl.start" unifi-device-graph-end="performanceCtrl.end" unifi-device-graph-type="::performanceCtrl.REPORT_TYPES.DEVICE.FRAGS" unifi-device-graph-radio="performanceCtrl.radio" unifi-device-graph-mark-item="performanceCtrl.focusedTime"></unifi-device-graph><unifi-device-graph ng-if="::performanceCtrl.isDeviceAP()" unifi-device-graph-device="::performanceCtrl.device" unifi-device-graph-granularity="performanceCtrl.granularity" unifi-device-graph-start="performanceCtrl.start" unifi-device-graph-end="performanceCtrl.end" unifi-device-graph-type="::performanceCtrl.REPORT_TYPES.DEVICE.CRYPTS" unifi-device-graph-radio="performanceCtrl.radio" unifi-device-graph-mark-item="performanceCtrl.focusedTime"></unifi-device-graph><unifi-device-graph ng-if="performanceCtrl.isDeviceAP() &amp;&amp; performanceCtrl.radio" unifi-device-graph-device="::performanceCtrl.device" unifi-device-graph-granularity="performanceCtrl.granularity" unifi-device-graph-start="performanceCtrl.start" unifi-device-graph-end="performanceCtrl.end" unifi-device-graph-type="::performanceCtrl.REPORT_TYPES.DEVICE.CHANNEL_UTILIZATION" unifi-device-graph-radio="performanceCtrl.radio" unifi-device-graph-mark-item="performanceCtrl.focusedTime"></unifi-device-graph></div><div class="appInfoBox appInfoBox--warning appInfoBox--cozy appInfoBox--centered appInfoBox--solid" ng-if="::!performanceCtrl.device"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="STATISTICS_NO_DEVICE_SELECTED"></p></div></div></div></div></div></div>'}},{"pug-runtime":23}],1302:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="statisticsSpeedTestCtrl.STATS_DEFAULTS.STATES"></unifi-state-switcher></div><div class="appActionBarFilter"><unifi-date-range-selector unifi-date-range-selector-start="statisticsSpeedTestCtrl.start" unifi-date-range-selector-end="statisticsSpeedTestCtrl.end" unifi-date-range-selector-on-change="statisticsSpeedTestCtrl.updateReports(start, end)" unifi-date-range-selector-position="bottomRight" unifi-date-range-selector-with-list="true"></unifi-date-range-selector></div></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><div class="unifiSmartMarginContainer"><div class="appContainer appContainer--comfy"><div class="appRow verticalRhythmTopHalf"><div class="col--sm12 col--md12 col--comfy"><unifi-speed-test-history></unifi-speed-test-history></div></div></div></div></div></div></div>'}},{"pug-runtime":23}],1303:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntPanelContainer ubntPanelContainer--withHeaderPanel"><div class="appActionBar appActionBar--cozy appActionBar--flexible appActionBar--transparent appActionBar--centerPanel"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><unifi-state-switcher unifi-state-switcher-states="statisticsSwitchCtrl.STATS_DEFAULTS.STATES"></unifi-state-switcher></div><div class="appActionBarFilter"><unifi-select-device-dropdown-list class="unifiSelectDeviceDropdownList--wide" unifi-select-device-dropdown-list-selected-model="statisticsSwitchCtrl.device" unifi-select-device-dropdown-list-is-required="true" unifi-select-device-dropdown-list-device-filter="statisticsSwitchCtrl.isDeviceAvailable(model)" unifi-select-device-dropdown-list-is-cozy="true" unifi-select-device-dropdown-list-on-select="statisticsSwitchCtrl.changeSwitch(model)" unifi-select-device-dropdown-list-no-clear="true"></unifi-select-device-dropdown-list></div><div class="appActionBarFilter appActionBarFilter--noBorder"><unifi-granularity-selector unifi-granularity-selector-init-value="statisticsSwitchCtrl.granularity" unifi-granularity-selector-on-change="statisticsSwitchCtrl.setGranularity"></unifi-granularity-selector></div><div class="appActionBarFilter" ng-if="statisticsSwitchCtrl.device"><unifi-date-range-selector unifi-date-range-selector-start="statisticsSwitchCtrl.start" unifi-date-range-selector-end="statisticsSwitchCtrl.end" unifi-date-range-selector-on-change="statisticsSwitchCtrl.updateReports(start, end)" unifi-date-range-selector-with-list="true"></unifi-date-range-selector></div><div class="appActionBarFilter appActionBarFilter--noBorder" ng-if="statisticsSwitchCtrl.device"><div class="appMainButton appMainButton--filter appMainButton--cozy appMainButton--withDropdown" ng-click="statisticsSwitchCtrl.toggleSortDropdown()" on-outside-element-click="statisticsSwitchCtrl.closeSortDropdown()">{{\'STATISTICS_ORDER_BY\' | translate}}: {{statisticsSwitchCtrl.order.translationKey | translate}}<span class="button__icon button__icon--right icon ubnt-icon--pointer-down"></span><ul class="appDropdown appDropdown--left appDropdown--inButton" ng-class="{\'is-dropdown-visible\': statisticsSwitchCtrl.isSortDropdownVisible}"><li class="appDropdown__item" ng-repeat="order in statisticsSwitchCtrl.sortOrders" ng-click="statisticsSwitchCtrl.order = order">{{order.translationKey | translate}}</li></ul></div></div><unifi-ui-list-filter-buttons class="visibleAdjusted--lgUp" unifi-ui-list-filter-buttons-config="statisticsSwitchCtrl.filterGroups"></unifi-ui-list-filter-buttons><unifi-ui-list-filter-dropdown class="visibleAdjusted--mdDown" unifi-ui-list-filter-dropdown-config="statisticsSwitchCtrl.filterGroups" unifi-ui-list-filter-dropdown-filter-by-all-label="{{\'TRAFFIC\' | translate}}"></unifi-ui-list-filter-dropdown></div></div></div></div><div class="ubntMainPanel"><div class="ubntPanelContent ubntPanelContent--scrollable"><div class="appContainer appContainer--comfy fullWidth unifiStatisticsContainer unifiStatisticsHeader" ng-if="statisticsSwitchCtrl.device &amp;&amp; statisticsSwitchCtrl.switchUtils.isAdoptedSwitch(statisticsSwitchCtrl.device)"><div class="appRow verticalRhythmTopHalf"><div class="col--sm12 col--md6 col--lg5 col--lgOffset1 col--xlg4 col--xlgOffset2 verticalRhythmHalf"><unifi-switch-diagram unifi-switch-diagram-model="statisticsSwitchCtrl.device" unifi-switch-diagram-model-is-disabled="false" unifi-switch-diagram-is-port-selected="statisticsSwitchCtrl.isPortSelected(model)" unifi-switch-diagram-toggle-port-selection="statisticsSwitchCtrl.togglePortSelection(model, isSelected)"></unifi-switch-diagram></div><div class="col--sm12 col--md6 col--lg4 col--xlg3 verticalRhythmTopQuarter"><div class="appSubHeading--standalone"><unifi-switch-diagram-keys unifi-switch-diagram-keys-model="::statisticsSwitchCtrl.device"></unifi-switch-diagram-keys></div><div class="verticalRhythmTopQuarter"><div class="unifiDiagramKeys"><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem"><div class="iconText appIconText inlineBlock"><span class="bold iconText__icon icon ubnt-icon--statistics unifiDownload"></span><span class="iconText__text">{{\'SWITCH_PORT_USAGE_RX\' | translate}}</span></div></div><div class="iconText appIconText inlineBlock"><span class="bold iconText__icon icon ubnt-icon--statistics unifiUpload"></span><span class="iconText__text">{{\'SWITCH_PORT_USAGE_TX\' | translate}}</span></div></div><div class="unifiDiagramKeysGroup"><div class="unifiDiagramKeysItem"><div class="appSubHeading inlineBlock"><a unifi-open-panel="statisticsSwitchCtrl.device" unifi-open-panel-active-tab="\'details\'"><span class="noWrap" unifi-device-status="statisticsSwitchCtrl.device" unifi-device-status-is-cozy="true" unifi-device-status-with-icons="true" unifi-device-status-label="statisticsSwitchCtrl.device.getDisplayName()"></span></a></div></div></div></div></div></div></div><div class="appRow verticalRhythmHalf"><div class="col--sm12"><div class="stackCenter"><unifi-data-retention-warning class="verticalRhythmTop--cozy" unifi-data-retention-warning-start="statisticsSwitchCtrl.start" unifi-data-retention-warning-granularity="statisticsSwitchCtrl.granularity"></unifi-data-retention-warning></div></div></div></div><div class="unifiSmartMarginContainer"><div class="verticalRhythmTop" ng-if="!statisticsSwitchCtrl.device"><div class="appInfoBox appInfoBox--centered appInfoBox--solid"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="STATISTICS_SWITCH_NO_SWITCH_HEADER"></div><div class="appInfoBox__body"><p translate="STATISTICS_SWITCH_NO_SWITCH_MESSAGE"></p></div></div></div></div><div class="appContainer appContainer--comfy" ng-if="statisticsSwitchCtrl.device"><div class="appRow verticalRhythmTopHalf"><div class="col--md12 col--lg6 col--comfy" ng-repeat="port in statisticsSwitchCtrl.ports | filter:statisticsSwitchCtrl.filter() | orderBy:statisticsSwitchCtrl.orderBy()"><unifi-switch-port-usage unifi-switch-port-usage-port="port" unifi-switch-port-usage-device="statisticsSwitchCtrl.device"></unifi-switch-port-usage></div></div></div></div></div></div></div>'}},{"pug-runtime":23}],1304:[function(t,e,i){"use strict";function n(t,e,i,n){this.$timeout=t,this.account=e,this.dashboards=i,this.frame=n}n.prototype.view=function(t){this.activeDashboard=t.id,this.dashboards.updateLastActiveDashboard(t),this.isEditing=!1},n.prototype.edit=function(t){this.view(t),this.isEditingModules=!0},n.prototype.isAddingDashboardAllowed=function(){return this.dashboards.isAddingDashboardAllowed()},n.$inject=["$timeout","account","dashboards","frame"],angular.module("base-unifi-dashboard").controller("DashboardConfigureDashboardsController",n)},{}],1305:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").directive("unifiDashboardConfigureDashboards",[function(){return{scope:{activeDashboard:"=unifiDashboardConfigureDashboardsActive",isEditing:"=unifiDashboardConfigureDashboardsIsEditing",isEditingModules:"=unifiDashboardConfigureDashboardsIsEditingModules"},controller:"DashboardConfigureDashboardsController",controllerAs:"dashboardConfigureDashboardsCtrl",bindToController:!0,template:t("./dashboardConfigureDashboards.pug")()}}])},{"./dashboardConfigureDashboards.pug":1306}],1306:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div><div class="modularNavigation"><div class="modularNavigationContent"><div class="modularNavigationTitle" translate="DASHBOARD_DASHBOARDS_PANEL_TITLE"></div></div><div class="modularNavigationActions modularNavigationActions--right"><a class="modularNavigationActionItem" ng-click="dashboardConfigureDashboardsCtrl.isEditing = false"><div class="modularNavigationActionItemText" translate="DASHBOARD_DASHBOARDS_PANEL_ACTION_CLOSE"></div><div class="modularNavigationActionItemIcon icon ubnt-icon--x"></div></a></div></div><div class="modularPanelContent"><unifi-dashboard-list unifi-dashboard-list-only-user-dashboards="true" unifi-dashboard-list-active="dashboardConfigureDashboardsCtrl.activeDashboard" unifi-dashboard-list-on-edit="dashboardConfigureDashboardsCtrl.edit(model)" unifi-dashboard-list-on-view="dashboardConfigureDashboardsCtrl.view(model)"></unifi-dashboard-list><button class="appMainButton appMainButton--input" ng-if="dashboardConfigureDashboardsCtrl.isAddingDashboardAllowed()" type="button" frame-show="dashboardForm" frame-show-data="{model: angular.noop}" frame-show-resolve="dashboardConfigureDashboardsCtrl.edit(resolveValue)"><span class="button__icon icon ubnt-icon--plus"></span><span translate="DASHBOARD_SWITCHER_ITEM_ADD_DASHBOARD"></span></button></div></div>'}},{"pug-runtime":23}],1307:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("base-unifi-dashboard").controller("DashboardConfigureModulesController",["$q","$timeout","$translate","bowser","BaseListController","dashboardModulesCollectionView","dashboards","preferences","DASHBOARD_MODULE_LAYOUTS",function(t,e,i,o,r,a,s,l,c){return new(function(t){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return t.bowser=o,t.filter=a.getFilterInstance(),t.comparator=a.getComparator(),t.defaultSortBy="default",t.moduleLayoutValues=Object.keys(c).map(function(t){return c[t]}),t.isAdding={},t.isAddingNotificationDelay=2e3,t.moduleLayoutValues.forEach(function(t){this.filter.filters.layout[t]=!0}.bind(t)),t.filter.filters.noHidden=!l.model.get("allowHiddenDashboardModules"),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r),n(i,[{key:"init",value:function(){this.model=s.repository.collection.get(this.activeDashboard),this.filter.filters.dashboardType=this.model.get("dashboard_type")}},{key:"initView",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"initView",this).call(this),this.view.filters.push(function(t){return!this.hideWidgetsInDashboard||!this.isModuleInDashboard(t)}.bind(this))}},{key:"getCollection",value:function(){return s.moduleDefinitions}},{key:"addModuleToDashboard",value:function(t){var i=this;this.isAdding[t.id]=!0,this.model.get("modules").add({module_id:t.id}),e(function(){delete i.isAdding[t.id]},this.isAddingNotificationDelay)}},{key:"isModuleInDashboard",value:function(t){return!!(this.model&&this.model.has("modules")&&this.model.get("modules").findWhere({module_id:t.id}))}}]),i}())}])},{}],1308:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").directive("unifiDashboardConfigureModules",["$timeout","DASHBOARD_EVENTS",function(e,i){return{scope:{activeDashboard:"=unifiDashboardConfigureModulesActive",isEditing:"=unifiDashboardConfigureModulesIsEditing",isCollapsed:"=unifiDashboardConfigureModulesIsCollapsed",isHorizontal:"=unifiDashboardConfigureModulesIsHorizontal"},controller:"DashboardConfigureModulesController",controllerAs:"dashboardConfigureModulesCtrl",bindToController:!0,template:t("./dashboardConfigureModules.pug")(),link:function(t,n,o,r){t.$watch(function(){return r.activeDashboard},function(t){t&&r.init(t)}),t.$watch(function(){return r.filter?[r.filter.filters,r.hideWidgetsInDashboard]:void 0},function(){r.refresh()},!0),t.$on(i.DASHBOARD_MODULES_CHANGED,function(){r.refresh()}),t.getRetinaImage=function(t){return t?t+" 1x, "+t.replace(/\.([a-z]{3}$)/,"@2x.$1")+" 2x":""},t.onAddModule=function(){e(function(){t.$emit(i.DASHBOARD_SCROLL_BOTTOM)},0)}}}}])},{"./dashboardConfigureModules.pug":1309}],1309:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="moduleDefinitionsContainer" ng-switch="dashboardConfigureModulesCtrl.view.getModels().length"><div class="moduleDefinitions"'+(i="ng-switch-default",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' ng-class="{      \'moduleDefinitions--horizontal\': dashboardConfigureModulesCtrl.isHorizontal || dashboardConfigureModulesCtrl.bowser.mobile    }"><div class="moduleDefinition" collection-view-repeat="model in ::dashboardConfigureModulesCtrl.view.getModels()"><div class="modularSubHeading moduleDefinitionTitle" translate="{{::model.get(\'translationKey\')}}"></div><div class="moduleDefinitionPreview" ng-click="dashboardConfigureModulesCtrl.addModuleToDashboard(model); onAddModule();"><img ng-src="{{::model.get(\'preview\')}}" ng-srcset="{{::getRetinaImage(model.get(\'preview\'))}}" alt="{{::model.get(\'translationKey\') | translate}}"><div class="moduleDefinitionPreviewOverlay"><div class="moduleDefinitionPreviewOverlayIcon icon" ng-class="dashboardConfigureModulesCtrl.isAdding[model.id] ? \'ubnt-icon--check-circle success\' : \'ubnt-icon--plus-circle\'"></div><div class="moduleDefinitionPreviewOverlayText" translate="{{dashboardConfigureModulesCtrl.isAdding[model.id] ? \'DASHBOARD_MODULES_PANEL_PREVIEW_ACTIVE\' : \'DASHBOARD_MODULES_PANEL_PREVIEW_INACTIVE\'}}"></div></div><div class="moduleDefinitionPreviewInUse" ng-if="dashboardConfigureModulesCtrl.isModuleInDashboard(model)"><div class="icon ubnt-icon--check-circle-fill success"></div></div></div></div></div><div class="moduleDefinitionsEmpty" ng-switch-when="0"><unifi-unavailable-module ng-if="!internetConnectionModuleCtrl.isLoading &amp;&amp; !internetConnectionModuleCtrl.isAvailable()" unifi-unavailable-module-icon="\'ubnt-icon--alert\'" unifi-unavailable-module-translation-key="\'DASHBOARD_MODULES_PANEL_NO_MODULES\'" unifi-unavailable-module-is-standalone="true"></unifi-unavailable-module></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1310:[function(t,e,i){"use strict";function n(t){this.HORIZONTAL_CONFIGURATION_PANEL_HEIGHT=212,this.CONFIGURATION_PANEL_SECTION_ID="configureModules",t(this,"dashboardConfiguration")}n.prototype.getInitialConfigurationPanelHeight=function(){var t=this.getInitialPanelHeight(this.CONFIGURATION_PANEL_SECTION_ID);return void 0===t&&this.suggestHorizontalConfigurationPanel&&(t=this.HORIZONTAL_CONFIGURATION_PANEL_HEIGHT),t},n.prototype.getConstrainedConfigurationPanelHeight=function(t){return t=Math.max(this.HORIZONTAL_CONFIGURATION_PANEL_HEIGHT,t),!this.isHorizontalConfigurationPanel&&this.scrollableElement&&this.scrollableElement[0]&&(t=Math.min(this.scrollableElement[0].offsetHeight,t)),t},n.prototype.setConfigurationPanelElement=function(t){this.configurationPanelElement=t},n.prototype.setIsHorizontalConfigurationPanel=function(t){this.isHorizontalConfigurationPanel=t<=this.HORIZONTAL_CONFIGURATION_PANEL_HEIGHT},n.prototype.onConfigurationPanelResizeStart=function(){this.scrollableElement=this.configurationPanelElement.find(".moduleDefinitions")},n.prototype.onConfigurationPanelResizeStop=function(t){this.onPanelResizeStop(this.CONFIGURATION_PANEL_SECTION_ID,t),this.setIsHorizontalConfigurationPanel(t)},n.$inject=["panelViewControllerMixin"],angular.module("base-unifi-dashboard").controller("DashboardContainerController",n)},{}],1311:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").directive("unifiDashboardContainer",["$timeout","$window","panelViewControllerMixin","DASHBOARD_EVENTS","EVENTS",function(e,i,n,o,r){return{scope:{activeDashboard:"=unifiDashboardContainer",isEditingModules:"=?unifiDashboardContainerIsEditingModules",isEditingDashboards:"=?unifiDashboardContainerIsEditingDashboards",allowMulipleDashboards:"=?unifiDashboardContainerAllowMultipleDashboards"},controller:"DashboardContainerController",controllerAs:"dashboardContainerCtrl",bindToController:!0,template:t("./dashboardContainer.pug")(),link:function(t,e,n,a){t.$emit(r.SCROLL_CONTAINER_ENABLE),t.$on("$destroy",function(){t.$emit(r.SCROLL_CONTAINER_DISABLE)}),t.$watch("dashboardContainerCtrl.isEditingModules",function(t){t&&(a.isEditingDashboards=!1)}),t.$watch("dashboardContainerCtrl.isEditingDashboards",function(t){t&&(a.isEditingModules=!1)}),t.$on(o.DASHBOARD_SCROLL_TOP,function(){e[0].querySelectorAll("#modularModulesPanel").forEach(function(t){t.scrollTop=0})}),t.$on(o.DASHBOARD_SCROLL_BOTTOM,function(){e[0].querySelectorAll("#modularModulesPanel").forEach(function(t){t.scrollTop=t.scrollHeight-t.clientHeight})}),a.setConfigurationPanelElement(e.find("#modularConfigurationPanel")),a.suggestHorizontalConfigurationPanel=i.innerHeight<1e3}}}])},{"./dashboardContainer.pug":1312}],1312:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="modular modular--comfy fullHeight" ng-class="{    \'is-editing\': dashboardContainerCtrl.isEditingModules  }"><div class="modularPanel modularPanel--secondary withCustomResizeHandles" id="modularConfigurationPanel" ng-if="dashboardContainerCtrl.isEditingModules" ng-class="{      \'is-transitioning\': dashboardContainerCtrl.isEditingModulesTransitioning,      \'is-resize-handle-mouseover\': resizablePanelCtrl.isResizeHandleMouseOver,      \'is-dragging\': resizablePanelCtrl.isDragging    }"'+n("unifi-dashboard-configure-modules",!0,!0,!0)+' unifi-dashboard-configure-modules-active="dashboardContainerCtrl.activeDashboard" unifi-dashboard-configure-modules-is-editing="dashboardContainerCtrl.isEditingModules" unifi-dashboard-configure-modules-is-horizontal="dashboardContainerCtrl.isHorizontalConfigurationPanel"'+n("unifi-resizable-panel",!0,!0,!0)+' unifi-resizable-panel-is-disabled="!dashboardContainerCtrl.usePanelView()" unifi-resizable-panel-direction="[\'bottom\']" unifi-resizable-panel-initial-height="dashboardContainerCtrl.getInitialConfigurationPanelHeight()" unifi-resizable-panel-on-initialize="dashboardContainerCtrl.setIsHorizontalConfigurationPanel(height)" unifi-resizable-panel-on-resize-start="dashboardContainerCtrl.onConfigurationPanelResizeStart()" unifi-resizable-panel-on-resize-stop="dashboardContainerCtrl.onConfigurationPanelResizeStop(height)" unifi-resizable-panel-on-resize-move="dashboardContainerCtrl.onConfigurationPanelResizeStop(height)" unifi-resizable-panel-constrain-size="dashboardContainerCtrl.getConstrainedConfigurationPanelHeight(height)"></div><div class="modularPanel modularPanel--primary" id="modularModulesPanel"'+n("unifi-scroll-container",!0,!0,!0)+'><unifi-dashboard-modules class="fullWidth" unifi-dashboard-modules-active-dashboard="dashboardContainerCtrl.activeDashboard" unifi-dashboard-modules-shared-filters="dashboardContainerCtrl.sharedFilters" unifi-dashboard-modules-is-editing="dashboardContainerCtrl.isEditingModules" unifi-dashboard-modules-is-editing-dashboards="dashboardContainerCtrl.isEditingDashboards"><unifi-dashboard-modules-transclude-dashboard-navigation ng-if="!dashboardContainerCtrl.isEditingDashboards"><unifi-dashboard-navigation unifi-dashboard-navigation-active-dashboard="dashboardContainerCtrl.activeDashboard" unifi-dashboard-navigation-is-editing-modules="dashboardContainerCtrl.isEditingModules" unifi-dashboard-navigation-is-editing-dashboards="dashboardContainerCtrl.isEditingDashboards" unifi-dashboard-navigation-allow-multiple-dashboards="dashboardContainerCtrl.allowMulipleDashboards"><unifi-dashboard-navigation-transclude-shared-filters><unifi-dashboard-filters unifi-dashboard-filters-active-dashboard="dashboardContainerCtrl.activeDashboard" unifi-dashboard-filters-shared-filters="dashboardContainerCtrl.sharedFilters"></unifi-dashboard-filters></unifi-dashboard-navigation-transclude-shared-filters></unifi-dashboard-navigation></unifi-dashboard-modules-transclude-dashboard-navigation><unifi-dashboard-modules-transclude-configure-dashboards ng-if="dashboardContainerCtrl.isEditingDashboards"><unifi-dashboard-configure-dashboards unifi-dashboard-configure-dashboards-active="dashboardContainerCtrl.activeDashboard" unifi-dashboard-configure-dashboards-is-editing="dashboardContainerCtrl.isEditingDashboards" unifi-dashboard-configure-dashboards-is-editing-modules="dashboardContainerCtrl.isEditingModules"></unifi-dashboard-configure-dashboards></unifi-dashboard-modules-transclude-configure-dashboards></unifi-dashboard-modules></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1313:[function(t,e,i){"use strict";function n(t){this.dashboards=t}n.prototype.$onInit=function(){this.isLoading=!0,this.filters=[],this.sharedFilters=this.sharedFilters||{}},n.prototype.init=function(){(!this.model||this.model.id!==this.activeDashboard)&&(this.clearSharedFilters(),this.model=this.dashboards.repository.collection.get(this.activeDashboard)),this.render(),this.isLoading=!1},n.prototype.render=function(){this.filters=[],this.missingFilterCount=0,this.model&&(this.model.get("filters")||[]).each(function(t){var e=this.dashboards.filterDefinitions.get(t.get("filter_id"));e?this.filters.push({id:t.id,filter:t,definition:e}):this.missingFilterCount++},this)},n.prototype.clearSharedFilters=function(){Object.keys(this.sharedFilters).forEach(function(t){this.sharedFilters[t].clear()}.bind(this))},n.$inject=["dashboards"],angular.module("base-unifi-dashboard").controller("DashboardFiltersController",n)},{}],1314:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").directive("unifiDashboardFilters",[function(){return{scope:{activeDashboard:"=unifiDashboardFiltersActiveDashboard",sharedFilters:"=unifiDashboardFiltersSharedFilters"},controller:"DashboardFiltersController",controllerAs:"dashboardFiltersCtrl",bindToController:!0,replace:!0,template:t("./dashboardFilters.pug")(),link:function(t,e,i,n){t.$watch("dashboardFiltersCtrl.activeDashboard",function(t){t&&n.init()}),t.$on("$destroy",function(){n.clearSharedFilters()})}}}])},{"./dashboardFilters.pug":1315}],1315:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="modularFiltersContainer"><div class="modularFilter" ng-repeat="filter in dashboardFiltersCtrl.filters track by filter.id" unifi-dynamic-filter="filter.filter" unifi-dynamic-filter-definition="filter.definition" unifi-dynamic-filter-shared-filters="dashboardFiltersCtrl.sharedFilters"></div></div>'}},{"pug-runtime":23}],1316:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("base-unifi-dashboard").controller("DashboardListController",["account","BaseCollection","BaseListController","dashboards","fileUtils","heyToasts",function(t,e,i,o,r,a){return new(function(s){function l(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return i.dashboards=o,i.adminId=t.repository.model.id,i.collection=new e,i.isRemoving={},i.isExporting={},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,i),n(l,[{key:"addEventHandlers",value:function(){this.listener=o.repository.collection.onUpdate(this.resetCollection.bind(this))}},{key:"removeEventHandlers",value:function(){this.listener.stopListening()}},{key:"getCollection",value:function(){return this.collection}},{key:"resetCollection",value:function(){this.collection.reset(this.onlyUserDashboards?o.getUserDashboards():o.getDashboards())}},{key:"subscribe",value:function(t){o.subscribeDashboard(t)}},{key:"unsubscribe",value:function(t){o.unsubscribeDashboard(t),this.refresh()}},{key:"share",value:function(t){var e=this;return o.save(t,{is_public:!0}).then(function(){e.refresh()})}},{key:"unshare",value:function(t){var e=this;return o.save(t,{is_public:!1}).then(function(){e.refresh()})}},{key:"export",value:function(t){var e=this;this.isExporting[t.id]=!0,r.downloadJson(t.exportJSON(),"dashboard-"+t.id+".json").finally(function(){e.isExporting[t.id]=!1})}},{key:"edit",value:function(t){if(!this.onEdit)throw new Error("You must pass an onEdit function to the directive");this.onEdit({model:t})}},{key:"activate",value:function(t){if(!this.onView)throw new Error("You must pass an onView function to the directive");this.onView({model:t})}},{key:"remove",value:function(t){var e=this;this.isRemoving[t.id]=!0,this.dashboards.remove(t).then(function(){if(e.updateDashboardIndex(),e.activeDashboard===t.id){var i=o.repository.collection.first();e.activeDashboard=i.id,o.updateLastActiveDashboard(i)}delete e.isRemoving[t.id]}).catch(function(i){return a.pushError(i),delete e.isRemoving[t.id],!1})}},{key:"updateDashboardIndex",value:function(t,e){if(this.onlyUserDashboards){var i=this.collection.map(function(t){return t.id}),n=this.collection.get(t);this.collection.remove(n,{silent:!0}),this.collection.add(n,{at:e,silent:!0}),this.refresh();var r=t?i.indexOf(t):-1;-1!==r&&(i.splice(r,1),i.splice(e,0,t)),o.setDashboardOrder(i).then(this.resetCollection.bind(this))}}},{key:"isRemoveAllowed",value:function(){return o.repository.collection.length>1}},{key:"isEditingModulesAllowed",value:function(t){return o.isEditingModulesAllowed(t)}},{key:"isSubscribed",value:function(t){return o.isDashboardSubscribed(t)}},{key:"canEditSharing",value:function(t){return!o.isDefaultDashboard(t)&&t.get("author_admin_id")===this.adminId}}]),l}())}])},{}],1317:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").directive("unifiDashboardList",["ListDirective",function(e){var i=new e("dashboard",t("./dashboardList.pug")(),{activeDashboard:"=unifiDashboardListActive",onlyUserDashboards:"=unifiDashboardListOnlyUserDashboards",onEdit:"&unifiDashboardListOnEdit",onView:"&unifiDashboardListOnView"});return i.addMixin({init:function(t,e,i,n){t.$watch(function(){return n.onlyUserDashboards},n.resetCollection.bind(n)),n.addEventHandlers(),t.$on("$destroy",function(){n.removeEventHandlers()})}}),i}])},{"./dashboardList.pug":1318}],1318:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="withOverflow"><table class="appTable appTable--noWrap appTable--flexible appTable--striped appTable--flushSides modularTable" id="dashboardsTable" ng-hide="!dashboardListCtrl.view.getModels().length" unifi-bind-notifier="{      table_refresh: dashboardListCtrl.onlyUserDashboards    }"><thead><tr><th><span translate="DASHBOARD_DASHBOARDS_PANEL_TABLE_HEADER_NAME"></span></th><th class="visible--smUp"><span translate="DASHBOARD_DASHBOARDS_PANEL_TABLE_HEADER_DESC"></span></th><th class="appTableCell--actions visible--mobile"><span></span></th><th class="appTableCell--actions"><span translate="DASHBOARD_DASHBOARDS_PANEL_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody class="noBorderBottom"'+(i="unifi-dnd-dock",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' unifi-dnd-dock-on-drop-inside="dashboardListCtrl.updateDashboardIndex(itemId, index)" unifi-dnd-dock-allowed-item-classes="[\'modularDraggable\']"><tr class="modularTableRow modularDraggable modularDraggable--withoutHandle" ng-repeat="          entry in dashboardListCtrl.view.getEntries()          track by entry.model.id        " unifi-bind-notifier="{model_refresh: entry.model.version}" ng-init="model = entry.model" unifi-dnd-dock-item="model.id" unifi-dnd-dock-item-placeholder="partials/dashboardRowPlaceholder.html"><td class="noWrap"><span>{{:model_refresh: model.getDisplayName() | orEmptyPlaceholder}}</span><span class="withParenthesis horizontalRhythmLeft--condensed static" ng-if=":model_refresh: model.get(\'attr_hidden_id\') === \'Default\'" translate="COMMON_LABEL_DEFAULT"></span></td><td class="visible--smUp">{{:model_refresh: model.get(\'desc\') | orEmptyPlaceholder}}</td><td class="appTableCell--actions visible--mobile" ng-if="dashboardListCtrl.onlyUserDashboards"><button class="appMainButton appMainButton--tertiary appMainButton--condensed appMainButton--iconOnly modularDraggable__shiftHandle" ng-click="dashboardListCtrl.updateDashboardIndex(model.id, $index - 1)" ng-disabled="$index &lt; 1"><span class="button__icon icon ubnt-icon--pointer-up"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed appMainButton--iconOnly modularDraggable__shiftHandle" ng-click="dashboardListCtrl.updateDashboardIndex(model.id, $index + 1)" ng-disabled="$index &gt;= dashboardListCtrl.getCollection().models.length - 1"><span class="button__icon icon ubnt-icon--pointer-down"></span></button></td><td class="appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="dashboardListCtrl.activate(model)"><span translate="DASHBOARD_DASHBOARDS_PANEL_ACTIONS_ACTIVATE"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="dashboardListCtrl.export(model)" ng-disabled="dashboardListCtrl.dashboards.isDefaultDashboard(model)" busy-toggle="dashboardListCtrl.isExporting[model.id]" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--small\']"><span translate="DASHBOARD_DASHBOARDS_PANEL_ACTIONS_EXPORT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="dashboardListCtrl.edit(model)" ng-disabled="!dashboardListCtrl.isEditingModulesAllowed(model)"><span translate="DASHBOARD_DASHBOARDS_PANEL_ACTIONS_EDIT"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed noMarginRight" ng-click="dashboardListCtrl.remove(model)" ng-disabled="!dashboardListCtrl.isRemoveAllowed() || dashboardListCtrl.dashboards.isDefaultDashboard(model) || dashboardListCtrl.isRemoving[model.id]"><span translate="DASHBOARD_DASHBOARDS_PANEL_ACTIONS_DELETE"></span></button></td></tr></tbody></table><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder verticalRhythm--comfy verticalRhythmTop--cozy noPadding" ng-if="!dashboardListCtrl.view.getModels().length"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DASHBOARD_DASHBOARDS_PANEL_TABLE_EMPTY"></p></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1319:[function(t,e,i){"use strict";function n(t,e,i,n){this.isLoading=!0,this.modules=[],this.$translate=t,this.dashboards=e,this.heyToasts=n,this.modelChangeEvent="change:modules[*] add:modules remove:modules",this.debouncedSaveModules=i(this.saveModules.bind(this),1e3)}n.prototype.init=function(){(!this.model||this.model.id!==this.activeDashboard)&&(this.clearLoadingModules(),this.clearEditingModules(),this.clearStickyModules(),this.removeEventHandlers(),this.model=this.dashboards.repository.collection.get(this.activeDashboard),this.addEventHandlers(),this.isEditingModulesAllowed=this.dashboards.isEditingModulesAllowed(this.model),this.isEditing&&!this.isEditingModulesAllowed&&(this.isEditing=!1)),this.render(),this.isLoading=!1},n.prototype.render=function(){this.modules=[],this.missingModuleCount=0,this.model&&(this.model.get("modules")||[]).each(function(t){var e=this.dashboards.moduleDefinitions.get(t.get("module_id"));e?this.modules.push({id:t.id,module:t,definition:e,isSticky:e.getNested("attrs.isSticky")&&!t.getNested("config.disableSticky"),isPermanent:this.isModuleRestricted(t,"draggable")}):this.missingModuleCount++},this),this.permanentModuleCount=this.modules.filter(function(t){return t.isPermanent}).length},n.prototype.addEventHandlers=function(){this.model&&this.model.on(this.modelChangeEvent,this.debouncedSaveModules,this)},n.prototype.removeEventHandlers=function(){this.model&&this.model.off(this.modelChangeEvent,this.debouncedSaveModules,this)},n.prototype.saveModules=function(){this.model.get("attr_no_edit")?this.heyToasts.pushError(this.$translate.instant("DASHBOARD_ACTIONS_SAVE_ERROR_READ_ONLY",{name:this.model.get("name")})):this.dashboards.save(this.model).catch(function(t){this.heyToasts.pushError(t)}.bind(this))},n.prototype.updateModuleIndex=function(t,e){var i=this.model.get("modules").remove(t,{silent:!0}),n=e+this.permanentModuleCount;this.model.get("modules").add(i,{at:n})},n.prototype.removeModule=function(t){this.model.get("modules").remove(t)},n.prototype.clearLoadingModules=function(){this.isLoadingModule={}},n.prototype.clearEditingModules=function(){this.isEditingModule={}},n.prototype.clearStickyModules=function(){this.showStickyModule={}},n.prototype.hasStickyModules=function(){return this.showStickyModule&&Object.keys(this.showStickyModule).some(function(t){return t})},n.prototype.isModuleRestricted=function(t,e){return!1===t.getNested("restrictions."+e)},n.prototype.getModuleAttr=function(t,e){return t.definition.get("attrs")&&t.definition.get("attrs")[e]},n.prototype.getModulesIds=function(){return this.model&&this.model.get("modules").map(function(t){return t.id})},n.$inject=["$translate","dashboards","debounce","heyToasts"],angular.module("base-unifi-dashboard").controller("DashboardModulesController",n)},{}],1320:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").directive("unifiDashboardModules",["$rootScope","DASHBOARD_EVENTS",function(e,i){return{scope:{activeDashboard:"=unifiDashboardModulesActiveDashboard",sharedFilters:"=unifiDashboardModulesSharedFilters",isEditing:"=unifiDashboardModulesIsEditing",isEditingDashboards:"=unifiDashboardModulesIsEditingDashboards"},transclude:{configureDashboards:"?unifiDashboardModulesTranscludeConfigureDashboards",dashboardNavigation:"?unifiDashboardModulesTranscludeDashboardNavigation"},controller:"DashboardModulesController",controllerAs:"dashboardModulesCtrl",bindToController:!0,replace:!0,template:t("./dashboardModules.pug")(),link:function(t,n,o,r){var a;t.$watch("dashboardModulesCtrl.isEditing",function(n){n?a=t.$watch("dashboardModulesCtrl.getModulesIds()",function(){r.render(),e.$broadcast(i.DASHBOARD_MODULES_CHANGED)},!0):(a&&a(),r.clearEditingModules())}),t.$watch("dashboardModulesCtrl.activeDashboard",function(t){t&&r.init()});var s=angular.element(n[0].querySelector(".modulesSticky"));t.getStickyHeaderOffset=function(){return(s?s[0].offsetHeight:0)+114}}}}])},{"./dashboardModules.pug":1321}],1321:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="modules"><div class="modulesSticky" ng-show="!dashboardModulesCtrl.isEditingDashboards &amp;&amp; !dashboardModulesCtrl.isEditing &amp;&amp; dashboardModulesCtrl.hasStickyModules()"><div ng-repeat="module in dashboardModulesCtrl.modules | filter: {isSticky:true} track by module.id" unifi-dynamic-module="module.module" unifi-dynamic-module-definition="module.definition" unifi-dynamic-module-shared-filters="dashboardModulesCtrl.sharedFilters" unifi-dynamic-module-is-loading="dashboardModulesCtrl.isLoadingModule[module.id]" unifi-dynamic-module-is-hidden="!dashboardModulesCtrl.showStickyModule[module.id]" unifi-dynamic-module-is-sticky="true"></div></div><div class="modulesDock modulesDock--permanent modulesDock--first" ng-show="dashboardModulesCtrl.permanentModuleCount &amp;&amp; !dashboardModulesCtrl.isEditing"><div class="moduleContainer" ng-repeat="module in dashboardModulesCtrl.modules | filter: {isPermanent:true} track by module.id" ng-class="[        \'moduleContainer--\' + module.definition.get(\'layout\'),        dashboardModulesCtrl.isLoadingModule[module.id] ? \'moduleContainer--isLoading\' : \'\'      ]" unifi-dynamic-module="module.module" unifi-dynamic-module-definition="module.definition" unifi-dynamic-module-shared-filters="dashboardModulesCtrl.sharedFilters" unifi-dynamic-module-is-loading="dashboardModulesCtrl.isLoadingModule[module.id]" unifi-dynamic-module-is-editing="dashboardModulesCtrl.isEditingModule[module.id]" unifi-dynamic-module-is-editing-allowed="dashboardModulesCtrl.isEditingModulesAllowed" unifi-scroll-off-screen="dashboardModulesCtrl.showStickyModule[module.id]" unifi-scroll-off-screen-is-disabled="!module.isSticky" unifi-scroll-off-screen-one-time-binding="true" unifi-scroll-off-screen-offset="getStickyHeaderOffset()"><div class="moduleControls" ng-if="dashboardModulesCtrl.isEditing"><div class="moduleControlIcon moduleControlIcon--remove icon ubnt-icon--x" ng-if="!dashboardModulesCtrl.isModuleRestricted(module.module, \'removable\')" ng-click="dashboardModulesCtrl.removeModule(module.id)"></div></div></div></div><div ng-transclude="configureDashboards"></div><div ng-transclude="dashboardNavigation"></div><div class="modulesDock" ng-hide="dashboardModulesCtrl.isEditingDashboards" ng-class="{      \'modulesDock--first\': !dashboardModulesCtrl.permanentModuleCount,      \'modulesDock--withBorders\': dashboardModulesCtrl.isEditing    }"'+(i="unifi-dnd-dock",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' unifi-dnd-dock-on-drop-inside="dashboardModulesCtrl.updateModuleIndex(itemId, index)" unifi-dnd-dock-allowed-item-classes="[\'moduleContainer\']" unifi-dnd-dock-is-horizontal="true"><div class="moduleContainer modularDraggable" ng-repeat="module in dashboardModulesCtrl.modules | filter: {isPermanent:false} track by module.id" ng-class="[        \'moduleContainer--\' + module.definition.get(\'layout\'),        dashboardModulesCtrl.isLoadingModule[module.id] ? \'moduleContainer--isLoading\' : \'\',        dashboardModulesCtrl.isEditing ? \'modularDraggable--withBorders\' : \'\'      ]" unifi-dnd-dock-item="module.id" unifi-dnd-dock-item-is-disabled="!dashboardModulesCtrl.isEditing" unifi-dnd-dock-item-placeholder="{{\'partials/module\' + (module.definition.get(\'layout\')[0].toUpperCase() + module.definition.get(\'layout\').substring(1)) + \'Placeholder.html\'}}" unifi-dynamic-module="module.module" unifi-dynamic-module-definition="module.definition" unifi-dynamic-module-shared-filters="dashboardModulesCtrl.sharedFilters" unifi-dynamic-module-is-loading="dashboardModulesCtrl.isLoadingModule[module.id]" unifi-dynamic-module-is-editing="dashboardModulesCtrl.isEditingModule[module.id]" unifi-dynamic-module-is-editing-allowed="dashboardModulesCtrl.isEditingModulesAllowed" unifi-scroll-off-screen="dashboardModulesCtrl.showStickyModule[module.id]" unifi-scroll-off-screen-is-disabled="!module.isSticky" unifi-scroll-off-screen-one-time-binding="true" unifi-scroll-off-screen-offset="getStickyHeaderOffset()"><div class="moduleControls" ng-if="dashboardModulesCtrl.isEditing"><div class="moduleControlIcon moduleControlIcon--edit icon ubnt-icon--sliders" ng-if="dashboardModulesCtrl.getModuleAttr(module, \'isEditable\') &amp;&amp; !dashboardModulesCtrl.isLoadingModule[module.id]" ng-click="dashboardModulesCtrl.isEditingModule[module.id] =! dashboardModulesCtrl.isEditingModule[module.id]"></div><div class="moduleControlIcon modularDraggable__shiftHandle icon ubnt-icon--pointer-left" ng-class="{\'is-disabled\': $parent.$index &lt; 1}" ng-click="dashboardModulesCtrl.updateModuleIndex(module.id, $parent.$index - 1)"></div><div class="moduleControlIcon modularDraggable__shiftHandle icon ubnt-icon--pointer-right" ng-class="{\'is-disabled\': $parent.$index &gt;= dashboardModulesCtrl.modules.length - 1}" ng-click="dashboardModulesCtrl.updateModuleIndex(module.id, $parent.$index + 1)"></div><div class="moduleControlIcon moduleControlIcon--remove icon ubnt-icon--trashcan" ng-if="!dashboardModulesCtrl.isModuleRestricted(module.module, \'removable\')" ng-click="dashboardModulesCtrl.removeModule(module.id)"></div></div></div></div><a class="modularAlertIcon" ng-if="!dashboardModulesCtrl.isLoading &amp;&amp; !dashboardModulesCtrl.isEditing &amp;&amp; !dashboardModulesCtrl.isEditingDashboards &amp;&amp; (dashboardModulesCtrl.modules.length - dashboardModulesCtrl.permanentModuleCount === 0)" ng-click="dashboardModulesCtrl.isEditingDashboards = false; dashboardModulesCtrl.isEditing = true"><div class="icon ubnt-icon--pencil-2"></div><div class="modularAlertIconText" translate="DASHBOARD_ALERT_CUSTOMIZE_DASHBOARD"></div></a></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1322:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("base-unifi-dashboard").controller("DashboardNavigationController",["$scope","account","dashboards","toggleDropdownControllerMixin","DASHBOARD_EVENTS",function(t,e,i,o,r){return new(function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this)}return n(e,[{key:"$onInit",value:function(){this.listener=i.repository.collection.onUpdate(this.onUpdate.bind(this)),this.onUpdate()}},{key:"$onDestroy",value:function(){this.listener.stopListening()}},{key:"onUpdate",value:function(){this.userDashboards=this.getUserDashboards(),this.isAddingAllowed=i.isAddingDashboardAllowed(),this.isEditingAllowed=this.isEditingModulesAllowed(),this.isSystemDefault=this.isSystemDefaultDashboard(),this.activeDashboardTitle=this.getActiveDashboardTitle()}},{key:"onView",value:function(){t.$emit(r.DASHBOARD_SCROLL_TOP)}},{key:"view",value:function(t){this.activeDashboard=t.id,this.onUpdate(),i.updateLastActiveDashboard(t),this.closeDropdown()}},{key:"edit",value:function(t){this.view(t),this.isEditingModules=!0}},{key:"getUserDashboards",value:function(){var t=this,e=i.getUserDashboards();return!e.find(function(e){return e.id===t.activeDashboard})&&e.length&&(this.activeDashboard=e[0].id),e}},{key:"getActiveDashboard",value:function(){return i.repository.collection.get(this.activeDashboard)}},{key:"getActiveDashboardTitle",value:function(){var t=this.getActiveDashboard();return t&&t.getDisplayName()}},{key:"isEditingModulesAllowed",value:function(){var t=this.getActiveDashboard();return i.isEditingModulesAllowed(t)}},{key:"isSystemDefaultDashboard",value:function(){var t=this.getActiveDashboard();return!(!t||!t.get("attr_no_edit"))}}]),e}())}])},{}],1323:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").component("unifiDashboardNavigation",{bindings:{activeDashboard:"=unifiDashboardNavigationActiveDashboard",isEditingModules:"=unifiDashboardNavigationIsEditingModules",isEditingDashboards:"=unifiDashboardNavigationIsEditingDashboards",allowMultipleDashboards:"=unifiDashboardNavigationAllowMultipleDashboards"},transclude:{sharedFilters:"?unifiDashboardNavigationTranscludeSharedFilters"},controller:"DashboardNavigationController",controllerAs:"dashboardNavigationCtrl",template:t("./dashboardNavigation.pug")()})},{"./dashboardNavigation.pug":1324}],1324:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="modularNavigation" unifi-bind-notifier="{    edit_modules_toggle: dashboardNavigationCtrl.isEditingModules,    edit_modules_toggle: dashboardNavigationCtrl.isEditingModulesAllowed(),    active_dashboard_changed: dashboardNavigationCtrl.activeDashboard  }" ng-class=":edit_modules_toggle: {\'noBorderBottom\' : dashboardNavigationCtrl.isEditingModules}"><div class="modularNavigationContent" ng-if="dashboardNavigationCtrl.allowMultipleDashboards"><div class="appPopoverContainer" on-outside-element-click="dashboardNavigationCtrl.closeDropdown()"><div class="modularNavigationTitle" ng-class=":edit_modules_toggle: {\'modularNavigationTitle--withDropdown\': !dashboardNavigationCtrl.isEditingModules}" ng-click=":edit_modules_toggle: !dashboardNavigationCtrl.isEditingModules &amp;&amp; dashboardNavigationCtrl.toggleDropdown()">{{dashboardNavigationCtrl.activeDashboardTitle}}</div><div class="appPopover appPopover--scrollable appPopover--standalone" ng-show="dashboardNavigationCtrl.isDropdownVisible"><div class="appPopover__inner"><div class="appPopover__content noPadding"><ul class="appOrgSwitcher__list noMaxHeight horizontalRhythm--condensed horizontalRhythmLeft--condensed"><li class="appOrgSwitcher__item" ng-repeat="model in dashboardNavigationCtrl.userDashboards track by model.id" ng-class="{                  \'appOrgSwitcher__item--active\': model.id === dashboardNavigationCtrl.activeDashboard                }"><a class="truncate" ng-click="dashboardNavigationCtrl.view(model); dashboardNavigationCtrl.onView();">{{:edit_modules_toggle: model.getDisplayName()}}</a></li><li class="appOrgSwitcher__item appOrgSwitcher__item--divider"><a class="bold" ng-click="dashboardNavigationCtrl.isEditingDashboards = true" translate="DASHBOARD_SWITCHER_ITEM_MANAGE_DASHBOARDS"></a></li></ul></div></div></div></div><div class="modularNavigationActions modularNavigationActions--left horizontalRhythmLeft"><a class="appLink iconText appIconText appIconText--small" ng-if=":edit_modules_toggle: dashboardNavigationCtrl.isEditingModules" frame-show="dashboardForm" frame-show-data="{model: dashboardNavigationCtrl.getActiveDashboard()}"><span class="iconText__icon icon ubnt-icon--pencil-2"></span><span class="iconText__text" translate="COMMON_ACTIONS_EDIT"></span></a><a class="modularNavigationActionItem modularNavigationActionItem--hoverable" ng-if=":active_dashboard_changed: dashboardNavigationCtrl.isSystemDefault &amp;&amp; dashboardNavigationCtrl.isAddingAllowed" frame-show="dashboardForm" frame-show-data="{model: angular.noop}" frame-show-resolve="dashboardNavigationCtrl.edit(resolveValue)"><div class="modularNavigationActionItemIcon icon ubnt-icon--plus"></div><div class="modularNavigationActionItemText" translate="DASHBOARD_SWITCHER_ITEM_ADD_DASHBOARD"></div></a></div></div><div class="modularNavigationFilters" ng-transclude="sharedFilters"></div><div class="modularNavigationActions modularNavigationActions--right"><a class="modularNavigationActionItem" ng-if=":active_dashboard_changed:edit_modules_toggle: dashboardNavigationCtrl.isEditingAllowed &amp;&amp; !dashboardNavigationCtrl.isEditingModules" ng-click="dashboardNavigationCtrl.isEditingModules = true" translate="DASHBOARD_SWITCHER_ITEM_EDIT_MODULES"></a><button class="appMainButton appMainButton--cozy appMainButton--primary modularNavigationActionItem" ng-if=":active_dashboard_changed:edit_modules_toggle: dashboardNavigationCtrl.isEditingModules &amp;&amp; dashboardNavigationCtrl.isEditingAllowed" ng-click="dashboardNavigationCtrl.isEditingModules = false" translate="DASHBOARD_SWITCHER_ITEM_DONE_EDITING"></button></div></div>'}},{"pug-runtime":23}],1325:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").directive("unifiDynamicFilter",["$compile",function(t){return{scope:{filter:"=unifiDynamicFilter",definition:"=unifiDynamicFilterDefinition",sharedFilters:"=unifiDynamicFilterSharedFilters"},link:function(e,i){var n=e.definition.get("directive");i.append(t("\n          <div\n             "+n+'="filter",\n             '+n+'-definition="definition"\n             '+n+'-shared-filters="sharedFilters"\n          />')(e))}}}])},{}],1326:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").directive("unifiDynamicModule",["$compile",function(t){return{scope:{module:"=unifiDynamicModule",definition:"=unifiDynamicModuleDefinition",sharedFilters:"=unifiDynamicModuleSharedFilters",isLoading:"=unifiDynamicModuleIsLoading",isEditing:"=unifiDynamicModuleIsEditing",isEditingAllowed:"=unifiDynamicModuleIsEditingAllowed",isSticky:"=?unifiDynamicModuleIsSticky",isHidden:"=?unifiDynamicModuleIsHidden"},link:function(e,i){var n=e.definition.get("directive")+(e.isSticky?"-sticky":"");i.append(t('\n          <div ng-hide="isHidden"\n             '+n+'="module"\n             '+n+'-definition="definition"\n             '+n+'-shared-filters="sharedFilters"\n             '+n+'-is-loading="isLoading"\n             '+n+'-is-editing="isEditing"\n             '+n+'-is-editing-allowed="isEditingAllowed"\n          />')(e))}}}])},{}],1327:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").directive("unifiLoadingModule",[function(){return{scope:{failedToLoad:"=unifiLoadingModuleFailed",isLoading:"=unifiLoadingModuleIsLoading",loader:"=unifiLoadingModuleLoader",missingPermission:"=unifiLoadingModuleMissingPermission",missingPermissionName:"=unifiLoadingModuleMissingPermissionName",retry:"&unifiLoadingModuleRetry",layout:"=?unifiLoadingModuleLayout",isDark:"=?unifiLoadingModuleIsDark"},template:t("./loadingModule.pug")()}}])},{"./loadingModule.pug":1328}],1328:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div><div ng-switch="::loader"><unifi-distribution-loading-module ng-switch-when="distribution" unifi-distribution-loading-module-is-loading="isLoading" unifi-distribution-loading-module-failed="failedToLoad"></unifi-distribution-loading-module><unifi-port-usage-loading-module ng-switch-when="port-usage" unifi-port-usage-loading-module-items-length="4" unifi-port-usage-loading-module-is-loading="isLoading" unifi-port-usage-loading-module-failed="failedToLoad"></unifi-port-usage-loading-module><unifi-routing-utilization-loading-module ng-switch-when="routing-utilization" unifi-routing-utilization-loading-module-items-length="2" unifi-routing-utilization-loading-module-is-loading="isLoading" unifi-routing-utilization-loading-module-failed="failedToLoad"></unifi-routing-utilization-loading-module><unifi-summary-loading-module ng-switch-when="summary" unifi-summary-loading-module-items-length="4" unifi-summary-loading-module-is-loading="isLoading" unifi-summary-loading-module-failed="failedToLoad"></unifi-summary-loading-module><unifi-top-dpi-items-loading-module ng-switch-when="top-dpi-items-5" unifi-top-dpi-items-loading-module-items-length="5" unifi-top-dpi-items-loading-module-with-donut="false" unifi-top-dpi-items-loading-module-is-loading="isLoading" unifi-top-dpi-items-loading-module-failed="failedToLoad"></unifi-top-dpi-items-loading-module><unifi-top-dpi-items-loading-module ng-switch-when="top-dpi-items-10" unifi-top-dpi-items-loading-module-items-length="10" unifi-top-dpi-items-loading-module-with-donut="false" unifi-top-dpi-items-loading-module-is-loading="isLoading" unifi-top-dpi-items-loading-module-failed="failedToLoad"></unifi-top-dpi-items-loading-module><unifi-top-dpi-items-loading-module ng-switch-when="top-dpi-items-5-donut" unifi-top-dpi-items-loading-module-items-length="5" unifi-top-dpi-items-loading-module-with-donut="true" unifi-top-dpi-items-loading-module-is-loading="isLoading" unifi-top-dpi-items-loading-module-failed="failedToLoad"></unifi-top-dpi-items-loading-module><unifi-top-items-loading-module ng-switch-when="top-items-5" unifi-top-items-loading-module-items-length="5" unifi-top-items-loading-module-is-loading="isLoading" unifi-top-items-loading-module-failed="failedToLoad"></unifi-top-items-loading-module><unifi-top-items-loading-module ng-switch-when="top-items-10" unifi-top-items-loading-module-items-length="10" unifi-top-items-loading-module-is-loading="isLoading" unifi-top-items-loading-module-failed="failedToLoad"></unifi-top-items-loading-module><unifi-vpn-list-loading-module ng-switch-when="vpn-list" unifi-vpn-list-loading-module-items-length="5" unifi-vpn-list-loading-module-is-loading="isLoading" unifi-vpn-list-loading-module-failed="failedToLoad"></unifi-vpn-list-loading-module><div'+(i="ng-switch-default",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><div class="moduleLoadingStatus" ng-if="isLoading &amp;&amp; !failedToLoad"><div class="appSpinner appSpinner--medium" ng-class="isDark ? \'appSpinner--light\' : \'appSpinner--dark\'"></div></div></div></div><div class="appInfoBox appInfoBox--danger appInfoBox--cozy appInfoBox--noBorder verticalRhythmTop--cozy noPadding" ng-if="isLoading &amp;&amp; failedToLoad" ng-class="{\'appInfoBox--dark\': isDark}"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="COMMON_NOTICE_LOAD_ERROR_TITLE"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="!missingPermission" translate="COMMON_NOTICE_LOAD_ERROR_MESSAGE"></p><p class="noMarginBottom" ng-if="missingPermission" translate="COMMON_NOTICE_LOAD_ERROR_MISSING_PERMISSION_MESSAGE" translate-values="{permission: missingPermissionName}"></p></div><div class="appInfoBox__footer"><button class="appMainButton appMainButton--primary appMainButton--cozy retryLoad" translate="COMMON_ACTIONS_RETRY" ng-click="retry()"></button></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1329:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").directive("unifiUnavailableDonutModule",[function(){return{scope:{icon:"=unifiUnavailableDonutModuleIcon",translationKey:"=?unifiUnavailableDonutModuleTranslationKey"},template:t("./unavailableDonutModule.pug")()}}])},{"./unavailableDonutModule.pug":1330}],1330:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="moduleDonutUnavailable"><unifi-donut-chart-placeholder></unifi-donut-chart-placeholder><div class="moduleDonutLegend alignCenter"><div class="icon" ng-class="icon || \'ubnt-icon--alert\'"></div><div class="label" ng-if="translationKey" translate="{{translationKey}}"></div></div></div>'}},{"pug-runtime":23}],1331:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").directive("unifiUnavailableModule",[function(){return{scope:{icon:"<unifiUnavailableModuleIcon",translationKey:"=?unifiUnavailableModuleTranslationKey",isStandalone:"<?unifiUnavailableModuleIsStandalone"},template:t("./unavailableModule.pug")()}}])},{"./unavailableModule.pug":1332}],1332:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="moduleUnavailable" ng-class="::{\'moduleUnavailable--standalone\': isStandalone}"><div class="icon" ng-class="::icon || \'ubnt-icon--alert\'"></div><div class="label" ng-if="translationKey" translate="{{translationKey}}"></div></div>'}},{"pug-runtime":23}],1333:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").config(["frameProvider",function(e){e.when("dashboardForm",{controller:"DashboardFormController",controllerAs:"dashboardFormCtrl",layout:"dashboardFormLayout",template:t("../views/frames/dashboardForm.pug")()})}])},{"../views/frames/dashboardForm.pug":1364}],1334:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").constant("DASHBOARD_COLORS",{STANDARD_10:["#00a0df","#13bb72","#89d23a","#fee902","#f09300","#f8640b","#ff3516","#c1456e","#8355c5","#427bd2"],BLUE_GRADIENT_10:["#01579b","#0277bd","#0288d1","#039be5","#03a9f4","#29b6f6","#4fc3f7","#81d4fa","#b3e5fc","#e1f5fe"],BLUE_GRADIENT_5:["#01579b","#0288d1","#03a9f4","#4fc3f7","#b3e5fc"]})},{}],1335:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").constant("DASHBOARD_EVENTS",{DASHBOARD_SCROLL_TOP:"dashboard-scroll-top",DASHBOARD_SCROLL_BOTTOM:"dashboard-scroll-bottom",DASHBOARD_MODULES_CHANGED:"dashboard-modules-changed"})},{}],1336:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").constant("DASHBOARD_MODULE_LAYOUTS",{SINGLE:"single",DOUBLE:"double",TRIPLE:"triple",FULL:"full"})},{}],1337:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").constant("DASHBOARD_TRANSITION_RATES",{EDITING_TRANSITION_RATE:300})},{}],1338:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("base-unifi-dashboard").factory("BaseModuleController",["moduleControllerMixin",function(t){return function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t(this)}return n(e,[{key:"init",value:function(){return this.initConfig(),this.resolve()}},{key:"resolve",value:function(){}},{key:"retry",value:function(){}},{key:"destroy",value:function(){}}]),e}()}])},{}],1339:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseFormController");function o(t,e,i,o,r,a,s,l,c,u,d){this.$q=t,this.$translate=i,this.dashboards=r,this.fileUtils=a,this.frame=s,this.heyToasts=l,this.system=d,n.call(this,u),e(function(){this.updateModel(c||new o)}.bind(this),0)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.isEditing=function(){return this.model&&this.model.id},o.prototype.handleImportError=function(t){return this.importError=this.importError||t,this.$q.reject(!1)},o.prototype.importDashboard=function(t){this.clearImport(),t&&t instanceof Blob?(this.isImporting=!0,this.importedFilename=t.name,this.importPromise=this.fileUtils.readLocalToText(t).then(function(t){return(t=JSON.parse(t)).modules&&t.modules.length?t.modules.some(function(t){return!this.dashboards.moduleDefinitions.get(t.module_id)}.bind(this))?this.handleImportError(this.$translate.instant("DASHBOARD_ACTIONS_IMPORT_ERROR_INCOMPATIBLE_MODULES",{dashboardControllerVersion:t.controller_version,currentControllerVersion:this.system.repository.model.get("version")})):(this.importedModulesCount=t.modules.length,this.modelCopy.set(t),!0):this.handleImportError(this.$translate.instant("DASHBOARD_ACTIONS_IMPORT_ERROR_MISSING_MODULES"))}.bind(this)).catch(function(){return this.handleImportError(this.$translate.instant("DASHBOARD_ACTIONS_IMPORT_ERROR_INVALID_FILE"))}.bind(this)).finally(function(){this.isImporting=!1}.bind(this))):this.importPromise=this.handleImportError(this.$translate.instant("DASHBOARD_ACTIONS_IMPORT_ERROR_MISSING_FILE"))},o.prototype.save=function(){return(this.importPromise?this.importPromise:this.isEditing()?this.$q.when():this.modelCopy.fetchCommon({withWebRTC:!1})).then(function(){this.isSaving=!0,(this.isEditing()?this.dashboards.save(this.model,this.modelCopy.attributes):this.dashboards.create(this.modelCopy)).then(function(){this.frame.getLayout("dashboardFormLayout").resolve(this.modelCopy)}.bind(this))}.bind(this)).catch(function(t){this.heyToasts.pushError(t)}.bind(this)).finally(function(){this.isSaving=!1}.bind(this))},o.prototype.clearImport=function(){var t={name:this.modelCopy.get("name"),desc:this.modelCopy.get("desc")};this.reset(),this.modelCopy.set(t)},o.prototype.reset=function(){n.prototype.reset.call(this),this.importPromise=void 0,this.importError=void 0,this.importedFilename=void 0,this.importedModulesCount=void 0,this.isImporting=!1,this.isSaving=!1,this.showValidation=!1},o.$inject=["$q","$timeout","$translate","DashboardModel","dashboards","fileUtils","frame","heyToasts","model","modelDivergence","system"],angular.module("base-unifi-dashboard").controller("DashboardFormController",o)},{}],1340:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard",["base-unifi","unifi","unifi-d3"]),t("./components/dashboardConfigureDashboards/DashboardConfigureDashboardsController.js"),t("./components/dashboardConfigureDashboards/dashboardConfigureDashboards.js"),t("./components/dashboardConfigureModules/DashboardConfigureModulesController.js"),t("./components/dashboardConfigureModules/dashboardConfigureModules.js"),t("./components/dashboardContainer/DashboardContainerController.js"),t("./components/dashboardContainer/dashboardContainer.js"),t("./components/dashboardFilters/DashboardFiltersController.js"),t("./components/dashboardFilters/dashboardFilters.js"),t("./components/dashboardList/DashboardListController.js"),t("./components/dashboardList/dashboardList.js"),t("./components/dashboardModules/DashboardModulesController.js"),t("./components/dashboardModules/dashboardModules.js"),t("./components/dashboardNavigation/DashboardNavigationController.js"),t("./components/dashboardNavigation/dashboardNavigation.js"),t("./components/dynamicFilter/dynamicFilter.js"),t("./components/dynamicModule/dynamicModule.js"),t("./components/loadingModule/loadingModule.js"),t("./components/unavailableDonutModule/unavailableDonutModule.js"),t("./components/unavailableModule/unavailableModule.js"),t("./config/frames.js"),t("./constants/DASHBOARD_COLORS.js"),t("./constants/DASHBOARD_EVENTS.js"),t("./constants/DASHBOARD_MODULE_LAYOUTS.js"),t("./constants/DASHBOARD_TRANSITION_RATES.js"),t("./controllers/BaseModuleController.js"),t("./controllers/DashboardFormController.js"),t("./run/templateCache.js"),t("./services/builderFactories/FilterDirective.js"),t("./services/builderFactories/ModuleDirective.js"),t("./services/collections/DashboardCollection.js"),t("./services/collections/DashboardFilterDefinitionCollection.js"),t("./services/collections/DashboardModuleDefinitionCollection.js"),t("./services/comparators/dashboardModuleDefinitionsComparator.js"),t("./services/controllerMixins/filterControllerMixin.js"),t("./services/controllerMixins/groupModuleControllerMixin.js"),t("./services/controllerMixins/moduleControllerMixin.js"),t("./services/dashboards.js"),t("./services/filters/DashboardModuleDefinitionsFilter.js"),t("./services/models/DashboardAssociatedModel.js"),t("./services/models/DashboardFilterDefinitionModel.js"),t("./services/models/DashboardMgrModel.js"),t("./services/models/DashboardModel.js"),t("./services/models/DashboardModuleDefinitionModel.js"),t("./services/providers/dashboardModulesCollectionViewProvider.js")},{"./components/dashboardConfigureDashboards/DashboardConfigureDashboardsController.js":1304,"./components/dashboardConfigureDashboards/dashboardConfigureDashboards.js":1305,"./components/dashboardConfigureModules/DashboardConfigureModulesController.js":1307,"./components/dashboardConfigureModules/dashboardConfigureModules.js":1308,"./components/dashboardContainer/DashboardContainerController.js":1310,"./components/dashboardContainer/dashboardContainer.js":1311,"./components/dashboardFilters/DashboardFiltersController.js":1313,"./components/dashboardFilters/dashboardFilters.js":1314,"./components/dashboardList/DashboardListController.js":1316,"./components/dashboardList/dashboardList.js":1317,"./components/dashboardModules/DashboardModulesController.js":1319,"./components/dashboardModules/dashboardModules.js":1320,"./components/dashboardNavigation/DashboardNavigationController.js":1322,"./components/dashboardNavigation/dashboardNavigation.js":1323,"./components/dynamicFilter/dynamicFilter.js":1325,"./components/dynamicModule/dynamicModule.js":1326,"./components/loadingModule/loadingModule.js":1327,"./components/unavailableDonutModule/unavailableDonutModule.js":1329,"./components/unavailableModule/unavailableModule.js":1331,"./config/frames.js":1333,"./constants/DASHBOARD_COLORS.js":1334,"./constants/DASHBOARD_EVENTS.js":1335,"./constants/DASHBOARD_MODULE_LAYOUTS.js":1336,"./constants/DASHBOARD_TRANSITION_RATES.js":1337,"./controllers/BaseModuleController.js":1338,"./controllers/DashboardFormController.js":1339,"./run/templateCache.js":1346,"./services/builderFactories/FilterDirective.js":1347,"./services/builderFactories/ModuleDirective.js":1348,"./services/collections/DashboardCollection.js":1349,"./services/collections/DashboardFilterDefinitionCollection.js":1350,"./services/collections/DashboardModuleDefinitionCollection.js":1351,"./services/comparators/dashboardModuleDefinitionsComparator.js":1352,"./services/controllerMixins/filterControllerMixin.js":1353,"./services/controllerMixins/groupModuleControllerMixin.js":1354,"./services/controllerMixins/moduleControllerMixin.js":1355,"./services/dashboards.js":1356,"./services/filters/DashboardModuleDefinitionsFilter.js":1357,"./services/models/DashboardAssociatedModel.js":1358,"./services/models/DashboardFilterDefinitionModel.js":1359,"./services/models/DashboardMgrModel.js":1360,"./services/models/DashboardModel.js":1361,"./services/models/DashboardModuleDefinitionModel.js":1362,"./services/providers/dashboardModulesCollectionViewProvider.js":1363}],1341:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<tr class="modularTableRow modularTableRow--placeholder"><td colspan="3"></td></tr>'}},{"pug-runtime":23}],1342:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="moduleContainer moduleContainer--double moduleContainer--placeholder"></div>'}},{"pug-runtime":23}],1343:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="moduleContainer moduleContainer--full moduleContainer--placeholder"></div>'}},{"pug-runtime":23}],1344:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="moduleContainer moduleContainer--single moduleContainer--placeholder"></div>'}},{"pug-runtime":23}],1345:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="moduleContainer moduleContainer--triple moduleContainer--placeholder"></div>'}},{"pug-runtime":23}],1346:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").run(["$templateCache",function(e){e.put("partials/dashboardRowPlaceholder.html",t("../partials/dashboardRowPlaceholder.pug")()),e.put("partials/moduleSinglePlaceholder.html",t("../partials/moduleSinglePlaceholder.pug")()),e.put("partials/moduleDoublePlaceholder.html",t("../partials/moduleDoublePlaceholder.pug")()),e.put("partials/moduleTriplePlaceholder.html",t("../partials/moduleTriplePlaceholder.pug")()),e.put("partials/moduleFullPlaceholder.html",t("../partials/moduleFullPlaceholder.pug")())}])},{"../partials/dashboardRowPlaceholder.pug":1341,"../partials/moduleDoublePlaceholder.pug":1342,"../partials/moduleFullPlaceholder.pug":1343,"../partials/moduleSinglePlaceholder.pug":1344,"../partials/moduleTriplePlaceholder.pug":1345}],1347:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("FilterDirective",["MixinContainer",function(t){return function(e,i,n){var o=e.charAt(0).toUpperCase()+e.slice(1),r=new t;return{addMixin:r.addMixin,scope:angular.extend({},n||{},{model:"=unifi"+o+"Filter",definition:"=unifi"+o+"FilterDefinition",sharedFilters:"=?unifi"+o+"FilterSharedFilters"}),controller:o+"FilterController",controllerAs:e+"FilterCtrl",bindToController:!0,template:i,link:function(t,e,i,n){t.directiveId=t.$id,t.$on("$destroy",function(){n.destroyFilter(),n.destroy&&n.destroy()}),r.initMixins(t,e,i,n),n.initFilter(),n.init&&n.init()}}}}])},{}],1348:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("ModuleDirective",["$timeout","MixinContainer","DASHBOARD_TRANSITION_RATES",function(t,e,i){return function(n,o,r){var a=n.charAt(0).toUpperCase()+n.slice(1),s=new e;return{addMixin:s.addMixin,scope:angular.extend({},r||{},{model:"=unifi"+a+"Module",definition:"=unifi"+a+"ModuleDefinition",sharedFilters:"=?unifi"+a+"ModuleSharedFilters",isLoading:"=?unifi"+a+"ModuleIsLoading",_isEditing:"=?unifi"+a+"ModuleIsEditing",isEditingAllowed:"=?unifi"+a+"ModuleIsEditingAllowed"}),controller:a+"ModuleController",controllerAs:n+"ModuleCtrl",bindToController:!0,template:o,link:function(e,n,o,r){e.directiveId=e.$id,e.$on("$destroy",r.destroy.bind(r)),e.$watch(function(){return r._isEditing},function(e,n){e?(r.isEditing=!0,t(function(){r.isEditingVisible=!0},100)):(r.isEditingVisible=!1,n&&r.updateConfig(),t(function(){r.isEditing=!1},i.EDITING_TRANSITION_RATE+100))}),s.initMixins(e,n,o,r),r.init()}}}}])},{}],1349:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("DashboardCollection",["$q","CORSCollection","DashboardModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return e.extend(n).extend(o).extend(r).extend(a).extend({model:i,siteUrl:"stat/list-dashboards",_isActiveSiteOptional:!0,comparator:function(t){return[(t.get("name")||"").toLowerCase()]},fetch:function(i){return e.prototype.fetch.call(this,i).then(function(){var e=this.findWhere({attr_hidden_id:"Default"});return e&&!e.get("modules").length?e.fetchDefaults({withWebRTC:!1}):t.when()}.bind(this))}})}])},{}],1350:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("DashboardFilterDefinitionCollection",["BaseCollection","DashboardFilterDefinitionModel",function(t,e){return t.extend({model:e})}])},{}],1351:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("DashboardModuleDefinitionCollection",["BaseCollection","DashboardModuleDefinitionModel",function(t,e){return t.extend({model:e})}])},{}],1352:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").service("dashboardModuleDefinitionsComparator",["$translate","collectionViewComparator",function(t,e){return{default:function(i,n){var o=t.instant(i.get("translationKey")),r=t.instant(n.get("translationKey"));return e(o,r)}}}])},{}],1353:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("filterControllerMixin",["BaseModel",function(t){return function(e,i){e.initFilter||angular.extend(e,{initFilter:function(){this.sharedFilters[this.definition.id]||(this.sharedFilters[this.definition.id]=new t)}}),angular.extend(e,{getFilter:function(){return this.sharedFilters[this.definition.id]},destroyFilter:function(){delete this.sharedFilters[this.definition.id]}}),i&&angular.extend(e,{initConfig:function(){var t=(this.definition.get("attrs")||{}).defaultConfig||{},e=this.model.get("config")||{};this.config=angular.extend({},t,e)},updateConfig:function(){this.model.set("config",angular.extend({},this.config))}})}}])},{}],1354:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("groupModuleControllerMixin",["DashboardModel","dashboards",function(t,e){return function(i){angular.extend(i,{resolveModules:function(){this.modules=[],this.missingModuleCount=0,this.group=this.group||new t,this.group.get("modules").reset(this.config.modules||[]),this.group.get("modules").each(function(t){var i=e.moduleDefinitions.get(t.get("module_id"));i?this.modules.push({id:t.id,module:t,definition:i}):this.missingModuleCount++},this)}})}}])},{}],1355:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("moduleControllerMixin",[function(){return function(t){angular.extend(t,{initConfig:function(){var t=(this.definition.get("attrs")||{}).defaultConfig||{},e=this.model.get("config")||{};this.config=angular.extend({},t,e)},updateConfig:function(){this.model.set("config",angular.extend({},this.config))}})}}])},{}],1356:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").service("dashboards",["$q","$translate","account","apiResults","BaseCollectionRepository","DashboardCollection","DashboardMgrModel","DashboardFilterDefinitionCollection","DashboardModuleDefinitionCollection",function(t,e,i,n,o,r,a,s,l){this.repository=new o(new r),this.moduleDefinitions=new l,this.filterDefinitions=new s,this.getDashboards=function(){return this.repository.collection.models},this.getUserDashboards=function(){var t=this.getDashboardConfig().dashboards;return Object.keys(t).filter(function(t){return!!this.repository.collection.get(t)},this).map(function(t){return this.repository.collection.get(t)},this).sort(function(e,i){return t[e.id].order-t[i.id].order},this)},this.create=function(i){return(new a).save(angular.extend(i.attributes,{cmd:"create-dashboard",is_public:!1})).then(function(t){i.unset("cmd"),i.set(i.parse(t.data)),this.repository.collection.add(i,{silent:!0}),this.subscribeDashboard(this.repository.collection.get(i.id)),this.repository.collection.trigger("update")}.bind(this)).catch(function(o){return t.reject(n.appendErrorMsg(e.instant("DASHBOARD_ACTIONS_CREATE_ERROR",{name:i.get("name")}),o))})},this.save=function(i,o){return o=o||i.attributes,(new a).save(angular.extend(o,{cmd:"update-dashboard",_id:i.id})).then(function(t){this.repository.collection.add(i.parse(t.data),{merge:!0}),this.repository.collection.trigger("update")}.bind(this)).catch(function(o){return t.reject(n.appendErrorMsg(e.instant("DASHBOARD_ACTIONS_SAVE_ERROR",{name:i.get("name")}),o))})},this.remove=function(i){return(new a).save({cmd:"remove-dashboard",_id:i.get("_id")}).then(function(){this.repository.collection.remove(i,{silent:!0})}.bind(this)).catch(function(o){return t.reject(n.appendErrorMsg(e.instant("DASHBOARD_ACTIONS_REMOVE_ERROR",{name:i.get("name")}),o))})},this.getDashboardConfig=function(){var t=i.getUiSettings("dashboardConfig")||{};return t.dashboards=t.dashboards||this.getDefaultDashboardSubscription(),t},this.getDefaultDashboardSubscription=function(){var t=this.repository.collection.findWhere({attr_hidden_id:"Default"}),e={};return t&&(e[t.id]={order:1}),e},this.isDashboardSubscribed=function(t){return!!this.getDashboardConfig().dashboards[t.id]},this.subscribeDashboard=function(t){var e=this.getDashboardConfig(),i=this.getDashboardConfig().dashboards;return i[t.id]={order:i.length},this.updateUiSettings(e)},this.unsubscribeDashboard=function(t){var e=this.getDashboardConfig();return delete e.dashboards[t.id],this.updateUiSettings(e)},this.setDashboardOrder=function(t){var e=this.getDashboardConfig();return e.dashboards=t.reduce(function(t,i,n){return t[i]=e.dashboards[i]||{},t[i].order=n,t},{}),this.updateUiSettings(e)},this.updateUiSettings=function(t){var e=t.dashboards||{};return Object.keys(e).forEach(function(t){this.repository.collection.get(t)||delete e[t]},this),i.setUiSettings("dashboardConfig",t)},this.getActiveDashboard=function(){var t=i.getUiSettings("dashboardConfig")||{};return t.lastActiveDashboardId&&this.repository.collection.get(t.lastActiveDashboardId)||(t.lastActiveDashboardId=this.repository.collection.findWhere({attr_hidden_id:"Default"}).id,this.updateUiSettings(t)),t.lastActiveDashboardId},this.updateLastActiveDashboard=function(t){var e=i.getUiSettings("dashboardConfig")||{};e.lastActiveDashboardId=t.id,this.updateUiSettings(e)},this.isDefaultDashboard=function(t){return!!t.get("attr_hidden_id")},this.isEditingModulesAllowed=function(t){return!(!t||t.get("attr_no_edit"))&&(i.isSuperAdmin()||i.hasPermission("API_DASHBOARD_EDIT"))},this.isAddingDashboardAllowed=function(){return i.isSuperAdmin()||i.hasPermission("API_DASHBOARD_EDIT")}}])},{}],1357:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("DashboardModuleDefinitionsFilter",["$translate","BaseSearchableModelFilter",function(t,e){var i=function(){e.call(this),this.filters={layout:{},isCompatible:void 0}};return(i.prototype=Object.create(e.prototype)).constructor=i,i.prototype.testTranslationKey=function(e){var i=this.searchQuery?this.searchQuery.toLowerCase().split(" "):[];return i.length?this.testPhrase(t.instant(e.get("translationKey")),i):void 0},i.prototype.test=function(t){return(!this.filters.noHidden||!t.get("isHidden"))&&(!(this.filters.layout&&!this.filters.layout[t.get("layout")])&&(!(this.filters.isCompatible&&this.isCompatibleFilterAvailable()&&!this.isCompatible(t))&&(!1!==this.testTranslationKey(t)&&(this.filters.dashboardType?-1!==(t.get("dashboardType")||["primary"]).indexOf(this.filters.dashboardType):e.prototype.test.call(this,t)))))},i.prototype.updateLayoutFilter=function(t,e){this.filters.layout[t]=e},i.prototype.updateIsCompatibleFilter=function(t){this.filters.isCompatible=t},i.prototype.isCompatibleFilterAvailable=function(){return"function"==typeof this.isCompatible},i}])},{}],1358:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("DashboardAssociatedModel",["AssociatedModel","getNestedMixin",function(t,e){return t.extend(e).extend({idAttribute:"id",defaults:function(){return{config:{}}},initialize:function(){this.on("add",this._generateUniqueId,this)},_generateUniqueId:function(t){if(t.has(t.idAttribute))return t.id;var e=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)});return this.get(e)?this._generateUniqueId(t):t.set(t.idAttribute,e)}})}])},{}],1359:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("DashboardFilterDefinitionModel",["BaseModel","getNestedMixin",function(t,e){return t.extend(e)}])},{}],1360:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("DashboardMgrModel",["CORSModel","cmdUrlMixin","modelDelegateMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(n).extend(o).extend(r).extend(i).extend(e).extend({_isActiveSiteOptional:!0,siteUrl:"cmd/dashboardmgr",_delegateFallbackCache:{sync:t.prototype}})}])},{}],1361:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("DashboardModel",["$translate","_","AssociatedModel","Backbone","BaseCollection","CORSAssociatedModel","DashboardAssociatedModel","deepCopyMixin","defaultsUrlMixin","getNestedMixin","relationChangeMixin","resolveMixin","savePartialMixin","siteUrlMixin","structureMixin","UnifiDefaultsBasePath","webrtcMixin",function(t,e,i,n,o,r,a,s,l,c,u,d,p,f,h,_,m){return r.extend(f).extend(h).extend(s).extend(c).extend(d).extend(m).extend(u).extend(p).extend(l).extend({idAttribute:"_id",defaultsUrl:"dashboard-default-modules.json",commonUrl:"dashboard-common-modules.json",defaults:function(){return{filters:[],modules:[]}},relations:[{type:n.Many,key:"filters",collectionType:o,relatedModel:a},{type:n.Many,key:"modules",collectionType:o,relatedModel:a}],initialize:function(){this.initializeRelationChangeMixin()},getDisplayName:function(){return"Default"===this.get("attr_hidden_id")?t.instant("DASHBOARD_NAMES_SYSTEM_DEFAULT"):this.get("name")},exportJSON:function(){return e.omit(this.toJSON(),["_id","author_admin_id","attr_hidden_id","attr_no_delete","attr_no_edit","is_public","filters"])},fetchCommon:function(t){return(t=t||{}).url=_+"/"+this.commonUrl,this.fetch(t)}})}])},{}],1362:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").factory("DashboardModuleDefinitionModel",["BaseModel","getNestedMixin",function(t,e){return t.extend(e)}])},{}],1363:[function(t,e,i){"use strict";angular.module("base-unifi-dashboard").provider("dashboardModulesCollectionView",[function(){var t,e;this.overrideComparator=function(e){t=e},this.overrideFilter=function(t){e=t},this.$get=["$injector","DashboardModuleDefinitionsFilter","dashboardModuleDefinitionsComparator",function(i,n,o){return{getComparator:function(){return t?i.get(t):o},getFilter:function(){return e?i.get(e):n},getFilterInstance:function(){return new(this.getFilter())}}}]}])},{}],1364:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiDashboardForm"><div class="appControlModal appControlModal--light appControlModal--tiny" id="dashboardFormModal"><div class="appControlModal__close" frame-close="dashboardForm"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="{{dashboardFormCtrl.isEditing() ? \'DASHBOARD_FORM_TITLE_EDIT\' : \'DASHBOARD_FORM_TITLE_ADD\'}}"></div><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="dashboardFormCtrl.form" ng-class="{        \'is-form-validation-visible\': dashboardFormCtrl.showValidation,        \'is-validation-hidden\': !dashboardFormCtrl.showValidation      }" ng-submit="dashboardFormCtrl.form.$valid &amp;&amp; dashboardFormCtrl.save()"><div class="appControlModal__content appControlModalScrollableContent" ng-if="dashboardFormCtrl.model"><fieldset class="appFieldset appFieldset--quiet verticalRhythmTop--cozy"><div class="appFormGroup appFormGroup--cozy"><label class="appLabel--primary" translate="DASHBOARD_FORM_LABEL_NAME"></label><input class="input--full" type="text" name="dashboardName" ng-model="dashboardFormCtrl.modelCopy.attributes.name" ng-model-master="dashboardFormCtrl.model.attributes.name" required="true"'+n("autofocus",!0,!0,!0)+'></div><div class="appFormGroup appFormGroup--comfy"><label class="appLabel--primary" translate="DASHBOARD_FORM_LABEL_DESCRIPTION"></label><input class="input--full" type="text" name="dashboardDescription" ng-model="dashboardFormCtrl.modelCopy.attributes.desc" ng-model-master="dashboardFormCtrl.model.attributes.desc"></div></fieldset><fieldset class="appFieldset appFieldset--quiet is-form-validation-visible" ng-if="!dashboardFormCtrl.isEditing()"><label class="appLabel appLabel--primary" translate="DASHBOARD_FORM_LABEL_IMPORT"></label><div class="appFormGroup appFormGroup--condensed" ng-if="dashboardFormCtrl.importedFilename"><label translate="{{dashboardFormCtrl.importedFilename ? \'DASHBOARD_FORM_VALUE_FILENAME_UPLOADED\' : \'DASHBOARD_FORM_VALUE_FILENAME_MISSING\'}}" translate-values="{filename: dashboardFormCtrl.importedFilename}"></label><div class="appActionIcon horizontalRhythmLeft--cozy" ng-if="dashboardFormCtrl.importedFilename" ng-click="dashboardFormCtrl.clearImport()" ng-attr-title="{{\'DASHBOARD_FORM_CLEAR_UPLOAD\' | translate}}"><span class="icon ubnt-icon--x"></span></div></div><div class="appFormUpload appFormUpload--large verticalRhythm--cozy" ng-hide="dashboardFormCtrl.importedFilename || dashboardFormCtrl.importError"'+n("ngf-select",!0,!0,!0)+n("ngf-drop",!0,!0,!0)+' ngf-change="dashboardFormCtrl.importDashboard($file)" ngf-drag-over-class="\'is-dragover\'"><div class="appFormUploadContent"><div class="appFormUploadContentIcon icon ubnt-icon--download-2"></div><div class="appFormUploadContentLabel"><span class="appDisplaySpaceAfter" translate="DASHBOARD_FORM_UPLOAD_TEXT"></span><span class="primary clickable" translate="DASHBOARD_FORM_UPLOAD_LINK"></span></div></div></div><div class="appInputFeedback appInputFeedback--danger" ng-if="dashboardFormCtrl.importError">{{dashboardFormCtrl.importError}}</div></fieldset></div><div class="appControlModal__content"><div class="appFormGroup appFormGroup--smash alignRight"><button class="appMainButton appMainButton--transparent appMainButton--cozy" type="button" frame-close="dashboardForm">{{\'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--cozy" ng-click="dashboardFormCtrl.showValidation = true" ng-disabled="dashboardFormCtrl.isImporting || dashboardFormCtrl.isSaving">{{(dashboardFormCtrl.isEditing() ? \'COMMON_ACTIONS_SAVE\' : (dashboardFormCtrl.importedFilename ? \'COMMON_ACTIONS_IMPORT\' : \'COMMON_ACTIONS_CREATE\')) | translate}}</button></div></div></form></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1365:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseButtonController");function o(t,e,i,o,r,a,s,l,c,u){this.$translate=t,this.deviceAdoptStrategy=e,this.deviceStateUtils=i,this.deviceUtils=o,this.devices=r,this.DEVICE_STATES=a,this.frame=s,this.heyToasts=l,this.account=c,n.call(this,c),u(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){var t=this.deviceStateUtils.getDeviceState(this.model);this.isApplicable=-1!==[this.DEVICE_STATES.PENDING,this.DEVICE_STATES.ADOPTION_REQUIRED,this.DEVICE_STATES.ADOPTING].indexOf(t),this.isPending=t===this.DEVICE_STATES.ADOPTING},o.prototype.updateCollection=function(t){this.collection=t},o.prototype.showButton=function(){return this.isApplicable&&(!this.model.isGateway()||this.showForNonAdoptableGateway||this.deviceUtils.isGatewayAdoptable(this.model,this.collection))&&(this.account.isSuperAdmin()||this.account.isAdmin()||this.account.hasPermission("API_DEVICE_ADOPT"))},o.prototype.isNonAdoptableGateway=function(){return this.model&&this.collection&&this.model.isGateway()&&!this.deviceUtils.isGatewayAdoptable(this.model,this.collection)},o.prototype.submit=function(t){t.preventDefault(),t.stopPropagation(),this.isPending=!0;var e=this.model.get("elite");return e&&e.replacement_for_mac?this.replace(e.replacement_for_mac):this.adopt()},o.prototype.replace=function(t){var e=this.devices.repository.collection.get(t);return this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_APPLY_CONFIGURATION_HEADER",{deviceName:e.getDisplayName()})}.bind(this),message:function(){return this.$translate.instant("DEVICE_APPLY_CONFIGURATION_MESSAGE",{deviceName:e.getDisplayName()})}.bind(this),options:angular.noop}).then(function(){return this.replaceDevice()}.bind(this)).catch(function(){return this.adopt()}.bind(this))},o.prototype.adopt=function(){var t=this;return this.deviceAdoptStrategy.adoptDevice(this.model,this.getSiteModel()).then(function(e){return t.onSuccess&&t.onSuccess(),t.heyToasts.pushSuccess(e),!0}).catch(function(e){return e&&t.heyToasts.pushError(e),t.isPending=!1,!1})},o.prototype.replaceDevice=function(){return this.deviceUtils.replaceDevice(this.model,this.getSiteModel()).then(function(t){var e=this.model.get("elite").replacement_for_mac;return this.collection.remove(e),this.onSuccess&&this.onSuccess(),this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),this.isPending=!1,!1}.bind(this))},o.$inject=["$translate","deviceAdoptStrategy","deviceStateUtils","deviceUtils","devices","DEVICE_STATES","frame","heyToasts","account","buttonHasSitePermissionControllerMixin"],angular.module("base-unifi-device").controller("DeviceButtonAdoptController",o)},{}],1366:[function(t,e,i){"use strict";angular.module("base-unifi-device").directive("unifiDeviceButtonAdopt",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiDeviceButtonAdopt",collection:"=unifiDeviceButtonAdoptCollection",isLabeled:"=unifiDeviceButtonAdoptIsLabeled",isResponsive:"=unifiDeviceButtonAdoptIsResponsive",isReverse:"=unifiDeviceButtonAdoptIsReverse",withSite:"=unifiDeviceButtonAdoptWithSite",onSuccess:"&?unifiDeviceButtonAdoptOnSuccess",showForNonAdoptableGateway:"=unifiDeviceButtonAdoptShowForNonAdoptableGateway"},controller:"DeviceButtonAdoptController",controllerAs:"deviceButtonAdoptCtrl",replace:!0,template:t("./deviceButtonAdopt.pug")(),link:function(t,i,n,o){o.showForNonAdoptableGateway=!!t.showForNonAdoptableGateway,o.siteName=t.withSite,o.onSuccess=t.onSuccess;var r=t.$watch("collection",function(e){o.updateCollection(e),t.isOneTimeBinding&&r()});e.init(t,i,n,o,!0),t.$on("$destroy",function(){o.removeEventHandlers()})}}}])},{"./deviceButtonAdopt.pug":1367}],1367:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div ng-show="deviceButtonAdoptCtrl.showButton()" ng-click="deviceButtonAdoptCtrl.submit($event)" ng-class="{\'is-responsive\': isResponsive}" ng-disabled="deviceButtonAdoptCtrl.isPending || deviceButtonAdoptCtrl.isNonAdoptableGateway()" title="{{!deviceButtonAdoptCtrl.isNonAdoptableGateway() ? (\'DEVICE_ACTIONS_ADOPT\' | translate) : \'\'}}"'+(i="unifi-fix-disabled",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><span class="button__icon icon" ng-class="deviceButtonAdoptCtrl.isPending &amp;&amp; isLabeled ? \'ubnt-icon--clock-2\' : (isReverse ? \'ubnt-icon--plus\' : \'ubnt-icon--plus-circle\')"></span><span class="button__label" ng-if="::isLabeled" translate="DEVICE_ACTIONS_ADOPT"></span></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1368:[function(t,e,i){"use strict";function n(t,e,i,n,o){this.deviceUplinkUtils=t,this.deviceChannelUtils=e,this.heyToasts=i,this.frame=n,this.hasPermission=o.isAdmin.bind(o)}n.prototype.showButton=function(){return this.hasPermission()},n.prototype.submit=function(t){return t.preventDefault(),t.stopPropagation(),this.isUplinkDfs()?this.displayWarningFrame():this.link()},n.prototype.isUplinkDfs=function(){return this.uplink&&this.uplink.get("na-channel")&&this.deviceChannelUtils.isChannelDfs(this.uplink.get("na-channel"))},n.prototype.displayWarningFrame=function(){var t=this;return this.frame.show("wirelessUplinkDfsWarning",{uplink:function(){return t.uplink}}).then(function(){return t.link()})},n.prototype.link=function(){var t=this;return this.isPending=!0,this.deviceUplinkUtils.linkDevices(this.uplink,this.downlink).then(function(e){return t.heyToasts.pushSuccess(e),!0}).catch(function(e){return t.heyToasts.pushError(e),!1}).finally(function(){t.isPending=!1})},n.$inject=["deviceUplinkUtils","deviceChannelUtils","heyToasts","frame","account"],angular.module("base-unifi-device").controller("DeviceButtonLinkController",n)},{}],1369:[function(t,e,i){"use strict";angular.module("base-unifi-device").directive("unifiDeviceButtonLink",[function(){return{scope:{uplink:"=unifiDeviceButtonLinkUplink",downlink:"=unifiDeviceButtonLinkDownlink",isLabeled:"=unifiDeviceButtonLinkIsLabeled",isResponsive:"=unifiDeviceButtonLinkIsResponsive"},controller:"DeviceButtonLinkController",controllerAs:"deviceButtonLinkCtrl",bindToController:!0,replace:!0,template:t("./deviceButtonLink.pug")()}}])},{"./deviceButtonLink.pug":1370}],1370:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div ng-show="deviceButtonLinkCtrl.showButton()" ng-click="deviceButtonLinkCtrl.submit($event)" ng-class="{\'is-responsive\': isResponsive}" ng-disabled="deviceButtonLinkCtrl.isPending" title="{{\'DEVICE_ACTIONS_LINK\' | translate}}"'+(i="unifi-fix-disabled",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><span class="button__icon icon" ng-class="deviceButtonLinkCtrl.isPending &amp;&amp; isLabeled ? \'ubnt-icon--clock-2\' : \'ubnt-icon--link\'"></span><span class="button__label" ng-if="deviceButtonLinkCtrl.isLabeled" translate="DEVICE_ACTIONS_LINK"></span></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1371:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseButtonController");function o(t,e,i,o,r,a,s){this.$injector=t,this.deviceUtils=e,this.deviceStateUtils=i,this.DEVICE_STATES=o,this.heyToasts=r,n.call(this,a),s(this),this.isLocating=!1}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){this.isApplicable=this.deviceStateUtils.getRawDeviceState(this.model)===this.DEVICE_STATES.CONNECTED,this.isLocating=this.model.get("locating")},o.prototype.toggle=function(t){return t.preventDefault(),t.stopPropagation(),this.isPending=!0,this.deviceUtils.locateDevice(this.model,void 0,this.getSiteModel()).then(function(t){this.model.get("locating")&&this.locateOnMap&&this.$injector.get("mapUtils").locateDevice(this.model);return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isPending=!1}.bind(this))},o.$inject=["$injector","deviceUtils","deviceStateUtils","DEVICE_STATES","heyToasts","account","buttonHasSitePermissionControllerMixin"],angular.module("base-unifi-device").controller("DeviceButtonLocateController",o)},{}],1372:[function(t,e,i){"use strict";angular.module("base-unifi-device").directive("unifiDeviceButtonLocate",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiDeviceButtonLocate",isLabeled:"=unifiDeviceButtonLocateIsLabeled",isResponsive:"=unifiDeviceButtonLocateIsResponsive",withSite:"=unifiDeviceButtonLocateWithSite",withMap:"=unifiDeviceButtonLocateWithMap"},controller:"DeviceButtonLocateController",controllerAs:"deviceButtonLocateCtrl",replace:!0,template:t("./deviceButtonLocate.pug")(),link:function(t,i,n,o){o.siteName=t.withSite,o.locateOnMap=t.withMap,t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./deviceButtonLocate.pug":1373}],1373:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div ng-show="deviceButtonLocateCtrl.showButton()" ng-click="deviceButtonLocateCtrl.toggle($event)" ng-class="{    \'is-button-notifying\': deviceButtonLocateCtrl.isLocating || deviceButtonLocateCtrl.isPending,    \'is-responsive\': isResponsive  }" title="{{\'DEVICE_ACTIONS_LOCATE\' | translate}}"><span class="button__icon icon" ng-class="deviceButtonLocateCtrl.isLocating &amp;&amp; isLabeled ? \'ubnt-icon--check-2\' : \'ubnt-icon--location-2\'"></span><span class="button__label" ng-if="::isLabeled" translate="DEVICE_ACTIONS_LOCATE"></span></div>'}},{"pug-runtime":23}],1374:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseButtonController");function o(t,e,i,o,r,a,s,l,c,u){this.$q=t,this.deviceUtils=e,this.deviceBatchUtils=i,this.deviceStateUtils=o,this.DEVICE_STATES=r,this.frame=a,this.heyToasts=s,this.preferences=c,n.call(this,l),u(this,"API_DEVICE_RESTART")}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){if(this.isBatch)this.isApplicable=!0,this.isPending=!1;else{var t=this.deviceStateUtils.getDeviceState(this.model);this.isApplicable=-1!==[this.DEVICE_STATES.CONNECTED,this.DEVICE_STATES.RESTARTING].indexOf(t),this.isPending=t===this.DEVICE_STATES.RESTARTING}},o.prototype.restart=function(t){var e;t.preventDefault(),t.stopPropagation();var i=this.isBatch||this.withHardReboot||this.model.isGateway();return(!0!==this.preferences.model.get("bypassConfirmRestart")||i?this.frame.show("confirmRestart",{model:function(){return this.model}.bind(this),isBatch:function(){return this.isBatch}.bind(this),withHardReboot:function(){return this.withHardReboot}.bind(this),bypassFlag:function(){return i?void 0:"bypassConfirmRestart"}}).then(function(t){e=t}):this.$q.when()).then(function(){return this.isPending=!0,(this.isBatch?this.deviceBatchUtils.restartDevices(this.model,e,this.getSiteModel()):this.deviceUtils.restartDevice(this.model,e,this.getSiteModel())).then(function(t){return this.onSuccess&&this.onSuccess(),this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),this.isPending=!1,!1}.bind(this))}.bind(this))},o.$inject=["$q","deviceUtils","deviceBatchUtils","deviceStateUtils","DEVICE_STATES","frame","heyToasts","account","preferences","buttonHasSitePermissionControllerMixin"],angular.module("base-unifi-device").controller("DeviceButtonRestartController",o)},{}],1375:[function(t,e,i){"use strict";angular.module("base-unifi-device").directive("unifiDeviceButtonRestart",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiDeviceButtonRestart",isBatch:"=unifiDeviceButtonRestartIsBatch",isLabeled:"=unifiDeviceButtonRestartIsLabeled",isResponsive:"=unifiDeviceButtonRestartIsResponsive",withSite:"=unifiDeviceButtonRestartWithSite",withHardReboot:"=unifiDeviceButtonRestartWithHardReboot",onSuccess:"&?unifiDeviceButtonRestartOnSuccess"},controller:"DeviceButtonRestartController",controllerAs:"deviceButtonRestartCtrl",replace:!0,template:t("./deviceButtonRestart.pug")(),link:function(t,i,n,o){o.isBatch=t.isBatch,o.siteName=t.withSite,o.withHardReboot=t.withHardReboot,o.onSuccess=t.onSuccess,t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./deviceButtonRestart.pug":1376}],1376:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div ng-show="deviceButtonRestartCtrl.showButton()" ng-click="deviceButtonRestartCtrl.restart($event)" ng-class="{\'is-responsive\': isResponsive}" ng-disabled="deviceButtonRestartCtrl.isPending" title="{{\'DEVICE_ACTIONS_RESTART\' | translate}}"'+(i="unifi-fix-disabled",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><span class="button__icon icon" ng-class="deviceButtonRestartCtrl.isPending &amp;&amp; isLabeled ? \'ubnt-icon--clock-2\' : \'ubnt-icon--restart\'"></span><span class="button__label" ng-if="::isLabeled" translate="DEVICE_ACTIONS_RESTART"></span></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1377:[function(t,e,i){"use strict";function n(t,e,i){this.deviceUplinkUtils=t,this.heyToasts=e,this.hasPermission=i.isAdmin.bind(i)}n.prototype.showButton=function(){return this.hasPermission()},n.prototype.unlink=function(t){return t.preventDefault(),t.stopPropagation(),this.isPending=!0,this.deviceUplinkUtils.unlinkDevices(this.uplink,this.downlink).then(function(t){return this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),!1}.bind(this)).finally(function(){this.isPending=!1}.bind(this))},n.$inject=["deviceUplinkUtils","heyToasts","account"],angular.module("base-unifi-device").controller("DeviceButtonUnlinkController",n)},{}],1378:[function(t,e,i){"use strict";angular.module("base-unifi-device").directive("unifiDeviceButtonUnlink",[function(){return{scope:{uplink:"=unifiDeviceButtonUnlinkUplink",downlink:"=unifiDeviceButtonUnlinkDownlink",isLabeled:"=unifiDeviceButtonUnlinkIsLabeled",isResponsive:"=unifiDeviceButtonUnlinkIsResponsive"},controller:"DeviceButtonUnlinkController",controllerAs:"deviceButtonUnlinkCtrl",bindToController:!0,replace:!0,template:t("./deviceButtonUnlink.pug")()}}])},{"./deviceButtonUnlink.pug":1379}],1379:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div ng-show="deviceButtonUnlinkCtrl.showButton()" ng-click="deviceButtonUnlinkCtrl.unlink($event)" ng-class="{\'is-responsive\': isResponsive}" ng-disabled="deviceButtonUnlinkCtrl.isPending" title="{{\'DEVICE_ACTIONS_UNLINK\' | translate}}"'+(i="unifi-fix-disabled",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><span class="button__icon icon" ng-class="deviceButtonUnlinkCtrl.isPending &amp;&amp; isLabeled ? \'ubnt-icon--clock-2\' : \'ubnt-icon--trashcan\'"></span><span class="button__label" ng-if="deviceButtonUnlinkCtrl.isLabeled" translate="DEVICE_ACTIONS_UNLINK"></span></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1380:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseButtonController");function o(t,e,i,o,r,a,s,l,c,u,d){this.$q=t,this.$translate=e,this.deviceUtils=i,this.deviceStateUtils=o,this.DEVICE_STATES=r,this.frame=a,this.heyToasts=s,this.preferences=c,this.semanticVersion=u,n.call(this,l),d(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){var t=this.deviceStateUtils.getRawDeviceState(this.model);this.isApplicable=t===this.DEVICE_STATES.UPGRADING,this.isDowngradable=this.isDowngradeAvailable(),!0===this.model.get("upgradable")&&(t===this.DEVICE_STATES.CONNECTED&&(this.isApplicable=!0),t===this.DEVICE_STATES.PENDING&&"wireless"!==this.model.getNested("uplink.type")&&(this.isApplicable=!0)),this.isPending=t===this.DEVICE_STATES.UPGRADING},o.prototype.isDowngradeAvailable=function(){return this.model&&this.model.get("upgrade_to_firmware")&&this.semanticVersion.satisfies(this.model.get("version"),">"+this.model.get("upgrade_to_firmware"))},o.prototype.upgrade=function(t){t.preventDefault(),t.stopPropagation();return(!0!==this.preferences.model.get("bypassConfirmUpgrade")?this.frame.show("confirm",{title:function(){return this.$translate.instant(this.isDowngradable?"DEVICE_ACTIONS_DOWNGRADE_CONFIRM_TITLE":"DEVICE_ACTIONS_UPGRADE_CONFIRM_TITLE",{deviceName:this.model.getDisplayName()})}.bind(this),message:function(){return this.model.get("upgrade_to_firmware")?this.$translate.instant(this.isDowngradable?"DEVICE_ACTIONS_DOWNGRADE_CONFIRM_VERSION_MESSAGE":"DEVICE_ACTIONS_UPGRADE_CONFIRM_VERSION_MESSAGE",{deviceName:this.model.getDisplayName(),fromVersion:this.model.get("version"),toVersion:this.model.get("upgrade_to_firmware")}):this.$translate.instant("DEVICE_ACTIONS_UPGRADE_CONFIRM_MESSAGE",{deviceName:this.model.getDisplayName()})}.bind(this),options:function(){return{bypassFlag:"bypassConfirmUpgrade"}}}):this.$q.when()).then(function(){return this.isPending=!0,this.deviceUtils.upgradeDevice(this.model,void 0,this.getSiteModel()).then(function(t){return this.onSuccess&&this.onSuccess(),this.heyToasts.pushSuccess(t),!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),this.isPending=!1,!1}.bind(this))}.bind(this))},o.$inject=["$q","$translate","deviceUtils","deviceStateUtils","DEVICE_STATES","frame","heyToasts","account","preferences","semanticVersion","buttonHasSitePermissionControllerMixin"],angular.module("base-unifi-device").controller("DeviceButtonUpgradeController",o)},{}],1381:[function(t,e,i){"use strict";angular.module("base-unifi-device").directive("unifiDeviceButtonUpgrade",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiDeviceButtonUpgrade",isLabeled:"=unifiDeviceButtonUpgradeIsLabeled",isResponsive:"=unifiDeviceButtonUpgradeIsResponsive",withSite:"=unifiDeviceButtonUpgradeWithSite",onSuccess:"&?unifiDeviceButtonUpgradeOnSuccess"},controller:"DeviceButtonUpgradeController",controllerAs:"deviceButtonUpgradeCtrl",replace:!0,template:t("./deviceButtonUpgrade.pug")(),link:function(t,i,n,o){o.siteName=t.withSite,o.onSuccess=t.onSuccess,t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./deviceButtonUpgrade.pug":1382}],1382:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div ng-show="deviceButtonUpgradeCtrl.showButton()" ng-click="deviceButtonUpgradeCtrl.upgrade($event)" ng-class="{\'is-responsive\': isResponsive}" ng-disabled="deviceButtonUpgradeCtrl.isPending" ng-attr-title="{{deviceButtonUpgradeCtrl.isDowngradable ? \'DEVICE_ACTIONS_DOWNGRADE\' : \'DEVICE_ACTIONS_UPGRADE\' | translate}}"'+(i="unifi-fix-disabled",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+'><span class="button__icon icon" ng-class="deviceButtonUpgradeCtrl.isPending &amp;&amp; isLabeled ? \'ubnt-icon--clock-2\' : \'ubnt-icon--firmware-update\'"></span><span class="button__label" ng-if="!deviceButtonUpgradeCtrl.isPending &amp;&amp; isLabeled" translate="{{deviceButtonUpgradeCtrl.isDowngradable ? \'DEVICE_ACTIONS_DOWNGRADE\' : \'DEVICE_ACTIONS_UPGRADE\' }}"></span><span class="button__label" ng-if="deviceButtonUpgradeCtrl.isPending &amp;&amp; isLabeled" translate="{{\'DEVICE_ACTIONS_UPDATE_FIRMWARE\'}}"></span></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1383:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseCollectionButtonController");function o(t,e,i,o,r,a){this.$translate=t,this.deviceUtils=e,this.heyToasts=i,this.frame=r,this.collectionChangeEvent="add remove reset change:upgradable change:rollupgrade",n.call(this,o),a(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onCollectionChange=function(){this.collection?(this.isRunning=!!this.collection.findWhere({type:"uap",rollupgrade:!0}),this.isPending=this.isRunning&&this.isCancelled||!this.isRunning&&this.isStarted||!1,this.isApplicable=this.isRunning||this.isPending||!!this.collection.findWhere({type:"uap",upgradable:!0})):(this.isApplicable=!1,this.isPending=!1,this.isRunning=!1)},o.prototype.toggle=function(t){return this.isRunning?this.cancel(t):this.upgrade(t)},o.prototype.upgrade=function(t){return t.preventDefault(),t.stopPropagation(),this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_START_CONFIRM_TITLE")}.bind(this),message:function(){return this.$translate.instant("DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_START_CONFIRM_MESSAGE")}.bind(this),options:angular.noop}).then(function(){return this.isStarted=!0,this.isCancelled=!1,this.deviceUtils.startRollingUpgrade(this.getSiteModel()).then(function(t){return this.heyToasts.pushSuccess(t),this.isPending=!0,!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),this.isStarted=!1,!1}.bind(this))}.bind(this))},o.prototype.cancel=function(t){return t.preventDefault(),t.stopPropagation(),this.frame.show("confirm",{title:function(){return this.$translate.instant("DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_STOP_CONFIRM_TITLE")}.bind(this),message:function(){return this.$translate.instant("DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_STOP_CONFIRM_MESSAGE")}.bind(this),options:angular.noop}).then(function(){return this.isCancelled=!0,this.isStarted=!1,this.deviceUtils.stopRollingUpgrade(this.getSiteModel()).then(function(t){return this.heyToasts.pushSuccess(t),this.isPending=!0,!0}.bind(this)).catch(function(t){return this.heyToasts.pushError(t),this.isCancelled=!1,!1}.bind(this))}.bind(this))},o.$inject=["$translate","deviceUtils","heyToasts","account","frame","buttonHasSitePermissionControllerMixin"],angular.module("base-unifi-device").controller("DeviceListButtonRollingUpgradeController",o)},{}],1384:[function(t,e,i){"use strict";angular.module("base-unifi-device").directive("unifiDeviceListButtonRollingUpgrade",[function(){return{scope:{collection:"=unifiDeviceListButtonRollingUpgrade",isLabeled:"=unifiDeviceListButtonRollingUpgradeIsLabeled",isResponsive:"=unifiDeviceListButtonRollingUpgradeIsResponsive",withSite:"=unifiDeviceListButtonRollingUpgradeWithSite"},controller:"DeviceListButtonRollingUpgradeController",controllerAs:"deviceListButtonRollingUpgradeCtrl",replace:!0,template:t("./deviceListButtonRollingUpgrade.pug")(),link:function(t,e,i,n){n.siteName=t.withSite,t.$watch("collection",function(t){n.updateCollection(t)}),t.$on("$destroy",function(){n.removeEventHandlers()})}}}])},{"./deviceListButtonRollingUpgrade.pug":1385}],1385:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div ng-show="deviceListButtonRollingUpgradeCtrl.showButton()" ng-click="deviceListButtonRollingUpgradeCtrl.toggle($event)" ng-class="{\'is-responsive\': isResponsive}" ng-disabled="deviceListButtonRollingUpgradeCtrl.isPending" title="{{deviceListButtonRollingUpgradeCtrl.isRunning ? \'DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_STOP\' : \'DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_START\' | translate}}"'+n("unifi-fix-disabled",!0,!0,!0)+'><span class="button__icon icon" ng-class="{      \'ubnt-icon--firmware-update\': !deviceListButtonRollingUpgradeCtrl.isPending &amp;&amp; !deviceListButtonRollingUpgradeCtrl.isRunning,      \'ubnt-icon--minus-circle\': !deviceListButtonRollingUpgradeCtrl.isPending &amp;&amp; deviceListButtonRollingUpgradeCtrl.isRunning,      \'ubnt-icon--clock-2\': deviceListButtonRollingUpgradeCtrl.isPending    }"></span><span class="button__label" ng-if="::isLabeled"'+n("translate",!0,!0,!0)+">{{deviceListButtonRollingUpgradeCtrl.isRunning ? 'DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_STOP' : 'DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_START'}}</span></div>"};var o=/["&<>]/},{"pug-runtime":23}],1386:[function(t,e,i){"use strict";angular.module("base-unifi-device").config(["frameProvider",function(e){e.when("confirmRestart",{controller:"ConfirmRestartController",controllerAs:"confirmRestartCtrl",layout:"confirmLayout",template:t("../views/frames/confirmRestart.pug")()}).when("wirelessUplinkDfsWarning",{controller:"WirelessUplinkDfsWarningController",controllerAs:"wirelessUplinkDfsWarningCtrl",layout:"wirelessUplinkDfsWarningLayout",template:t("../views/frames/wirelessUplinkDfsWarning.pug")()})}])},{"../views/frames/confirmRestart.pug":1477,"../views/frames/wirelessUplinkDfsWarning.pug":1478}],1387:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("COUNTRY_CODES_WITH_FCC_DFS",["AS","CA","GU","MP","PR","US","VI"])},{}],1388:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("DEFAULT_HT",{na:"40",ng:"20"})},{}],1389:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("DEVICE_ADOPT_L3",{CHECK_DEVICE_AFTER_SETTING_INFORM_FREQUENCY:1e3,CHECK_DEVICE_AFTER_SETTING_INFORM_MAX_ATTEMPTS:10})},{}],1390:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("DEVICE_CATEGORIES",{ADOPTING:"DEVICE_CATEGORY_ADOPTING",INACTIVE:"DEVICE_CATEGORY_INACTIVE",LAN:"DEVICE_CATEGORY_LAN",MANAGED_BY_OTHER:"DEVICE_CATEGORY_MANAGED_BY_OTHER_SHORT",PENDING:"DEVICE_CATEGORY_PENDING_SHORT",WLAN:"DEVICE_CATEGORY_WLAN",WAN:"DEVICE_CATEGORY_WAN"})},{}],1391:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("DEVICE_INFORM",{DEFAULT_PORT:"8080",DEFAULT_HOST:"unifi.yourdomain.com",ENDPOINT:"/inform",PROTOCOL:"http://"})},{}],1392:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("DEVICE_LICENSE_STATES",{REGISTERED:"registered",REGISTRATION_FAILED:"registration_failed",GRACE_PERIOD:"grace_period",HOST_DOWN:"host_is_down",UNKNOWN:"unknown"})},{}],1393:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("DEVICE_STATES",{CONNECTED:"DEVICE_STATE_CONNECTED",PENDING:"DEVICE_STATE_PENDING",FIRMWARE_MISMATCH:"DEVICE_STATE_FIRMWARE_MISMATCH",UPGRADING:"DEVICE_STATE_UPGRADING",PROVISIONING:"DEVICE_STATE_PROVISIONING",HEARTBEAT_MISSED:"DEVICE_STATE_HEARTBEAT_MISSED",ADOPTING:"DEVICE_STATE_ADOPTING",DELETING:"DEVICE_STATE_DELETING",DISCONNECTED:"DEVICE_STATE_DISCONNECTED",RESTARTING:"DEVICE_STATE_RESTARTING",INFORM_ERROR:"DEVICE_STATE_INFORM_ERROR",ADOPTION_REQUIRED:"DEVICE_STATE_ADOPTION_REQUIRED",ADOPTION_FAILED:"DEVICE_STATE_ADOPTION_FAILED",ISOLATED:"DEVICE_STATE_ISOLATED",RFSCANNING:"DEVICE_STATE_RFSCANNING",MANAGED_BY_OTHER:"DEVICE_STATE_MANAGED_BY_OTHER",UNKNOWN:"DEVICE_STATE_UNKNOWN"})},{}],1394:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("DEVICE_STATE_FLAGS",{ELITE:"DEVICE_STATE_FLAG_ELITE",INCOMPATIBLE_MODEL:"DEVICE_STATE_FLAG_INCOMPATIBLE_MODEL",ISOLATED:"DEVICE_STATE_FLAG_ISOLATED",LOCALLY_DISCOVERED:"DEVICE_STATE_FLAG_LOCALLY_DISCOVERED",MODEL_EOL_PENDING:"DEVICE_STATE_FLAG_MODEL_EOL_PENDING",WIRELESS:"DEVICE_STATE_FLAG_WIRELESS",WIRED_FULL_DUPLEX:"DEVICE_STATE_FLAG_WIRED_FULL_DUPLEX",WIRED_HALF_DUPLEX:"DEVICE_STATE_FLAG_WIRED_HALF_DUPLEX",NEEDS_UPGRADE:"DEVICE_STATE_FLAG_NEEDS_UPGRADE",LICENSE_GRACE_PERIOD:"DEVICE_STATE_FLAG_LICENSE_GRACE_PERIOD",LICENSE_REGISTRATION_FAILED:"DEVICE_STATE_FLAG_LICENSE_REGISTRATION_FAILED",DISABLED:"DEVICE_STATE_FLAG_DISABLED",MIGRATING:"DEVICE_STATE_FLAG_MIGRATING",UPGRADE_PREPARING_REBOOT:"DEVICE_STATE_FLAG_UPGRADE_PREPARING_REBOOT",FIRMWARE_DOWNLOADING:"DEVICE_STATE_FLAG_FIRMWARE_DOWNLOADING",UPGRADE_FAILED_REBOOT:"DEVICE_STATE_FLAG_UPGRADE_FAILED_REBOOT",DEVICE_FIRMWARE_READY:"DEVICE_STATE_FLAG_DEVICE_FIRMWARE_READY",DEVICE_FIRMWARE_WRITING:"DEVICE_STATE_FLAG_DEVICE_FIRMWARE_WRITING"})},{}],1395:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("DEVICE_STATE_IDS",{DISCONNECTED:0,CONNECTED:1,PENDING:2,FIRMWARE_MISMATCH:3,UPGRADING:4,PROVISIONING:5,HEARTBEAT_MISSED:6,ADOPTING:7,DELETING:8,INFORM_ERROR:9,ADOPTION_FAILED:10,ISOLATED:11})},{}],1396:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("DEVICE_TYPES",{AP:"uap",GATEWAY:"ugw",SWITCH:"usw"})},{}],1397:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("DHCP_USER_OPTION",{MIN_CODE:7,MAX_CODE:254,MIN_USER_CODE:224,MAX_USER_CODE:254,DISALLOWED_CODES:[15,42,43,44,51,66,67,252],DHCP_USER_OPTION_PREFIX:"dhcpd_user_option_",SIGNED_EXTENTS:{8:{min:Math.pow(2,8)/-2,max:Math.pow(2,8)/2-1},16:{min:Math.pow(2,16)/-2,max:Math.pow(2,16)/2-1},32:{min:Math.pow(2,32)/-2,max:Math.pow(2,32)/2-1}},UNSIGNED_EXTENTS:{8:{min:0,max:Math.pow(2,8)-1},16:{min:0,max:Math.pow(2,16)-1},32:{min:0,max:Math.pow(2,32)-1}}})},{}],1398:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("DISCOVERED_DEVICE",{LAST_SEEN_TIMEOUT:300})},{}],1399:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("ELITE_ASSIGNMENT_STATES",{ASSIGNED:"ASSIGNED",RMA_IN_PROGRESS:"RMA_IN_PROGRESS",REPLACING:"REPLACING",REPLACED:"REPLACED",REVOKED:"REVOKED"})},{}],1400:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("EXTERNAL_ANTENNA",{CUSTOM:{GAIN:6,ID:-1},UMAD:{ID:3}})},{}],1401:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("FIRMWARE_CAPS",{SSH:1,STA_STAT:2,UTERM:4,DNSMASQ:8,QCASWITCH:16,FWUPDATE:32,DPI:64,LAG:128,OWRTSWITCH:256,SNMP:8192,SNMPV3:16384,ELITE_DEVICE:131072})},{}],1402:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("HARDWARE_CAPS",{SCREEN:1,LEDBAR:2})},{}],1403:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("NETWORK_DEFAULTS",{DEFAULT_NETWORK_INTERFACES:2,LAN2_NUM:2,WAN2_NUM:2,MAX_DHCP_LEASES:5e5,MAX_DHCPV6_LEASES:2e3})},{}],1404:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("POE_CAPS",{"8023AF":1,"8023AT":2,PASV24:4,PASSTHROUGHABLE:8,PASSTHROUGH:16})},{}],1405:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("POE_MAX_POWER",{"8023AF":15.4,"8023AT":30,PASV24:0,PASSTHROUGHABLE:0,PASSTHROUGH:0})},{}],1406:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("POE_VOLTAGE",{PASV24:"24.00",POE_PLUS:"48.00"})},{}],1407:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("RADIO_CAPS",{RADIO_CAP_FIXED_CCODE:1,RADIO_CAP_SUPER:2,RADIO_CAP_11N_DRIVER:4,RADIO_CAP_11N_CHAIN1x1:8,RADIO_CAP_11N_CHAIN2x2:16,RADIO_CAP_11N_CHAIN3x3:32,RADIO_CAP_11N_RXCHAIN1:64,RADIO_CAP_11N_RXCHAIN2:128,RADIO_CAP_11N_TXCHAIN1:256,RADIO_CAP_11N_TXCHAIN2:512,RADIO_CAP_11N_NO_HT40:1024,RADIO_CAP_AIRMAX_ONLY:2048,RADIO_CAP_LOW_TXPOWER_MODE:4096,RADIO_CAP_FAST_CLOCK:8192,RADIO_CAP_INDOOR:16384,RADIO_CAP_HSR:32768,RADIO_CAP_RESTRICTED_RANGE:65536,RADIO_CAP_STRICT_MODE_MINRSSI:131072,RADIO_CAP_DFS:16777216,RADIO_CAP_FCC_DFS:33554432,RADIO_CAP_11N_CHAIN4x4:67108864,RADIO_CAP_VHT160:134217728,RADIO_CAP_AIRTIME:268435456,RADIO_CAP_AIRVIEW:536870912})},{}],1408:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("RADIO_STATES",{DFS_WAIT:"DFS_WAIT",INIT:"INIT",RUN:"RUN"})},{}],1409:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("RADIO_TYPES",{NA:{type:"na",frequency:"5 GHz"},NG:{type:"ng",frequency:"2.4 GHz"}})},{}],1410:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("TRAFFIC",{UNIT:{BYTES:"B",BPS:"bps",PACKETS:"pkts"},TYPE:{ALL:"all",MULTICAST:"multicast",BROADCAST:"broadcast"},DIRECTION:{TOTAL:"total",TX:"tx",RX:"rx"},CONNECTION:{ALL:"all",WIRED:"wired",WIRELESS:"wireless"}})},{}],1411:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("USG_CAPS",{UNIFI_USG_CAP_DPI:1,UNIFI_USG_CAP_PORTA:2,UNIFI_USG_CAP_DEFAULT_ROUTE_DISTANCE:4,UNIFI_USG_CAP_SSH_DISABLE:8,UNIFI_USG_CAP_RADIUS:16,UNIFI_USG_CAP_FIREWALL_CONTIGUOUS_OPTION:32,UNIFI_USG_CAP_GEO_IP_FILTERING:64,UNIFI_USG_CAP_IPS:128,UNIFI_USG_CAP_DDNS_EXTENDED:256,UNIFI_USG_CAP_WAN_EVENT_REPORT:512,UNIFI_USG_CAP_PORT_REASSIGNMENT:2048})},{}],1412:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("WIFI_BANDS",{UNII_1:"unii1",UNII_2:"unii2",UNII_2_EXT:"unii2ext",UNII_3:"unii3",ISM:"ism5g"})},{}],1413:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("WIFI_CAPS",{VWIRE:1,ZERO_HANDOFF:2,BANDSTEER:4,BANDSTEER_PER_VAP:8,RF_SCAN:16,AIRTIME_CONFIG:32,BGA_FILTER:64,MESH:128,MIN_RSSI_STRICT_MODE:256,MULTIPLE_ACL_LIST:1024,MESHV3:2048,UNIFI_WIFI_CAP_RADIUS_MAC_AUTH:4096})},{}],1414:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("WIFI_CHANNELS",{ng:{20:{1:{lowerFrequency:2401,centerFrequency:2412,upperFrequency:2423,subChannels:[1]},2:{lowerFrequency:2406,centerFrequency:2417,upperFrequency:2428,subChannels:[2]},3:{lowerFrequency:2411,centerFrequency:2422,upperFrequency:2433,subChannels:[3]},4:{lowerFrequency:2416,centerFrequency:2427,upperFrequency:2438,subChannels:[4]},5:{lowerFrequency:2421,centerFrequency:2432,upperFrequency:2443,subChannels:[5]},6:{lowerFrequency:2426,centerFrequency:2437,upperFrequency:2448,subChannels:[6]},7:{lowerFrequency:2431,centerFrequency:2442,upperFrequency:2453,subChannels:[7]},8:{lowerFrequency:2436,centerFrequency:2447,upperFrequency:2458,subChannels:[8]},9:{lowerFrequency:2441,centerFrequency:2452,upperFrequency:2463,subChannels:[9]},10:{lowerFrequency:2446,centerFrequency:2457,upperFrequency:2468,subChannels:[10]},11:{lowerFrequency:2451,centerFrequency:2462,upperFrequency:2473,subChannels:[11]},12:{lowerFrequency:2456,centerFrequency:2467,upperFrequency:2478,subChannels:[12]},13:{lowerFrequency:2461,centerFrequency:2472,upperFrequency:2483,subChannels:[13]},14:{lowerFrequency:2473,centerFrequency:2484,upperFrequency:2495,subChannels:[14]}},40:{3:{lowerFrequency:2401,centerFrequency:2422,upperFrequency:2443,subChannels:[1,5]},4:{lowerFrequency:2406,centerFrequency:2427,upperFrequency:2448,subChannels:[2,6]},5:{lowerFrequency:2411,centerFrequency:2432,upperFrequency:2453,subChannels:[3,7]},6:{lowerFrequency:2416,centerFrequency:2437,upperFrequency:2458,subChannels:[4,8]},7:{lowerFrequency:2421,centerFrequency:2442,upperFrequency:2463,subChannels:[5,9]},8:{lowerFrequency:2426,centerFrequency:2447,upperFrequency:2468,subChannels:[6,10]},9:{lowerFrequency:2431,centerFrequency:2452,upperFrequency:2473,subChannels:[7,11]},10:{lowerFrequency:2436,centerFrequency:2457,upperFrequency:2478,subChannels:[8,12]},11:{lowerFrequency:2441,centerFrequency:2462,upperFrequency:2483,subChannels:[9,13]}}},na:{20:{7:{lowerFrequency:5030,centerFrequency:5035,upperFrequency:5040,subChannels:[7]},8:{lowerFrequency:5030,centerFrequency:5040,upperFrequency:5050,subChannels:[8]},9:{lowerFrequency:5040,centerFrequency:5045,upperFrequency:5050,subChannels:[9]},11:{lowerFrequency:5050,centerFrequency:5055,upperFrequency:5060,subChannels:[11]},12:{lowerFrequency:5050,centerFrequency:5060,upperFrequency:5070,subChannels:[12]},16:{lowerFrequency:5070,centerFrequency:5080,upperFrequency:5090,subChannels:[16]},36:{lowerFrequency:5170,centerFrequency:5180,upperFrequency:5190,subChannels:[36],band:"unii1"},40:{lowerFrequency:5190,centerFrequency:5200,upperFrequency:5210,subChannels:[40],band:"unii1"},44:{lowerFrequency:5210,centerFrequency:5220,upperFrequency:5230,subChannels:[44],band:"unii1"},48:{lowerFrequency:5230,centerFrequency:5240,upperFrequency:5250,subChannels:[48],band:"unii1"},52:{lowerFrequency:5250,centerFrequency:5260,upperFrequency:5270,subChannels:[52],band:"unii2"},56:{lowerFrequency:5270,centerFrequency:5280,upperFrequency:5290,subChannels:[56],band:"unii2"},60:{lowerFrequency:5290,centerFrequency:5300,upperFrequency:5310,subChannels:[60],band:"unii2"},64:{lowerFrequency:5310,centerFrequency:5320,upperFrequency:5330,subChannels:[64],band:"unii2"},100:{lowerFrequency:5490,centerFrequency:5500,upperFrequency:5510,subChannels:[100],band:"unii2ext"},104:{lowerFrequency:5510,centerFrequency:5520,upperFrequency:5530,subChannels:[104],band:"unii2ext"},108:{lowerFrequency:5530,centerFrequency:5540,upperFrequency:5550,subChannels:[108],band:"unii2ext"},112:{lowerFrequency:5550,centerFrequency:5560,upperFrequency:5570,subChannels:[112],band:"unii2ext"},116:{lowerFrequency:5570,centerFrequency:5580,upperFrequency:5590,subChannels:[116],band:"unii2ext"},120:{lowerFrequency:5590,centerFrequency:5600,upperFrequency:5610,subChannels:[120],band:"unii2ext"},124:{lowerFrequency:5610,centerFrequency:5620,upperFrequency:5630,subChannels:[124],band:"unii2ext"},128:{lowerFrequency:5630,centerFrequency:5640,upperFrequency:5650,subChannels:[128],band:"unii2ext"},132:{lowerFrequency:5650,centerFrequency:5660,upperFrequency:5670,subChannels:[132],band:"unii2ext"},136:{lowerFrequency:5670,centerFrequency:5680,upperFrequency:5690,subChannels:[136],band:"unii2ext"},140:{lowerFrequency:5690,centerFrequency:5700,upperFrequency:5710,subChannels:[140],band:"unii2ext"},144:{lowerFrequency:5710,centerFrequency:5720,upperFrequency:5730,subChannels:[144],band:"unii2ext"},149:{lowerFrequency:5735,centerFrequency:5745,upperFrequency:5755,subChannels:[149],band:"unii3"},153:{lowerFrequency:5755,centerFrequency:5765,upperFrequency:5775,subChannels:[153],band:"unii3"},157:{lowerFrequency:5775,centerFrequency:5785,upperFrequency:5795,subChannels:[157],band:"unii3"},161:{lowerFrequency:5795,centerFrequency:5805,upperFrequency:5815,subChannels:[161],band:"unii3"},165:{lowerFrequency:5815,centerFrequency:5825,upperFrequency:5835,subChannels:[165],band:"ism5g"},183:{lowerFrequency:4910,centerFrequency:4915,upperFrequency:4920,subChannels:[183]},184:{lowerFrequency:4910,centerFrequency:4920,upperFrequency:4930,subChannels:[184]},185:{lowerFrequency:4920,centerFrequency:4925,upperFrequency:4930,subChannels:[185]},187:{lowerFrequency:4930,centerFrequency:4935,upperFrequency:4940,subChannels:[187]},188:{lowerFrequency:4930,centerFrequency:4940,upperFrequency:4950,subChannels:[188]},189:{lowerFrequency:4940,centerFrequency:4945,upperFrequency:4950,subChannels:[189]},192:{lowerFrequency:4950,centerFrequency:4960,upperFrequency:4970,subChannels:[192]},196:{lowerFrequency:4970,centerFrequency:4980,upperFrequency:4990,subChannels:[196]}},40:{38:{lowerFrequency:5170,centerFrequency:5190,upperFrequency:5210,subChannels:[36,40],band:"unii1"},46:{lowerFrequency:5210,centerFrequency:5230,upperFrequency:5250,subChannels:[44,48],band:"unii1"},54:{lowerFrequency:5250,centerFrequency:5270,upperFrequency:5290,subChannels:[52,56],band:"unii2"},62:{lowerFrequency:5290,centerFrequency:5310,upperFrequency:5330,subChannels:[60,64],band:"unii2"},102:{lowerFrequency:5490,centerFrequency:5510,upperFrequency:5530,subChannels:[100,104],band:"unii2ext"},110:{lowerFrequency:5530,centerFrequency:5550,upperFrequency:5570,subChannels:[108,112],band:"unii2ext"},118:{lowerFrequency:5570,centerFrequency:5590,upperFrequency:5610,subChannels:[116,120],band:"unii2ext"},126:{lowerFrequency:5610,centerFrequency:5630,upperFrequency:5650,subChannels:[124,128],band:"unii2ext"},134:{lowerFrequency:5650,centerFrequency:5670,upperFrequency:5690,subChannels:[132,136],band:"unii2ext"},142:{lowerFrequency:5690,centerFrequency:5710,upperFrequency:5730,subChannels:[140,144],band:"unii2ext"},151:{lowerFrequency:5735,centerFrequency:5755,upperFrequency:5775,subChannels:[149,153],band:"unii3"},159:{lowerFrequency:5775,centerFrequency:5795,upperFrequency:5815,subChannels:[157,161],band:"unii3"}},80:{42:{lowerFrequency:5170,centerFrequency:5190,upperFrequency:5250,subChannels:[36,40,44,48],band:"unii1"},58:{lowerFrequency:5250,centerFrequency:5270,upperFrequency:5330,subChannels:[52,56,60,64],band:"unii2"},106:{lowerFrequency:5490,centerFrequency:5510,upperFrequency:5570,subChannels:[100,104,108,112],band:"unii2ext"},122:{lowerFrequency:5570,centerFrequency:5590,upperFrequency:5650,subChannels:[116,120,124,128],band:"unii2ext"},138:{lowerFrequency:5650,centerFrequency:5670,upperFrequency:5730,subChannels:[132,136,140,144],band:"unii2ext"},155:{lowerFrequency:5735,centerFrequency:5755,upperFrequency:5815,subChannels:[149,153,157,161],band:"unii3"}},160:{50:{lowerFrequency:5170,centerFrequency:5250,upperFrequency:5330,subChannels:[36,40,44,48,52,56,60,64],band:"unii1"},114:{lowerFrequency:5490,centerFrequency:5570,upperFrequency:5650,subChannels:[100,104,108,112,116,120,124,128],band:"unii2ext"}}}})},{}],1415:[function(t,e,i){"use strict";angular.module("base-unifi-device").constant("WLAN_SECURITY_TYPES",{OPEN:"open",WEP:"wep",WPA_PERSONAL:"wpapsk",WPA_ENTERPRISE:"wpaeap"})},{}],1416:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("base-unifi-device").controller("ConfirmRestartController",["model","isBatch","withHardReboot","bypassFlag","BaseConfirmController",function(t,e,i,o,r){return new(function(a){function s(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,{bypassFlag:o}));return n.model=t,n.isBatch=e,n.withHardReboot=i,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,r),n(s,[{key:"resolve",value:function(){var t=this.hardReboot?{rebootType:"hard"}:{};return function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0}(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"resolve",this).call(this,t)}}]),s}())}])},{}],1417:[function(t,e,i){"use strict";function n(t,e,i){var n=this;this.$rootScope=t,this.frame=e,this.uplink=i;var o=t.$on("$frameClose:wirelessUplinkDfsWarning",function(){n.removeEventHandlers(),o()});this.addEventHandlers()}n.prototype.addEventHandlers=function(){var t=this;this.removeEventHandlers(),this.events=[this.$rootScope.$on("keyup:enter",function(){t.resolve()})]},n.prototype.removeEventHandlers=function(){this.events&&angular.forEach(this.events,function(t){t()})},n.prototype.resolve=function(){return this.frame.getLayout("wirelessUplinkDfsWarningLayout").resolve()},n.prototype.reject=function(){return this.frame.getLayout("wirelessUplinkDfsWarningLayout").reject()},n.$inject=["$rootScope","frame","uplink"],angular.module("base-unifi-device").controller("WirelessUplinkDfsWarningController",n)},{}],1418:[function(t,e,i){"use strict";angular.module("base-unifi-device").filter("loadAvg",["$translate",function(t){return function(e,i){if(!(e&&e.loadavg_1||i))return t.instant("COMMON_NOT_AVAILABLE");var n=function(e){return e?parseFloat(Math.round(100*e)/100).toFixed(2):t.instant("COMMON_VALUE_UNDEFINED")};return[n((e=e||{}).loadavg_1),n(e.loadavg_5),n(e.loadavg_15)].join(" / ")}}])},{}],1419:[function(t,e,i){"use strict";angular.module("base-unifi-device").filter("radio",["$translate","RADIO_TYPES",function(t,e){return function(i,n){var o=[];if(n=n||{},i){switch(i.get("radio")){case e.NA.type:o.push(t.instant("COMMON_LABEL_RADIO_NA"));break;case e.NG.type:o.push(t.instant("COMMON_LABEL_RADIO_NG"))}n.showInterface&&o.push("("+i.get("name")+")")}return o.join(" ")}}])},{}],1420:[function(t,e,i){"use strict";t("../shared-unifi-device/main"),t("../shared-unifi-discovery/main"),angular.module("base-unifi-device",["base-unifi","shared-unifi-device","shared-unifi-discovery"]),t("./components/deviceButtonAdopt/DeviceButtonAdoptController.js"),t("./components/deviceButtonAdopt/deviceButtonAdopt.js"),t("./components/deviceButtonLink/DeviceButtonLinkController.js"),t("./components/deviceButtonLink/deviceButtonLink.js"),t("./components/deviceButtonLocate/DeviceButtonLocateController.js"),t("./components/deviceButtonLocate/deviceButtonLocate.js"),t("./components/deviceButtonRestart/DeviceButtonRestartController.js"),t("./components/deviceButtonRestart/deviceButtonRestart.js"),t("./components/deviceButtonUnlink/DeviceButtonUnlinkController.js"),t("./components/deviceButtonUnlink/deviceButtonUnlink.js"),t("./components/deviceButtonUpgrade/DeviceButtonUpgradeController.js"),t("./components/deviceButtonUpgrade/deviceButtonUpgrade.js"),t("./components/deviceListButtonRollingUpgrade/DeviceListButtonRollingUpgradeController.js"),t("./components/deviceListButtonRollingUpgrade/deviceListButtonRollingUpgrade.js"),t("./config/frames.js"),t("./constants/COUNTRY_CODES_WITH_FCC_DFS.js"),t("./constants/DEFAULT_HT.js"),t("./constants/DEVICE_ADOPT_L3.js"),t("./constants/DEVICE_CATEGORIES.js"),t("./constants/DEVICE_INFORM.js"),t("./constants/DEVICE_LICENSE_STATES.js"),t("./constants/DEVICE_STATES.js"),t("./constants/DEVICE_STATE_FLAGS.js"),t("./constants/DEVICE_STATE_IDS.js"),t("./constants/DEVICE_TYPES.js"),t("./constants/DHCP_USER_OPTION.js"),t("./constants/DISCOVERED_DEVICE.js"),t("./constants/ELITE_ASSIGNMENT_STATES.js"),t("./constants/EXTERNAL_ANTENNA.js"),t("./constants/FIRMWARE_CAPS.js"),t("./constants/HARDWARE_CAPS.js"),t("./constants/NETWORK_DEFAULTS.js"),t("./constants/POE_CAPS.js"),t("./constants/POE_MAX_POWER.js"),t("./constants/POE_VOLTAGE.js"),t("./constants/RADIO_CAPS.js"),t("./constants/RADIO_STATES.js"),t("./constants/RADIO_TYPES.js"),t("./constants/TRAFFIC.js"),t("./constants/USG_CAPS.js"),t("./constants/WIFI_BANDS.js"),t("./constants/WIFI_CAPS.js"),t("./constants/WIFI_CHANNELS.js"),t("./constants/WLAN_SECURITY_TYPES.js"),t("./controllers/ConfirmRestartController.js"),t("./controllers/WirelessUplinkDfsWarningController.js"),t("./filters/loadAvg.js"),t("./filters/radio.js"),t("./services/Address6.js"),t("./services/BigInteger.js"),t("./services/collections/DeviceCollection.js"),t("./services/collections/DiscoveredDeviceCollection.js"),t("./services/collections/NetworkCollection.js"),t("./services/collections/TagCollection.js"),t("./services/collections/UserDpiCollection.js"),t("./services/collections/WirelessNetworkCollection.js"),t("./services/collections/WirelessNetworkGroupCollection.js"),t("./services/comparators/devicesComparator.js"),t("./services/controllerMixins/buttonHasSitePermissionControllerMixin.js"),t("./services/countryChannels.js"),t("./services/countryUtils.js"),t("./services/deviceAdoptL3Utils.js"),t("./services/deviceAdoptStrategy.js"),t("./services/deviceBatchUtils.js"),t("./services/deviceCategoryUtils.js"),t("./services/deviceChannelUtils.js"),t("./services/deviceDiscoveryUtils.js"),t("./services/deviceElite.js"),t("./services/deviceEliteDetails.js"),t("./services/deviceEliteUtils.js"),t("./services/deviceFeatureUtils.js"),t("./services/deviceInformUtils.js"),t("./services/deviceModelUtils.js"),t("./services/deviceRadioUtils.js"),t("./services/deviceStateUtils.js"),t("./services/deviceUplinkUtils.js"),t("./services/deviceUtils.js"),t("./services/deviceWlanGroupUtils.js"),t("./services/devices.js"),t("./services/discoveredDeviceUtils.js"),t("./services/discoveredDevices.js"),t("./services/eliteStateUtils.js"),t("./services/filters/PendingAdoptionDeviceFilter.js"),t("./services/filters/WirelessNetworkFilter.js"),t("./services/ipMatchUtils.js"),t("./services/ipv6Utils.js"),t("./services/models/BatchDeviceModel.js"),t("./services/models/ControllerStatsModel.js"),t("./services/models/CountryChannelsModel.js"),t("./services/models/DeviceEliteDetailsModel.js"),t("./services/models/DeviceEliteMgrModel.js"),t("./services/models/DeviceModel.js"),t("./services/models/DpiUsageModel.js"),t("./services/models/NetworkModel.js"),t("./services/models/SpectrumScanModel.js"),t("./services/models/TagModel.js"),t("./services/models/UserDpiModel.js"),t("./services/models/WirelessNetworkGroupModel.js"),t("./services/models/WirelessNetworkModel.js"),t("./services/portFeatureUtils.js"),t("./services/tags.js"),t("./services/validators/deviceModelFeatureValidator.js"),t("./services/wirelessNetworkGroups.js"),t("./services/wirelessNetworks.js")},{"../shared-unifi-device/main":1534,"../shared-unifi-discovery/main":1552,"./components/deviceButtonAdopt/DeviceButtonAdoptController.js":1365,"./components/deviceButtonAdopt/deviceButtonAdopt.js":1366,"./components/deviceButtonLink/DeviceButtonLinkController.js":1368,"./components/deviceButtonLink/deviceButtonLink.js":1369,"./components/deviceButtonLocate/DeviceButtonLocateController.js":1371,"./components/deviceButtonLocate/deviceButtonLocate.js":1372,"./components/deviceButtonRestart/DeviceButtonRestartController.js":1374,"./components/deviceButtonRestart/deviceButtonRestart.js":1375,"./components/deviceButtonUnlink/DeviceButtonUnlinkController.js":1377,"./components/deviceButtonUnlink/deviceButtonUnlink.js":1378,"./components/deviceButtonUpgrade/DeviceButtonUpgradeController.js":1380,"./components/deviceButtonUpgrade/deviceButtonUpgrade.js":1381,"./components/deviceListButtonRollingUpgrade/DeviceListButtonRollingUpgradeController.js":1383,"./components/deviceListButtonRollingUpgrade/deviceListButtonRollingUpgrade.js":1384,"./config/frames.js":1386,"./constants/COUNTRY_CODES_WITH_FCC_DFS.js":1387,"./constants/DEFAULT_HT.js":1388,"./constants/DEVICE_ADOPT_L3.js":1389,"./constants/DEVICE_CATEGORIES.js":1390,"./constants/DEVICE_INFORM.js":1391,"./constants/DEVICE_LICENSE_STATES.js":1392,"./constants/DEVICE_STATES.js":1393,"./constants/DEVICE_STATE_FLAGS.js":1394,"./constants/DEVICE_STATE_IDS.js":1395,"./constants/DEVICE_TYPES.js":1396,"./constants/DHCP_USER_OPTION.js":1397,"./constants/DISCOVERED_DEVICE.js":1398,"./constants/ELITE_ASSIGNMENT_STATES.js":1399,"./constants/EXTERNAL_ANTENNA.js":1400,"./constants/FIRMWARE_CAPS.js":1401,"./constants/HARDWARE_CAPS.js":1402,"./constants/NETWORK_DEFAULTS.js":1403,"./constants/POE_CAPS.js":1404,"./constants/POE_MAX_POWER.js":1405,"./constants/POE_VOLTAGE.js":1406,"./constants/RADIO_CAPS.js":1407,"./constants/RADIO_STATES.js":1408,"./constants/RADIO_TYPES.js":1409,"./constants/TRAFFIC.js":1410,"./constants/USG_CAPS.js":1411,"./constants/WIFI_BANDS.js":1412,"./constants/WIFI_CAPS.js":1413,"./constants/WIFI_CHANNELS.js":1414,"./constants/WLAN_SECURITY_TYPES.js":1415,"./controllers/ConfirmRestartController.js":1416,"./controllers/WirelessUplinkDfsWarningController.js":1417,"./filters/loadAvg.js":1418,"./filters/radio.js":1419,"./services/Address6.js":1421,"./services/BigInteger.js":1422,"./services/collections/DeviceCollection.js":1423,"./services/collections/DiscoveredDeviceCollection.js":1424,"./services/collections/NetworkCollection.js":1425,"./services/collections/TagCollection.js":1426,"./services/collections/UserDpiCollection.js":1427,"./services/collections/WirelessNetworkCollection.js":1428,"./services/collections/WirelessNetworkGroupCollection.js":1429,"./services/comparators/devicesComparator.js":1430,"./services/controllerMixins/buttonHasSitePermissionControllerMixin.js":1431,"./services/countryChannels.js":1432,"./services/countryUtils.js":1433,"./services/deviceAdoptL3Utils.js":1434,"./services/deviceAdoptStrategy.js":1435,"./services/deviceBatchUtils.js":1436,"./services/deviceCategoryUtils.js":1437,"./services/deviceChannelUtils.js":1438,"./services/deviceDiscoveryUtils.js":1439,"./services/deviceElite.js":1440,"./services/deviceEliteDetails.js":1441,"./services/deviceEliteUtils.js":1442,"./services/deviceFeatureUtils.js":1443,"./services/deviceInformUtils.js":1444,"./services/deviceModelUtils.js":1445,"./services/deviceRadioUtils.js":1446,"./services/deviceStateUtils.js":1447,"./services/deviceUplinkUtils.js":1448,"./services/deviceUtils.js":1449,"./services/deviceWlanGroupUtils.js":1450,"./services/devices.js":1451,"./services/discoveredDeviceUtils.js":1452,"./services/discoveredDevices.js":1453,"./services/eliteStateUtils.js":1454,"./services/filters/PendingAdoptionDeviceFilter.js":1455,"./services/filters/WirelessNetworkFilter.js":1456,"./services/ipMatchUtils.js":1457,"./services/ipv6Utils.js":1458,"./services/models/BatchDeviceModel.js":1459,"./services/models/ControllerStatsModel.js":1460,"./services/models/CountryChannelsModel.js":1461,"./services/models/DeviceEliteDetailsModel.js":1462,"./services/models/DeviceEliteMgrModel.js":1463,"./services/models/DeviceModel.js":1464,"./services/models/DpiUsageModel.js":1465,"./services/models/NetworkModel.js":1466,"./services/models/SpectrumScanModel.js":1467,"./services/models/TagModel.js":1468,"./services/models/UserDpiModel.js":1469,"./services/models/WirelessNetworkGroupModel.js":1470,"./services/models/WirelessNetworkModel.js":1471,"./services/portFeatureUtils.js":1472,"./services/tags.js":1473,"./services/validators/deviceModelFeatureValidator.js":1474,"./services/wirelessNetworkGroups.js":1475,"./services/wirelessNetworks.js":1476}],1421:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("Address6",[function(){return t("ip-address").Address6}])},{"ip-address":7}],1422:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("BigInteger",[function(){return t("jsbn").BigInteger}])},{jsbn:17}],1423:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("DeviceCollection",["CORSCollection","DeviceModel","fetchBatchMixin","chunkedFetchMixin","siteUrlMixin","statsMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a,s,l){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend(s).extend(l).extend({_isActiveSiteOptional:!0,model:e,siteUrl:"stat/device",chunksIndexUrl:"stat/device-basic",chunkAttrName:"macs",chunkSize:200,isFirstFetchChunked:!0})}])},{}],1424:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("DiscoveredDeviceCollection",["CORSCollection","DeviceModel","siteUrlMixin","statsMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend({_isActiveSiteOptional:!0,model:e,siteUrl:"stat/device"})}])},{}],1425:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("NetworkCollection",["CORSCollection","NetworkModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"rest/networkconf"})}])},{}],1426:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("TagCollection",["CORSCollection","TagModel","deepCopyMixin","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend({model:e,siteUrl:"rest/tag"})}])},{}],1427:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("UserDpiCollection",["CORSCollection","UserDpiModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({constructor:function(e){if(t.apply(this),!e)throw new Error("Cannot instantiate without a type.");this.type=e},model:e,siteUrl:"stat/stadpi",setPayloadAttrs:function(t){this.payloadAttrs=t},getPayloadAttrs:function(){return this.payloadAttrs},sync:function(e,i,n){if(n=n||{},"read"===e){n.type="POST";var o={type:this.type};angular.extend(o,this.payloadAttrs),n.data=JSON.stringify(o)}return t.prototype.sync.call(this,e,i,n)}})}])},{}],1428:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("WirelessNetworkCollection",["CORSCollection","WirelessNetworkModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"rest/wlanconf"})}])},{}],1429:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("WirelessNetworkGroupCollection",["CORSCollection","WirelessNetworkGroupModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({_isActiveSiteOptional:!0,model:e,siteUrl:"rest/wlangroup",getDefault:function(){return this.findWhere({attr_no_delete:!0,attr_hidden:void 0})}})}])},{}],1430:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("devicesComparator",["collectionViewComparator","deviceStateUtils","deviceWlanGroupUtils","deviceRadioUtils","deviceChannelUtils","ipUtils","tags","DEVICE_STATES","RADIO_TYPES",function(t,e,i,n,o,r,a,s,l){var c={};c[s.CONNECTED]=1,c[s.UPGRADING]=2,c[s.PROVISIONING]=2,c[s.RFSCANNING]=3,c[s.ADOPTING]=3,c[s.RESTARTING]=3,c[s.PENDING]=4,c[s.ISOLATED]=5,c[s.DELETING]=5,c[s.ADOPTION_FAILED]=6,c[s.HEARTBEAT_MISSED]=6,c[s.FIRMWARE_MISMATCH]=6,c[s.ADOPTION_REQUIRED]=6,c[s.DISCONNECTED]=7,c[s.INFORM_ERROR]=7,c[s.MANAGED_BY_OTHER]=8,c[s.UNKNOWN]=9;var u={true:1,false:2},d={ugw:1,usw:2,uap:3},p=function(i,n){var o=c[e.getDeviceState(i)],r=c[e.getDeviceState(n)];if(o===r){if(i.get("adopted")===n.get("adopted")){if(i.get("type")!==n.get("type"))return function(i,n){var o=i.get("type"),r=n.get("type");return o===r?t(e.getDeviceModelName(i),e.getDeviceModelName(n)):t(d[o],d[r])}(i,n);var a=i.get("name"),s=n.get("name");return a&&s?t(a,s):a?-1:s?1:t(i.getDisplayName(),n.getDisplayName())}return t(u[i.get("adopted")],u[n.get("adopted")])}return t(o,r)},f=function(e,i,o){var r=n.getFirstRadioByType(e,o),a=n.getFirstRadioByType(i,o);if(r)var s=n.getRadioStatsByName(e,r.get("name"));if(a)var l=n.getRadioStatsByName(i,a.get("name"));if(r&&a&&s&&l){var c,u=function(e,i){return e&&i?t(e,i):(e?-1:i&&1)||0};return(c=u(parseInt(r.channel,10)?1:0,parseInt(a.channel,10)?1:0))?c:(c=u(n.getRadioStatsBindedChannel(e,s)||parseInt(r.channel,10)||0,n.getRadioStatsBindedChannel(i,l)||parseInt(a.channel,10)||0))?c:(c=u(parseInt(n.getRadioHt(e,r),10),parseInt(n.getRadioHt(i,a),10)))?c:(c=u(n.getRadioStatsPrimaryChannel(s)||parseInt(r.channel,10)||0,n.getRadioStatsPrimaryChannel(l)||parseInt(r.channel,10)||0))?c:(c=u(n.getRadioStatsTransmitPower(s),n.getRadioStatsTransmitPower(l)))?c:0}return r?-1:a?1:0},h=function(t,e){return n.getRadioStatsByType(t,e).reduce(function(t,e){return t+(parseInt(e.get("ast_be_xmit"),10)||0)+(parseInt(e.get("tx_packets"),10)||0)},0)},_=function(t,e){return n.getRadioStatsByType(t,e).reduce(function(t,e){return t+e.get("num_sta")||0},0)},m=function(t,e){return n.getRadioStatsByType(t,e).reduce(function(t,e){return t+e.get("cu_total")||0},0)},g=function(t,e,i){var n=t.getNested(e);return void 0===n?i:n},v={ip:function(e,i){var n=r.ip2long(e.get("ip"))||0,o=r.ip2long(i.get("ip"))||0;return t(n,o)},name:function(e,i){var n=e.getDisplayName(),o=i.getDisplayName();return t(n,o)},state:function(t,e){return p(t,e)},stateString:function(i,n){var o=c[e.getDeviceState(i)],r=c[e.getDeviceState(n)];return o===r?t(e.getDeviceStateString(i),e.getDeviceStateString(n)):t(o,r)},uptime:function(e,i){var n=e.get("uptime")||0,o=i.get("uptime")||0;return t(n,o)},memory:function(e,i){var n=e.getMemoryUsage()||0,o=i.getMemoryUsage()||0;return t(n,o)},cpu:function(e,i){var n=parseFloat(e.getNested("system-stats.cpu")||0),o=parseFloat(i.getNested("system-stats.cpu")||0);return t(n,o)},loadAvg:function(e,i){var n=parseFloat(g(e,"sys_stats.loadavg_1",-1)),o=parseFloat(g(i,"sys_stats.loadavg_1",-1));return t(n,o)},clients:function(e,i){var n=e.get("num_sta")||0,o=i.get("num_sta")||0;return t(n,o)},wlan2g:function(e,n){var o=i.getWlanGroupNamesByType(e,l.NG.type),r=i.getWlanGroupNamesByType(n,l.NG.type);return t(o,r)},wlan5g:function(e,n){var o=i.getWlanGroupNamesByType(e,l.NA.type),r=i.getWlanGroupNamesByType(n,l.NA.type);return t(o,r)},radio2g:function(t,e){return f(t,e,l.NG.type)},radio5g:function(t,e){return f(t,e,l.NA.type)},clients2g:function(e,i){var n=_(e,l.NG.type),o=_(i,l.NG.type);return t(n,o)},clients5g:function(e,i){var n=_(e,l.NA.type),o=_(i,l.NA.type);return t(n,o)},tx:function(e,i){var n=e.get("tx_bytes-d")||0,o=i.get("tx_bytes-d")||0;return t(n,o)},rx:function(e,i){var n=e.get("rx_bytes-d")||0,o=i.get("rx_bytes-d")||0;return t(n,o)},tx2g:function(e,i){var n=h(e,l.NG.type),o=h(i,l.NG.type);return t(n,o)},tx5g:function(e,i){var n=h(e,l.NA.type),o=h(i,l.NA.type);return t(n,o)},channel:function(e,i){var n=o.getChannelValue(e),r=o.getChannelValue(i);return t(n,r)},chutil2g:function(e,i){var n=m(e,l.NG.type),o=m(i,l.NG.type);return t(n,o)},chutil5g:function(e,i){var n=m(e,l.NA.type),o=m(i,l.NA.type);return t(n,o)},tags:function(e,i){var n=a.getTagsByMac(e.id).map(function(t){return t.get("name")}),o=a.getTagsByMac(i.id).map(function(t){return t.get("name")});return t(n,o)}},E=function(t,e){var i=t.get("vap_table")?t.get("vap_table").where({radio:e}).map(function(t){return t.get("satisfaction")}):[];return i.length?i.reduce(function(t,e){return t+e},0)/i.length:-1},C=function(e){return function(i,n){return t(E(i,e),E(n,e))}};return v.satisfaction2g=C("ng"),v.satisfaction5g=C("na"),v}])},{}],1431:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("buttonHasSitePermissionControllerMixin",["account","sites",function(t,e){return function(i,n){angular.extend(i,{getSiteModel:function(){return this.siteName&&e.repository.collection.findWhere({name:this.siteName})},hasPermission:function(){return t.isAdmin(this.siteName)||n&&t.hasPermission(n)}})}}])},{}],1432:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("countryChannels",["BaseModelRepository","CountryChannelsModel","COUNTRY_CODES_WITH_FCC_DFS",function(t,e,i){this.repository=new t(new e),this.isUnderFcc=function(){var t=this.repository.model.get("key");return-1!==i.indexOf(t)},this.getCurrentCountryCode=function(){return this.repository.model.get("code")},this.getDfsChannels=function(){return this.repository.model.get("channels_na_dfs")||[]}}])},{}],1433:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("countryUtils",["countryChannels","DEFAULT_HT",function(t,e){this.getCurrentCountryKey=function(){return t.repository.model.get("key")},this.isOutdoorDfsRestrictedCountry=function(){return(t.repository.model.get("channels_na_indoor")||[]).length>0},this.isCustomAntennaGainAllowed=function(){return-1===["US"].indexOf(this.getCurrentCountryKey())},this.isStoreAllowed=function(){return-1!==["US"].indexOf(this.getCurrentCountryKey())},this.getDefaultHt=function(t){var i=e[t];return this.isChannelWidthSupported(t,i)?i:"20"},this.isChannelWidthSupported=function(e,i){return(t.repository.model.get("channels_"+e+"_"+i)||[]).length>0}}])},{}],1434:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceAdoptL3Utils",["$interval","$q","$translate","devices","deviceUtils","discoveredDevices","discoveryTool","DEVICE_ADOPT_L3","DEVICE_STATE_IDS",function(t,e,i,n,o,r,a,s,l){this.adoptL3Device=function(c,u,d){var p=c.get("state");c.set("state",l.ADOPTING);var f={inform_url:d.url,ip:d.ip||c.get("ip"),model:c.get("model"),password:d.password,port:d.port,username:d.username};return a.setInform(f).catch(function(){return e.reject(i.instant("DEVICE_ACTIONS_SET_INFORM_ERROR",{deviceName:c.get("mac")}))}).then(function(){return e(function(e,n){var o=t(function(){return c.fetch().then(function(){t.cancel(o)})},s.CHECK_DEVICE_AFTER_SETTING_INFORM_FREQUENCY,s.CHECK_DEVICE_AFTER_SETTING_INFORM_MAX_ATTEMPTS);o.then(function(){n(i.instant("DEVICE_ACTIONS_SET_INFORM_ERROR",{deviceName:c.get("mac")}))}).catch(e)})}).then(function(){return o.adoptDevice(c,u)}).then(function(){return a.setInform(f).catch(function(){return e.reject(i.instant("DEVICE_ACTIONS_SET_INFORM_CONFIRM_ERROR",{deviceName:c.get("mac")}))})}).then(function(){return n.repository.collection.get(c.get("mac")).fetch(),r.repository.collection.remove(c),i.instant("DEVICE_ACTIONS_ADOPT_NOTICE",{deviceName:c.get("mac")})}).catch(function(t){return c.set("state",p),e.reject(t)})}}])},{}],1435:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceAdoptStrategy",["$q","deviceAdoptL3Utils","deviceInformUtils","deviceUtils","deviceBatchUtils","system","MANAGE_DEVICE_DEFAULTS",function(t,e,i,n,o,r,a){this.adoptDevice=function(t,e){return t.isLocallyDiscovered()?this.adoptL3Device(t,e):n.adoptDevice(t,e)},this.adoptL3Device=function(t,n){var o=angular.extend({},a,{url:i.getInformUrl(t,r.repository.model),ip:t.get("ip"),model:t.get("model")});return e.adoptL3Device(t,n,o)},this.advancedAdoptDevice=function(t,e){return n.advancedAdoptDevice(t,e)},this.adoptDevices=function(t,e){var i=t.filter(function(t){return t.isLocallyDiscovered()}),n=t.filter(function(t){return!t.isLocallyDiscovered()});return o.adoptDevices(n).then(function(){return this.adoptL3Devices(i,e)}.bind(this))},this.adoptL3Devices=function(e,i){return e.reduce(function(t,e){return t.then(function(){return this.adoptL3Device(e,i)}.bind(this))}.bind(this),t.when())}}])},{}],1436:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceBatchUtils",["$q","$translate","DeviceMgrModel","SiteMgrModel","apiResults","repositoryUtils","DEVICE_STATE_IDS",function(t,e,i,n,o,r,a){this._executeDeviceCommand=function(t,e,n){var o=new i;return n&&(o._forceSite=n.get("name")),(e=e||{}).cmd=t,o.save(e)},this._executeSiteCommand=function(t,e){var i=new n;return(e=e||{}).cmd=t,i.save(e)},this.saveDevices=function(i,n,a){var s={id:i.get("destination").pluck("_id"),data:n};return i.savePartial(s,a).then(function(){return r.getRepository("devices").refresh(),i.get("source").clear(),(i.get("success")||[]).length?(i.get("error")||[]).length?t.when(e.instant("DEVICE_PROPERTIES_CHANGES_BATCH_APPLY_MIXED")):t.when(e.instant("DEVICE_PROPERTIES_CHANGES_BATCH_APPLY_SUCCESS")):t.when(e.instant("DEVICE_PROPERTIES_CHANGES_BATCH_APPLY_NONE"))}).catch(function(i){return t.reject(o.appendErrorMsg(e.instant("DEVICE_PROPERTIES_CHANGES_BATCH_APPLY_ERROR"),i))})},this.filterRadioNames=function(t){return t.radio_table&&(t.radio_table=t.radio_table.map(function(t){return delete t.name,t})),t.wlan_overrides&&(t.wlan_overrides=t.wlan_overrides.map(function(t){return delete t.radio_name,t})),t},this.savePendingChanges=function(i,n){var a={id:i.get("destination").pluck("_id"),data:this.filterRadioNames(i.get("source").getPendingAttributes())};return i.savePartial(a,n).then(function(){return r.getRepository("devices").refresh(),i.get("source").clearPendingChanges(),(i.get("success")||[]).length?(i.get("error")||[]).length?t.when(e.instant("DEVICE_PROPERTIES_PENDING_CHANGES_BATCH_APPLY_MIXED")):t.when(e.instant("DEVICE_PROPERTIES_PENDING_CHANGES_BATCH_APPLY_SUCCESS")):t.when(e.instant("DEVICE_PROPERTIES_PENDING_CHANGES_BATCH_APPLY_NONE"))}).catch(function(i){return t.reject(o.appendErrorMsg(e.instant("DEVICE_PROPERTIES_PENDING_CHANGES_BATCH_APPLY_ERROR"),i))})},this.provisionDevices=function(i,n,s){n=n||{};var l={macs:i.get("destination").pluck("mac")};return this._executeDeviceCommand("force-provision",l,s).then(function(){return i.get("destination").each(function(t){t.set({state:a.PROVISIONING})}),t.when(e.instant("DEVICE_ACTIONS_BATCH_PROVISION_NOTICE",{count:l.macs.length},"messageformat"))}).catch(function(i){return r.getRepository("devices").refresh(),t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_BATCH_PROVISION_ERROR"),i))})},this.restartDevices=function(i,n,s){n=n||{};var l={macs:i.get("destination").pluck("mac"),reboot_type:n.rebootType||"soft"};return this._executeDeviceCommand("restart",l,s).then(function(){return i.get("destination").each(function(t){t.set({state:a.DISCONNECTED,restarting:!0})}),t.when(e.instant("DEVICE_ACTIONS_BATCH_RESTART_NOTICE",{count:l.macs.length},"messageformat"))}).catch(function(i){return r.getRepository("devices").refresh(),t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_BATCH_RESTART_ERROR"),i))})},this.upgradeDevices=function(i,n){var s={macs:i.get("destination").pluck("mac")};return n&&(s.url=n),this._executeDeviceCommand(n?"upgrade-external":"upgrade",s).then(function(){return i.get("destination").each(function(t){t.set({state:a.UPGRADING})}),t.when(e.instant("DEVICE_ACTIONS_BATCH_UPGRADE_NOTICE",{count:s.macs.length},"messageformat"))}).catch(function(i){return r.getRepository("devices").refresh(),t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_BATCH_UPGRADE_ERROR"),i))})},this.forgetDevices=function(i){var n={macs:i.get("destination").pluck("mac")};return this._executeSiteCommand("delete-device",n).then(function(){return r.getRepository("devices").collection.remove(i.get("destination").models),t.when(e.instant("DEVICE_ACTIONS_BATCH_FORGET_SUCCESS",{count:n.macs.length},"messageformat"))}).catch(function(i){return r.getRepository("devices").refresh(),t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_BATCH_FORGET_ERROR"),i))})},this.adoptDevices=function(e,i){var n={macs:e.map(function(t){return t.get("mac")})};return n.macs.length?this._executeDeviceCommand("adopt",n,i):t.when()},this.migrateDevices=function(i,n){var r={macs:i.map(function(t){return t.get("mac")}),inform_url:n};return r.macs.length?this._executeDeviceCommand("migrate",r).then(function(){return i.forEach(function(t){t.set("migrate_inform_url",n)}),t.when(e.instant("DEVICE_ACTIONS_MIGRATE_DEVICES_NOTICE"))}).catch(function(i){return t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_MIGRATE_DEVICES_ERROR"),i))}):t.when()},this.cancelMigrateDevices=function(i){var n={macs:i.get("destination").pluck("mac")};return this._executeDeviceCommand("cancel-migrate",n).then(function(){return i.get("destination").each(function(t){t.unset("migrate_inform_url")}),t.when(e.instant("DEVICE_ACTIONS_BATCH_CANCEL_MIGRATE_SUCCESS",{count:n.macs.length},"messageformat"))}).catch(function(i){return r.getRepository("devices").refresh(),t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_BATCH_CANCEL_MIGRATE_ERROR"),i))})}}])},{}],1437:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceCategoryUtils",["deviceStateUtils","DEVICE_CATEGORIES","DEVICE_STATES","DEVICE_TYPES",function(t,e,i,n){this.extractCategory=function(n){switch(t.getDeviceState(n)){case i.CONNECTED:case i.UPGRADING:case i.PROVISIONING:return this.extractType(n);case i.MANAGED_BY_OTHER:return e.MANAGED_BY_OTHER;case i.PENDING:return e.PENDING;case i.ADOPTING:return e.ADOPTING;default:return e.INACTIVE}}.bind(this),this.extractType=function(t){switch(t.get("type")){case n.GATEWAY:return e.WAN;case n.SWITCH:return e.LAN;case n.AP:return e.WLAN;default:return}}}])},{}],1438:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceChannelUtils",["countryChannels","deviceRadioUtils","lambda","RADIO_TYPES","WIFI_CHANNELS",function(t,e,i,n,o){this.getChannel=function(t){if(!t.get("vap_table"))return"";var i=[];return t.get("vap_table").each(function(o){var r=o.get("channel");if(0!==r&&"RUN"===(o.get("state")||"RUN")){var a=o.get("radio");a===n.NA.type&&e.isAcRadio(t,o.get("radio_name"))&&(a="ac");var s=r+" ("+a+")";-1===i.indexOf(s)&&(o.get("radio")===n.NG.type?i.unshift(s):i.push(s))}}),i.join(", ")},this.getChannelValue=function(t){if(!t.get("vap_table"))return-1;var e=0;return t.get("vap_table").each(function(t){var i=t.get("channel");if(0!==i&&"RUN"===(t.get("state")||"RUN")){var o=t.get("radio");o===n.NA.type?e+=1e3*(parseInt(i,10)||0):o===n.NG.type&&(e+=parseInt(i,10)||0)}}),e},this.getCurrentChannelDescription=function(t,i){var n=e.getFirstRadioByType(t,i),o=e.getRadioStatsByName(t,n.get("name")),r=e.getRadioStatsPrimaryChannel(o),a=e.getRadioHt(t,n);if(r&&a){var s=e.getRadioStatsExtChannelIndicator(o)||0,l=this.getChannelsDescriptions(t,i,a);return l&&l.filter(function(t){return-1!==t.subChannels.indexOf(r)}).find(function(t){return 0===s?t.subChannels[0]===r:s>0?-1!==t.subChannels.slice(0,t.subChannels.length-1).indexOf(r):-1!==t.subChannels.slice(1).indexOf(r)})}},this.getChannelsDescriptions=function(t,n,r){var a=e.getSupportedChannels(t,n,r),s=o[n][r];return a&&s&&i.objectToEntries(s).map(function(t){return angular.extend({channel:Number(t.key)},t.value)}).filter(function(t){return t.subChannels.every(function(t){return-1!==a.indexOf(t)})})},this.getSpectrumScans=function(t,e){return(t.get("scans")||[]).filter(function(t){return t.radio===e})},this.isChannelDfs=function(e){var i=t.getDfsChannels();return i.length&&-1!==i.indexOf(Number.parseInt(e,10))}}])},{}],1439:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceDiscoveryUtils",["$q","$translate","account","bowser","discoveryToolUtils","featureFlag","system",function(t,e,i,n,o,r,a){this.findDevicesIsVisible=function(){return a.isUnifiGo()&&(i.isSuperAdmin()||i.hasPermission("API_STAT_DEVICE_ACCESS_SUPER_SITE_PENDING"))},this.findDevicesIsAvailable=function(){return this.findDevicesIsVisible()&&n.chrome&&!n.mobile},this.findDevices=function(t){return o.checkInstallation(t&&"bypassAutoFindDevices").then(function(){return o.startScanForDevices()})},this.isFindingDevices=function(){return o.isFindingDevices()}}])},{}],1440:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceElite",["$q","$translate","apiResults","DeviceEliteMgrModel","deviceEliteDetails","devices","ELITE_ASSIGNMENT_STATES",function(t,e,i,n,o,r,a){this.checkLicenses=function(){return(new n).save({cmd:"refresh-elite"}).then(function(){r.repository.fetch(),o.repository.fetch({forceFetch:!0})}).catch(angular.noop)},this.acceptTos=function(){return(new n).save({cmd:"accept-tos"}).then(this.checkLicenses.bind(this)).catch(angular.noop)},this.instantRma=function(o,r){return(new n).save({cmd:"instant-rma",mac:o.get("mac"),contact_info:r.contactInfo,autoreplace:r.autoreplace,reason:r.reason}).then(function(t){return o.get("elite").state=a.RMA_IN_PROGRESS,o.get("elite").rma_id=t.data.data[0].rma_id,e.instant("DEVICE_ELITE_INSTANT_RMA_SUCCESS",{mac:o.get("mac")})}).catch(function(n){return t.reject(i.appendErrorMsg(e.instant("DEVICE_ELITE_INSTANT_RMA_ERROR",{mac:o.get("mac")}),n))})}}])},{}],1441:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceEliteDetails",["BaseModelRepository","DeviceEliteDetailsModel",function(t,e){this.repository=new t(new e),this.getDescription=function(){return this.repository.model.get("description")||[]},this.getSupport=function(){return this.repository.model.get("support")||[]},this.getManage=function(){return this.repository.model.get("manage")||{}},this.getLimitations=function(){return this.repository.model.get("limitations")||{}},this.getSupportedCountries=function(){return this.getLimitations().supported_countries||[]}}])},{}],1442:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceEliteUtils",["countryChannels","deviceEliteDetails","DeviceEliteMgrModel","deviceFeatureUtils","eliteStateUtils","interpolateUtils",function(t,e,i,n,o,r){this.isDeviceVerified=function(t){return t.isElite()&&!!t.get("elite").verified},this.isDeviceWithEliteDeviceWarning=function(t){return t.isElite()&&!this.isDeviceFirmwareSupported(t)},this.isDeviceFirmwareSupported=function(t){return n.isEliteDeviceSupported(t)},this.isServiceWithEliteDeviceWarning=function(){return!this.isUserAcceptedTos()||!this.isCurrentCountrySupported()},this.isCurrentCountrySupported=function(){return(e.getSupportedCountries()||[]).includes(t.getCurrentCountryCode())},this.isUserAcceptedTos=function(){return!!e.getManage().tos_accepted},this.getTosLink=function(){return e.getManage().tos_link},this.isExtendSubscriptionAvailable=function(t){return t.isElite()&&this.isDeviceVerified(t)&&this.isDeviceFirmwareSupported(t)&&!!t.get("elite").extend_available},this.getExtendSubscriptionLink=function(t){var i=e.getManage(),n=i&&i.extend_link_pattern||"";return r.interpolateAttributes(n,t)},this.isInstantRmaAvailable=function(t){return o.isDeviceVerified(t)&&this.isCurrentCountrySupported()}}])},{}],1443:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceFeatureUtils",["deviceModelUtils","deviceRadioUtils","DEVICE_MODELS","FIRMWARE_CAPS","HARDWARE_CAPS","RADIO_CAPS","USG_CAPS","WIFI_CAPS",function(t,e,i,n,o,r,a,s){this.getHybridCapability=function(t,e){return(i[t]||{}).hybrid||e},this.hasWifiCapability=function(t,e){return!!t&&((t.get("wifi_caps")||0)&e)>0},this.hasHardwareCapability=function(t,e){return!!t&&((t.get("hw_caps")||0)&e)>0},this.hasFirmwareCapability=function(t,e){return!!t&&((t.get("fw_caps")||0)&e)===e},this.hasUsgCapability=function(t,e){return!!t&&((t.get("usg_caps")||0)&e)===e},this.isBandSteeringSupported=function(i){return!!(i&&e.hasRadioType(i,"na")&&e.hasRadioType(i,"ng"))&&(this.hasWifiCapability(i,s.BANDSTEER)||!0===t.getModelFeature(i,"bandsteer"))},this.isZeroHandoffSupported=function(e){return this.hasWifiCapability(e,s.ZERO_HANDOFF)||!0===t.getModelFeature(e,"zh")},this.isAirtimeFairnessConfigSupported=function(t){return this.hasWifiCapability(t,s.AIRTIME_CONFIG)},this.isMeshV3Supported=function(t){return this.hasWifiCapability(t,s.MESHV3)},this.isRfScanSupported=function(t){return this.hasWifiCapability(t,s.RF_SCAN)},this.isDpiSupported=function(t){return this.hasFirmwareCapability(t,n.DPI)},this.isTerminalSupported=function(t){return this.hasFirmwareCapability(t,n.UTERM)},this.isLinkAggregationGroupSupported=function(t){return this.hasFirmwareCapability(t,n.LAG)},this.isLinkAggregationGroupNative=function(t){return!!t&&(t.get("ethernet_table")||[]).some(function(t){return!!t.native_bond})},this.isBareSipSupported=function(t){return t&&"U7EDU"===t.get("model")},this.isLedBarSupported=function(t){return this.hasHardwareCapability(t,o.LEDBAR)},this.isGen2=function(e){return 2===t.getModelFeature(e,"gen")},this.isAtfEnabled=function(t){var e=void 0!==t.get("atf_enabled")&&t.get("atf_enabled");return this.isAirtimeFairnessConfigSupported(t)?e:!this.isGen2(t)},this.isQcaSwitch=function(t){return this.hasFirmwareCapability(t,n.QCASWITCH)},this.isOwrtSwitch=function(t){return this.hasFirmwareCapability(t,n.OWRTSWITCH)},this.isSimpleFan=function(e){return"simple"===t.getModelFeature(e,"fan")},this.isSnmpV1_2Supported=function(t){return this.hasFirmwareCapability(t,n.SNMP)},this.isSnmpV3Supported=function(t){return this.hasFirmwareCapability(t,n.SNMPV3)},this.getFanOnLevel=function(e){return"alwayson"===t.getModelFeature(e,"fan")?0:1},this.areFirmwareCapsMet=function(t,e){return e.every(function(e){return n[e]&&this.hasFirmwareCapability(t,n[e])}.bind(this))},this.isGatewayPortReassignmentSupported=function(t){return this.hasUsgCapability(t,a.UNIFI_USG_CAP_PORT_REASSIGNMENT)},this.areWifiCapsMet=function(t,e){return e.every(function(e){switch(e){case"BANDSTEER":return this.isBandSteeringSupported(t);case"ZERO_HANDOFF":return this.isZeroHandoffSupported(t);case"AIRTIME_CONFIG":return this.isAirtimeFairnessConfigSupported(t);default:return s[e]&&this.hasWifiCapability(t,s[e])}}.bind(this))},this.isVapTableAvailable=function(t){var e=t.get("vap_table");return!!e&&e.length>0},this.isAirTimeSupported=function(t){return!!e.getAllRadios(t).find(function(t){return e.isAirTimeSupported(t)})},this.isAirViewSupported=function(t){return!!e.getAllRadios(t).find(function(t){return e.isAirViewSupported(t)})},this.isEliteDeviceSupported=function(t){return this.hasFirmwareCapability(t,n.ELITE_DEVICE)}}])},{}],1444:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceInformUtils",["ipMatchUtils","DEVICE_INFORM",function(t,e){this.getInformUrl=function(i,n){var o=n.get("override_inform_host")?n.get("hostname")||n.get("name"):t.findBestMatch(i.get("ip"),n.get("ip_addrs"))||e.DEFAULT_HOST,r=n.get("inform_port")||e.DEFAULT_PORT;return[e.PROTOCOL,o,":",r,e.ENDPOINT].join("")}}])},{}],1445:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceModelUtils",["semanticVersion","system","DEVICE_MODELS",function(t,e,i){this.getModelFeature=function(t,e){var n=t?(i[t.get("model")]||{}).features:void 0;return n&&n[e]},this.isBeta=function(n){var o=(i[n.get("model")]||{}).beta;return!!o&&t.satisfies(e.getControllerVersion(),o)}}])},{}],1446:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceRadioUtils",["_","$translate","$filter","account","collectionViewComparator","countryChannels","countryUtils","deviceModelUtils","system","DEFAULT_HT","EXTERNAL_ANTENNA","RADIO_STATES","RADIO_TYPES","TRAFFIC","WIFI_CHANNELS","RADIO_CAPS",function(t,e,i,n,o,r,a,s,l,c,u,d,p,f,h,_){this.hasRadioCapability=function(t,e){return!!t&&((t.get("radio_caps")||0)&e)===e},this.isMinRssiStrictModeSupported=function(t){return this.hasRadioCapability(t,_.RADIO_CAP_STRICT_MODE_MINRSSI)},this.isAirTimeSupported=function(t){return this.hasRadioCapability(t,_.RADIO_CAP_AIRTIME)},this.isAirViewSupported=function(t){return this.hasRadioCapability(t,_.RADIO_CAP_AIRVIEW)},this.getAllRadios=function(t,e){var i=this.getRadios(t,e),n=this.getScanRadios(t,e);return i.concat(n)},this.getRadios=function(t,e){var i=this.getRadioTable(t,e);return i&&i.models||[]},this.getScanRadios=function(t,e){var i=this.getScanRadioTable(t,e);return i?i.models:[]},this.getRadioTable=function(t,e){return!!t&&t.get("radio_table",e)},this.getScanRadioTable=function(t,e){return!!t&&t.get("scan_radio_table",e)},this.getFirstRadioByType=function(t,e,i){return this.getRadios(t,i).find(function(t){return t.get("radio")===e})},this.getRadiosByType=function(t,e,i){return this.getRadios(t,i).filter(function(t){return!e||t.get("radio")===e})},this.getRadioByName=function(t,e,i){return this.getRadios(t,i).find(function(t){return t.get("name")===e})},this.hasRadioType=function(t,e){return this.getRadios(t).some(function(t){return t.get("radio")===e})},this.getRadioHt=function(t,e){var i=e.get("radio");return(e.get("ht")||c[i]).toString()},this.getRadioHtName=function(t,e){return("na"===e.get("radio")&&this.isAcRadio(t,e.get("name"))?"VHT":"HT")+this.getRadioHt(t,e)},this.getRadioStatsPrimaryChannel=function(t){return t.get("channel")},this.getRadioStatsBindedChannel=function(t,e){var i,n=this.getRadioStatsPrimaryChannel(e)||0,o=this.getRadioStatsExtChannelIndicator(e)||0,r=e.get("radio");if("ng"===r)i=n&&n+2*o;else{var a=this.getRadioByName(t,e.get("name")),s=this.getRadioHt(t,a),l=h[r][s];i=Object.keys(l).find(function(t){return-1!==l[t].subChannels.indexOf(n)})}return i?i.toString():void 0},this.getRadioStatsExtChannelIndicator=function(t){return t.get("extchannel")},this.getRadioStats=function(t,e){var i=this.getRadioTableStats(t,e);return i?i.models:[]},this.getRadioTableStats=function(t,e){return!!t&&t.get("radio_table_stats",e)},this.getRadioStatsByName=function(t,e,i){return this.getRadioStats(t,i).find(function(t){return t.get("name")===e})},this.getRadioStatsByType=function(t,e,i){return this.getRadioStats(t,i).filter(function(t){return!e||t.get("radio")===e})},this.getLowestChannelRadioStatsByType=function(t,e,i){var n=this.getRadioStatsByType(t,e,i);return n.sort(function(t,e){return t.get("channel")-e.get("channel")}),!!n.length&&n[0]},this.getChannelStateDataByName=function(t,e){var i=this.getRadioStatsByName(t,e),n=this.getRadioByName(t,e);return i?{state:i.get("state")||d.INIT,primaryChannel:this.getRadioStatsPrimaryChannel(i),extChannel:this.getRadioStatsExtChannelIndicator(i)||0,bindedName:this.getRadioStatsBindedChannel(t,i),htName:this.getRadioHtName(t,n)}:{state:d.INIT}},this.getRadioStatsTransmitFrequency=function(t){var e=this.getRadioStatsTransmitPower(t),i=this.getRadioStatsPrimaryChannel(t),n=h[t.get("radio")],o=n&&n[20][i],r=o&&o.centerFrequency;return angular.isDefined(e)&&r?r:void 0},this.getRadioStatsTransmitPower=function(t,e){if((t&&t.get("state")||d.INIT)!==d.INIT){var i=Math.min(t.get("tx_power"),30),n=t.get("gain")||0;return parseInt(i,10)+(e?0:n)}},this.getTransmitPowerString=function(t,e){return this.getRadiosByType(t,e).map(function(e){return this.getRadioStatsTransmitPowerString(t,e)}.bind(this)).join(", ")},this.getRadioStatsTransmitPowerString=function(t,i){var n=this.getRadioStatsByName(t,i.get("name"));if(!n)return"";var o=this.getRadioStatsTransmitPower(n),r=this.getRadioStatsTransmitPower(n,!0);return o?r+" "+e.instant("DEVICE_RADIO_TRANSMIT_POWER_DBM")+" / "+o+" "+e.instant("DEVICE_RADIO_TRANSMIT_POWER_DBM")+" ("+e.instant("DEVICE_RADIO_TRANSMIT_POWER_EIRP")+")":""},this.getTransmitPowerMode=function(t,i){return this.getRadiosByType(t,i).map(function(t){return"auto"===t.get("tx_power_mode")?e.instant("COMMON_VALUE_AUTO"):""}).join(", ")},this.getPacketsPerBytes=function(t,e,n){var o=t.get("stat")||{},r=e.get("name"),a=e.get("radio"),s=parseInt(o[r+"-"+n+"_packets"]||o[a+"-"+n+"_packets"],10)||0,l=parseInt(o[r+"-"+n+"_bytes"]||o[a+"-"+n+"_bytes"],10)||0;return i("numberToString")(s)+" / "+i("bytes")(l)},this.getRetryDroppedPercentage=function(t,e,i){return this.getRetryPercentage(t,e,i)+"% / "+this.getDroppedPercentage(t,e,i)+"%"},this.getRetryPercentage=function(t,e,i){var n=t.get("stat")||{},o=e.get("name"),r=e.get("radio"),a=parseInt(n[o+"-"+i+"_retries"]||n[r+"-"+i+"_retries"],10)||0,s=(parseInt(n[o+"-"+i+"_packets"]||n[r+"-"+i+"_packets"],10)||0)+(parseInt(n[o+"-"+i+"_dropped"]||n[r+"-"+i+"_dropped"],10)||0);return(0===s?0:a/s*100).toFixed(1)},this.getDroppedPercentage=function(t,e,i){var n=t.get("stat")||{},o=e.get("name"),r=e.get("radio"),a=parseInt(n[o+"-"+i+"_packets"]||n[r+"-"+i+"_packets"],10)||0,s=parseInt(n[o+"-"+i+"_dropped"]||n[r+"-"+i+"_dropped"],10)||0,l=a+s;return(0===l?0:s/l*100).toFixed(1)},this.extractChannelUtilizationsValue=function(t,e,i){return this.getRadiosByType(t,e).map(function(e){var n=this.getRadioChannelUtilization(t,e);return n&&n[i]}.bind(this)).join(", ")},this.getRadioStatsChannelUtilizationPerRadio=function(t,e){return this.getRadiosByType(t,e).map(function(e){return this.getRadioChannelUtilization(t,e)}.bind(this)).filter(function(t){return!!t})},this.getRadioChannelUtilization=function(t,e){var i=this.getRadioStatsByName(t,e.get("name"));return this.getRadioStatsChannelUtilization(i)},this.getRadioStatsChannelUtilization=function(t){if(t){var e=parseInt(t.get("cu_total"),10),i=parseInt(t.get("cu_self_rx"),10),n=parseInt(t.get("cu_self_tx"),10);return isNaN(e)||isNaN(i)||isNaN(n)?void 0:{total:e,selfRx:i,selfTx:n,interference:Math.max(0,e-i-n),radio:t.get("radio"),name:t.get("name")}}},this.getMinRssiString=function(t,i){var n=[];return this.getRadiosByType(t,i).forEach(function(t){if(t.get("min_rssi_enabled")){var i=t.get("min_rssi");n.push(i+" "+e.instant("DEVICE_RADIO_TRANSMIT_POWER_DBM"))}}),n.join(", ")},this.getSupportedChannels=function(t,e,i,n,o,a){i=parseInt(i,10);var s="channels_"+e+(n||a||20===i?"":"_"+i);return n?s+="_dfs":a?s+="_indoor":(o||t&&this.isBrcmModel(t))&&(s+="_bcm"),r.repository.model.get(s)},this.getChannelOptions=function(t,i,n,o,r){r=r||{};var a=this.getSupportedChannels(t,i,o),s=this.getSupportedChannels(t,i,o,!0),l=this.getSupportedChannels(t,i,o,!1,!1,!0),c=" ("+e.instant("DEVICE_RADIO_CHANNEL_DFS")+")",u=this.isDfsSupported(t,n),d=this.isOutdoorModeEnabled(t,r.isOutdoorModeEnabled),p=this.isRestrictedChannelsEnabled(t,n),f=[];return a&&angular.forEach(a,function(e){var o=s&&-1!==s.indexOf(e),r=l&&-1!==l.indexOf(e);if((!p||!(e<this.getRestrictedChannelLow(t,i,n)||e>this.getRestrictedChannelHigh(t,i,n)))&&this.isChannelAllowedByFcc(t,i,n,e,o)){if(d&&r)return;!u&&o||f.push({channel:parseInt(e,10),label:e+(o?c:"")})}}.bind(this)),f},this.getUnfilteredChannelOptions=function(t,i,n){n=n||{};var o=this.getSupportedChannels(void 0,t,i)||[],r=this.getSupportedChannels(void 0,t,i,!1,!0)||[],a=this.getSupportedChannels(void 0,t,i,!0),s=this.getSupportedChannels(void 0,t,i,!1,!1,!0),l=" ("+e.instant("DEVICE_RADIO_CHANNEL_DFS")+")",c=[],u=Array.from(new Set(o.concat(r).sort(function(t,e){return t-e})));return u&&angular.forEach(u,function(t){var e=a&&-1!==a.indexOf(t),i=s&&-1!==s.indexOf(t);n.isOutdoorModeEnabled&&i||c.push({channel:parseInt(t,10),label:t+(e?l:"")})}),c},this.getBandByChannel=function(t){return t<52?1:t<149?2:3},this.isAcModel=function(t){var e=this.getFirstRadioByType(t,"na");return e&&!0===e.get("is_11ac")||!0===s.getModelFeature(t,"ac")},this.isAcRadio=function(t,e){var i=this.getRadioByName(t,e);return i&&!0===i.get("is_11ac")||!0===s.getModelFeature(t,"ac")},this.isBrcmModel=function(t){return!0===s.getModelFeature(t,"brcm")},this.isHt40Supported=function(t,e){var i=this.getSupportedChannels(t,e,40);return!!(i&&i.length>0)},this.isHt80Supported=function(t){var e=this.isAcModel(t)?this.getSupportedChannels(t,"na",80):void 0;return!!(e&&e.length>0)},this.isHt160Supported=function(t,e){var i=this.getRadioByName(t,e),n=i&&!0===i.get("has_ht160")&&this.isAcRadio(t,e)?this.getChannelOptions(t,"na",e,160):void 0;return!!(n&&n.length>0)},this.isHt160SupportedByDevice=function(t){return!!this.getAllRadios(t).find(function(e){return this.isHt160Supported(t,e.get("name"))}.bind(this))},this.isDfsSupported=function(t,e){var i=this.getRadioByName(t,e);return i&&!0===i.get("has_dfs")||!0===s.getModelFeature(t,"dfs")},this.isRestrictedChannelsEnabled=function(t,e){var i=this.getRadioByName(t,e);return i&&!0===i.get("has_restricted_channels")},this.getRestrictedChannel=function(e,i,n,o){var r=this.getRadioByName(e,n).get(o);return t.find(h[i][20],function(t){return t.centerFrequency===r}).subChannels||[]},this.getRestrictedChannelHigh=function(t,e,i){return this.getRestrictedChannel(t,e,i,"max_chan_cntr_frq")||[]},this.getRestrictedChannelLow=function(t,e,i){return this.getRestrictedChannel(t,e,i,"min_chan_cntr_frq")||[]},this.isOutdoorModeEnabled=function(t,e){var i=t.get("outdoor_mode_override")||"default";return"on"===i||"default"===i&&e},this.isFccDfsSupported=function(t,e){var i=this.getRadioByName(t,e);return i&&!0===i.get("has_fccdfs")||!1},this.isChannelAllowedByFcc=function(t,e,i,n,o){if("na"===e&&r.isUnderFcc()){if(o&&!this.isFccDfsSupported(t,i))return!1;if(this.isUapOutdoor5GOnFirstBand(t,n))return!1}return!0},this.isUapOutdoor5GOnFirstBand=function(t,e){var i=t.get("model"),n=this.getBandByChannel(e);return"U5O"===i&&1===n},this.getRadioPower=function(t,i){var n,o=this.getRadioStatsByName(t,i.get("name")),r=o&&this.getRadioStatsTransmitPower(o);return"custom"===i.get("tx_power_mode")?(n=r||parseInt(i.get("tx_power"),10)+(!0===i.get("builtin_antenna")?parseInt(i.get("builtin_ant_gain"),10):parseInt(i.get("antenna_gain"),10)),n+=" "+e.instant("DEVICE_RADIO_TRANSMIT_POWER_DBM")):(n=i.get("tx_power_mode")?e.instant("DEVICE_PROPERTIES_AP_RADIO_POWER_OPTION_"+i.get("tx_power_mode").toUpperCase()):e.instant("COMMON_VALUE_AUTO"),r&&(n+=" ("+r+" "+e.instant("DEVICE_RADIO_TRANSMIT_POWER_DBM")+")"))," / "+n},this.extractRadioStatsFieldValueByType=function(t,e,i){return this.getRadiosByType(t,e,{}).map(function(e){var n=this.getRadioStatsByName(t,e.get("name"));return n&&n.get(i)}.bind(this)).join("\n")},this.isChannelUtilizationDiagramAvailable=function(t){return!(!this.getRadioStatsChannelUtilizationPerRadio(t,p.NA.type).length&&!this.getRadioStatsChannelUtilizationPerRadio(t,p.NG.type).length)},this.isDeviceWithOneRadioPerType=function(t){var e=this.getRadiosByType(t,p.NG.type).length,i=this.getRadiosByType(t,p.NA.type).length;return e<=1&&i<=1},this.getAntennas=function(t){var e=this.getAntennaTable(t);return e?e.models:[]},this.getAntennasForRadio=function(t,e){return this.getAntennas(t).filter(function(t){return this.isAntennaApplicableForRadio(t,e)}.bind(this))},this.getSelectedAntennaForRadioType=function(t,e){var i=this.getRadiosByType(t,e);if(i.length){var n=i[0].get("antenna_id");return this.getAntennas(t).find(function(t){return t.id===n}.bind(this))}},this.isAntennaApplicableForRadio=function(t,e){if(e&&t){var i=e.get("name"),n=t.get(i+"_gain");return angular.isDefined(n)}return!1},this.getAntennaTable=function(t){return t.get("antenna_table")},this.getAntennaById=function(t,e){var i=this.getAntennaTable(t);return i?i.get(e):void 0},this.getAntennaGainForRadioName=function(t,e){return t.get(e+"_gain")},this.getAntennaOptionsForRadio=function(t,e){var i=this.getAntennasForRadio(t,e).map(this.getAntennaOption.bind(this));return i.length&&this.hasExternalAntenna(e)&&this.isCustomAntennaGainAllowed(t)&&i.push(this.getCustomAntennaOption(t)),i},this.hasExternalAntenna=function(t){return!1===t.get("builtin_antenna")},this.getAntennaOption=function(t){return t&&{id:t.get("id"),name:t.get("name")}},this.getCustomAntennaOption=function(){return{id:u.CUSTOM.ID,name:e.instant("DEVICE_PROPERTIES_AP_RADIO_ANTENNA_GAIN_OPTION_CUSTOM")}},this.isCustomAntennaGainAllowed=function(t){return!this.getAntennas(t).length||a.isCustomAntennaGainAllowed()||n.isProfessionalInstaller()}}])},{}],1447:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceStateUtils",["$translate","countryChannels","deviceEliteUtils","DEVICE_LICENSE_STATES","DEVICE_MODELS","DEVICE_STATES","DEVICE_STATE_IDS","DEVICE_STATE_FLAGS",function(t,e,i,n,o,r,a,s){var l;this.deviceStateIdMap=(l={},Object.keys(a).forEach(function(t){l[a[t]]=r[t]}),l),this.deviceUpgradeStateIdMap={1:s.UPGRADE_PREPARING_REBOOT,2:s.UPGRADE_FAILED_REBOOT,3:s.FIRMWARE_DOWNLOADING,4:s.DEVICE_FIRMWARE_READY,5:s.DEVICE_FIRMWARE_WRITING},this.getDeviceModelName=function(t){if(t.isPartial)return"";var e=t.get("model");return o[e]?o[e].name:"UniFi "+e},this.getDeviceModelShort=function(t){return this.getDeviceModelName(t).replace("UniFi Security Gateway","USG").replace("UniFi ","").replace("AP","UAP")},this.getRawDeviceState=function(t){var e=parseInt(t.get("state"),10);return this.deviceStateIdMap[e]||r.UNKNOWN},this.getDeviceState=function(t){var e=this.getRawDeviceState(t);return e===r.DISCONNECTED?t.isRestarting()&&(e=r.RESTARTING):e===r.PENDING?t.get("default")||(e=r.MANAGED_BY_OTHER):e===r.INFORM_ERROR?t.get("default")&&(e=r.ADOPTION_REQUIRED):e===r.CONNECTED?t.get("spectrum_scanning")&&(e=r.RFSCANNING):e===r.UNKNOWN&&t.isLocallyDiscovered()&&(e=r.PENDING,t.get("default")||(e=r.MANAGED_BY_OTHER)),e},this.getDeviceStateFlags=function(t){var e=this.getRawDeviceState(t),i=[];if(e===r.CONNECTED){if("wire"===t.getNested("uplink.type")&&!t.isGateway()){var n=t.get("uplink");n.max_speed===n.speed&&n.full_duplex||i.push(n.full_duplex?s.WIRED_FULL_DUPLEX:s.WIRED_HALF_DUPLEX)}t.get("isolated")?i.push(s.ISOLATED):"wireless"===t.getNested("uplink.type")&&i.push(s.WIRELESS),this.isDeviceNeedsUpgrade(t)&&!this.isDeviceWithIncompatibleModelWarning(t)&&i.push(s.NEEDS_UPGRADE)}else e===r.UPGRADING?t.get("upgrade_state")&&i.push(this.deviceUpgradeStateIdMap[t.get("upgrade_state")]):e===r.PENDING?"scan"===t.get("discovered_via")&&i.push(s.WIRELESS):e===r.ADOPTING&&"wireless"===t.getNested("uplink.type")&&i.push(s.WIRELESS);return t.isElite()&&i.push(s.ELITE),t.isLocallyDiscovered()&&i.push(s.LOCALLY_DISCOVERED),this.isDeviceWithIncompatibleModelWarning(t)&&i.push(s.INCOMPATIBLE_MODEL),this.isDeviceWithModelEolPendingWarning(t)&&i.push(s.MODEL_EOL_PENDING),this.isDeviceDisabled(t)&&i.push(s.DISABLED),this.isLicenseWithWarning(t)&&i.push("DEVICE_STATE_FLAG_LICENSE_"+t.get("license_state").toUpperCase()),t.get("migrate_inform_url")&&i.push(s.MIGRATING),i},this.getDeviceStateString=function(e){var i=this.getDeviceState(e),n=t.instant(i),o=this.getDeviceStateFlags(e);return o.length&&(n+=" (",n+=o.map(function(i){var n;return i!==s.WIRED_FULL_DUPLEX&&i!==s.WIRED_HALF_DUPLEX||(n={speed:e.getNested("uplink.speed")}),t.instant(i,n)}).join(", "),n+=")"),n},this.getDeviceStatus=function(t){var e;switch(this.getDeviceState(t)){case r.MANAGED_BY_OTHER:e="static";break;case r.CONNECTED:case r.PROVISIONING:case r.RFSCANNING:e="success";break;case r.UPGRADING:e=t.get("adopted")?"success":"warning";break;case r.PENDING:case r.ADOPTING:case r.RESTARTING:e="warning";break;default:e="danger"}return"success"===e&&this.isLicenseWithWarning(t)&&(e="warning"),"success"===e&&this.isDeviceWithIncompatibleModelWarning(t)&&(e="warning"),e},this.isDeviceConnected=function(t){switch(this.getDeviceState(t)){case r.CONNECTED:case r.UPGRADING:case r.PROVISIONING:case r.RFSCANNING:return!0;default:return!1}},this.isDeviceDisabled=function(t){return!!t.get("disabled")},this.isDeviceNeedsUpgrade=function(t){return!!t.get("version_incompatible")},this.isDeviceBusy=function(t){switch(this.getDeviceState(t)){case r.UPGRADING:case r.PROVISIONING:case r.ADOPTING:case r.DELETING:case r.RESTARTING:case r.RFSCANNING:return!0;default:return!1}},this.isDeviceMigratable=function(t){if(!t.get("adopted"))return!1;switch(this.getDeviceState(t)){case r.CONNECTED:case r.PROVISIONING:case r.RFSCANNING:return!0;default:return!1}},this.getIconClassName=function(t){if(t){var e=t.get("type"),i=t.get("model"),n=this.getDeviceStatus(t);return this.getIconClassNameByModelAndType(e,i,n)}return""},this.getIconClassNameByModelAndType=function(t,e,i){var n=[];return t&&n.push("unifiDeviceIcon--"+t),e&&n.push("unifiDeviceIcon--"+e),-1!==["success","warning","danger","static"].indexOf(i)&&n.push("is-"+i),n.join(" ")},this.isLicenseWithWarning=function(t){return-1!==[n.REGISTRATION_FAILED,n.GRACE_PERIOD,n.HOST_DOWN,n.UNKNOWN].indexOf(t.get("license_state"))},this.isMigrated=function(t){return!!t.get("migrate_inform_url")},this.isDeviceWithStunWarning=function(t){return!(t.isPartial||!this.isDeviceConnected(t)||this.isDeviceBusy(t)||this.isDeviceNeedsUpgrade(t))&&(!t.get("connect_request_port")||!t.get("connect_request_ip"))},this.isDeviceWithIncompatibleModelWarning=function(t){return t.get("model_incompatible")},this.isDeviceWithModelEolPendingWarning=function(t){return!this.isDeviceWithIncompatibleModelWarning(t)&&t.get("model_eol_pending")},this.isDeviceWithCountryLockedWarning=function(t){var i=t&&t.get("countrycode_table"),n=!(!i||!i.length),o=e.getCurrentCountryCode();return n&&!i.includes(parseInt(o))},this.isDeviceWithEliteDeviceWarning=function(t){return t.isElite()&&i.isDeviceWithEliteDeviceWarning(t)},this.hasWarnings=function(t){return this.getWarningsCount(t)>0},this.getWarningsCount=function(t){return[this.isDeviceWithStunWarning(t),this.isDeviceWithCountryLockedWarning(t),this.isDeviceWithEliteDeviceWarning(t),this.isDeviceWithIncompatibleModelWarning(t),this.isDeviceWithModelEolPendingWarning(t)].reduce(function(t,e){return t+=e?1:0},0)}}])},{}],1448:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceUplinkUtils",["$q","$translate","DeviceMgrModel","apiResults","devices","deviceStateUtils",function(t,e,i,n,o,r){this._executeDeviceCommand=function(t,e){var n=new i;return(e=e||{}).cmd=t,n.save(e)},this.linkDevices=function(i,o){var r={mac:o.get("mac"),uplink:i.get("mac")};return this._executeDeviceCommand("set-vwire-uplink",r).then(function(){return t.when(e.instant("DEVICE_ACTIONS_LINK_NOTICE",{downlinkDeviceName:o.getDisplayName(),uplinkDeviceName:i.getDisplayName()}))}).catch(function(r){return t.reject(n.appendErrorMsg(e.instant("DEVICE_ACTIONS_LINK_ERROR",{downlinkDeviceName:o.getDisplayName(),uplinkDeviceName:i.getDisplayName()}),r))})},this.unlinkDevices=function(i,o){var r={mac:o.get("mac"),uplink:i.get("mac")};return this._executeDeviceCommand("unset-vwire-uplink",r).then(function(){return t.when(e.instant("DEVICE_ACTIONS_UNLINK_NOTICE",{downlinkDeviceName:o.getDisplayName(),uplinkDeviceName:i.getDisplayName()}))}).catch(function(r){return t.reject(n.appendErrorMsg(e.instant("DEVICE_ACTIONS_UNLINK_ERROR",{downlinkDeviceName:o.getDisplayName(),uplinkDeviceName:i.getDisplayName()}),r))})},this.setPriorityUplink=function(i,o,r){var a={mac:i.get("mac"),prefer1:o?o.get("mac"):void 0,prefer2:r?r.get("mac"):void 0};return this._executeDeviceCommand("set-priority-uplink",a).then(function(){return i.set({mesh_uplink_1:a.prefer1,mesh_uplink_2:a.prefer2}),t.when(e.instant("DEVICE_ACTIONS_SET_PRIORITY_UPLINK_NOTICE",{deviceName:i.getDisplayName()}))}).catch(function(o){return t.reject(n.appendErrorMsg(e.instant("DEVICE_ACTIONS_SET_PRIORITY_UPLINK_ERROR",{deviceName:i.getDisplayName()}),o))})},this.unsetPriorityUplink=function(i){var o={mac:i.get("mac")};return this._executeDeviceCommand("unset-priority-uplink",o).then(function(){return i.unset("mesh_uplink_1"),i.unset("mesh_uplink_2"),t.when(e.instant("DEVICE_ACTIONS_UNSET_PRIORITY_UPLINK_NOTICE",{deviceName:i.getDisplayName()}))}).catch(function(o){return t.reject(n.appendErrorMsg(e.instant("DEVICE_ACTIONS_UNSET_PRIORITY_UPLINK_ERROR",{deviceName:i.getDisplayName()}),o))})},this.getUplinkAttrs=function(t,e){var i=e||"uplink";return r.isDeviceConnected(t)?t.get(i):t.get("last_"+i)||t.get(i)},this.getUplink=function(t,e){var i=this.getUplinkAttrs(t,e);if(i){if(i.hasOwnProperty("uplink_mac"))return o.repository.collection.get(i.uplink_mac);if(i.hasOwnProperty("ap_mac")&&"wireless"===i.type)return o.repository.collection.get(i.ap_mac)}},this.getUplinkDisplayName=function(t,e){var i=this.getUplink(t,e),n=this.getUplinkAttrs(t);return i?i.getDisplayName()+(n.uplink_remote_port?" #"+n.uplink_remote_port:""):""},this.isWirelessUplinkAvailable=function(t){return!!t.get("vwireEnabled")&&(!r.isDeviceConnected(t)||"wireless"===t.getNested("uplink.type")||t.get("uplink_table").where({configured:!0}).length>0)},this.getDevicesWithUplink=function(t){return o.repository.collection.filter(function(e){return e.getNested("uplink.type")===t})},this.isUplinkAggregated=function(t){var e=this.getUplinkAttrs(t);if(e){var i=e.port_idx,n=t.get("port_table");if(n&&i){var o=n.findWhere({port_idx:i});return!!o&&(void 0!==o.get("aggregate_num_ports")||!1!==o.get("aggregated_by"))}}return!1}}])},{}],1449:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceUtils",["$q","$translate","DeviceMgrModel","SiteMgrModel","apiResults","semanticVersion","siteUtils","fileUtils","heyToasts","system","UnifiFileBasePath","DEVICE_TYPES","DEVICE_STATE_IDS",function(t,e,i,n,o,r,a,s,l,c,u,d,p){this._executeDeviceCommand=function(t,e,n){var o=new i;return n&&(o._forceSite=n.get("name")),(e=e||{}).cmd=t,o.save(e)},this._executeSiteCommand=function(t,e){var i=new n;return(e=e||{}).cmd=t,i.save(e)},this.saveDevice=function(t,e,i){return t.savePartial(e,i)},this.savePendingChanges=function(i,n){return i.savePendingChanges(n).then(function(){return t.when(e.instant("DEVICE_PROPERTIES_PENDING_CHANGES_APPLY_SUCCESS",{deviceName:i.getDisplayName()}))}).catch(function(n){return t.reject(o.appendErrorMsg(e.instant("DEVICE_PROPERTIES_PENDING_CHANGES_APPLY_ERROR",{deviceName:i.getDisplayName()}),n))})},this.adoptDevice=function(i,n,r){var a=this;return r=angular.extend({mac:i.get("mac")},r||{}),this._executeDeviceCommand("adopt",r,n).then(function(){return i.set({state:p.ADOPTING}),t.when(e.instant("DEVICE_ACTIONS_ADOPT_NOTICE",{deviceName:i.getDisplayName()}))}).catch(function(s){var c=o.appendErrorMsg(e.instant("DEVICE_ACTIONS_ADOPT_ERROR",{deviceName:i.getDisplayName()}),s);if("api.err.AdoptedDevicesLimitReached"===o.getRawErrorMsg(s)){var u=!1,d={text:c,action:e.instant("DEVICE_ACTIONS_FORCE_ADOPT"),callback:function(){u=!0}};return l.pushPrimary(d,0).then(function(){return u?(r=angular.extend(r,{ignore_device_limit:!0}),a.adoptDevice(i,n,r)):t.reject()})}return t.reject(c)})},this.replaceDevice=function(i,n){var r={mac:i.get("mac")};return this._executeDeviceCommand("replace",r,n).then(function(){return i.set({state:p.ADOPTING}),t.when(e.instant("DEVICE_ACTIONS_ADOPT_NOTICE",{deviceName:i.getDisplayName()}))}).catch(function(n){return t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_ADOPT_ERROR",{deviceName:i.getDisplayName()}),n))})},this.advancedAdoptDevice=function(i,n){var r=this,a={mac:i.get("mac"),ip:n.ip,port:n.port,username:n.username,password:n.password,url:n.url,sshKeyVerify:n.sshKeyVerify};return this._executeDeviceCommand("adv-adopt",a).then(function(){return i.set({state:p.ADOPTING}),t.when(e.instant("DEVICE_ACTIONS_ADOPT_NOTICE",{deviceName:i.getDisplayName()}))}).catch(function(a){var s=o.appendErrorMsg(e.instant("DEVICE_ACTIONS_ADOPT_ERROR",{deviceName:i.getDisplayName()}),a);if("api.err.AdoptedDevicesLimitReached"===o.getRawErrorMsg(a)){var c=!1,u={text:s,action:e.instant("DEVICE_ACTIONS_FORCE_ADOPT"),callback:function(){c=!0}};return l.pushPrimary(u).then(function(){return c?(n.ignore_device_limit=!0,r.advancedAdoptDevice(i,n)):t.reject()})}return t.reject(s)})},this.locateDevice=function(i,n,r){!0!==n&&!1!==n&&(n=!i.get("locating"));var a={mac:i.get("mac")};return this._executeDeviceCommand(!0===n?"set-locate":"unset-locate",a,r).then(function(){return i.set({locating:n}),t.when(e.instant(i.get("locating")?"DEVICE_ACTIONS_LOCATE_NOTICE":"DEVICE_ACTIONS_LOCATE_OFF_NOTICE",{deviceName:i.getDisplayName()}))}).catch(function(n){return t.reject(o.appendErrorMsg(e.instant(i.get("locating")?"DEVICE_ACTIONS_LOCATE_OFF_ERROR":"DEVICE_ACTIONS_LOCATE_ERROR",{deviceName:i.getDisplayName()}),n))})},this.provisionDevice=function(i,n,r){n=n||{};var a={mac:i.get("mac")};return this._executeDeviceCommand("force-provision",a,r).then(function(){return i.set({state:p.PROVISIONING}),t.when(e.instant("DEVICE_ACTIONS_PROVISION_NOTICE",{deviceName:i.getDisplayName()}))}).catch(function(n){return t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_PROVISION_ERROR",{deviceName:i.getDisplayName()}),n))})},this.restartDevice=function(i,n,r){n=n||{};var a={mac:i.get("mac"),reboot_type:n.rebootType||"soft"};return this._executeDeviceCommand("restart",a,r).then(function(){return i.set({state:p.DISCONNECTED,restarting:!0}),t.when(e.instant("DEVICE_ACTIONS_RESTART_NOTICE",{deviceName:i.getDisplayName()}))}).catch(function(n){return t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_RESTART_ERROR",{deviceName:i.getDisplayName()}),n))})},this.upgradeDevice=function(i,n,a){var s={mac:i.get("mac")};n?s.url=n:c.isUnifiGo()||(s.upgrade_to_firmware=i.get("upgrade_to_firmware"));var l=i.get("upgrade_to_firmware")&&r.satisfies(i.get("version"),">"+i.get("upgrade_to_firmware"));return this._executeDeviceCommand(n?"upgrade-external":"upgrade",s,a).then(function(){return i.set({state:p.UPGRADING}),t.when(e.instant(l?"DEVICE_ACTIONS_DOWNGRADE_NOTICE":"DEVICE_ACTIONS_UPGRADE_NOTICE",{deviceName:i.getDisplayName()}))}).catch(function(n){return t.reject(o.appendErrorMsg(e.instant(l?"DEVICE_ACTIONS_DOWNGRADE_ERROR":"DEVICE_ACTIONS_UPGRADE_ERROR",{deviceName:i.getDisplayName()}),n))})},this.startRollingUpgrade=function(i){return this._executeDeviceCommand("set-rollupgrade",void 0,i).then(function(){return t.when(e.instant("DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_START_NOTICE"))}).catch(function(i){return t.reject(o.appendErrorMsg(e.instant("DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_START_ERROR"),i))})},this.stopRollingUpgrade=function(i){return this._executeDeviceCommand("unset-rollupgrade",void 0,i).then(function(){return t.when(e.instant("DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_STOP_NOTICE"))}).catch(function(i){return t.reject(o.appendErrorMsg(e.instant("DEVICE_LIST_ACTIONS_ROLLING_UPGRADE_STOP_ERROR"),i))})},this.copyConfig=function(i,n){var r={mac:i.get("mac"),origin:n.get("mac")};return this._executeDeviceCommand("clone-config",r).then(function(){return i.collection&&i.collection.remove(i),t.when(e.instant("DEVICE_ACTIONS_COPY_SUCCESS",{sourceName:n.getDisplayName(),targetName:i.getDisplayName()}))}).catch(function(r){return t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_COPY_ERROR",{sourceName:n.getDisplayName(),targetName:i.getDisplayName()}),r))})},this.moveDevice=function(i,n){var r={mac:i.get("mac"),site:n.id};return this._executeSiteCommand("move-device",r).then(function(){return i.collection&&i.collection.remove(i),t.when(e.instant("DEVICE_ACTIONS_MOVE_SUCCESS",{deviceName:i.getDisplayName(),siteDesc:n.get("desc")}))}).catch(function(r){return t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_MOVE_ERROR",{deviceName:i.getDisplayName(),siteDesc:n.get("desc")}),r))})},this.forgetDevice=function(i){var n={mac:i.get("mac")};return this._executeSiteCommand("delete-device",n).then(function(){return i.collection&&i.collection.remove(i),t.when(e.instant("DEVICE_ACTIONS_FORGET_SUCCESS",{deviceName:i.getDisplayName()}))}).catch(function(n){return t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_FORGET_ERROR",{deviceName:i.getDisplayName()}),n))})},this.cancelMigrateDevice=function(i){var n={mac:i.get("mac")};return this._executeDeviceCommand("cancel-migrate",n).then(function(){return i.unset("migrate_inform_url"),t.when(e.instant("DEVICE_ACTIONS_CANCEL_MIGRATE_SUCCESS",{deviceName:i.getDisplayName()}))}).catch(function(n){return t.reject(o.appendErrorMsg(e.instant("DEVICE_ACTIONS_CANCEL_MIGRATE_ERROR",{deviceName:i.getDisplayName()}),n))})},this.getInformIp=function(t){var e=t.find(function(t){return t.get("adopted")&&t.get("state")===p.CONNECTED&&t.get("inform_ip")});return e?e.get("inform_ip"):void 0},this.isGatewayAdoptable=function(t,e){return!e.filter(function(e){return e.isGateway()&&e.isAdopted()&&e.get("mac")!==t.get("mac")}).length},this.getSiteGateway=function(t){var e=a.getActiveSite();return e&&t.findWhere({type:d.GATEWAY,site_id:e.id})||void 0},this.downloadDeviceInfo=function(i){var n=a.getActiveSite();return s.download(u+"/diag/s/"+n.get("name")+"/device/"+i.get("mac"),i.get("mac").replace(/:/g,"-")+".json").then(function(){return t.when(e.instant("DEVICE_ACTIONS_CACHE_DOWNLOAD_SUCCESS",{deviceName:i.getDisplayName()}))}).catch(function(){return t.reject(e.instant("DEVICE_ACTIONS_CACHE_DOWNLOAD_ERROR",{deviceName:i.getDisplayName()}))})}}])},{}],1450:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceWlanGroupUtils",["$translate","deviceRadioUtils","wirelessNetworkGroups",function(t,e,i){this.getWlanGroup=function(t){return i.repository.collection.get(t)||i.repository.collection.getDefault()},this.getWlanGroupNamesByType=function(i,n){if(!i.get("adopted"))return"";var o=[];return e.getRadiosByType(i,n).forEach(function(e){var n=e.get("name"),r=i.get("wlan_overrides"),a=this.getWlanGroup(e.get("wlangroup_id")),s=a?a.get("name"):void 0;a&&(a.get("roam_enabled")?s+=" ("+t.instant("COMMON_FILTER_WLAN_GROUP_ZERO_HANDOFF")+")":function(t,e){return!!e&&e.where({radio_name:t}).length>0}(n,r)&&(s+=" (*)")),o.push(s)}.bind(this)),o.join("\n")},this.isWlanGroupOff=function(t){if(t){var e=this.getWlanGroup(t.get("wlangroup_id"));return e&&"Off"===e.get("attr_hidden_id")}return!1}}])},{}],1451:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("devices",["BaseCollectionRepository","DeviceCollection",function(t,e){this.repository=new t(new e)}])},{}],1452:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("discoveredDeviceUtils",["discoveryTool","DeviceMgrModel","macAddressFormatter","now","DEVICE_MODELS","DISCOVERY",function(t,e,i,n,o,r){this.isUniFiDevice=function(t){return t.discovered_by===r.PROTOCOL_V2_ID&&"UniFi"===t.family&&!0!==t.is_cloudkey},this.mapToDeviceAttributes=function(t){return{_id:i.toCanonical(t.mac),adopt_ip:t.ip,default:t.is_default,discovered_by:t.discovered_by,ip:t.ip,last_seen:n(),mac:i.toCanonical(t.mac),model:t.model,type:(o[t.model]||{}).type,uptime:t.uptime,version:t.short_ver}}}])},{}],1453:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("discoveredDevices",["$q","$rootScope","account","BaseCollectionRepository","DiscoveredDeviceCollection","discoveredDeviceUtils","now","DISCOVERED_DEVICE","DISCOVERY_TOOL_EVENTS",function(t,e,i,n,o,r,a,s,l){this.repository=new n(new o),e.$on(l.DEVICE_DISCOVERED,function(t,e){if(r.isUniFiDevice(e)&&(i.hasPermission("API_STAT_DEVICE_ACCESS_SUPER_SITE_PENDING")||i.isSuperAdmin())){var n=r.mapToDeviceAttributes(e);angular.equals((this.repository.collection.get(n.mac)||{}).attributes,n)||this.repository.collection.add(n,{merge:!0})}}.bind(this)),this.repository.collection.fetch=function(){return t.when(this)},this.repository.fetch=function(){return this.collection.models.forEach(function(t){t.get("last_seen")+1e3*s.LAST_SEEN_TIMEOUT<a()&&this.collection.remove(t)}.bind(this)),n.prototype.fetch.call(this,arguments)},this.mergeToDevicesCollection=function(t){var e=this.repository.collection.models.map(function(t){return t.deepCopy()});t.add(e,{merge:!0})}}])},{}],1454:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("eliteStateUtils",["$translate","deviceFeatureUtils","ELITE_ASSIGNMENT_STATES",function(t,e,i){var n="DEVICE_PROPERTIES_ELITE_VALUE_STATUS_REPLACED",o="DEVICE_PROPERTIES_ELITE_VALUE_STATUS_REPLACING",r="DEVICE_PROPERTIES_ELITE_VALUE_STATUS_REVOKED",a="DEVICE_PROPERTIES_ELITE_VALUE_STATUS_RMA_IN_PROGRESS",s="DEVICE_PROPERTIES_ELITE_VALUE_STATUS_VERIFIED",l="DEVICE_PROPERTIES_ELITE_VALUE_STATUS_UNVERIFIED",c="DEVICE_PROPERTIES_ELITE_VALUE_STATUS_UNKNOWN";this.getEliteBadgeInfo=function(e){var i=this.getEliteState(e);return{status:this.getEliteStatus(i),stateString:t.instant(i)}},this.getEliteState=function(t){if(t.isElite())switch(t.get("elite").state){case i.RMA_IN_PROGRESS:return a;case i.REPLACING:return o;case i.REVOKED:return r;case i.REPLACED:return n;case i.ASSIGNED:return e.isEliteDeviceSupported(t)&&t.get("elite").verified?s:l;default:return c}return c},this.getEliteStatus=function(t){switch(t){case s:return"success";case l:case a:case o:return"warning";case n:return"static";case r:default:return"danger"}},this.isDeviceVerified=function(t){return this.getEliteState(t)===s}}])},{}],1455:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("PendingAdoptionDeviceFilter",["deviceStateUtils","DEVICE_STATES",function(t,e){var i=function(){};return i.prototype.test=function(i){return t.getDeviceState(i)===e.PENDING&&i.get("default")},i.prototype.getTest=function(){return this.test},i}])},{}],1456:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("WirelessNetworkFilter",["BaseSearchableModelFilter",function(t){var e=function(){t.call(this),this.wlanGroupIdFilter=null,this.searchableAttributes=["name"]};return(e.prototype=Object.create(t.prototype)).constructor=e,e.prototype.test=function(e){return(!this.hasWlanGroupIdFilter()||this.wlanGroupIdFilter===e.get("wlangroup_id"))&&t.prototype.test.call(this,e)},e.prototype.isFiltered=function(){return this.hasWlanGroupIdFilter()||this.searchQuery.length>0},e.prototype.getWlanGroupIdFilter=function(){return this.wlanGroupIdFilter},e.prototype.hasWlanGroupIdFilter=function(){return!!this.wlanGroupIdFilter},e.prototype.setWlanGroupIdFilter=function(t){this.wlanGroupIdFilter=t},e.prototype.clearWlanGroupIdFilter=function(){this.wlanGroupIdFilter=void 0},e}])},{}],1457:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("ipMatchUtils",["ipUtils",function(t){this.findBestMatch=function(e,i){return(i||[]).sort(function(i,n){return Math.abs(t.ip2long(e)-t.ip2long(i))-Math.abs(t.ip2long(e)-t.ip2long(n))})[0]}}])},{}],1458:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("ipv6Utils",["Address6","BigInteger","REGEX_PATTERNS",function(t,e,i){var n=new e("0"),o=new e("1");this.recommendSubnet=function(i,r,a){if((i=new t(i)).isValid()){var s;s=!1===r?n:isNaN(r)||r<=0?o:new e(String(r));var l=i.startAddress().bigInteger().add(s).add(o),c=i.endAddress().bigInteger().subtract(o);if(a>0)var u=l.add(new e(String(a))).subtract(o).min(c);return{dhcpStartIp:t.fromBigInteger(l).correctForm(),dhcpStopIp:t.fromBigInteger(u||c).correctForm(),isLimited:u&&u.compareTo(c)<0||!1}}},this.subnetToNetwork=function(e){if((e=new t(e)).isValid()){var i=e.startAddress(),n=e.endAddress(),r=i.bigInteger().add(o),a=n.bigInteger().subtract(o);return{gatewayIp:e.correctForm(),networkIp:i.correctForm(),broadcastIp:n.correctForm(),ipCount:a.subtract(r).add(o).toString(),ipRangeMin:t.fromBigInteger(r).correctForm(),ipRangeMax:t.fromBigInteger(a).correctForm()}}},this.subnetHasIp=function(e,i){return e=new t(e),(i=new t(i)).isInSubnet(e)&&!e.startAddress().isInSubnet(i)&&!e.endAddress().isInSubnet(i)},this.removeLeadingZeros=function(e){return(e=new t(e)).correctForm()},this.isIPv6Address=function(t){return i.IPV6_ADDRESS.test(t)}}])},{}],1459:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("BatchDeviceModel",["$translate","BatchModel",function(t,e){return e.extend({siteUrl:"group/device",_getResponseByModel:function(t,e){return t[e.get("_id")]},getDisplayName:function(){return t.instant(function(t){switch(t){case"batch:uap":return"DEVICE_PROPERTIES_AP_BATCH_PROPERTY_PANEL_TITLE";case"batch:usw":return"DEVICE_PROPERTIES_SWITCH_BATCH_PROPERTY_PANEL_TITLE";default:return"DEVICE_PROPERTIES_DEFAULT_BATCH_PROPERTY_PANEL_TITLE"}}(this.modelType))},getDestinationAttrValues:function(t,e){var i=this.get("destination");return i?e?i.pluck(t):Array.from(new Set(i.pluck(t))):[]},hasDestinationAttrValue:function(t,e,i){return this.getDestinationAttrValues(t).some(angular.isFunction(e)?e:function(t){return!(!i||void 0!==t)||e===t})},countDestinationAttrValue:function(t,e,i){return this.getDestinationAttrValues(t,!0).filter(angular.isFunction(e)?e:function(t){return!(!i||void 0!==t)||e===t}).length}})}])},{}],1460:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("ControllerStatsModel",["CORSModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({siteUrl:"stat/widget/os-stats"})}])},{}],1461:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("CountryChannelsModel",["CORSModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({siteUrl:"stat/current-channel"})}])},{}],1462:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("DeviceEliteDetailsModel",["CORSModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({siteUrl:"stat/elite-support"})}])},{}],1463:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("DeviceEliteMgrModel",["CORSModel","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n){return t.extend(e).extend(i).extend(n).extend({siteUrl:"cmd/elite"})}])},{}],1464:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("DeviceModel",["AssociatedModel","Backbone","BaseCollection","collectionViewComparator","CORSAssociatedModel","deepCopyMixin","deviceFeatureUtils","getNestedMixin","modelDelegateMixin","pendingMixin","relationChangeMixin","resolveMixin","savePartialMixin","siteUrlMixin","structureMixin","webrtcMixin","DEVICE_STATE_IDS","DEVICE_TYPES","DISCOVERY",function(t,e,i,n,o,r,a,s,l,c,u,d,p,f,h,_,m,g,v){function E(t){return["radio_na","radio_ng"].forEach(function(e){t[e]&&t[e].ht&&(t[e].ht=String(t[e].ht))}),t.radio_table&&t.radio_table.forEach(function(t){t.ht&&(t.ht=String(t.ht))}),t}return o.extend(f).extend(h).extend(r).extend(p).extend(s).extend(d).extend(_).extend(u).extend(l).extend(c).extend({_isActiveSiteOptional:!0,idAttribute:"mac",modelType:"device",siteUrl:"rest/device",_delegateFallbackCache:{get:o.prototype,set:o.prototype,has:o.prototype},relations:[{type:e.Many,key:"antenna_table",collectionType:i,relatedModel:t.extend({idAttribute:"id"})},{type:e.Many,key:"downlink_table",collectionType:i,relatedModel:t.extend({idAttribute:"port_idx"})},{type:e.Many,key:"uplink_table",collectionType:i,relatedModel:t.extend({idAttribute:"mac"})},{type:e.Many,key:"port_table",collectionType:i,relatedModel:t.extend(r).extend({idAttribute:"port_idx"})},{type:e.Many,key:"port_overrides",collectionType:i.extend(r).extend({model:t.extend({idAttribute:"port_idx"})})},{type:e.Many,key:"ethernet_overrides",collectionType:i.extend(r).extend({model:t.extend({idAttribute:"ifname"})})},{type:e.Many,key:"psu_table",collectionType:i,relatedModel:t.extend(r).extend({idAttribute:"psu_idx"})},{type:e.Many,key:"network_table",collectionType:i,relatedModel:t.extend({idAttribute:"_id"})},{type:e.Many,key:"radio_table",collectionType:i.extend(s).extend({comparator:function(t,e){return t.get("radio")===e.get("radio")?t.get("min_chan_cntr_frq")&&e.get("min_chan_cntr_frq")?n(t.get("min_chan_cntr_frq"),e.get("min_chan_cntr_frq")):n(t.get("name"),e.get("name")):-n(t.get("radio"),e.get("radio"))}}),relatedModel:t.extend({idAttribute:"name"})},{type:e.Many,key:"radio_table_stats",collectionType:i,relatedModel:t.extend({idAttribute:"name"})},{type:e.Many,key:"scan_radio_table",collectionType:i,relatedModel:t.extend({idAttribute:"radio"})},{type:e.Many,key:"wlan_overrides",collectionType:i.extend(r).extend({model:t.extend(r).extend({idAttribute:"_id"})})},{type:e.Many,key:"vap_table",collectionType:i,relatedModel:t.extend({idAttribute:"bssid"})}],initialize:function(){this.on("change:state",function(t,e){this.isRestarting()&&e!==m.DISCONNECTED&&this.previous("state")===m.DISCONNECTED&&this.set({restarting:!1})},this),this.initializeRelationChangeMixin()},parse:function(t){if(t=h.parse.call(this,t))switch(a.getHybridCapability(t.model,t.type)){case"uap":t.wlan_overrides=t.wlan_overrides||[],t=E(t);break;case"usw":t.port_overrides=t.port_overrides||[],t.psu_table=t.psu_table||[];break;case"uap+usw":t.wlan_overrides=t.wlan_overrides||[],t.port_overrides=t.port_overrides||[],t=E(t);break;case"ugw":t.ethernet_overrides=t.ethernet_overrides||[],t.port_table=t.port_table||[]}return t.discovered_by=v.CONTROLLER,t},getDisplayName:function(){return this.get("name")||this.get("mac")},getCoords:function(){return[this.get("x"),this.get("y")]},getMemoryUsage:function(){return void 0!==this.getNested("system-stats.mem")?parseFloat(this.getNested("system-stats.mem")):void 0!==this.getNested("sys_stats.mem_used")&&void 0!==this.getNested("sys_stats.mem_total")?100*this.getNested("sys_stats.mem_used")/this.getNested("sys_stats.mem_total"):void 0},isAdopted:function(){return!0===this.get("adopted")},isRestarting:function(){return!!this.get("restarting")},isLocallyDiscovered:function(){return this.get("discovered_by")===v.PROTOCOL_V2_ID},isAp:function(){return this.get("type")===g.AP},isSwitch:function(){return this.get("type")===g.SWITCH},isGateway:function(){return this.get("type")===g.GATEWAY},isVirtual:function(){return!1},isElite:function(){return!!(this.get("elite")||{}).valid},url:function(){return this.buildUrl({id:this.get("_id")})},sync:function(t,e,i){return i=i||{},"read"===t&&(i.url=this.buildUrl({siteUrl:"stat/device"})),i.cfg&&(i.url+="?cfg=1"),o.prototype.sync.call(this,t,e,i)}})}])},{}],1465:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("DpiUsageModel",["BaseModel","dpi",function(t,e){return t.extend({getTotalBytes:function(){return parseInt(this.get("tx_bytes"))+parseInt(this.get("rx_bytes"))},getTotalPackets:function(){return parseInt(this.get("tx_packets"))+parseInt(this.get("rx_packets"))},getCompoundId:function(){return(parseInt(this.get("cat"))<<16)+parseInt(this.get("app"))},getCategoryName:function(){return this.has("category_name")||this.set("category_name",e.getCategoryName(this.get("cat"))),this.get("category_name")},getApplicationName:function(){return this.has("application_name")||this.set("application_name",e.getAppName(this.getCompoundId())),this.get("application_name")}})}])},{}],1466:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("NetworkModel",["CORSModel","siteUrlMixin","structureMixin","savePartialMixin","deepCopyMixin","webrtcMixin","DHCP_USER_OPTION",function(t,e,i,n,o,r,a){return t.extend(e).extend(i).extend(n).extend(o).extend(r).extend({modelType:"networks",idAttribute:"_id",siteUrl:"rest/networkconf",parse:function(t){return t=i.parse.call(this,t),Object.keys(this.attributes).filter(function(t){return t.startsWith(a.DHCP_USER_OPTION_PREFIX)}).forEach(function(e){e in t||delete this.attributes[e]}.bind(this)),t},getNetworkGroup:function(){return this.get("networkgroup")||this.get("wan_networkgroup")}})}])},{}],1467:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("SpectrumScanModel",["CORSModel","deepCopyMixin","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(e).extend(i).extend(n).extend(o).extend(r).extend({idAttribute:"mac",siteUrl:"stat/spectrum-scan"})}])},{}],1468:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("TagModel",["CORSModel","siteUrlMixin","structureMixin","savePartialMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"rest/tag"})}])},{}],1469:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("UserDpiModel",["Backbone","BaseCollection","CORSAssociatedModel","DpiUsageModel","resolveMixin","siteUrlMixin","structureMixin","webrtcMixin",function(t,e,i,n,o,r,a,s){return i.extend(o).extend(r).extend(a).extend(s).extend({idAttribute:"mac",relations:[{type:t.Many,key:"by_app",collectionType:e,relatedModel:n}]})}])},{}],1470:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("WirelessNetworkGroupModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"rest/wlangroup"})}])},{}],1471:[function(t,e,i){"use strict";angular.module("base-unifi-device").factory("WirelessNetworkModel",["CORSModel","deepCopyMixin","siteUrlMixin","structureMixin","webrtcMixin","WLAN_SECURITY_TYPES",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(e).extend(o).extend({_isActiveSiteOptional:!0,idAttribute:"_id",siteUrl:"rest/wlanconf",isRadiusConfigured:function(){var t=this.get("security"),e=this.get("radiusprofile_id");return t===r.WPA_ENTERPRISE?!!e:!!this.get("radius_mac_auth_enabled")&&!!e}})}])},{}],1472:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("portFeatureUtils",["POE_CAPS","POE_MAX_POWER",function(t,e){this.hasPoeCapability=function(t,e){return!!t&&((t.get("poe_caps")||0)&e)===e},this.isPoeOffSupported=function(e){return e&&e.has("poe_caps")?!this.hasPoeCapability(e,t.PASSTHROUGH):this.useLegacyPoeCaps(e)},this.isPoePassthroughSupported=function(e){return this.hasPoeCapability(e,t.PASSTHROUGH)||this.hasPoeCapability(e,t.PASSTHROUGHABLE)},this.isPoePassive24Supported=function(e){return this.hasPoeCapability(e,t.PASV24)||this.useLegacyPoeCaps(e)},this.isPoeAutoSupported=function(e){return this.hasPoeCapability(e,t["8023AF"])||this.hasPoeCapability(e,t["8023AT"])||this.useLegacyPoeCaps(e)},this.isPoePlusSupported=function(e){return this.hasPoeCapability(e,t["8023AT"])||this.useLegacyPoeCaps(e)},this.useLegacyPoeCaps=function(t){return t&&!t.has("poe_caps")&&t.get("port_poe")},this.getCurrentPower=function(t){return parseFloat(t.get("poe_power")||0,10)},this.getMaximumPower=function(i){return this.hasPoeCapability(i,t["8023AT"])?e["8023AT"]:this.hasPoeCapability(i,t["8023AF"])?e["8023AF"]:void 0}}])},{}],1473:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("tags",["$q","$translate","apiResults","BaseCollectionRepository","TagCollection",function(t,e,i,n,o){this.repository=new n(new o),this.getTagModelByValue=function(t){return t&&this.repository.collection.filter(function(e){return e.get("name").toLowerCase()===t.trim().toLowerCase()})[0]},this.getTagsByMac=function(t){return this.repository.collection.filter(function(e){return-1!==(e.get("member_table")||[]).indexOf(t)}).sort(function(t,e){return t.get("name")<e.get("name")?-1:t.get("name")>e.get("name")?1:0})},this.getUnanimousTagsByMacs=function(t){return this.repository.collection.filter(function(e){return t.every(function(t){return-1!==(e.get("member_table")||[]).indexOf(t)})})},this.removeTagByMacs=function(n,o,r){var a=angular.copy(o.get("member_table")||[]);return(angular.isArray(n)?n:[n]).forEach(function(t){a.splice(a.indexOf(t),1)}),(a.length?o.savePartial({member_table:a},r):o.destroy(r)).then(function(){return t.when(e.instant("DEVICE_PROPERTIES_REMOVE_TAG_SUCCESS",{tag:o.get("name")}))}).catch(function(n){return t.reject(i.appendErrorMsg(e.instant("DEVICE_PROPERTIES_REMOVE_TAG_ERROR",{tag:o.get("name")}),n))})},this.addExistingTagByMacs=function(n,o,r){var a=angular.copy(o.get("member_table")||[]);return a=Array.from(new Set(a.concat(angular.isArray(n)?n:[n]))),o.savePartial({member_table:a},r).then(function(){return t.when(e.instant("DEVICE_PROPERTIES_ADD_TAG_SUCCESS",{tag:o.get("name")}))}).catch(function(n){return t.reject(i.appendErrorMsg(e.instant("DEVICE_PROPERTIES_ADD_TAG_ERROR",{tag:o.get("name")}),n))})},this.addNewTagByMacs=function(n,o,r){var a=this.getTagModelByValue(o);if(a)return this.addExistingTagByMacs(n,a,r);a=new this.repository.collection.model;var s={member_table:angular.isArray(n)?n:[n],name:o};return a.save(s,r).then(function(){return this.repository.collection.add(a),t.when(e.instant("DEVICE_PROPERTIES_ADD_TAG_SUCCESS",{tag:a.get("name")}))}.bind(this)).catch(function(n){return t.reject(i.appendErrorMsg(e.instant("DEVICE_PROPERTIES_ADD_TAG_ERROR",{tag:a.get("name")}),n))})}}])},{}],1474:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("deviceModelFeatureValidator",["$filter","deviceFeatureUtils","deviceRadioUtils","RADIO_TYPES",function(t,e,i,n){this.validate=function(t,e,i){var o=[],r={isValid:!0};return this._isSupportedBandSteering(t,e,o),this._isSupportedAirtmeFairness(t,e,o),Object.keys(n).forEach(function(r){this._isSupportedRadio(n[r].type,t,e,o,i)}.bind(this)),o.length&&(r.isValid=!1,r.invalid=o),r},this._isSupportedBandSteering=function(t,i,n){"equal"!==i.bandsteering_mode||e.isGen2(t)||n.push({attr:"bandsteering_mode",translationKey:"DEVICE_PROPERTIES_UNSUPPORTED_FEATURE_BAND_STEERING"})},this._isSupportedAirtmeFairness=function(t,i,n){void 0===i.atf_enabled||e.isAirtimeFairnessConfigSupported(t)||i.atf_enabled===e.isAtfEnabled(t)||n.push({attr:"atf_enabled",translationKey:"DEVICE_PROPERTIES_UNSUPPORTED_FEATURE_AIRTIME_FAIRNESS"})},this._isSupportedRadio=function(e,n,o,r,a){if(o.radio_table)for(var s=0,l=o.radio_table.length;s<l;s++){var c=o.radio_table[s];if(c.radio===e&&this._getChangedRadioAttrs(c).length){if(!i.hasRadioType(n,e))return void r.push({attr:"radio_table",translationKey:t("toTranslationKey")("DEVICE_PROPERTIES_UNSUPPORTED_FEATURE_RADIO_"+e)});this._isSupportedRadioHt(n,c,r),this._isSupportedRadioChannel(n,c,r,a),this._isSupportedRadioTxPower(n,c,r),this._isSupportedRadioMinRssiStrictMode(n,c,r)}}},this._isSupportedRadioHt=function(e,n,o){var r=n.ht&&parseInt(n.ht,10);if(r){if(40===r&&!i.isHt40Supported(e,n.radio))return void o.push({attr:"radio_table",translationKey:t("toTranslationKey")("DEVICE_PROPERTIES_UNSUPPORTED_FEATURE_RADIO_HT_"+n.radio)});if(80===r&&!i.isHt80Supported(e))return void o.push({attr:"radio_table",translationKey:t("toTranslationKey")("DEVICE_PROPERTIES_UNSUPPORTED_FEATURE_RADIO_HT_"+n.radio)});if(160===r&&!i.isHt160Supported(e,n.name))return void o.push({attr:"radio_table",translationKey:t("toTranslationKey")("DEVICE_PROPERTIES_UNSUPPORTED_FEATURE_RADIO_HT_"+n.radio)})}},this._isSupportedRadioChannel=function(e,n,o,r){n.channel&&"auto"!==n.channel&&(i.getChannelOptions(e,n.radio,n.name,n.ht,r).some(function(t){return t.channel===n.channel})||o.push({attr:"radio_table",translationKey:t("toTranslationKey")("DEVICE_PROPERTIES_UNSUPPORTED_FEATURE_RADIO_CHANNEL_"+n.radio)}))},this._isSupportedRadioTxPower=function(e,n,o){"custom"===n.tx_power_mode&&i.getRadiosByType(e,n.radio).forEach(function(e){var i=e.get("min_txpower"),r=e.get("max_txpower");(!isNaN(i)&&n.tx_power<i||!isNaN(r)&&n.tx_power>r)&&o.push({attr:"radio_table",translationKey:t("toTranslationKey")("DEVICE_PROPERTIES_UNSUPPORTED_FEATURE_RADIO_TX_POWER_"+n.radio)})});n.hard_noise_floor_enabled&&!i.isMinRssiStrictModeSupported(e,n.radio)&&o.push({attr:"radio_table",translationKey:t("toTranslationKey")("DEVICE_PROPERTIES_UNSUPPORTED_FEATURE_RADIO_STRICT_MODE_"+n.radio)})},this._isSupportedRadioMinRssiStrictMode=function(e,n,o){n.hard_noise_floor_enabled&&!i.isMinRssiStrictModeSupported(e,n.radio)&&o.push({attr:"radio_table",translationKey:t("toTranslationKey")("DEVICE_PROPERTIES_UNSUPPORTED_FEATURE_RADIO_STRICT_MODE_"+n.radio)})},this._getChangedRadioAttrs=function(t){return Object.keys(t).filter(function(e){return"radio"!==e&&void 0!==t[e]&&null!==t[e]})}}])},{}],1475:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("wirelessNetworkGroups",["BaseCollectionRepository","WirelessNetworkGroupCollection",function(t,e){this.repository=new t(new e)}])},{}],1476:[function(t,e,i){"use strict";angular.module("base-unifi-device").service("wirelessNetworks",["BaseCollectionRepository","WirelessNetworkCollection",function(t,e){this.repository=new t(new e),this.getWlanCountByGroup=function(){return this.repository.collection.reduce(function(t,e){return t[e.get("wlangroup_id")]=t[e.get("wlangroup_id")]||0,t[e.get("wlangroup_id")]++,t},{})},this.getWlansByWlanGroupId=function(t){return this.repository.collection.where({wlangroup_id:t})}}])},{}],1477:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="blackout unifiConfirmRestart"><div class="appControlModal appControlModal--tiny" id="confirmRestartModal"><div class="appControlModal__close" frame-close="confirmRestart"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" ng-switch="confirmRestartCtrl.isBatch"><span ng-switch-when="true" translate="DEVICE_ACTIONS_BATCH_RESTART_CONFIRM_TITLE" translate-values="{count: confirmRestartCtrl.model.get(\'destination\').length}" translate-interpolation="messageformat"></span><span'+n("ng-switch-default",!0,!0,!0)+' translate="DEVICE_ACTIONS_RESTART_CONFIRM_TITLE" translate-values="{deviceName: confirmRestartCtrl.model.getDisplayName()}"></span></div><div class="appControlModal__content"><form class="appForm appForm--cozy appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="confirmRestartCtrl.form"><p class="verticalRhythmHalf" ng-switch="confirmRestartCtrl.isBatch"><span ng-switch-when="true" translate="DEVICE_ACTIONS_BATCH_RESTART_CONFIRM_MESSAGE" translate-values="{count: confirmRestartCtrl.model.get(\'destination\').length}" translate-interpolation="messageformat"></span><span'+n("ng-switch-default",!0,!0,!0)+' translate="DEVICE_ACTIONS_RESTART_CONFIRM_MESSAGE" translate-values="{deviceName: confirmRestartCtrl.model.getDisplayName()}"></span></p><div class="appInputGroup appInputGroup--comfy" ng-if="confirmRestartCtrl.withHardReboot"><input type="checkbox" name="hardReboot" id="hardReboot" ng-model="confirmRestartCtrl.hardReboot"><label for="hardReboot" translate="DEVICE_ACTIONS_RESTART_CONFIRM_CYCLE_POE_POWER"></label></div></form></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--7" unifi-bypass-confirm="confirmRestartCtrl.bypassFlag" unifi-bypass-confirm-is-dark="true"></div><div class="flexCol--5 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark cancel" ng-click="confirmRestartCtrl.reject()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--cozy appMainButton--primary confirm" ng-click="confirmRestartCtrl.resolve()" translate="COMMON_ACTIONS_CONFIRM"></button></div></div></div></div></div></div>'};var o=/["&<>]/},{"pug-runtime":23}],1478:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout"><div class="appControlModal appControlModal--tiny" id="wirelessUplinkDfsWarningModal"><div class="appControlModal__close" ng-click="wirelessUplinkDfsWarningCtrl.reject()"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header" translate="DEVICE_ACTIONS_LINK_DFS_WARNING_HEADER"></div><div class="appControlModal__content"><p translate="DEVICE_ACTIONS_LINK_DFS_WARNING_MESSAGE" translate-values="{channel: wirelessUplinkDfsWarningCtrl.uplink.get(\'na-channel\')}"></p><div class="appInfoBoxContainer"><div class="appInfoBox appInfoBox--cozy appInfoBox--warning appInfoBox--noBorder appInfoBox--dark"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom"><span translate="DEVICE_ACTIONS_LINK_DFS_WARNING_5GHZ_UNAVAILABLE"></span></p></div></div></div><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder appInfoBox--dark"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_ACTIONS_LINK_DFS_WARNING_2GHZ_AVAILABLE"></p></div></div></div><div class="appInfoBox appInfoBox--cozy appInfoBox--noBorder appInfoBox--dark"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__body"><p class="noMarginBottom" translate="DEVICE_ACTIONS_LINK_DFS_WARNING_5GHZ_USAGE_BEYOND"></p></div></div></div></div></div><div class="appControlModal__content"><p translate="DEVICE_ACTIONS_LINK_DFS_WARNING_CONFIRM_MESSAGE"></p></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--12 alignRight"><div class="appInputGroup"><button class="appMainButton appMainButton--cozy appMainButton--transparentDark cancel" ng-click="wirelessUplinkDfsWarningCtrl.reject()" translate="COMMON_ACTIONS_CANCEL"></button><button class="appMainButton appMainButton--cozy appMainButton--primary confirm" ng-click="wirelessUplinkDfsWarningCtrl.resolve()" translate="COMMON_ACTIONS_CONFIRM"></button></div></div></div></div></div></div>'}},{"pug-runtime":23}],1479:[function(t,e,i){"use strict";angular.module("base-unifi-hotspot").constant("GUEST_AUTHORIZATION",{NONE:"none",PASSWORD:"password",API:"api",FREE:"free",VOUCHER:"voucher",CREDIT:"credit",PAYPAL:"paypal",FACEBOOK:"facebook",FACEBOOK_WIFI:"facebook_wifi",GOOGLE:"google",RADIUS:"radius",WECHAT:"wechat"})},{}],1480:[function(t,e,i){"use strict";angular.module("base-unifi-hotspot").filter("guestAuthorization",["$translate","currencyUtils","voucherUtils","GUEST_AUTHORIZATION",function(t,e,i,n){return function(o){switch(o.get("authorized_by")){case n.API:return t.instant("COMMON_GUEST_AUTHORIZATION_API");case n.FACEBOOK:return t.instant("COMMON_GUEST_AUTHORIZATION_FACEBOOK");case n.FACEBOOK_WIFI:return t.instant("COMMON_GUEST_AUTHORIZATION_FACEBOOK_WIFI");case n.GOOGLE:return t.instant("COMMON_GUEST_AUTHORIZATION_GOOGLE");case n.CREDIT:var r=o.get("package"),a=o.get("amount"),s=o.get("currency"),l=o.get("payment_cardtype")||t.instant("COMMON_GUEST_AUTHORIZATION_CREDIT_CARD");return r&&a&&(l+=" ["+r+", "+e.formatAmount(a,s)+"]"),l;case n.FREE:return t.instant("COMMON_GUEST_AUTHORIZATION_FREE");case n.PASSWORD:return t.instant("COMMON_GUEST_AUTHORIZATION_PASSWORD");case n.PAYPAL:return t.instant("COMMON_GUEST_AUTHORIZATION_PAYPAL");case n.RADIUS:return t.instant("COMMON_GUEST_AUTHORIZATION_RADIUS");case n.WECHAT:return t.instant("COMMON_GUEST_AUTHORIZATION_WECHAT");case n.VOUCHER:var c=o.get("voucher_code");return c?t.instant("COMMON_GUEST_AUTHORIZATION_VOUCHER_WITH_CODE",{code:i.formatCode(c)}):t.instant("COMMON_GUEST_AUTHORIZATION_VOUCHER");default:return t.instant("COMMON_GUEST_AUTHORIZATION_NONE")}}}])},{}],1481:[function(t,e,i){"use strict";angular.module("base-unifi-hotspot",["base-unifi"]),t("./constants/GUEST_AUTHORIZATION.js"),t("./filters/guestAuthorization.js"),t("./services/collections/GuestCollection.js"),t("./services/collections/VoucherCollection.js"),t("./services/models/GuestModel.js"),t("./services/models/VoucherModel.js"),t("./services/voucherUtils.js")},{"./constants/GUEST_AUTHORIZATION.js":1479,"./filters/guestAuthorization.js":1480,"./services/collections/GuestCollection.js":1482,"./services/collections/VoucherCollection.js":1483,"./services/models/GuestModel.js":1484,"./services/models/VoucherModel.js":1485,"./services/voucherUtils.js":1486}],1482:[function(t,e,i){"use strict";angular.module("base-unifi-hotspot").factory("GuestCollection",["CORSCollection","GuestModel","siteUrlMixin","siteUrlWithinMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r,a){return t.extend(i).extend(n).extend(o).extend(r).extend(a).extend({model:e,siteUrl:"stat/guest"})}])},{}],1483:[function(t,e,i){"use strict";angular.module("base-unifi-hotspot").factory("VoucherCollection",["CORSCollection","VoucherModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"stat/voucher"})}])},{}],1484:[function(t,e,i){"use strict";angular.module("base-unifi-hotspot").factory("GuestModel",["$filter","CORSModel","siteUrlMixin","deepCopyMixin","getNestedMixin","webrtcMixin",function(t,e,i,n,o,r){return e.extend(i).extend(n).extend(o).extend(r).extend({idAttribute:"_id",siteUrl:"rest/guest",getDisplayName:function(){return this.get("hostname")||this.get("mac")},getEnd:function(){return t("moment")(1e3*this.get("end"),"format","datetime")}})}])},{}],1485:[function(t,e,i){"use strict";angular.module("base-unifi-hotspot").factory("VoucherModel",["CORSModel","siteUrlMixin","deepCopyMixin","getNestedMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"_id",siteUrl:"stat/voucher"})}])},{}],1486:[function(t,e,i){"use strict";angular.module("base-unifi-hotspot").service("voucherUtils",["$filter","$translate",function(t,e){this.getStatusText=function(i){var n=i.get("status"),o=i.get("status_expires"),r=o?t("seconds")(o.toFixed(0)):null;return i.get("quota")>0&&("USED_MULTIPLE"===n||"VALID_MULTI"===n)&&(n+="_QUOTA"),e.instant("VOUCHER_STATUS_"+n,{expires:r,quota:i.get("quota"),used:i.get("used")})},this.formatCode=function(t){return t.substring(0,5)+"-"+t.substring(5)}}])},{}],1487:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("base-unifi-maintenance").controller("BackupListController",["BasePaginatedListController","backup","backupUtils","frame","heyToasts","preferences","$translate",function(t,e,i,o,r,a,s){return new(function(l){function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return t.defaultSortBy="datetime",t.defaultSortDesc=!1,t.rowsPerPage=a.model.getRowsPerPropertyPanel(),t.isDownloading=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,t),n(c,[{key:"$onInit",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"$onInit",this).call(this),a.model.on("change:use24HourTime change:dateFormat change:timeFormat",this.triggerChange)}},{key:"$onDestroy",value:function(){a.model.off("change:use24HourTime change:dateFormat change:timeFormat",this.triggerChange)}},{key:"triggerChange",value:function(){e.repository.collection.trigger("update")}},{key:"getCollection",value:function(){return e.repository.collection}},{key:"removeBackup",value:function(t){return o.show("confirm",{title:function(){return s.instant("SETTINGS_MAINTENANCE_DELETE_AUTOBACKUP_CONFIRM_TITLE")},message:function(){return s.instant("SETTINGS_MAINTENANCE_DELETE_AUTOBACKUP_CONFIRM_MESSAGE",{file:t.get("filename")})},options:function(){return{allowHtml:!0}}}).then(function(){return i.removeBackup(t).then(function(t){return r.pushSuccess(t),!0}).catch(function(t){return r.pushError(t),!1})})}},{key:"downloadBackup",value:function(t){var e=this;return this.isDownloading=!0,i.downloadBackup(t).catch(function(t){return r.pushError(t),!1}).finally(function(){e.isDownloading=!1})}},{key:"restoreBackup",value:function(t){return o.show("confirm",{title:function(){return s.instant("SETTINGS_MAINTENANCE_RESTORE_FROM_AUTOBACKUP_CONFIRM_TITLE")},message:function(){return s.instant("SETTINGS_MAINTENANCE_RESTORE_FROM_AUTOBACKUP_CONFIRM_MESSAGE",{file:t.get("filename")})},options:function(){return{allowHtml:!0}}}).then(function(){return i.restoreBackup(t).catch(function(t){return r.pushError(t),!1})})}}]),c}())}])},{}],1488:[function(t,e,i){"use strict";angular.module("base-unifi-maintenance").directive("unifiBackupList",["PaginatedListDirective",function(e){return new e("backup",t("./backupList.pug")(),{isDark:"=unifiBackupListIsDark",isDownloadAvailable:"=unifiBackupListIsDownloadAvailable",isDeleteAvailable:"=unifiBackupListIsDeleteAvailable"})}])},{"./backupList.pug":1489}],1489:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div><table class="appTable appTable--noWrap appTable--hoverable appTable--flexible appTable--striped" id="backupFiles" collection-view-sort="backupListCtrl.view" ng-class="{      \'appTable--dark\': backupListCtrl.isDark    }" unifi-condensed="appTable--condensed"><thead><th collection-view-sort-by="filename"><span translate="SETTINGS_BACKUP_TABLE_HEADER_FILENAME"></span></th><th collection-view-sort-by="datetime"><span translate="SETTINGS_BACKUP_TABLE_HEADER_DATE"></span></th><th collection-view-sort-by="size"><span translate="SETTINGS_BACKUP_TABLE_HEADER_SIZE"></span></th><th><span translate="SETTINGS_BACKUP_TABLE_HEADER_ACTIONS"></span></th></thead><tfoot ng-if="backupListCtrl.view.getModels().length"><tr><td colspan="4"><unifi-micro-pagination unifi-micro-pagination-current-page="backupListCtrl.currentPage" unifi-micro-pagination-rows-per-page="backupListCtrl.rowsPerPage" unifi-micro-pagination-total-rows="backupListCtrl.view.getModels().length"></unifi-micro-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in backupListCtrl.view.getModels(),          startFrom (backupListCtrl.currentPage - 1) * backupListCtrl.rowsPerPage,          limitTo backupListCtrl.rowsPerPage" data-id="{{::model.id}}"><td>{{ model.get(\'filename\') }}</td><td>{{ model.get(\'datetime\') | moment: \'format\': \'datetime\'}}</td><td>{{ model.get(\'size\') | bytes}}</td><td class="appTableCell--actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="backupListCtrl.restoreBackup(model)" title="{{\'SETTINGS_BACKUP_ACTIONS_RESTORE\' | translate}}"><span class="button__icon icon ubnt-icon--refresh-2"></span><span class="button__label" translate="SETTINGS_BACKUP_ACTIONS_RESTORE"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="backupListCtrl.downloadBackup(model)" title="{{\'SETTINGS_BACKUP_ACTIONS_DOWNLOAD\' | translate}}" ng-if="backupListCtrl.isDownloadAvailable" ng-disabled="backupListCtrl.isDownloading"><span class="button__icon icon ubnt-icon--download-2"></span><span class="button__label" translate="SETTINGS_BACKUP_ACTIONS_DOWNLOAD"></span></button><button class="appMainButton appMainButton--tertiary appMainButton--condensed is-responsive" type="button" ng-click="backupListCtrl.removeBackup(model)" title="{{\'COMMON_ACTIONS_DELETE\' | translate}}" ng-if="backupListCtrl.isDeleteAvailable"><span class="button__icon icon ubnt-icon--trashcan"></span><span class="button__label" translate="COMMON_ACTIONS_DELETE"></span></button></td></tr></tbody></table></div>'}},{"pug-runtime":23}],1490:[function(t,e,i){"use strict";angular.module("base-unifi-maintenance").config(["frameProvider",function(e){e.when("working",{controller:"WorkingController",controllerAs:"workingCtrl",layout:"workingLayout",template:t("../views/frames/working.pug")()})}])},{"../views/frames/working.pug":1497}],1491:[function(t,e,i){"use strict";function n(t,e,i){this.frame=t,this.message=e,this.title=i}n.prototype.resolve=function(){return this.frame.getLayout("workingLayout").resolve()},n.prototype.reject=function(){return this.frame.getLayout("workingLayout").reject()},n.$inject=["frame","message","title"],angular.module("base-unifi-maintenance").controller("WorkingController",n)},{}],1492:[function(t,e,i){"use strict";angular.module("base-unifi-maintenance",["base-unifi"]),t("./components/backupList/BackupListController.js"),t("./components/backupList/backupList.js"),t("./config/frames.js"),t("./controllers/WorkingController.js"),t("./services/backup.js"),t("./services/backupUtils.js"),t("./services/collections/BackupCollection.js"),t("./services/models/BackupModel.js")},{"./components/backupList/BackupListController.js":1487,"./components/backupList/backupList.js":1488,"./config/frames.js":1490,"./controllers/WorkingController.js":1491,"./services/backup.js":1493,"./services/backupUtils.js":1494,"./services/collections/BackupCollection.js":1495,"./services/models/BackupModel.js":1496}],1493:[function(t,e,i){"use strict";angular.module("base-unifi-maintenance").service("backup",["BackupCollection","BaseCollectionRepository",function(t,e){this.repository=new e(new t)}])},{}],1494:[function(t,e,i){"use strict";angular.module("base-unifi-maintenance").service("backupUtils",["apiResults","backup","BackupMgrModel","fileUtils","frame","heyToasts","status","systemBackupUtils","UnifiFileBasePath","$translate","$q",function(t,e,i,n,o,r,a,s,l,c,u){this.downloadBackup=function(t){return n.download(l+"/dl/autobackup/"+t.get("filename"),t.get("filename")).catch(function(){return u.reject(c.instant("SETTINGS_BACKUP_DOWNLOAD_FILE_ERROR"))})},this.removeBackup=function(n){var o=n.get("filename");return(new i).save({cmd:"delete-backup",filename:o}).then(function(){return e.repository.collection.remove(n),u.when(c.instant("SETTINGS_BACKUP_REMOVE_FILE_SUCCESS",{filename:o}))}).catch(function(e){return u.reject(t.appendErrorMsg(c.instant("SETTINGS_BACKUP_REMOVE_FILE_ERROR"),e))})},this.restoreBackup=function(e){var n=new i;return n.save({cmd:"choose-backup",filename:e.get("filename")}).then(function(){return this.restoreAndRestart(n.get("backup_id"))}.bind(this)).catch(function(e){return u.reject(t.appendErrorMsg(c.instant("SETTINGS_MAINTENANCE_RESTORE_FROM_BACKUP_ERROR"),e))})},this.restoreAndRestart=function(t){return o.show("working",{title:function(){return c.instant("COMMON_NOTICE_WAITING_TITLE")},message:function(){return c.instant("SETTINGS_MAINTENANCE_RESTORE_FROM_BACKUP_WORKING")}}),s.restoreFromBackup(t).then(function(t){return o.show("working",{title:function(){return c.instant("COMMON_NOTICE_WAITING_TITLE")},message:function(){return t}}),a.waitForRestart(),!0}).catch(function(e){return o.close("working"),r.pushError(e),s.cancelRestoreFromBackup(t),!1})}}])},{}],1495:[function(t,e,i){"use strict";angular.module("base-unifi-maintenance").factory("BackupCollection",["CORSCollection","BackupModel","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin",function(t,e,i,n,o,r){return t.extend(i).extend(n).extend(o).extend(r).extend({model:e,siteUrl:"cmd/backup",_isActiveSiteOptional:!0,sync:function(e,i,n){return n=n||{},"read"===e&&(n.type="POST",n.data=JSON.stringify({cmd:"list-backups"})),t.prototype.sync.call(this,e,i,n)}})}])},{}],1496:[function(t,e,i){"use strict";angular.module("base-unifi-maintenance").factory("BackupModel",["CORSModel","siteUrlMixin","structureMixin","deepCopyMixin","webrtcMixin",function(t,e,i,n,o){return t.extend(e).extend(i).extend(n).extend(o).extend({idAttribute:"filename",siteUrl:"cmd/backup",_isActiveSiteOptional:!0,defaults:{role:"readonly"},sync:function(){throw new Error("Not implemented")}})}])},{}],1497:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout unifiWorking"><div class="appControlModal appControlModal--tiny" id="workingModal"><div class="appControlModal__header">{{workingCtrl.title}}</div><div class="appControlModal__content"><p>{{workingCtrl.message}}</p></div></div></div>'}},{"pug-runtime":23}],1498:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("base-unifi-overview").controller("AdminOverviewListController",["BasePaginatedListController","appUrl","adminsOverview","AdminOverviewFilter",function(t,e,i,o){return new(function(r){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t.filter=new o,t.defaultSortBy="name",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),n(a,[{key:"getCollection",value:function(){return i.repository.collection}},{key:"getSiteUrl",value:function(t){return e.buildUrl(["site",t])}},{key:"getSiteName",value:function(t){var e=t.get("last_site_name"),i=t.get("roles").find(function(t){return t.get("site_name")===e});return i?i.get("site_desc"):""}}]),a}())}])},{}],1499:[function(t,e,i){"use strict";angular.module("base-unifi-overview").directive("unifiAdminOverviewList",["PaginatedListDirective","eventHandlersDirectiveMixin","listSearchDirectiveMixin",function(e,i,n){var o=new e("adminOverview",t("./adminOverviewList.pug")(),{searchQuery:"=unifiAdminOverviewListSearchQuery",isRefreshing:"=unifiAdminOverviewListIsRefreshing"});return o.addMixin(n),o}])},{"./adminOverviewList.pug":1500}],1500:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiAdminOverview"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="adminOverviewTable" collection-view-sort="adminOverviewListCtrl.view" ng-class="{      \'is-not-responsive\': !adminOverviewListCtrl.isResponsive()    }" unifi-condensed="appTable--condensed"><thead><tr><th class="adminOverviewName" collection-view-sort-by="name"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_NAME"></span></th><th class="adminOverviewEmail" collection-view-sort-by="email"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_EMAIL"></span></th><th class="adminIsVerified" collection-view-sort-by="is_verified"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_IS_VERIFIED"></span></th><th class="adminIsSuper" collection-view-sort-by="is_super"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_IS_SUPER"></span></th><th class="adminOverviewSitesCount"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_SITES_COUNT"></span></th><th class="adminOverviewLastSite" collection-view-sort-by="last_site_name"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_LAST_SITE"></span></th><th class="adminOverviewEmailAlertEnabled" collection-view-sort-by="email_alert_enabled"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_EMAIL_ALERT_ENABLED"></span></th><th class="adminOverviewEmailAlertGrouping" collection-view-sort-by="email_alert_grouping_enabled"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_EMAIL_ALERT_GROUPING"></span></th><th class="adminOverviewEmailAlertGroupingDelay" collection-view-sort-by="email_alert_grouping_delay"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_EMAIL_ALERT_GROUPING_DELAY"></span></th><th class="adminOverviewEmailHtmlEnabled" collection-view-sort-by="html_email_enabled"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_EMAIL_HTML_ENABLED"></span></th><th class="adminOverviewIsProfessionalInstaller" collection-view-sort-by="is_professional_installer"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_IS_PROFESSIONAL_INSTALLER"></span></th><th class="adminOverviewUbicName" collection-view-sort-by="ubic_name"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_UBIC_NAME"></span></th><th class="adminOverviewTimeCreated" collection-view-sort-by="time_created"><span translate="ADMIN_OVERVIEW_TABLE_HEADER_TIME_CREATED"></span></th></tr></thead><tfoot ng-if="adminOverviewListCtrl.view.getModels().length"><tr><td colspan="11"><unifi-list-pagination unifi-list-pagination-current-page="adminOverviewListCtrl.currentPage" unifi-list-pagination-rows-per-page="adminOverviewListCtrl.rowsPerPage" unifi-list-pagination-total-rows="adminOverviewListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in adminOverviewListCtrl.view.getModels(),          startFrom (adminOverviewListCtrl.currentPage - 1) * adminOverviewListCtrl.rowsPerPage,          limitTo adminOverviewListCtrl.rowsPerPage" data-id="{{::model.id}}"><td class="adminOverviewName">{{::model.get(\'name\') || (\'ADMIN_OVERVIEW_TABLE_FLAGS_UNCONFIGURED\' | translate)}}</td><td class="adminOverviewEmail">{{::model.get(\'email\')}}</td><td class="adminIsVerified" ng-bind-html="model.get(\'is_verified\') | enabledIcon"></td><td class="adminIsSuper" ng-bind-html="model.get(\'is_super\') | enabledIcon"></td><td class="adminOverviewSitesCount" ng-bind-html="model.get(\'roles\').length"></td><td class="adminLastSite"><a ng-href="{{adminOverviewListCtrl.getSiteUrl(model.get(\'last_site_name\'))}}" ng-click="$event.stopPropagation()">{{adminOverviewListCtrl.getSiteName(model)}}</a></td><td class="adminOverviewEmailAlertEnabled" ng-bind-html="model.get(\'email_alert_enabled\') | enabledIcon"></td><td class="adminOverviewEmailAlertGrouping" ng-bind-html="model.get(\'email_alert_grouping_enabled\') | enabledIcon"></td><td class="email_alert_grouping_delay">{{::model.get(\'email_alert_grouping_delay\')}}</td><td class="adminOverviewEmailHtmlEnabled" ng-bind-html="model.get(\'html_email_enabled\') | enabledIcon"></td><td class="adminOverviewIsProfessionalInstaller" ng-bind-html="model.get(\'is_professional_installer\') | enabledIcon"></td><td class="adminOverviewUbicName">{{::model.get(\'ubic_name\')}}</td><td class="adminOverviewTimeCreated">{{::model.get(\'time_created\') * 1000 | moment: \'format\': \'datetime\'}}</td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!adminOverviewListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="ADMIN_OVERVIEW_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="ADMIN_OVERVIEW_TABLE_EMPTY_NO_DATA"></p></div></div></div></div></div></div></div>'}},{"pug-runtime":23}],1501:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("base-unifi-overview").controller("SiteOverviewListController",["BasePaginatedListController","$injector","appUrl","sitesOverview","siteOverviewComparator","SiteOverviewFilter","BaseCollection","ENV",function(t,e,i,o,r,a,s,l){return new(function(c){function u(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return t.comparator=r,t.filter=new a,t.defaultSortBy="desc",t.collection=new s,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,t),n(u,[{key:"$onInit",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0})(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"$onInit",this).call(this),this.initPanels(),this.collectData()}},{key:"initPanels",value:function(){this.isOverviewPanelAvailable()&&(this.overviewPanel=e.get("overviewPanel"))}},{key:"addEventHandlers",value:function(){o.repository.collection.on("add remove change reset sync",this.collectData,this)}},{key:"removeEventHandlers",value:function(){o.repository.collection.off("add remove change reset sync",this.collectData,this)}},{key:"getCollection",value:function(){return this.collection}},{key:"getSiteUrl",value:function(t){return i.buildUrl(["site",t])}},{key:"collectData",value:function(){this.collection.reset(o.repository.collection.map(function(t){var e=angular.extend({},t.attributes,{id:t.id,wan_status:t.getNested("health.wan.status"),lan_active:t.getNested("health.lan.num_sw"),lan_inactive:t.getNested("health.lan.num_disconnected"),lan_pending:t.getNested("health.lan.num_pending"),lan_status:t.getNested("health.lan.status"),wlan_status:t.getNested("health.wlan.status"),wlan_active:t.getNested("health.wlan.num_ap"),wlan_inactive:t.getNested("health.wlan.num_disconnected"),wlan_pending:t.getNested("health.wlan.num_pending"),lan_users:t.getNested("health.lan.num_user")||0,wlan_users:t.getNested("health.wlan.num_user")||0,lan_guests:t.getNested("health.lan.num_guest")||0,wlan_guests:t.getNested("health.wlan.num_guest")||0});return delete e.health,e}))}},{key:"isOverviewPanelAvailable",value:function(){return"app-unifi-overview"===l.APP}},{key:"openOverviewPanel",value:function(t){if(this.isOverviewPanelAvailable()){var e=o.repository.collection.get(t.id);e&&this.overviewPanel.addItem(e)}}}]),u}())}])},{}],1502:[function(t,e,i){"use strict";angular.module("base-unifi-overview").directive("unifiSiteOverviewList",["PaginatedListDirective","eventHandlersDirectiveMixin","listSearchDirectiveMixin",function(e,i,n){var o=new e("siteOverview",t("./siteOverviewList.pug")(),{searchQuery:"=unifiSiteOverviewListSearchQuery",isRefreshing:"=unifiSiteOverviewListIsRefreshing"});return o.addMixin(i),o.addMixin(n),o}])},{"./siteOverviewList.pug":1503}],1503:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiSiteOverview"><table class="verticalRhythmTop--cozy appTable appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped" id="siteOverviewTable" collection-view-sort="siteOverviewListCtrl.view" ng-class="{      \'is-not-responsive\': !siteOverviewListCtrl.isResponsive()    }" unifi-condensed="appTable--condensed"><thead><tr><th class="siteOverviewName" collection-view-sort-by="desc"><span translate="SITE_OVERVIEW_TABLE_HEADER_NAME"></span></th><th class="siteOverviewAlerts visibleAdjusted--mdUp noHorizontalPadding" collection-view-sort-by="num_new_alarms"><span translate="SITE_OVERVIEW_TABLE_HEADER_ALERTS"></span></th><th class="siteOverviewAlerts visibleAdjusted--smDown noHorizontalPadding" ng-if="siteOverviewListCtrl.isResponsive()" collection-view-sort-by="num_new_alarms"></th><th class="siteOverviewStatus visibleAdjusted--smDown" ng-if="siteOverviewListCtrl.isResponsive()"><span translate="SITE_OVERVIEW_TABLE_HEADER_STATUS"></span></th><th class="siteOverviewWan visibleAdjusted--mdUp" collection-view-sort-by="wan_status"><span translate="SITE_OVERVIEW_TABLE_HEADER_WAN"></span></th><th class="siteOverviewLan visibleAdjusted--mdUp" collection-view-sort-by="lan_status"><span translate="SITE_OVERVIEW_TABLE_HEADER_LAN"></span></th><th class="siteOverviewActive visibleAdjusted--mdUp" collection-view-sort-by="lan_active"><span translate="SITE_OVERVIEW_TABLE_HEADER_ACTIVE"></span></th><th class="siteOverviewInactive visibleAdjusted--mdUp" collection-view-sort-by="lan_inactive"><span translate="SITE_OVERVIEW_TABLE_HEADER_INACTIVE"></span></th><th class="siteOverviewPending visibleAdjusted--lgUp" collection-view-sort-by="lan_pending"><span translate="SITE_OVERVIEW_TABLE_HEADER_PENDING"></span></th><th class="siteOverviewWlan visibleAdjusted--mdUp" collection-view-sort-by="wlan_status"><span translate="SITE_OVERVIEW_TABLE_HEADER_WLAN"></span></th><th class="siteOverviewActive visibleAdjusted--mdUp" collection-view-sort-by="wlan_active"><span translate="SITE_OVERVIEW_TABLE_HEADER_ACTIVE"></span></th><th class="siteOverviewInactive visibleAdjusted--mdUp" collection-view-sort-by="wlan_inactive"><span translate="SITE_OVERVIEW_TABLE_HEADER_INACTIVE"></span></th><th class="siteOverviewPending visibleAdjusted--lgUp" collection-view-sort-by="wlan_pending"><span translate="SITE_OVERVIEW_TABLE_HEADER_PENDING"></span></th><th class="siteOverviewUsers" collection-view-sort-by="users" colspan="2"><span translate="SITE_OVERVIEW_TABLE_HEADER_USERS"></span></th><th class="siteOverviewGuests" collection-view-sort-by="guests" colspan="2"><span translate="SITE_OVERVIEW_TABLE_HEADER_GUESTS"></span></th></tr></thead><tfoot ng-if="siteOverviewListCtrl.view.getModels().length"><tr><td colspan="15"><unifi-list-pagination unifi-list-pagination-current-page="siteOverviewListCtrl.currentPage" unifi-list-pagination-rows-per-page="siteOverviewListCtrl.rowsPerPage" unifi-list-pagination-total-rows="siteOverviewListCtrl.view.getModels().length" unifi-list-pagination-total-links="5"></unifi-list-pagination></td></tr></tfoot><tbody><tr collection-view-repeat="model in siteOverviewListCtrl.view.getModels(),          startFrom (siteOverviewListCtrl.currentPage - 1) * siteOverviewListCtrl.rowsPerPage,          limitTo siteOverviewListCtrl.rowsPerPage" data-id="{{::model.id}}" ng-class="{\'clickable\': siteOverviewListCtrl.isOverviewPanelAvailable(model)}" ng-click="siteOverviewListCtrl.openOverviewPanel(model)"><td class="siteOverviewName"><a unifi-if-app="\'app-unifi-overview\'" ng-href="{{siteOverviewListCtrl.getSiteUrl(model.get(\'name\'))}}" ng-click="$event.stopPropagation()">{{::model.get(\'desc\')}}</a><a unifi-if-app="\'app-unifi-manage\'" ui-sref="manage.site.dashboard({site: model.get(\'name\')})" frame-close="sitesOverview">{{::model.get(\'desc\')}}</a></td><td class="siteOverviewAlerts noHorizontalPadding"><div class="count count--round appCount" ng-class="{\'appCount--static\': !model.get(\'num_new_alarms\')}"><div class="count__value">{{::model.get(\'num_new_alarms\') || 0 | numberToString}}</div></div></td><td class="siteOverviewStatus visibleAdjusted--smDown" ng-if="siteOverviewListCtrl.isResponsive()"><div class="iconText appIconText"><span class="iconText__icon icon ubnt-icon--shield" ng-class="{                \'success\': model.get(\'wan_status\') === \'ok\',                \'warning\': model.get(\'wan_status\') === \'warning\',                \'danger\': model.get(\'wan_status\') === \'error\',                \'static\': model.get(\'wan_status\') === \'unknown\'              }"></span><div class="appTooltipContainer appTooltipContainer--hoverable"><div class="appTooltip appTooltip--cozy appTooltip--brief appTooltip--rightSide"><div class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow appDescriptionListRow--cozy"><dt class="alignRight">{{\'SITE_OVERVIEW_TABLE_HEADER_ACTIVE\' | translate}}</dt><dd>{{::model.get(\'lan_active\')}}</dd></div><div class="appDescriptionListRow appDescriptionListRow--cozy"><dt class="alignRight">{{\'SITE_OVERVIEW_TABLE_HEADER_INACTIVE\' | translate}}</dt><dd>{{::model.get(\'lan_inactive\')}}</dd></div><div class="appDescriptionListRow appDescriptionListRow--cozy"><dt class="alignRight">{{\'SITE_OVERVIEW_TABLE_HEADER_PENDING\' | translate}}</dt><dd>{{::model.get(\'lan_pending\')}}</dd></div></div></div><span class="iconText__icon icon ubnt-icon--network" ng-class="{                  \'success\': model.get(\'lan_status\') === \'ok\',                  \'warning\': model.get(\'lan_status\') === \'warning\',                  \'danger\': model.get(\'lan_status\') === \'error\',                  \'static\': model.get(\'lan_status\') === \'unknown\'                }"></span></div><div class="appTooltipContainer appTooltipContainer--hoverable"><div class="appTooltip appTooltip--cozy appTooltip--brief appTooltip--rightSide"><div class="appDescriptionList appDescriptionList--inline"><div class="appDescriptionListRow appDescriptionListRow--cozy"><dt class="alignRight">{{\'SITE_OVERVIEW_TABLE_HEADER_ACTIVE\' | translate}}</dt><dd>{{::model.get(\'wlan_active\')}}</dd></div><div class="appDescriptionListRow appDescriptionListRow--cozy"><dt class="alignRight">{{\'SITE_OVERVIEW_TABLE_HEADER_INACTIVE\' | translate}}</dt><dd>{{::model.get(\'wlan_inactive\')}}</dd></div><div class="appDescriptionListRow appDescriptionListRow--cozy"><dt class="alignRight">{{\'SITE_OVERVIEW_TABLE_HEADER_PENDING\' | translate}}</dt><dd>{{::model.get(\'wlan_pending\')}}</dd></div></div></div><span class="iconText__icon icon ubnt-icon--ap2" ng-class="{                  \'success\': model.get(\'wlan_status\') === \'ok\',                  \'warning\': model.get(\'wlan_status\') === \'warning\',                  \'danger\': model.get(\'wlan_status\') === \'error\',                  \'static\': model.get(\'wlan_status\') === \'unknown\'                }"></span></div></div></td><td class="siteOverviewWan visibleAdjusted--mdUp"><div class="iconText appIconText" ng-class="{              \'success\': model.get(\'wan_status\') === \'ok\',              \'warning\': model.get(\'wan_status\') === \'warning\',              \'danger\': model.get(\'wan_status\') === \'error\',              \'static\': model.get(\'wan_status\') === \'unknown\'            }"><span class="iconText__icon icon ubnt-icon--shield"></span></div></td><td class="siteOverviewLan visibleAdjusted--mdUp"><div class="iconText appIconText" ng-class="{              \'success\': model.get(\'lan_status\') === \'ok\',              \'warning\': model.get(\'lan_status\') === \'warning\',              \'danger\': model.get(\'lan_status\') === \'error\',              \'static\': model.get(\'lan_status\') === \'unknown\'            }"><span class="iconText__icon icon ubnt-icon--network"></span></div></td><td class="siteOverviewActive visibleAdjusted--mdUp">{{::model.get(\'lan_active\')}}</td><td class="siteOverviewInactive visibleAdjusted--mdUp">{{::model.get(\'lan_inactive\')}}</td><td class="siteOverviewPending visibleAdjusted--lgUp">{{::model.get(\'lan_pending\')}}</td><td class="siteOverviewWlan visibleAdjusted--mdUp"><div class="iconText appIconText" ng-class="{              \'success\': model.get(\'wlan_status\') === \'ok\',              \'warning\': model.get(\'wlan_status\') === \'warning\',              \'danger\': model.get(\'wlan_status\') === \'error\',              \'static\': model.get(\'wlan_status\') === \'unknown\'            }"><span class="iconText__icon icon ubnt-icon--ap2"></span></div></td><td class="siteOverviewActive visibleAdjusted--mdUp">{{::model.get(\'wlan_active\')}}</td><td class="siteOverviewInactive visibleAdjusted--mdUp">{{::model.get(\'wlan_inactive\')}}</td><td class="siteOverviewPending visibleAdjusted--lgUp">{{::model.get(\'wlan_pending\')}}</td><td class="siteOverviewUsers appTableCell--withLargeIcon"><div class="iconText appIconText"><span class="iconText__icon icon ubnt-icon--user-wireless" ng-class="{static: !model.get(\'wlan_users\')}"></span><span class="iconText__text">{{::model.get(\'wlan_users\')}}</span></div></td><td class="siteOverviewUsers appTableCell--withLargeIcon noPaddingLeft"><div class="iconText appIconText"><span class="iconText__icon icon ubnt-icon--user-wired" ng-class="{static: !model.get(\'lan_users\')}"></span><span class="iconText__text">{{::model.get(\'lan_users\')}}</span></div></td><td class="siteOverviewGuests appTableCell--withLargeIcon"><div class="iconText appIconText"><span class="iconText__icon icon ubnt-icon--guest-wireless" ng-class="{static: !model.get(\'wlan_guests\')}"></span><span class="iconText__text">{{::model.get(\'wlan_guests\')}}</span></div></td><td class="siteOverviewGuests appTableCell--withLargeIcon noPaddingLeft"><div class="iconText appIconText"><span class="iconText__icon icon ubnt-icon--guest-wired" ng-class="{static: !model.get(\'lan_guests\')}"></span><span class="iconText__text">{{::model.get(\'lan_guests\')}}</span></div></td></tr></tbody></table><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!siteOverviewListCtrl.view.getModels().length"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="SITE_OVERVIEW_TABLE_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="SITE_OVERVIEW_TABLE_EMPTY_NO_DATA"></p></div></div></div></div></div></div></div>'}},{"pug-runtime":23}],1504:[function(t,e,i){"use strict";angular.module("base-unifi-overview",["base-unifi"]),t("./components/adminOverviewList/AdminOverviewListController.js"),t("./components/adminOverviewList/adminOverviewList.js"),t("./components/siteOverviewList/SiteOverviewListController.js"),t("./components/siteOverviewList/siteOverviewList.js"),t("./services/comparators/siteOverviewComparator.js"),t("./services/filters/AdminOverviewFilter.js"),t("./services/filters/SiteOverviewFilter.js")},{"./components/adminOverviewList/AdminOverviewListController.js":1498,"./components/adminOverviewList/adminOverviewList.js":1499,"./components/siteOverviewList/SiteOverviewListController.js":1501,"./components/siteOverviewList/siteOverviewList.js":1502,"./services/comparators/siteOverviewComparator.js":1505,"./services/filters/AdminOverviewFilter.js":1506,"./services/filters/SiteOverviewFilter.js":1507}],1505:[function(t,e,i){"use strict";angular.module("base-unifi-overview").service("siteOverviewComparator",["collectionViewComparator",function(t){return{users:function(e,i){var n=e.get("lan_users")+e.get("wlan_users"),o=i.get("lan_users")+i.get("wlan_users");return t(n,o)},guests:function(e,i){var n=e.get("lan_guests")+e.get("wlan_guests"),o=i.get("lan_guests")+i.get("wlan_guests");return t(n,o)}}}])},{}],1506:[function(t,e,i){"use strict";angular.module("base-unifi-overview").factory("AdminOverviewFilter",["BaseSearchableModelFilter",function(t){var e=function(){t.call(this),this.searchableAttributes=["name","email","ubic_name"]};return(e.prototype=Object.create(t.prototype)).constructor=e,e}])},{}],1507:[function(t,e,i){"use strict";angular.module("base-unifi-overview").factory("SiteOverviewFilter",["BaseSearchableModelFilter",function(t){var e=function(){t.call(this),this.searchableAttributes=["desc"]};return(e.prototype=Object.create(t.prototype)).constructor=e,e}])},{}],1508:[function(t,e,i){"use strict";angular.module("base-unifi-webrtc-controller").constant("TERMINAL_DEFAULTS",{WAIT_FOR_SDP_OFFER_TIMEOUT:9e4})},{}],1509:[function(t,e,i){"use strict";angular.module("base-unifi-webrtc-controller").constant("TERMINAL_PANEL_EVENTS",{TERMINAL_PANEL_CLOSE:"terminal-panel-close",TERMINAL_PANEL_CONNECTED:"terminal-panel-connected",TERMINAL_PANEL_CONNECTION_ERROR:"terminal-panel-connection-error"})},{}],1510:[function(t,e,i){"use strict";t("../shared-unifi-device/main"),t("../unifi-webrtc/main"),angular.module("base-unifi-webrtc-controller",["base-unifi","shared-unifi-device","unifi-webrtc"]),t("./constants/TERMINAL_DEFAULTS.js"),t("./constants/TERMINAL_PANEL_EVENTS.js"),t("./services/ControllerSignallingChannel.js"),t("./services/deviceSdpOfferWsMessageHandler.js"),t("./services/deviceWebRtcConnectorPoll.js"),t("./services/turnCredentialsResolver.js")},{"../shared-unifi-device/main":1534,"../unifi-webrtc/main":1616,"./constants/TERMINAL_DEFAULTS.js":1508,"./constants/TERMINAL_PANEL_EVENTS.js":1509,"./services/ControllerSignallingChannel.js":1511,"./services/deviceSdpOfferWsMessageHandler.js":1512,"./services/deviceWebRtcConnectorPoll.js":1513,"./services/turnCredentialsResolver.js":1514}],1511:[function(t,e,i){"use strict";angular.module("base-unifi-webrtc-controller").factory("ControllerSignallingChannel",["$q","$rootScope","$timeout","DeviceMgrModel","deviceSdpOfferWsMessageHandler","uuid","TERMINAL_DEFAULTS","TERMINAL_PANEL_EVENTS",function(t,e,i,n,o,r,a,s){var l=function(t){this.uuid=r.v4(),this.deviceId=t};return l.prototype.open=function(){return t.when()},l.prototype.close=function(){return t.when()},l.prototype.requestSdpOffer=function(t){return this.buildSshSession(t).then(function(){return this.waitForSdpOffer()}.bind(this))},l.prototype.buildSshSession=function(t){var e=this.extractTurnCredentialsForDevice(t.turnCredentials);return(new n).save({cmd:"build-ssh-session",mac:this.deviceId,uuid:this.uuid,stun:e.stunServer||t.stunUri,turn:e.turnServer||t.turnUri,username:e.username,password:e.password,ttl:"-1"})},l.prototype.extractTurnCredentialsForDevice=function(t){return t?{stunServer:t.urls.find(function(t){return-1!==t.indexOf("stun:")}).replace("stun:","").replace("?transport=udp",""),turnServer:t.urls.find(function(t){return-1!==t.indexOf("turn:")}).replace("turn:","").replace("?transport=udp",""),username:t.username,password:t.credential}:{}},l.prototype.waitForSdpOffer=function(){var n=t.defer(),r=i(function(){n.reject("UnableToConnectTimeout")},a.WAIT_FOR_SDP_OFFER_TIMEOUT),l=e.$on(s.TERMINAL_PANEL_CLOSE,function(t,e){this.deviceId===e.get("mac")&&(i.cancel(r),l(),n.reject("PanelClosed"))}.bind(this));return o.waitForSdpOffer(this.deviceId).then(function(t){i.cancel(r),l(),n.resolve({sdp:t})}),n.promise},l.prototype.sendSdpOffer=function(){throw new Error("Not implemented")},l.prototype.sendSdpAnswer=function(t){return(new n).save({cmd:"ssh-sdp-answer",mac:this.deviceId,uuid:this.uuid,sdpanswer:t.sdp})},l.prototype.closeSession=function(){return(new n).save({cmd:"close-ssh-session",mac:this.deviceId,uuid:this.uuid})},l}])},{}],1512:[function(t,e,i){"use strict";angular.module("base-unifi-webrtc-controller").service("deviceSdpOfferWsMessageHandler",["$q","wsAdapter",function(t,e){var i={};this.register=function(){e.on("device:sdp-offer",function(t){if(t.data&&t.meta){var e=t.meta.mac,n=t.data[0].ssh_sdp_offer;i[e]&&(i[e].resolve(n),delete i[e])}})},this.waitForSdpOffer=function(e){i[e]&&i[e].reject("new offer requested");var n=t.defer();return i[e]=n,n.promise}}])},{}],1513:[function(t,e,i){"use strict";var n=window.webrtc.commonWebRtc;angular.module("base-unifi-webrtc-controller").service("deviceWebRtcConnectorPoll",["$q","$rootScope","arrayBufferToStringConverter","turnCredentialsResolver","ControllerSignallingChannel","TERMINAL_COMMUNICATION_EVENTS",function(t,e,i,o,r,a){var s={};this.establishConnection=function(t,e,i){return s[t]?(s[t].count+=1,s[t].connectorPromise):o.resolve().then(function(n){return this.openConnection(t,n,e,i)}.bind(this))},this.openConnection=function(e,o,l,c){if(!s[e]){var u=new n.WebRtcConnector({signallingChannel:new r(e),eventBusService:l,ondatachannel:c&&c.ondatachannel,startAsCaller:!1});u.dataChannelDeferred=t.defer();var d={messages:[],deferred:u.dataChannelDeferred,onMessageCallback:function(t){d.messages&&d.messages.push(t),l.emit(a.TERMINAL_CHANNEL_MESSAGE,t)},onCloseCallback:function(){d.messages=null,l.emit(a.TERMINAL_CHANNEL_CLOSED)},parser:function(t,e){return i.convert(e)}};s[e]={connectorPromise:u.establishConnection({deviceId:e,turnCredentials:o,channelNames:[],dataChannelOptions:d}).then(function(){return u}),count:0}}return s[e].count+=1,s[e].connectorPromise},this.releaseConnector=function(t){var e=s[t];e&&(e.count-=1,e.count<=0&&e.connectorPromise.then(function(t){t.close()}).finally(function(){delete s[t]}))}}])},{}],1514:[function(t,e,i){"use strict";angular.module("base-unifi-webrtc-controller").service("turnCredentialsResolver",["$http","$q","$translate","apiResults","SdnMgrModel","status","system","TurnCredentialsApiEndpoint","UnifiCloudHost",function(t,e,i,n,o,r,a,s,l){this.resolve=function(){return a.isUnifiGo()?t.get("https://"+l+s+r.repository.model.getNested("meta.uuid")).then(function(t){return t.data}):(new o).save({cmd:"get-turn-credentials"}).then(function(t){return t.data.data[0]}).catch(function(t){return e.reject(n.appendErrorMsg(i.instant("WEBRTC_CONTROLLER_GET_TURN_CREDENTIALS_ERROR"),t))})}}])},{}],1515:[function(t,e,i){"use strict";e.exports=function(t,e){var i=t.get("$q"),n=t.get("account"),o=t.get("$state"),r=t.get("ENV");if(n.isSuperAdmin()||n.isAdmin()&&!e)return i.when();o.go(r.FATAL_STATE,{error:403})}},{}],1516:[function(t,e,i){"use strict";e.exports=function(t){var e=t.get("$window"),i=t.get("$q"),n=t.get("account"),o=t.get("site"),r=t.get("editAccount"),a=t.get("appUrl"),s=t.get("ENV");return n.repository.fetch().then(function(){var t=o.getActiveSite()||n.repository.model.get("last_site_name");return"hotspot"===n.repository.model.get("site_role")&&"app-unifi-hotspot"!==s.APP?i.reject().finally(function(){e.location.href=a.buildUrl(["hotspot","site",t])}):(t&&!o.getActiveSite()&&"app-unifi-overview"!==s.APP&&o.setActiveSite(t),n.isPasswordChangeRequired()&&r.editAccount(),i.when())})}},{}],1517:[function(t,e,i){"use strict";e.exports=function(t,e,i,n,o,r){return o.resolve("account").then(function(){return t.ssoLogin({sso_token:i.sso_token,ubic_uuid:i.ubic_uuid})}).then(function(){return n.setActiveSite(i.site_id,!0)}).then(function(){return t.repository.fetch()}).then(function(){e.go(r.HOME_STATE)})}},{}],1518:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="unifiForgotPassword"><form class="appForm appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="login2FACtrl.form" ng-class="{\'is-form-validation-visible\': login2FACtrl.showValidation}" ng-submit="login2FACtrl.form.$valid &amp;&amp; login2FACtrl.login()"><div class="unifiSettingsSection verticalRhythm" ng-if="login2FACtrl.error"><div class="appInfoBox appInfoBox--cozy appInfoBox--dark appInfoBox--danger"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="ACCOUNT_NOTICE_LOGIN_ERROR_TITLE"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="{{login2FACtrl.error}}"></p></div></div></div></div><div class="appFormGroup"><label class="appLabel--primary unweighted" translate="ACCOUNT_2FA_LABEL_TOKEN"></label><input class="input--full"'+n("autofocus",!0,!0,!0)+' type="text" name="token" ng-model="login2FACtrl.token"'+n("required",!0,!0,!0)+' placeholder="{{\'ACCOUNT_2FA_PLACEHOLDER_TOKEN\' | translate}}"></div><div class="verticalRhythmTop--cozy"><button class="appMainButton appMainButton--primary appMainButton--full" id="loginButton" ng-click="login2FACtrl.showValidation = true" busy-toggle="login2FACtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner\', \'appSpinner--light\', \'appSpinner--centered\']">{{\'ACCOUNT_LOGIN_ACTIONS_SIGN_IN\' | translate}}</button></div><div class="verticalRhythmTop--cozy"><button class="appMainButton appMainButton--transparentDark appMainButton--full" ui-sref="{{login2FACtrl.ENV.APP_STATE_PREFIX}}account.login">{{\'ACCOUNT_FORGOT_PASSWORD_ACTIONS_BACK\' | translate}}</button></div></form></div>'};var o=/["&<>]/},{"pug-runtime":23}],1519:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiAccountContainer" id="contentContainer"><div class="stack spreadApart fullHeight"><div class="flexible shelfCenter"><div class="unifiAccount"><div class="unifiAccount__unifiLogo icon ubnt-icon--unifi"></div><div class="unifiAccount__appNameAndVersion"><span class="appDisplaySpaceAfter" unifi-if-app="\'app-unifi-hotspot\'" translate="ACCOUNT_TITLE_HOTSPOT_MANAGER"></span><span>{{accountCtrl.serverVersion}}</span></div><div class="unifiAccount__content"><ui-view></ui-view></div><div class="unifiAccount__oneAccount" ng-if="accountCtrl.showOneAccount"><div class="unifiAccount__ubntLogo icon ubnt-icon--ubnt-logo-u"></div><p>{{\'ACCOUNT_LABEL_ONE_ACCOUNT_FOR_ALL\' | translate}}</p><p><span>{{\'ACCOUNT_LABEL_ONE_ACCOUNT_NO_ACCOUNT\' | translate}}&nbsp;</span><a ng-href="https://{{::accountCtrl.accountHostname}}/register" target="_blank">{{\'ACCOUNT_LABEL_ONE_ACCOUNT_REGISTER_HERE\' | translate}}</a></p></div></div></div><div class="shelf spreadApart verticalRhythmTop--comfy inflexible" ng-if="(\'desktop\' | bowser) &amp;&amp; (\'enableMobileAppBadges\' | featureFlagEnable)"><div class="inflexible verticalRhythm"><a class="appLink appLink--mobileAppBadge" href="https://itunes.apple.com/app/unifi/id1057750338"><img src="images/badges/app-store-badge.png"></a></div><div class="inflexible verticalRhythm"><a class="appLink appLink--mobileAppBadge" href="https://play.google.com/store/apps/details?id=com.ubnt.easyunifi"><img src="images/badges/google-play-badge.png"></a></div></div></div></div>'}},{"pug-runtime":23}],1520:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="unifiForgotPassword"><form class="appForm appForm--dark"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="forgotPasswordCtrl.form" ng-class="{\'is-form-validation-visible\': forgotPasswordCtrl.showValidation}" ng-submit="forgotPasswordCtrl.form.$valid &amp;&amp; forgotPasswordCtrl.resetPassword()"><div class="unifiSettingsSection verticalRhythm" ng-if="forgotPasswordCtrl.error"><div class="appInfoBox appInfoBox--cozy appInfoBox--dark appInfoBox--danger"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="ACCOUNT_NOTICE_FORGOT_PASSWORD_ERROR_TITLE"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="{{forgotPasswordCtrl.error}}"></p></div></div></div></div><div class="appFormGroup"><label class="appLabel--primary unweighted" translate="ACCOUNT_FORGOT_PASSWORD_LABEL_EMAIL"></label><input class="input--full" type="text" name="email" ng-model="forgotPasswordCtrl.email"'+n("required",!0,!0,!0)+'></div><div class="verticalRhythmTop--cozy"><button class="appMainButton appMainButton--primary" id="resetPasswordButton" ng-disabled="forgotPasswordCtrl.form.email.$invalid" ng-click="forgotPasswordCtrl.showValidation = true" busy-toggle="forgotPasswordCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner\', \'appSpinner--light\', \'appSpinner--centered\']">{{\'ACCOUNT_FORGOT_PASSWORD_ACTIONS_RESET_PASSWORD\' | translate}}</button><button class="appMainButton appMainButton--transparentDark" ui-sref="{{forgotPasswordCtrl.ENV.APP_STATE_PREFIX}}account.login">{{\'ACCOUNT_FORGOT_PASSWORD_ACTIONS_BACK\' | translate}}</button></div></form></div>'};var o=/["&<>]/},{"pug-runtime":23}],1521:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="unifiLogin ubnt-mod-dark"><form class="appForm appForm--dark"'+n("novalidate",!0,!0,!0)+' name="loginCtrl.form" ng-class="{\'is-form-validation-visible\': loginCtrl.showValidation}" ng-submit="loginCtrl.form.$valid &amp;&amp; loginCtrl.login()"><div class="unifiSettingsSection verticalRhythm" ng-if="loginCtrl.error"><div class="appInfoBox appInfoBox--cozy appInfoBox--dark appInfoBox--danger"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="ACCOUNT_NOTICE_LOGIN_ERROR_TITLE"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="{{loginCtrl.error}}"></p></div></div></div></div><div ng-if="loginCtrl.oauthAppId"><div class="verticalRhythmTop--cozy"><button class="appMainButton appMainButton--primary appMainButton--full" id="oauthLoginButton" type="button" ng-click="loginCtrl.login(\'oauth\')" busy-toggle="loginCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner\', \'appSpinner--light\', \'appSpinner--centered\']" translate="ACCOUNT_LOGIN_ACTIONS_SSO_LOGIN"></button></div><div class="verticalRhythm--cozy verticalRhythmTop--cozy alignCenter" translate="COMMON_OR"></div></div><div class="appFormGroup"><label class="appLabel--primary unweighted" translate="ACCOUNT_LOGIN_LABEL_USERNAME"></label><input class="input--full" type="text" name="username" ng-model="loginCtrl.username"'+n("required",!0,!0,!0)+' autocapitalize="off" autocorrect="off"'+n("autofocus",!0,!0,!0)+'></div><div class="appFormGroup"><label class="appLabel--primary unweighted" translate="ACCOUNT_LOGIN_LABEL_PASSWORD"></label><input class="input--full" type="password" name="password" ng-model="loginCtrl.password"'+n("required",!0,!0,!0)+'></div><div class="verticalRhythmTop--cozy"><div class="appFormGroup alignCenter"><div class="appInputGroup appInputGroup--cozy"><input id="loginRemember" type="checkbox" name="remember" ng-model="loginCtrl.remember"><label class="unweighted" for="loginRemember" translate="ACCOUNT_LOGIN_LABEL_REMEMBER_ME"></label><unifi-tooltip><content translate="ACCOUNT_LOGIN_TOOLTIP_REMEMBER_ME"></content></unifi-tooltip></div></div></div><div class="verticalRhythmTop--cozy"><button class="appMainButton appMainButton--primary appMainButton--full" id="loginButton" ng-click="loginCtrl.showValidation = true" busy-toggle="loginCtrl.isSubmitting" busy-toggle-spinner-classes="[\'appSpinner\', \'appSpinner--light\', \'appSpinner--centered\']" translate="ACCOUNT_LOGIN_ACTIONS_SIGN_IN"></button></div><div class="verticalRhythmTop--cozy"><a class="appMainButton appMainButton--transparentDark appMainButton--full" ui-sref="{{loginCtrl.ENV.APP_STATE_PREFIX}}account.forgotpassword" unifi-if-app="[\'app-unifi-manage\', \'app-unifi-overview\']" translate="ACCOUNT_LOGIN_LINK_FORGOT_PASSWORD"></a></div></form></div>'};var o=/["&<>]/},{"pug-runtime":23}],1522:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e=e+'<div class="appView appView--panelLayout" id="contentContainer"><div class="appViewCenterPanel appScrollable"><div class="appContainer appContainer--responsive appContainer--centered verticalRhythmTop"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox appInfoBox--responsive" ng-if="!oAuthLoginCtrl.error"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header">{{ \'ACCOUNT_NOTICE_SSO_LOGIN\' | translate }}</div></div></div><div class="appInfoBox appInfoBox--danger appInfoBox--responsive verticalRhythmTop" ng-if="oAuthLoginCtrl.error"><div class="appInfoBox__icon icon ubnt-icon--alert"></div><div class="appInfoBox__content"><div class="appInfoBox__header">{{ oAuthLoginCtrl.error | translate }}</div><div class="appInfoBox__body"><p class="noMarginBottom"'+(i="unifi-translate-link",o=!0,r=!0,a=!0,!1!==o&&null!=o&&(o||"class"!==i&&"style"!==i)?!0===o?" "+(a?i:i+'="'+i+'"'):("function"==typeof o.toJSON&&(o=o.toJSON()),"string"==typeof o||(o=JSON.stringify(o),r||-1===o.indexOf('"'))?(r&&(o=function(t){var e=""+t,i=n.exec(e);if(!i)return t;var o,r,a,s="";for(o=i.index,r=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==o&&(s+=e.substring(r,o)),r=o+1,s+=a}return r!==o?s+e.substring(r,o):s}(o))," "+i+'="'+o+'"'):" "+i+"='"+o.replace(/'/g,"&#39;")+"'"):"")+' unifi-translate-link-translate="FATAL_ERROR_LINK_TO_LOGIN" unifi-translate-link-state="oAuthLoginCtrl.LOGIN_STATE"></p></div></div></div></div></div></div></div></div>';var i,o,r,a};var n=/["&<>]/},{"pug-runtime":23}],1523:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="appContainer appContainer--responsive appContainer--centered verticalRhythmTop"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox appInfoBox--responsive"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header">{{ \'ACCOUNT_NOTICE_SSO_LOGIN\' | translate }}</div></div></div></div></div></div>'}},{"pug-runtime":23}],1524:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t){this.deviceStateUtils=t,n.call(this),this.reset()}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){this.reset(),this.model&&(this.attrs={status:this.deviceStateUtils.getDeviceStatus(this.model),type:this.model.get("type"),model:this.model.get("model")})},o.prototype.reset=function(){this.attrs={}},o.prototype.getClassName=function(){return this.deviceStateUtils.getIconClassName(this.model)},o.$inject=["deviceStateUtils"],angular.module("shared-unifi-device").controller("DeviceIconController",o)},{}],1525:[function(t,e,i){"use strict";angular.module("shared-unifi-device").directive("unifiDeviceIcon",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiDeviceIcon"},controller:"DeviceIconController",controllerAs:"deviceIconCtrl",replace:!0,restrict:"A",template:t("./deviceIcon.pug")(),link:function(t,i,n,o){t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!1)}}}])},{"./deviceIcon.pug":1526}],1526:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<span class="unifiDeviceIcon {{deviceIconCtrl.getClassName()}}"><div class="unifiDeviceBadgeIcon unifiDeviceBadgeIcon--circle" ng-if="deviceIconCtrl.model.isElite()"><div class="icon ubnt-icon--unifi-elite2 icon--gold eliteIcon"></div></div></span>'}},{"pug-runtime":23}],1527:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t){this.deviceStateUtils=t,this.statusType="status-ball",this.flags=["isSuccess","isWarning","isDanger","isStatic","isBusy","showAlertIcon","statusType"],n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.updateLabel=function(t){this.label=t},o.prototype.onModelChange=function(){if(this.reset(),this.model){switch(this.deviceStateUtils.getDeviceStatus(this.model)){case"success":this.isSuccess=!0;break;case"warning":this.isWarning=!0;break;case"danger":this.isDanger=!0,this.showAlertIcon=!0;break;case"static":this.isStatic=!0}this.isBusy=this.deviceStateUtils.isDeviceBusy(this.model)}this.statusType=this.withIcons&&this.showAlertIcon?"status-icon":"status-ball"},o.prototype.reset=function(){angular.forEach(this.flags,function(t){this[t]=!1},this)},o.$inject=["deviceStateUtils"],angular.module("shared-unifi-device").controller("DeviceStatusController",o)},{}],1528:[function(t,e,i){"use strict";angular.module("shared-unifi-device").directive("unifiDeviceStatus",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiDeviceStatus",label:"&?unifiDeviceStatusLabel"},bindToController:{withIcons:"=?unifiDeviceStatusWithIcons",isCozy:"=?unifiDeviceStatusIsCozy",isCondensed:"=?unifiDeviceStatusIsCondensed",isTruncated:"=?unifiDeviceStatusIsTruncated"},controller:"DeviceStatusController",controllerAs:"deviceStatusCtrl",replace:!0,restrict:"A",template:t("./deviceStatus.pug")(),link:function(t,i,n,o){t.$watch("label()",function(t){o.updateLabel(t)}),t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./deviceStatus.pug":1529}],1529:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+="<div class=\"unifiDeviceStatus\" ng-class=\"{    'unifiDeviceStatus--cozy': deviceStatusCtrl.isCozy,    'unifiDeviceStatus--condensed': deviceStatusCtrl.isCondensed  }\"><div class=\"unifiDeviceStatus__indicator\" ng-switch=\"deviceStatusCtrl.statusType\"><div class=\"unifiDeviceStatus__ball statusBall appStatusBall\" ng-switch-when=\"status-ball\" ng-class=\"{         'appStatusBall--positive': deviceStatusCtrl.isSuccess,        'appStatusBall--warning': deviceStatusCtrl.isWarning,        'appStatusBall--danger': deviceStatusCtrl.isDanger,        'appStatusBall--static': deviceStatusCtrl.isStatic,        'appStatusBall--cozy': deviceStatusCtrl.isCozy,        'appStatusBall--condensed': deviceStatusCtrl.isCondensed,        'is-status-ball-busy': deviceStatusCtrl.isBusy      }\"></div><div class=\"unifiDeviceStatus__icon icon appStatusIcon\" ng-switch-when=\"status-icon\" ng-class=\"{        'ubnt-icon--alert-fill': deviceStatusCtrl.showAlertIcon,        'appStatusIcon--positive': deviceStatusCtrl.isSuccess,        'appStatusIcon--warning': deviceStatusCtrl.isWarning,        'appStatusIcon--danger': deviceStatusCtrl.isDanger,        'appStatusIcon--static': deviceStatusCtrl.isStatic,        'is-status-icon-busy': deviceStatusCtrl.isBusy      }\"></div></div><div class=\"appStatusBallLabel\" ng-if=\"deviceStatusCtrl.label\" ng-class=\"{'appStatusBallLabel--truncated': deviceStatusCtrl.isTruncated}\">{{deviceStatusCtrl.label}}</div></div>"}},{"pug-runtime":23}],1530:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseModelController");function o(t){this.deviceStateUtils=t,n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onModelChange=function(){this.reset(),this.model&&(this.status=this.deviceStateUtils.getDeviceStatus(this.model),this.stateString=this.deviceStateUtils.getDeviceStateString(this.model),this.hasWarnings=this.deviceStateUtils.hasWarnings(this.model),this.warningsCount=this.deviceStateUtils.getWarningsCount(this.model))},o.prototype.reset=function(){this.status=null,this.stateString=null},o.$inject=["deviceStateUtils"],angular.module("shared-unifi-device").controller("DeviceStatusBadgeController",o)},{}],1531:[function(t,e,i){"use strict";angular.module("shared-unifi-device").directive("unifiDeviceStatusBadge",["updateModelDirectiveMixin",function(e){return{scope:{model:"=unifiDeviceStatusBadge",onWarningClick:"&?unifiDeviceStatusBadgeOnWarningClick"},controller:"DeviceStatusBadgeController",controllerAs:"deviceStatusBadgeCtrl",replace:!0,restrict:"A",template:t("./deviceStatusBadge.pug")(),link:function(t,i,n,o){t.$on("$destroy",function(){o.removeEventHandlers()}),e.init(t,i,n,o,!0)}}}])},{"./deviceStatusBadge.pug":1532}],1532:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="deviceStatusBadge flexRow flexRow--alignCenter"><div class="inlineBlock appBadge appBadge--noMove" ng-class="{      \'appBadge--success\': deviceStatusBadgeCtrl.status === \'success\',      \'appBadge--warning\': deviceStatusBadgeCtrl.status === \'warning\',      \'appBadge--danger\': deviceStatusBadgeCtrl.status === \'danger\',      \'appBadge--static\': deviceStatusBadgeCtrl.status === \'static\'    }">{{deviceStatusBadgeCtrl.stateString}}</div><div class="appAlertIcon appAlertIcon--warning appAlertIcon--scaled appAlertIcon--baseline noVerticalPadding" ng-if="deviceStatusBadgeCtrl.hasWarnings" ng-click="onWarningClick()"><div class="icon ubnt-icon--alert"></div></div><div class="inlineBlock"><div class="count count--round appCount appCount--cozy" ng-if="deviceStatusBadgeCtrl.warningsCount &gt; 1"><div class="count__value">{{deviceStatusBadgeCtrl.warningsCount}}</div></div></div></div>'}},{"pug-runtime":23}],1533:[function(t,e,i){"use strict";angular.module("shared-unifi-device").constant("DEVICE_MODELS",t("constant-unifi/src/json/deviceModels.json"))},{"constant-unifi/src/json/deviceModels.json":4}],1534:[function(t,e,i){"use strict";angular.module("shared-unifi-device",["shared-unifi"]),t("./components/deviceIcon/DeviceIconController.js"),t("./components/deviceIcon/deviceIcon.js"),t("./components/deviceStatus/DeviceStatusController.js"),t("./components/deviceStatus/deviceStatus.js"),t("./components/deviceStatusBadge/DeviceStatusBadgeController.js"),t("./components/deviceStatusBadge/deviceStatusBadge.js"),t("./constants/DEVICE_MODELS.js"),t("./services/deviceStateUtils.js"),t("./services/ipUtils.js"),t("./services/models/DeviceMgrModel.js")},{"./components/deviceIcon/DeviceIconController.js":1524,"./components/deviceIcon/deviceIcon.js":1525,"./components/deviceStatus/DeviceStatusController.js":1527,"./components/deviceStatus/deviceStatus.js":1528,"./components/deviceStatusBadge/DeviceStatusBadgeController.js":1530,"./components/deviceStatusBadge/deviceStatusBadge.js":1531,"./constants/DEVICE_MODELS.js":1533,"./services/deviceStateUtils.js":1535,"./services/ipUtils.js":1536,"./services/models/DeviceMgrModel.js":1537}],1535:[function(t,e,i){"use strict";angular.module("shared-unifi-device").service("deviceStateUtils",[function(){this.getDeviceStatus=function(){},this.getDeviceStateString=function(){},this.hasWarnings=function(){},this.getIconClassName=function(){},this.isDeviceBusy=function(){}}])},{}],1536:[function(t,e,i){"use strict";angular.module("shared-unifi-device").service("ipUtils",["REGEX_PATTERNS",function(t){this.ip2long=function(t){if(t&&t.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)){var e=t.split(".");return 16777216*e[0]+65536*e[1]+256*e[2]+1*e[3]}},this.long2ip=function(t){return[t>>>24,t>>>16&255,t>>>8&255,255&t].join(".")},this.bits2netmask=function(t){for(var e=4294967295,i=1,n=t;n<32;n++)e^=i,i<<=1;return e},this.netmask2bits=function(t){return t?this.ip2long(t).toString(2).match(/1/g).length:""},this.getSubnet=function(t,e){if(!t||!e)return"";var i=this.ip2long(t)&this.ip2long(e);return this.long2ip(i)+"/"+this.netmask2bits(e)},this.recommendSubnet=function(t,e,i){var n=this.subnetToNetwork(t,i);return!1===e?e=0:(isNaN(e)||e<=0)&&(e=n.bits<25?5*(25-n.bits):1),{ip:n.ip,isIpValid:this.subnetHasIp(t,n.ip),isMaskValid:n.bits<31&&n.bits>0,subnet:this.long2ip(n.ipLongMin)+"/"+n.bits,dhcpStartIp:this.long2ip(n.ipLongMin+e),dhcpStopIp:this.long2ip(n.ipLongMax),isLimited:n.isLimited}},this.subnetToNetwork=function(t,e){var i=t.split("/")[0],n=parseInt(t.split("/")[1],10),o=this.bits2netmask(n),r=(this.ip2long(i)&o)>>>0,a=(this.ip2long(i)|~o)>>>0,s=(a-=1)-(r+=1)+1,l=0;return e&&(s-=l=Math.max(0,s-e),a-=l),{ip:i,ipLong:this.ip2long(i)>>>0,bits:n,netmask:o,ipLongMin:r,ipLongMax:a,numIps:s,isLimited:l>0}},this.subnetHasIp=function(t,e){var i=this.ip2long(e),n=this.subnetToNetwork(t);return i>=n.ipLongMin&&i<=n.ipLongMax},this.isNetworkIp=function(t,e){return!(this.ip2long(t)&~this.ip2long(e))},this.isBroadcastIp=function(t,e){return!~(this.ip2long(t)|this.ip2long(e))},this.isUsableIp=function(t,e){var i=this.isNetworkIp(t,e),n=this.isBroadcastIp(t,e);return!i&&!n},this.isMask31=function(t){return"255.255.255.254"===t},this.isPrivateAddress=function(t){var e=this;return!!["192.168.0.0/16","172.16.0.0/12","10.0.0.0/8"].find(function(i){return e.subnetHasIp(i,t)})},this.isIPv4Address=function(e){return t.IPV4_ADDRESS.test(e)}}])},{}],1537:[function(t,e,i){"use strict";angular.module("shared-unifi-device").factory("DeviceMgrModel",["CORSModel","siteUrlMixin","webrtcMixin","webSocketMixin",function(t,e,i,n){return t.extend(e).extend(i).extend(n).extend({_isActiveSiteOptional:!0,siteUrl:"cmd/devmgr"})}])},{}],1538:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").run(["$rootScope","discoveryToolUtils","DISCOVERY_TOOL_EVENTS","VISIBILITY_CHANGE",function(t,e,i,n){t.$on(n.EVENT,e.handleVisibilityChangeEvent.bind(e)),t.$on(i.DISCONNECTED,e.handleDisconnected.bind(e))}])},{}],1539:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").config(["frameProvider",function(e){e.when("discoveryToolChromeRequired",{controller:"DiscoveryToolChromeRequiredController",controllerAs:"discoveryToolChromeRequiredCtrl",layout:"discoveryToolChromeRequiredLayout",template:t("../frames/discoveryToolChromeRequired/discoveryToolChromeRequired.pug")()}).when("discoveryToolInstall",{controller:"DiscoveryToolInstallController",controllerAs:"discoveryToolInstallCtrl",layout:"discoveryToolInstallLayout",template:t("../frames/discoveryToolInstall/discoveryToolInstall.pug")()}).when("discoveryToolPortAlreadyInUse",{controller:"DiscoveryToolPortAlreadyInUseController",controllerAs:"discoveryToolPortAlreadyInUseCtrl",layout:"discoveryToolPortAlreadyInUseLayout",template:t("../frames/discoveryToolPortAlreadyInUse/discoveryToolPortAlreadyInUse.pug")()})}])},{"../frames/discoveryToolChromeRequired/discoveryToolChromeRequired.pug":1547,"../frames/discoveryToolInstall/discoveryToolInstall.pug":1549,"../frames/discoveryToolPortAlreadyInUse/discoveryToolPortAlreadyInUse.pug":1551}],1540:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").constant("CHROME_EXTENSION_URL","https://chrome.google.com/webstore/detail/")},{}],1541:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").constant("DISCOVERY_TOOL",{CHECK_CREDENTIALS_TIMEOUT:1e4,FIND_CLOUD_KEY_TIMEOUT:15e3,FIND_DEVICES_TIMEOUT:15e3,INITIALIZATION_TIMEOUT:200})},{}],1542:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").constant("DISCOVERY_TOOL_ERRORS",{252:"DISCOVERY_TOOL_ERROR_UCK_ALREADY_CONFIGURED",255:"DISCOVERY_TOOL_ERROR_WRONG_SSH_CREDENTIALS"})},{}],1543:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").constant("DISCOVERY_TOOL_ERROR_CODES",{UCK_ALREADY_CONFIGURED:252,WRONG_SSH_CREDENTIALS:255})},{}],1544:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").constant("DISCOVERY_TOOL_EVENTS",{ACTION_ADOPT_CLOUD_KEY:"discovery-tool-action-adopt-cloud-key",ACTION_CHECK_DEFAULT_CREDENTIALS:"discovery-tool-action-check-default-credentials",ACTION_CUSTOM_SSH_COMMAND:"discovery-tool-action-custom-ssh-command",ACTION_REBOOT:"discovery-tool-action-reboot",ACTION_RESTORE_TO_FACTORY_DEFAULTS:"discovery-tool-action-restore-to-factory-defaults",ACTION_SCAN_FOR_CLOUD_KEY:"discovery-tool-action-scan-for-cloud-key",ACTION_SCAN_FOR_DEVICES:"discovery-tool-action-scan-for-devices",ACTION_SCAN_FOR_LOCATE_FOR_30SECONDS:"discovery-tool-action-locate-for-30-seconds",ACTION_SET_INFORM:"discovery-tool-action-set-inform",ACTION_UPGRADE:"discovery-tool-action-upgrade",CLOUD_KEY_DISCOVERED:"discovery-tool-cloud-key-discovered",CONNECTED:"discovery-tool-connected",DEVICE_DISCOVERED:"discovery-tool-device-discovered",DISCONNECTED:"discovery-tool-disconnected"})},{}],1545:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").constant("MANAGE_DEVICE_DEFAULTS",Object.freeze({username:"ubnt",password:"ubnt",port:22}))},{}],1546:[function(t,e,i){"use strict";function n(t,e,i){this.bypassFlag=t,this.discoveryTool=e,this.frame=i}n.$inject=["bypassFlag","discoveryTool","frame"],n.prototype.skip=function(){this.frame.getLayout("discoveryToolChromeRequiredLayout").reject()},angular.module("shared-unifi-discovery").controller("DiscoveryToolChromeRequiredController",n)},{}],1547:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout"><div class="appControlModal appControlModal--small"><div class="appControlModal__close" ng-click="discoveryToolChromeRequiredCtrl.skip()"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header"></div><div class="appControlModal__content"><div class="appRow verticalRhythm--cozy"><div class="col--lg12 alignCenter"><img src="./images/install-discovery.png"></div></div><div class="appRow verticalRhythm--cozy"><div class="col--lg12 alignCenter"><p class="noMarginBottom" ng-bind-html="\'DISCOVERY_TOOL_INSTALL_CHROME_REQUIRED\' | translate:{url: discoveryToolChromeRequiredCtrl.discoveryTool.getChromeRequiredUrl()}"></p></div></div></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--7"><div ng-if="discoveryToolChromeRequiredCtrl.bypassFlag" unifi-bypass-confirm="discoveryToolChromeRequiredCtrl.bypassFlag" unifi-bypass-confirm-is-dark="true"></div></div><div class="flexCol--12 alignRight"><button class="appMainButton appMainButton--primary appMainButton--cozy" ng-click="discoveryToolChromeRequiredCtrl.skip()">{{ \'COMMON_ACTIONS_SKIP\' | translate }}</button></div></div></div></div></div>'}},{"pug-runtime":23}],1548:[function(t,e,i){"use strict";function n(t,e,i,n,o){this.bypassFlag=e,this.$translate=t,this.discoveryTool=i,this.heyToasts=n,this.frame=o}n.$inject=["$translate","bypassFlag","discoveryTool","heyToasts","frame"],n.prototype.install=function(){this.isInstalling=!0,this.discoveryTool.install().then(function(){this.frame.getLayout("discoveryToolInstallLayout").resolve()}.bind(this)).catch(function(){this.heyToasts.pushError(this.$translate.instant("DISCOVERY_TOOL_INSTALL_FAILED"))}.bind(this)).finally(function(){this.isInstalling=!1}.bind(this))},n.prototype.skip=function(){this.frame.getLayout("discoveryToolInstallLayout").reject()},angular.module("shared-unifi-discovery").controller("DiscoveryToolInstallController",n)},{}],1549:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout"><div class="appControlModal appControlModal--small"><div class="appControlModal__close" ng-click="discoveryToolInstallCtrl.skip()"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header"></div><div class="appControlModal__content"><div class="appRow verticalRhythm--cozy"><div class="col--lg12 alignCenter"><img src="./images/install-discovery.png"></div></div><div class="appRow verticalRhythm--cozy"><div class="col--lg12 alignCenter"><pp class="noMarginBottom" ng-bind-html="\'DISCOVERY_TOOL_INSTALL_LINK\' | translate:{url: discoveryToolInstallCtrl.discoveryTool.getInstallUrl()}"></pp></div></div></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--7"><div ng-if="discoveryToolInstallCtrl.bypassFlag" unifi-bypass-confirm="discoveryToolInstallCtrl.bypassFlag" unifi-bypass-confirm-is-dark="true"></div></div><div class="flexCol--5 alignRight"><button class="appMainButton appMainButton--transparentDark appMainButton--cozy" type="button" ng-click="discoveryToolInstallCtrl.skip()">{{ \'COMMON_ACTIONS_SKIP\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--cozy" analytics-on="click" analytics-event="install_discovery_tool" analytics-category="find_cloud_key" analytics-properties="{ label: \'install Ubiquiti Device Discovery Tool\' }" busy-toggle="discoveryToolInstallCtrl.isInstalling" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered centered\']" ng-click="discoveryToolInstallCtrl.install()" ng-disabled="discoveryToolInstallCtrl.isInstalling">{{ \'COMMON_ACTIONS_INSTALL\' | translate }}</button></div></div></div></div></div>'}},{"pug-runtime":23}],1550:[function(t,e,i){"use strict";function n(t,e,i){this.discoveryTool=t,this.frame=e,this.retryAction=i}n.$inject=["discoveryTool","frame","retryAction"],n.prototype.retry=function(){return this.isRetrying=!0,this.retryAction().then(function(){return this.frame.getLayout("discoveryToolPortAlreadyInUseLayout").resolve()}.bind(this)).finally(function(){this.isRetrying=!1}.bind(this))},n.prototype.cancel=function(){this.frame.getLayout("discoveryToolPortAlreadyInUseLayout").reject()},angular.module("shared-unifi-discovery").controller("DiscoveryToolPortAlreadyInUseController",n)},{}],1551:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="blackout"><div class="appControlModal appControlModal--tiny"><div class="appControlModal__close" ng-click="discoveryToolPortAlreadyInUseCtrl.cancel()"><div class="icon ubnt-icon--x"></div></div><div class="appControlModal__header"><div class="iconText appIconText"><span class="iconText__icon icon ubnt-icon--alert danger"></span><span class="iconText__text" translate="DISCOVERY_TOOL_PORT_ALREADY_IN_USE_TITLE"></span></div></div><div class="appControlModal__content"><p class="noMarginBottom" translate="DISCOVERY_TOOL_PORT_ALREADY_IN_USE"></p></div><div class="appControlModal__content"><div class="flexRow flexRow--alignCenter"><div class="flexCol--12 alignRight"><button class="appMainButton appMainButton--transparentDark appMainButton--cozy" type="button" ng-click="discoveryToolPortAlreadyInUseCtrl.cancel()">{{ \'COMMON_ACTIONS_CANCEL\' | translate}}</button><button class="appMainButton appMainButton--primary appMainButton--cozy" busy-toggle="discoveryToolPortAlreadyInUseCtrl.isRetrying" busy-toggle-spinner-classes="[\'appSpinner appSpinner--light appSpinner--centered centered\']" ng-click="discoveryToolPortAlreadyInUseCtrl.retry()">{{ \'COMMON_ACTIONS_RETRY\' | translate}}</button></div></div></div></div></div>'}},{"pug-runtime":23}],1552:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery",["frame","hey","shared-unifi"]),t("./config/discoveryTool.js"),t("./config/frames.js"),t("./constants/CHROME_EXTENSION_URL.js"),t("./constants/DISCOVERY_TOOL.js"),t("./constants/DISCOVERY_TOOL_ERRORS.js"),t("./constants/DISCOVERY_TOOL_ERROR_CODES.js"),t("./constants/DISCOVERY_TOOL_EVENTS.js"),t("./constants/MANAGE_DEVICE_DEFAULTS.js"),t("./frames/discoveryToolChromeRequired/DiscoveryToolChromeRequiredController.js"),t("./frames/discoveryToolInstall/DiscoveryToolInstallController.js"),t("./frames/discoveryToolPortAlreadyInUse/DiscoveryToolPortAlreadyInUseController.js"),t("./services/chromeApi.js"),t("./services/discoveryTool.js"),t("./services/discoveryToolUtils.js"),t("./services/factories/DiscoveryToolBindingPortQueue.js"),t("./services/factories/DiscoveryToolCheckDefaultCredentialsQueue.js"),t("./services/factories/DiscoveryToolCustomSshCommandQueue.js"),t("./services/factories/DiscoveryToolSshCommandQueue.js"),t("./services/factories/DiscoveryToolUnifiCommandQueue.js"),t("./services/factories/PortMessageQueue.js"),t("./services/factories/TaskScheduler.js")},{"./config/discoveryTool.js":1538,"./config/frames.js":1539,"./constants/CHROME_EXTENSION_URL.js":1540,"./constants/DISCOVERY_TOOL.js":1541,"./constants/DISCOVERY_TOOL_ERRORS.js":1542,"./constants/DISCOVERY_TOOL_ERROR_CODES.js":1543,"./constants/DISCOVERY_TOOL_EVENTS.js":1544,"./constants/MANAGE_DEVICE_DEFAULTS.js":1545,"./frames/discoveryToolChromeRequired/DiscoveryToolChromeRequiredController.js":1546,"./frames/discoveryToolInstall/DiscoveryToolInstallController.js":1548,"./frames/discoveryToolPortAlreadyInUse/DiscoveryToolPortAlreadyInUseController.js":1550,"./services/chromeApi.js":1553,"./services/discoveryTool.js":1554,"./services/discoveryToolUtils.js":1555,"./services/factories/DiscoveryToolBindingPortQueue.js":1556,"./services/factories/DiscoveryToolCheckDefaultCredentialsQueue.js":1557,"./services/factories/DiscoveryToolCustomSshCommandQueue.js":1558,"./services/factories/DiscoveryToolSshCommandQueue.js":1559,"./services/factories/DiscoveryToolUnifiCommandQueue.js":1560,"./services/factories/PortMessageQueue.js":1561,"./services/factories/TaskScheduler.js":1562}],1553:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").service("chromeApi",[function(){return{isAvailable:Boolean(window.chrome),chrome:window.chrome}}])},{}],1554:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").service("discoveryTool",["$q","$rootScope","$timeout","bowser","chromeApi","DiscoveryToolBindingPortQueue","DiscoveryToolCheckDefaultCredentialsQueue","DiscoveryToolCustomSshCommandQueue","DiscoveryToolSshCommandQueue","DiscoveryToolUnifiCommandQueue","semanticVersion","DISCOVERY","DISCOVERY_TOOL","DISCOVERY_TOOL_EVENTS","DISCOVERY_TOOL_KEY","CHROME_EXTENSION_URL",function(t,e,i,n,o,r,a,s,l,c,u,d,p,f,h,_){this.init=function(){this.discoveryToolBindingPortQueue=null,this.discoveryToolCheckDefaultCredentialsQueue=null,this.discoveryToolCustomSshCommandQueue=null,this.discoveryToolSshCommandQueue=null,this.discoveryToolUnifiCommandQueue=null,this.extensionIsInstalled=!1,this.extensionVersion=null,this.extensionSupports={},this.isBusyLatch=0,this.isBusyLatchTimeouts=[],this.isFindingDevices=!1,this.isFindingCloudKeys=!1,this.port=null},this.checkDependencies=function(){return n.chrome&&!n.mobile&&o.isAvailable},this.checkInstalled=function(){return t(function(t,e){this.port?t():this.checkDependencies()?o.chrome.runtime.sendMessage(h,"isInstalled",function(i){this.extensionIsInstalled=!(!i||!i.isInstalled),this.extensionVersion=i&&i.version,this.extensionSupports=i&&i.supports||{},this.extensionIsInstalled?t():e()}.bind(this)):e()}.bind(this))},this.getInstallUrl=function(){return _+h},this.isConnected=function(){return!!this.port},this.install=function(){var e=this.getInstallUrl();return t(function(t,i){o.chrome.webstore.install(e,t,function(t){i({reason:t,url:e})})})},this.initializePort=function(){return this.port?t.when():(this.isBusyLatch+=1,this.port=o.chrome.runtime.connect(h),this.port.onMessage.addListener(m),this.port.onDisconnect.addListener(g),this.discoveryToolBindingPortQueue=new r(this.port,this.extensionSupports.concurrentMessages),this.discoveryToolCheckDefaultCredentialsQueue=new a(this.port,this.extensionSupports.concurrentMessages),this.discoveryToolCustomSshCommandQueue=new s(this.port,this.extensionSupports.concurrentMessages),this.discoveryToolSshCommandQueue=new l(this.port,this.extensionSupports.concurrentMessages),this.discoveryToolUnifiCommandQueue=new c(this.port,this.extensionSupports.concurrentMessages),t(function(t){i(function(){t(),console.info(f.CONNECTED),e.$broadcast(f.CONNECTED)},p.INITIALIZATION_TIMEOUT)}).finally(function(){this.isBusyLatch-=1}.bind(this)))},this.onDeviceDiscovered=function(t){"DEVICE_DISCOVERED"===t.action&&(!0===t.device.is_cloudkey?i(function(){console.debug(f.CLOUD_KEY_DISCOVERED,t.device),e.$broadcast(f.CLOUD_KEY_DISCOVERED,t.device)},0):"UniFi"===t.device.family&&t.device.discovered_by===d.PROTOCOL_V2_ID&&i(function(){console.debug(f.DEVICE_DISCOVERED,t.device),e.$broadcast(f.DEVICE_DISCOVERED,t.device)},0))},this.scanForDevices=function(){return this.checkInstalled().then(this.initializePort.bind(this)).then(function(){return this.isFindingDevices=!0,console.info(f.ACTION_SCAN_FOR_DEVICES),this.isBusyLatch+=1,this.isBusyLatchTimeouts.push(i(function(){this.isBusyLatch-=1}.bind(this),p.FIND_DEVICES_TIMEOUT)),this.discoveryToolBindingPortQueue.postMessage()}.bind(this)).then(function(){this.port.postMessage({action:"SCAN"})}.bind(this)).catch(function(e){return console.error(f.ACTION_SCAN_FOR_DEVICES,e),this.disconnect(),t.reject(e)}.bind(this))},this.scanForCloudKey=function(){return this.checkInstalled().then(this.initializePort.bind(this)).then(function(){this.isFindingCloudKeys=!0,console.info(f.ACTION_SCAN_FOR_CLOUD_KEY),this.isBusyLatch+=1,this.isBusyLatchTimeouts.push(i(function(){this.isBusyLatch-=1}.bind(this),p.FIND_CLOUD_KEY_TIMEOUT)),this.port.postMessage({action:"SCANv2"})}.bind(this)).catch(function(e){return console.error(f.ACTION_SCAN_FOR_CLOUD_KEY,e),this.disconnect(),t.reject(e)}.bind(this))},this.locateFor30Seconds=function(e){return this.isBusyLatch+=1,this.checkInstalled().then(this.initializePort.bind(this)).then(function(){return console.info(f.ACTION_SCAN_FOR_LOCATE_FOR_30SECONDS,e),this.discoveryToolUnifiCommandQueue.postMessage(angular.extend({cmd:"locate"},e))}.bind(this)).catch(function(e){return console.error(f.ACTION_SCAN_FOR_LOCATE_FOR_30SECONDS,e),t.reject(e)}).finally(function(){this.isBusyLatch-=1}.bind(this))},this.reboot=function(e){return this.isBusyLatch+=1,this.checkInstalled().then(this.initializePort.bind(this)).then(function(){return console.info(f.ACTION_REBOOT,e),this.discoveryToolUnifiCommandQueue.postMessage(angular.extend({cmd:"reboot"},e))}.bind(this)).catch(function(e){return console.error(f.ACTION_REBOOT,e),t.reject(e)}).finally(function(){this.isBusyLatch-=1}.bind(this))},this.upgrade=function(e){return this.isBusyLatch+=1,this.checkInstalled().then(this.initializePort.bind(this)).then(function(){return console.info(f.ACTION_UPGRADE,e),this.discoveryToolUnifiCommandQueue.postMessage(angular.extend({cmd:"upgrade"},e))}.bind(this)).catch(function(e){return console.error(f.ACTION_UPGRADE,e),t.reject(e)}).finally(function(){this.isBusyLatch-=1}.bind(this))},this.restoreToFactoryDefaults=function(e){return this.isBusyLatch+=1,this.checkInstalled().then(this.initializePort.bind(this)).then(function(){return console.info(f.ACTION_RESTORE_TO_FACTORY_DEFAULTS,e),this.discoveryToolUnifiCommandQueue.postMessage(angular.extend({cmd:"reset"},e))}.bind(this)).catch(function(e){return console.error(f.ACTION_RESTORE_TO_FACTORY_DEFAULTS,e),t.reject(e)}).finally(function(){this.isBusyLatch-=1}.bind(this))},this.setInform=function(e){return this.isBusyLatch+=1,this.checkInstalled().then(this.initializePort.bind(this)).then(function(){return console.info(f.ACTION_SET_INFORM,e),this.discoveryToolUnifiCommandQueue.postMessage(angular.extend({cmd:"set-inform"},e))}.bind(this)).catch(function(e){return console.error(f.ACTION_SET_INFORM,e),t.reject(e)}).finally(function(){this.isBusyLatch-=1}.bind(this))},this.adoptCloudKey=function(e){return this.isBusyLatch+=1,this.checkInstalled().then(this.initializePort.bind(this)).then(function(){return console.info(f.ACTION_ADOPT_CLOUD_KEY,e),this.discoveryToolSshCommandQueue.postMessage(e)}.bind(this)).catch(function(e){return console.error(f.ACTION_ADOPT_CLOUD_KEY,e),t.reject(e)}).finally(function(){this.isBusyLatch-=1}.bind(this))},this.customSshCommand=function(e){return this.isBusyLatch+=1,this.checkInstalled().then(this.initializePort.bind(this)).then(function(){return console.info(f.ACTION_CUSTOM_SSH_COMMAND,e),this.discoveryToolCustomSshCommandQueue.postMessage(e)}.bind(this)).catch(function(e){return console.error(f.ACTION_CUSTOM_SSH_COMMAND,e),t.reject(e)}).finally(function(){this.isBusyLatch-=1}.bind(this))},this.checkDefaultCredentials=function(e){return this.isBusyLatch+=1,t(function(t,n){var o=i(function(){n()},p.CHECK_CREDENTIALS_TIMEOUT);return this.checkInstalled().then(this.initializePort.bind(this)).then(function(){console.info(f.ACTION_CHECK_DEFAULT_CREDENTIALS,e),this.discoveryToolCheckDefaultCredentialsQueue.postMessage(e).then(t).catch(n).finally(function(){i.cancel(o)})}.bind(this))}.bind(this)).catch(function(e){return console.error(f.ACTION_CHECK_DEFAULT_CREDENTIALS,e),t.reject(e)}).finally(function(){this.isBusyLatch-=1}.bind(this))},this.disconnect=function(){this.port&&(this.port.onMessage.removeListener(m),this.port.onDisconnect.removeListener(g),this.port.disconnect(),console.info(f.DISCONNECTED),e.$broadcast(f.DISCONNECTED)),this.isBusyLatchTimeouts.forEach(function(t){i.cancel(t)}),this.init()},this.tryDisconnect=function(){return this.isBusyLatch<=0&&(this.disconnect(),!0)},this.isVersionHigherOrEqualThan=function(t){return u.satisfies(this.extensionVersion,">="+t)};var m=this.onDeviceDiscovered.bind(this),g=this.disconnect.bind(this);this.init()}])},{}],1555:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").service("discoveryToolUtils",["$q","$rootScope","$translate","discoveryTool","frame","heyToasts","VISIBILITY_CHANGE",function(t,e,i,n,o,r,a){this.checkInstallation=function(e){var i=e?{bypassFlag:function(){return e}}:{bypassFlag:angular.noop};return(n.checkDependencies()?t.when():t.reject()).catch(function(){return o.show("discoveryToolChromeRequired",i)}).then(function(){return n.checkInstalled().catch(function(){return o.show("discoveryToolInstall",i)})})},this.startScanForDevices=function(){return n.scanForDevices().catch(function(){return o.show("discoveryToolPortAlreadyInUse",{retryAction:function(){return n.scanForDevices.bind(n)}})})},this.isFindingDevices=function(){return n.isFindingDevices},this.startScanForCloudKeys=function(){return n.scanForCloudKey().catch(function(){return o.show("discoveryToolPortAlreadyInUse",{retryAction:function(){return n.scanForCloudKey.bind(n)}})})},this.isFindingCloudKeys=function(){return n.isFindingCloudKeys},this.handleVisibilityChangeEvent=function(t,i){i===a.STATE.HIDDEN&&n.tryDisconnect()&&e.$applyAsync()},this.handleDisconnected=function(){r.pushWarning(i.instant("DISCOVERY_TOOL_WARNING_DISCONNECTED"))}}])},{}],1556:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").factory("DiscoveryToolBindingPortQueue",["PortMessageQueue","TaskScheduler",function(t,e){function i(i){this.portMessageQueue=new t(i,new e,!1)}return i.prototype.postMessage=function(t){return this.portMessageQueue.postMessage("V2_SOCKET_STATE",t,function(t,e,i){return"BINDING_V2_PORT_SUCCESS"===t.action?(e(),!0):"BINDING_V2_PORT_FAILED"===t.action&&(i(),!0)})},i}])},{}],1557:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").factory("DiscoveryToolCheckDefaultCredentialsQueue",["PortMessageQueue","TaskScheduler",function(t,e){function i(i,n){this.portMessageQueue=new t(i,new e,n)}return i.prototype.postMessage=function(t){return this.portMessageQueue.postMessage("CHECK_SSH",t,function(t,e,i){if("CREDENTIALS_CHECK_COMPLETED"===t.action)return t.code?i(t.code):e(!!t.isDefaultCredentials),!0})},i}])},{}],1558:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").factory("DiscoveryToolCustomSshCommandQueue",["PortMessageQueue","TaskScheduler",function(t,e){function i(i,n){this.portMessageQueue=new t(i,new e,n)}return i.prototype.postMessage=function(t){return this.portMessageQueue.postMessage("CUSTOM_SSH",t,function(t,e,i){if("CUSTOM_SSH_COMMAND_COMPLETED"===t.action)return t.code?i(t.code):e(t.output),!0})},i}])},{}],1559:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").factory("DiscoveryToolSshCommandQueue",["PortMessageQueue","TaskScheduler",function(t,e){function i(i,n){this.portMessageQueue=new t(i,new e,n)}return i.prototype.postMessage=function(t){return this.portMessageQueue.postMessage("SSH",t,function(t,e,i){if("SSH_COMMAND_COMPLETED"===t.action)return t.code?i(t.code):e(t.code),!0})},i}])},{}],1560:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").factory("DiscoveryToolUnifiCommandQueue",["PortMessageQueue","TaskScheduler",function(t,e){function i(i,n){this.portMessageQueue=new t(i,new e,n)}return i.prototype.postMessage=function(t){return this.portMessageQueue.postMessage("UniFi_Command",t,function(t,e,i){if("UNIFI_COMMAND_COMPLETED"===t.action)return t.code?i(t.code):e(t.code),!0})},i}])},{}],1561:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").factory("PortMessageQueue",["$q","uuid",function(t,e){function i(t,e,i){this.port=t,this.taskScheduler=e,this.supportsConcurrentMessages=i}return i.prototype.postMessage=function(i,n,o){n=angular.extend({},n,{id:e.v4()});var r=function(t,e){var r=function(i){this.matchId(n,i)&&o(i,t,e)&&this.port.onMessage.removeListener(r)}.bind(this);this.port.onMessage.addListener(r),this.port.postMessage({action:i,params:n})}.bind(this);return this.supportsConcurrentMessages?t(r):this.taskScheduler.schedule(r)},i.prototype.matchId=function(t,e){return!this.supportsConcurrentMessages||t.id===e.id},i}])},{}],1562:[function(t,e,i){"use strict";angular.module("shared-unifi-discovery").factory("TaskScheduler",["$q",function(t){function e(){this.promiseQueue=[]}return e.prototype.schedule=function(e){var i=this.promiseQueue[this.promiseQueue.length-1],n=t(function(n,o){t.when(i).finally(e.bind(e,n,o))});return n.then(function(){this.promiseQueue.shift()}.bind(this)),this.promiseQueue.push(n),n},e.prototype.isBusy=function(){return!!this.promiseQueue.length},e}])},{}],1563:[function(t,e,i){"use strict";angular.module("shared-unifi-manage",["shared-unifi"]),t("./services/collections/SettingsCollection.js"),t("./services/factories/SettingsModelFactory.js"),t("./services/models/SettingsModel.js")},{"./services/collections/SettingsCollection.js":1564,"./services/factories/SettingsModelFactory.js":1565,"./services/models/SettingsModel.js":1566}],1564:[function(t,e,i){"use strict";angular.module("shared-unifi-manage").factory("SettingsCollection",["CORSCollection","SettingsModel","SettingsModelFactory","siteUrlMixin","structureMixin","resolveMixin","webrtcMixin","webSocketMixin",function(t,e,i,n,o,r,a,s){return t.extend(n).extend(o).extend(r).extend(a).extend(s).extend({baseModel:e,model:i,siteUrl:"get/setting"})}])},{}],1565:[function(t,e,i){"use strict";angular.module("shared-unifi-manage").factory("SettingsModelFactory",["SettingsModel",function(t){return t}])},{}],1566:[function(t,e,i){"use strict";angular.module("shared-unifi-manage").factory("SettingsModel",["CORSModel","siteUrlMixin","deepCopyMixin","structureMixin","webrtcMixin","webSocketMixin",function(t,e,i,n,o,r){return t.extend(e).extend(i).extend(n).extend(o).extend(r).extend({idAttribute:"_id",siteUrl:function(){if(!this.get("key"))throw new Error("Cannot call without a settings key");return"set/setting/"+this.get("key")},sync:function(e,i,n){return n=n||{},"update"===e&&(n.type="POST"),t.prototype.sync.call(this,e,i,n)}})}])},{}],1567:[function(t,e,i){"use strict";function n(t,e,i){this.$document=t,this.$timeout=e,this.$templateCache=i,this.classes=this.classes||{isDragover:"is-dnd-dragover",isDraggingSource:"is-dnd-dragging-source",isDragging:"is-dnd-dragging"},this.onDockDragOver=this.onDockDragOver.bind(this),this.onDockDragLeave=this.onDockDragLeave.bind(this),this.onDockDrop=this.onDockDrop.bind(this),this.onItemDragStart=this.onItemDragStart.bind(this),this.onItemDragEnd=this.onItemDragEnd.bind(this),this.onDocumentDragOver=this.onDocumentDragOver.bind(this),this.onDocumentDrop=this.onDocumentDrop.bind(this),this.itemDragging=null}n.prototype.setPlaceholder=function(t){this.placeholder&&this._currentPlaceholderSrc===t||(this._currentPlaceholderSrc=t,this.placeholder=angular.element(this.$templateCache.get(this._currentPlaceholderSrc||this.placeholderSrc)))},n.prototype.onDockDragOver=function(t){return t=t.originalEvent||t,!this.isDropAllowed(t)||(angular.element(t.currentTarget).addClass(this.classes.isDragover),this.insertPlaceholder(t),t.stopPropagation(),t.preventDefault(),!1)},n.prototype.onDockDragLeave=function(t){t=t.originalEvent||t,this.stopDragOver(t.currentTarget)},n.prototype.onDockDrop=function(t){if(this.removeDocumentHandlers(),t=t.originalEvent||t,!this.isDropAllowed(t))return!0;t.preventDefault();var e=t.currentTarget,i=t.dataTransfer.getData("Text"),n=this.getPlaceholderIndex(e);return this.getItemIndex(e,this.itemDragging.element[0])<=n&&--n,this.stopDragOver(e,!0),this.itemDragging=null,this.onDropInside&&this.onDropInside({event:t,itemId:i,index:n}),t.stopPropagation(),!1},n.prototype.isDropAllowed=function(){if(this.itemDragging){if(!this.allowedItemClasses)return!0;for(var t in this.allowedItemClasses)if(this.itemDragging.element.hasClass(this.allowedItemClasses[t]))return!0}return!1},n.prototype.stopDragOver=function(t,e){(t=angular.element(t)).removeClass(this.classes.isDragover),this.$timeout(function(){!t.hasClass(this.classes.isDragover)&&this.placeholder&&(this.placeholder.remove(),this._placeholderTarget=void 0)}.bind(this),e?0:100)},n.prototype.onItemDragStart=function(t,e){if(!(t=t.originalEvent||t).currentTarget.draggable)return t.preventDefault(),!1;this.addDocumentHandlers(),t.dataTransfer.setData("Text",e),t.dataTransfer.effectAllowed="move";var i=angular.element(t.currentTarget),n=i[0].getBoundingClientRect();i.addClass(this.classes.isDragging),this.$timeout(function(){i.addClass(this.classes.isDraggingSource)}.bind(this),0),this.itemDragging={element:i,startX:n.left,startY:n.top,mouseX:t.pageX-n.left,mouseY:t.pageY-n.top},t.stopPropagation()},n.prototype.onItemDragEnd=function(t,e){this.removeDocumentHandlers();var i=(t=t.originalEvent||t).currentTarget;angular.element(i).removeClass([this.classes.isDragging,this.classes.isDraggingSource].join(" ")),this.itemDragging&&this.canDropOutside&&this.onDropOutside&&this.onDropOutside({event:t,itemId:e,x:this.itemDragging.endX-this.itemDragging.mouseX,y:this.itemDragging.endY-this.itemDragging.mouseY}),this.itemDragging=null,t.stopPropagation()},n.prototype.addDocumentHandlers=function(){this.canDropOutside&&(this.$document.on("dragover",this.onDocumentDragOver),this.$document.on("drop",this.onDocumentDrop))},n.prototype.removeDocumentHandlers=function(){this.canDropOutside&&(this.$document.off("dragover",this.onDocumentDragOver),this.$document.off("drop",this.onDocumentDrop))},n.prototype.onDocumentDragOver=function(t){return t.stopPropagation(),t.preventDefault(),!1},n.prototype.onDocumentDrop=function(t){return t=t.originalEvent||t,this.itemDragging.endX=t.pageX,this.itemDragging.endY=t.pageY,t.stopPropagation(),t.preventDefault(),!1},n.prototype.isMouseInFirstHalf=function(t,e){var i=e.getBoundingClientRect(),n=this.isHorizontal?i.width:i.height,o=this.isHorizontal?i.left:i.top;return(this.isHorizontal?t.pageX:t.pageY)<=o+n/2},n.prototype.insertPlaceholder=function(t){if(!this._isInsertingPlaceholder&&(this._isInsertingPlaceholder=!0)){var e=angular.element(t.currentTarget),i=t.target;if(i!==e[0]){for(;i.parentNode!==e[0]&&i.parentNode;)i=i.parentNode;if(i.parentNode===e[0]&&i!==this.placeholder[0]){var n=this._placeholderTarget;this.isMouseInFirstHalf(t,i)?this._placeholderTarget=i:this._placeholderTarget=i.nextSibling,this._placeholderTarget!==n&&(this.placeholder[0].parentNode!==e[0]&&e.append(this.placeholder),e[0].insertBefore(this.placeholder[0],this._placeholderTarget))}}this._isInsertingPlaceholder=!1}},n.prototype.getPlaceholderIndex=function(t){return Array.prototype.indexOf.call(t.children,this.placeholder[0])},n.prototype.getItemIndex=function(t,e){return Array.prototype.indexOf.call(t.children,e)},n.prototype.hideGhostImage=function(t){var e=document.createElement("img");e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",t.dataTransfer.setDragImage(e,0,0)},n.$inject=["$document","$timeout","$templateCache"],angular.module("shared-unifi-panel").controller("DndDockController",n)},{}],1568:[function(t,e,i){"use strict";angular.module("shared-unifi-panel").directive("unifiDndDock",["bowser",function(t){return{scope:{items:"=unifiDndDockItems",onDropInside:"&unifiDndDockOnDropInside",onDropOutside:"&unifiDndDockOnDropOutside",canDropOutside:"=?unifiDndDockCanDropOutside",placeholderSrc:"@unifiDndDockPlaceholderSrc",allowedItemClasses:"=unifiDndDockAllowedItemClasses",isHorizontal:"=?unifiDndDockIsHorizontal"},controller:"DndDockController",controllerAs:"dndDockCtrl",bindToController:!0,link:function(e,i,n,o){o.setPlaceholder(),t.mobile||(i.on("dragover",o.onDockDragOver),i.on("dragleave",o.onDockDragLeave),i.on("drop",o.onDockDrop),e.$on("$destroy",function(){i.off("dragover",o.onDockDragOver),i.off("dragleave",o.onDockDragLeave),i.off("drop",o.onDockDrop)}))}}}])},{}],1569:[function(t,e,i){"use strict";angular.module("shared-unifi-panel").directive("unifiDndDockItem",["$parse","bowser",function(t,e){return{require:"^unifiDndDock",link:function(i,n,o,r){var a=i.$eval(o.unifiDndDockItem),s=o.unifiDndDockItemPlaceholder,l=o.unifiDndDockItemHandle,c=function(t){n.attr("draggable",t)},u=function(){if(!t(o.unifiDndDockItemIsDisabled)(i)&&this.dragDrop)return this.dragDrop(),!1},d=function(e){if(!t(o.unifiDndDockItemIsDisabled)(i)&&o.unifiDndDockItemHandle&&!e.target.matchesSelector(o.unifiDndDockItemHandle)&&"select"!==e.target.nodeName.toLowerCase()){c(!1);n.find(l).on("mouseover",function t(){c(!0),n.find(l).off("mouseover",t)})}},p=function(t){r.setPlaceholder(s),r.onItemDragStart(t,a)},f=function(t){r.onItemDragEnd(t,a),i.$apply()};e.mobile||(i.$watch(o.unifiDndDockItemIsDisabled,function(t){return c(!t)}),n.on("selectstart",u),n.on("mousedown",d),n.on("dragstart",p),n.on("dragend",f),i.$on("$destroy",function(){n.off("selectstart",u),n.off("mousedown",d),n.off("dragstart",p),n.off("dragend",f)}))}}}])},{}],1570:[function(t,e,i){"use strict";function n(){}n.prototype.setIsUndocked=function(t){this.isUndocked=t},n.$inject=[],angular.module("shared-unifi-panel").controller("DockableItemController",n)},{}],1571:[function(t,e,i){"use strict";angular.module("shared-unifi-panel").directive("unifiDockableItem",[function(){return{controller:"DockableItemController",controllerAs:"dockedItemCtrl",link:function(t,e,i,n){t.$watch(i.unifiDockableItemIsUndocked,function(t){n.setIsUndocked(t)})}}}])},{}],1572:[function(t,e,i){"use strict";var n=t("../../controllers/BaseDraggableController");function o(t){n.call(this,t)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onMouseDown=function(t){this.offsetLeft=t.currentTarget.offsetLeft,this.offsetTop=t.currentTarget.offsetTop,this.element=angular.element(t.currentTarget),n.prototype.onMouseDown.call(this,t)},o.prototype.onMouseMove=function(t){n.prototype.onMouseMove.call(this,t),this.element.css({left:this.distanceX+this.offsetLeft+"px",top:this.distanceY+this.offsetTop+"px"})},o.prototype.onDragStopAttrs=function(t){var e=n.prototype.onDragStopAttrs.call(this,t);return angular.extend(e,{elementX:this.distanceX+this.offsetLeft,elementY:this.distanceY+this.offsetTop})},o.$inject=["$document"],angular.module("shared-unifi-panel").controller("DraggableItemController",o)},{"../../controllers/BaseDraggableController":1580}],1573:[function(t,e,i){"use strict";angular.module("shared-unifi-panel").directive("unifiDraggableItem",["$parse","bowser",function(t,e){return{controller:"DraggableItemController",controllerAs:"draggableItemCtrl",link:function(i,n,o,r){e.mobile||(r.setDragHandleSelector(o.unifiDraggableItemHandle),r.setDragStartCallback(function(){t(o.unifiDraggableItemOnDragStart)(i,arguments[0]),i.$apply()}),r.setDragStopCallback(function(){t(o.unifiDraggableItemOnDragStop)(i,arguments[0])}),i.$watch(o.unifiDraggableItemIsDisabled,function(t){t?r.removeEventHandlers(n):r.addEventHandlers(n)}),i.$on("$destroy",function(){r.documentCleanUp(),r.removeEventHandlers(n)}))}}}])},{}],1574:[function(t,e,i){"use strict";angular.module("shared-unifi-panel").directive("unifiOpenPanel",["panel",function(t){return{scope:{model:"=unifiOpenPanel",activeTab:"=?unifiOpenPanelActiveTab",isDisabled:"=?unifiOpenPanelIsDisabled",changeTab:"=?unifiOpenPanelChangeTab",activeAccordionGroup:"=?unifiOpenPanelActiveAccordionGroup",states:"=?unifiOpenPanelStates",allowPropagation:"=?unifiOpenPanelAllowPropagation",keepCurrentIndex:"=?unifiOpenPanelKeepCurrentIndex"},restrict:"A",link:function(e,i){i.on("click",function(i){e.allowPropagation||(i.preventDefault(),i.stopPropagation()),e.model&&!0!==e.isDisabled&&e.$apply(function(){var i,n;t.addItem(e.model,(n=[{state:"activeTab",value:e.activeTab,overwrite:e.changeTab},{state:"collapsed",value:!1,overwrite:!0}],e.activeAccordionGroup&&n.push({state:"activeAccordionGroup",value:e.activeAccordionGroup,overwrite:!0}),e.states&&angular.isArray(e.states)&&e.states.forEach(function(t){angular.isObject(t)&&t.state&&t.value&&n.push(t)}),n),(e.keepCurrentIndex&&(i=t.getItemIndex(e.model)),-1===i?void 0:i))})})}}}])},{}],1575:[function(t,e,i){"use strict";var n=t("../../controllers/BaseResizableController");function o(t){n.call(this,t)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.onMouseMove=function(t){n.prototype.onMouseMove.call(this,t);var e={};this.canResizeHorizontally&&(e.width=this.getResizedWidth()+"px"),this.canResizeVertically&&(e.height=this.getResizedHeight()+"px"),this.element.css(e)},o.$inject=["$document"],angular.module("shared-unifi-panel").controller("ResizableItemController",o)},{"../../controllers/BaseResizableController":1581}],1576:[function(t,e,i){"use strict";angular.module("shared-unifi-panel").directive("unifiResizableItem",["$parse",function(t){return{controller:"ResizableItemController",controllerAs:"resizableItemCtrl",link:function(e,i,n,o){o.setElement(i);var r=function(){angular.forEach([".resizeHandleRight",".resizeHandleBottom",".resizeHandleBottomRight"],function(t){var e=i.find(t);o.removeEventHandlers(e),e.remove()})};o.setDragStartCallback(function(){t(n.unifiResizableItemOnResizeStart)(e,arguments[0]),e.$apply()}),o.setDragStopCallback(function(){t(n.unifiResizableItemOnResizeStop)(e,arguments[0])}),e.$watch(n.unifiResizableItemIsDisabled,function(t){var a,s,l;t?r():(a=e.$eval(n.unifiResizableItemDirection),s=!a||-1!==a.indexOf("right"),l=!a||-1!==a.indexOf("bottom"),s&&(i.append('<div class="resizeHandleRight is-resizable-horizontally" />'),o.addEventHandlers(i.find(".resizeHandleRight"))),l&&(i.append('<div class="resizeHandleBottom is-resizable-vertically" />'),o.addEventHandlers(i.find(".resizeHandleBottom"))),s&&l&&(i.append('<div class="resizeHandleBottomRight is-resizable-vertically is-resizable-horizontally" />'),o.addEventHandlers(i.find(".resizeHandleBottomRight"))))}),e.$on("$destroy",function(){o.documentCleanUp(),r()})}}}])},{}],1577:[function(t,e,i){"use strict";var n=t("../../controllers/BaseResizableController");function o(t){this.onScroll=this.onScroll.bind(this),this.MIN_HEIGHT=20,this.MAX_HEIGHT_OFFSET=35,n.call(this,t)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.addEventHandlers=function(t){n.prototype.addEventHandlers.call(this,t),this.element.on("scroll",null,t,this.onScroll)},o.prototype.removeEventHandlers=function(t){n.prototype.addEventHandlers.call(this,t),this.element.off("scroll",null,t,this.onScroll)},o.prototype.onScroll=function(t){t.data.css({paddingTop:this.element[0].scrollTop})},o.prototype.onMouseMove=function(t){n.prototype.onMouseMove.call(this,t),this.canResizeVertically&&this.setHeight(this.getResizedHeight())},o.prototype.onResizeHandleMouseOver=function(){this.isResizeHandleMouseOver=!0},o.prototype.onResizeHandleMouseOut=function(){this.isResizeHandleMouseOver=!1},o.prototype.setHeight=function(t){if(!isNaN(t)){t=this.constrainSize?this.constrainSize({height:t}):t;var e=this.element.parent()[0].getBoundingClientRect().height;e&&(t=Math.min(t,e-this.MAX_HEIGHT_OFFSET)),this.height=Math.max(t,this.MIN_HEIGHT),this.element.css({minHeight:this.height+"px",maxHeight:this.height+"px"})}},o.$inject=["$document"],angular.module("shared-unifi-panel").controller("ResizablePanelController",o)},{"../../controllers/BaseResizableController":1581}],1578:[function(t,e,i){"use strict";angular.module("shared-unifi-panel").directive("unifiResizablePanel",["$compile","$parse",function(t,e){return{controller:"ResizablePanelController",controllerAs:"resizablePanelCtrl",link:function(i,n,o,r){r.setElement(n);var a=function(){angular.forEach([".resizeHandleBottom",".resizeHandleTop"],function(t){var e=n.find(t);r.removeEventHandlers(e),e.remove()})};o.unifiResizablePanelOnResizeStart&&r.setDragStartCallback(function(){e(o.unifiResizablePanelOnResizeStart)(i,arguments[0]),i.$apply()}),o.unifiResizablePanelOnResizeStop&&r.setDragStopCallback(function(){e(o.unifiResizablePanelOnResizeStop)(i,arguments[0])}),o.unifiResizablePanelOnResizeMove&&r.setDragMoveCallback(function(){e(o.unifiResizablePanelOnResizeMove)(i,arguments[0]),i.$apply()}),o.unifiResizablePanelConstrainSize&&r.setConstrainSizeCallback(function(){return e(o.unifiResizablePanelConstrainSize)(i,arguments[0])}),i.$watch(o.unifiResizablePanelIsDisabled,function(s){var l,c,u;s?a():(l=i.$eval(o.unifiResizablePanelDirection),c=-1!==l.indexOf("bottom"),u=-1!==l.indexOf("top"),c&&(n.append(t('\n              <div\n                class="resizeHandleBottom is-resizable-vertically"\n                ng-mouseover="resizablePanelCtrl.onResizeHandleMouseOver()"\n                ng-mouseout="resizablePanelCtrl.onResizeHandleMouseOut()"\n              />')(i)),r.addEventHandlers(n.find(".resizeHandleBottom"))),u&&(n.append(t('\n              <div\n                class="resizeHandleTop is-resizable-vertically is-resizable-inverted"\n                ng-mouseover="resizablePanelCtrl.onResizeHandleMouseOver()"\n                ng-mouseout="resizablePanelCtrl.onResizeHandleMouseOut()"\n              />')(i)),r.addEventHandlers(n.find(".resizeHandleTop"))),!r.isInitalized&&(r.isInitalized=!0)&&(r.setHeight(i.$eval(o.unifiResizablePanelInitialHeight)),e(o.unifiResizablePanelOnInitialize)(i,{height:r.height})))}),i.$on("$destroy",function(){r.documentCleanUp(),a()})}}}])},{}],1579:[function(t,e,i){"use strict";angular.module("shared-unifi-panel").provider("panel",[function(){var t;this.setImplementation=function(e){t=e},this.$get=["$injector",function(e){return e.get(t)}]}])},{}],1580:[function(t,e,i){"use strict";function n(t){this.$document=t,this.onMouseDown=this.onMouseDown.bind(this),this.onMouseDownDrag=this.onMouseDownDrag.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.classes={preventSelection:"draggablePreventSelection"},this.isDragging=!1}n.prototype.setDragStartCallback=function(t){this.onDragStart=t},n.prototype.setDragStopCallback=function(t){this.onDragStop=t},n.prototype.setDragMoveCallback=function(t){this.onDragMove=t},n.prototype.setDragHandleSelector=function(t){this.dragHandleSelector=t},n.prototype.addEventHandlers=function(t){t.on("mousedown",this.onMouseDown)},n.prototype.removeEventHandlers=function(t){t.off("mousedown",this.onMouseDown)},n.prototype.onMouseDown=function(t){if(0===t.button){if(this.dragHandleSelector&&!t.target.matchesSelector(this.dragHandleSelector))return;this.startX=t.pageX,this.startY=t.pageY,this.$document.on("mousemove",this.onMouseMove),this.$document.on("mouseup",this.onMouseUp),this.$document.one("mousemove",this.onMouseDownDrag)}},n.prototype.onMouseDownDrag=function(t){this.onDragStart&&this.onDragStart(this.onDragStartAttrs(t)),this.disableSelection()},n.prototype.onMouseMove=function(t){return t.preventDefault(),this.endX=t.pageX,this.endY=t.pageY,this.distanceX=this.endX-this.startX,this.distanceY=this.endY-this.startY,this.onDragMove&&this.onDragMove(this.onDragStopAttrs(t)),this.isDragging=!0,!1},n.prototype.onMouseUp=function(t){this.documentCleanUp(),this.enableSelection(),this.isDragging&&this.onDragStop&&this.onDragStop(this.onDragStopAttrs(t)),this.isDragging=!1},n.prototype.documentCleanUp=function(){this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.$document.off("mousemove",this.onMouseDownDrag)},n.prototype.enableSelection=function(){angular.element(this.$document[0].body).removeClass(this.classes.preventSelection)},n.prototype.disableSelection=function(){angular.element(this.$document[0].body).addClass(this.classes.preventSelection)},n.prototype.onDragStartAttrs=function(t){return{event:t,startX:this.startX,startY:this.startY}},n.prototype.onDragStopAttrs=function(t){return{event:t,distanceX:this.distanceX,distanceY:this.distanceY}},n.$inject=["$document"],e.exports=n},{}],1581:[function(t,e,i){"use strict";var n=t("./BaseDraggableController");function o(t){n.call(this,t)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.setElement=function(t){this.element=t},o.prototype.setConstrainSizeCallback=function(t){this.constrainSize=t},o.prototype.getResizedWidth=function(){var t=this.isInverse?Math.max(0,this.startWidth-this.distanceX):Math.max(0,this.startWidth+this.distanceX);return this.constrainSize?this.constrainSize({width:t}):t},o.prototype.getResizedHeight=function(){var t=this.isInverse?Math.max(0,this.startHeight-this.distanceY):Math.max(0,this.startHeight+this.distanceY);return this.constrainSize?this.constrainSize({height:t}):t},o.prototype.onMouseDown=function(t){t.preventDefault(),t.stopPropagation();var e=angular.element(t.currentTarget);this.canResizeHorizontally=e.hasClass("is-resizable-horizontally"),this.canResizeVertically=e.hasClass("is-resizable-vertically"),this.isInverse=e.hasClass("is-resizable-inverted"),this.startWidth=this.element[0].offsetWidth,this.startHeight=this.element[0].offsetHeight,n.prototype.onMouseDown.call(this,t)},o.prototype.onMouseMove=function(t){n.prototype.onMouseMove.call(this,t)},o.prototype.onDragStopAttrs=function(t){var e=n.prototype.onDragStopAttrs.call(this,t);return angular.extend(e,{width:this.getResizedWidth(),height:this.getResizedHeight()})},o.$inject=["$document"],e.exports=o},{"./BaseDraggableController":1580}],1582:[function(t,e,i){"use strict";angular.module("shared-unifi-panel",["shared-unifi"]),t("./components/dndDock/DndDockController.js"),t("./components/dndDock/dndDock.js"),t("./components/dndDockItem/dndDockItem.js"),t("./components/dockableItem/DockableItemController.js"),t("./components/dockableItem/dockableItem.js"),t("./components/draggableItem/DraggableItemController.js"),t("./components/draggableItem/draggableItem.js"),t("./components/openPanel/openPanel.js"),t("./components/resizableItem/ResizableItemController.js"),t("./components/resizableItem/resizableItem.js"),t("./components/resizablePanel/ResizablePanelController.js"),t("./components/resizablePanel/resizablePanel.js"),t("./components/services/providers/panelProvider.js"),t("./controllers/BaseDraggableController.js"),t("./controllers/BaseResizableController.js"),t("./services/ItemState.js")},{"./components/dndDock/DndDockController.js":1567,"./components/dndDock/dndDock.js":1568,"./components/dndDockItem/dndDockItem.js":1569,"./components/dockableItem/DockableItemController.js":1570,"./components/dockableItem/dockableItem.js":1571,"./components/draggableItem/DraggableItemController.js":1572,"./components/draggableItem/draggableItem.js":1573,"./components/openPanel/openPanel.js":1574,"./components/resizableItem/ResizableItemController.js":1575,"./components/resizableItem/resizableItem.js":1576,"./components/resizablePanel/ResizablePanelController.js":1577,"./components/resizablePanel/resizablePanel.js":1578,"./components/services/providers/panelProvider.js":1579,"./controllers/BaseDraggableController.js":1580,"./controllers/BaseResizableController.js":1581,"./services/ItemState.js":1583}],1583:[function(t,e,i){"use strict";angular.module("shared-unifi-panel").service("ItemState",["BaseCollection",function(t){var e=function(){this.collection=new t};return e.prototype.getItemAndTypeId=function(t){return t?[t.modelType,t.id].join("|"):void 0},e.prototype.getItemState=function(t,e){var i=this.collection.get(this.getItemAndTypeId(t));return i&&i.get(e)},e.prototype.hasItemState=function(t,e){var i=this.collection.get(this.getItemAndTypeId(t));return i&&i.has(e)},e.prototype.addItemState=function(t,e){e&&angular.forEach(e,function(e){this.getItemState(t,e.state)&&!e.overwrite||this.setItemState(t,e.state,e.value,!0)}.bind(this))},e.prototype.setItemState=function(t,e,i){if("locked"===e||!this.isItemStateLocked(t)){var n={id:this.getItemAndTypeId(t)};n[e]=i,this.collection.add(n,{merge:!0})}return this.getItemState(t,e)},e.prototype.toggleItemState=function(t,e){if("locked"===e||!this.isItemStateLocked(t)){var i=this.collection.get(this.getItemAndTypeId(t));this.setItemState(t,e,!(i&&i.get(e)))}},e.prototype.unsetItemState=function(t,e){var i;return"locked"!==e&&this.isItemStateLocked(t)||(i=this.collection.get(this.getItemAndTypeId(t)))&&i.unset(e),i},e.prototype.clearItemState=function(t){this.isItemStateLocked(t)||this.collection.remove(this.collection.get(this.getItemAndTypeId(t)))},e.prototype.isItemStateLocked=function(t){return this.getItemState(t,"locked")},e.prototype.matchesState=function(t,e){var i=this.collection.get(this.getItemAndTypeId(t)),n=!0;return angular.forEach(e,function(t){var e=i?i.get(t.state):void 0;e===t.value||t.allowUndefined&&void 0===e||(n=!1)}),n},e.prototype.reset=function(){this.collection.reset()},e}])},{}],1584:[function(t,e,i){"use strict";angular.module("shopify-buy",[]).factory("shopifyBuy",function(){return t("shopify-buy")})},{"shopify-buy":24}],1585:[function(t,e,i){"use strict";function n(t){this.isButtonVisible=!1,t(this)}n.prototype.setVisibility=function(t){this.isButtonVisible=!!t},n.$inject=["toggleDropdownControllerMixin"],angular.module("shared-unifi-store").controller("StoreCheckoutButtonController",n)},{}],1586:[function(t,e,i){"use strict";angular.module("shared-unifi-store").directive("unifiStoreCheckoutButton",["shopifyLineItems",function(e){return{controller:"StoreCheckoutButtonController",controllerAs:"storeCheckoutButtonCtrl",template:t("./storeCheckoutButton.pug")(),replace:!0,link:function(t,i,n,o){t.$watch(function(){var t=e.getCart();return t?t.lineItemCount:0},function(t){o.setVisibility(!!t)})}}}])},{"./storeCheckoutButton.pug":1587}],1587:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntPopoverContainer appOrgSwitcher appOrgSwitcher--wide appOrgSwitcher--insideGlobalHeaderIconGroup" ng-if="storeCheckoutButtonCtrl.isButtonVisible || storeCheckoutButtonCtrl.isDropdownVisible" on-outside-element-click="storeCheckoutButtonCtrl.closeDropdown()"><div class="appOrgSwitcher__trigger positionRelative" ng-click="storeCheckoutButtonCtrl.toggleDropdown()"><unifi-store-variants-in-cart class="appCount--topRight"></unifi-store-variants-in-cart><div class="unifiActionIcon unifiHeaderIcon mr-0 pr-0" title="{{\'COMMON_ACTIONS_CHECKOUT\' | translate}}"><div class="icon ubnt-icon--cart"></div></div><span class="appOrgSwitcher__arrow icon ubnt-icon--pointer-down noMarginLeft"></span></div><div class="ubntPopover ubntPopover--bottomLeft mt-1" style="width: 600px;" ng-class="{\'is-visible\': storeCheckoutButtonCtrl.isDropdownVisible}"><unifi-store-checkout-list unifi-store-checkout-list-close-dropdown="storeCheckoutButtonCtrl.closeDropdown()"></unifi-store-checkout-list></div></div>'}},{"pug-runtime":23}],1588:[function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();angular.module("shared-unifi-store").controller("StoreCheckoutListController",["$q","$state","$translate","$window","frame","shopifyLineItems","storeLineItemsComparator","BaseListController","STORE_SETTINGS",function(t,e,i,o,r,a,s,l,c){return new(function(t){function u(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return t.defaultSortBy="title",t.comparator=s,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,l),n(u,[{key:"continueShopping",value:function(){e.go("manage.site.store"),this.closeDropdown()}},{key:"getCollection",value:function(){return a.repository.collection}},{key:"getCart",value:function(){return a.getCart()}},{key:"isContinueShoppingButtonVisible",value:function(){return"manage.site.store"!==e.current.name}},{key:"checkout",value:function(){var t=a.getCart().checkoutUrl;t&&(o.open(t,"_blank"),r.show("confirm",{title:i.instant.bind(this,"STORE_CHECKOUT_CLEAR_LINE_ITEMS_LIST_TITLE"),message:i.instant.bind(this,"STORE_CHECKOUT_CLEAR_LINE_ITEMS_LIST_MESSAGE"),options:function(){return{confirmLabel:i.instant("STORE_CHECKOUT_CLEAR_LINE_ITEMS_LIST_ACTIONS_CONFIRM"),defaultCancel:!0}}}).then(function(){a.removeAll()}))}},{key:"setQuantity",value:function(t,e){e&&e>0&&a.setQuantity(t,e)}},{key:"remove",value:function(t){a.remove(t)}},{key:"getPrice",value:function(t){return{amount:t.getPrice(),currency:c.CURRENCY}}},{key:"getPriceBefore",value:function(t){return{amount:t.getPriceBefore(),currency:c.CURRENCY}}},{key:"getLinePrice",value:function(t){return{amount:t.getLinePrice(),currency:c.CURRENCY}}},{key:"getLinePriceBefore",value:function(t){return{amount:t.getLinePriceBefore(),currency:c.CURRENCY}}},{key:"getTotal",value:function(){return{amount:this.getCart().subtotal,currency:c.CURRENCY}}}]),u}())}])},{}],1589:[function(t,e,i){"use strict";angular.module("shared-unifi-store").directive("unifiStoreCheckoutList",[function(){return{scope:{closeDropdown:"&unifiStoreCheckoutListCloseDropdown"},bindToController:!0,controller:"StoreCheckoutListController",controllerAs:"storeCheckoutListCtrl",template:t("./storeCheckoutList.pug")()}}])},{"./storeCheckoutList.pug":1590}],1590:[function(t,e,i){t("pug-runtime");function n(t,e,i,n){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(n?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=function(t){var e=""+t,i=o.exec(e);if(!i)return t;var n,r,a,s="";for(n=i.index,r=0;n<e.length;n++){switch(e.charCodeAt(n)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==n&&(s+=e.substring(r,n)),r=n+1,s+=a}return r!==n?s+e.substring(r,n):s}(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.exports=function(t){var e="";return e=e+'<div class="unifiStoreCheckoutList"><form class="appForm appForm--cozy"'+n("novalidate",!0,!0,!0)+' autocomplete="off" name="storeCheckoutListCtrl.form"><div class="unifiStoreCheckoutList__lineItems appScrollable" ng-if="storeCheckoutListCtrl.view.getModels().length &gt; 0"><table class="appTable appTable--cozy appTable--noWrap appTable--light appTable--hoverable appTable--flexible appTable--striped noMargin" collection-view-sort="storeCheckoutListCtrl.view"><thead><tr><th class="unifiStoreCheckoutList__picture"></th><th class="unifiStoreCheckoutList__title" collection-view-sort-by="title"><span translate="STORE_CHECKOUT_TABLE_HEADER_TITLE"></span></th><th class="unifiStoreCheckoutList__price" collection-view-sort-by="price"><span translate="STORE_CHECKOUT_TABLE_HEADER_PRICE"></span></th><th class="unifiStoreCheckoutList__quantity"><span translate="STORE_CHECKOUT_TABLE_HEADER_QUANTITY"></span></th><th class="unifiStoreCheckoutList__linePrice"><span translate="STORE_CHECKOUT_TABLE_HEADER_AMOUNT"></span></th><th class="unifiStoreCheckoutList__actions"><span translate="STORE_CHECKOUT_TABLE_HEADER_ACTIONS"></span></th></tr></thead><tbody><tr class="unifiStoreCheckoutList__lineItem" collection-view-repeat="lineItem in storeCheckoutListCtrl.view.getModels()" ng-class="{              \'unifiStoreCheckoutList__lineItem--isSale\': lineItem.isSale()             }"><td class="unifiStoreCheckoutList__picture noPadding"><img ng-if="lineItem.getImageSrc()" ng-src="{{lineItem.getImageSrc()}}"></td><td class="unifiStoreCheckoutList__title wrappable">{{lineItem.getTitle()}}</td><td class="unifiStoreCheckoutList__price"><div class="unifiStoreCheckoutList__priceValue">{{storeCheckoutListCtrl.getPrice(lineItem) | currency}}</div><div class="unifiStoreCheckoutList__priceInfo" ng-if="lineItem.isSale()"><s>{{storeCheckoutListCtrl.getPriceBefore(lineItem) | currency}}</s></div></td><td class="unifiStoreCheckoutList__quantity"><input class="input--smallNumber" type="number" name="lineItemQuantity[{{lineItem.id}}]" min="1"'+n("required",!0,!0,!0)+' ng-value="lineItem.getQuantity()" ng-model="quantity" ng-change="storeCheckoutListCtrl.setQuantity(lineItem, quantity)"></td><td class="unifiStoreCheckoutList__linePrice"><div class="unifiStoreCheckoutList__linePrice--price">{{storeCheckoutListCtrl.getLinePrice(lineItem) | currency}}</div><div class="unifiStoreCheckoutList__linePrice--info" ng-if="lineItem.isSale()"><s>{{storeCheckoutListCtrl.getLinePriceBefore(lineItem) | currency}}</s></div></td><td class="unifiStoreCheckoutList__actions"><button class="appMainButton appMainButton--tertiary appMainButton--condensed" ng-click="storeCheckoutListCtrl.remove(lineItem)"><span class="button__icon icon ubnt-icon--trashcan"></span><span translate="STORE_CHECKOUT_ACTION_REMOVE"></span></button></td></tr></tbody></table></div><div class="appContainer appContainer--responsive appContainer--centered noPadding" ng-if="storeCheckoutListCtrl.view.getModels().length === 0"><div class="appRow--comfy"><div class="col--xs12 noPadding"><div class="appInfoBox" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="STORE_CHECKOUT_LIST_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" translate="STORE_CHECKOUT_LIST_EMPTY_NO_VARIANTS"></p></div></div></div></div></div></div><div class="appFormFooter noPadding"><div class="appFormFooter__left"><dl class="unifiStoreCheckoutList__summary"><dt translate="STORE_CHECKOUT_LABEL_TOTAL"></dt><dd>{{storeCheckoutListCtrl.getTotal() | currency}}</dd></dl></div><div class="appFormFooter__right"><span class="appInputGroup"><button class="appMainButton appMainButton--cozy" type="button" ng-click="storeCheckoutListCtrl.closeDropdown()" translate="COMMON_ACTIONS_CLOSE"></button><button class="appMainButton appMainButton--cozy" ng-if="storeCheckoutListCtrl.isContinueShoppingButtonVisible()" type="button" ng-click="storeCheckoutListCtrl.continueShopping()" translate="STORE_CHECKOUT_ACTION_CONTINUE_SHOPPING"></button><button class="appMainButton appMainButton--cozy appMainButton--primary" type="submit" ng-click="storeCheckoutListCtrl.form.$valid &amp;&amp; storeCheckoutListCtrl.checkout()" ng-disabled="storeCheckoutListCtrl.getCart().lineItemCount === 0" translate="STORE_CHECKOUT_ACTION_CHECKOUT"></button></span></div></div></form></div>'};var o=/["&<>]/},{"pug-runtime":23}],1591:[function(t,e,i){"use strict";angular.module("shared-unifi-store").directive("unifiStoreVariantsInCart",["shopifyLineItems",function(e){return{scope:!1,template:t("./storeVariantsInCart.pug")(),replace:!0,link:function(t){t.getCount=function(){var t=e.getCart();return t?t.lineItemCount:0},t.getTruncatedCount=function(){return this.getCount()>99?"99+":this.getCount()+""}}}}])},{"./storeVariantsInCart.pug":1592}],1592:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="count count--round appCount" ng-if="getCount() &gt; 0"><div class="count__value">{{getTruncatedCount()}}</div></div>'}},{"pug-runtime":23}],1593:[function(t,e,i){"use strict";var n=lazyRequire.get("BaseCollectionController");function o(t,e,i,o,r){this.shopifyLineItems=t,this.storeVariantsComparator=e,this.CollectionView=i,this.StoreVariantsFilter=o,this.STORE_SETTINGS=r,this.categoriesOrder=["Routing & Switching","Wireless","VoIP","Surveillance","Accessories"],this.categories={},n.call(this)}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.destroy=function(){this.categoriesOrder.forEach(function(t){this.categories[t]&&this.categories[t].view&&this.categories[t].view.dispose()}.bind(this))},o.prototype.onCollectionChange=function(){this.updateCategoriesOrder(),this.updateCategories()},o.prototype.updateCategoriesOrder=function(){this.categoriesOrder=this.collection.models.reduce(function(t,e){var i=e.getProductType();return-1===t.indexOf(i)&&t.push(i),t},this.categoriesOrder)},o.prototype.updateCategories=function(){this.categoriesOrder.forEach(function(t){this.categories[t]||(this.categories[t]={},this.categories[t].filter=new this.StoreVariantsFilter,this.categories[t].filter.setProductTypeFilter(t),this.categories[t].view=new this.CollectionView(this.collection),this.categories[t].view.setFilters([this.categories[t].filter.getTest()]),this.categories[t].view.setSortBy("title"),this.categories[t].view.setComparators(this.storeVariantsComparator),this.categories[t].view.refresh())}.bind(this))},o.prototype.addToCart=function(t){t.isAvailable()&&this.shopifyLineItems.add(t,1)},o.prototype.setQuantity=function(t,e){t.isAvailable()&&this.shopifyLineItems.setQuantityByVariant(t,e)},o.prototype.getQuantity=function(t){return this.shopifyLineItems.getQuantityByVariant(t)},o.prototype.getNumberOfFilteredVariants=function(){return this.categoriesOrder.reduce(function(t,e){var i=this.categories[e];return t+(i?i.view.getModels().length:0)}.bind(this),0)},o.prototype.getNumberOfAllVariants=function(){return this.collection?this.collection.length:0},o.prototype.onSearchQueryChange=function(t){return this.isSearchQuery=!!t,this.categoriesOrder.forEach(function(e){var i=this.categories[e];i&&(i.filter.updateSearchQuery(t),i.view.refresh())}.bind(this))},o.prototype.getPrice=function(t){return{amount:t.getPrice(),currency:this.STORE_SETTINGS.CURRENCY}},o.prototype.getPriceBefore=function(t){return{amount:t.getPriceBefore(),currency:this.STORE_SETTINGS.CURRENCY}},o.$inject=["shopifyLineItems","storeVariantsComparator","CollectionView","StoreVariantsFilter","STORE_SETTINGS"],angular.module("shared-unifi-store").controller("StoreVariantsListController",o)},{}],1594:[function(t,e,i){"use strict";angular.module("shared-unifi-store").directive("unifiStoreVariantsList",["shopifyVariants",function(e){return{controller:"StoreVariantsListController",controllerAs:"storeVariantsListCtrl",restrict:"E",template:t("./storeVariantsList.pug")(),link:function(t,i,n,o){o.updateCollection(e.repository.collection),t.$on("$destroy",function(){o.destroy(),o.removeEventHandlers()})}}}])},{"./storeVariantsList.pug":1595}],1595:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="unifiStoreVariantsList"><div class="appActionBar appActionBar--cozy appActionBar--flexible appForm--cozy verticalRhythm"><div class="appActionBar__inner"><div class="appActionBar__left"><div class="appActionBarFilters"><div class="appActionBarFilter"><span class="static" ng-show="storeVariantsListCtrl.isSearchQuery" translate="COMMON_SELECT_LIST_SHOWING_SELECTED" translate-values="{                \'numberOfSelected\': storeVariantsListCtrl.getNumberOfFilteredVariants(),                 \'numberOfAllSelectable\': storeVariantsListCtrl.getNumberOfAllVariants()               }"></span></div></div></div><div class="appActionBar__right"><div class="appActionBarFilters"><div class="appActionBarFilter appActionBarFilter--search"><unifi-search unifi-search-on-change="storeVariantsListCtrl.onSearchQueryChange(searchQuery)" unifi-search-is-cozy="true"></unifi-search></div></div></div></div></div><div ng-repeat="categoryName in storeVariantsListCtrl.categoriesOrder" ng-init="category = storeVariantsListCtrl.categories[categoryName]" ng-if="storeVariantsListCtrl.categories[categoryName].view.getModels().length"><div class="horizontalRhythm--cozy horizontalRhythmLeft--cozy verticalRhythm--cozy verticalRhythmTop--cozy" collection-view-sort="category.view"><div class="unifiStoreVariantsList__header"><div class="appSubHeading appSubHeading--comfy appSubHeading--standalone">{{categoryName}}<div class="unifiStoreVariantsList__headerSortNav floatRight visible--smUp"><table class="appTable appTable--cozy appTable--flexible noMargin"><thead class="noBorder"><tr><th class="unifiStoreVariantsList__headerSortNavLabel"><span translate="STORE_FILTER_SORT_BY"></span></th><th class="unifiStoreVariantsList__headerSortNavTitle" collection-view-sort-by="title"><span translate="STORE_FILTER_TITLE"></span></th><th class="unifiStoreVariantsList__headerSortNavPrice" collection-view-sort-by="price"><span translate="STORE_FILTER_PRICE"></span></th></tr></thead></table></div></div></div><div class="unifiStoreVariantsList__variants"><div class="unifiStoreVariantsList__variant" collection-view-repeat="variant in category.view.getModels()" ng-class="{            \'unifiStoreVariantsList__variant--isSale\': variant.isSale(),            \'unifiStoreVariantsList__variant--isBeta\': variant.isBeta(),            \'unifiStoreVariantsList__variant--isSoldOut\': variant.isAvailable()          }"><div class="unifiStoreVariantsList__marker unifiStoreVariantsList__marker--sale" ng-if="::variant.isSale()"><span translate="STORE_PRICE_LABEL_SALE"></span></div><div class="unifiStoreVariantsList__marker unifiStoreVariantsList__marker--beta" ng-if="::variant.isBeta()"><span translate="STORE_PRICE_LABEL_BETA"></span></div><div class="unifiStoreVariantsList__picture"><img ng-if="variant.getImageSrc()" ng-src="{{variant.getImageSrc()}}"></div><div class="unifiStoreVariantsList__title">{{::variant.getTitle()}}</div><div class="unifiStoreVariantsList__price"><div class="unifiStoreVariantsList__priceValue">{{storeVariantsListCtrl.getPrice(variant) | currency}}</div><div class="unifiStoreVariantsList__priceInfo unifiStoreVariantsList__priceInfo--price" ng-if="::variant.isSale()"><s>{{storeVariantsListCtrl.getPriceBefore(variant) | currency}}</s></div><div class="unifiStoreVariantsList__priceInfo unifiStoreVariantsList__priceInfo--msg" ng-if="::!variant.isAvailable()" translate="STORE_PRICE_LABEL_SOLD_OUT"></div></div><div class="unifiStoreVariantsList__buyButton">{{ quantity=storeVariantsListCtrl.getQuantity(variant) ; "" }}<ul class="buttonGroup buttonGroup--shrink appMainButtonGroup noMargin" ng-show="quantity &gt; 0" ng-class="{\'appMainButtonGroup--success\': variant.isAvailable() &amp;&amp; variant.isSale()}"><li class="button appMainButton unifiStoreVariantsList__buyButtonPlusMinus is-button-selected" ng-click="storeVariantsListCtrl.setQuantity(variant, quantity - 1)" ng-disabled="!variant.isAvailable()" ng-class="{                  \'appMainButton--success\': variant.isAvailable() &amp;&amp; variant.isSale(),                  \'appMainButton--primary\': variant.isAvailable() &amp;&amp; !variant.isSale()                }"><span class="icon icon ubnt-icon--minus"></span></li><li class="button appMainButton appMainButton--cozy unifiStoreVariantsList__buyButtonQuantity" ng-click="storeVariantsListCtrl.setQuantity(variant, quantity + 1)" ng-disabled="!variant.isAvailable()" ng-class="{                  \'appMainButton--success\': variant.isAvailable() &amp;&amp; variant.isSale(),                  \'appMainButton--primary\': variant.isAvailable() &amp;&amp; !variant.isSale()                }"><span>{{quantity}}</span></li><li class="button appMainButton unifiStoreVariantsList__buyButtonPlusMinus is-button-selected" ng-click="storeVariantsListCtrl.setQuantity(variant, quantity + 1)" ng-disabled="!variant.isAvailable()" ng-class="{                  \'appMainButton--success\': variant.isAvailable() &amp;&amp; variant.isSale(),                  \'appMainButton--primary\': variant.isAvailable() &amp;&amp; !variant.isSale()                }"><span class="icon icon ubnt-icon--plus"></span></li></ul><button class="appMainButton appMainButton--cozy unifiStoreVariantsList__buyButtonCartOnly" type="button" ng-show="quantity === 0" ng-click="storeVariantsListCtrl.addToCart(variant)" ng-disabled="!variant.isAvailable()" ng-class="{                \'appMainButton--success\': variant.isAvailable() &amp;&amp; variant.isSale(),                \'appMainButton--primary\': variant.isAvailable() &amp;&amp; !variant.isSale()              }"><span class="icon icon ubnt-icon--cart"></span></button></div></div></div></div></div><div class="appContainer appContainer--responsive appContainer--centered" ng-if="!storeVariantsListCtrl.getNumberOfFilteredVariants()"><div class="appRow--comfy"><div class="col--xs12"><div class="appInfoBox verticalRhythmTop--breezy" unifi-condensed="appInfoBox--cozy" unifi-condensed-off="appInfoBox--responsiveMdDown"><div class="appInfoBox__icon icon ubnt-icon--info"></div><div class="appInfoBox__content"><div class="appInfoBox__header" translate="STORE_VARIANTS_LIST_EMPTY_HEADER"></div><div class="appInfoBox__body"><p class="noMarginBottom" ng-if="storeVariantsListCtrl.getNumberOfAllVariants() === 0" translate="STORE_VARIANTS_LIST_EMPTY_NO_VARIANTS"></p><p class="noMarginBottom" ng-if="storeVariantsListCtrl.getNumberOfAllVariants() &gt; 0" translate="STORE_VARIANTS_LIST_EMPTY_NO_MATCHES"></p></div></div></div></div></div></div></div>'}},{"pug-runtime":23}],1596:[function(t,e,i){"use strict";angular.module("shared-unifi-store").constant("STORE_SETTINGS",{CURRENCY:"USD"})},{}],1597:[function(t,e,i){"use strict";t("./components.js"),angular.module("shared-unifi-store",["shared-unifi","shopify-buy"]),t("./components/storeCheckoutButton/StoreCheckoutButtonController.js"),t("./components/storeCheckoutButton/storeCheckoutButton.js"),t("./components/storeCheckoutList/StoreCheckoutListController.js"),t("./components/storeCheckoutList/storeCheckoutList.js"),t("./components/storeVariantsInCart/storeVariantsInCart.js"),t("./components/storeVariantsList/StoreVariantsListController.js"),t("./components/storeVariantsList/storeVariantsList.js"),t("./constants/STORE_SETTINGS.js"),t("./services/collections/ShopifyLineItemCollection.js"),t("./services/collections/ShopifyVariantCollection.js"),t("./services/comparators/storeLineItemsComparator.js"),t("./services/comparators/storeVariantsComparator.js"),t("./services/filters/StoreVariantsFilter.js"),t("./services/models/ShopifyLineItemModel.js"),t("./services/models/ShopifyVariantModel.js"),t("./services/shopifyLineItems.js"),t("./services/shopifyProvider.js"),t("./services/shopifyVariants.js")},{"./components.js":1584,"./components/storeCheckoutButton/StoreCheckoutButtonController.js":1585,"./components/storeCheckoutButton/storeCheckoutButton.js":1586,"./components/storeCheckoutList/StoreCheckoutListController.js":1588,"./components/storeCheckoutList/storeCheckoutList.js":1589,"./components/storeVariantsInCart/storeVariantsInCart.js":1591,"./components/storeVariantsList/StoreVariantsListController.js":1593,"./components/storeVariantsList/storeVariantsList.js":1594,"./constants/STORE_SETTINGS.js":1596,"./services/collections/ShopifyLineItemCollection.js":1598,"./services/collections/ShopifyVariantCollection.js":1599,"./services/comparators/storeLineItemsComparator.js":1600,"./services/comparators/storeVariantsComparator.js":1601,"./services/filters/StoreVariantsFilter.js":1602,"./services/models/ShopifyLineItemModel.js":1603,"./services/models/ShopifyVariantModel.js":1604,"./services/shopifyLineItems.js":1605,"./services/shopifyProvider.js":1606,"./services/shopifyVariants.js":1607}],1598:[function(t,e,i){"use strict";angular.module("shared-unifi-store").factory("ShopifyLineItemCollection",["CORSCollection","resolveMixin","ShopifyLineItemModel","shopifyProvider",function(t,e,i,n){return t.extend(e).extend({model:i,fetch:function(){return n.getShopClient().fetchRecentCart().then(function(t){this.cart=t;var e=t.lineItems;return this.reset(e),e}.bind(this))},getCart:function(){return this.cart}})}])},{}],1599:[function(t,e,i){"use strict";angular.module("shared-unifi-store").factory("ShopifyVariantCollection",["_","$q","CORSCollection","resolveMixin","ShopifyVariantModel","shopifyProvider",function(t,e,i,n,o,r){return i.extend(n).extend({model:o,fetch:function(){var i;try{i=r.getShopClient().fetchQueryProducts({tag:["unifi"],limit:500,page:1})}catch(t){i=e.when()}return i.then(function(e){var i;return i=t.pluck(e,"variants"),i=t.flatten(i),i=t.filter(i,function(t){var e=t.attrs.product.attrs.tags?t.attrs.product.attrs.tags.split(", "):[],i=-1!==e.indexOf("default-HIDE"),n=-1!==e.indexOf("unifiController-HIDE"),o=-1!==e.indexOf("beta");return!i&&!n&&!o}),this.reset(i),i}.bind(this))}})}])},{}],1600:[function(t,e,i){"use strict";angular.module("shared-unifi-store").service("storeLineItemsComparator",["collectionViewComparator",function(t){return{title:function(e,i){return t(e.getTitle(),i.getTitle())},price:function(e,i){var n=parseFloat(e.getPrice()),o=parseFloat(i.getPrice());return t(n,o)}}}])},{}],1601:[function(t,e,i){"use strict";angular.module("shared-unifi-store").service("storeVariantsComparator",["collectionViewComparator",function(t){return{title:function(e,i){return t(e.getTitle(),i.getTitle())},price:function(e,i){var n=parseFloat(e.getPrice()),o=parseFloat(i.getPrice());return t(n,o)}}}])},{}],1602:[function(t,e,i){"use strict";angular.module("shared-unifi-store").factory("StoreVariantsFilter",["BaseSearchableModelFilter",function(t){var e=function(){t.call(this),this.productType=null,this.searchableAttributes=["title","productTitle"]};return(e.prototype=Object.create(t.prototype)).constructor=e,e.prototype.test=function(e){return(!this.productType||this.productType===e.getProductType())&&t.prototype.test.call(this,e)},e.prototype.isFiltered=function(){return t.prototype.isFiltered.call(this)||this.hasProductTypeFilter()},e.prototype.setProductTypeFilter=function(t){this.productType=t?t.trim():""},e.prototype.getProductTypeFilter=function(){return this.productType},e.prototype.hasProductTypeFilter=function(){return null!==this.productType},e.prototype.clearProductTypeFilter=function(){this.productType=null},e}])},{}],1603:[function(t,e,i){"use strict";angular.module("shared-unifi-store").factory("ShopifyLineItemModel",["CORSModel",function(t){return t.extend({isSale:function(){var t=this.getPriceBefore();return parseFloat(this.get("price"))<parseFloat(t)},getTitle:function(){var t=[];return t.push(this.get("title")),"Default Title"!==this.get("variant_title")&&t.push(this.get("variant_title")),t.join(" ")},getPrice:function(){return this.get("price")},getLinePrice:function(){return this.get("line_price")},getPriceBefore:function(){return this.get("compare_at_price")||"0"},getLinePriceBefore:function(){return this.getPriceBefore()*this.getQuantity()},getQuantity:function(){return this.get("quantity")},getImageSrc:function(){return this.get("image").src}})}])},{}],1604:[function(t,e,i){"use strict";angular.module("shared-unifi-store").factory("ShopifyVariantModel",["CORSModel",function(t){return t.extend({getProduct:function(){return this.get("attrs").product},isAvailable:function(){return!!this.get("available")},isSale:function(){var t=this.getPriceBefore();return parseFloat(this.get("price"))<parseFloat(t)},isBeta:function(){return-1!==this.getTags().indexOf("beta")},getProductType:function(){return this.getProduct().attrs.product_type},getTags:function(){return this.getProduct().attrs.tags.split(", ")},getTitle:function(){var t=[];return t.push(this.get("productTitle")),"Default Title"!==this.get("title")&&t.push(this.get("title")),t.join(" ")},getPrice:function(){return this.get("price")},getPriceBefore:function(){return this.get("compareAtPrice")||"0"},getImageSrc:function(){return this.getProduct()&&this.getProduct().images.length&&this.getProduct().images[0].variants[4].src||""}})}])},{}],1605:[function(t,e,i){"use strict";angular.module("shared-unifi-store").service("shopifyLineItems",["$q","BaseCollectionRepository","ShopifyLineItemCollection",function(t,e,i){this.repository=new e(new i),this.getCart=function(){return this.repository.collection.cart},this.getByVariant=function(t){return this.repository.collection.find(function(e){return e.get("variant_id")===t.id})},this.add=function(e,i){return this.getCart().createLineItemsFromVariants({variant:e.attributes,quantity:i}).then(function(e){return this.repository.collection.fetch(),t.when(e)}.bind(this))},this.remove=function(e){return this.getCart().removeLineItem(e.id).then(function(e){return this.repository.collection.fetch(),t.when(e)}.bind(this))},this.removeAll=function(){return this.getCart().clearLineItems().then(function(e){return this.repository.collection.fetch(),t.when(e)}.bind(this))},this.setQuantity=function(e,i){return this.getCart().updateLineItem(e.id,i).then(function(n){if(0===i)this.repository.collection.fetch();else{var o=n.lineItems.find(function(t){return t.id===e.id});o&&(e.attributes.line_price=o.line_price,e.attributes.quantity=o.quantity)}return t.when(n)}.bind(this))},this.setQuantityByVariant=function(t,e){var i=this.getByVariant(t);return this.setQuantity(i,e)},this.getQuantity=function(t){var e=this.repository.collection.get(t.id);return e&&e.get("quantity")||0},this.getQuantityByVariant=function(t){var e=this.getByVariant(t);return e&&e.get("quantity")||0}}])},{}],1606:[function(t,e,i){"use strict";angular.module("shared-unifi-store").service("shopifyProvider",["shopifyBuy","ShopifyApiKey","ShopifyAppId","ShopifyDomain",function(t,e,i,n){this.shopClient=null,this.getShopClient=function(){return null===this.shopClient&&(this.shopClient=t.buildClient({apiKey:e,domain:n,appId:i})),this.shopClient}}])},{}],1607:[function(t,e,i){"use strict";angular.module("shared-unifi-store").service("shopifyVariants",["BaseCollectionRepository","ShopifyVariantCollection",function(t,e){this.repository=new t(new e)}])},{}],1608:[function(t,e,i){"use strict";angular.module("unifi-terminal").constant("TERMINAL_COMMUNICATION_EVENTS",{TERMINAL_CHANNEL_CLOSED:"TERMINAL_CHANNEL_CLOSED",TERMINAL_CHANNEL_MESSAGE:"TERMINAL_CHANNEL_MESSAGE"})},{}],1609:[function(t,e,i){"use strict";angular.module("unifi-terminal").constant("TERMINAL_CONNECTION_EVENTS",{TERMINAL_CONNECTING:"TERMINAL_CONNECTING",TERMINAL_CONNECTED:"TERMINAL_CONNECTED",TERMINAL_CONNECTION_ERROR:"TERMINAL_CONNECTION_ERROR"})},{}],1610:[function(t,e,i){"use strict";angular.module("unifi-terminal").constant("TERMINAL_CONNECTION_EVENTS_TRANSLATION_KEYS",{TERMINAL_CONNECTING:"DEVICE_TERMINAL_CONNECTING",TERMINAL_CONNECTED:"DEVICE_TERMINAL_CONNECTED",TERMINAL_CONNECTION_ERROR:"DEVICE_TERMINAL_CONNECTION_ERROR",TERMINAL_CHANNEL_CLOSED:"DEVICE_TERMINAL_CHANNEL_CLOSED",TERMINAL_CHANNEL_MESSAGE:"DEVICE_TERMINAL_CHANNEL_MESSAGE",WEBRTC_CREATE_ANSWER:"DEVICE_TERMINAL_WEBRTC_CREATE_ANSWER",WEBRTC_CREATE_ANSWER_ERROR:"DEVICE_TERMINAL_WEBRTC_CREATE_ANSWER_ERROR",WEBRTC_CREATE_OFFER:"DEVICE_TERMINAL_WEBRTC_CREATE_OFFER",WEBRTC_CREATE_OFFER_ERROR:"DEVICE_TERMINAL_WEBRTC_CREATE_OFFER_ERROR",WEBRTC_SDP_REQUESTING:"DEVICE_TERMINAL_WEBRTC_SDP_REQUESTING",WEBRTC_SDP_SENDING:"DEVICE_TERMINAL_WEBRTC_SDP_SENDING",WEBRTC_SDP_RECEIVED:"DEVICE_TERMINAL_WEBRTC_SDP_RECEIVED",WEBRTC_INITIALIZED:"DEVICE_TERMINAL_WEBRTC_INITIALIZED",WEBRTC_CONNECTED:"DEVICE_TERMINAL_WEBRTC_CONNECTED",WEBRTC_CONNECTED_ERROR:"DEVICE_TERMINAL_WEBRTC_CONNECTED_ERROR"})},{}],1611:[function(t,e,i){"use strict";angular.module("unifi-terminal").constant("TERMINAL_DEFAULT_COLORS",{BACKGROUND:"#ffffff",FOREGROUND:"#000000",SELECTION:"rgba(0, 0, 0, 0.3)",FONT:"34m"})},{}],1612:[function(t,e,i){"use strict";angular.module("unifi-terminal").constant("TERMINAL_DEFAULT_SIZE",{COLS:120,ROWS:24})},{}],1613:[function(t,e,i){"use strict";t("../unifi-webrtc/main"),angular.module("unifi-terminal",["unifi-webrtc"]),t("./constants/TERMINAL_COMMUNICATION_EVENTS.js"),t("./constants/TERMINAL_CONNECTION_EVENTS.js"),t("./constants/TERMINAL_CONNECTION_EVENTS_TRANSLATION_KEYS.js"),t("./constants/TERMINAL_DEFAULT_COLORS.js"),t("./constants/TERMINAL_DEFAULT_SIZE.js"),t("./services/SshTerminal.js"),t("./services/Terminal.js")},{"../unifi-webrtc/main":1616,"./constants/TERMINAL_COMMUNICATION_EVENTS.js":1608,"./constants/TERMINAL_CONNECTION_EVENTS.js":1609,"./constants/TERMINAL_CONNECTION_EVENTS_TRANSLATION_KEYS.js":1610,"./constants/TERMINAL_DEFAULT_COLORS.js":1611,"./constants/TERMINAL_DEFAULT_SIZE.js":1612,"./services/SshTerminal.js":1614,"./services/Terminal.js":1615}],1614:[function(t,e,i){"use strict";angular.module("unifi-terminal").factory("SshTerminal",["$q","$translate","eventBusService","Terminal","TERMINAL_DEFAULT_COLORS","TERMINAL_COMMUNICATION_EVENTS","TERMINAL_CONNECTION_EVENTS","TERMINAL_DEFAULT_SIZE",function(t,e,i,n,o,r,a,s){var l=function(t,e,i){this.device=t,this.element=e,this.connectorPoll=i};return l.prototype.open=function(){return this.terminal=new n({cols:s.COLS,rows:s.ROWS,useStyle:!0,screenKeys:!0,cursorBlink:!1,fontSize:11,theme:{background:o.BACKGROUND,foreground:o.FOREGROUND,selection:o.SELECTION,cursor:o.FOREGROUND}}),this.eventBus=i.obtainEventBusService(this.device.id),this.eventBus.emit(a.TERMINAL_CONNECTING),this.connectorPoll.establishConnection(this.device.get("mac"),this.eventBus).then(function(t){return this.initTerminal(),t.dataChannelDeferred.promise.then(function(t){t.options&&t.options.messages&&t.options.messages.forEach(function(t){this.terminal.write(t)}.bind(this)),this.setupTerminalCommunication(t.channel),this.eventBus.emit(a.TERMINAL_CONNECTED)}.bind(this))}.bind(this)).catch(function(e){return this.eventBus.emit(a.TERMINAL_CONNECTION_ERROR,e),t.reject("ConnectionError")}.bind(this))},l.prototype.onmessage=function(t,e){this.terminal&&this.terminal.write(e)},l.prototype.onclose=function(){this.terminal&&(this.terminal.write("\r\n"),this.terminal.write("["+o.FONT+e.instant("UNIFI_TERMINAL_DEVICE")+" "+this.device.getDisplayName()+": "+e.instant("UNIFI_TERMINAL_CONNECTION_DROPPED")+"[m\r\n"))},l.prototype.setupTerminalCommunication=function(t){this.eventBus.on(r.TERMINAL_CHANNEL_MESSAGE,this.onmessage.bind(this)),this.eventBus.on(r.TERMINAL_CHANNEL_CLOSED,this.onclose.bind(this)),this.terminal.on("data",function(e){"open"===t.rtcDataChannel.readyState&&t.send(e)})},l.prototype.initTerminal=function(){this.terminal.open(this.element),this.terminal.write("["+o.FONT+e.instant("UNIFI_TERMINAL_DEVICE")+" "+this.device.getDisplayName()+": "+e.instant("UNIFI_TERMINAL_CONNECTED")+"[m\r\n")},l.prototype.close=function(){this.connectorPoll.releaseConnector(this.device.get("mac")),this.terminal&&this.terminal.destroy()},l.prototype.copyContent=function(){if(this.terminal.hasSelection())return this.terminal.getSelection();this.terminal.selectAll();var t=this.terminal.getSelection();return this.terminal.clearSelection(),t},l}])},{}],1615:[function(t,e,i){"use strict";angular.module("unifi-terminal").service("Terminal",[function(){return t("xterm").Terminal}])},{xterm:48}],1616:[function(t,e,i){"use strict";angular.module("unifi-webrtc",[]),t("./services/arrayBufferToStringConverter.js"),t("./services/eventBusService.js")},{"./services/arrayBufferToStringConverter.js":1617,"./services/eventBusService.js":1618}],1617:[function(t,e,i){"use strict";angular.module("unifi-webrtc").service("arrayBufferToStringConverter",[function(){this.convert=function(t){var e=new DataView(t);return new window.TextDecoder("utf-8").decode(e)}}])},{}],1618:[function(t,e,i){"use strict";angular.module("unifi-webrtc").service("eventBusService",[function(){function t(){this.listeners={}}t.prototype.on=function(t,e){var i=this.listeners[t];i||(i=[],this.listeners[t]=i),i.push(e)},t.prototype.off=function(t){delete this.listeners[t]},t.prototype.emit=function(t,e){var i=this.listeners[t];i&&i.forEach(function(i){i(t,e)})};var e={};this.obtainEventBusService=function(i){var n=e[i];return n||(n=new t,e[i]=n),n}}])},{}],1619:[function(t,e,i){"use strict";angular.module("unifi-zopim").value("ZOPIM_ID","2Py4AB4RxBBmRdbSCUfXLEGB4dT4YLxm")},{}],1620:[function(t,e,i){"use strict";angular.module("unifi-zopim").constant("ZOPIM_DEFAULTS",{DEPARTMENT:"UniFi Controller"})},{}],1621:[function(t,e,i){"use strict";angular.module("unifi-zopim").constant("ZOPIM_EVENTS",{OPEN_ZOPIM:"open-zopim"})},{}],1622:[function(t,e,i){"use strict";angular.module("unifi-zopim").directive("zopimSideNav",["$interval","$q","$timeout","$window","zopim","ZOPIM_EVENTS",function(e,i,n,o,r,a){return{template:t("./zopimSideNav.pug")(),restrict:"E",replace:!0,scope:{label:"=zopimSideNavLabel",zopimConfig:"=?zopimSideNavConfig",unifiStyle:"=?zopimSideNavUnifiStyle"},link:function(t){t.zopim=r;var o,s=t.zopimConfig||{},l=function(){return o||(o=i.defer(),r.initialize(s),t.zopimLoadingInterval=e(function(){2===document.querySelectorAll(".zopim iframe").length&&r.getLivechat()&&(e.cancel(t.zopimLoadingInterval),t.zopimLoadingInterval=void 0,o.resolve())},100)),o.promise};t.$on(a.OPEN_ZOPIM,function(){l().then(function(){r.getDisplay()||(r.toggle(),t.applyStyles())})}),s.initializeOnStart&&n(function(){l().then(function(){r.getDisplay()||(r.toggle(),t.applyStyles())})},s.initializeOnStart),t.toggle=function(){l().then(function(){r.toggle(),t.applyStyles()})},t.applyStyles=function(){if(t.unifiStyle){var e=document.querySelectorAll(".zopim iframe")[1];if(e&&!t.stylesApplied){var i=e.contentDocument?e.contentDocument:e.contentWindow.document,n=[".meshim_widget_components_ChatWindow {color: #ffffff}",".meshim_widget_components_chatWindow_MainStack {box-shadow: none}",".meshim_widget_components_chatWindow_MainStack.ms_bl {border-radius: 0}",".meshim_widget_widgets_TitleBar {background: none; height: auto;}",".meshim_widget_widgets_TitleBar.bl {border-radius: 0}",".meshim_widget_widgets_TitleBar .border_overlay {display: none}",".meshim_widget_widgets_TitleBar .title {line-height: normal; text-align: left; font-size: 16px; font-weight: 300; text-transform: uppercase}",".meshim_widget_widgets_TitleBar.ltr .title {padding: 15px 40px 0 20px;}",".meshim_widget_widgets_TitleBar.rtl .title {padding: 15px 20px 0 40px;}",".meshim_widget_widgets_titleBar_MinimizeButton {text-align: center; vertical-align: middle}",".meshim_widget_widgets_titleBar_MinimizeButton .bar {width: auto; height: auto; margin: auto; color: white; background: none; font-size: 10px}",'.meshim_widget_widgets_titleBar_MinimizeButton .bar:before {content: "\\2573"; display: inline-block;}',".meshim_widget_widgets_BorderOverlay {display: none}",".meshim_widget_widgets_TitleBar .icons > div:first-child {display: none}",".meshim_widget_components_chatWindow_PreChatOfflineForm {background: rgba(30, 36, 44, 0.95); border-radius: 0px}",".meshim_widget_components_chatWindow_PreChatOfflineForm.has_title_bar {padding-top: 50px}",".meshim_widget_components_chatWindow_PreChatOfflineForm .meshim_widget_widgets_FakeInput {color: #666}",".meshim_widget_widgets_ActionBar {background: none}",".meshim_widget_widgets_ActionBar .border_overlay {border: none}",".meshim_widget_widgets_actionBar_DefaultActionBar {background: none}",".meshim_widget_components_chatWindow_PreChatOfflineForm .container {background: none; border: none}",'.meshim_widget_Widget input:not([type="submit"]) {background: rgba(15, 20, 23, 0.8); border-radius: 3px; border: none; color: #ddd}',".meshim_widget_Widget textarea {background: rgba(15, 20, 23, 0.8); border-radius: 3px; border: none; color: #ddd;}",".meshim_widget_Widget .select_container {background: rgba(15, 20, 23, 0.8); border-radius: 3px; border: none; color: #ddd;}",".meshim_widget_widgets_FakeInput {background: rgba(15, 20, 23, 0.8); border-radius: 3px; border: none; color: #ddd; box-shadow: none !important;}",".meshim_widget_widgets_Bottom {border: none; padding: 10px 20px 0}",'.meshim_widget_Widget input[type="submit"],',".meshim_widget_widgets_Button:active,",".meshim_widget_widgets_Button:focus,",".meshim_widget_widgets_Button:hover,",".meshim_widget_widgets_Button {background: #00a0df; border-color: #0099d5; color: #ffffff; box-shadow: none}",'.meshim_widget_Widget input[type="submit"],',".meshim_widget_widgets_Button {border-radius: 3px; border: 1px solid #0099d5; text-transform: uppercase; font-size: 11px; padding: 7px 20px !important; font-weight: 300}",".meshim_widget_widgets_Button.secondary:active,",".meshim_widget_widgets_Button.secondary:focus,",".meshim_widget_widgets_Button.secondary:hover,",".meshim_widget_widgets_Button.secondary {background: #31373a; border: 1px solid #2c3234}",".meshim_widget_widgets_chatLogRenderer_Button.secondary:active,",".meshim_widget_widgets_chatLogRenderer_Button.secondary:focus,",".meshim_widget_widgets_chatLogRenderer_Button.secondary:hover,",".meshim_widget_widgets_chatLogRenderer_Button.secondary {background: #31373a; border: 1px solid #2c3234; box-shadow: none}",".meshim_widget_components_chatWindow_ChatPanel {background: rgba(30, 36, 44, 0.95); border-radius: 0px}",".meshim_widget_components_chatWindow_ChatPanel .meshim_widget_widgets_TitleBar .title {display: none}",".meshim_widget_components_chatWindow_ChatPanel .chat_panel_container: {padding-bottom: 50px}",".meshim_widget_components_chatWindow_ChatPanel .chat_panel_container .served_by_container {border-bottom: 1px solid #3c5f87}",".meshim_widget_components_chatWindow_ChatPanel .container {background: none; border: none}",".meshim_widget_components_chatWindow_ChatPanel .meshim_widget_widgets_TitleBar {height: 24px}",".meshim_widget_widgets_chatLogRenderer_ChatBubble,",".meshim_widget_components_chatWindow_chatPanel_ChatLog .visitor .chat_bubble,",".meshim_widget_components_chatWindow_chatPanel_ChatLog .agent .chat_bubble {background: none; border: none; padding-left: 0; padding-right: 0; padding-top: 0; margin: 0}",".meshim_widget_components_chatWindow_chatPanel_ChatLog .visitor .chat_bubble {float: left !important; text-align: left}",".meshim_widget_components_chatWindow_chatPanel_ChatLog .agent .chat_bubble {float: right !important; text-align: right}",".meshim_widget_widgets_chatLogRenderer_BubbleAvatarRenderer .avatar_cell {display: none}",".meshim_widget_widgets_chatLogRenderer_ChatBubble .arrow_border {display: none}",".meshim_widget_widgets_chatLogRenderer_ChatBubble .arrow_background {display: none}",".meshim_widget_widgets_chatLogRenderer_ChatName .text_name {text-transform: uppercase; color: #888888; font-size: 0.8em}",".meshim_widget_components_chatWindow_chatPanel_ChatLog .group_head,",".meshim_widget_components_chatWindow_chatPanel_ChatLog .group_children.bubble_avatar,",".meshim_widget_components_chatWindow_chatPanel_ChatLogContainer .group_head {margin-top: 0}",".meshim_widget_components_chatWindow_chatPanel_ChatTextArea {border-top: none; padding-bottom: 5px}",".meshim_widget_widgets_chatLogRenderer_SystemLogRenderer.system_msg {margin: 10px 0; padding: 5px; background: rgba(0,0,0,0.2)}",".meshim_widget_widgets_AgentProfileCard .profile_name {font-size: 1.3em; line-height: 1em; color: white}",".meshim_widget_widgets_ScrollableFrame .scrollable_inner {padding-top: 0px !important}",".meshim_widget_components_chatWindow_AboutPanel {background: rgba(30, 36, 44, 0.95); border-radius: 0px}",".meshim_widget_components_chatWindow_AboutPanel .container {background: none; border: none}",".meshim_widget_components_chatWindow_AboutPanel .title {display: none}",".meshim_widget_components_chatWindow_AgentList {background: rgba(30, 36, 44, 0.95); border-radius: 0px; padding-bottom: 24px}",".meshim_widget_components_chatWindow_AgentList .container {background: none; border: none}",".meshim_widget_components_chatWindow_AgentList .title {display: none}",".meshim_widget_components_chatWindow_AgentList .profile_name {font-size: 1.3em; line-height: 1em; color: white}",".meshim_widget_components_chatWindow_RatingPanel {background: rgba(30, 36, 44, 0.95); border-radius: 0px}",".meshim_widget_components_chatWindow_RatingPanel .container {background: none; border: none}",".meshim_widget_components_chatWindow_RatingPanel .title {display: none}","button.wide,",'input[type="button"].wide,','input[type="submit"].wide {width: auto !important}'].join("\n");i.querySelectorAll("head").forEach(function(t){var e=document.createElement("style");e.type="text/css",e.name="ubntCss",e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),t.appendChild(e)}),r.getLivechat().theme.setColor("#111111"),r.getLivechat().theme.setTheme("simple"),t.stylesApplied=!0}e&&(e.parentElement.style.borderRadius="5px")}}}}}])},{"./zopimSideNav.pug":1623}],1623:[function(t,e,i){t("pug-runtime");e.exports=function(t){var e="";return e+='<div class="ubntNavigation__item" ng-class="{\'is-item-selected\' : zopim.getDisplay() }" ng-click="toggle()"><aura-icon aura-icon="\'chat\'" aura-icon-class="[\'ubntIcon\', \'ubntIcon--navigation\']"></aura-icon><div class="ubntTooltip ubntTooltip--navigation" ng-show="!zopim.getDisplay()" translate="{{::label}}"></div></div>'}},{"pug-runtime":23}],1624:[function(t,e,i){"use strict";angular.module("unifi-zopim",["pascalprecht.translate","unifi"]),t("./config/config.js"),t("./constants/ZOPIM_DEFAULTS.js"),t("./constants/ZOPIM_EVENTS.js"),t("./directives/zopimSideNav.js"),t("./services/zopim.js")},{"./config/config.js":1619,"./constants/ZOPIM_DEFAULTS.js":1620,"./constants/ZOPIM_EVENTS.js":1621,"./directives/zopimSideNav.js":1622,"./services/zopim.js":1625}],1625:[function(t,e,i){"use strict";angular.module("unifi-zopim").provider("zopim",function(){var t=function(t,e,i,n){t.livechat.hideAll(),t.livechat.button.setPosition(i.position||"bl"),t.livechat.window.setPosition(i.position||"bl"),t.livechat.window.setOffsetVertical(i.offsetVertical||20),t.livechat.window.setOffsetHorizontal(i.offsetHorizontal||55),t.livechat.window.setTitle(i.title||e.instant("ZOPIM_TITLE")),t.livechat.window.onHide(function(){t.livechat.hideAll()}),t.livechat.departments.setVisitorDepartment(i.department||n.DEPARTMENT),t.livechat.prechatForm.setGreetings(i.greetings||e.instant("ZOPIM_GREETINGS")),i.tags&&t.livechat.addTags(i.tags)};this.configureOnReady=function(e){t=e},this.$get=["$translate","$window","ZOPIM_ID","ZOPIM_DEFAULTS",function(e,i,n,o){function r(){}return r.prototype.initialize=function(r){var a,s,l,c,u;i.$zopim||(a=i.document,s="script",l=i.$zopim=function(t){l._.push(t)},c=l.s=a.createElement(s),u=a.getElementsByTagName(s)[0],l.set=function(t){l.set._.push(t)},l._=[],l.set._=[],c.async=!0,c.setAttribute("charset","utf-8"),c.src="//v2.zopim.com/?"+n,l.t=+new Date,c.type="text/javascript",u.parentNode.insertBefore(c,u)),i.$zopim&&i.$zopim(function(){t(i.$zopim,e,r,o)})},r.prototype.getLivechat=function(){return i.$zopim&&i.$zopim.livechat},r.prototype.getDisplay=function(){var t=this.getLivechat();return t&&t.window.getDisplay()},r.prototype.toggle=function(){var t=this.getLivechat();t&&(this.getDisplay()?t.hideAll():t.window.show())},new r}]})},{}]},{},[914]);